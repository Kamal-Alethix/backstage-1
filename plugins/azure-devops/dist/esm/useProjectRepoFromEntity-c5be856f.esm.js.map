{"version":3,"file":"useProjectRepoFromEntity-c5be856f.esm.js","sources":["../../src/hooks/useProjectRepoFromEntity.ts"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport { AZURE_DEVOPS_REPO_ANNOTATION } from '../constants';\n\nexport function useProjectRepoFromEntity(entity: Entity): {\n  project: string;\n  repo: string;\n} {\n  const [project, repo] = (\n    entity.metadata.annotations?.[AZURE_DEVOPS_REPO_ANNOTATION] ?? ''\n  ).split('/');\n\n  if (!project && !repo) {\n    throw new Error(\n      'Value for annotation dev.azure.com/project-repo was not in the correct format: <project-name>/<repo-name>',\n    );\n  }\n\n  if (!project) {\n    throw new Error(\n      'Project Name for annotation dev.azure.com/project-repo was not found; expected format is: <project-name>/<repo-name>',\n    );\n  }\n\n  if (!repo) {\n    throw new Error(\n      'Repo Name for annotation dev.azure.com/project-repo was not found; expected format is: <project-name>/<repo-name>',\n    );\n  }\n\n  return { project, repo };\n}\n"],"names":[],"mappings":";;AACO,SAAS,wBAAwB,CAAC,MAAM,EAAE;AACjD,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;AACb,EAAE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,4BAA4B,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AACvJ,EAAE,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,EAAE;AACzB,IAAI,MAAM,IAAI,KAAK,CAAC,2GAA2G,CAAC,CAAC;AACjI,GAAG;AACH,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,MAAM,IAAI,KAAK,CAAC,sHAAsH,CAAC,CAAC;AAC5I,GAAG;AACH,EAAE,IAAI,CAAC,IAAI,EAAE;AACb,IAAI,MAAM,IAAI,KAAK,CAAC,mHAAmH,CAAC,CAAC;AACzI,GAAG;AACH,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAC3B;;;;"}