{"version":3,"file":"index-00a5c1e5.esm.js","sources":["../../src/constants.ts","../../src/routes.ts","../../src/api/AzureDevOpsClient.ts","../../src/api/AzureDevOpsApi.ts","../../src/plugin.ts","../../src/components/AzurePullRequestsIcon/AzurePullRequestsIcon.tsx","../../src/components/PullRequestsPage/lib/filters/types.ts","../../src/components/PullRequestsPage/lib/filters/allFilter.ts","../../src/utils/arrayHas.ts","../../src/utils/equalsIgnoreCase.ts","../../src/components/PullRequestsPage/lib/filters/assignedToTeamFilter.ts","../../src/components/PullRequestsPage/lib/filters/assignedToTeamsFilter.ts","../../src/components/PullRequestsPage/lib/filters/assignedToUserFilter.ts","../../src/components/PullRequestsPage/lib/filters/createdByTeamFilter.ts","../../src/components/PullRequestsPage/lib/filters/createdByTeamsFilter.ts","../../src/components/PullRequestsPage/lib/filters/createdByUserFilter.ts","../../src/components/PullRequestsPage/lib/filters/createFilter.ts","../../src/components/PullRequestsPage/lib/utils.ts","../../src/components/PullRequestsPage/lib/AutoCompleteIcon/AutoCompleteIcon.tsx","../../src/components/PullRequestsPage/lib/PullRequestCard/PullRequestCardPolicy.tsx","../../src/components/PullRequestsPage/lib/PullRequestCard/PullRequestCardPolicies.tsx","../../src/components/PullRequestsPage/lib/PullRequestCard/PullRequestCardReviewer.tsx","../../src/components/PullRequestsPage/lib/PullRequestCard/PullRequestCardReviewers.tsx","../../src/components/PullRequestsPage/lib/PullRequestCard/PullRequestCard.tsx","../../src/components/PullRequestsPage/lib/PullRequestGridColumn/PullRequestGridColumn.tsx","../../src/components/PullRequestsPage/lib/PullRequestGrid/PullRequestGrid.tsx","../../src/hooks/useDashboardPullRequests.ts","../../src/hooks/useUserEmail.ts","../../src/hooks/useUserTeamIds.ts","../../src/components/PullRequestsPage/lib/hooks/useFilterProcessor.ts","../../src/components/PullRequestsPage/PullRequestsPage.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const AZURE_DEVOPS_BUILD_DEFINITION_ANNOTATION =\n  'dev.azure.com/build-definition';\nexport const AZURE_DEVOPS_PROJECT_ANNOTATION = 'dev.azure.com/project';\nexport const AZURE_DEVOPS_REPO_ANNOTATION = 'dev.azure.com/project-repo';\nexport const AZURE_DEVOPS_DEFAULT_TOP: number = 10;\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createRouteRef } from '@backstage/core-plugin-api';\n\nexport const azurePullRequestDashboardRouteRef = createRouteRef({\n  id: 'azure-pull-request-dashboard',\n});\n\nexport const azurePipelinesEntityContentRouteRef = createRouteRef({\n  id: 'azure-pipelines-entity-content',\n});\n\nexport const azureGitTagsEntityContentRouteRef = createRouteRef({\n  id: 'azure-git-tags-entity-content',\n});\n\nexport const azurePullRequestsEntityContentRouteRef = createRouteRef({\n  id: 'azure-pull-requests-entity-content',\n});\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BuildRun,\n  BuildRunOptions,\n  DashboardPullRequest,\n  GitTag,\n  PullRequest,\n  PullRequestOptions,\n  RepoBuild,\n  RepoBuildOptions,\n  Team,\n} from '@backstage/plugin-azure-devops-common';\nimport { DiscoveryApi, IdentityApi } from '@backstage/core-plugin-api';\n\nimport { AzureDevOpsApi } from './AzureDevOpsApi';\nimport { ResponseError } from '@backstage/errors';\n\nexport class AzureDevOpsClient implements AzureDevOpsApi {\n  private readonly discoveryApi: DiscoveryApi;\n  private readonly identityApi: IdentityApi;\n\n  public constructor(options: {\n    discoveryApi: DiscoveryApi;\n    identityApi: IdentityApi;\n  }) {\n    this.discoveryApi = options.discoveryApi;\n    this.identityApi = options.identityApi;\n  }\n\n  public async getRepoBuilds(\n    projectName: string,\n    repoName: string,\n    options?: RepoBuildOptions,\n  ): Promise<{ items: RepoBuild[] }> {\n    const queryString = new URLSearchParams();\n    if (options?.top) {\n      queryString.append('top', options.top.toString());\n    }\n    const urlSegment = `repo-builds/${encodeURIComponent(\n      projectName,\n    )}/${encodeURIComponent(repoName)}?${queryString}`;\n\n    const items = await this.get<RepoBuild[]>(urlSegment);\n    return { items };\n  }\n\n  public async getGitTags(\n    projectName: string,\n    repoName: string,\n  ): Promise<{ items: GitTag[] }> {\n    const urlSegment = `git-tags/${encodeURIComponent(\n      projectName,\n    )}/${encodeURIComponent(repoName)}`;\n\n    const items = await this.get<GitTag[]>(urlSegment);\n    return { items };\n  }\n\n  public async getPullRequests(\n    projectName: string,\n    repoName: string,\n    options?: PullRequestOptions,\n  ): Promise<{ items: PullRequest[] }> {\n    const queryString = new URLSearchParams();\n    if (options?.top) {\n      queryString.append('top', options.top.toString());\n    }\n    if (options?.status) {\n      queryString.append('status', options.status.toString());\n    }\n    const urlSegment = `pull-requests/${encodeURIComponent(\n      projectName,\n    )}/${encodeURIComponent(repoName)}?${queryString}`;\n\n    const items = await this.get<PullRequest[]>(urlSegment);\n    return { items };\n  }\n\n  public getDashboardPullRequests(\n    projectName: string,\n  ): Promise<DashboardPullRequest[]> {\n    return this.get<DashboardPullRequest[]>(\n      `dashboard-pull-requests/${projectName}?top=100`,\n    );\n  }\n\n  public getAllTeams(): Promise<Team[]> {\n    return this.get<Team[]>('all-teams');\n  }\n\n  public getUserTeamIds(userId: string): Promise<string[]> {\n    return this.get<string[]>(`users/${userId}/team-ids`);\n  }\n\n  public async getBuildRuns(\n    projectName: string,\n    repoName?: string,\n    definitionName?: string,\n    options?: BuildRunOptions,\n  ): Promise<{ items: BuildRun[] }> {\n    const queryString = new URLSearchParams();\n    if (repoName) {\n      queryString.append('repoName', repoName);\n    }\n    if (definitionName) {\n      queryString.append('definitionName', definitionName);\n    }\n    if (options?.top) {\n      queryString.append('top', options.top.toString());\n    }\n    const urlSegment = `builds/${encodeURIComponent(\n      projectName,\n    )}?${queryString}`;\n    const items = await this.get<BuildRun[]>(urlSegment);\n    return { items };\n  }\n\n  private async get<T>(path: string): Promise<T> {\n    const baseUrl = `${await this.discoveryApi.getBaseUrl('azure-devops')}/`;\n    const url = new URL(path, baseUrl);\n\n    const { token: idToken } = await this.identityApi.getCredentials();\n    const response = await fetch(url.toString(), {\n      headers: idToken ? { Authorization: `Bearer ${idToken}` } : {},\n    });\n\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n\n    return response.json() as Promise<T>;\n  }\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BuildRun,\n  BuildRunOptions,\n  DashboardPullRequest,\n  GitTag,\n  PullRequest,\n  PullRequestOptions,\n  RepoBuild,\n  RepoBuildOptions,\n  Team,\n} from '@backstage/plugin-azure-devops-common';\n\nimport { createApiRef } from '@backstage/core-plugin-api';\n\nexport const azureDevOpsApiRef = createApiRef<AzureDevOpsApi>({\n  id: 'plugin.azure-devops.service',\n});\n\nexport interface AzureDevOpsApi {\n  getRepoBuilds(\n    projectName: string,\n    repoName: string,\n    options?: RepoBuildOptions,\n  ): Promise<{ items: RepoBuild[] }>;\n\n  getGitTags(\n    projectName: string,\n    repoName: string,\n  ): Promise<{ items: GitTag[] }>;\n\n  getPullRequests(\n    projectName: string,\n    repoName: string,\n    options?: PullRequestOptions,\n  ): Promise<{ items: PullRequest[] }>;\n\n  getDashboardPullRequests(\n    projectName: string,\n  ): Promise<DashboardPullRequest[]>;\n\n  getAllTeams(): Promise<Team[]>;\n\n  getUserTeamIds(userId: string): Promise<string[]>;\n\n  getBuildRuns(\n    projectName: string,\n    repoName?: string,\n    definitionName?: string,\n    options?: BuildRunOptions,\n  ): Promise<{ items: BuildRun[] }>;\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AZURE_DEVOPS_BUILD_DEFINITION_ANNOTATION,\n  AZURE_DEVOPS_PROJECT_ANNOTATION,\n  AZURE_DEVOPS_REPO_ANNOTATION,\n} from './constants';\nimport {\n  azurePipelinesEntityContentRouteRef,\n  azurePullRequestDashboardRouteRef,\n  azureGitTagsEntityContentRouteRef,\n  azurePullRequestsEntityContentRouteRef,\n} from './routes';\nimport {\n  createApiFactory,\n  createPlugin,\n  createRoutableExtension,\n  discoveryApiRef,\n  identityApiRef,\n} from '@backstage/core-plugin-api';\n\nimport { AzureDevOpsClient } from './api/AzureDevOpsClient';\nimport { Entity } from '@backstage/catalog-model';\nimport { azureDevOpsApiRef } from './api/AzureDevOpsApi';\n\nexport const isAzureDevOpsAvailable = (entity: Entity) =>\n  Boolean(entity.metadata.annotations?.[AZURE_DEVOPS_REPO_ANNOTATION]);\n\nexport const isAzurePipelinesAvailable = (entity: Entity) =>\n  Boolean(entity.metadata.annotations?.[AZURE_DEVOPS_REPO_ANNOTATION]) ||\n  (Boolean(entity.metadata.annotations?.[AZURE_DEVOPS_PROJECT_ANNOTATION]) &&\n    Boolean(\n      entity.metadata.annotations?.[AZURE_DEVOPS_BUILD_DEFINITION_ANNOTATION],\n    ));\n\nexport const azureDevOpsPlugin = createPlugin({\n  id: 'azureDevOps',\n  apis: [\n    createApiFactory({\n      api: azureDevOpsApiRef,\n      deps: { discoveryApi: discoveryApiRef, identityApi: identityApiRef },\n      factory: ({ discoveryApi, identityApi }) =>\n        new AzureDevOpsClient({ discoveryApi, identityApi }),\n    }),\n  ],\n});\n\nexport const AzurePullRequestsPage = azureDevOpsPlugin.provide(\n  createRoutableExtension({\n    name: 'AzurePullRequestsPage',\n    component: () =>\n      import('./components/PullRequestsPage').then(m => m.PullRequestsPage),\n    mountPoint: azurePullRequestDashboardRouteRef,\n  }),\n);\n\nexport const EntityAzurePipelinesContent = azureDevOpsPlugin.provide(\n  createRoutableExtension({\n    name: 'EntityAzurePipelinesContent',\n    component: () =>\n      import('./components/EntityPageAzurePipelines').then(\n        m => m.EntityPageAzurePipelines,\n      ),\n    mountPoint: azurePipelinesEntityContentRouteRef,\n  }),\n);\n\nexport const EntityAzureGitTagsContent = azureDevOpsPlugin.provide(\n  createRoutableExtension({\n    name: 'EntityAzureGitTagsContent',\n    component: () =>\n      import('./components/EntityPageAzureGitTags').then(\n        m => m.EntityPageAzureGitTags,\n      ),\n    mountPoint: azureGitTagsEntityContentRouteRef,\n  }),\n);\n\nexport const EntityAzurePullRequestsContent = azureDevOpsPlugin.provide(\n  createRoutableExtension({\n    name: 'EntityAzurePullRequestsContent',\n    component: () =>\n      import('./components/EntityPageAzurePullRequests').then(\n        m => m.EntityPageAzurePullRequests,\n      ),\n    mountPoint: azurePullRequestsEntityContentRouteRef,\n  }),\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SvgIcon, SvgIconProps } from '@material-ui/core';\n\nimport React from 'react';\n\nexport const AzurePullRequestsIcon = (props: SvgIconProps) => (\n  <SvgIcon {...props} viewBox=\"0 0 512 512\">\n    <circle\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n      cx=\"128\"\n      cy=\"416\"\n      r=\"48\"\n    />\n    <path\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n      d=\"M128 144v224M288 160l-64-64 64-64\"\n    />\n    <circle\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n      cx=\"128\"\n      cy=\"96\"\n      r=\"48\"\n    />\n    <circle\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n      cx=\"384\"\n      cy=\"416\"\n      r=\"48\"\n    />\n    <path\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n      d=\"M240 96h84a60 60 0 0160 60v212\"\n    />\n  </SvgIcon>\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AllFilter } from './allFilter';\nimport { AssignedToTeamFilter } from './assignedToTeamFilter';\nimport { AssignedToTeamsFilter } from './assignedToTeamsFilter';\nimport { AssignedToUserFilter } from './assignedToUserFilter';\nimport { CreatedByTeamFilter } from './createdByTeamFilter';\nimport { CreatedByTeamsFilter } from './createdByTeamsFilter';\nimport { CreatedByUserFilter } from './createdByUserFilter';\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\n\nexport enum FilterType {\n  All = 'All',\n\n  // Assigned To\n  AssignedToUser = 'AssignedToUser',\n  AssignedToCurrentUser = 'AssignedToCurrentUser',\n  AssignedToTeam = 'AssignedToTeam',\n  AssignedToTeams = 'AssignedToTeams',\n  AssignedToCurrentUsersTeams = 'AssignedToCurrentUsersTeams',\n\n  // Created By\n  CreatedByUser = 'CreatedByUser',\n  CreatedByCurrentUser = 'CreatedByCurrentUser',\n  CreatedByTeam = 'CreatedByTeam',\n  CreatedByTeams = 'CreatedByTeams',\n  CreatedByCurrentUsersTeams = 'CreatedByCurrentUsersTeams',\n}\n\nexport const FilterTypes = [\n  FilterType.All,\n\n  FilterType.AssignedToUser,\n  FilterType.AssignedToCurrentUser,\n  FilterType.AssignedToTeam,\n  FilterType.AssignedToTeams,\n  FilterType.AssignedToCurrentUsersTeams,\n\n  FilterType.CreatedByUser,\n  FilterType.CreatedByCurrentUser,\n  FilterType.CreatedByTeam,\n  FilterType.CreatedByTeams,\n  FilterType.CreatedByCurrentUsersTeams,\n] as const;\n\nexport type BaseFilter = {\n  type: FilterType;\n};\n\nexport type Filter =\n  | AssignedToUserFilter\n  | CreatedByUserFilter\n  | AssignedToTeamFilter\n  | CreatedByTeamFilter\n  | AssignedToTeamsFilter\n  | CreatedByTeamsFilter\n  | AllFilter;\n\nexport type {\n  AssignedToUserFilter,\n  CreatedByUserFilter,\n  AssignedToTeamFilter,\n  CreatedByTeamFilter,\n  AssignedToTeamsFilter,\n  CreatedByTeamsFilter,\n  AllFilter,\n};\n\nexport type PullRequestFilter = (pullRequest: DashboardPullRequest) => boolean;\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseFilter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\n\nexport type AllFilter = BaseFilter & {\n  type: FilterType.All;\n};\n\nexport function createAllFilter(): PullRequestFilter {\n  return (_pullRequest: DashboardPullRequest): boolean => true;\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function arrayHas<T>(arr: T[], value: T): boolean {\n  return new Set<T>(arr).has(value);\n}\n\nexport function stringArrayHas(\n  arr: Array<string | undefined>,\n  value: string | undefined,\n  ignoreCase: boolean = false,\n): boolean {\n  if (ignoreCase) {\n    return arrayHas(\n      arr.map(a => a?.toLocaleLowerCase('en-US')),\n      value?.toLocaleLowerCase('en-US'),\n    );\n  }\n\n  return arrayHas(arr, value);\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function equalsIgnoreCase(str1: string, str2: string): boolean {\n  return str1.toLocaleLowerCase('en-US') === str2.toLocaleLowerCase('en-US');\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseFilter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { stringArrayHas } from '../../../../utils';\n\nexport type AssignedToTeamFilter = BaseFilter & {\n  type: FilterType.AssignedToTeam;\n  teamId: string;\n};\n\nexport function createAssignedToTeamFilter(\n  filter: AssignedToTeamFilter,\n): PullRequestFilter {\n  return (pullRequest: DashboardPullRequest): boolean => {\n    const reviewerIds = pullRequest.reviewers?.map(reviewer => reviewer.id);\n\n    if (!reviewerIds) {\n      return false;\n    }\n\n    return stringArrayHas(reviewerIds, filter.teamId, true);\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseFilter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { createAssignedToTeamFilter } from './assignedToTeamFilter';\n\nexport type AssignedToTeamsFilter = BaseFilter &\n  (\n    | {\n        type: FilterType.AssignedToTeams;\n        teamIds: string[];\n      }\n    | {\n        type: FilterType.AssignedToCurrentUsersTeams;\n        teamIds?: string[];\n      }\n  );\n\nexport function createAssignedToTeamsFilter(\n  filter: AssignedToTeamsFilter,\n): PullRequestFilter {\n  const teamIds = filter.teamIds;\n\n  return (pullRequest: DashboardPullRequest): boolean => {\n    if (!teamIds) {\n      return false;\n    }\n\n    return teamIds.some(teamId => {\n      return createAssignedToTeamFilter({\n        type: FilterType.AssignedToTeam,\n        teamId,\n      })(pullRequest);\n    });\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseFilter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { stringArrayHas } from '../../../../utils';\n\nexport type AssignedToUserFilter = BaseFilter &\n  (\n    | {\n        type: FilterType.AssignedToUser;\n        email: string;\n      }\n    | {\n        type: FilterType.AssignedToCurrentUser;\n        email?: string;\n      }\n  );\n\nexport function createAssignedToUserFilter(\n  filter: AssignedToUserFilter,\n): PullRequestFilter {\n  const email = filter.email;\n\n  return (pullRequest: DashboardPullRequest): boolean => {\n    const uniqueNames = pullRequest.reviewers?.map(\n      reviewer => reviewer.uniqueName,\n    );\n\n    if (!email || !uniqueNames) {\n      return false;\n    }\n\n    return stringArrayHas(uniqueNames, email, true);\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseFilter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { stringArrayHas } from '../../../../utils';\n\nexport type CreatedByTeamFilter = BaseFilter &\n  ({\n    type: FilterType.CreatedByTeam;\n  } & ({ teamId: string } | { teamName: string }));\n\nexport function createCreatedByTeamFilter(\n  filter: CreatedByTeamFilter,\n): PullRequestFilter {\n  return (pullRequest: DashboardPullRequest): boolean => {\n    const [createdByTeams, team] =\n      'teamId' in filter\n        ? [pullRequest.createdBy?.teamIds, filter.teamId]\n        : [pullRequest.createdBy?.teamNames, filter.teamName];\n\n    if (!createdByTeams) {\n      return false;\n    }\n\n    return stringArrayHas(createdByTeams, team, true);\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseFilter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { createCreatedByTeamFilter } from './createdByTeamFilter';\n\nexport type CreatedByTeamsFilter = BaseFilter &\n  (\n    | ({\n        type: FilterType.CreatedByTeams;\n      } & ({ teamIds: string[] } | { teamNames: string[] }))\n    | {\n        type: FilterType.CreatedByCurrentUsersTeams;\n        teamIds?: string[];\n      }\n  );\n\nexport function createCreatedByTeamsFilter(\n  filter: CreatedByTeamsFilter,\n): PullRequestFilter {\n  return (pullRequest: DashboardPullRequest): boolean => {\n    if ('teamNames' in filter) {\n      const teamNames = filter.teamNames;\n\n      if (!teamNames) {\n        return false;\n      }\n\n      return teamNames.some(teamName => {\n        return createCreatedByTeamFilter({\n          type: FilterType.CreatedByTeam,\n          teamName,\n        })(pullRequest);\n      });\n    }\n\n    const teamIds = filter.teamIds;\n\n    if (!teamIds) {\n      return false;\n    }\n\n    return teamIds.some(teamId => {\n      return createCreatedByTeamFilter({\n        type: FilterType.CreatedByTeam,\n        teamId,\n      })(pullRequest);\n    });\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseFilter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { equalsIgnoreCase } from '../../../../utils';\n\nexport type CreatedByUserFilter = BaseFilter &\n  (\n    | {\n        type: FilterType.CreatedByUser;\n        email: string;\n      }\n    | {\n        type: FilterType.CreatedByCurrentUser;\n        email?: string;\n      }\n  );\n\nexport function createCreatedByUserFilter(\n  filter: CreatedByUserFilter,\n): PullRequestFilter {\n  const email = filter.email;\n\n  return (pullRequest: DashboardPullRequest): boolean => {\n    const uniqueName = pullRequest.createdBy?.uniqueName;\n\n    if (!email || !uniqueName) {\n      return false;\n    }\n\n    return equalsIgnoreCase(email, uniqueName);\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Filter, FilterType, PullRequestFilter } from './types';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { createAllFilter } from './allFilter';\nimport { createAssignedToTeamFilter } from './assignedToTeamFilter';\nimport { createAssignedToTeamsFilter } from './assignedToTeamsFilter';\nimport { createAssignedToUserFilter } from './assignedToUserFilter';\nimport { createCreatedByTeamFilter } from './createdByTeamFilter';\nimport { createCreatedByTeamsFilter } from './createdByTeamsFilter';\nimport { createCreatedByUserFilter } from './createdByUserFilter';\n\nexport function createFilter(filters: Filter | Filter[]): PullRequestFilter {\n  const mapFilter = (filter: Filter): PullRequestFilter => {\n    switch (filter.type) {\n      case FilterType.AssignedToUser:\n      case FilterType.AssignedToCurrentUser:\n        return createAssignedToUserFilter(filter);\n\n      case FilterType.CreatedByUser:\n      case FilterType.CreatedByCurrentUser:\n        return createCreatedByUserFilter(filter);\n\n      case FilterType.AssignedToTeam:\n        return createAssignedToTeamFilter(filter);\n\n      case FilterType.CreatedByTeam:\n        return createCreatedByTeamFilter(filter);\n\n      case FilterType.AssignedToTeams:\n      case FilterType.AssignedToCurrentUsersTeams:\n        return createAssignedToTeamsFilter(filter);\n\n      case FilterType.CreatedByTeams:\n      case FilterType.CreatedByCurrentUsersTeams:\n        return createCreatedByTeamsFilter(filter);\n\n      case FilterType.All:\n        return createAllFilter();\n\n      default:\n        return _ => false;\n    }\n  };\n\n  if (Array.isArray(filters)) {\n    if (filters.length === 1) {\n      return mapFilter(filters[0]);\n    }\n\n    return (pullRequest: DashboardPullRequest): boolean =>\n      filters.every(filter => mapFilter(filter)(pullRequest));\n  }\n\n  return mapFilter(filters);\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  DashboardPullRequest,\n  PullRequestVoteStatus,\n  Reviewer,\n} from '@backstage/plugin-azure-devops-common';\nimport { Filter, createFilter } from './filters';\nimport {\n  PullRequestColumnConfig,\n  PullRequestGroup,\n  PullRequestGroupConfig,\n} from './types';\n\n/**\n * Filters a reviewer based on vote status and if the reviewer is required.\n * @param reviewer - a reviewer to filter.\n * @returns whether or not to filter the `reviewer`.\n */\nexport function reviewerFilter(reviewer: Reviewer): boolean {\n  return reviewer.voteStatus === PullRequestVoteStatus.NoVote\n    ? !!reviewer.isRequired\n    : !reviewer.isContainer;\n}\n\n/**\n * Removes values from the provided array and returns them.\n * @param arr - the array to extract values from.\n * @param filter - a filter used to extract values from the provided array.\n * @returns the values that were extracted from the array.\n *\n * @example\n * ```ts\n * const numbers = [1, 2, 3, 4, 5, 6];\n * const numberFilter = (num: number): boolean => num > 3;\n * const extractedNumbers = arrayExtract(numbers, numberFilter);\n * console.log(numbers); // [1, 2, 3]\n * console.log(extractedNumbers); // [4, 5, 6]\n * ```\n *\n * @example\n * ```ts\n * const numbers = [1, 2, 3, 4, 5, 6];\n * const numberFilter = (num: number): boolean => num % 2 === 0;\n * const extractedNumbers = arrayExtract(numbers, numberFilter);\n * console.log(numbers); // [1, 3, 5]\n * console.log(extractedNumbers); // [2, 4, 6]\n * ```\n */\nexport function arrayExtract<T>(arr: T[], filter: (value: T) => unknown): T[] {\n  const extractedValues: T[] = [];\n\n  for (let i = 0; i - extractedValues.length < arr.length; i++) {\n    const offsetIndex = i - extractedValues.length;\n\n    const value = arr[offsetIndex];\n\n    if (filter(value)) {\n      arr.splice(offsetIndex, 1);\n      extractedValues.push(value);\n    }\n  }\n\n  return extractedValues;\n}\n\n/**\n * Creates groups of pull requests based on a list of `PullRequestGroupConfig`.\n * @param pullRequests - all pull requests to be split up into groups.\n * @param configs - the config used for splitting up the pull request groups.\n * @returns a list of pull request groups.\n */\nexport function getPullRequestGroups(\n  pullRequests: DashboardPullRequest[] | undefined,\n  configs: PullRequestGroupConfig[],\n): PullRequestGroup[] | undefined {\n  if (!pullRequests) {\n    return undefined;\n  }\n\n  const remainingPullRequests: DashboardPullRequest[] = [...pullRequests];\n  const pullRequestGroups: PullRequestGroup[] = [];\n\n  configs.forEach(({ title, filter: configFilter, simplified }) => {\n    const groupPullRequests = arrayExtract(remainingPullRequests, configFilter);\n\n    pullRequestGroups.push({\n      title,\n      pullRequests: groupPullRequests,\n      simplified,\n    });\n  });\n\n  return pullRequestGroups;\n}\n\nexport function getPullRequestGroupConfigs(\n  columnConfigs: PullRequestColumnConfig[],\n  filterProcessor: (filters: Filter[]) => Filter[],\n): PullRequestGroupConfig[] {\n  return columnConfigs.map(columnConfig => {\n    const filters = filterProcessor(columnConfig.filters);\n    return {\n      title: columnConfig.title,\n      filter: createFilter(filters),\n      simplified: columnConfig.simplified,\n    };\n  });\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  root: (props: { hasAutoComplete: boolean }) => ({\n    color: props.hasAutoComplete\n      ? theme.palette.success.main\n      : theme.palette.grey[400],\n  }),\n}));\n\nexport const AutoCompleteIcon = (props: { hasAutoComplete: boolean }) => {\n  const classes = useStyles(props);\n  return <DoneAllIcon className={classes.root} />;\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Policy,\n  PolicyEvaluationStatus,\n  PolicyType,\n} from '@backstage/plugin-azure-devops-common';\nimport { styled, withStyles } from '@material-ui/core/styles';\n\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport GroupWorkIcon from '@material-ui/icons/GroupWork';\nimport React from 'react';\nimport WatchLaterIcon from '@material-ui/icons/WatchLater';\n\nconst PolicyRequiredIcon = withStyles(\n  theme => ({\n    root: {\n      color: theme.palette.info.main,\n    },\n  }),\n  { name: 'PolicyRequiredIcon' },\n)(WatchLaterIcon);\n\nconst PolicyIssueIcon = withStyles(\n  theme => ({\n    root: {\n      color: theme.palette.error.main,\n    },\n  }),\n  { name: 'PolicyIssueIcon' },\n)(CancelIcon);\n\nconst PolicyInProgressIcon = withStyles(\n  theme => ({\n    root: {\n      color: theme.palette.info.main,\n    },\n  }),\n  { name: 'PolicyInProgressIcon' },\n)(GroupWorkIcon);\n\nfunction getPolicyIcon(policy: Policy): JSX.Element | null {\n  switch (policy.type) {\n    case PolicyType.Build:\n      switch (policy.status) {\n        case PolicyEvaluationStatus.Running:\n          return <PolicyInProgressIcon />;\n        case PolicyEvaluationStatus.Rejected:\n          return <PolicyIssueIcon />;\n        case PolicyEvaluationStatus.Queued:\n          return <PolicyRequiredIcon />;\n        default:\n          return null;\n      }\n    case PolicyType.MinimumReviewers:\n    case PolicyType.RequiredReviewers:\n      return <PolicyRequiredIcon />;\n    case PolicyType.Status:\n    case PolicyType.Comments:\n      return <PolicyIssueIcon />;\n    default:\n      return null;\n  }\n}\n\nconst PullRequestCardPolicyContainer = styled('div')({\n  display: 'flex',\n  alignItems: 'center',\n  flexWrap: 'wrap',\n});\n\ntype PullRequestCardPolicyProps = {\n  policy: Policy;\n};\n\nexport const PullRequestCardPolicy = ({\n  policy,\n}: PullRequestCardPolicyProps) => (\n  <PullRequestCardPolicyContainer>\n    {getPolicyIcon(policy)} <span>{policy.text}</span>\n  </PullRequestCardPolicyContainer>\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Policy } from '@backstage/plugin-azure-devops-common';\nimport { PullRequestCardPolicy } from './PullRequestCardPolicy';\nimport React from 'react';\n\ntype PullRequestCardProps = {\n  policies: Policy[];\n  className: string;\n};\n\nexport const PullRequestCardPolicies = ({\n  policies,\n  className,\n}: PullRequestCardProps) => (\n  <div className={className}>\n    {policies.map(policy => (\n      <PullRequestCardPolicy key={policy.id} policy={policy} />\n    ))}\n  </div>\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Avatar } from '@backstage/core-components';\nimport React from 'react';\nimport { Reviewer } from '@backstage/plugin-azure-devops-common';\n\ntype PullRequestCardReviewerProps = {\n  reviewer: Reviewer;\n};\n\nexport const PullRequestCardReviewer = ({\n  reviewer,\n}: PullRequestCardReviewerProps) => (\n  <Avatar\n    displayName={reviewer.displayName}\n    picture={reviewer.imageUrl}\n    customStyles={{\n      width: '2.5rem',\n      height: '2.5rem',\n      fontSize: '1rem',\n      border: '0.3rem solid silver',\n    }}\n  />\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PullRequestCardReviewer } from './PullRequestCardReviewer';\nimport React from 'react';\nimport { Reviewer } from '@backstage/plugin-azure-devops-common';\nimport { reviewerFilter } from '../utils';\nimport { styled } from '@material-ui/core/styles';\n\nconst PullRequestCardReviewersContainer = styled('div')({\n  '& > *': {\n    marginTop: 4,\n    marginBottom: 4,\n  },\n});\n\ntype PullRequestCardReviewersProps = {\n  reviewers: Reviewer[];\n};\n\nexport const PullRequestCardReviewers = ({\n  reviewers,\n}: PullRequestCardReviewersProps) => (\n  <PullRequestCardReviewersContainer>\n    {reviewers.filter(reviewerFilter).map(reviewer => (\n      <PullRequestCardReviewer key={reviewer.id} reviewer={reviewer} />\n    ))}\n  </PullRequestCardReviewersContainer>\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Avatar, Link } from '@backstage/core-components';\nimport { Card, CardContent, CardHeader } from '@material-ui/core';\n\nimport { AutoCompleteIcon } from '../AutoCompleteIcon';\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { DateTime } from 'luxon';\nimport { PullRequestCardPolicies } from './PullRequestCardPolicies';\nimport { PullRequestCardReviewers } from './PullRequestCardReviewers';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  theme => ({\n    card: {\n      backgroundColor:\n        theme.palette.type === 'dark'\n          ? theme.palette.grey[700]\n          : theme.palette.common.white,\n    },\n    cardHeaderSimplified: {\n      paddingBottom: theme.spacing(2),\n    },\n    cardHeaderAction: {\n      display: 'flex',\n      alignSelf: 'center',\n      margin: 0,\n    },\n    content: {\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    policies: {\n      flex: 1,\n    },\n  }),\n  { name: 'PullRequestCard' },\n);\n\ntype PullRequestCardProps = {\n  pullRequest: DashboardPullRequest;\n  simplified?: boolean;\n};\n\nexport const PullRequestCard = ({\n  pullRequest,\n  simplified,\n}: PullRequestCardProps) => {\n  const title = (\n    <Link to={pullRequest.link ?? ''} title={pullRequest.description}>\n      {pullRequest.title}\n    </Link>\n  );\n\n  const repoLink = (\n    <Link to={pullRequest.repository?.url ?? ''} color=\"inherit\">\n      {pullRequest.repository?.name}\n    </Link>\n  );\n\n  const creationDate = pullRequest.creationDate\n    ? DateTime.fromISO(pullRequest.creationDate).toRelative()\n    : undefined;\n\n  const subheader = (\n    <span>\n      {repoLink} Â· {creationDate}\n    </span>\n  );\n\n  const avatar = (\n    <Avatar\n      displayName={pullRequest.createdBy?.displayName}\n      picture={pullRequest.createdBy?.imageUrl}\n      customStyles={{ width: '2.5rem', height: '2.5rem', fontSize: '1rem' }}\n    />\n  );\n\n  const classes = useStyles();\n\n  return (\n    <Card\n      classes={{ root: classes.card }}\n      data-pull-request-id={pullRequest.pullRequestId}\n    >\n      <CardHeader\n        avatar={avatar}\n        title={title}\n        subheader={subheader}\n        action={\n          <AutoCompleteIcon hasAutoComplete={pullRequest.hasAutoComplete} />\n        }\n        classes={{\n          ...(simplified && { root: classes.cardHeaderSimplified }),\n          action: classes.cardHeaderAction,\n        }}\n      />\n\n      {!simplified && (\n        <CardContent className={classes.content}>\n          {pullRequest.policies && (\n            <PullRequestCardPolicies\n              policies={pullRequest.policies}\n              className={classes.policies}\n            />\n          )}\n\n          {pullRequest.reviewers && (\n            <PullRequestCardReviewers reviewers={pullRequest.reviewers} />\n          )}\n        </CardContent>\n      )}\n    </Card>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Paper, Typography, styled, withStyles } from '@material-ui/core';\n\nimport { PullRequestCard } from '../PullRequestCard';\nimport { PullRequestGroup } from '../types';\nimport React from 'react';\n\nconst ColumnPaper = withStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n    padding: theme.spacing(2),\n    backgroundColor:\n      theme.palette.type === 'dark'\n        ? theme.palette.grey[800]\n        : theme.palette.grey[300],\n    height: '100%',\n  },\n}))(Paper);\n\nconst ColumnTitleDiv = styled('div')(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  marginBottom: theme.spacing(2),\n}));\n\nexport const PullRequestCardContainer = styled('div')(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  '& > *': {\n    marginBottom: theme.spacing(2),\n  },\n  '& > :last-of-type': {\n    marginBottom: 0,\n  },\n}));\n\ntype PullRequestGridColumnProps = {\n  pullRequestGroup: PullRequestGroup;\n};\n\nexport const PullRequestGridColumn = ({\n  pullRequestGroup,\n}: PullRequestGridColumnProps) => {\n  const columnTitle = (\n    <ColumnTitleDiv>\n      <Typography variant=\"h5\">{pullRequestGroup.title}</Typography>\n    </ColumnTitleDiv>\n  );\n\n  const pullRequests = (\n    <PullRequestCardContainer>\n      {pullRequestGroup.pullRequests.map(pullRequest => (\n        <PullRequestCard\n          key={pullRequest.pullRequestId}\n          pullRequest={pullRequest}\n          simplified={pullRequestGroup.simplified}\n        />\n      ))}\n    </PullRequestCardContainer>\n  );\n\n  return (\n    <ColumnPaper>\n      {columnTitle}\n      {pullRequests}\n    </ColumnPaper>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PullRequestGridColumn } from '../PullRequestGridColumn';\nimport { PullRequestGroup } from '../types';\nimport React from 'react';\nimport { styled } from '@material-ui/core';\n\nconst GridDiv = styled('div')(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'row',\n  justifyContent: 'space-between',\n  '& > *': {\n    marginRight: theme.spacing(2),\n  },\n  '& > :last-of-type': {\n    marginRight: 0,\n  },\n}));\n\ntype PullRequestGridProps = {\n  pullRequestGroups: PullRequestGroup[];\n};\n\nexport const PullRequestGrid = ({\n  pullRequestGroups,\n}: PullRequestGridProps) => {\n  return (\n    <GridDiv>\n      {pullRequestGroups.map((pullRequestGroup, index) => (\n        <PullRequestGridColumn\n          key={index}\n          pullRequestGroup={pullRequestGroup}\n        />\n      ))}\n    </GridDiv>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\nimport useAsyncRetry from 'react-use/lib/useAsyncRetry';\nimport useInterval from 'react-use/lib/useInterval';\n\nimport { DashboardPullRequest } from '@backstage/plugin-azure-devops-common';\nimport { azureDevOpsApiRef } from '../api';\nimport { useCallback } from 'react';\n\nconst POLLING_INTERVAL = 10000;\n\nexport function useDashboardPullRequests(\n  project?: string,\n  pollingInterval: number = POLLING_INTERVAL,\n): {\n  pullRequests?: DashboardPullRequest[];\n  loading: boolean;\n  error?: Error;\n} {\n  const api = useApi(azureDevOpsApiRef);\n  const errorApi = useApi(errorApiRef);\n\n  const getDashboardPullRequests = useCallback(async (): Promise<\n    DashboardPullRequest[]\n  > => {\n    if (!project) {\n      return Promise.reject(new Error('Missing project name'));\n    }\n\n    try {\n      return await api.getDashboardPullRequests(project);\n    } catch (error) {\n      if (error instanceof Error) {\n        errorApi.post(error);\n      }\n\n      return Promise.reject(error);\n    }\n  }, [project, api, errorApi]);\n\n  const {\n    value: pullRequests,\n    loading,\n    error,\n    retry,\n  } = useAsyncRetry(\n    () => getDashboardPullRequests(),\n    [getDashboardPullRequests],\n  );\n\n  useInterval(() => retry(), pollingInterval);\n\n  return {\n    pullRequests,\n    loading,\n    error,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { identityApiRef, useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\n\nexport function useUserEmail(): string | undefined {\n  const identityApi = useApi(identityApiRef);\n  const state = useAsync(() => identityApi.getProfileInfo(), [identityApi]);\n  return state.value?.email;\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { azureDevOpsApiRef } from '../api';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\n\nexport function useUserTeamIds(userId: string | undefined): {\n  teamIds?: string[];\n  loading: boolean;\n  error?: Error;\n} {\n  const api = useApi(azureDevOpsApiRef);\n\n  const {\n    value: teamIds,\n    loading,\n    error,\n  } = useAsync(() => {\n    return userId ? api.getUserTeamIds(userId) : Promise.resolve(undefined);\n  }, [api]);\n\n  return {\n    teamIds,\n    loading,\n    error,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Filter, FilterType } from '../filters';\nimport { useUserEmail, useUserTeamIds } from '../../../../hooks';\n\nexport function useFilterProcessor(): (filters: Filter[]) => Filter[] {\n  const userEmail = useUserEmail();\n  const { teamIds } = useUserTeamIds(userEmail);\n\n  return (filters: Filter[]): Filter[] => {\n    for (const filter of filters) {\n      switch (filter.type) {\n        case FilterType.AssignedToCurrentUser:\n        case FilterType.CreatedByCurrentUser:\n          filter.email = userEmail;\n          break;\n\n        case FilterType.AssignedToCurrentUsersTeams:\n        case FilterType.CreatedByCurrentUsersTeams:\n          filter.teamIds = teamIds;\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return filters;\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Content,\n  Header,\n  Page,\n  Progress,\n  ResponseErrorPanel,\n} from '@backstage/core-components';\nimport { PullRequestColumnConfig, PullRequestGroup } from './lib/types';\nimport React, { useState } from 'react';\nimport { getPullRequestGroupConfigs, getPullRequestGroups } from './lib/utils';\n\nimport { FilterType } from './lib/filters';\nimport { PullRequestGrid } from './lib/PullRequestGrid';\nimport { useDashboardPullRequests } from '../../hooks';\nimport { useFilterProcessor } from './lib/hooks';\n\ntype PullRequestsPageContentProps = {\n  pullRequestGroups: PullRequestGroup[] | undefined;\n  loading: boolean;\n  error?: Error;\n};\n\nconst PullRequestsPageContent = ({\n  pullRequestGroups,\n  loading,\n  error,\n}: PullRequestsPageContentProps) => {\n  if (loading && (!pullRequestGroups || pullRequestGroups.length <= 0)) {\n    return <Progress />;\n  }\n\n  if (error) {\n    return <ResponseErrorPanel error={error} />;\n  }\n\n  return <PullRequestGrid pullRequestGroups={pullRequestGroups ?? []} />;\n};\n\nconst DEFAULT_COLUMN_CONFIGS: PullRequestColumnConfig[] = [\n  {\n    title: 'Created by me',\n    filters: [{ type: FilterType.CreatedByCurrentUser }],\n    simplified: false,\n  },\n  {\n    title: 'Other PRs',\n    filters: [{ type: FilterType.All }],\n    simplified: true,\n  },\n];\n\ntype PullRequestsPageProps = {\n  projectName?: string;\n  pollingInterval?: number;\n  defaultColumnConfigs?: PullRequestColumnConfig[];\n};\n\nexport const PullRequestsPage = ({\n  projectName,\n  pollingInterval,\n  defaultColumnConfigs,\n}: PullRequestsPageProps) => {\n  const { pullRequests, loading, error } = useDashboardPullRequests(\n    projectName,\n    pollingInterval,\n  );\n\n  const [columnConfigs] = useState(\n    defaultColumnConfigs ?? DEFAULT_COLUMN_CONFIGS,\n  );\n\n  const filterProcessor = useFilterProcessor();\n\n  const pullRequestGroupConfigs = getPullRequestGroupConfigs(\n    columnConfigs,\n    filterProcessor,\n  );\n\n  const pullRequestGroups = getPullRequestGroups(\n    pullRequests,\n    pullRequestGroupConfigs,\n  );\n\n  return (\n    <Page themeId=\"tool\">\n      <Header title=\"Azure Pull Requests\" />\n      <Content>\n        <PullRequestsPageContent\n          pullRequestGroups={pullRequestGroups}\n          loading={loading}\n          error={error}\n        />\n      </Content>\n    </Page>\n  );\n};\n"],"names":["useStyles","withStyles","styled"],"mappings":"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"}