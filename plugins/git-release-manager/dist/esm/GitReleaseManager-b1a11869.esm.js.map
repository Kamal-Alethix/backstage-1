{"version":3,"file":"GitReleaseManager-b1a11869.esm.js","sources":["../../src/helpers/getReleaseCandidateGitInfo.ts","../../src/hooks/useResponseSteps.tsx","../../src/contexts/UserContext.ts","../../src/features/CreateReleaseCandidate/hooks/useCreateReleaseCandidate.ts","../../src/contexts/ProjectContext.ts","../../src/features/CreateReleaseCandidate/CreateReleaseCandidate.tsx","../../src/features/Stats/helpers/getMappedReleases.tsx","../../src/features/Stats/helpers/getReleaseStats.tsx","../../src/features/Stats/helpers/getDecimalNumber.tsx","../../src/features/Stats/Info/InDepth/AverageReleaseTime.tsx","../../src/features/Stats/Info/InDepth/LongestReleaseTime.tsx","../../src/features/Stats/Info/helpers/getReleaseCommitPairs.tsx","../../src/features/Stats/contexts/ReleaseStatsContext.tsx","../../src/features/Stats/helpers/getTagDates.ts","../../src/features/Stats/Info/hooks/useGetReleaseTimes.tsx","../../src/features/Stats/Info/InDepth/InDepth.tsx","../../src/features/Stats/helpers/getSummary.tsx","../../src/features/Stats/Info/Summary.tsx","../../src/features/Stats/Info/Info.tsx","../../src/features/Stats/Row/RowCollapsed/ReleaseTagList.tsx","../../src/features/Stats/Row/RowCollapsed/ReleaseTime.tsx","../../src/features/Stats/Row/RowCollapsed/RowCollapsed.tsx","../../src/features/Stats/Row/Row.tsx","../../src/features/Stats/hooks/useGetStats.ts","../../src/features/Stats/Warn.tsx","../../src/features/Stats/DialogBody.tsx","../../src/features/Stats/DialogTitle.tsx","../../src/features/Stats/Stats.tsx","../../src/features/Info/Info.tsx","../../src/features/Patch/helpers/getPatchCommitSuffix.ts","../../src/features/Patch/hooks/usePatchDryRun.tsx","../../src/features/Patch/hooks/usePatch.ts","../../src/features/Patch/PatchBody.tsx","../../src/features/Patch/Patch.tsx","../../src/features/PromoteRc/hooks/usePromoteRc.ts","../../src/features/PromoteRc/PromoteRcBody.tsx","../../src/features/PromoteRc/PromoteRc.tsx","../../src/hooks/useGetGitBatchInfo.ts","../../src/hooks/useVersioningStrategyMatchesRepoTags.ts","../../src/features/Features.tsx","../../src/features/RepoDetailsForm/styles.ts","../../src/hooks/useQueryHandler.ts","../../src/features/RepoDetailsForm/Owner.tsx","../../src/features/RepoDetailsForm/Repo.tsx","../../src/features/RepoDetailsForm/VersioningStrategy.tsx","../../src/features/RepoDetailsForm/RepoDetailsForm.tsx","../../src/GitReleaseManager.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DateTime } from 'luxon';\n\nimport { getBumpedSemverTagParts } from './getBumpedTag';\nimport { GetLatestReleaseResult } from '../api/GitReleaseClient';\nimport { getSemverTagParts } from './tagParts/getSemverTagParts';\nimport { Project } from '../contexts/ProjectContext';\nimport { SEMVER_PARTS } from '../constants/constants';\n\ninterface GetReleaseCandidateGitInfo {\n  project: Project;\n  latestRelease: GetLatestReleaseResult['latestRelease'];\n  semverBumpLevel: keyof typeof SEMVER_PARTS;\n  injectedDate?: string;\n}\n\nexport const getReleaseCandidateGitInfo = ({\n  project,\n  latestRelease,\n  semverBumpLevel,\n  injectedDate = DateTime.now().toFormat('yyyy.MM.dd'),\n}: GetReleaseCandidateGitInfo) => {\n  if (project.versioningStrategy === 'calver') {\n    return {\n      rcBranch: `rc/${injectedDate}`,\n      rcReleaseTag: `rc-${injectedDate}_0`,\n      releaseName: `Version ${injectedDate}`,\n    };\n  }\n\n  if (!latestRelease) {\n    return {\n      rcBranch: 'rc/0.0.1',\n      rcReleaseTag: 'rc-0.0.1',\n      releaseName: 'Version 0.0.1',\n    };\n  }\n\n  const semverTagParts = getSemverTagParts(latestRelease.tagName);\n  if (semverTagParts.error !== undefined) {\n    return {\n      error: semverTagParts.error,\n    };\n  }\n\n  const { bumpedTagParts } = getBumpedSemverTagParts(\n    semverTagParts.tagParts,\n    semverBumpLevel,\n  );\n\n  const bumpedTag = `${bumpedTagParts.major}.${bumpedTagParts.minor}.${bumpedTagParts.patch}`;\n\n  return {\n    rcBranch: `rc/${bumpedTag}`,\n    rcReleaseTag: `rc-${bumpedTag}`,\n    releaseName: `Version ${bumpedTag}`,\n  };\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState } from 'react';\n\nimport { ResponseStep } from '../types/types';\n\nexport function useResponseSteps() {\n  const [responseSteps, setResponseSteps] = useState<ResponseStep[]>([]);\n\n  const addStepToResponseSteps = (responseStep: ResponseStep) => {\n    setResponseSteps([...responseSteps, responseStep]);\n  };\n\n  const asyncCatcher = (error: Error): never => {\n    const responseStepError: ResponseStep = {\n      message: (\n        <b>\n          Something went wrong{' '}\n          <span role=\"img\" aria-label=\"fire\">\n            ðŸ”¥\n          </span>\n        </b>\n      ),\n      secondaryMessage: `Error message: ${\n        error?.message ? error.message : 'unknown'\n      }`,\n      icon: 'failure',\n    };\n\n    addStepToResponseSteps(responseStepError);\n    throw error;\n  };\n\n  const abortIfError = (error?: Error) => {\n    if (error) {\n      throw error;\n    }\n  };\n\n  return {\n    responseSteps,\n    addStepToResponseSteps,\n    asyncCatcher,\n    abortIfError,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContext, useContext } from 'react';\n\nimport { GitReleaseManagerError } from '../errors/GitReleaseManagerError';\n\ninterface User {\n  username: string;\n  email?: string;\n}\n\nexport const UserContext = createContext<{ user: User } | undefined>(undefined);\n\nexport const useUserContext = () => {\n  const { user } = useContext(UserContext) ?? {};\n\n  if (!user) {\n    throw new GitReleaseManagerError('user not found');\n  }\n\n  return {\n    user,\n  };\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect, useState } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport useAsyncFn from 'react-use/lib/useAsyncFn';\nimport {\n  GetLatestReleaseResult,\n  GetRepositoryResult,\n} from '../../../api/GitReleaseClient';\n\nimport {\n  CardHook,\n  ComponentConfig,\n  CreateRcOnSuccessArgs,\n} from '../../../types/types';\nimport { getReleaseCandidateGitInfo } from '../../../helpers/getReleaseCandidateGitInfo';\nimport { gitReleaseManagerApiRef } from '../../../api/serviceApiRef';\nimport { GitReleaseManagerError } from '../../../errors/GitReleaseManagerError';\nimport { Project } from '../../../contexts/ProjectContext';\nimport { TAG_OBJECT_MESSAGE } from '../../../constants/constants';\nimport { useResponseSteps } from '../../../hooks/useResponseSteps';\nimport { useUserContext } from '../../../contexts/UserContext';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport interface UseCreateReleaseCandidate {\n  defaultBranch: GetRepositoryResult['repository']['defaultBranch'];\n  latestRelease: GetLatestReleaseResult['latestRelease'];\n  releaseCandidateGitInfo: ReturnType<typeof getReleaseCandidateGitInfo>;\n  project: Project;\n  onSuccess?: ComponentConfig<CreateRcOnSuccessArgs>['onSuccess'];\n}\n\nexport function useCreateReleaseCandidate({\n  defaultBranch,\n  latestRelease,\n  releaseCandidateGitInfo,\n  project,\n  onSuccess,\n}: UseCreateReleaseCandidate): CardHook<void> {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { user } = useUserContext();\n\n  if (releaseCandidateGitInfo.error) {\n    throw new GitReleaseManagerError(\n      `Unexpected error: ${\n        releaseCandidateGitInfo.error.title\n          ? `${releaseCandidateGitInfo.error.title} (${releaseCandidateGitInfo.error.subtitle})`\n          : releaseCandidateGitInfo.error.subtitle\n      }`,\n    );\n  }\n\n  const { responseSteps, addStepToResponseSteps, asyncCatcher, abortIfError } =\n    useResponseSteps();\n\n  /**\n   * (1) Get the default branch's most recent commit\n   */\n  const [latestCommitRes, run] = useAsyncFn(async () => {\n    const { commit: latestCommit } = await pluginApiClient\n      .getCommit({\n        owner: project.owner,\n        repo: project.repo,\n        ref: defaultBranch,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Fetched latest commit from \"${defaultBranch}\"`,\n      secondaryMessage: `with message \"${latestCommit.commit.message}\"`,\n      link: latestCommit.htmlUrl,\n    });\n\n    return {\n      latestCommit,\n    };\n  });\n\n  /**\n   * (2) Create release branch based on default branch's most recent sha\n   */\n  const releaseBranchRes = useAsync(async () => {\n    abortIfError(latestCommitRes.error);\n    if (!latestCommitRes.value) return undefined;\n\n    const { reference: createdReleaseBranch } = await pluginApiClient\n      .createRef({\n        owner: project.owner,\n        repo: project.repo,\n        sha: latestCommitRes.value.latestCommit.sha,\n        ref: `refs/heads/${releaseCandidateGitInfo.rcBranch}`,\n      })\n      .catch(error => {\n        if (error?.body?.message === 'Reference already exists') {\n          throw new GitReleaseManagerError(\n            `Branch \"${releaseCandidateGitInfo.rcBranch}\" already exists: .../tree/${releaseCandidateGitInfo.rcBranch}`,\n          );\n        }\n        throw error;\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Created Release Branch',\n      secondaryMessage: `with ref \"${createdReleaseBranch.ref}\"`,\n    });\n\n    return {\n      ...createdReleaseBranch,\n    };\n  }, [latestCommitRes.value, latestCommitRes.error]);\n\n  /**\n   * (3) Create tag object for our soon-to-be-created annotated tag\n   */\n  const tagObjectRes = useAsync(async () => {\n    abortIfError(releaseBranchRes.error);\n    if (!releaseBranchRes.value) return undefined;\n\n    const { tagObject } = await pluginApiClient\n      .createTagObject({\n        owner: project.owner,\n        repo: project.repo,\n        tag: releaseCandidateGitInfo.rcReleaseTag,\n        object: releaseBranchRes.value.objectSha,\n        taggerName: user.username,\n        taggerEmail: user.email,\n        message: TAG_OBJECT_MESSAGE,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Created Tag Object',\n      secondaryMessage: `with sha \"${tagObject.tagSha}\"`,\n    });\n\n    return {\n      ...tagObject,\n    };\n  }, [releaseBranchRes.value, releaseBranchRes.error]);\n\n  /**\n   * (4) Create reference for tag object\n   */\n  const createRcRes = useAsync(async () => {\n    abortIfError(tagObjectRes.error);\n    if (!tagObjectRes.value) return undefined;\n\n    const { reference: createdRef } = await pluginApiClient\n      .createRef({\n        owner: project.owner,\n        repo: project.repo,\n        ref: `refs/tags/${releaseCandidateGitInfo.rcReleaseTag}`,\n        sha: tagObjectRes.value.tagSha,\n      })\n      .catch(error => {\n        if (error?.body?.message === 'Reference already exists') {\n          throw new GitReleaseManagerError(\n            `Tag reference \"${releaseCandidateGitInfo.rcReleaseTag}\" already exists`,\n          );\n        }\n        throw error;\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Cut Tag Reference',\n      secondaryMessage: `with ref \"${createdRef.ref}\"`,\n    });\n\n    return {\n      ...createdRef,\n    };\n  }, [tagObjectRes.value, tagObjectRes.error]);\n\n  /**\n   * (5) Compose a body for the release\n   */\n  const getComparisonRes = useAsync(async () => {\n    abortIfError(createRcRes.error);\n    if (!createRcRes.value) return undefined;\n\n    const previousReleaseBranch = latestRelease\n      ? latestRelease.targetCommitish\n      : defaultBranch;\n    const nextReleaseBranch = releaseCandidateGitInfo.rcBranch;\n    const { comparison } = await pluginApiClient\n      .getComparison({\n        owner: project.owner,\n        repo: project.repo,\n        base: previousReleaseBranch,\n        head: nextReleaseBranch,\n      })\n      .catch(asyncCatcher);\n\n    const releaseBody = `**Compare** ${comparison.htmlUrl}\n\n**Ahead by** ${comparison.aheadBy} commits\n\n**Release branch** ${createRcRes.value.ref}\n\n---\n\n`;\n\n    addStepToResponseSteps({\n      message: 'Fetched commit comparison',\n      secondaryMessage: `${previousReleaseBranch}...${nextReleaseBranch}`,\n      link: comparison.htmlUrl,\n    });\n\n    return {\n      ...comparison,\n      releaseBody,\n    };\n  }, [createRcRes.value, createRcRes.error]);\n\n  /**\n   * (6) Creates the Git Release itself\n   */\n  const createReleaseRes = useAsync(async () => {\n    abortIfError(getComparisonRes.error);\n    if (!getComparisonRes.value) return undefined;\n\n    const { release: createReleaseResult } = await pluginApiClient\n      .createRelease({\n        owner: project.owner,\n        repo: project.repo,\n        tagName: releaseCandidateGitInfo.rcReleaseTag,\n        name: releaseCandidateGitInfo.releaseName,\n        targetCommitish: releaseCandidateGitInfo.rcBranch,\n        body: getComparisonRes.value.releaseBody,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Created Release Candidate \"${createReleaseResult.name}\"`,\n      secondaryMessage: `with tag \"${releaseCandidateGitInfo.rcReleaseTag}\"`,\n      link: createReleaseResult.htmlUrl,\n    });\n\n    return {\n      ...createReleaseResult,\n    };\n  }, [getComparisonRes.value, getComparisonRes.error]);\n\n  /**\n   * (7) Run onSuccess if defined\n   */\n  useAsync(async () => {\n    if (onSuccess && !!createReleaseRes.value && !!getComparisonRes.value) {\n      abortIfError(createReleaseRes.error);\n\n      try {\n        await onSuccess({\n          input: {\n            defaultBranch,\n            latestRelease,\n            releaseCandidateGitInfo,\n            project,\n          },\n          comparisonUrl: getComparisonRes.value.htmlUrl,\n          createdTag: createReleaseRes.value.tagName,\n          gitReleaseName: createReleaseRes.value.name,\n          gitReleaseUrl: createReleaseRes.value.htmlUrl,\n          previousTag: latestRelease?.tagName,\n        });\n      } catch (error) {\n        asyncCatcher(error as Error);\n      }\n\n      addStepToResponseSteps({\n        message: 'Success callback successfully called ðŸš€',\n        icon: 'success',\n      });\n    }\n  }, [createReleaseRes.value, createReleaseRes.error]);\n\n  const TOTAL_STEPS = 6 + (!!onSuccess ? 1 : 0);\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    setProgress((responseSteps.length / TOTAL_STEPS) * 100);\n  }, [TOTAL_STEPS, responseSteps.length]);\n\n  return {\n    progress,\n    responseSteps,\n    run,\n    runInvoked: Boolean(\n      latestCommitRes.loading || latestCommitRes.value || latestCommitRes.error,\n    ),\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContext, useContext } from 'react';\n\nimport { VERSIONING_STRATEGIES } from '../constants/constants';\nimport { GitReleaseManagerError } from '../errors/GitReleaseManagerError';\n\nexport interface Project {\n  /**\n   * Repository's owner (user or organisation)\n   *\n   * @example erikengervall\n   */\n  owner: string;\n  /**\n   * Repository's name\n   *\n   * @example dockest\n   */\n  repo: string;\n  /**\n   * Declares the versioning strategy of the project\n   *\n   * semver: `1.2.3` (major.minor.patch)\n   * calver: `2020.01.01_0` (YYYY.0M.0D_patch)\n   *\n   * Default: false\n   */\n  versioningStrategy: keyof typeof VERSIONING_STRATEGIES;\n  /**\n   * Project props was provided via props\n   *\n   * If true, this means select inputs will be disabled\n   */\n  isProvidedViaProps: boolean;\n}\n\nexport const ProjectContext = createContext<{ project: Project } | undefined>(\n  undefined,\n);\n\nexport const useProjectContext = () => {\n  const { project } = useContext(ProjectContext) ?? {};\n\n  if (!project) {\n    throw new GitReleaseManagerError('project not found');\n  }\n\n  return {\n    project,\n  };\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport {\n  Box,\n  Button,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  Typography,\n} from '@material-ui/core';\n\nimport {\n  GetBranchResult,\n  GetLatestReleaseResult,\n  GetRepositoryResult,\n} from '../../api/GitReleaseClient';\nimport { ComponentConfig, CreateRcOnSuccessArgs } from '../../types/types';\nimport { Differ } from '../../components/Differ';\nimport { getReleaseCandidateGitInfo } from '../../helpers/getReleaseCandidateGitInfo';\nimport { InfoCardPlus } from '../../components/InfoCardPlus';\nimport { ResponseStepDialog } from '../../components/ResponseStepDialog/ResponseStepDialog';\nimport { SEMVER_PARTS } from '../../constants/constants';\nimport { TEST_IDS } from '../../test-helpers/test-ids';\nimport { useCreateReleaseCandidate } from './hooks/useCreateReleaseCandidate';\nimport { useProjectContext } from '../../contexts/ProjectContext';\n\ninterface CreateReleaseCandidateProps {\n  defaultBranch: GetRepositoryResult['repository']['defaultBranch'];\n  latestRelease: GetLatestReleaseResult['latestRelease'];\n  releaseBranch: GetBranchResult['branch'] | null;\n  onSuccess?: ComponentConfig<CreateRcOnSuccessArgs>['onSuccess'];\n}\n\nconst InfoCardPlusWrapper = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <InfoCardPlus>\n      <Box marginBottom={2}>\n        <Typography variant=\"h4\">Create Release Candidate</Typography>\n      </Box>\n      {children}\n    </InfoCardPlus>\n  );\n};\n\nexport const CreateReleaseCandidate = ({\n  defaultBranch,\n  latestRelease,\n  releaseBranch,\n  onSuccess,\n}: CreateReleaseCandidateProps) => {\n  const { project } = useProjectContext();\n\n  const [semverBumpLevel, setSemverBumpLevel] = useState<'major' | 'minor'>(\n    SEMVER_PARTS.minor,\n  );\n  const [releaseCandidateGitInfo, setReleaseCandidateGitInfo] = useState(\n    getReleaseCandidateGitInfo({ latestRelease, project, semverBumpLevel }),\n  );\n\n  useEffect(() => {\n    setReleaseCandidateGitInfo(\n      getReleaseCandidateGitInfo({ latestRelease, project, semverBumpLevel }),\n    );\n  }, [semverBumpLevel, setReleaseCandidateGitInfo, latestRelease, project]);\n\n  const { progress, responseSteps, run, runInvoked } =\n    useCreateReleaseCandidate({\n      defaultBranch,\n      latestRelease,\n      releaseCandidateGitInfo,\n      project,\n      onSuccess,\n    });\n  if (responseSteps.length > 0) {\n    return (\n      <ResponseStepDialog\n        progress={progress}\n        responseSteps={responseSteps}\n        title=\"Create Release Candidate\"\n      />\n    );\n  }\n\n  if (releaseCandidateGitInfo.error !== undefined) {\n    return (\n      <InfoCardPlusWrapper>\n        <Alert severity=\"error\">\n          {releaseCandidateGitInfo.error.title && (\n            <AlertTitle>{releaseCandidateGitInfo.error.title}</AlertTitle>\n          )}\n\n          {releaseCandidateGitInfo.error.subtitle}\n        </Alert>\n      </InfoCardPlusWrapper>\n    );\n  }\n\n  const tagAlreadyExists =\n    latestRelease !== null &&\n    latestRelease.tagName === releaseCandidateGitInfo.rcReleaseTag;\n  const conflictingPreRelease =\n    latestRelease !== null && latestRelease.prerelease;\n\n  return (\n    <InfoCardPlusWrapper>\n      {project.versioningStrategy === 'semver' &&\n        latestRelease &&\n        !conflictingPreRelease && (\n          <Box marginBottom={2} data-testid={TEST_IDS.createRc.semverSelect}>\n            <FormControl style={{ margin: 5, minWidth: 250 }}>\n              <InputLabel>Select bump severity</InputLabel>\n\n              <Select\n                value={semverBumpLevel}\n                onChange={({ target: { value: semverSeverity } }: any) => {\n                  setSemverBumpLevel(semverSeverity);\n                }}\n              >\n                <MenuItem value={SEMVER_PARTS.minor}>\n                  {SEMVER_PARTS.minor}\n                </MenuItem>\n                <MenuItem value={SEMVER_PARTS.major}>\n                  {SEMVER_PARTS.major}\n                </MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        )}\n\n      {conflictingPreRelease || tagAlreadyExists ? (\n        <>\n          {conflictingPreRelease && (\n            <Box marginBottom={2}>\n              <Alert severity=\"warning\">\n                The most recent release is already a Release Candidate\n              </Alert>\n            </Box>\n          )}\n\n          {tagAlreadyExists && (\n            <Box marginBottom={2}>\n              <Alert severity=\"warning\">\n                There's already a tag named{' '}\n                <strong>{releaseCandidateGitInfo.rcReleaseTag}</strong>\n              </Alert>\n            </Box>\n          )}\n        </>\n      ) : (\n        <Box marginBottom={2}>\n          <Typography>\n            <Differ\n              icon=\"branch\"\n              current={releaseBranch?.name}\n              next={releaseCandidateGitInfo.rcBranch}\n            />\n          </Typography>\n\n          <Typography>\n            <Differ\n              icon=\"tag\"\n              current={latestRelease?.tagName}\n              next={releaseCandidateGitInfo.rcReleaseTag}\n            />\n          </Typography>\n        </Box>\n      )}\n\n      <Button\n        data-testid={TEST_IDS.createRc.cta}\n        disabled={conflictingPreRelease || tagAlreadyExists || runInvoked}\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => run()}\n      >\n        Create Release Candidate\n      </Button>\n    </InfoCardPlusWrapper>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { calverRegexp } from '../../../helpers/tagParts/getCalverTagParts';\nimport { GetAllReleasesResult } from '../../../api/GitReleaseClient';\nimport { Project } from '../../../contexts/ProjectContext';\nimport { ReleaseStats } from '../contexts/ReleaseStatsContext';\nimport { semverRegexp } from '../../../helpers/tagParts/getSemverTagParts';\n\nexport function getMappedReleases({\n  allReleases,\n  project,\n}: {\n  allReleases: GetAllReleasesResult['releases'];\n  project: Project;\n}) {\n  return {\n    mappedReleases: allReleases.reduce(\n      (acc: ReleaseStats, release) => {\n        const match =\n          project.versioningStrategy === 'semver'\n            ? release.tagName.match(semverRegexp)\n            : release.tagName.match(calverRegexp);\n\n        if (!match) {\n          acc.unmatchedReleases.push(release.tagName);\n          return acc;\n        }\n\n        const baseVersion =\n          project.versioningStrategy === 'semver'\n            ? `${match[2]}.${match[3]}`\n            : match[2];\n\n        if (!acc.releases[baseVersion]) {\n          acc.releases[baseVersion] = {\n            baseVersion,\n            createdAt: release.createdAt,\n            htmlUrl: release.htmlUrl,\n            candidates: [],\n            versions: [],\n          };\n\n          return acc;\n        }\n\n        return acc;\n      },\n      {\n        releases: {},\n        unmappableTags: [],\n        unmatchedReleases: [],\n        unmatchedTags: [],\n      },\n    ),\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { calverRegexp } from '../../../helpers/tagParts/getCalverTagParts';\nimport { GetAllTagsResult } from '../../../api/GitReleaseClient';\nimport { Project } from '../../../contexts/ProjectContext';\nimport { ReleaseStats } from '../contexts/ReleaseStatsContext';\nimport { semverRegexp } from '../../../helpers/tagParts/getSemverTagParts';\n\nexport function getReleaseStats({\n  allTags,\n  project,\n  mappedReleases,\n}: {\n  allTags: GetAllTagsResult['tags'];\n  project: Project;\n  mappedReleases: ReleaseStats;\n}) {\n  const releaseStats = allTags.reduce(\n    (acc: ReleaseStats, tag) => {\n      const match =\n        project.versioningStrategy === 'semver'\n          ? tag.tagName.match(semverRegexp)\n          : tag.tagName.match(calverRegexp);\n\n      if (!match) {\n        acc.unmatchedTags.push(tag.tagName);\n        return acc;\n      }\n\n      const prefix = match[1] as 'rc' | 'version';\n      const baseVersion =\n        project.versioningStrategy === 'semver'\n          ? `${match[2]}.${match[3]}` // major.minor\n          : match[2]; // yyyy.MM.dd\n\n      const release = acc.releases[baseVersion];\n\n      if (!release) {\n        acc.unmappableTags.push(tag.tagName);\n        return acc;\n      }\n\n      const dest = release[prefix === 'rc' ? 'candidates' : 'versions'];\n      dest.push(tag);\n\n      return acc;\n    },\n    {\n      ...mappedReleases,\n    },\n  );\n\n  return {\n    releaseStats,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function getDecimalNumber(n: number, decimals = 2) {\n  if (isNaN(n)) {\n    return 0;\n  }\n\n  if (n.toString().includes('.')) {\n    return parseFloat(n.toFixed(decimals));\n  }\n\n  return n;\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\n\nimport { getDecimalNumber } from '../../helpers/getDecimalNumber';\nimport { useGetReleaseTimes } from '../hooks/useGetReleaseTimes';\n\nexport function AverageReleaseTime({\n  averageReleaseTime,\n}: {\n  averageReleaseTime: ReturnType<\n    typeof useGetReleaseTimes\n  >['averageReleaseTime'];\n}) {\n  if (averageReleaseTime.length === 0) {\n    return <>-</>;\n  }\n\n  const average = averageReleaseTime.reduce(\n    (acc, { daysWithHours }) => {\n      acc.daysWithHours += daysWithHours / averageReleaseTime.length;\n      return acc;\n    },\n    { daysWithHours: 0 },\n  );\n\n  const days = Math.floor(average.daysWithHours);\n  const hours = getDecimalNumber((average.daysWithHours - days) * 24, 1);\n\n  return (\n    <>\n      {days} days {hours} hours\n    </>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\n\nimport { getDecimalNumber } from '../../helpers/getDecimalNumber';\nimport { useGetReleaseTimes } from '../hooks/useGetReleaseTimes';\n\nexport function LongestReleaseTime({\n  averageReleaseTime,\n}: {\n  averageReleaseTime: ReturnType<\n    typeof useGetReleaseTimes\n  >['averageReleaseTime'];\n}) {\n  if (averageReleaseTime.length === 0) {\n    return <>-</>;\n  }\n\n  const longestRelease = [...averageReleaseTime].sort(\n    (a, b) => b.daysWithHours - a.daysWithHours,\n  )[0];\n\n  return (\n    <>\n      {longestRelease.version} ({longestRelease.days} days{' '}\n      {getDecimalNumber(longestRelease.hours, 1)} hours )\n    </>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ReleaseCommitPairs } from '../hooks/useGetReleaseTimes';\nimport { ReleaseStats } from '../../contexts/ReleaseStatsContext';\n\nexport function getReleaseCommitPairs({\n  releaseStats,\n}: {\n  releaseStats: ReleaseStats;\n}) {\n  const releaseCommitPairs = Object.values(releaseStats.releases).reduce(\n    (acc: ReleaseCommitPairs, release) => {\n      const startTag = [...release.candidates].reverse()[0];\n      const endTag = release.versions[0];\n\n      // Missing Release Candidate for unknown reason\n      if (!startTag) {\n        return acc;\n      }\n\n      // Missing Release Version (likely prerelease)\n      if (!endTag) {\n        return acc;\n      }\n\n      return acc.concat({\n        baseVersion: release.baseVersion,\n        startCommit: { ...startTag },\n        endCommit: { ...endTag },\n      });\n    },\n    [],\n  );\n\n  return {\n    releaseCommitPairs,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContext, useContext } from 'react';\n\nimport { GitReleaseManagerError } from '../../../errors/GitReleaseManagerError';\n\nexport interface ReleaseStats {\n  unmappableTags: string[];\n  unmatchedTags: string[];\n  unmatchedReleases: string[];\n  releases: {\n    [baseVersion: string]: {\n      baseVersion: string;\n      createdAt: string | null;\n      htmlUrl: string;\n      candidates: {\n        tagName: string;\n        tagSha: string;\n        tagType: 'tag' | 'commit';\n      }[];\n      versions: {\n        tagName: string;\n        tagSha: string;\n        tagType: 'tag' | 'commit';\n      }[];\n    };\n  };\n}\n\nexport const ReleaseStatsContext = createContext<\n  { releaseStats: ReleaseStats } | undefined\n>(undefined);\n\nexport const useReleaseStatsContext = () => {\n  const { releaseStats } = useContext(ReleaseStatsContext) ?? {};\n\n  if (!releaseStats) {\n    throw new GitReleaseManagerError('releaseStats not found');\n  }\n\n  return {\n    releaseStats,\n  };\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { GitReleaseApi } from '../../../api/GitReleaseClient';\nimport { GitReleaseManagerError } from '../../../errors/GitReleaseManagerError';\nimport { Project } from '../../../contexts/ProjectContext';\n\ninterface GetTagDates {\n  pluginApiClient: GitReleaseApi;\n  project: Project;\n  startTag: {\n    tagSha: string;\n    tagType: 'tag' | 'commit';\n  };\n  endTag?: {\n    tagSha: string;\n    tagType: 'tag' | 'commit';\n  };\n}\n\nexport const getTagDates = async ({\n  pluginApiClient,\n  project,\n  startTag,\n  endTag,\n}: GetTagDates) => {\n  if (!endTag) {\n    if (startTag.tagType === 'tag') {\n      const { tag: startTagResponse } = await pluginApiClient.getTag({\n        owner: project.owner,\n        repo: project.repo,\n        tagSha: startTag.tagSha,\n      });\n\n      return {\n        startDate: startTagResponse.date,\n        endDate: undefined,\n      };\n    }\n\n    // If tagType is not a 'tag', it has to be a commit\n    const { commit: startCommit } = await pluginApiClient.getCommit({\n      owner: project.owner,\n      repo: project.repo,\n      ref: startTag.tagSha,\n    });\n\n    return {\n      startDate: startCommit.createdAt,\n      endDate: undefined,\n    };\n  }\n\n  if (startTag.tagType === 'tag' && endTag.tagType === 'tag') {\n    const [{ tag: startTagResponse }, { tag: endTagResponse }] =\n      await Promise.all([\n        pluginApiClient.getTag({\n          owner: project.owner,\n          repo: project.repo,\n          tagSha: startTag.tagSha,\n        }),\n        pluginApiClient.getTag({\n          owner: project.owner,\n          repo: project.repo,\n          tagSha: endTag.tagSha,\n        }),\n      ]);\n\n    return {\n      startDate: startTagResponse.date,\n      endDate: endTagResponse.date,\n    };\n  }\n\n  if (startTag.tagType === 'commit' && endTag.tagType === 'commit') {\n    const [{ commit: startCommit }, { commit: endCommit }] = await Promise.all([\n      pluginApiClient.getCommit({\n        owner: project.owner,\n        repo: project.repo,\n        ref: startTag.tagSha,\n      }),\n      pluginApiClient.getCommit({\n        owner: project.owner,\n        repo: project.repo,\n        ref: endTag.tagSha,\n      }),\n    ]);\n\n    return {\n      startDate: startCommit.createdAt,\n      endDate: endCommit.createdAt,\n    };\n  }\n\n  if (startTag.tagType === 'tag' && endTag.tagType === 'commit') {\n    const [{ date: startDate }, { commit: endCommit }] = await Promise.all([\n      getCommitFromTag({ pluginApiClient, project, tag: startTag }),\n      pluginApiClient.getCommit({\n        owner: project.owner,\n        repo: project.repo,\n        ref: endTag.tagSha,\n      }),\n    ]);\n\n    return {\n      startDate,\n      endDate: endCommit.createdAt,\n    };\n  }\n\n  if (startTag.tagType === 'commit' && endTag.tagType === 'tag') {\n    const [{ commit: startCommit }, { date: endDate }] = await Promise.all([\n      pluginApiClient.getCommit({\n        owner: project.owner,\n        repo: project.repo,\n        ref: startTag.tagSha,\n      }),\n      getCommitFromTag({ pluginApiClient, project, tag: endTag }),\n    ]);\n\n    return {\n      startDate: startCommit.createdAt,\n      endDate,\n    };\n  }\n\n  throw new GitReleaseManagerError(\n    `Failed to get tag dates for tags with type \"${startTag.tagType}\" and \"${endTag.tagType}\"`,\n  );\n};\n\nasync function getCommitFromTag({\n  pluginApiClient,\n  project,\n  tag,\n}: {\n  pluginApiClient: GetTagDates['pluginApiClient'];\n  project: GetTagDates['project'];\n  tag: GetTagDates['startTag'] | NonNullable<GetTagDates['endTag']>;\n}) {\n  const { tag: tagResponse } = await pluginApiClient.getTag({\n    owner: project.owner,\n    repo: project.repo,\n    tagSha: tag.tagSha,\n  });\n  const { commit: startCommit } = await pluginApiClient.getCommit({\n    owner: project.owner,\n    repo: project.repo,\n    ref: tagResponse.objectSha,\n  });\n\n  return {\n    date: startCommit.createdAt,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect, useState } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport useAsyncFn from 'react-use/lib/useAsyncFn';\nimport { DateTime } from 'luxon';\nimport { getReleaseCommitPairs } from '../helpers/getReleaseCommitPairs';\n\nimport { gitReleaseManagerApiRef } from '../../../../api/serviceApiRef';\nimport { useProjectContext } from '../../../../contexts/ProjectContext';\nimport { useReleaseStatsContext } from '../../contexts/ReleaseStatsContext';\nimport { getTagDates } from '../../helpers/getTagDates';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport type ReleaseCommitPairs = Array<{\n  baseVersion: string;\n  startCommit: {\n    tagName: string;\n    tagSha: string;\n    tagType: 'tag' | 'commit';\n  };\n  endCommit: {\n    tagName: string;\n    tagSha: string;\n    tagType: 'tag' | 'commit';\n  };\n}>;\n\ntype ReleaseTime = {\n  version: string;\n  daysWithHours: number;\n  days: number;\n  hours: number;\n  startCommitCreatedAt?: string;\n  endCommitCreatedAt?: string;\n};\n\nexport function useGetReleaseTimes() {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { project } = useProjectContext();\n  const { releaseStats } = useReleaseStatsContext();\n  const [averageReleaseTime, setAverageReleaseTime] = useState<ReleaseTime[]>(\n    [],\n  );\n  const [progress, setProgress] = useState(0);\n  const { releaseCommitPairs } = getReleaseCommitPairs({ releaseStats });\n\n  const [releaseTimeResult, run] = useAsyncFn(() => {\n    setProgress(0);\n    return getAndSetReleaseTime({ pairIndex: 0 });\n  });\n\n  useAsync(async () => {\n    if (averageReleaseTime.length === 0) return;\n    if (releaseCommitPairs.length === averageReleaseTime.length) return;\n\n    await getAndSetReleaseTime({ pairIndex: averageReleaseTime.length });\n  }, [releaseTimeResult.value, averageReleaseTime]);\n\n  useEffect(() => {\n    const unboundedProgress = Math.round(\n      (averageReleaseTime.length / releaseCommitPairs.length) * 100,\n    );\n    const boundedProgress = unboundedProgress > 100 ? 100 : unboundedProgress;\n\n    setProgress(boundedProgress);\n  }, [averageReleaseTime.length, releaseCommitPairs.length]);\n\n  async function getAndSetReleaseTime({ pairIndex }: { pairIndex: number }) {\n    const { baseVersion, startCommit, endCommit } =\n      releaseCommitPairs[pairIndex];\n\n    const { startDate: startCommitCreatedAt, endDate: endCommitCreatedAt } =\n      await getTagDates({\n        pluginApiClient,\n        project,\n        startTag: startCommit,\n        endTag: endCommit,\n      });\n\n    const releaseTime: ReleaseTime = {\n      version: baseVersion,\n      daysWithHours: 0,\n      days: 0,\n      hours: 0,\n      startCommitCreatedAt,\n      endCommitCreatedAt,\n    };\n\n    if (startCommitCreatedAt && endCommitCreatedAt) {\n      const { days: luxDays = 0, hours: luxHours = 0 } = DateTime.fromISO(\n        endCommitCreatedAt,\n      )\n        .diff(DateTime.fromISO(startCommitCreatedAt), ['days', 'hours'])\n        .toObject();\n\n      releaseTime.daysWithHours = luxDays + luxHours / 24;\n      releaseTime.days = luxDays;\n      releaseTime.hours = luxHours;\n    }\n\n    setAverageReleaseTime([...averageReleaseTime, releaseTime]);\n  }\n\n  return {\n    releaseCommitPairs,\n    averageReleaseTime,\n    progress,\n    run,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  Box,\n  Button,\n  Tooltip as MaterialTooltip,\n  Typography,\n} from '@material-ui/core';\nimport { BarChart, Bar, XAxis, YAxis, Legend, Tooltip } from 'recharts';\n\nimport { AverageReleaseTime } from './AverageReleaseTime';\nimport { LinearProgressWithLabel } from '../../../../components/ResponseStepDialog/LinearProgressWithLabel';\nimport { LongestReleaseTime } from './LongestReleaseTime';\nimport { useGetReleaseTimes } from '../hooks/useGetReleaseTimes';\nimport { useReleaseStatsContext } from '../../contexts/ReleaseStatsContext';\n\nexport function InDepth() {\n  const { releaseStats } = useReleaseStatsContext();\n  const { averageReleaseTime, progress, releaseCommitPairs, run } =\n    useGetReleaseTimes();\n\n  const skipped =\n    Object.keys(releaseStats.releases).length - releaseCommitPairs.length;\n\n  return (\n    <Box style={{ flex: 1 }}>\n      <Box margin={1}>\n        <Typography variant=\"h4\">In-depth</Typography>\n      </Box>\n\n      <Box style={{ display: 'flex' }}>\n        <Box margin={1} style={{ display: 'flex', flex: 1 }}>\n          <Box>\n            <Typography variant=\"h6\">Release time</Typography>\n\n            <Typography variant=\"body2\">\n              <strong>Release time</strong> is derived by comparing{' '}\n              <i>createdAt</i> of the commits belonging to the first and last\n              tag of each release. Releases without patches will have tags\n              pointing towards the same commit and will thus be omitted. This\n              project will omit {skipped} out of the total{' '}\n              {Object.keys(releaseStats.releases).length} releases.\n            </Typography>\n          </Box>\n        </Box>\n\n        <Box\n          margin={1}\n          style={{ display: 'flex', flex: 1, flexDirection: 'column' }}\n        >\n          <Box>\n            <Typography variant=\"h6\">In numbers</Typography>\n\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              <strong>Average release time</strong>:{' '}\n              <AverageReleaseTime averageReleaseTime={averageReleaseTime} />\n            </Typography>\n\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              <strong>Lengthiest release</strong>:{' '}\n              <LongestReleaseTime averageReleaseTime={averageReleaseTime} />\n            </Typography>\n          </Box>\n\n          <Box marginTop={1}>\n            {progress === 0 && (\n              <MaterialTooltip\n                title={`This action will send ~${\n                  releaseCommitPairs.length * 2\n                } requests`}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() => run()}\n                  size=\"small\"\n                >\n                  Crunch the numbers\n                </Button>\n              </MaterialTooltip>\n            )}\n          </Box>\n        </Box>\n      </Box>\n\n      <Box marginTop={4}>\n        <BarChart\n          width={700}\n          height={70 + averageReleaseTime.length * 22}\n          data={\n            averageReleaseTime.length > 0\n              ? averageReleaseTime\n              : [{ version: 'x.y.z', days: 0 }]\n          }\n          margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\n          layout=\"vertical\"\n        >\n          <XAxis type=\"number\" />\n          <YAxis dataKey=\"version\" type=\"category\" />\n          <Tooltip labelStyle={{ color: '#000', fontWeight: 'bold' }} />\n          <Legend />\n          <Bar dataKey=\"days\" fill=\"#82ca9d\" />\n        </BarChart>\n\n        {progress > 0 && progress < 100 && (\n          <Box marginTop={1}>\n            <LinearProgressWithLabel progress={progress} responseSteps={[]} />\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ReleaseStats } from '../contexts/ReleaseStatsContext';\n\nexport function getSummary({ releaseStats }: { releaseStats: ReleaseStats }) {\n  return {\n    summary: Object.entries(releaseStats.releases).reduce(\n      (\n        acc: {\n          totalReleases: number;\n          totalCandidatePatches: number;\n          totalVersionPatches: number;\n        },\n        [_baseVersion, mappedRelease],\n      ) => {\n        const candidatePatches =\n          Object.keys(mappedRelease.candidates).length - 1;\n        const versionPatches = Object.keys(mappedRelease.versions).length - 1;\n\n        acc.totalReleases += 1;\n        acc.totalCandidatePatches +=\n          candidatePatches >= 0 ? candidatePatches : 0;\n        acc.totalVersionPatches += versionPatches >= 0 ? versionPatches : 0;\n\n        return acc;\n      },\n      {\n        totalReleases: 0,\n        totalCandidatePatches: 0,\n        totalVersionPatches: 0,\n      },\n    ),\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  Box,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from '@material-ui/core';\n\nimport { getDecimalNumber } from '../helpers/getDecimalNumber';\nimport { getSummary } from '../helpers/getSummary';\nimport { useReleaseStatsContext } from '../contexts/ReleaseStatsContext';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport function Summary() {\n  const { releaseStats } = useReleaseStatsContext();\n  const { summary } = getSummary({ releaseStats });\n  const classes = useStyles();\n\n  return (\n    <Box margin={1}>\n      <Typography variant=\"h4\">Summary</Typography>\n\n      <Typography variant=\"body2\">\n        <strong>Total releases</strong>: {summary.totalReleases}\n      </Typography>\n\n      <TableContainer>\n        <Table size=\"small\" className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell />\n              <TableCell>Patches</TableCell>\n              <TableCell>Patches per release</TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\">\n                Release Candidate\n              </TableCell>\n              <TableCell>{summary.totalCandidatePatches}</TableCell>\n              <TableCell>\n                {getDecimalNumber(\n                  summary.totalCandidatePatches / summary.totalReleases,\n                )}\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\">\n                Release Version\n              </TableCell>\n              <TableCell>{summary.totalVersionPatches}</TableCell>\n              <TableCell>\n                {getDecimalNumber(\n                  summary.totalVersionPatches / summary.totalReleases,\n                )}\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\">\n                Total\n              </TableCell>\n              <TableCell>\n                {summary.totalCandidatePatches + summary.totalVersionPatches}\n              </TableCell>\n              <TableCell>\n                {getDecimalNumber(\n                  (summary.totalCandidatePatches +\n                    summary.totalVersionPatches) /\n                    summary.totalReleases,\n                )}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Box>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Paper } from '@material-ui/core';\n\nimport { InDepth } from './InDepth/InDepth';\nimport { Summary } from './Summary';\n\nexport function Info() {\n  return (\n    <Paper\n      variant=\"outlined\"\n      style={{\n        padding: 20,\n        marginLeft: 25,\n        marginRight: 25,\n        marginBottom: 25,\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <Summary />\n\n      <InDepth />\n    </Paper>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Box, Typography } from '@material-ui/core';\n\nimport { ReleaseStats } from '../../contexts/ReleaseStatsContext';\n\nexport function ReleaseTagList({\n  releaseStat,\n}: {\n  releaseStat: ReleaseStats['releases']['0'];\n}) {\n  return (\n    <Box\n      style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      {releaseStat.versions.length > 0 && (\n        <Box style={{ position: 'relative' }}>\n          {releaseStat.versions.map(version => (\n            <Typography variant=\"body1\" key={version.tagName}>\n              {version.tagName}\n            </Typography>\n          ))}\n        </Box>\n      )}\n\n      {releaseStat.versions.length > 0 && (\n        <Box\n          margin={1}\n          style={{\n            position: 'relative',\n            transform: 'rotate(-45deg)',\n            fontSize: 30,\n          }}\n        >\n          {' ðŸš€ '}\n        </Box>\n      )}\n\n      <Box style={{ position: 'relative' }}>\n        {releaseStat.candidates.map(candidate => (\n          <Typography variant=\"body1\" key={candidate.tagName}>\n            {candidate.tagName}\n          </Typography>\n        ))}\n      </Box>\n    </Box>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { DateTime } from 'luxon';\nimport { Box, Typography } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\n\nimport { getDecimalNumber } from '../../helpers/getDecimalNumber';\nimport { getTagDates } from '../../helpers/getTagDates';\nimport { gitReleaseManagerApiRef } from '../../../../api/serviceApiRef';\nimport { ReleaseStats } from '../../contexts/ReleaseStatsContext';\nimport { useProjectContext } from '../../../../contexts/ProjectContext';\n\nimport { Progress } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\ninterface ReleaseTimeProps {\n  releaseStat: ReleaseStats['releases']['0'];\n}\n\nexport function ReleaseTime({ releaseStat }: ReleaseTimeProps) {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { project } = useProjectContext();\n\n  const releaseTimes = useAsync(() =>\n    getTagDates({\n      pluginApiClient,\n      project,\n      startTag: [...releaseStat.candidates].reverse()[0],\n      endTag: releaseStat.versions[0],\n    }),\n  );\n\n  if (releaseTimes.loading || releaseTimes.loading) {\n    return (\n      <Wrapper>\n        <Progress />\n      </Wrapper>\n    );\n  }\n\n  if (releaseTimes.error) {\n    return (\n      <Alert severity=\"error\">\n        Failed to fetch the first Release Candidate commit (\n        {releaseTimes.error.message})\n      </Alert>\n    );\n  }\n\n  const { days = 0, hours = 0 } =\n    releaseTimes.value?.startDate && releaseTimes.value?.endDate\n      ? DateTime.fromISO(releaseTimes.value.endDate)\n          .diff(DateTime.fromISO(releaseTimes.value.startDate), [\n            'days',\n            'hours',\n          ])\n          .toObject()\n      : { days: -1 };\n\n  return (\n    <Wrapper>\n      <Box\n        style={{\n          flex: 1,\n          display: 'flex',\n          alignItems: 'flex-start',\n        }}\n      >\n        <Typography variant=\"body1\">\n          {releaseStat.versions.length === 0 ? '-' : 'Release completed '}\n          {releaseTimes.value?.endDate &&\n            DateTime.fromISO(releaseTimes.value.endDate).toFormat('yyyy-MM-dd')}\n        </Typography>\n      </Box>\n\n      <Box\n        style={{\n          flex: 1,\n          display: 'flex',\n          alignItems: 'center',\n        }}\n      >\n        <Typography variant=\"h6\" color=\"secondary\">\n          {days === -1 ? (\n            <>Ongoing</>\n          ) : (\n            <>\n              Completed in: {days} days {getDecimalNumber(hours, 1)} hours\n            </>\n          )}\n        </Typography>\n      </Box>\n\n      <Box\n        style={{\n          flex: 1,\n          display: 'flex',\n          alignItems: 'flex-end',\n        }}\n      >\n        <Typography variant=\"body1\">\n          Release Candidate created{' '}\n          {releaseTimes.value?.startDate &&\n            DateTime.fromISO(releaseTimes.value.startDate).toFormat(\n              'yyyy-MM-dd',\n            )}\n        </Typography>\n      </Box>\n    </Wrapper>\n  );\n}\n\nfunction Wrapper({ children }: { children: React.ReactNode }) {\n  return (\n    <Box\n      style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      {children}\n    </Box>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { Box } from '@material-ui/core';\n\nimport { ReleaseStats } from '../../contexts/ReleaseStatsContext';\nimport { ReleaseTagList } from './ReleaseTagList';\nimport { ReleaseTime } from './ReleaseTime';\n\ninterface RowCollapsedProps {\n  releaseStat: ReleaseStats['releases']['0'];\n}\n\nexport function RowCollapsed({ releaseStat }: RowCollapsedProps) {\n  return (\n    <Box\n      margin={1}\n      style={{\n        display: 'flex',\n        alignItems: 'stretch',\n        paddingLeft: '10%',\n        paddingRight: '10%',\n      }}\n    >\n      <ReleaseTagList releaseStat={releaseStat} />\n\n      <ReleaseTime releaseStat={releaseStat} />\n    </Box>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState } from 'react';\nimport { DateTime } from 'luxon';\nimport {\n  Collapse,\n  IconButton,\n  makeStyles,\n  TableCell,\n  TableRow,\n} from '@material-ui/core';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport { ReleaseStats } from '../contexts/ReleaseStatsContext';\n\nimport { RowCollapsed } from './RowCollapsed/RowCollapsed';\nimport { Link } from '@backstage/core-components';\n\nconst useRowStyles = makeStyles({\n  root: {\n    '& > *': {\n      borderBottom: 'unset',\n    },\n  },\n});\n\ninterface RowProps {\n  baseVersion: string;\n  releaseStat: ReleaseStats['releases']['0'];\n}\n\nexport function Row({ baseVersion, releaseStat }: RowProps) {\n  const [open, setOpen] = useState(false);\n  const classes = useRowStyles();\n\n  return (\n    <>\n      <TableRow className={classes.root}>\n        <TableCell>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            onClick={() => setOpen(!open)}\n          >\n            {open ? <KeyboardArrowDownIcon /> : <ChevronRightIcon />}\n          </IconButton>\n        </TableCell>\n\n        <TableCell component=\"th\" scope=\"row\">\n          <Link to={releaseStat.htmlUrl} target=\"_blank\">\n            {baseVersion}\n            {releaseStat.versions.length === 0 ? ' (prerelease)' : ''}\n          </Link>\n        </TableCell>\n\n        <TableCell>\n          {releaseStat.createdAt\n            ? DateTime.fromISO(releaseStat.createdAt).toFormat('yyyy-MM-dd')\n            : '-'}\n        </TableCell>\n\n        <TableCell>{releaseStat.candidates.length}</TableCell>\n\n        <TableCell>{Math.max(0, releaseStat.versions.length - 1)}</TableCell>\n      </TableRow>\n\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <RowCollapsed releaseStat={releaseStat} />\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport useAsync from 'react-use/lib/useAsync';\nimport { gitReleaseManagerApiRef } from '../../../api/serviceApiRef';\n\nimport { useProjectContext } from '../../../contexts/ProjectContext';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport const useGetStats = () => {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { project } = useProjectContext();\n\n  const stats = useAsync(async () => {\n    const [{ releases: allReleases }, { tags: allTags }] = await Promise.all([\n      pluginApiClient.getAllReleases({\n        owner: project.owner,\n        repo: project.repo,\n      }),\n      pluginApiClient.getAllTags({\n        owner: project.owner,\n        repo: project.repo,\n      }),\n    ]);\n\n    return {\n      allReleases,\n      allTags,\n    };\n  }, [project]);\n\n  return {\n    stats,\n  };\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Alert } from '@material-ui/lab';\nimport { Box, Button } from '@material-ui/core';\n\nimport { useProjectContext } from '../../contexts/ProjectContext';\nimport { useReleaseStatsContext } from './contexts/ReleaseStatsContext';\n\nexport const Warn = () => {\n  const { releaseStats } = useReleaseStatsContext();\n  const { project } = useProjectContext();\n\n  return (\n    <Box marginTop={2}>\n      <Alert severity=\"warning\" style={{ marginBottom: 10 }}>\n        {releaseStats.unmappableTags.length > 0 && (\n          <div>\n            Failed to map <strong>{releaseStats.unmappableTags.length}</strong>{' '}\n            tags to releases\n          </div>\n        )}\n\n        {releaseStats.unmatchedTags.length > 0 && (\n          <div>\n            Failed to match <strong>{releaseStats.unmatchedTags.length}</strong>{' '}\n            tags to {project.versioningStrategy}\n          </div>\n        )}\n\n        {releaseStats.unmatchedReleases.length > 0 && (\n          <div>\n            Failed to match{' '}\n            <strong>{releaseStats.unmatchedReleases.length}</strong> releases to{' '}\n            {project.versioningStrategy}\n          </div>\n        )}\n\n        <Box marginTop={1} marginBottom={1}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            size=\"small\"\n            onClick={() => {\n              // eslint-disable-next-line no-console\n              console.log(\"Here's all unmapped/unmatched tags/releases\", {\n                unmatchedReleases: releaseStats.unmatchedReleases,\n                unmatchedTags: releaseStats.unmatchedTags,\n                unmappableTags: releaseStats.unmappableTags,\n              });\n            }}\n          >\n            Log all unmapped/unmatched tags/releases to the console\n          </Button>\n        </Box>\n      </Alert>\n    </Box>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Alert } from '@material-ui/lab';\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core';\nimport { getMappedReleases } from './helpers/getMappedReleases';\n\nimport { getReleaseStats } from './helpers/getReleaseStats';\nimport { Info } from './Info/Info';\nimport { ReleaseStatsContext } from './contexts/ReleaseStatsContext';\nimport { Row } from './Row/Row';\nimport { useGetStats } from './hooks/useGetStats';\nimport { useProjectContext } from '../../contexts/ProjectContext';\nimport { Warn } from './Warn';\nimport { Progress } from '@backstage/core-components';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport function DialogBody() {\n  const classes = useStyles();\n  const { stats } = useGetStats();\n  const { project } = useProjectContext();\n\n  if (stats.error) {\n    return (\n      <Alert severity=\"error\">Unexpected error: {stats.error.message}</Alert>\n    );\n  }\n\n  if (stats.loading) {\n    return <Progress />;\n  }\n\n  if (!stats.value) {\n    return <Alert severity=\"error\">Couldn't find any stats :(</Alert>;\n  }\n\n  const { allReleases, allTags } = stats.value;\n  const { mappedReleases } = getMappedReleases({ allReleases, project });\n  const { releaseStats } = getReleaseStats({\n    mappedReleases,\n    allTags,\n    project,\n  });\n\n  return (\n    <ReleaseStatsContext.Provider value={{ releaseStats }}>\n      <Info />\n\n      <TableContainer>\n        <Table className={classes.table} size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell />\n              <TableCell>Release</TableCell>\n              <TableCell>Created at</TableCell>\n              <TableCell># candidate patches</TableCell>\n              <TableCell># release patches</TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {Object.entries(releaseStats.releases).map(\n              ([baseVersion, releaseStat], index) => {\n                return (\n                  <Row\n                    key={`row-${index}`}\n                    baseVersion={baseVersion}\n                    releaseStat={releaseStat}\n                  />\n                );\n              },\n            )}\n          </TableBody>\n        </Table>\n\n        {(releaseStats.unmappableTags.length > 0 ||\n          releaseStats.unmatchedTags.length > 0 ||\n          releaseStats.unmatchedReleases.length > 0) && <Warn />}\n      </TableContainer>\n    </ReleaseStatsContext.Provider>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  createStyles,\n  IconButton,\n  Theme,\n  Typography,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\n\nimport { Stats } from './Stats';\n\ninterface DialogTitleProps extends WithStyles<typeof styles> {\n  children: React.ReactNode;\n  setShowStats: React.ComponentProps<typeof Stats>['setShowStats'];\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      margin: 0,\n      padding: theme.spacing(2),\n    },\n    closeButton: {\n      position: 'absolute',\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n  });\n\nexport const DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\n  const { children, classes, setShowStats, ...other } = props;\n\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      <IconButton\n        aria-label=\"close\"\n        className={classes.closeButton}\n        onClick={() => setShowStats(false)}\n      >\n        <CloseIcon />\n      </IconButton>\n    </MuiDialogTitle>\n  );\n});\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Button, Dialog, Theme, withStyles } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\n\nimport { DialogBody } from './DialogBody';\nimport { DialogTitle } from './DialogTitle';\nimport { Transition } from '../../components/Transition';\n\nconst DialogContent = withStyles((theme: Theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme: Theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\ninterface StatsProps {\n  setShowStats: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport function Stats({ setShowStats }: StatsProps) {\n  return (\n    <Dialog open maxWidth=\"md\" fullWidth TransitionComponent={Transition}>\n      <DialogTitle setShowStats={setShowStats}>Stats</DialogTitle>\n\n      <DialogContent>\n        <DialogBody />\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={() => setShowStats(false)}\n          variant=\"contained\"\n          size=\"large\"\n          color=\"primary\"\n          startIcon={<CloseIcon />}\n        >\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState } from 'react';\nimport { Typography, Button, Box } from '@material-ui/core';\nimport BarChartIcon from '@material-ui/icons/BarChart';\n\nimport {\n  GetBranchResult,\n  GetLatestReleaseResult,\n} from '../../api/GitReleaseClient';\nimport { Differ } from '../../components/Differ';\nimport { InfoCardPlus } from '../../components/InfoCardPlus';\nimport { Stats } from '../Stats/Stats';\nimport { TEST_IDS } from '../../test-helpers/test-ids';\nimport { useProjectContext } from '../../contexts/ProjectContext';\nimport flowImage from './flow.png';\nimport { Link } from '@backstage/core-components';\n\ninterface InfoCardProps {\n  releaseBranch: GetBranchResult['branch'] | null;\n  latestRelease: GetLatestReleaseResult['latestRelease'];\n  statsEnabled: boolean;\n}\n\nexport const Info = ({\n  releaseBranch,\n  latestRelease,\n  statsEnabled,\n}: InfoCardProps) => {\n  const { project } = useProjectContext();\n  const [showStats, setShowStats] = useState(false);\n\n  return (\n    <InfoCardPlus>\n      <Box marginBottom={1} data-testid={TEST_IDS.info.info}>\n        <Typography variant=\"h6\">Terminology</Typography>\n\n        <Typography>\n          <strong>Git</strong>: The source control system where releases reside\n          in a practical sense. Read more about{' '}\n          <Link\n            to=\"https://docs.github.com/en/github/administering-a-repository/managing-releases-in-a-repository\"\n            target=\"_blank\"\n          >\n            Git releases\n          </Link>\n          .\n        </Typography>\n\n        <Typography>\n          <strong>Release Candidate</strong>: A Git <i>prerelease</i> intended\n          primarily for internal testing\n        </Typography>\n\n        <Typography>\n          <strong>Release Version</strong>: A Git release intended for end users\n        </Typography>\n      </Box>\n\n      <Box marginBottom={1}>\n        <Typography variant=\"h6\">Flow</Typography>\n\n        <Box marginBottom={2}>\n          <Typography>\n            Git Release Manager is built with a specific flow in mind. For\n            example, it assumes your project is configured to react to tags\n            prefixed with <b>rc</b> or <b>version</b>.\n          </Typography>\n        </Box>\n\n        <Box marginBottom={2}>\n          <Typography>Here's an overview of the flow:</Typography>\n        </Box>\n\n        <img alt=\"flow\" src={flowImage} style={{ width: '100%' }} />\n      </Box>\n\n      <Box marginBottom={1}>\n        <Typography variant=\"h6\">Details</Typography>\n\n        <Typography>\n          Repository:{' '}\n          <Differ icon=\"github\" next={`${project.owner}/${project.repo}`} />\n        </Typography>\n\n        <Typography>\n          Versioning strategy:{' '}\n          <Differ icon=\"versioning\" next={project.versioningStrategy} />\n        </Typography>\n\n        <Typography>\n          Latest release branch:{' '}\n          <Differ icon=\"branch\" next={releaseBranch?.name} />\n        </Typography>\n\n        <Typography>\n          Latest release: <Differ icon=\"tag\" next={latestRelease?.tagName} />\n        </Typography>\n      </Box>\n\n      {statsEnabled && (\n        <Box>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => setShowStats(true)}\n            startIcon={<BarChartIcon />}\n            size=\"small\"\n          >\n            Show stats\n          </Button>\n\n          {showStats && <Stats setShowStats={setShowStats} />}\n        </Box>\n      )}\n    </InfoCardPlus>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const getPatchCommitSuffix = ({ commitSha }: { commitSha: string }) => {\n  return `[Backstage patch ${commitSha}]`;\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\nimport useAsyncFn from 'react-use/lib/useAsyncFn';\nimport React from 'react';\n\nimport { CalverTagParts } from '../../../helpers/tagParts/getCalverTagParts';\nimport { getPatchCommitSuffix } from '../helpers/getPatchCommitSuffix';\nimport { GetRecentCommitsResultSingle } from '../../../api/GitReleaseClient';\nimport { gitReleaseManagerApiRef } from '../../../api/serviceApiRef';\nimport { GitReleaseManagerError } from '../../../errors/GitReleaseManagerError';\nimport { Project } from '../../../contexts/ProjectContext';\nimport { SemverTagParts } from '../../../helpers/tagParts/getSemverTagParts';\nimport { useResponseSteps } from '../../../hooks/useResponseSteps';\n\nexport interface UsePatchDryRun {\n  bumpedTag: string;\n  releaseBranchName: string;\n  project: Project;\n  tagParts: NonNullable<CalverTagParts | SemverTagParts>;\n}\n\nconst PatchDryRunMessage = ({ message }: { message: string }) => (\n  <>\n    <strong>[Patch dry run]</strong> {message}\n  </>\n);\n\n// Inspiration: https://stackoverflow.com/questions/53859199/how-to-cherry-pick-through-githubs-api\nexport function usePatchDryRun({\n  bumpedTag,\n  releaseBranchName,\n  project,\n  tagParts,\n}: UsePatchDryRun) {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { responseSteps, addStepToResponseSteps, asyncCatcher, abortIfError } =\n    useResponseSteps();\n\n  const tempPatchBranchName = `${releaseBranchName}-backstage-grm-patch-dry-run`;\n\n  /**\n   * (1) Get the release branch's most recent commit\n   */\n  const [latestCommitOnReleaseBranchRes, run] = useAsyncFn(\n    async (selectedPatchCommit: GetRecentCommitsResultSingle) => {\n      try {\n        await pluginApiClient.deleteRef({\n          owner: project.owner,\n          repo: project.repo,\n          ref: `heads/${tempPatchBranchName}`,\n        });\n      } catch (error: any) {\n        if (error.message !== 'Reference does not exist') {\n          throw error;\n        }\n      }\n\n      const { commit: latestCommit } = await pluginApiClient\n        .getCommit({\n          owner: project.owner,\n          repo: project.repo,\n          ref: releaseBranchName,\n        })\n        .catch(asyncCatcher);\n\n      addStepToResponseSteps({\n        message: (\n          <PatchDryRunMessage\n            message={`Fetched latest commit from \"${releaseBranchName}\"`}\n          />\n        ),\n      });\n\n      return {\n        latestCommit,\n        selectedPatchCommit,\n      };\n    },\n  );\n\n  /**\n   * (2) Create temporary patch branch based on release branch's most recent sha\n   * to test if programmatic cherry pick patching is possible\n   */\n  const createTempPatchBranchRes = useAsync(async () => {\n    abortIfError(latestCommitOnReleaseBranchRes.error);\n    if (!latestCommitOnReleaseBranchRes.value) return undefined;\n\n    const { reference: createdReleaseBranch } = await pluginApiClient\n      .createRef({\n        owner: project.owner,\n        repo: project.repo,\n        sha: latestCommitOnReleaseBranchRes.value.latestCommit.sha,\n        ref: `refs/heads/${tempPatchBranchName}`,\n      })\n      .catch(error => {\n        if (error?.body?.message === 'Reference already exists') {\n          throw new GitReleaseManagerError(\n            `Branch \"${tempPatchBranchName}\" already exists: .../tree/${tempPatchBranchName}`,\n          );\n        }\n        throw error;\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: (\n        <PatchDryRunMessage\n          message={`Created temporary patch dry run branch \"${tempPatchBranchName}\"`}\n        />\n      ),\n    });\n\n    return {\n      ...createdReleaseBranch,\n      selectedPatchCommit:\n        latestCommitOnReleaseBranchRes.value.selectedPatchCommit,\n    };\n  }, [\n    latestCommitOnReleaseBranchRes.value,\n    latestCommitOnReleaseBranchRes.error,\n  ]);\n\n  /**\n   * (3) Here is the branch we want to cherry-pick to:\n   * > branch = GET /repos/$owner/$repo/branches/$branchName\n   * > branchSha = branch.commit.sha\n   * > branchTree = branch.commit.commit.tree.sha\n   */\n  const tempPatchBranchRes = useAsync(async () => {\n    abortIfError(createTempPatchBranchRes.error);\n    if (!createTempPatchBranchRes.value) return undefined;\n\n    const { branch: releaseBranch } = await pluginApiClient\n      .getBranch({\n        owner: project.owner,\n        repo: project.repo,\n        branch: tempPatchBranchName,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: (\n        <PatchDryRunMessage\n          message={`Fetched release branch \"${releaseBranch.name}\"`}\n        />\n      ),\n    });\n\n    return {\n      releaseBranch,\n      selectedPatchCommit: createTempPatchBranchRes.value.selectedPatchCommit,\n    };\n  }, [createTempPatchBranchRes.value, createTempPatchBranchRes.error]);\n\n  /**\n   *  (4) Create a temporary commit on the branch, which extends as a sibling of\n   *  the commit we want but contains the current tree of the target branch:\n   *  > parentSha = commit.parents.head // first parent -- there should only be one\n   *  > tempCommit = POST /repos/$owner/$repo/git/commits { \"message\": \"temp\", \"tree\": branchTree, \"parents\": [parentSha] }\n   */\n  const tempCommitRes = useAsync(async () => {\n    abortIfError(tempPatchBranchRes.error);\n    if (!tempPatchBranchRes.value) return undefined;\n\n    const { commit: tempCommit } = await pluginApiClient\n      .createCommit({\n        owner: project.owner,\n        repo: project.repo,\n        message: `Temporary commit for patch ${tagParts.patch}`,\n        parents: [\n          tempPatchBranchRes.value.selectedPatchCommit.firstParentSha ?? '',\n        ],\n        tree: tempPatchBranchRes.value.releaseBranch.commit.commit.tree.sha,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: <PatchDryRunMessage message=\"Created temporary commit\" />,\n    });\n\n    return {\n      ...tempCommit,\n    };\n  }, [tempPatchBranchRes.value, tempPatchBranchRes.error]);\n\n  /**\n   * (5) Now temporarily force the branch over to that commit:\n   * > PATCH /repos/$owner/$repo/git/refs/heads/$refName { sha = tempCommit.sha, force = true }\n   */\n  const forceBranchRes = useAsync(async () => {\n    abortIfError(tempCommitRes.error);\n    if (!tempCommitRes.value) return undefined;\n\n    await pluginApiClient\n      .updateRef({\n        owner: project.owner,\n        repo: project.repo,\n        sha: tempCommitRes.value.sha,\n        ref: `heads/${tempPatchBranchName}`,\n        force: true,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: (\n        <PatchDryRunMessage\n          message={`Forced branch \"${tempPatchBranchName}\" to temporary commit \"${tempCommitRes.value.sha}\"`}\n        />\n      ),\n    });\n\n    return {\n      trigger: 'next step ðŸš€ ',\n    };\n  }, [tempCommitRes.value, tempCommitRes.error]);\n\n  /**\n   * (6) Merge the commit we want into this mess:\n   * > merge = POST /repos/$owner/$repo/merges { \"base\": branchName, \"head\": commit.sha }\n   */\n  const mergeRes = useAsync(async () => {\n    abortIfError(forceBranchRes.error);\n    if (!forceBranchRes.value || !tempPatchBranchRes.value) return undefined;\n\n    const { merge } = await pluginApiClient\n      .merge({\n        owner: project.owner,\n        repo: project.repo,\n        base: tempPatchBranchName,\n        head: tempPatchBranchRes.value.selectedPatchCommit.sha,\n      })\n      .catch(async error => {\n        if (error?.message === 'Merge conflict') {\n          try {\n            await pluginApiClient.deleteRef({\n              owner: project.owner,\n              repo: project.repo,\n              ref: `heads/${tempPatchBranchName}`,\n            });\n          } catch (_error) {\n            // swallow\n          }\n\n          throw new GitReleaseManagerError(\n            'Patching failed due to merge conflict. Will attempt to delete temporary patch dry run branch. Manual patching is recommended.',\n          );\n        }\n\n        throw error;\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: (\n        <PatchDryRunMessage\n          message={`Merged temporary commit into \"${tempPatchBranchName}\"`}\n        />\n      ),\n    });\n\n    return {\n      ...merge,\n    };\n  }, [forceBranchRes.value, forceBranchRes.error]);\n\n  /**\n   * (7) Now that we know what the tree should be, create the cherry-pick commit.\n   * Note that branchSha is the original from up at the top.\n   * > cherry = POST /repos/$owner/$repo/git/commits { \"message\": \"looks good!\", \"tree\": mergeTree, \"parents\": [branchSha] }\n   */\n  const cherryPickRes = useAsync(async () => {\n    abortIfError(mergeRes.error);\n    if (!mergeRes.value || !tempPatchBranchRes.value) return undefined;\n\n    const releaseBranchSha = tempPatchBranchRes.value.releaseBranch.commit.sha;\n    const {\n      commit: { message },\n      sha: commitSha,\n    } = tempPatchBranchRes.value.selectedPatchCommit;\n\n    const { commit: cherryPickCommit } = await pluginApiClient.createCommit({\n      owner: project.owner,\n      repo: project.repo,\n      message: `[patch (dry run) ${bumpedTag}] ${message}\n\n      ${getPatchCommitSuffix({ commitSha })}`,\n      parents: [releaseBranchSha],\n      tree: mergeRes.value.commit.tree.sha,\n    });\n\n    addStepToResponseSteps({\n      message: (\n        <PatchDryRunMessage\n          message={`Cherry-picked patch commit to \"${releaseBranchSha}\"`}\n        />\n      ),\n    });\n\n    return {\n      ...cherryPickCommit,\n    };\n  }, [mergeRes.value, mergeRes.error]);\n\n  /**\n   * (8) Replace the temp commit with the real commit:\n   * > PATCH /repos/$owner/$repo/git/refs/heads/$refName { sha = cherry.sha, force = true }\n   */\n  const updatedRefRes = useAsync(async () => {\n    abortIfError(cherryPickRes.error);\n    if (!cherryPickRes.value) return undefined;\n\n    const { reference: updatedReference } = await pluginApiClient\n      .updateRef({\n        owner: project.owner,\n        repo: project.repo,\n        ref: `heads/${tempPatchBranchName}`,\n        sha: cherryPickRes.value.sha,\n        force: true,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: (\n        <PatchDryRunMessage\n          message={`Updated reference \"${updatedReference.ref}\"`}\n        />\n      ),\n    });\n\n    return {\n      ...updatedReference,\n    };\n  }, [cherryPickRes.value, cherryPickRes.error]);\n\n  /**\n   * (9) Delete temp patch branch\n   */\n  const deleteTempPatchBranchRes = useAsync(async () => {\n    abortIfError(updatedRefRes.error);\n    if (!updatedRefRes.value) return undefined;\n\n    const { success: deletedReferenceSuccess } =\n      await pluginApiClient.deleteRef({\n        owner: project.owner,\n        repo: project.repo,\n        ref: `heads/${tempPatchBranchName}`,\n      });\n\n    addStepToResponseSteps({\n      message: (\n        <PatchDryRunMessage\n          message={`Deleted temporary patch prep branch \"${tempPatchBranchName}\"`}\n        />\n      ),\n    });\n\n    return {\n      deletedReferenceSuccess,\n    };\n  }, [updatedRefRes.value, updatedRefRes.error]);\n\n  const TOTAL_PATCH_PREP_STEPS = 9;\n\n  return {\n    TOTAL_PATCH_PREP_STEPS,\n    run,\n    runInvoked: Boolean(\n      deleteTempPatchBranchRes.loading ||\n        deleteTempPatchBranchRes.value ||\n        deleteTempPatchBranchRes.error,\n    ),\n    lastCallRes: deleteTempPatchBranchRes,\n    responseSteps,\n    addStepToResponseSteps,\n    asyncCatcher,\n    abortIfError,\n    selectedPatchCommit: latestCommitOnReleaseBranchRes.value\n      ?.selectedPatchCommit as GetRecentCommitsResultSingle,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport useAsync from 'react-use/lib/useAsync';\nimport { useEffect, useState } from 'react';\n\nimport {\n  CardHook,\n  ComponentConfig,\n  PatchOnSuccessArgs,\n} from '../../../types/types';\nimport {\n  GetLatestReleaseResult,\n  GetRecentCommitsResultSingle,\n} from '../../../api/GitReleaseClient';\nimport { CalverTagParts } from '../../../helpers/tagParts/getCalverTagParts';\nimport { getPatchCommitSuffix } from '../helpers/getPatchCommitSuffix';\nimport { gitReleaseManagerApiRef } from '../../../api/serviceApiRef';\nimport { Project } from '../../../contexts/ProjectContext';\nimport { SemverTagParts } from '../../../helpers/tagParts/getSemverTagParts';\nimport { TAG_OBJECT_MESSAGE } from '../../../constants/constants';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { usePatchDryRun } from './usePatchDryRun';\nimport { useUserContext } from '../../../contexts/UserContext';\n\nexport interface UsePatch {\n  bumpedTag: string;\n  latestRelease: NonNullable<GetLatestReleaseResult['latestRelease']>;\n  project: Project;\n  tagParts: NonNullable<CalverTagParts | SemverTagParts>;\n  onSuccess?: ComponentConfig<PatchOnSuccessArgs>['onSuccess'];\n}\n\n// Inspiration: https://stackoverflow.com/questions/53859199/how-to-cherry-pick-through-githubs-api\nexport function usePatch({\n  bumpedTag,\n  latestRelease,\n  project,\n  tagParts,\n  onSuccess,\n}: UsePatch): CardHook<GetRecentCommitsResultSingle> {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { user } = useUserContext();\n\n  const releaseBranchName = latestRelease.targetCommitish;\n\n  const {\n    run,\n    runInvoked,\n    lastCallRes,\n    abortIfError,\n    addStepToResponseSteps,\n    asyncCatcher,\n    responseSteps,\n    TOTAL_PATCH_PREP_STEPS,\n    selectedPatchCommit,\n  } = usePatchDryRun({\n    bumpedTag,\n    releaseBranchName,\n    project,\n    tagParts,\n  });\n\n  /**\n   * (1) Here is the branch we want to cherry-pick to:\n   * > branch = GET /repos/$owner/$repo/branches/$branchName\n   * > branchSha = branch.commit.sha\n   * > branchTree = branch.commit.commit.tree.sha\n   */\n  const releaseBranchRes = useAsync(async () => {\n    abortIfError(lastCallRes.error);\n    if (!lastCallRes.value) return undefined;\n\n    const { branch: releaseBranch } = await pluginApiClient\n      .getBranch({\n        owner: project.owner,\n        repo: project.repo,\n        branch: releaseBranchName,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Fetched release branch \"${releaseBranch.name}\"`,\n      link: releaseBranch.links.html,\n    });\n\n    return {\n      releaseBranch,\n    };\n  }, [lastCallRes.value, lastCallRes.error]);\n\n  /**\n   *  (2) Create a temporary commit on the branch, which extends as a sibling of\n   *  the commit we want but contains the current tree of the target branch:\n   *  > parentSha = commit.parents.head // first parent -- there should only be one\n   *  > tempCommit = POST /repos/$owner/$repo/git/commits { \"message\": \"temp\", \"tree\": branchTree, \"parents\": [parentSha] }\n   */\n  const tempCommitRes = useAsync(async () => {\n    abortIfError(releaseBranchRes.error);\n    if (!releaseBranchRes.value) return undefined;\n\n    const { commit: tempCommit } = await pluginApiClient\n      .createCommit({\n        owner: project.owner,\n        repo: project.repo,\n        message: `Temporary commit for patch ${tagParts.patch}`,\n        parents: [selectedPatchCommit.firstParentSha ?? ''],\n        tree: releaseBranchRes.value.releaseBranch.commit.commit.tree.sha,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Created temporary commit',\n      secondaryMessage: `with message \"${tempCommit.message}\"`,\n    });\n\n    return {\n      ...tempCommit,\n    };\n  }, [releaseBranchRes.value, releaseBranchRes.error]);\n\n  /**\n   * (3) Now temporarily force the branch over to that commit:\n   * > PATCH /repos/$owner/$repo/git/refs/heads/$refName { sha = tempCommit.sha, force = true }\n   */\n  const forceBranchRes = useAsync(async () => {\n    abortIfError(tempCommitRes.error);\n    if (!tempCommitRes.value) return undefined;\n\n    await pluginApiClient\n      .updateRef({\n        owner: project.owner,\n        repo: project.repo,\n        sha: tempCommitRes.value.sha,\n        ref: `heads/${releaseBranchName}`,\n        force: true,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Forced branch \"${releaseBranchName}\" to temporary commit \"${tempCommitRes.value.sha}\"`,\n    });\n\n    return {\n      trigger: 'next step ðŸš€ ',\n    };\n  }, [tempCommitRes.value, tempCommitRes.error]);\n\n  /**\n   * (4) Merge the commit we want into this mess:\n   * > merge = POST /repos/$owner/$repo/merges { \"base\": branchName, \"head\": commit.sha }\n   */\n  const mergeRes = useAsync(async () => {\n    abortIfError(forceBranchRes.error);\n    if (!forceBranchRes.value || !releaseBranchRes.value) return undefined;\n\n    const { merge } = await pluginApiClient\n      .merge({\n        owner: project.owner,\n        repo: project.repo,\n        base: releaseBranchName,\n        head: selectedPatchCommit.sha,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Merged temporary commit into \"${releaseBranchName}\"`,\n      secondaryMessage: `with message \"${merge.commit.message}\"`,\n      link: merge.htmlUrl,\n    });\n\n    return {\n      ...merge,\n    };\n  }, [forceBranchRes.value, forceBranchRes.error]);\n\n  /**\n   * (5) Now that we know what the tree should be, create the cherry-pick commit.\n   * Note that branchSha is the original from up at the top.\n   * > cherry = POST /repos/$owner/$repo/git/commits { \"message\": \"looks good!\", \"tree\": mergeTree, \"parents\": [branchSha] }\n   */\n  const cherryPickRes = useAsync(async () => {\n    abortIfError(mergeRes.error);\n    if (!mergeRes.value || !releaseBranchRes.value) return undefined;\n\n    const releaseBranchSha = releaseBranchRes.value.releaseBranch.commit.sha;\n\n    const { commit: cherryPickCommit } = await pluginApiClient.createCommit({\n      owner: project.owner,\n      repo: project.repo,\n      message: `[patch ${bumpedTag}] ${selectedPatchCommit.commit.message}\n\n      ${getPatchCommitSuffix({\n        commitSha: selectedPatchCommit.sha,\n      })}`,\n      parents: [releaseBranchSha],\n      tree: mergeRes.value.commit.tree.sha,\n    });\n\n    addStepToResponseSteps({\n      message: `Cherry-picked patch commit to \"${releaseBranchSha}\"`,\n      secondaryMessage: `with message \"${cherryPickCommit.message}\"`,\n    });\n\n    return {\n      ...cherryPickCommit,\n    };\n  }, [mergeRes.value, mergeRes.error]);\n\n  /**\n   * (6) Replace the temp commit with the real commit:\n   * > PATCH /repos/$owner/$repo/git/refs/heads/$refName { sha = cherry.sha, force = true }\n   */\n  const updatedRefRes = useAsync(async () => {\n    abortIfError(cherryPickRes.error);\n    if (!cherryPickRes.value) return undefined;\n\n    const { reference: updatedReference } = await pluginApiClient\n      .updateRef({\n        owner: project.owner,\n        repo: project.repo,\n        ref: `heads/${releaseBranchName}`,\n        sha: cherryPickRes.value.sha,\n        force: true,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Updated reference \"${updatedReference.ref}\"`,\n    });\n\n    return {\n      ...updatedReference,\n    };\n  }, [cherryPickRes.value, cherryPickRes.error]);\n\n  /**\n   * (7) Create tag object: https://developer.github.com/v3/git/tags/#create-a-tag-object\n   * > POST /repos/:owner/:repo/git/tags\n   */\n  const createdTagObjRes = useAsync(async () => {\n    abortIfError(updatedRefRes.error);\n    if (!updatedRefRes.value) return undefined;\n\n    const { tagObject } = await pluginApiClient\n      .createTagObject({\n        owner: project.owner,\n        repo: project.repo,\n        tag: bumpedTag,\n        object: updatedRefRes.value.object.sha,\n        message: TAG_OBJECT_MESSAGE,\n        taggerName: user.username,\n        taggerEmail: user.email,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Created new tag object',\n      secondaryMessage: `with name \"${tagObject.tagName}\"`,\n    });\n\n    return {\n      ...tagObject,\n    };\n  }, [updatedRefRes.value, updatedRefRes.error]);\n\n  /**\n   * (8) Create a reference: https://developer.github.com/v3/git/refs/#create-a-reference\n   * > POST /repos/:owner/:repo/git/refs\n   */\n  const createdReferenceRes = useAsync(async () => {\n    abortIfError(createdTagObjRes.error);\n    if (!createdTagObjRes.value) return undefined;\n\n    const { reference } = await pluginApiClient\n      .createRef({\n        owner: project.owner,\n        repo: project.repo,\n        ref: `refs/tags/${bumpedTag}`,\n        sha: createdTagObjRes.value.tagSha,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Created new reference \"${reference.ref}\"`,\n      secondaryMessage: `for tag object \"${createdTagObjRes.value.tagName}\"`,\n    });\n\n    return {\n      ...reference,\n    };\n  }, [createdTagObjRes.value, createdTagObjRes.error]);\n\n  /**\n   * (9) Update release\n   */\n  const updatedReleaseRes = useAsync(async () => {\n    abortIfError(createdReferenceRes.error);\n    if (!createdReferenceRes.value || !releaseBranchRes.value) return undefined;\n\n    const { release } = await pluginApiClient\n      .updateRelease({\n        owner: project.owner,\n        repo: project.repo,\n        releaseId: latestRelease.id,\n        tagName: bumpedTag,\n        body: `${latestRelease.body}\n\n#### [Patch ${tagParts.patch}](${selectedPatchCommit.htmlUrl})\n\n${selectedPatchCommit.commit.message}`,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Updated release \"${release.name}\"`,\n      secondaryMessage: `with tag ${release.tagName}`,\n      link: release.htmlUrl,\n    });\n\n    return {\n      ...release,\n    };\n  }, [createdReferenceRes.value, createdReferenceRes.error]);\n\n  /**\n   * (10) Run onSuccess if defined\n   */\n  useAsync(async () => {\n    if (!onSuccess) return;\n    abortIfError(updatedReleaseRes.error);\n\n    if (!updatedReleaseRes.value || !releaseBranchRes.value) return;\n\n    try {\n      await onSuccess?.({\n        input: {\n          bumpedTag,\n          latestRelease,\n          project,\n          tagParts,\n        },\n        patchCommitMessage: selectedPatchCommit.commit.message,\n        patchCommitUrl: selectedPatchCommit.htmlUrl,\n        patchedTag: updatedReleaseRes.value.tagName,\n        previousTag: latestRelease.tagName,\n        updatedReleaseName: updatedReleaseRes.value.name,\n        updatedReleaseUrl: updatedReleaseRes.value.htmlUrl,\n      });\n    } catch (error) {\n      asyncCatcher(error as Error);\n    }\n\n    addStepToResponseSteps({\n      message: 'Success callback successfully called ðŸš€',\n      icon: 'success',\n    });\n  }, [updatedReleaseRes.value, updatedReleaseRes.error]);\n\n  const TOTAL_STEPS = 9 + (!!onSuccess ? 1 : 0) + TOTAL_PATCH_PREP_STEPS;\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    setProgress((responseSteps.length / TOTAL_STEPS) * 100);\n  }, [TOTAL_STEPS, responseSteps.length]);\n\n  return {\n    progress,\n    responseSteps,\n    run,\n    runInvoked,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  ListItemText,\n  Paper,\n  Typography,\n} from '@material-ui/core';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\n\nimport {\n  GetBranchResult,\n  GetLatestReleaseResult,\n} from '../../api/GitReleaseClient';\nimport { CalverTagParts } from '../../helpers/tagParts/getCalverTagParts';\nimport { ComponentConfig, PatchOnSuccessArgs } from '../../types/types';\nimport { Differ } from '../../components/Differ';\nimport { getPatchCommitSuffix } from './helpers/getPatchCommitSuffix';\nimport { gitReleaseManagerApiRef } from '../../api/serviceApiRef';\nimport { GitReleaseManagerError } from '../../errors/GitReleaseManagerError';\nimport { ResponseStepDialog } from '../../components/ResponseStepDialog/ResponseStepDialog';\nimport { SemverTagParts } from '../../helpers/tagParts/getSemverTagParts';\nimport { TEST_IDS } from '../../test-helpers/test-ids';\nimport { usePatch } from './hooks/usePatch';\nimport { useProjectContext } from '../../contexts/ProjectContext';\n\nimport { Link, Progress } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\ninterface PatchBodyProps {\n  bumpedTag: string;\n  latestRelease: NonNullable<GetLatestReleaseResult['latestRelease']>;\n  releaseBranch: GetBranchResult['branch'];\n  onSuccess?: ComponentConfig<PatchOnSuccessArgs>['onSuccess'];\n  tagParts: NonNullable<CalverTagParts | SemverTagParts>;\n  ctaMessage: string;\n}\n\nexport const PatchBody = ({\n  bumpedTag,\n  latestRelease,\n  releaseBranch,\n  onSuccess,\n  tagParts,\n  ctaMessage,\n}: PatchBodyProps) => {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { project } = useProjectContext();\n  const [checkedCommitIndex, setCheckedCommitIndex] = useState(-1);\n\n  const gitDataResponse = useAsync(async () => {\n    const [\n      { recentCommits: recentCommitsOnDefaultBranch },\n      { recentCommits: recentCommitsOnReleaseBranch },\n    ] = await Promise.all([\n      pluginApiClient.getRecentCommits({\n        owner: project.owner,\n        repo: project.repo,\n      }),\n      pluginApiClient.getRecentCommits({\n        owner: project.owner,\n        repo: project.repo,\n        releaseBranchName: releaseBranch.name,\n      }),\n    ]);\n\n    return {\n      recentCommitsOnDefaultBranch,\n      recentCommitsOnReleaseBranch,\n    };\n  });\n\n  const { progress, responseSteps, run, runInvoked } = usePatch({\n    bumpedTag,\n    latestRelease,\n    project,\n    tagParts,\n    onSuccess,\n  });\n\n  if (responseSteps.length > 0) {\n    return (\n      <ResponseStepDialog\n        progress={progress}\n        responseSteps={responseSteps}\n        title={ctaMessage}\n      />\n    );\n  }\n\n  if (gitDataResponse.error) {\n    return (\n      <Alert data-testid={TEST_IDS.patch.error} severity=\"error\">\n        Unexpected error: {gitDataResponse.error.message}\n      </Alert>\n    );\n  }\n\n  if (gitDataResponse.loading) {\n    return (\n      <Box data-testid={TEST_IDS.patch.loading}>\n        <Progress />\n      </Box>\n    );\n  }\n\n  function Description() {\n    return (\n      <>\n        {!latestRelease.prerelease && (\n          <Box marginBottom={2}>\n            <Alert data-testid={TEST_IDS.patch.notPrerelease} severity=\"info\">\n              <AlertTitle>\n                The current Git release is a <b>Release Version</b>\n              </AlertTitle>\n              It's still possible to patch it, but be extra mindful of changes\n            </Alert>\n          </Box>\n        )}\n\n        <Box marginBottom={2}>\n          <Typography>\n            Patches the release branch, creates a new tag and updates the Git\n            release. A dry run on a temporary branch will run prior to patching\n            the release branch to ensure there's no merge conflicts. Manual\n            patching is recommended should the dry run fail.\n          </Typography>\n        </Box>\n\n        <Box marginBottom={2}>\n          <Typography>\n            <Differ\n              icon=\"tag\"\n              current={latestRelease.tagName}\n              next={bumpedTag}\n            />\n          </Typography>\n        </Box>\n      </>\n    );\n  }\n\n  function CommitList() {\n    if (!gitDataResponse.value?.recentCommitsOnDefaultBranch) {\n      return null;\n    }\n\n    return (\n      <List>\n        {gitDataResponse.value.recentCommitsOnDefaultBranch.map(\n          (commit, index) => {\n            // FIXME: Performance improvement opportunity: Convert to object lookup\n            const commitExistsOnReleaseBranch =\n              !!gitDataResponse.value?.recentCommitsOnReleaseBranch.find(\n                releaseBranchCommit =>\n                  releaseBranchCommit.sha === commit.sha ||\n                  // The selected patch commit's sha is included in the commit message,\n                  // which means it's part of a previous patch\n                  releaseBranchCommit.commit.message.includes(\n                    getPatchCommitSuffix({ commitSha: commit.sha }),\n                  ),\n              );\n            const hasNoParent = !commit.firstParentSha;\n\n            return (\n              <div style={{ position: 'relative' }} key={`commit-${index}`}>\n                {commitExistsOnReleaseBranch && (\n                  <Paper\n                    elevation={3}\n                    style={{\n                      position: 'absolute',\n                      top: '50%',\n                      left: '50%',\n                      transform: 'translate3d(-50%,-50%,0)',\n                      zIndex: 10,\n                      color: 'green',\n                      padding: 6,\n                      background: 'rgba(244,244,244,1)',\n                      borderRadius: 8,\n                    }}\n                  >\n                    <FileCopyIcon\n                      fontSize=\"small\"\n                      style={{ verticalAlign: 'middle' }}\n                    />{' '}\n                    Already exists on <b>{releaseBranch?.name}</b>\n                  </Paper>\n                )}\n\n                <ListItem\n                  disabled={\n                    runInvoked || commitExistsOnReleaseBranch || hasNoParent\n                  }\n                  role={undefined}\n                  dense\n                  button\n                  onClick={() => {\n                    if (index === checkedCommitIndex) {\n                      setCheckedCommitIndex(-1);\n                    } else {\n                      setCheckedCommitIndex(index);\n                    }\n                  }}\n                >\n                  <ListItemIcon>\n                    <Checkbox\n                      edge=\"start\"\n                      checked={checkedCommitIndex === index}\n                      tabIndex={-1}\n                    />\n                  </ListItemIcon>\n\n                  <ListItemText\n                    style={{ marginRight: 15 }}\n                    id={commit.sha}\n                    primary={commit.commit.message}\n                    secondary={\n                      <>\n                        <Link\n                          color=\"primary\"\n                          to={commit.htmlUrl}\n                          target=\"_blank\"\n                        >\n                          {commit.sha}\n                        </Link>{' '}\n                        {commit.author.htmlUrl && (\n                          <Link\n                            color=\"primary\"\n                            to={commit.author.htmlUrl}\n                            target=\"_blank\"\n                          >\n                            @{commit.author.login}\n                          </Link>\n                        )}\n                      </>\n                    }\n                  />\n\n                  <ListItemSecondaryAction>\n                    <IconButton\n                      aria-label=\"commit\"\n                      disabled={\n                        runInvoked ||\n                        commitExistsOnReleaseBranch ||\n                        !releaseBranch\n                      }\n                      onClick={() => {\n                        const repoPath = pluginApiClient.getRepoPath({\n                          owner: project.owner,\n                          repo: project.repo,\n                        });\n                        const host = pluginApiClient.getHost();\n\n                        const newTab = window.open(\n                          `https://${host}/${repoPath}/compare/${releaseBranch?.name}...${commit.sha}`,\n                          '_blank',\n                        );\n                        newTab?.focus();\n                      }}\n                    >\n                      <OpenInNewIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              </div>\n            );\n          },\n        )}\n      </List>\n    );\n  }\n\n  return (\n    <Box data-testid={TEST_IDS.patch.body}>\n      <Description />\n\n      <Box style={{ maxHeight: 450, overflowY: 'auto' }}>\n        <CommitList />\n      </Box>\n\n      <Button\n        disabled={checkedCommitIndex === -1 || progress > 0}\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => {\n          const selectedPatchCommit =\n            gitDataResponse.value?.recentCommitsOnDefaultBranch[\n              checkedCommitIndex\n            ];\n\n          if (!selectedPatchCommit) {\n            throw new GitReleaseManagerError(\n              'Could not find selected patch commit',\n            );\n          }\n\n          run(selectedPatchCommit);\n        }}\n      >\n        {ctaMessage}\n      </Button>\n    </Box>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Typography, Box } from '@material-ui/core';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\nimport {\n  GetBranchResult,\n  GetLatestReleaseResult,\n} from '../../api/GitReleaseClient';\nimport { ComponentConfig, PatchOnSuccessArgs } from '../../types/types';\nimport { getBumpedTag } from '../../helpers/getBumpedTag';\nimport { InfoCardPlus } from '../../components/InfoCardPlus';\nimport { NoLatestRelease } from '../../components/NoLatestRelease';\nimport { PatchBody } from './PatchBody';\nimport { useProjectContext } from '../../contexts/ProjectContext';\n\ninterface PatchProps {\n  latestRelease: GetLatestReleaseResult['latestRelease'];\n  releaseBranch: GetBranchResult['branch'] | null;\n  onSuccess?: ComponentConfig<PatchOnSuccessArgs>['onSuccess'];\n}\n\nexport const Patch = ({\n  latestRelease,\n  releaseBranch,\n  onSuccess,\n}: PatchProps) => {\n  const ctaMessage = `Patch Release ${\n    latestRelease?.prerelease ? 'Candidate' : 'Version'\n  }`;\n\n  return (\n    <InfoCardPlus>\n      <Box marginBottom={2}>\n        <Typography variant=\"h4\">{ctaMessage}</Typography>\n      </Box>\n\n      <BodyWrapper\n        latestRelease={latestRelease}\n        releaseBranch={releaseBranch}\n        onSuccess={onSuccess}\n        ctaMessage={ctaMessage}\n      />\n    </InfoCardPlus>\n  );\n};\n\nfunction BodyWrapper({\n  latestRelease,\n  releaseBranch,\n  onSuccess,\n  ctaMessage,\n}: PatchProps & { ctaMessage: string }) {\n  const { project } = useProjectContext();\n\n  if (latestRelease === null) {\n    return <NoLatestRelease />;\n  }\n\n  if (releaseBranch === null) {\n    return <NoLatestRelease />;\n  }\n\n  const bumpedTag = getBumpedTag({\n    project,\n    tag: latestRelease.tagName,\n    bumpLevel: 'patch',\n  });\n\n  if (bumpedTag.error !== undefined) {\n    return (\n      <Alert severity=\"error\">\n        {bumpedTag.error.title && (\n          <AlertTitle>{bumpedTag.error.title}</AlertTitle>\n        )}\n\n        {bumpedTag.error.subtitle}\n      </Alert>\n    );\n  }\n\n  return (\n    <PatchBody\n      bumpedTag={bumpedTag.bumpedTag}\n      latestRelease={latestRelease}\n      releaseBranch={releaseBranch}\n      onSuccess={onSuccess}\n      tagParts={bumpedTag.tagParts}\n      ctaMessage={ctaMessage}\n    />\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState, useEffect } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport useAsyncFn from 'react-use/lib/useAsyncFn';\nimport {\n  CardHook,\n  ComponentConfig,\n  PromoteRcOnSuccessArgs,\n} from '../../../types/types';\n\nimport { GetLatestReleaseResult } from '../../../api/GitReleaseClient';\nimport { gitReleaseManagerApiRef } from '../../../api/serviceApiRef';\nimport { GitReleaseManagerError } from '../../../errors/GitReleaseManagerError';\nimport { TAG_OBJECT_MESSAGE } from '../../../constants/constants';\nimport { useProjectContext } from '../../../contexts/ProjectContext';\nimport { useResponseSteps } from '../../../hooks/useResponseSteps';\nimport { useUserContext } from '../../../contexts/UserContext';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport interface UsePromoteRc {\n  rcRelease: NonNullable<GetLatestReleaseResult['latestRelease']>;\n  releaseVersion: string;\n  onSuccess?: ComponentConfig<PromoteRcOnSuccessArgs>['onSuccess'];\n}\n\nexport function usePromoteRc({\n  rcRelease,\n  releaseVersion,\n  onSuccess,\n}: UsePromoteRc): CardHook<void> {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { user } = useUserContext();\n  const { project } = useProjectContext();\n  const { responseSteps, addStepToResponseSteps, asyncCatcher, abortIfError } =\n    useResponseSteps();\n\n  /**\n   * (1) Fetch most recent release branch commit\n   */\n  const [latestReleaseBranchCommitSha, run] = useAsyncFn(async () => {\n    const { commit: latestCommit } = await pluginApiClient\n      .getCommit({\n        owner: project.owner,\n        repo: project.repo,\n        ref: rcRelease.targetCommitish,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Fetched most recent commit from release branch',\n      secondaryMessage: `with sha \"${latestCommit.sha}\"`,\n    });\n\n    return {\n      ...latestCommit,\n    };\n  });\n\n  /**\n   * (2) Create tag object for our soon-to-be-created annotated tag\n   */\n  const tagObjectRes = useAsync(async () => {\n    abortIfError(latestReleaseBranchCommitSha.error);\n    if (!latestReleaseBranchCommitSha.value) return undefined;\n\n    const { tagObject } = await pluginApiClient\n      .createTagObject({\n        owner: project.owner,\n        repo: project.repo,\n        tag: releaseVersion,\n        object: latestReleaseBranchCommitSha.value.sha,\n        taggerName: user.username,\n        taggerEmail: user.email,\n        message: TAG_OBJECT_MESSAGE,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Created Tag Object',\n      secondaryMessage: `with sha \"${tagObject.tagSha}\"`,\n    });\n\n    return {\n      ...tagObject,\n    };\n  }, [latestReleaseBranchCommitSha.value, latestReleaseBranchCommitSha.error]);\n\n  /**\n   * (3) Create reference for tag object\n   */\n  const createRcRes = useAsync(async () => {\n    abortIfError(tagObjectRes.error);\n    if (!tagObjectRes.value) return undefined;\n\n    const { reference: createdRef } = await pluginApiClient\n      .createRef({\n        owner: project.owner,\n        repo: project.repo,\n        ref: `refs/tags/${releaseVersion}`,\n        sha: tagObjectRes.value.tagSha,\n      })\n      .catch(error => {\n        if (error?.body?.message === 'Reference already exists') {\n          throw new GitReleaseManagerError(\n            `Tag reference \"${releaseVersion}\" already exists`,\n          );\n        }\n        throw error;\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: 'Create Tag Reference',\n      secondaryMessage: `with ref \"${createdRef.ref}\"`,\n    });\n\n    return {\n      ...createdRef,\n    };\n  }, [tagObjectRes.value, tagObjectRes.error]);\n\n  /**\n   * (4) Promote Release Candidate to Release Version\n   */\n  const promotedReleaseRes = useAsync(async () => {\n    abortIfError(createRcRes.error);\n    if (!createRcRes.value) return undefined;\n\n    const { release } = await pluginApiClient\n      .updateRelease({\n        owner: project.owner,\n        repo: project.repo,\n        releaseId: rcRelease.id,\n        tagName: releaseVersion,\n        prerelease: false,\n      })\n      .catch(asyncCatcher);\n\n    addStepToResponseSteps({\n      message: `Promoted \"${release.name}\"`,\n      secondaryMessage: `from \"${rcRelease.tagName}\" to \"${release.tagName}\"`,\n      link: release.htmlUrl,\n    });\n\n    return {\n      ...release,\n    };\n  }, [createRcRes.value, createRcRes.error]);\n\n  /**\n   * (5) Run onSuccess if defined\n   */\n  useAsync(async () => {\n    if (onSuccess && !!promotedReleaseRes.value) {\n      abortIfError(promotedReleaseRes.error);\n\n      try {\n        await onSuccess?.({\n          input: {\n            rcRelease,\n            releaseVersion,\n          },\n          gitReleaseName: promotedReleaseRes.value.name,\n          gitReleaseUrl: promotedReleaseRes.value.htmlUrl,\n          previousTag: rcRelease.tagName,\n          previousTagUrl: rcRelease.htmlUrl,\n          updatedTag: promotedReleaseRes.value.tagName,\n          updatedTagUrl: promotedReleaseRes.value.htmlUrl,\n        });\n      } catch (error) {\n        asyncCatcher(error as Error);\n      }\n\n      addStepToResponseSteps({\n        message: 'Success callback successfully called ðŸš€',\n        icon: 'success',\n      });\n    }\n  }, [promotedReleaseRes.value, promotedReleaseRes.error]);\n\n  const TOTAL_STEPS = 4 + (!!onSuccess ? 1 : 0);\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    setProgress((responseSteps.length / TOTAL_STEPS) * 100);\n  }, [TOTAL_STEPS, responseSteps.length]);\n\n  return {\n    progress,\n    responseSteps,\n    run,\n    runInvoked: Boolean(\n      promotedReleaseRes.loading ||\n        promotedReleaseRes.value ||\n        promotedReleaseRes.error,\n    ),\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Button, Typography, Box } from '@material-ui/core';\n\nimport { ComponentConfig, PromoteRcOnSuccessArgs } from '../../types/types';\nimport { Differ } from '../../components/Differ';\nimport { GetLatestReleaseResult } from '../../api/GitReleaseClient';\nimport { ResponseStepDialog } from '../../components/ResponseStepDialog/ResponseStepDialog';\nimport { TEST_IDS } from '../../test-helpers/test-ids';\nimport { usePromoteRc } from './hooks/usePromoteRc';\n\ninterface PromoteRcBodyProps {\n  rcRelease: NonNullable<GetLatestReleaseResult['latestRelease']>;\n  onSuccess?: ComponentConfig<PromoteRcOnSuccessArgs>['onSuccess'];\n}\n\nexport const PromoteRcBody = ({ rcRelease, onSuccess }: PromoteRcBodyProps) => {\n  const releaseVersion = rcRelease.tagName.replace('rc-', 'version-');\n\n  const { progress, responseSteps, run, runInvoked } = usePromoteRc({\n    rcRelease,\n    releaseVersion,\n    onSuccess,\n  });\n\n  if (responseSteps.length > 0) {\n    return (\n      <ResponseStepDialog\n        progress={progress}\n        responseSteps={responseSteps}\n        title=\"Promote Release Candidate\"\n      />\n    );\n  }\n\n  return (\n    <>\n      <Box marginBottom={2}>\n        <Typography>\n          Promotes the current Release Candidate to a <b>Release Version</b>.\n        </Typography>\n      </Box>\n\n      <Box marginBottom={2}>\n        <Typography>\n          <Differ\n            icon=\"tag\"\n            current={rcRelease.tagName}\n            next={releaseVersion}\n          />\n        </Typography>\n      </Box>\n\n      <Button\n        data-testid={TEST_IDS.promoteRc.cta}\n        variant=\"contained\"\n        color=\"primary\"\n        disabled={runInvoked}\n        onClick={() => run()}\n      >\n        Promote Release Candidate\n      </Button>\n    </>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { Box, Typography } from '@material-ui/core';\n\nimport { ComponentConfig, PromoteRcOnSuccessArgs } from '../../types/types';\nimport { GetLatestReleaseResult } from '../../api/GitReleaseClient';\nimport { InfoCardPlus } from '../../components/InfoCardPlus';\nimport { NoLatestRelease } from '../../components/NoLatestRelease';\nimport { PromoteRcBody } from './PromoteRcBody';\nimport { TEST_IDS } from '../../test-helpers/test-ids';\n\ninterface PromoteRcProps {\n  latestRelease: GetLatestReleaseResult['latestRelease'];\n  onSuccess?: ComponentConfig<PromoteRcOnSuccessArgs>['onSuccess'];\n}\n\nexport const PromoteRc = ({ latestRelease, onSuccess }: PromoteRcProps) => {\n  function Body() {\n    if (latestRelease === null) {\n      return <NoLatestRelease />;\n    }\n\n    if (!latestRelease.prerelease) {\n      return (\n        <Box marginBottom={2}>\n          <Alert\n            data-testid={TEST_IDS.promoteRc.notRcWarning}\n            severity=\"warning\"\n          >\n            <AlertTitle>\n              Latest Git release is not a Release Candidate\n            </AlertTitle>\n            One can only promote Release Candidates to Release Versions\n          </Alert>\n        </Box>\n      );\n    }\n\n    return <PromoteRcBody rcRelease={latestRelease} onSuccess={onSuccess} />;\n  }\n\n  return (\n    <InfoCardPlus>\n      <Box marginBottom={2}>\n        <Typography variant=\"h4\">Promote Release Candidate</Typography>\n      </Box>\n\n      <Body />\n    </InfoCardPlus>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect } from 'react';\nimport useAsyncFn from 'react-use/lib/useAsyncFn';\n\nimport { GitReleaseApi } from '../api/GitReleaseClient';\nimport { Project } from '../contexts/ProjectContext';\n\ninterface GetGitBatchInfo {\n  project: Project;\n  pluginApiClient: GitReleaseApi;\n}\n\nexport const useGetGitBatchInfo = ({\n  project,\n  pluginApiClient,\n}: GetGitBatchInfo) => {\n  const [gitBatchInfo, fetchGitBatchInfo] = useAsyncFn(async () => {\n    const [{ repository }, { latestRelease }] = await Promise.all([\n      pluginApiClient.getRepository({\n        owner: project.owner,\n        repo: project.repo,\n      }),\n      pluginApiClient.getLatestRelease({\n        owner: project.owner,\n        repo: project.repo,\n      }),\n    ]);\n\n    if (latestRelease === null) {\n      return {\n        latestRelease,\n        releaseBranch: null,\n        repository,\n      };\n    }\n\n    const { branch: releaseBranch } = await pluginApiClient.getBranch({\n      owner: project.owner,\n      repo: project.repo,\n      branch: latestRelease.targetCommitish,\n    });\n\n    return {\n      latestRelease,\n      releaseBranch,\n      repository,\n    };\n  });\n\n  useEffect(() => {\n    fetchGitBatchInfo();\n  }, [fetchGitBatchInfo, project]);\n\n  return {\n    gitBatchInfo,\n    fetchGitBatchInfo,\n  };\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect, useState } from 'react';\n\nimport { Project } from '../contexts/ProjectContext';\nimport { getTagParts } from '../helpers/tagParts/getTagParts';\n\nexport const useVersioningStrategyMatchesRepoTags = ({\n  project,\n  latestReleaseTagName,\n  repositoryName,\n}: {\n  project: Project;\n  latestReleaseTagName?: string;\n  repositoryName?: string;\n}) => {\n  const [versioningStrategyMatches, setVersioningStrategyMatches] =\n    useState(false);\n  useEffect(() => {\n    setVersioningStrategyMatches(false);\n\n    if (latestReleaseTagName) {\n      if (project.repo === repositoryName) {\n        const { error } = getTagParts({ project, tag: latestReleaseTagName });\n        setVersioningStrategyMatches(error === undefined);\n      }\n    }\n  }, [latestReleaseTagName, project, repositoryName]);\n\n  return {\n    versioningStrategyMatches,\n  };\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ComponentProps } from 'react';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\nimport { CreateReleaseCandidate } from './CreateReleaseCandidate/CreateReleaseCandidate';\nimport { GitReleaseManager } from '../GitReleaseManager';\nimport { gitReleaseManagerApiRef } from '../api/serviceApiRef';\nimport { Info } from './Info/Info';\nimport { Patch } from './Patch/Patch';\nimport { PromoteRc } from './PromoteRc/PromoteRc';\nimport { RefetchContext } from '../contexts/RefetchContext';\nimport { useGetGitBatchInfo } from '../hooks/useGetGitBatchInfo';\nimport { useProjectContext } from '../contexts/ProjectContext';\nimport { useVersioningStrategyMatchesRepoTags } from '../hooks/useVersioningStrategyMatchesRepoTags';\nimport { validateTagName } from '../helpers/tagParts/validateTagName';\n\nimport { ErrorBoundary, Progress } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport function Features({\n  features,\n}: {\n  features: ComponentProps<typeof GitReleaseManager>['features'];\n}) {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { project } = useProjectContext();\n  const { gitBatchInfo, fetchGitBatchInfo } = useGetGitBatchInfo({\n    pluginApiClient,\n    project,\n  });\n\n  const { versioningStrategyMatches } = useVersioningStrategyMatchesRepoTags({\n    latestReleaseTagName: gitBatchInfo.value?.latestRelease?.tagName,\n    project,\n    repositoryName: gitBatchInfo.value?.repository.name,\n  });\n\n  if (gitBatchInfo.error) {\n    return (\n      <Alert severity=\"error\">\n        Error occurred while fetching information for \"{project.owner}/\n        {project.repo}\" ({gitBatchInfo.error.message})\n      </Alert>\n    );\n  }\n\n  if (gitBatchInfo.loading) {\n    return <Progress />;\n  }\n\n  if (gitBatchInfo.value === undefined) {\n    return <Alert severity=\"error\">Failed to fetch latest Git release</Alert>;\n  }\n\n  if (!gitBatchInfo.value.repository.pushPermissions) {\n    return (\n      <Alert severity=\"error\">\n        You lack push permissions for repository \"{project.owner}/{project.repo}\n        \"\n      </Alert>\n    );\n  }\n\n  const { tagNameError } = validateTagName({\n    project,\n    tagName: gitBatchInfo.value.latestRelease?.tagName,\n  });\n  if (tagNameError) {\n    return (\n      <Alert severity=\"error\">\n        {tagNameError.title && <AlertTitle>{tagNameError.title}</AlertTitle>}\n        {tagNameError.subtitle}\n      </Alert>\n    );\n  }\n\n  let CustomFeatures =\n    features?.custom?.factory({\n      latestRelease: gitBatchInfo.value.latestRelease,\n      project,\n      releaseBranch: gitBatchInfo.value.releaseBranch,\n      repository: gitBatchInfo.value.repository,\n    }) ?? null;\n  if (Array.isArray(CustomFeatures)) {\n    CustomFeatures = CustomFeatures.map((CustomFeature, index) => (\n      <React.Fragment key={`grm--custom-feature--${index}`}>\n        {CustomFeature}\n      </React.Fragment>\n    ));\n  }\n\n  return (\n    <RefetchContext.Provider value={{ fetchGitBatchInfo }}>\n      <ErrorBoundary>\n        {gitBatchInfo.value.latestRelease && !versioningStrategyMatches && (\n          <Alert severity=\"warning\" style={{ marginBottom: 20 }}>\n            Versioning mismatch, expected {project.versioningStrategy} version,\n            got \"{gitBatchInfo.value.latestRelease.tagName}\"\n          </Alert>\n        )}\n\n        {!gitBatchInfo.value.latestRelease && (\n          <Alert severity=\"info\" style={{ marginBottom: 20 }}>\n            This repository doesn't have any releases yet\n          </Alert>\n        )}\n\n        {!gitBatchInfo.value.releaseBranch && (\n          <Alert severity=\"info\" style={{ marginBottom: 20 }}>\n            This repository doesn't have any release branches\n          </Alert>\n        )}\n\n        {!features?.info?.omit && (\n          <Info\n            latestRelease={gitBatchInfo.value.latestRelease}\n            releaseBranch={gitBatchInfo.value.releaseBranch}\n            statsEnabled={features?.stats?.omit !== true}\n          />\n        )}\n\n        {!features?.createRc?.omit && (\n          <CreateReleaseCandidate\n            latestRelease={gitBatchInfo.value.latestRelease}\n            releaseBranch={gitBatchInfo.value.releaseBranch}\n            defaultBranch={gitBatchInfo.value.repository.defaultBranch}\n            onSuccess={features?.createRc?.onSuccess}\n          />\n        )}\n\n        {!features?.promoteRc?.omit && (\n          <PromoteRc\n            latestRelease={gitBatchInfo.value.latestRelease}\n            onSuccess={features?.promoteRc?.onSuccess}\n          />\n        )}\n\n        {!features?.patch?.omit && (\n          <Patch\n            latestRelease={gitBatchInfo.value.latestRelease}\n            releaseBranch={gitBatchInfo.value.releaseBranch}\n            onSuccess={features?.patch?.onSuccess}\n          />\n        )}\n\n        {CustomFeatures}\n      </ErrorBoundary>\n    </RefetchContext.Provider>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createStyles, makeStyles, Theme } from '@material-ui/core';\n\nexport const useFormClasses = makeStyles((theme: Theme) =>\n  createStyles({\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n  }),\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useLocation } from 'react-router';\nimport qs from 'qs';\n\nimport { Project } from '../contexts/ProjectContext';\n\nexport function useQueryHandler() {\n  const location = useLocation();\n\n  function getParsedQuery() {\n    const { decodedSearch } = getDecodedSearch(location);\n    const parsedQuery: Partial<Project> = qs.parse(decodedSearch);\n\n    return {\n      parsedQuery,\n    };\n  }\n\n  function getQueryParamsWithUpdates({\n    updates,\n  }: {\n    updates: {\n      key: keyof Project;\n      value: string;\n    }[];\n  }) {\n    const { decodedSearch } = getDecodedSearch(location);\n    const queryParams = qs.parse(decodedSearch);\n\n    for (const { key, value } of updates) {\n      queryParams[key] = value;\n    }\n\n    return {\n      queryParams: qs.stringify(queryParams),\n    };\n  }\n\n  return {\n    getParsedQuery,\n    getQueryParamsWithUpdates,\n  };\n}\n\nfunction getDecodedSearch(location: ReturnType<typeof useLocation>) {\n  return {\n    decodedSearch: new URLSearchParams(location.search).toString(),\n  };\n}\n\nexport const testables = {\n  getDecodedSearch,\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { useNavigate } from 'react-router';\nimport useAsync from 'react-use/lib/useAsync';\nimport {\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  MenuItem,\n  Select,\n  Box,\n} from '@material-ui/core';\n\nimport { gitReleaseManagerApiRef } from '../../api/serviceApiRef';\nimport { TEST_IDS } from '../../test-helpers/test-ids';\nimport { useFormClasses } from './styles';\nimport { useProjectContext } from '../../contexts/ProjectContext';\nimport { useQueryHandler } from '../../hooks/useQueryHandler';\nimport { useUserContext } from '../../contexts/UserContext';\n\nimport { Progress } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport function Owner() {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { project } = useProjectContext();\n  const { user } = useUserContext();\n  const formClasses = useFormClasses();\n  const navigate = useNavigate();\n  const { getQueryParamsWithUpdates } = useQueryHandler();\n\n  const { loading, error, value } = useAsync(() => pluginApiClient.getOwners());\n  const owners = value?.owners ?? [];\n  const customOwnerFromUrl = !owners\n    .concat(['', user.username])\n    .includes(project.owner);\n\n  return (\n    <FormControl\n      className={formClasses.formControl}\n      required\n      disabled={project.isProvidedViaProps}\n      error={!!error}\n    >\n      {loading ? (\n        <Box data-testid={TEST_IDS.form.owner.loading}>\n          <Progress />\n        </Box>\n      ) : (\n        <>\n          <InputLabel id=\"owner-select-label\">Owners</InputLabel>\n          <Select\n            data-testid={TEST_IDS.form.owner.select}\n            labelId=\"owner-select-label\"\n            id=\"owner-select\"\n            value={project.owner}\n            defaultValue=\"\"\n            onChange={event => {\n              const { queryParams } = getQueryParamsWithUpdates({\n                updates: [\n                  { key: 'repo', value: '' },\n                  { key: 'owner', value: event.target.value as string },\n                ],\n              });\n\n              navigate(`?${queryParams}`, { replace: true });\n            }}\n            className={formClasses.selectEmpty}\n          >\n            <MenuItem value=\"\">\n              <em>None</em>\n            </MenuItem>\n\n            <MenuItem value={user.username}>\n              <strong>{user.username}</strong>\n            </MenuItem>\n\n            {!error && customOwnerFromUrl && (\n              <MenuItem value={project.owner}>\n                <strong>From URL: {project.owner}</strong>\n              </MenuItem>\n            )}\n\n            {owners.map((orgName, index) => (\n              <MenuItem key={`organization-${index}`} value={orgName}>\n                {orgName}\n              </MenuItem>\n            ))}\n          </Select>\n\n          {error && (\n            <FormHelperText data-testid={TEST_IDS.form.owner.error}>\n              Encountered an error ({error.message})\n            </FormHelperText>\n          )}\n\n          {!error && project.owner.length === 0 && (\n            <>\n              <FormHelperText data-testid={TEST_IDS.form.owner.empty}>\n                Select an owner (org or user)\n              </FormHelperText>\n              <FormHelperText data-testid={TEST_IDS.form.owner.empty}>\n                Custom queries can be made via the query param{' '}\n                <strong>owner</strong>\n              </FormHelperText>\n            </>\n          )}\n        </>\n      )}\n    </FormControl>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useNavigate } from 'react-router';\nimport {\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  MenuItem,\n  Select,\n  Box,\n} from '@material-ui/core';\n\nimport { gitReleaseManagerApiRef } from '../../api/serviceApiRef';\nimport { TEST_IDS } from '../../test-helpers/test-ids';\nimport { useFormClasses } from './styles';\nimport { useProjectContext } from '../../contexts/ProjectContext';\nimport { useQueryHandler } from '../../hooks/useQueryHandler';\n\nimport { Progress } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport function Repo() {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n  const { project } = useProjectContext();\n  const navigate = useNavigate();\n  const formClasses = useFormClasses();\n  const { getQueryParamsWithUpdates } = useQueryHandler();\n\n  const { loading, error, value } = useAsync(\n    async () => pluginApiClient.getRepositories({ owner: project.owner }),\n    [project.owner],\n  );\n\n  if (project.owner.length === 0) {\n    return null;\n  }\n\n  const repositories = value?.repositories ?? [];\n  const customRepoFromUrl = !repositories.concat(['']).includes(project.repo);\n\n  return (\n    <FormControl\n      className={formClasses.formControl}\n      required\n      disabled={project.isProvidedViaProps}\n      error={!!error}\n    >\n      {loading ? (\n        <Box data-testid={TEST_IDS.form.repo.loading}>\n          <Progress />\n        </Box>\n      ) : (\n        <>\n          <InputLabel id=\"repo-select-label\">Repositories</InputLabel>\n          <Select\n            data-testid={TEST_IDS.form.repo.select}\n            labelId=\"repo-select-label\"\n            id=\"repo-select\"\n            value={project.repo}\n            defaultValue=\"\"\n            onChange={event => {\n              const { queryParams } = getQueryParamsWithUpdates({\n                updates: [{ key: 'repo', value: event.target.value as string }],\n              });\n\n              navigate(`?${queryParams}`, { replace: true });\n            }}\n            className={formClasses.selectEmpty}\n          >\n            <MenuItem value=\"\">\n              <em>None</em>\n            </MenuItem>\n\n            {!error && customRepoFromUrl && (\n              <MenuItem value={project.repo}>\n                <strong>From URL: {project.repo}</strong>\n              </MenuItem>\n            )}\n\n            {repositories.map((repositoryName, index) => (\n              <MenuItem key={`repository-${index}`} value={repositoryName}>\n                {repositoryName}\n              </MenuItem>\n            ))}\n          </Select>\n\n          {error && (\n            <FormHelperText data-testid={TEST_IDS.form.repo.error}>\n              Encountered an error ({error.message}\")\n            </FormHelperText>\n          )}\n\n          {!error && project.repo.length === 0 && (\n            <>\n              <FormHelperText data-testid={TEST_IDS.form.repo.empty}>\n                Select a repository\n              </FormHelperText>\n              <FormHelperText data-testid={TEST_IDS.form.repo.empty}>\n                Custom queries can be made via the query param{' '}\n                <strong>repo</strong>\n              </FormHelperText>\n            </>\n          )}\n        </>\n      )}\n    </FormControl>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router';\nimport {\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n  Radio,\n  RadioGroup,\n} from '@material-ui/core';\n\nimport { TEST_IDS } from '../../test-helpers/test-ids';\nimport { useProjectContext } from '../../contexts/ProjectContext';\nimport { useQueryHandler } from '../../hooks/useQueryHandler';\nimport { VERSIONING_STRATEGIES } from '../../constants/constants';\n\nexport function VersioningStrategy() {\n  const navigate = useNavigate();\n  const { project } = useProjectContext();\n  const { getParsedQuery, getQueryParamsWithUpdates } = useQueryHandler();\n\n  useEffect(() => {\n    const { parsedQuery } = getParsedQuery();\n\n    if (!parsedQuery.versioningStrategy && !project.isProvidedViaProps) {\n      const { queryParams } = getQueryParamsWithUpdates({\n        updates: [\n          { key: 'versioningStrategy', value: project.versioningStrategy },\n        ],\n      });\n\n      navigate(`?${queryParams}`, { replace: true });\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <FormControl\n      component=\"fieldset\"\n      required\n      disabled={project.isProvidedViaProps}\n    >\n      <FormLabel component=\"legend\">Versioning strategy</FormLabel>\n\n      <RadioGroup\n        data-testid={TEST_IDS.form.versioningStrategy.radioGroup}\n        aria-label=\"calendar-strategy\"\n        name=\"calendar-strategy\"\n        value={project.versioningStrategy}\n        onChange={event => {\n          const { queryParams } = getQueryParamsWithUpdates({\n            updates: [{ key: 'versioningStrategy', value: event.target.value }],\n          });\n\n          navigate(`?${queryParams}`, { replace: true });\n        }}\n      >\n        <FormControlLabel\n          value={VERSIONING_STRATEGIES.semver}\n          control={<Radio />}\n          label=\"Semantic versioning\"\n        />\n\n        <FormControlLabel\n          value={VERSIONING_STRATEGIES.calver}\n          control={<Radio />}\n          label=\"Calendar versioning\"\n        />\n      </RadioGroup>\n    </FormControl>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\n\nimport { Owner } from './Owner';\nimport { Repo } from './Repo';\nimport { VersioningStrategy } from './VersioningStrategy';\n\nexport function RepoDetailsForm() {\n  return (\n    <>\n      <VersioningStrategy />\n\n      <Owner />\n\n      <Repo />\n    </>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { Alert } from '@material-ui/lab';\nimport { Box } from '@material-ui/core';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { ContentHeader, Progress } from '@backstage/core-components';\n\nimport {\n  ComponentConfig,\n  CreateRcOnSuccessArgs,\n  PatchOnSuccessArgs,\n  PromoteRcOnSuccessArgs,\n} from './types/types';\nimport { Features } from './features/Features';\nimport { gitReleaseManagerApiRef } from './api/serviceApiRef';\nimport { InfoCardPlus } from './components/InfoCardPlus';\nimport { isProjectValid } from './helpers/isProjectValid';\nimport { ProjectContext, Project } from './contexts/ProjectContext';\nimport { RepoDetailsForm } from './features/RepoDetailsForm/RepoDetailsForm';\nimport { useQueryHandler } from './hooks/useQueryHandler';\nimport { UserContext } from './contexts/UserContext';\nimport {\n  GetBranchResult,\n  GetLatestReleaseResult,\n  GetRepositoryResult,\n} from './api/GitReleaseClient';\n\ninterface GitReleaseManagerProps {\n  project?: Omit<Project, 'isProvidedViaProps'>;\n  features?: {\n    info?: Pick<ComponentConfig<void>, 'omit'>;\n    stats?: Pick<ComponentConfig<void>, 'omit'>;\n    createRc?: ComponentConfig<CreateRcOnSuccessArgs>;\n    promoteRc?: ComponentConfig<PromoteRcOnSuccessArgs>;\n    patch?: ComponentConfig<PatchOnSuccessArgs>;\n    custom?: {\n      factory: ({\n        latestRelease,\n        project,\n        releaseBranch,\n        repository,\n      }: {\n        latestRelease: GetLatestReleaseResult['latestRelease'] | null;\n        project: Project;\n        releaseBranch: GetBranchResult['branch'] | null;\n        repository: GetRepositoryResult['repository'];\n      }) => React.ReactElement | React.ReactElement[];\n    };\n  };\n}\n\nexport function GitReleaseManager(props: GitReleaseManagerProps) {\n  const pluginApiClient = useApi(gitReleaseManagerApiRef);\n\n  const { getParsedQuery } = useQueryHandler();\n  const { parsedQuery } = getParsedQuery();\n  const project: Project = isProjectValid(props.project)\n    ? {\n        ...props.project,\n        isProvidedViaProps: true,\n      }\n    : {\n        owner: parsedQuery.owner ?? '',\n        repo: parsedQuery.repo ?? '',\n        versioningStrategy: parsedQuery.versioningStrategy ?? 'semver',\n        isProvidedViaProps: false,\n      };\n\n  const userResponse = useAsync(() =>\n    pluginApiClient.getUser({ owner: project.owner, repo: project.repo }),\n  );\n\n  if (userResponse.error) {\n    return <Alert severity=\"error\">{userResponse.error.message}</Alert>;\n  }\n\n  if (userResponse.loading) {\n    return <Progress />;\n  }\n\n  if (!userResponse.value?.user.username) {\n    return <Alert severity=\"error\">Unable to retrieve username</Alert>;\n  }\n\n  const user = userResponse.value.user;\n\n  return (\n    <ProjectContext.Provider value={{ project }}>\n      <UserContext.Provider value={{ user }}>\n        <Box maxWidth={999}>\n          <ContentHeader title=\"Git Release Manager\" />\n\n          <InfoCardPlus>\n            <RepoDetailsForm />\n          </InfoCardPlus>\n\n          {isProjectValid(project) && <Features features={props.features} />}\n        </Box>\n      </UserContext.Provider>\n    </ProjectContext.Provider>\n  );\n}\n"],"names":["MaterialTooltip","Tooltip","useStyles","Info"],"mappings":"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"}