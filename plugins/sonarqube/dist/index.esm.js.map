{"version":3,"file":"index.esm.js","sources":["../src/api/SonarQubeApi.ts","../src/api/SonarQubeClient.ts","../src/components/useProjectKey.ts","../src/components/SonarQubeCard/Percentage.tsx","../src/components/SonarQubeCard/Rating.tsx","../src/components/SonarQubeCard/RatingCard.tsx","../src/components/SonarQubeCard/Value.tsx","../src/components/SonarQubeCard/SonarQubeCard.tsx","../src/plugin.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MetricKey, SonarUrlProcessorFunc } from './types';\nimport { createApiRef } from '@backstage/core-plugin-api';\n\n/**\n * Define a type to make sure that all metrics are used\n */\nexport type Metrics = {\n  [key in MetricKey]: string | undefined;\n};\n\nexport interface FindingSummary {\n  lastAnalysis: string;\n  metrics: Metrics;\n  projectUrl: string;\n  getIssuesUrl: SonarUrlProcessorFunc;\n  getComponentMeasuresUrl: SonarUrlProcessorFunc;\n  getSecurityHotspotsUrl: () => string;\n}\n\nexport const sonarQubeApiRef = createApiRef<SonarQubeApi>({\n  id: 'plugin.sonarqube.service',\n});\n\nexport type SonarQubeApi = {\n  getFindingSummary(componentKey?: string): Promise<FindingSummary | undefined>;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport fetch from 'cross-fetch';\nimport { FindingSummary, Metrics, SonarQubeApi } from './SonarQubeApi';\nimport { ComponentWrapper, MeasuresWrapper } from './types';\nimport { DiscoveryApi, IdentityApi } from '@backstage/core-plugin-api';\n\nexport class SonarQubeClient implements SonarQubeApi {\n  discoveryApi: DiscoveryApi;\n  baseUrl: string;\n  identityApi: IdentityApi;\n\n  constructor({\n    discoveryApi,\n    identityApi,\n    baseUrl = 'https://sonarcloud.io/',\n  }: {\n    discoveryApi: DiscoveryApi;\n    identityApi: IdentityApi;\n    baseUrl?: string;\n  }) {\n    this.discoveryApi = discoveryApi;\n    this.identityApi = identityApi;\n    this.baseUrl = baseUrl.endsWith('/') ? baseUrl : `${baseUrl}/`;\n  }\n\n  private async callApi<T>(\n    path: string,\n    query: { [key in string]: any },\n  ): Promise<T | undefined> {\n    const { token: idToken } = await this.identityApi.getCredentials();\n\n    const apiUrl = `${await this.discoveryApi.getBaseUrl('proxy')}/sonarqube`;\n    const response = await fetch(\n      `${apiUrl}/${path}?${new URLSearchParams(query).toString()}`,\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          ...(idToken && { Authorization: `Bearer ${idToken}` }),\n        },\n      },\n    );\n    if (response.status === 200) {\n      return (await response.json()) as T;\n    }\n    return undefined;\n  }\n\n  private async getSupportedMetrics(): Promise<string[]> {\n    const metrics: string[] = [];\n    let nextPage: number = 1;\n\n    for (;;) {\n      const result = await this.callApi<{\n        metrics: Array<{ key: string }>;\n        total: number;\n      }>('metrics/search', { ps: 500, p: nextPage });\n\n      metrics.push(...(result?.metrics?.map(m => m.key) ?? []));\n\n      if (result && metrics.length < result.total) {\n        nextPage++;\n        continue;\n      }\n\n      return metrics;\n    }\n  }\n\n  async getFindingSummary(\n    componentKey?: string,\n  ): Promise<FindingSummary | undefined> {\n    if (!componentKey) {\n      return undefined;\n    }\n\n    const component = await this.callApi<ComponentWrapper>('components/show', {\n      component: componentKey,\n    });\n    if (!component) {\n      return undefined;\n    }\n\n    const metrics: Metrics = {\n      alert_status: undefined,\n      bugs: undefined,\n      reliability_rating: undefined,\n      vulnerabilities: undefined,\n      security_rating: undefined,\n      security_hotspots_reviewed: undefined,\n      security_review_rating: undefined,\n      code_smells: undefined,\n      sqale_rating: undefined,\n      coverage: undefined,\n      duplicated_lines_density: undefined,\n    };\n\n    // select the metrics that are supported by the SonarQube instance\n    const supportedMetrics = await this.getSupportedMetrics();\n    const metricKeys = Object.keys(metrics).filter(m =>\n      supportedMetrics.includes(m),\n    );\n\n    const measures = await this.callApi<MeasuresWrapper>('measures/search', {\n      projectKeys: componentKey,\n      metricKeys: metricKeys.join(','),\n    });\n    if (!measures) {\n      return undefined;\n    }\n\n    measures.measures\n      .filter(m => m.component === componentKey)\n      .forEach(m => {\n        metrics[m.metric] = m.value;\n      });\n\n    return {\n      lastAnalysis: component.component.analysisDate,\n      metrics,\n      projectUrl: `${this.baseUrl}dashboard?id=${encodeURIComponent(\n        componentKey,\n      )}`,\n      getIssuesUrl: identifier =>\n        `${this.baseUrl}project/issues?id=${encodeURIComponent(\n          componentKey,\n        )}&types=${identifier.toLocaleUpperCase('en-US')}&resolved=false`,\n      getComponentMeasuresUrl: identifier =>\n        `${this.baseUrl}component_measures?id=${encodeURIComponent(\n          componentKey,\n        )}&metric=${identifier.toLocaleLowerCase(\n          'en-US',\n        )}&resolved=false&view=list`,\n      getSecurityHotspotsUrl: () =>\n        `${this.baseUrl}project/security_hotspots?id=${encodeURIComponent(\n          componentKey,\n        )}`,\n    };\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\n\nexport const SONARQUBE_PROJECT_KEY_ANNOTATION = 'sonarqube.org/project-key';\n\nexport const isSonarQubeAvailable = (entity: Entity) =>\n  Boolean(entity.metadata.annotations?.[SONARQUBE_PROJECT_KEY_ANNOTATION]);\n\nexport const useProjectKey = (entity: Entity) => {\n  return entity?.metadata.annotations?.[SONARQUBE_PROJECT_KEY_ANNOTATION] ?? '';\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BackstageTheme } from '@backstage/theme';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTheme } from '@material-ui/core';\nimport { Circle } from 'rc-progress';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme: BackstageTheme) => ({\n  root: {\n    height: theme.spacing(3),\n    width: theme.spacing(3),\n  },\n}));\n\nexport const Percentage = ({ value }: { value?: string }) => {\n  const classes = useStyles();\n  const theme = useTheme<BackstageTheme>();\n\n  return (\n    <Circle\n      strokeLinecap=\"butt\"\n      percent={+(value || 0)}\n      strokeWidth={16}\n      strokeColor={theme.palette.status.ok}\n      trailColor={theme.palette.status.error}\n      trailWidth={16}\n      className={classes.root}\n    />\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BackstageTheme } from '@backstage/theme';\nimport { Avatar } from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport { CSSProperties } from '@material-ui/styles';\nimport React, { useMemo } from 'react';\n\nconst useStyles = makeStyles((theme: BackstageTheme) => {\n  const commonCardRating: CSSProperties = {\n    height: theme.spacing(3),\n    width: theme.spacing(3),\n    color: theme.palette.common.white,\n  };\n\n  return {\n    ratingDefault: {\n      ...commonCardRating,\n      background: theme.palette.status.aborted,\n    },\n    ratingA: {\n      ...commonCardRating,\n      background: theme.palette.status.ok,\n    },\n    ratingB: {\n      ...commonCardRating,\n      background: lighten(theme.palette.status.ok, 0.5),\n    },\n    ratingC: {\n      ...commonCardRating,\n      background: theme.palette.status.pending,\n    },\n    ratingD: {\n      ...commonCardRating,\n      background: theme.palette.status.warning,\n    },\n    ratingE: {\n      ...commonCardRating,\n      background: theme.palette.error.main,\n    },\n  };\n});\n\nexport const Rating = ({\n  rating,\n  hideValue,\n}: {\n  rating?: string;\n  hideValue?: boolean;\n}) => {\n  const classes = useStyles();\n\n  const ratingProp = useMemo(() => {\n    switch (rating) {\n      case '1.0':\n        return {\n          name: 'A',\n          className: classes.ratingA,\n        };\n\n      case '2.0':\n        return {\n          name: 'B',\n          className: classes.ratingB,\n        };\n\n      case '3.0':\n        return {\n          name: 'C',\n          className: classes.ratingC,\n        };\n\n      case '4.0':\n        return {\n          name: 'D',\n          className: classes.ratingD,\n        };\n\n      case '5.0':\n        return {\n          name: 'E',\n          className: classes.ratingE,\n        };\n\n      default:\n        return {\n          name: '',\n          className: classes.ratingDefault,\n        };\n    }\n  }, [classes, rating]);\n\n  return (\n    <Avatar className={ratingProp.className}>\n      {!hideValue && ratingProp.name}\n    </Avatar>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Link } from '@backstage/core-components';\nimport { Grid, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { ReactNode } from 'react';\n\nconst useStyles = makeStyles(theme => {\n  return {\n    root: {\n      margin: theme.spacing(1, 0),\n      minWidth: '140px',\n    },\n    upper: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    cardTitle: {\n      textAlign: 'center',\n    },\n    wrapIcon: {\n      display: 'inline-flex',\n      verticalAlign: 'baseline',\n    },\n    left: {\n      display: 'flex',\n    },\n    right: {\n      display: 'flex',\n      marginLeft: theme.spacing(0.5),\n    },\n  };\n});\n\nexport const RatingCard = ({\n  leftSlot,\n  rightSlot,\n  title,\n  titleIcon,\n  link,\n}: {\n  leftSlot: ReactNode;\n  rightSlot: ReactNode;\n  title: string;\n  titleIcon?: ReactNode;\n  link: string;\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Link to={link} color=\"inherit\" underline=\"none\">\n      <Grid item className={classes.root}>\n        <Grid item className={classes.upper}>\n          <Grid item className={classes.left}>\n            {leftSlot}\n          </Grid>\n          <Grid item className={classes.right}>\n            {rightSlot}\n          </Grid>\n        </Grid>\n        <Grid item className={classes.cardTitle}>\n          <Typography variant=\"body1\" className={classes.wrapIcon}>\n            {titleIcon} {title}\n          </Typography>\n        </Grid>\n      </Grid>\n    </Link>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BackstageTheme } from '@backstage/theme';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme: BackstageTheme) => {\n  return {\n    value: {\n      fontSize: '1.5rem',\n      fontWeight: theme.typography.fontWeightMedium,\n    },\n  };\n});\n\nexport const Value = ({ value }: { value?: string }) => {\n  const classes = useStyles();\n\n  return <span className={classes.value}>{value}</span>;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { Chip, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BugReport from '@material-ui/icons/BugReport';\nimport LockOpen from '@material-ui/icons/LockOpen';\nimport Security from '@material-ui/icons/Security';\nimport SentimentVeryDissatisfied from '@material-ui/icons/SentimentVeryDissatisfied';\nimport React, { useMemo } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { sonarQubeApiRef } from '../../api';\nimport {\n  SONARQUBE_PROJECT_KEY_ANNOTATION,\n  useProjectKey,\n} from '../useProjectKey';\nimport { Percentage } from './Percentage';\nimport { Rating } from './Rating';\nimport { RatingCard } from './RatingCard';\nimport { Value } from './Value';\n\nimport {\n  EmptyState,\n  InfoCard,\n  InfoCardVariants,\n  MissingAnnotationEmptyState,\n  Progress,\n} from '@backstage/core-components';\n\nimport { useApi } from '@backstage/core-plugin-api';\n\nconst useStyles = makeStyles(theme => ({\n  badgeLabel: {\n    color: theme.palette.common.white,\n  },\n  badgeError: {\n    margin: 0,\n    backgroundColor: theme.palette.error.main,\n  },\n  badgeSuccess: {\n    margin: 0,\n    backgroundColor: theme.palette.success.main,\n  },\n  badgeUnknown: {\n    backgroundColor: theme.palette.grey[500],\n  },\n  header: {\n    padding: theme.spacing(2, 2, 2, 2.5),\n  },\n  action: {\n    margin: 0,\n  },\n  lastAnalyzed: {\n    color: theme.palette.text.secondary,\n  },\n  disabled: {\n    backgroundColor: theme.palette.background.default,\n  },\n}));\n\ntype DuplicationRating = {\n  greaterThan: number;\n  rating: '1.0' | '2.0' | '3.0' | '4.0' | '5.0';\n};\n\nconst defaultDuplicationRatings: DuplicationRating[] = [\n  { greaterThan: 0, rating: '1.0' },\n  { greaterThan: 3, rating: '2.0' },\n  { greaterThan: 5, rating: '3.0' },\n  { greaterThan: 10, rating: '4.0' },\n  { greaterThan: 20, rating: '5.0' },\n];\n\nexport const SonarQubeCard = ({\n  variant = 'gridItem',\n  duplicationRatings = defaultDuplicationRatings,\n}: {\n  variant?: InfoCardVariants;\n  duplicationRatings?: DuplicationRating[];\n}) => {\n  const { entity } = useEntity();\n  const sonarQubeApi = useApi(sonarQubeApiRef);\n\n  const projectTitle = useProjectKey(entity);\n\n  const { value, loading } = useAsync(\n    async () => sonarQubeApi.getFindingSummary(projectTitle),\n    [sonarQubeApi, projectTitle],\n  );\n\n  const deepLink =\n    !loading && value\n      ? {\n          title: 'View more',\n          link: value.projectUrl,\n        }\n      : undefined;\n\n  const classes = useStyles();\n  let gateLabel = 'Not computed';\n  let gateColor = classes.badgeUnknown;\n\n  if (value?.metrics.alert_status) {\n    const gatePassed = value.metrics.alert_status === 'OK';\n    gateLabel = gatePassed ? 'Gate passed' : 'Gate failed';\n    gateColor = gatePassed ? classes.badgeSuccess : classes.badgeError;\n  }\n\n  const qualityBadge = !loading && value && (\n    <Chip\n      label={gateLabel}\n      classes={{ root: gateColor, label: classes.badgeLabel }}\n    />\n  );\n\n  const duplicationRating = useMemo(() => {\n    if (loading || !value || !value.metrics.duplicated_lines_density) {\n      return '';\n    }\n\n    let rating = '';\n\n    for (const r of duplicationRatings) {\n      if (+value.metrics.duplicated_lines_density >= r.greaterThan) {\n        rating = r.rating;\n      }\n    }\n\n    return rating;\n  }, [loading, value, duplicationRatings]);\n\n  return (\n    <InfoCard\n      title=\"Code Quality\"\n      deepLink={deepLink}\n      variant={variant}\n      headerProps={{\n        action: qualityBadge,\n        classes: {\n          root: classes.header,\n          action: classes.action,\n        },\n      }}\n      className={\n        !loading && (!projectTitle || !value) ? classes.disabled : undefined\n      }\n    >\n      {loading && <Progress />}\n\n      {!loading && !projectTitle && (\n        <MissingAnnotationEmptyState\n          annotation={SONARQUBE_PROJECT_KEY_ANNOTATION}\n        />\n      )}\n\n      {!loading && projectTitle && !value && (\n        <EmptyState\n          missing=\"info\"\n          title=\"No information to display\"\n          description={`There is no SonarQube project with key '${projectTitle}'.`}\n        />\n      )}\n\n      {!loading && value && (\n        <>\n          <Grid\n            item\n            container\n            direction=\"column\"\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            style={{ height: '100%' }}\n            spacing={0}\n          >\n            <Grid item container justifyContent=\"space-around\">\n              <RatingCard\n                titleIcon={<BugReport />}\n                title=\"Bugs\"\n                link={value.getIssuesUrl('BUG')}\n                leftSlot={<Value value={value.metrics.bugs} />}\n                rightSlot={<Rating rating={value.metrics.reliability_rating} />}\n              />\n              <RatingCard\n                titleIcon={<LockOpen />}\n                title=\"Vulnerabilities\"\n                link={value.getIssuesUrl('VULNERABILITY')}\n                leftSlot={<Value value={value.metrics.vulnerabilities} />}\n                rightSlot={<Rating rating={value.metrics.security_rating} />}\n              />\n              <RatingCard\n                titleIcon={<SentimentVeryDissatisfied />}\n                title=\"Code Smells\"\n                link={value.getIssuesUrl('CODE_SMELL')}\n                leftSlot={<Value value={value.metrics.code_smells} />}\n                rightSlot={<Rating rating={value.metrics.sqale_rating} />}\n              />\n              {value.metrics.security_review_rating && (\n                <RatingCard\n                  titleIcon={<Security />}\n                  title=\"Hotspots Reviewed\"\n                  link={value.getSecurityHotspotsUrl()}\n                  leftSlot={\n                    <Value\n                      value={\n                        value.metrics.security_hotspots_reviewed\n                          ? `${value.metrics.security_hotspots_reviewed}%`\n                          : '—'\n                      }\n                    />\n                  }\n                  rightSlot={\n                    <Rating rating={value.metrics.security_review_rating} />\n                  }\n                />\n              )}\n              <div style={{ width: '100%' }} />\n              <RatingCard\n                link={value.getComponentMeasuresUrl('COVERAGE')}\n                title=\"Coverage\"\n                leftSlot={<Percentage value={value.metrics.coverage} />}\n                rightSlot={\n                  <Value\n                    value={\n                      value.metrics.coverage !== undefined\n                        ? `${value.metrics.coverage}%`\n                        : '—'\n                    }\n                  />\n                }\n              />\n              <RatingCard\n                title=\"Duplications\"\n                link={value.getComponentMeasuresUrl('DUPLICATED_LINES_DENSITY')}\n                leftSlot={<Rating rating={duplicationRating} hideValue />}\n                rightSlot={\n                  <Value value={`${value.metrics.duplicated_lines_density}%`} />\n                }\n              />\n            </Grid>\n            <Grid item className={classes.lastAnalyzed}>\n              Last analyzed on{' '}\n              {new Date(value.lastAnalysis).toLocaleString('en-US', {\n                timeZone: 'UTC',\n                day: 'numeric',\n                month: 'short',\n                year: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: false,\n              })}\n            </Grid>\n          </Grid>\n        </>\n      )}\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { sonarQubeApiRef, SonarQubeClient } from './api';\nimport {\n  configApiRef,\n  createApiFactory,\n  createComponentExtension,\n  createPlugin,\n  discoveryApiRef,\n  identityApiRef,\n} from '@backstage/core-plugin-api';\n\nexport const sonarQubePlugin = createPlugin({\n  id: 'sonarqube',\n  apis: [\n    createApiFactory({\n      api: sonarQubeApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef,\n      },\n      factory: ({ configApi, discoveryApi, identityApi }) =>\n        new SonarQubeClient({\n          discoveryApi,\n          baseUrl: configApi.getOptionalString('sonarQube.baseUrl'),\n          identityApi,\n        }),\n    }),\n  ],\n});\n\nexport const EntitySonarQubeCard = sonarQubePlugin.provide(\n  createComponentExtension({\n    name: 'EntitySonarQubeCard',\n    component: {\n      lazy: () =>\n        import('./components/SonarQubeCard').then(m => m.SonarQubeCard),\n    },\n  }),\n);\n"],"names":["useStyles"],"mappings":"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"}