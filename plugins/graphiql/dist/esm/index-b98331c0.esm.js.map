{"version":3,"file":"index-b98331c0.esm.js","sources":["../../src/assets/graphiql.icon.svg","../../src/lib/api/GraphQLEndpoints.ts","../../src/lib/api/types.ts","../../src/route-refs.tsx","../../src/plugin.ts","../../src/lib/storage/StorageBucket.ts","../../src/components/GraphiQLBrowser/GraphiQLBrowser.tsx","../../src/components/GraphiQLPage/GraphiQLPage.tsx","../../src/index.ts"],"sourcesContent":["<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g><path d=\"M 3.449219 18.160156 L 2.585938 17.660156 L 12.195312 1.019531 L 13.058594 1.515625 Z M 3.449219 18.160156\"/><path d=\"M 2.386719 16.332031 L 21.605469 16.332031 L 21.605469 17.328125 L 2.386719 17.328125 Z M 2.386719 16.332031\"/><path d=\"M 12.382812 22.441406 L 2.769531 16.890625 L 3.265625 16.027344 L 12.878906 21.578125 Z M 12.382812 22.441406\"/><path d=\"M 20.730469 7.976562 L 11.117188 2.425781 L 11.617188 1.5625 L 21.230469 7.113281 Z M 20.730469 7.976562\"/><path d=\"M 3.269531 7.972656 L 2.769531 7.109375 L 12.382812 1.558594 L 12.882812 2.421875 Z M 3.269531 7.972656\"/><path d=\"M 20.554688 18.160156 L 10.945312 1.515625 L 11.808594 1.019531 L 21.417969 17.660156 Z M 20.554688 18.160156\"/><path d=\"M 3.148438 6.449219 L 4.144531 6.449219 L 4.144531 17.550781 L 3.148438 17.550781 Z M 3.148438 6.449219\"/><path d=\"M 19.855469 6.449219 L 20.851562 6.449219 L 20.851562 17.550781 L 19.855469 17.550781 Z M 19.855469 6.449219\"/><path d=\"M 12.210938 22.019531 L 11.777344 21.265625 L 20.136719 16.441406 L 20.570312 17.191406 Z M 12.210938 22.019531\"/><path d=\"M 22.171875 17.875 C 21.59375 18.875 20.308594 19.21875 19.308594 18.640625 C 18.304688 18.066406 17.964844 16.78125 18.539062 15.78125 C 19.117188 14.777344 20.398438 14.4375 21.402344 15.011719 C 22.410156 15.59375 22.753906 16.871094 22.171875 17.875\"/><path d=\"M 5.453125 8.21875 C 4.878906 9.222656 3.59375 9.5625 2.59375 8.988281 C 1.589844 8.410156 1.246094 7.128906 1.824219 6.125 C 2.398438 5.125 3.683594 4.78125 4.6875 5.359375 C 5.6875 5.941406 6.03125 7.21875 5.453125 8.21875\"/><path d=\"M 1.828125 17.875 C 1.253906 16.871094 1.597656 15.59375 2.597656 15.011719 C 3.601562 14.4375 4.878906 14.777344 5.460938 15.78125 C 6.035156 16.78125 5.695312 18.058594 4.691406 18.640625 C 3.683594 19.21875 2.40625 18.875 1.828125 17.875\"/><path d=\"M 18.546875 8.21875 C 17.96875 7.21875 18.3125 5.941406 19.3125 5.359375 C 20.316406 4.78125 21.59375 5.125 22.175781 6.125 C 22.753906 7.128906 22.410156 8.40625 21.40625 8.988281 C 20.40625 9.5625 19.121094 9.222656 18.546875 8.21875\"/><path d=\"M 12 23.746094 C 10.84375 23.746094 9.90625 22.8125 9.90625 21.652344 C 9.90625 20.496094 10.84375 19.558594 12 19.558594 C 13.15625 19.558594 14.09375 20.496094 14.09375 21.652344 C 14.09375 22.804688 13.15625 23.746094 12 23.746094\"/><path d=\"M 12 4.441406 C 10.84375 4.441406 9.90625 3.503906 9.90625 2.347656 C 9.90625 1.1875 10.84375 0.253906 12 0.253906 C 13.15625 0.253906 14.09375 1.1875 14.09375 2.347656 C 14.09375 3.503906 13.15625 4.441406 12 4.441406\"/></g></svg>","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { GraphQLBrowseApi, GraphQLEndpoint } from './types';\nimport { ErrorApi, OAuthApi } from '@backstage/core-plugin-api';\n\n/**\n * Helper for generic http endpoints\n *\n * @public\n */\nexport type EndpointConfig = {\n  id: string;\n  title: string;\n  // Endpoint URL\n  url: string;\n  // only supports POST right now\n  method?: 'POST';\n  // Defaults to setting Content-Type to application/json\n  headers?: { [name in string]: string };\n};\n\n/** @public */\nexport type GithubEndpointConfig = {\n  id: string;\n  title: string;\n  /**\n   * GitHub GraphQL API url, defaults to https://api.github.com/graphql\n   */\n  url?: string;\n  /**\n   * Errors will be posted to the ErrorApi if it is provided.\n   */\n  errorApi?: ErrorApi;\n  /**\n   * GitHub Auth API used to authenticate requests.\n   */\n  githubAuthApi: OAuthApi;\n};\n\n/** @public */\nexport class GraphQLEndpoints implements GraphQLBrowseApi {\n  // Create a support\n  static create(config: EndpointConfig): GraphQLEndpoint {\n    const { id, title, url, method = 'POST' } = config;\n    return {\n      id,\n      title,\n      fetcher: async (params: any, options: any = {}) => {\n        const body = JSON.stringify(params);\n        const headers = {\n          'Content-Type': 'application/json',\n          ...config.headers,\n          ...options.headers,\n        };\n        const res = await fetch(url, {\n          method,\n          headers,\n          body,\n        });\n        return res.json();\n      },\n    };\n  }\n\n  /**\n   * Creates a GitHub GraphQL endpoint that uses the GithubAuth API to authenticate requests.\n   *\n   * If a request requires more permissions than is granted by the existing session,\n   * the fetcher will automatically ask for the additional scopes that are required.\n   */\n  static github(config: GithubEndpointConfig): GraphQLEndpoint {\n    const {\n      id,\n      title,\n      url = 'https://api.github.com/graphql',\n      errorApi,\n      githubAuthApi,\n    } = config;\n    type ResponseBody = {\n      errors?: Array<{ type: string; message: string }>;\n    };\n\n    return {\n      id,\n      title,\n      fetcher: async (params: any, options: any = {}) => {\n        let retried = false;\n\n        const doRequest = async (): Promise<any> => {\n          const res = await fetch(url, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: `Bearer ${await githubAuthApi.getAccessToken()}`,\n              ...options.headers,\n            },\n            body: JSON.stringify(params),\n          });\n          if (!res.ok) {\n            throw new Error(\n              `Request failed with status ${res.status} ${res.statusText}`,\n            );\n          }\n          const data = (await res.json()) as ResponseBody;\n\n          if (!data.errors || retried) {\n            return data;\n          }\n          retried = true;\n\n          const missingScopes = data.errors\n            .filter(({ type }) => type === 'INSUFFICIENT_SCOPES')\n            .flatMap(({ message }) => {\n              const scopesMatch = message.match(\n                /one of the following scopes: (\\[.*?\\])/,\n              );\n              if (!scopesMatch) {\n                return [];\n              }\n              try {\n                const scopes = JSON.parse(scopesMatch[1].replace(/'/g, '\"'));\n                return scopes;\n              } catch (error) {\n                if (errorApi) {\n                  errorApi.post(\n                    new Error(\n                      `Failed to parse scope string \"${scopesMatch[1]}\", ${error}`,\n                    ),\n                  );\n                }\n                return [];\n              }\n            });\n\n          await githubAuthApi.getAccessToken(missingScopes);\n          return doRequest();\n        };\n\n        return await doRequest();\n      },\n    };\n  }\n\n  static from(endpoints: GraphQLEndpoint[]) {\n    return new GraphQLEndpoints(endpoints);\n  }\n\n  private constructor(private readonly endpoints: GraphQLEndpoint[]) {}\n\n  async getEndpoints() {\n    return this.endpoints;\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createApiRef } from '@backstage/core-plugin-api';\n\n/** @public */\nexport type GraphQLEndpoint = {\n  // Will be used as unique key for storing history and query data\n  id: string;\n\n  // Displayed to the user to identify the source.\n  title: string;\n\n  // Method used send a GraphQL query.\n  // The body parameter is equivalent to the POST body to be JSON-serialized, and the\n  // return value should be the equivalent of a parsed JSON response from that POST.\n  fetcher: (body: any) => Promise<any>;\n};\n\n/** @public */\nexport type GraphQLBrowseApi = {\n  getEndpoints(): Promise<GraphQLEndpoint[]>;\n};\n\n/** @public */\nexport const graphQlBrowseApiRef = createApiRef<GraphQLBrowseApi>({\n  id: 'plugin.graphiql.browse',\n});\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createRouteRef } from '@backstage/core-plugin-api';\n\n/** @public */\nexport const graphiQLRouteRef = createRouteRef({\n  id: 'graphiql-root',\n});\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  createPlugin,\n  createApiFactory,\n  createRoutableExtension,\n} from '@backstage/core-plugin-api';\nimport { graphQlBrowseApiRef, GraphQLEndpoints } from './lib/api';\nimport { graphiQLRouteRef } from './route-refs';\n\n/** @public */\nexport const graphiqlPlugin = createPlugin({\n  id: 'graphiql',\n  apis: [\n    // GitLab is used as an example endpoint, but most will want to plug in\n    // their own instead.\n    createApiFactory(\n      graphQlBrowseApiRef,\n      GraphQLEndpoints.from([\n        GraphQLEndpoints.create({\n          id: 'gitlab',\n          title: 'GitLab',\n          url: 'https://gitlab.com/api/graphql',\n        }),\n      ]),\n    ),\n  ],\n});\n\n/** @public */\nexport const GraphiQLPage = graphiqlPlugin.provide(\n  createRoutableExtension({\n    name: 'GraphiQLPage',\n    component: () => import('./components').then(m => m.GraphiQLPage),\n    mountPoint: graphiQLRouteRef,\n  }),\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\ntype BucketData = { [key in string]: string };\n\nexport class StorageBucket implements Storage {\n  private static noPropAccessProxyHandler: ProxyHandler<StorageBucket> = {\n    get(target, prop) {\n      if (prop in target) {\n        return target[prop as any];\n      }\n      throw new Error(\n        'Direct property access is not allowed for StorageBuckets',\n      );\n    },\n    set() {\n      throw new Error(\n        'Direct property access is not allowed for StorageBuckets',\n      );\n    },\n  };\n\n  static forStorage(storage: Storage, bucket: string) {\n    const storageBucket = new StorageBucket(storage, bucket);\n    return new Proxy(storageBucket, StorageBucket.noPropAccessProxyHandler);\n  }\n\n  static forLocalStorage(bucket: string): StorageBucket {\n    return StorageBucket.forStorage(localStorage, bucket);\n  }\n\n  private constructor(\n    private readonly storage: Storage,\n    private readonly bucket: string,\n  ) {}\n\n  [name: string]: any;\n\n  get length(): number {\n    throw new Error('Method not implemented.');\n  }\n\n  clear(): void {\n    this.storage.removeItem(this.bucket);\n  }\n\n  getItem(key: string): string | null {\n    return this.read()?.[key] ?? null;\n  }\n\n  key(): never {\n    throw new Error('Method not implemented.');\n  }\n\n  removeItem(key: string): void {\n    const data = this.read();\n    if (!data) {\n      return;\n    }\n\n    if (key in data) {\n      delete data[key];\n      this.write(data);\n    }\n  }\n\n  setItem(key: string, value: string): void {\n    const data = this.read() ?? {};\n    data[key] = value;\n    this.write(data);\n  }\n\n  private read(): BucketData | undefined {\n    const bucketValue = this.storage.getItem(this.bucket);\n    if (!bucketValue) {\n      return undefined;\n    }\n\n    try {\n      return JSON.parse(bucketValue);\n    } catch {\n      return undefined;\n    }\n  }\n\n  private write(data: BucketData) {\n    this.storage.setItem(this.bucket, JSON.stringify(data));\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, Suspense } from 'react';\nimport { Tabs, Tab, makeStyles, Typography, Divider } from '@material-ui/core';\nimport 'graphiql/graphiql.css';\nimport { StorageBucket } from '../../lib/storage';\nimport { GraphQLEndpoint } from '../../lib/api';\nimport { BackstageTheme } from '@backstage/theme';\nimport { Progress } from '@backstage/core-components';\n\nconst GraphiQL = React.lazy(() => import('graphiql'));\n\nconst useStyles = makeStyles<BackstageTheme>(theme => ({\n  root: {\n    height: '100%',\n    display: 'flex',\n    flexFlow: 'column nowrap',\n  },\n  tabs: {\n    background: theme.palette.background.paper,\n  },\n  graphiQlWrapper: {\n    flex: 1,\n    '@global': {\n      '.graphiql-container': {\n        boxSizing: 'initial',\n      },\n    },\n  },\n}));\n\ntype GraphiQLBrowserProps = {\n  endpoints: GraphQLEndpoint[];\n};\n\nexport const GraphiQLBrowser = (props: GraphiQLBrowserProps) => {\n  const { endpoints } = props;\n\n  const classes = useStyles();\n  const [tabIndex, setTabIndex] = useState(0);\n\n  if (!endpoints.length) {\n    return <Typography variant=\"h4\">No endpoints available</Typography>;\n  }\n\n  const { id, fetcher } = endpoints[tabIndex];\n  const storage = StorageBucket.forLocalStorage(`plugin/graphiql/data/${id}`);\n\n  return (\n    <div className={classes.root}>\n      <Suspense fallback={<Progress />}>\n        <Tabs\n          classes={{ root: classes.tabs }}\n          value={tabIndex}\n          onChange={(_, value) => setTabIndex(value)}\n          indicatorColor=\"primary\"\n        >\n          {endpoints.map(({ title }, index) => (\n            <Tab key={index} label={title} value={index} />\n          ))}\n        </Tabs>\n        <Divider />\n        <div className={classes.graphiQlWrapper}>\n          <GraphiQL\n            headerEditorEnabled\n            key={tabIndex}\n            fetcher={fetcher}\n            storage={storage}\n          />\n        </div>\n      </Suspense>\n    </div>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\nimport 'graphiql/graphiql.css';\nimport { graphQlBrowseApiRef } from '../../lib/api';\nimport { GraphiQLBrowser } from '../GraphiQLBrowser';\nimport { Typography } from '@material-ui/core';\nimport {\n  Content,\n  Header,\n  HeaderLabel,\n  Page,\n  Progress,\n} from '@backstage/core-components';\n\n/** @public */\nexport const GraphiQLPage = () => {\n  const graphQlBrowseApi = useApi(graphQlBrowseApiRef);\n  const endpoints = useAsync(() => graphQlBrowseApi.getEndpoints());\n\n  let content: JSX.Element;\n\n  if (endpoints.loading) {\n    content = (\n      <Content>\n        <Progress />\n      </Content>\n    );\n  } else if (endpoints.error) {\n    content = (\n      <Content>\n        <Typography variant=\"h4\" color=\"error\">\n          {/* TODO: provide a proper error component */}\n          Failed to load GraphQL endpoints, {String(endpoints.error)}\n        </Typography>\n      </Content>\n    );\n  } else {\n    content = (\n      <Content noPadding>\n        <GraphiQLBrowser endpoints={endpoints.value!} />\n      </Content>\n    );\n  }\n\n  return (\n    <Page themeId=\"tool\">\n      <Header title=\"GraphiQL\">\n        <HeaderLabel label=\"Owner\" value=\"Spotify\" />\n        <HeaderLabel label=\"Lifecycle\" value=\"Alpha\" />\n      </Header>\n      {content}\n    </Page>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Backstage plugin for browsing GraphQL APIs\n *\n * @packageDocumentation\n */\n\nimport GraphiQLIconComponent from './assets/graphiql.icon.svg';\nimport { IconComponent } from '@backstage/core-plugin-api';\n\nexport {\n  graphiqlPlugin,\n  graphiqlPlugin as plugin,\n  GraphiQLPage,\n} from './plugin';\nexport { GraphiQLPage as Router } from './components';\nexport * from './lib/api';\nexport * from './route-refs';\n\n/** @public */\nexport const GraphiQLIcon: IconComponent =\n  GraphiQLIconComponent as IconComponent;\n"],"names":["GraphiQLPage","React","GraphiQLIconComponent"],"mappings":"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"}