{"version":3,"file":"index-37417942.esm.js","sources":["../../src/components/LabelDataflowInstructionsPage/LabelDataflowInstructionsPage.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Box, Typography } from '@material-ui/core';\nimport { AlertInstructionsLayout } from '../AlertInstructionsLayout';\nimport { CodeSnippet, Link } from '@backstage/core-components';\n\nexport const LabelDataflowInstructionsPage = () => {\n  return (\n    <AlertInstructionsLayout title=\"Investigating Growth\">\n      <Typography variant=\"h1\">Labeling Dataflow Jobs</Typography>\n      <Typography paragraph>\n        Labels in Google Cloud Platform are key-value pairs that can be added to\n        most types of cloud resources. Since these labels are also exported in\n        billing data, adding labels allows a granular breakdown of cloud cost by\n        software entity.\n      </Typography>\n      <Typography paragraph>\n        In Cloud Dataflow, labels can be added to a job either programmatically\n        or via the command-line when launching a job. Note that GCP has{' '}\n        <Link to=\"https://cloud.google.com/compute/docs/labeling-resources#restrictions\">\n          restrictions\n        </Link>{' '}\n        on the length and characters that can be used in labels.\n      </Typography>\n      <Typography paragraph>\n        Labels are not retroactive, so cost tracking is only possible from when\n        the labels are first added to a Dataflow job.\n      </Typography>\n\n      <Box mt={4}>\n        <Typography variant=\"h3\">DataflowPipelineOptions</Typography>\n        <Typography paragraph>\n          Dataflow jobs using Beam's{' '}\n          <Link to=\"https://beam.apache.org/releases/javadoc/2.3.0/org/apache/beam/runners/dataflow/options/DataflowPipelineOptions.html\">\n            DataflowPipelineOptions\n          </Link>{' '}\n          directly can use the <b>setLabels</b> function to add one or more\n          labels:\n          <CodeSnippet\n            language=\"java\"\n            text={`private DataflowPipelineOptions options = PipelineOptionsFactory.fromArgs(args).as(DataflowPipelineOptionsImpl.class); \noptions.setLabels(ImmutableMap.of(\"job-id\", \"my-dataflow-job\"));`}\n          />\n        </Typography>\n        <Typography paragraph>\n          Dataflow jobs using Scio can similarly set options on the ScioContext:\n          <CodeSnippet\n            language=\"scala\"\n            text={`val (sc: ScioContext, args: Args) = ContextAndArgs(cmdLineArgs)\nsc.optionsAs[DataflowPipelineOptions].setLabels(Map(\"job-id\" -> \"my-dataflow-job\").asJava)`}\n          />\n        </Typography>\n      </Box>\n\n      <Box mt={4}>\n        <Typography variant=\"h3\">Command-line</Typography>\n        <Typography paragraph>\n          Dataflow jobs launched from the command-line can add labels as an\n          argument:\n          <CodeSnippet\n            language=\"shell\"\n            text={`--labels={\"job-id\": \"my-dataflow-job\", \"date-argument\": \"2020-09-16\"}`}\n          />\n        </Typography>\n        <Typography paragraph>\n          For more information on specifying options, see the{' '}\n          <Link to=\"https://cloud.google.com/dataflow/docs/guides/specifying-exec-params\">\n            Dataflow documentation\n          </Link>{' '}\n          or{' '}\n          <Link to=\"https://spotify.github.io/scio/api/com/spotify/scio/ScioContext.html\">\n            Scio Scaladoc\n          </Link>\n          .\n        </Typography>\n      </Box>\n    </AlertInstructionsLayout>\n  );\n};\n"],"names":[],"mappings":"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"}