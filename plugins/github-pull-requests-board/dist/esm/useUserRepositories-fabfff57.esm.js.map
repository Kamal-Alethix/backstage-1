{"version":3,"file":"useUserRepositories-fabfff57.esm.js","sources":["../../src/components/InfoCardHeader/InfoCardHeader.tsx","../../src/components/PullRequestBoardOptions/PullRequestBoardOptions.tsx","../../src/components/Wrapper/Wrapper.tsx","../../src/utils/constants.ts","../../src/utils/functions.ts","../../src/components/UserHeader/UserHeader.tsx","../../src/components/Card/CardHeader.tsx","../../src/components/Card/Card.tsx","../../src/components/UserHeaderList/UserHeaderList.tsx","../../src/components/PullRequestCard/PullRequestCard.tsx","../../src/api/useOctokitGraphQl.ts","../../src/api/useGetPullRequestsFromRepository.ts","../../src/api/useGetPullRequestDetails.ts","../../src/hooks/usePullRequestsByTeam.tsx","../../src/components/icons/DraftPr/DraftPr.tsx","../../src/hooks/useUserRepositories.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { PropsWithChildren, FunctionComponent } from 'react';\nimport { Typography, Box, IconButton } from '@material-ui/core';\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\ntype Props = {\n  onRefresh: () => void;\n};\n\nconst InfoCardHeader: FunctionComponent<Props> = (\n  props: PropsWithChildren<Props>,\n) => {\n  const { children, onRefresh } = props;\n\n  return (\n    <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n      <Box display=\"flex\" alignItems=\"center\">\n        <Typography variant=\"h5\">Open pull requests</Typography>\n        <IconButton color=\"secondary\" onClick={onRefresh}>\n          <RefreshIcon />\n        </IconButton>\n      </Box>\n      {children}\n    </Box>\n  );\n};\n\nexport default InfoCardHeader;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { ReactNode, FunctionComponent } from 'react';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { Tooltip, Box } from '@material-ui/core';\nimport { PRCardFormating } from '../../utils/types';\n\ntype Option = {\n  icon: ReactNode;\n  value: string;\n  ariaLabel: string;\n};\n\ntype Props = {\n  value: string[];\n  onClickOption: (selectedOptions: PRCardFormating[]) => void;\n  options: Option[];\n};\n\nconst PullRequestBoardOptions: FunctionComponent<Props> = (props: Props) => {\n  const { value, onClickOption, options } = props;\n  return (\n    <ToggleButtonGroup\n      size=\"small\"\n      value={value}\n      onChange={(_event, selectedOptions) => onClickOption(selectedOptions)}\n      aria-label=\"Pull Request board settings\"\n    >\n      {options.map(({ icon, value: toggleValue, ariaLabel }, index) => (\n        <ToggleButton\n          value={toggleValue}\n          aria-label={ariaLabel}\n          key={`${ariaLabel}-${index}`}\n        >\n          <Tooltip title={ariaLabel}>\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              {icon}\n            </Box>\n          </Tooltip>\n        </ToggleButton>\n      ))}\n    </ToggleButtonGroup>\n  );\n};\n\nexport default PullRequestBoardOptions;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { PropsWithChildren, FunctionComponent } from 'react';\nimport { Grid, Box } from '@material-ui/core';\n\ntype Props = {\n  fullscreen: boolean;\n};\n\nconst Wrapper: FunctionComponent<Props> = (props: PropsWithChildren<Props>) => {\n  const { children, fullscreen } = props;\n\n  return (\n    <Grid item xs>\n      <Box maxHeight={fullscreen ? '100vh' : '50vh'} overflow=\"auto\">\n        {children}\n      </Box>\n    </Grid>\n  );\n};\n\nexport default Wrapper;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const COLUMNS = Object.freeze({\n  REVIEW_REQUIRED: '🔍 Review required',\n  REVIEW_IN_PROGRESS: '📝 Review in progress',\n  APPROVED: '👍 Approved',\n});\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Entity } from '@backstage/catalog-model';\nimport moment from 'moment';\nimport {\n  Reviews,\n  PullRequests,\n  ReviewDecision,\n  PullRequestsColumn,\n  Author,\n} from './types';\nimport { COLUMNS } from './constants';\n\nconst GITHUB_PULL_REQUESTS_ANNOTATION = 'github.com/project-slug';\n\nexport const getProjectNameFromEntity = (entity: Entity): string => {\n  return entity?.metadata.annotations?.[GITHUB_PULL_REQUESTS_ANNOTATION] ?? '';\n};\n\nexport const getApprovedReviews = (reviews: Reviews = []): Reviews => {\n  return reviews.filter(({ state }) => state === 'APPROVED');\n};\n\nexport const getCommentedReviews = (reviews: Reviews = []): Reviews => {\n  return reviews.filter(({ state }) => state === 'COMMENTED');\n};\nexport const getChangeRequests = (reviews: Reviews = []): Reviews => {\n  return reviews.filter(({ state }) => state === 'CHANGES_REQUESTED');\n};\n\nexport const filterSameUser = (users: Author[]): Author[] => {\n  return users.reduce((acc, curr) => {\n    const containsUser = acc.find(({ login }) => login === curr.login);\n\n    if (!containsUser) {\n      return [...acc, curr];\n    }\n\n    return acc;\n  }, [] as Author[]);\n};\n\nexport const getElapsedTime = (start: string): string => {\n  return moment(start).fromNow();\n};\n\nexport const formatPRsByReviewDecision = (\n  prs: PullRequests,\n): PullRequestsColumn[] => {\n  const reviewDecisions = prs.reduce(\n    (acc, curr) => {\n      const decision = curr.reviewDecision || 'REVIEW_REQUIRED';\n\n      if (decision !== 'APPROVED' && curr.latestReviews.nodes.length === 0) {\n        return {\n          ...acc,\n          REVIEW_REQUIRED: [...acc.REVIEW_REQUIRED, curr],\n        };\n      }\n\n      if (decision !== 'APPROVED' && curr.latestReviews.nodes.length > 0) {\n        return {\n          ...acc,\n          IN_PROGRESS: [...acc.IN_PROGRESS, curr],\n        };\n      }\n\n      if (decision === 'APPROVED') {\n        return {\n          ...acc,\n          APPROVED: [...acc.APPROVED, curr],\n        };\n      }\n\n      return acc;\n    },\n    {\n      REVIEW_REQUIRED: [],\n      IN_PROGRESS: [],\n      APPROVED: [],\n    } as Record<ReviewDecision, PullRequests>,\n  );\n\n  return [\n    {\n      title: COLUMNS.REVIEW_REQUIRED,\n      content: reviewDecisions.REVIEW_REQUIRED,\n    },\n    { title: COLUMNS.REVIEW_IN_PROGRESS, content: reviewDecisions.IN_PROGRESS },\n    { title: COLUMNS.APPROVED, content: reviewDecisions.APPROVED },\n  ];\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { FunctionComponent } from 'react';\nimport { Typography, Box, Avatar, makeStyles } from '@material-ui/core';\n\ntype Props = {\n  name: string;\n  avatar?: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  small: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nconst UserHeader: FunctionComponent<Props> = (props: Props) => {\n  const { name, avatar } = props;\n  const classes = useStyles();\n\n  return (\n    <Box display=\"flex\" alignItems=\"center\" marginX={1}>\n      <Typography color=\"textSecondary\" variant=\"body2\" component=\"p\">\n        {name}\n      </Typography>\n      <Avatar alt={name} src={avatar} className={classes.small} />\n    </Box>\n  );\n};\n\nexport default UserHeader;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { FunctionComponent } from 'react';\nimport { Typography, Box } from '@material-ui/core';\nimport { getElapsedTime } from '../../utils/functions';\nimport { UserHeader } from '../UserHeader';\n\ntype Props = {\n  title: string;\n  createdAt: string;\n  updatedAt?: string;\n  authorName: string;\n  authorAvatar?: string;\n  repositoryName: string;\n};\n\nconst CardHeader: FunctionComponent<Props> = (props: Props) => {\n  const {\n    title,\n    createdAt,\n    updatedAt,\n    authorName,\n    authorAvatar,\n    repositoryName,\n  } = props;\n\n  return (\n    <>\n      <Box display=\"flex\" justifyContent=\"space-between\">\n        <Typography color=\"textSecondary\" variant=\"body2\" component=\"p\">\n          {repositoryName}\n        </Typography>\n        <UserHeader name={authorName} avatar={authorAvatar} />\n      </Box>\n      <Typography component=\"h3\">\n        <b>{title}</b>\n      </Typography>\n      <Box display=\"flex\" justifyContent=\"space-between\" marginY={1}>\n        <Typography variant=\"body2\" component=\"p\">\n          Created at: <strong>{getElapsedTime(createdAt)}</strong>\n        </Typography>\n        {updatedAt && (\n          <Typography variant=\"body2\" component=\"p\">\n            Last update: <strong>{getElapsedTime(updatedAt)}</strong>\n          </Typography>\n        )}\n      </Box>\n    </>\n  );\n};\n\nexport default CardHeader;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { PropsWithChildren, FunctionComponent } from 'react';\nimport { Box, Paper, CardActionArea } from '@material-ui/core';\nimport CardHeader from './CardHeader';\n\ntype Props = {\n  title: string;\n  createdAt: string;\n  updatedAt?: string;\n  prUrl: string;\n  authorName: string;\n  authorAvatar?: string;\n  repositoryName: string;\n};\n\nconst Card: FunctionComponent<Props> = (props: PropsWithChildren<Props>) => {\n  const {\n    title,\n    createdAt,\n    updatedAt,\n    prUrl,\n    authorName,\n    authorAvatar,\n    repositoryName,\n    children,\n  } = props;\n\n  return (\n    <Box marginBottom={1}>\n      <Paper variant=\"outlined\">\n        <CardActionArea href={prUrl} target=\"_blank\">\n          <Box padding={1}>\n            <CardHeader\n              title={title}\n              createdAt={createdAt}\n              updatedAt={updatedAt}\n              authorName={authorName}\n              authorAvatar={authorAvatar}\n              repositoryName={repositoryName}\n            />\n            {children}\n          </Box>\n        </CardActionArea>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default Card;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { FunctionComponent } from 'react';\nimport { Typography, Box } from '@material-ui/core';\nimport { filterSameUser } from '../../utils/functions';\n\nimport { UserHeader } from '../UserHeader';\nimport { Author } from '../../utils/types';\n\ntype Props = {\n  label?: string;\n  users: Author[];\n};\n\nconst UserHeaderList: FunctionComponent<Props> = (props: Props) => {\n  const { users, label } = props;\n\n  return (\n    <Box\n      display=\"flex\"\n      width=\"100%\"\n      alignItems=\"center\"\n      marginY={2}\n      flexWrap=\"wrap\"\n    >\n      {label && <Typography variant=\"subtitle2\">{label}</Typography>}\n      {filterSameUser(users).map(({ login, avatarUrl }) => (\n        <UserHeader name={login} avatar={avatarUrl} key={login} />\n      ))}\n    </Box>\n  );\n};\n\nexport default UserHeaderList;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { FunctionComponent } from 'react';\nimport {\n  getApprovedReviews,\n  getChangeRequests,\n  getCommentedReviews,\n} from '../../utils/functions';\nimport { Reviews, Author } from '../../utils/types';\nimport { Card } from '../Card';\nimport { UserHeaderList } from '../UserHeaderList';\n\ntype Props = {\n  title: string;\n  createdAt: string;\n  updatedAt?: string;\n  author: Author;\n  url: string;\n  reviews: Reviews;\n  repositoryName: string;\n  isDraft: boolean;\n};\n\nconst PullRequestCard: FunctionComponent<Props> = (props: Props) => {\n  const {\n    title,\n    createdAt,\n    updatedAt,\n    author,\n    url,\n    reviews,\n    repositoryName,\n    isDraft,\n  } = props;\n\n  const approvedReviews = getApprovedReviews(reviews);\n  const commentsReviews = getCommentedReviews(reviews);\n  const changeRequests = getChangeRequests(reviews);\n\n  const cardTitle = isDraft ? `🔧 DRAFT - ${title}` : title;\n\n  return (\n    <Card\n      title={cardTitle}\n      createdAt={createdAt}\n      updatedAt={updatedAt}\n      authorName={author.login}\n      authorAvatar={author.avatarUrl}\n      repositoryName={repositoryName}\n      prUrl={url}\n    >\n      {!!approvedReviews.length && (\n        <UserHeaderList\n          label=\"👍\"\n          users={approvedReviews.map(\n            ({ author: reviewAuthor }) => reviewAuthor,\n          )}\n        />\n      )}\n      {!!commentsReviews.length && (\n        <UserHeaderList\n          label=\"💬\"\n          users={commentsReviews.map(\n            ({ author: reviewAuthor }) => reviewAuthor,\n          )}\n        />\n      )}\n      {!!changeRequests.length && (\n        <UserHeaderList\n          label=\"🚧\"\n          users={changeRequests.map(({ author: reviewAuthor }) => reviewAuthor)}\n        />\n      )}\n    </Card>\n  );\n};\n\nexport default PullRequestCard;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Octokit } from '@octokit/rest';\nimport {\n  useApi,\n  githubAuthApiRef,\n  configApiRef,\n} from '@backstage/core-plugin-api';\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\n\nlet octokit: any;\n\nexport const useOctokitGraphQl = <T>() => {\n  const auth = useApi(githubAuthApiRef);\n  const config = useApi(configApiRef);\n\n  const baseUrl = readGitHubIntegrationConfigs(\n    config.getOptionalConfigArray('integrations.github') ?? [],\n  )[0].apiBaseUrl;\n\n  return (path: string, options?: any): Promise<T> =>\n    auth\n      .getAccessToken(['repo'])\n      .then((token: string) => {\n        if (!octokit) {\n          octokit = new Octokit({ auth: token, ...(baseUrl && { baseUrl }) });\n        }\n\n        return octokit;\n      })\n      .then(octokitInstance => {\n        return octokitInstance.graphql(path, options);\n      });\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nimport { GraphQlPullRequests, PullRequestsNumber } from '../utils/types';\nimport { useOctokitGraphQl } from './useOctokitGraphQl';\n\nexport const useGetPullRequestsFromRepository = () => {\n  const graphql =\n    useOctokitGraphQl<GraphQlPullRequests<PullRequestsNumber[]>>();\n\n  const fn = React.useRef(\n    async (repo: string): Promise<PullRequestsNumber[]> => {\n      const [organisation, repositoryName] = repo.split('/');\n\n      const { repository } = await graphql(\n        `\n          query ($name: String!, $owner: String!) {\n            repository(name: $name, owner: $owner) {\n              pullRequests(states: OPEN, first: 10) {\n                edges {\n                  node {\n                    number\n                  }\n                }\n              }\n            }\n          }\n        `,\n        {\n          name: repositoryName,\n          owner: organisation,\n        },\n      );\n\n      return repository.pullRequests.edges;\n    },\n  );\n\n  return fn.current;\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nimport { GraphQlPullRequest, PullRequest } from '../utils/types';\nimport { useOctokitGraphQl } from './useOctokitGraphQl';\n\nexport const useGetPullRequestDetails = () => {\n  const graphql = useOctokitGraphQl<GraphQlPullRequest<PullRequest>>();\n\n  const fn = React.useRef(\n    async (repo: string, number: number): Promise<PullRequest> => {\n      const [organisation, repositoryName] = repo.split('/');\n\n      const { repository } = await graphql(\n        `\n          query ($name: String!, $owner: String!, $pull_number: Int!) {\n            repository(name: $name, owner: $owner) {\n              pullRequest(number: $pull_number) {\n                id\n                repository {\n                  name\n                }\n                title\n                url\n                createdAt\n                lastEditedAt\n                latestReviews(first: 10) {\n                  nodes {\n                    author {\n                      login\n                      avatarUrl\n                      ... on User {\n                        id\n                        email\n                        name\n                        login\n                      }\n                    }\n                    state\n                  }\n                }\n                mergeable\n                state\n                reviewDecision\n                isDraft\n                createdAt\n                author {\n                  ... on User {\n                    id\n                    email\n                    avatarUrl\n                    name\n                    login\n                  }\n                  ... on Bot {\n                    id\n                    avatarUrl\n                    login\n                  }\n                }\n              }\n            }\n          }\n        `,\n        {\n          name: repositoryName,\n          owner: organisation,\n          pull_number: number,\n        },\n      );\n\n      return repository.pullRequest;\n    },\n  );\n\n  return fn.current;\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useCallback, useEffect, useState } from 'react';\nimport { formatPRsByReviewDecision } from '../utils/functions';\nimport { PullRequests, PullRequestsColumn } from '../utils/types';\nimport { useGetPullRequestsFromRepository } from '../api/useGetPullRequestsFromRepository';\nimport { useGetPullRequestDetails } from '../api/useGetPullRequestDetails';\n\nexport function usePullRequestsByTeam(repositories: string[]) {\n  const [pullRequests, setPullRequests] = useState<PullRequestsColumn[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const getPullRequests = useGetPullRequestsFromRepository();\n  const getPullRequestDetails = useGetPullRequestDetails();\n\n  const getPRsPerRepository = useCallback(\n    async (repository: string): Promise<PullRequests> => {\n      const pullRequestsNumbers = await getPullRequests(repository);\n\n      const pullRequestsWithDetails = await Promise.all(\n        pullRequestsNumbers.map(({ node }) =>\n          getPullRequestDetails(repository, node.number),\n        ),\n      );\n\n      return pullRequestsWithDetails;\n    },\n    [getPullRequests, getPullRequestDetails],\n  );\n\n  const getPRsFromTeam = useCallback(\n    async (teamRepositories: string[]): Promise<PullRequests> => {\n      const teamRepositoriesPromises = teamRepositories.map(repository =>\n        getPRsPerRepository(repository),\n      );\n\n      const teamPullRequests = await Promise.allSettled(\n        teamRepositoriesPromises,\n      ).then(promises =>\n        promises.reduce((acc, curr) => {\n          if (curr.status === 'fulfilled') {\n            return [...acc, ...curr.value];\n          }\n          return acc;\n        }, [] as PullRequests),\n      );\n\n      return teamPullRequests;\n    },\n    [getPRsPerRepository],\n  );\n\n  const getAllPullRequests = useCallback(async () => {\n    setLoading(true);\n\n    const teamPullRequests = await getPRsFromTeam(repositories);\n    setPullRequests(formatPRsByReviewDecision(teamPullRequests));\n    setLoading(false);\n  }, [getPRsFromTeam, repositories]);\n\n  useEffect(() => {\n    getAllPullRequests();\n  }, [getAllPullRequests]);\n\n  return {\n    pullRequests,\n    loading,\n    refreshPullRequests: getAllPullRequests,\n  };\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { FunctionComponent } from 'react';\n\nconst DraftPr: FunctionComponent = () => (\n  <svg\n    aria-hidden=\"true\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    version=\"1.1\"\n    width=\"16\"\n    data-view-component=\"true\"\n  >\n    <path d=\"M2.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.25 1a2.25 2.25 0 00-.75 4.372v5.256a2.251 2.251 0 101.5 0V5.372A2.25 2.25 0 003.25 1zm0 11a.75.75 0 100 1.5.75.75 0 000-1.5zm9.5 3a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zm0-3a.75.75 0 100 1.5.75.75 0 000-1.5z\" />\n    <path d=\"M14 7.5a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm0-4.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z\" />\n  </svg>\n);\n\nexport default DraftPr;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useEntity, catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { useCallback, useEffect, useState } from 'react';\nimport { getProjectNameFromEntity } from '../utils/functions';\n\nexport function useUserRepositories() {\n  const { entity: teamEntity } = useEntity();\n  const catalogApi = useApi(catalogApiRef);\n  const [repositories, setRepositories] = useState<string[]>([]);\n\n  const getRepositoriesNames = useCallback(async () => {\n    const entitiesList = await catalogApi.getEntities({\n      filter: {\n        kind: 'Component',\n        'spec.type': 'service',\n        'spec.owner': teamEntity?.metadata?.name,\n      },\n    });\n\n    const entitiesNames: string[] = entitiesList.items.map(componentEntity =>\n      getProjectNameFromEntity(componentEntity),\n    );\n\n    setRepositories([...new Set(entitiesNames)]);\n  }, [catalogApi, teamEntity?.metadata?.name]);\n\n  useEffect(() => {\n    getRepositoriesNames();\n  }, [getRepositoriesNames]);\n\n  return {\n    repositories,\n  };\n}\n"],"names":[],"mappings":"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"}