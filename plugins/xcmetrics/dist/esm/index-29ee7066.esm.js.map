{"version":3,"file":"index-29ee7066.esm.js","sources":["../../src/utils/array.ts","../../src/utils/buildData.ts","../../src/utils/format.ts","../../src/utils/classnames.ts","../../src/components/StatusCell/StatusCell.tsx","../../src/components/StatusMatrix/StatusMatrix.tsx","../../src/components/Trend/Trend.tsx","../../src/components/DataValue/DataValue.tsx","../../src/components/OverviewTrends/OverviewTrends.tsx","../../src/components/StatusIcon/StatusIcon.tsx","../../src/components/BuildTableColumns.tsx","../../src/components/Overview/Overview.tsx","../../src/components/DatePicker/DatePicker.tsx","../../src/components/BuildListFilter/BuildListFilter.tsx","../../src/components/Accordion/Accordion.tsx","../../src/components/BuildTimeline/BuildTimeline.tsx","../../src/components/PreformattedText/PreformattedText.tsx","../../src/components/BuildDetails/BuildDetails.tsx","../../src/components/BuildList/BuildList.tsx","../../src/components/BuildsPage/BuildsPage.tsx","../../src/components/XcmetricsLayout/XcmetricsLayout.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const sumField = <T extends {}>(\n  field: (element: T) => number,\n  arr?: T[],\n) => {\n  return arr?.reduce((sum, current) => sum + field(current), 0);\n};\n\nexport const getValues = <T extends {}>(\n  field: (element: T) => number,\n  arr?: T[],\n) => {\n  if (!arr?.length) {\n    return undefined;\n  }\n\n  return arr.map(element => field(element));\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatDuration } from '.';\nimport { BuildCount, BuildTime } from '../api';\n\nexport const getErrorRatios = (buildCounts?: BuildCount[]) => {\n  if (!buildCounts?.length) {\n    return undefined;\n  }\n\n  return buildCounts.map(counts =>\n    counts.builds === 0 ? 0 : counts.errors / counts.builds,\n  );\n};\n\nexport const getAverageDuration = (\n  buildTimes: BuildTime[] | undefined,\n  field: (b: BuildTime) => number,\n) => {\n  if (!buildTimes?.length) {\n    return undefined;\n  }\n\n  return formatDuration(\n    buildTimes.reduce((sum, current) => sum + field(current), 0) /\n      buildTimes.length,\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DateTime, Duration } from 'luxon';\nimport { BuildStatus } from '../api';\nimport upperFirst from 'lodash/upperFirst';\n\nexport const formatDuration = (seconds: number) => {\n  const duration = Duration.fromObject({\n    seconds: seconds,\n  }).shiftTo('hours', 'minutes', 'seconds', 'milliseconds');\n\n  if (duration.hours + duration.minutes + duration.seconds === 0) {\n    return `${Math.round(duration.milliseconds)} ms`;\n  }\n\n  const h = duration.hours ? `${duration.hours} h` : '';\n  const m = duration.minutes ? `${duration.minutes} m` : '';\n  const s = duration.hours < 12 ? `${duration.seconds ?? 0} s` : '';\n\n  return `${h} ${m} ${s}`;\n};\n\nexport const formatSecondsInterval = ([start, end]: [number, number]) => {\n  return `${Math.round(start * 100) / 100} s - ${\n    Math.round(end * 100) / 100\n  } s`;\n};\n\nexport const formatTime = (timestamp: string) => {\n  return DateTime.fromISO(timestamp).toLocaleString(\n    DateTime.DATETIME_SHORT_WITH_SECONDS,\n  );\n};\n\nexport const formatPercentage = (number: number) => {\n  return `${Math.round(number * 100)} %`;\n};\n\nexport const formatStatus = (status: BuildStatus) => upperFirst(status);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\ntype ClassName = string | false | undefined | null;\n\nexport const classNames = (...args: ClassName[]) =>\n  args.filter(c => !!c).join(' ');\n\nexport const cn = classNames;\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { makeStyles, Tooltip } from '@material-ui/core';\nimport React from 'react';\nimport { BackstageTheme } from '@backstage/theme';\nimport { BuildStatus, BuildStatusResult, xcmetricsApiRef } from '../../api';\nimport { cn, formatDuration, formatStatus } from '../../utils';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { Progress } from '@backstage/core-components';\n\ninterface TooltipContentProps {\n  buildId: string;\n}\n\nconst TooltipContent = ({ buildId }: TooltipContentProps) => {\n  const client = useApi(xcmetricsApiRef);\n  const { value, loading, error } = useAsync(\n    async () => client.getBuild(buildId),\n    [],\n  );\n\n  if (error) {\n    return <div>{error.message}</div>;\n  }\n\n  if (loading || !value?.build) {\n    return <Progress style={{ width: 100 }} />;\n  }\n\n  return (\n    <table>\n      <tbody>\n        <tr>\n          <td>Started</td>\n          <td>{new Date(value.build.startTimestamp).toLocaleString()}</td>\n        </tr>\n        <tr>\n          <td>Duration</td>\n          <td>{formatDuration(value.build.duration)}</td>\n        </tr>\n        <tr>\n          <td>Status</td>\n          <td>{formatStatus(value.build.buildStatus)}</td>\n        </tr>\n      </tbody>\n    </table>\n  );\n};\n\ninterface StatusCellProps {\n  buildStatus?: BuildStatusResult;\n  size: number;\n  spacing: number;\n}\n\ntype StatusStyle = {\n  [key in BuildStatus]: any;\n};\n\nconst useStyles = makeStyles<BackstageTheme, StatusCellProps>(theme => ({\n  root: {\n    width: ({ size }) => size,\n    height: ({ size }) => size,\n    marginRight: ({ spacing }) => spacing,\n    marginBottom: ({ spacing }) => spacing,\n    backgroundColor: theme.palette.grey[600],\n    '&:hover': {\n      transform: 'scale(1.2)',\n    },\n  },\n  ...({\n    succeeded: {\n      backgroundColor:\n        theme.palette.type === 'light'\n          ? theme.palette.success.light\n          : theme.palette.success.main,\n    },\n  } as StatusStyle), // Make sure that key matches a status\n  ...({\n    failed: {\n      backgroundColor: theme.palette.error[theme.palette.type],\n    },\n  } as StatusStyle),\n  ...({\n    stopped: {\n      backgroundColor: theme.palette.warning[theme.palette.type],\n    },\n  } as StatusStyle),\n}));\n\nexport const StatusCell = (props: StatusCellProps) => {\n  const classes = useStyles(props);\n  const { buildStatus } = props;\n\n  if (!buildStatus) {\n    return <div className={classes.root} />;\n  }\n\n  return (\n    <Tooltip\n      title={<TooltipContent buildId={buildStatus.id} />}\n      enterNextDelay={500}\n      arrow\n    >\n      <div\n        data-testid={buildStatus.id}\n        className={cn(classes.root, classes[buildStatus.buildStatus])}\n      />\n    </Tooltip>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { BackstageTheme } from '@backstage/theme';\nimport { xcmetricsApiRef } from '../../api';\nimport useAsync from 'react-use/lib/useAsync';\nimport useMeasure from 'react-use/lib/useMeasure';\nimport { cn } from '../../utils';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { Alert } from '@material-ui/lab';\nimport { StatusCell } from '../StatusCell';\n\nconst CELL_SIZE = 12;\nconst CELL_MARGIN = 4;\nconst MAX_ROWS = 4;\n\nconst useStyles = makeStyles<BackstageTheme>(theme => ({\n  root: {\n    marginTop: 8,\n    display: 'flex',\n    flexWrap: 'wrap',\n    width: '100%',\n  },\n  loading: {\n    animation: `$loadingOpacity 900ms ${theme.transitions.easing.easeInOut}`,\n    animationIterationCount: 'infinite',\n  },\n  '@keyframes loadingOpacity': {\n    '0%': { opacity: 0.3 },\n    '100%': { opacity: 0.8 },\n  },\n}));\n\nexport const StatusMatrix = () => {\n  const classes = useStyles();\n  const [measureRef, { width: rootWidth }] = useMeasure<HTMLDivElement>();\n  const client = useApi(xcmetricsApiRef);\n  const {\n    value: builds,\n    loading,\n    error,\n  } = useAsync(async () => client.getBuildStatuses(300), []);\n\n  if (error) {\n    return <Alert severity=\"error\">{error.message}</Alert>;\n  }\n\n  const cols = Math.trunc(rootWidth / (CELL_SIZE + CELL_MARGIN)) || 1;\n\n  return (\n    <div\n      className={cn(classes.root, loading && classes.loading)}\n      ref={measureRef}\n    >\n      {loading &&\n        [...new Array(cols * MAX_ROWS)].map((_, index) => {\n          return (\n            <StatusCell key={index} size={CELL_SIZE} spacing={CELL_MARGIN} />\n          );\n        })}\n\n      {builds &&\n        builds\n          .slice(0, cols * MAX_ROWS)\n          .map((buildStatus, index) => (\n            <StatusCell\n              key={index}\n              buildStatus={buildStatus}\n              size={CELL_SIZE}\n              spacing={CELL_MARGIN}\n            />\n          ))}\n    </div>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { TrendLine } from '@backstage/core-components';\nimport { Typography } from '@material-ui/core';\n\ninterface TrendProps {\n  data?: number[];\n  title: string;\n  color: string;\n}\n\nexport const Trend = ({ data, title, color }: TrendProps) => {\n  const emptyData = [0, 0];\n  const max = Math.max(...(data ?? emptyData));\n\n  return (\n    <>\n      <Typography variant=\"overline\">{title}</Typography>\n      <TrendLine\n        data={data ?? emptyData}\n        title={title}\n        max={max}\n        color={data && color}\n      />\n    </>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Grid, GridSize, Typography } from '@material-ui/core';\nimport React from 'react';\n\ninterface DataValueProps {\n  field: string;\n  value?: string | number | null | undefined;\n}\n\nexport const DataValue = ({ field, value }: DataValueProps) => {\n  return (\n    <div>\n      <Typography variant=\"caption\">{field}</Typography>\n      <Typography variant=\"subtitle1\">{value ?? '--'}</Typography>\n    </div>\n  );\n};\n\ninterface GridProps {\n  xs?: GridSize;\n  md?: GridSize;\n  lg?: GridSize;\n}\n\nexport const DataValueGridItem = (props: DataValueProps & GridProps) => (\n  <Grid item xs={props.xs ?? 6} md={props.md ?? 6} lg={props.lg ?? 4}>\n    <DataValue {...props} />\n  </Grid>\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Grid, makeStyles, useTheme } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { Progress, Select } from '@backstage/core-components';\nimport { Trend } from '../Trend';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { xcmetricsApiRef } from '../../api';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { DataValueGridItem } from '../DataValue';\nimport {\n  formatDuration,\n  formatPercentage,\n  getAverageDuration,\n  getErrorRatios,\n  getValues,\n  sumField,\n} from '../../utils';\nimport { BackstageTheme } from '@backstage/theme';\n\nconst useStyles = makeStyles({\n  spacingTop: {\n    marginTop: 8,\n  },\n  spacingVertical: {\n    marginTop: 8,\n    marginBottom: 8,\n  },\n});\n\nconst DAYS_SELECT_ITEMS = [\n  { label: '7 days', value: 7 },\n  { label: '14 days', value: 14 },\n  { label: '30 days', value: 30 },\n  { label: '60 days', value: 60 },\n];\n\nexport const OverviewTrends = () => {\n  const [days, setDays] = useState(14);\n  const theme = useTheme<BackstageTheme>();\n  const classes = useStyles();\n  const client = useApi(xcmetricsApiRef);\n  const buildCountsResult = useAsync(\n    async () => client.getBuildCounts(days),\n    [days],\n  );\n  const buildTimesResult = useAsync(\n    async () => client.getBuildTimes(days),\n    [days],\n  );\n\n  if (buildCountsResult.loading && buildTimesResult.loading) {\n    return <Progress />;\n  }\n\n  const sumBuilds = sumField(b => b.builds, buildCountsResult.value);\n  const sumErrors = sumField(b => b.errors, buildCountsResult.value);\n  const errorRate = sumBuilds && sumErrors ? sumErrors / sumBuilds : undefined;\n\n  const averageBuildDurationP50 = getAverageDuration(\n    buildTimesResult.value,\n    b => b.durationP50,\n  );\n  const averageBuildDurationP95 = getAverageDuration(\n    buildTimesResult.value,\n    b => b.durationP95,\n  );\n  const totalBuildTime = sumField(t => t.totalDuration, buildTimesResult.value);\n\n  return (\n    <>\n      <Select\n        selected={days}\n        items={DAYS_SELECT_ITEMS}\n        label=\"Trends for\"\n        onChange={selection => setDays(selection as number)}\n      />\n      {buildCountsResult.error && (\n        <Alert severity=\"error\" className={classes.spacingVertical}>\n          <AlertTitle>Failed to fetch build counts</AlertTitle>\n          {buildCountsResult?.error?.message}\n        </Alert>\n      )}\n      {buildTimesResult.error && (\n        <Alert severity=\"error\" className={classes.spacingVertical}>\n          <AlertTitle>Failed to fetch build times</AlertTitle>\n          {buildTimesResult?.error?.message}\n        </Alert>\n      )}\n      {(!buildCountsResult.error || !buildTimesResult.error) && (\n        <div className={classes.spacingVertical}>\n          <Trend\n            title=\"Build Time\"\n            color={theme.palette.secondary.main}\n            data={getValues(e => e.durationP50, buildTimesResult.value)}\n          />\n          <Trend\n            title=\"Error Rate\"\n            color={theme.palette.status.warning}\n            data={getErrorRatios(buildCountsResult.value)}\n          />\n          <Trend\n            title=\"Build Count\"\n            color={theme.palette.primary.main}\n            data={getValues(e => e.builds, buildCountsResult.value)}\n          />\n          <Grid\n            container\n            spacing={3}\n            direction=\"row\"\n            className={classes.spacingTop}\n          >\n            <DataValueGridItem field=\"Build Count\" value={sumBuilds} />\n            <DataValueGridItem field=\"Error Count\" value={sumErrors} />\n            <DataValueGridItem\n              field=\"Error Rate\"\n              value={errorRate && formatPercentage(errorRate)}\n            />\n            <DataValueGridItem\n              field=\"Avg. Build Time (P50)\"\n              value={averageBuildDurationP50}\n            />\n            <DataValueGridItem\n              field=\"Avg. Build Time (P95)\"\n              value={averageBuildDurationP95}\n            />\n            <DataValueGridItem\n              field=\"Total Build Time\"\n              value={totalBuildTime && formatDuration(totalBuildTime)}\n            />\n          </Grid>\n        </div>\n      )}\n    </>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport {\n  StatusAborted,\n  StatusError,\n  StatusOK,\n  StatusWarning,\n} from '@backstage/core-components';\nimport { BuildStatus } from '../../api';\n\nconst STATUS_ICONS: { [key in BuildStatus]: JSX.Element } = {\n  succeeded: <StatusOK />,\n  failed: <StatusError />,\n  stopped: <StatusWarning />,\n};\n\ninterface StatusIconProps {\n  buildStatus: BuildStatus;\n}\n\nexport const StatusIcon = ({ buildStatus }: StatusIconProps) =>\n  STATUS_ICONS[buildStatus] ?? <StatusAborted />;\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Chip } from '@material-ui/core';\nimport React from 'react';\nimport { TableColumn } from '@backstage/core-components';\nimport { Build } from '../api';\nimport { formatTime, formatDuration } from '../utils';\nimport { StatusIcon } from './StatusIcon';\n\nconst baseColumns: TableColumn<Build>[] = [\n  {\n    field: 'buildStatus',\n    render: data => <StatusIcon buildStatus={data.buildStatus} />,\n  },\n  {\n    title: 'Project',\n    field: 'projectName',\n  },\n  {\n    title: 'Schema',\n    field: 'schema',\n  },\n  {\n    title: 'Started',\n    field: 'startedAt',\n    render: data => formatTime(data.startTimestamp),\n    cellStyle: { whiteSpace: 'nowrap' },\n  },\n  {\n    title: 'Duration',\n    field: 'duration',\n    render: data => formatDuration(data.duration),\n  },\n  {\n    title: 'User',\n    field: 'userid',\n  },\n];\n\nconst isCi: TableColumn<Build> = {\n  field: 'isCI',\n  render: data => data.isCi && <Chip label=\"CI\" size=\"small\" />,\n  width: '10',\n  sorting: false,\n};\n\nexport const overviewColumns: TableColumn<Build>[] = [...baseColumns, isCi];\n\nexport const buildPageColumns: TableColumn<Build>[] = [\n  ...baseColumns,\n  {\n    title: 'Host',\n    field: 'machineName',\n  },\n  {\n    title: 'Warnings',\n    field: 'warningCount',\n  },\n  {\n    title: 'Category',\n    field: 'category',\n    render: data => <Chip label={data.category} size=\"small\" />,\n  },\n  isCi,\n];\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport {\n  ContentHeader,\n  SupportButton,\n  Progress,\n  Table,\n  EmptyState,\n  InfoCard,\n} from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { xcmetricsApiRef } from '../../api';\nimport useAsync from 'react-use/lib/useAsync';\nimport { Alert } from '@material-ui/lab';\nimport { StatusMatrix } from '../StatusMatrix';\nimport { Grid } from '@material-ui/core';\nimport { OverviewTrends } from '../OverviewTrends';\nimport { overviewColumns } from '../BuildTableColumns';\n\nexport const Overview = () => {\n  const client = useApi(xcmetricsApiRef);\n  const {\n    value: builds,\n    loading,\n    error,\n  } = useAsync(async () => client.getBuilds(), []);\n\n  if (loading) {\n    return <Progress />;\n  } else if (error) {\n    return <Alert severity=\"error\">{error.message}</Alert>;\n  }\n\n  if (!builds || !builds.length) {\n    return (\n      <EmptyState\n        missing=\"data\"\n        title=\"No builds to show\"\n        description=\"There are no builds in XCMetrics yet\"\n      />\n    );\n  }\n\n  return (\n    <>\n      <ContentHeader title=\"XCMetrics Dashboard\">\n        <SupportButton>Dashboard for XCMetrics</SupportButton>\n      </ContentHeader>\n      <Grid container spacing={3} direction=\"row\">\n        <Grid item xs={12} md={8} lg={8} xl={9}>\n          <Table\n            options={{\n              paging: false,\n              search: false,\n              sorting: false,\n              draggable: false,\n            }}\n            data={builds}\n            columns={overviewColumns}\n            title={\n              <>\n                Latest Builds\n                <StatusMatrix />\n              </>\n            }\n          />\n        </Grid>\n        <Grid item xs={12} md={4} lg={4} xl={3}>\n          <InfoCard>\n            <OverviewTrends />\n          </InfoCard>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport {\n  createStyles,\n  InputBase,\n  InputProps,\n  makeStyles,\n  Theme,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\n\nconst BootstrapInput = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      margin: `${theme.spacing(1)} 0px`,\n      maxWidth: 300,\n      'label + &': {\n        marginTop: theme.spacing(3),\n      },\n    },\n    input: {\n      borderRadius: 4,\n      position: 'relative',\n      backgroundColor: theme.palette.background.paper,\n      border: '1px solid #ced4da',\n      fontSize: 16,\n      padding: '10px 26px 10px 12px',\n      transition: theme.transitions.create(['border-color', 'box-shadow']),\n      fontFamily: 'Helvetica Neue',\n      height: 25,\n      '&:focus': {\n        background: theme.palette.background.paper,\n        borderRadius: 4,\n      },\n    },\n  }),\n)(InputBase);\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n});\n\ninterface DatePickerProps {\n  label: string;\n  onDateChange?: (date: string) => void;\n}\n\nexport const DatePicker = ({\n  label,\n  onDateChange,\n  ...inputProps\n}: InputProps & DatePickerProps) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"button\">{label}</Typography>\n      <BootstrapInput\n        inputProps={{ 'aria-label': label }}\n        type=\"date\"\n        fullWidth\n        onChange={event => onDateChange?.(event.target.value)}\n        {...inputProps}\n      />\n    </div>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles, IconButton, Grid, Button } from '@material-ui/core';\nimport FilterList from '@material-ui/icons/FilterList';\nimport { InfoCard, Select } from '@backstage/core-components';\nimport { BackstageTheme } from '@backstage/theme';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\nimport { BuildFilters, BuildStatus, xcmetricsApiRef } from '../../api';\nimport { DatePicker } from '../DatePicker';\n\nconst toSelectItems = (strings: string[]) => {\n  return strings.map(str => ({ label: str, value: str }));\n};\n\nconst useStyles = makeStyles<BackstageTheme>(theme => ({\n  filtersContent: {\n    padding: theme.spacing(2, 2, 2, 2.5),\n  },\n}));\n\ntype FilterOption<T> = T | 'all';\n\ninterface FiltersProps {\n  initialValues: BuildFilters;\n  onFilterChange: (filters: BuildFilters) => void;\n}\n\nexport const BuildListFilter = ({\n  onFilterChange,\n  initialValues,\n}: FiltersProps) => {\n  const client = useApi(xcmetricsApiRef);\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [values, setValues] = useState(initialValues);\n\n  useEffect(() => onFilterChange(values), [onFilterChange, values]);\n\n  const numFilters = Object.keys(values).reduce((sum, key) => {\n    const filtersKey = key as keyof BuildFilters;\n    return sum + Number(values[filtersKey] !== initialValues[filtersKey]);\n  }, 0);\n\n  const title = (\n    <>\n      <IconButton\n        onClick={() => setOpen(!open)}\n        aria-label={`${open ? 'hide' : 'show'} filters`}\n      >\n        <FilterList />\n      </IconButton>\n      Filters ({numFilters})\n      {!!numFilters && (\n        <Button color=\"primary\" onClick={() => setValues(initialValues)}>\n          Clear all\n        </Button>\n      )}\n    </>\n  );\n\n  const statusItems: { label: string; value: FilterOption<BuildStatus> }[] = [\n    { label: 'All', value: 'all' },\n    { label: 'Succeeded', value: 'succeeded' },\n    { label: 'Failed', value: 'failed' },\n    { label: 'Stopped', value: 'stopped' },\n  ];\n\n  const { value: projects, loading } = useAsync(async () => {\n    return client.getProjects();\n  }, []);\n\n  const content = (\n    <Grid\n      container\n      spacing={3}\n      direction=\"row\"\n      className={classes.filtersContent}\n    >\n      <Grid item sm={6} md={4} lg={2}>\n        <DatePicker\n          label=\"From\"\n          value={values.from}\n          onDateChange={date => setValues({ ...values, from: date })}\n        />\n      </Grid>\n      <Grid item sm={6} md={4} lg={2}>\n        <DatePicker\n          label=\"To\"\n          value={values.to}\n          onDateChange={date => setValues({ ...values, to: date })}\n        />\n      </Grid>\n      <Grid item sm={6} md={4} lg={2}>\n        <Select\n          label=\"Status\"\n          items={statusItems}\n          selected={!values.buildStatus ? 'all' : values.buildStatus}\n          onChange={selection => {\n            const buildStatus =\n              selection === 'all' ? undefined : (selection as BuildStatus);\n            setValues({ ...values, buildStatus });\n          }}\n        />\n      </Grid>\n      <Grid item sm={6} md={4} lg={2}>\n        {loading ? (\n          <Select\n            label=\"Project\"\n            placeholder=\"Loading..\"\n            items={[]}\n            onChange={() => undefined}\n          />\n        ) : (\n          <Select\n            label=\"Project\"\n            items={toSelectItems(['All'].concat(projects ?? []))}\n            selected={values.project ? values.project : 'All'}\n            onChange={selection =>\n              setValues({\n                ...values,\n                project:\n                  selection === 'All' ? undefined : (selection as string),\n              })\n            }\n          />\n        )}\n      </Grid>\n    </Grid>\n  );\n\n  return (\n    <InfoCard\n      title={title}\n      titleTypographyProps={{ variant: 'h6' }}\n      divider={open}\n      noPadding\n      variant=\"gridItem\"\n    >\n      {open && content}\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  Accordion as MuiAccordion,\n  AccordionSummary as MuiAccordionSummary,\n  Typography,\n  AccordionDetails,\n  makeStyles,\n  createStyles,\n} from '@material-ui/core';\nimport React, { PropsWithChildren } from 'react';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { BackstageTheme } from '@backstage/theme';\n\nconst useStyles = makeStyles((theme: BackstageTheme) =>\n  createStyles({\n    heading: {\n      flexBasis: '33.33%',\n      flexShrink: 0,\n    },\n    secondaryHeading: {\n      color: theme.palette.text.secondary,\n    },\n  }),\n);\n\ninterface AccordionProps {\n  id: string;\n  heading: string;\n  secondaryHeading?: string | number;\n  disabled?: boolean;\n  unmountOnExit?: boolean;\n}\n\nexport const Accordion = (props: PropsWithChildren<AccordionProps>) => {\n  const classes = useStyles();\n\n  return (\n    <MuiAccordion\n      disabled={props.disabled}\n      TransitionProps={{ unmountOnExit: props.unmountOnExit ?? false }}\n    >\n      <MuiAccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls={`${props.id}-content`}\n        id={`${props.id}-header`}\n      >\n        <Typography className={classes.heading}>{props.heading}</Typography>\n        <Typography className={classes.secondaryHeading}>\n          {props.secondaryHeading}\n        </Typography>\n      </MuiAccordionSummary>\n      <AccordionDetails>{props.children}</AccordionDetails>\n    </MuiAccordion>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createStyles, makeStyles, useTheme } from '@material-ui/core';\nimport React from 'react';\nimport {\n  Bar,\n  BarChart,\n  CartesianGrid,\n  Legend,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from 'recharts';\nimport { BackstageTheme } from '@backstage/theme';\nimport { Target } from '../../api';\nimport { formatSecondsInterval, formatPercentage } from '../../utils';\n\nconst EMPTY_HEIGHT = 100;\n\nconst useStyles = makeStyles((theme: BackstageTheme) =>\n  createStyles({\n    toolTip: {\n      backgroundColor: theme.palette.background.paper,\n      opacity: 0.8,\n      padding: 8,\n    },\n  }),\n);\n\nconst TargetToolTip = ({ active, payload, label }: any) => {\n  const classes = useStyles();\n\n  if (active && payload && payload.length === 2) {\n    const buildTime = payload[0].value[1] - payload[0].value[0];\n    const compileTime = payload[1].value[1] - payload[1].value[0];\n    return (\n      <div className={classes.toolTip}>\n        {`${label}: ${formatSecondsInterval(payload[0].value)}`}\n        <br />\n        {buildTime > 0 &&\n          `Compile time: ${formatPercentage(compileTime / buildTime)}`}\n      </div>\n    );\n  }\n\n  return null;\n};\n\nconst getTimelineData = (targets: Target[]) => {\n  const min = targets[0].startTimestampMicroseconds;\n\n  return targets\n    .filter(target => target.fetchedFromCache === false)\n    .map(target => ({\n      name: target.name,\n      buildTime: [\n        target.startTimestampMicroseconds - min,\n        target.endTimestampMicroseconds - min,\n      ],\n      compileTime: [\n        target.startTimestampMicroseconds - min,\n        target.compilationEndTimestampMicroseconds - min,\n      ],\n    }));\n};\n\nexport interface BuildTimelineProps {\n  targets: Target[];\n  height?: number;\n  width?: number;\n}\n\nexport const BuildTimeline = ({\n  targets,\n  height,\n  width,\n}: BuildTimelineProps) => {\n  const theme = useTheme();\n  if (!targets.length) return <p>No Targets</p>;\n\n  const data = getTimelineData(targets);\n\n  return (\n    <ResponsiveContainer\n      height={height}\n      width={width}\n      minHeight={EMPTY_HEIGHT + targets.length * 5}\n    >\n      <BarChart layout=\"vertical\" data={data} maxBarSize={10} barGap={0}>\n        <CartesianGrid strokeDasharray=\"2 2\" />\n        <XAxis type=\"number\" domain={[0, 'dataMax']} />\n        <YAxis type=\"category\" dataKey=\"name\" padding={{ top: 0, bottom: 0 }} />\n        <Tooltip content={<TargetToolTip />} />\n        <Legend />\n        <Bar\n          dataKey=\"buildTime\"\n          fill={theme.palette.grey[400]}\n          minPointSize={1}\n        />\n        <Bar dataKey=\"compileTime\" fill={theme.palette.primary.main} />\n      </BarChart>\n    </ResponsiveContainer>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Button,\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  makeStyles,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React, { useState } from 'react';\nimport { BackstageTheme } from '@backstage/theme';\nimport { cn } from '../../utils';\n\nconst useStyles = makeStyles((theme: BackstageTheme) =>\n  createStyles({\n    pre: {\n      whiteSpace: 'pre-line',\n      wordBreak: 'break-all',\n    },\n    expandable: {\n      cursor: 'pointer',\n    },\n    fullPre: {\n      whiteSpace: 'pre-wrap',\n    },\n    closeButton: {\n      position: 'absolute',\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n  }),\n);\n\ninterface PreformattedTextProps {\n  text: string;\n  maxChars: number;\n}\n\ninterface ExpandableProps extends PreformattedTextProps {\n  expandable: boolean;\n  title: string;\n}\n\ninterface NonExpandableProps extends PreformattedTextProps {\n  expandable?: never;\n  title?: string;\n}\n\nexport const PreformattedText = ({\n  text,\n  maxChars,\n  expandable,\n  title,\n}: NonExpandableProps | ExpandableProps) => {\n  const [open, setOpen] = useState(false);\n  const classes = useStyles();\n\n  const handleKeyUp = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (expandable && event.key === 'Enter') {\n      setOpen(true);\n    }\n  };\n\n  return (\n    <>\n      <div\n        role={expandable ? 'button' : undefined}\n        onClick={() => expandable && setOpen(true)}\n        onKeyUp={handleKeyUp}\n        tabIndex={expandable ? 0 : undefined}\n      >\n        <pre className={cn(classes.pre, expandable && classes.expandable)}>\n          {text.slice(0, maxChars - 1).trim()}\n          {text.length > maxChars - 1 && 'â€¦'}\n        </pre>\n      </div>\n\n      {expandable && (\n        <Dialog\n          open={open}\n          onClose={() => setOpen(false)}\n          aria-labelledby=\"dialog-title\"\n          aria-describedby=\"dialog-description\"\n          maxWidth=\"xl\"\n          fullWidth\n        >\n          <DialogTitle id=\"dialog-title\">\n            {title}\n            <IconButton\n              aria-label=\"close\"\n              className={classes.closeButton}\n              onClick={() => setOpen(false)}\n            >\n              <CloseIcon />\n            </IconButton>\n          </DialogTitle>\n          <DialogContent>\n            <pre className={classes.fullPre}>{text}</pre>\n          </DialogContent>\n          <DialogActions>\n            <Button color=\"primary\" onClick={() => setOpen(false)}>\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createStyles, Divider, Grid, makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { BuildResponse, xcmetricsApiRef } from '../../api';\nimport { Progress, StructuredMetadataTable } from '@backstage/core-components';\nimport { Alert } from '@material-ui/lab';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { formatDuration, formatStatus, formatTime } from '../../utils';\nimport { StatusIcon } from '../StatusIcon';\nimport { BackstageTheme } from '@backstage/theme';\nimport { Accordion } from '../Accordion';\nimport { BuildTimeline } from '../BuildTimeline';\nimport { PreformattedText } from '../PreformattedText';\n\nconst useStyles = makeStyles((theme: BackstageTheme) =>\n  createStyles({\n    divider: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n  }),\n);\n\ninterface BuildDetailsProps {\n  buildData: BuildResponse;\n  showId?: boolean;\n}\n\nexport const BuildDetails = ({\n  buildData: { build, targets, xcode },\n  showId,\n}: BuildDetailsProps) => {\n  const classes = useStyles();\n  const client = useApi(xcmetricsApiRef);\n  const hostResult = useAsync(\n    async () => client.getBuildHost(build.id),\n    [build.id],\n  );\n  const errorsResult = useAsync(\n    async () => client.getBuildErrors(build.id),\n    [build.id],\n  );\n  const warningsResult = useAsync(\n    async () => client.getBuildWarnings(build.id),\n    [build.id],\n  );\n  const metadataResult = useAsync(\n    async () => client.getBuildMetadata(build.id),\n    [build.id],\n  );\n\n  const buildDetails = {\n    project: build.projectName,\n    schema: build.schema,\n    category: build.category,\n    userId: build.userid,\n    'started at': formatTime(build.startTimestamp),\n    'ended at': formatTime(build.endTimestamp),\n    duration: formatDuration(build.duration),\n    status: (\n      <>\n        <StatusIcon buildStatus={build.buildStatus} />\n        {formatStatus(build.buildStatus)}\n      </>\n    ),\n    xcode: xcode ? `${xcode.version} (${xcode.buildNumber})` : 'Unknown',\n    CI: build.isCi,\n  };\n\n  return (\n    <Grid container item direction=\"row\">\n      <Grid item xs={4}>\n        <StructuredMetadataTable\n          metadata={\n            showId === false ? buildDetails : { id: build.id, ...buildDetails }\n          }\n        />\n      </Grid>\n      <Grid item xs={8}>\n        <Accordion\n          id=\"buildHost\"\n          heading=\"Host\"\n          secondaryHeading={build.machineName}\n        >\n          {hostResult.loading && <Progress />}\n          {!hostResult.loading && hostResult.value && (\n            <StructuredMetadataTable metadata={hostResult.value} />\n          )}\n        </Accordion>\n\n        <Accordion\n          id=\"buildErrors\"\n          heading=\"Errors\"\n          secondaryHeading={build.errorCount}\n          disabled={build.errorCount === 0}\n        >\n          <div>\n            {errorsResult.loading && <Progress />}\n            {!errorsResult.loading &&\n              errorsResult.value?.map((error, idx) => (\n                <div key={error.id}>\n                  <PreformattedText\n                    title=\"Error Details\"\n                    text={error.detail}\n                    maxChars={190}\n                    expandable\n                  />\n                  {idx !== errorsResult.value.length - 1 && (\n                    <Divider className={classes.divider} />\n                  )}\n                </div>\n              ))}\n          </div>\n        </Accordion>\n\n        <Accordion\n          id=\"buildWarnings\"\n          heading=\"Warnings\"\n          secondaryHeading={build.warningCount}\n          disabled={build.warningCount === 0}\n        >\n          <div>\n            {warningsResult.loading && <Progress />}\n            {!warningsResult.loading &&\n              warningsResult.value?.map((warning, idx) => (\n                <div key={warning.id}>\n                  <PreformattedText\n                    title=\"Warning Details\"\n                    text={warning.detail ?? warning.title}\n                    maxChars={190}\n                    expandable\n                  />\n                  {idx !== warningsResult.value.length - 1 && (\n                    <Divider className={classes.divider} />\n                  )}\n                </div>\n              ))}\n          </div>\n        </Accordion>\n\n        <Accordion\n          id=\"buildMetadata\"\n          heading=\"Metadata\"\n          disabled={!metadataResult.loading && !metadataResult.value}\n        >\n          {metadataResult.loading && <Progress />}\n          {!metadataResult.loading && metadataResult.value && (\n            <StructuredMetadataTable metadata={metadataResult.value} />\n          )}\n        </Accordion>\n\n        <Accordion id=\"buildTimeline\" heading=\"Timeline\" unmountOnExit>\n          <BuildTimeline targets={targets} />\n        </Accordion>\n      </Grid>\n    </Grid>\n  );\n};\n\ntype WithRequestProps = Omit<BuildDetailsProps, 'buildData'> & {\n  buildId: string;\n};\n\nexport const withRequest =\n  (Component: typeof BuildDetails) =>\n  ({ buildId, ...props }: WithRequestProps) => {\n    const client = useApi(xcmetricsApiRef);\n    const {\n      value: buildResponse,\n      loading,\n      error,\n    } = useAsync(async () => client.getBuild(buildId), []);\n\n    if (loading) {\n      return <Progress />;\n    }\n\n    if (error) {\n      return <Alert severity=\"error\">{error.message}</Alert>;\n    }\n\n    if (!buildResponse) {\n      return <Alert severity=\"error\">Could not load build {buildId}</Alert>;\n    }\n\n    return <Component {...props} buildData={buildResponse} />;\n  };\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { useRef, useState } from 'react';\nimport { Table } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { BuildFilters, xcmetricsApiRef } from '../../api';\nimport { createStyles, Grid, makeStyles } from '@material-ui/core';\nimport { BuildListFilter as Filters } from '../BuildListFilter';\nimport { DateTime } from 'luxon';\nimport { buildPageColumns } from '../BuildTableColumns';\nimport { BuildDetails, withRequest } from '../BuildDetails';\nimport { BackstageTheme } from '@backstage/theme';\n\nconst useStyles = makeStyles((theme: BackstageTheme) =>\n  createStyles({\n    detailPanel: {\n      padding: theme.spacing(2),\n      backgroundColor: theme.palette.background.paper,\n    },\n  }),\n);\n\nexport const BuildList = () => {\n  const classes = useStyles();\n  const client = useApi(xcmetricsApiRef);\n  const tableRef = useRef<any>();\n\n  const initialFilters = {\n    from: DateTime.now().minus({ years: 1 }).toISODate(),\n    to: DateTime.now().toISODate(),\n  };\n\n  const [filters, setFilters] = useState<BuildFilters>(initialFilters);\n\n  const handleFilterChange = (values: BuildFilters) => {\n    setFilters(values);\n    tableRef.current?.onQueryChange();\n  };\n\n  return (\n    <Grid container spacing={3} direction=\"column\">\n      <Filters\n        onFilterChange={handleFilterChange}\n        initialValues={initialFilters}\n      />\n      <Table\n        title=\"Builds\"\n        columns={buildPageColumns}\n        options={{ paging: true, sorting: false, search: false, pageSize: 10 }}\n        tableRef={tableRef}\n        data={query => {\n          return new Promise((resolve, reject) => {\n            if (!query) return;\n            client\n              .getFilteredBuilds(\n                filters,\n                query.page + 1, // Page is 0-indexed in Table\n                query.pageSize,\n              )\n              .then(result => {\n                resolve({\n                  data: result.items,\n                  page: result.metadata.page - 1,\n                  totalCount: result.metadata.total,\n                });\n              })\n              .catch(reason => reject(reason));\n          });\n        }}\n        detailPanel={rowData => {\n          const BuildDetailsWithRequest = withRequest(BuildDetails);\n          return (\n            <div className={classes.detailPanel}>\n              <BuildDetailsWithRequest buildId={(rowData as any).rowData.id} />\n            </div>\n          );\n        }}\n      />\n    </Grid>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { useRouteRefParams } from '@backstage/core-plugin-api';\nimport { buildsRouteRef } from '../../routes';\nimport { BuildList } from '../BuildList';\nimport { BuildDetails, withRequest } from '../BuildDetails';\nimport { InfoCard } from '@backstage/core-components';\n\nexport const BuildsPage = () => {\n  const { '*': buildId } = useRouteRefParams(buildsRouteRef) ?? { '*': '' };\n\n  if (buildId) {\n    const BuildDetailsWithRequest = withRequest(BuildDetails);\n\n    return (\n      <InfoCard title=\"Build Details\" subheader={buildId}>\n        <BuildDetailsWithRequest buildId={buildId} showId={false} />\n      </InfoCard>\n    );\n  }\n\n  return <BuildList />;\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { ReactChild } from 'react';\nimport {\n  Content,\n  Header,\n  HeaderLabel,\n  Page,\n  TabbedLayout,\n} from '@backstage/core-components';\nimport { Overview } from '../Overview';\nimport { buildsRouteRef } from '../../routes';\nimport { BuildsPage } from '../BuildsPage';\n\nexport interface TabConfig {\n  path: string;\n  title: string;\n  component: ReactChild;\n}\n\nconst TABS: TabConfig[] = [\n  {\n    path: '/',\n    title: 'Overview',\n    component: <Overview />,\n  },\n  {\n    path: buildsRouteRef.path,\n    title: 'Builds',\n    component: <BuildsPage />,\n  },\n];\n\nexport const XcmetricsLayout = () => (\n  <Page themeId=\"tool\">\n    <Header title=\"XCMetrics\" subtitle=\"Dashboard\">\n      <HeaderLabel label=\"Owner\" value=\"Spotify\" />\n      <HeaderLabel label=\"Lifecycle\" value=\"Alpha\" />\n    </Header>\n    <TabbedLayout>\n      {TABS.map(tab => (\n        <TabbedLayout.Route key={tab.path} path={tab.path} title={tab.title}>\n          <Content>{tab.component}</Content>\n        </TabbedLayout.Route>\n      ))}\n    </TabbedLayout>\n  </Page>\n);\n"],"names":["useStyles","MuiAccordion","MuiAccordionSummary","Tooltip","Filters"],"mappings":"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"}