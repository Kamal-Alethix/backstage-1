{"version":3,"file":"entity-page-7847c329.esm.js","sources":["../../src/hooks/use-cicd-statistics-api.ts","../../src/hooks/use-cicd-statistics.ts","../../src/utils/stage-names.ts","../../src/hooks/use-cicd-configuration.ts","../../src/charts/logic/utils.ts","../../src/charts/logic/count-builds-per-day.ts","../../src/charts/logic/analysis.ts","../../src/charts/logic/finalize-stage.ts","../../src/charts/logic/daily-summary.ts","../../src/charts/logic/conversions.ts","../../src/charts/zoom.tsx","../../src/components/utils.tsx","../../src/charts/colors.ts","../../src/charts/stage-chart.tsx","../../src/charts/status-chart.tsx","../../src/components/button-switch.tsx","../../src/components/toggle.tsx","../../src/components/label.tsx","../../src/components/duration-slider.tsx","../../src/components/chart-filters.tsx","../../src/components/progress.tsx","../../src/utils/api.ts","../../src/entity-page.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useApi } from '@backstage/core-plugin-api';\n\nimport { cicdStatisticsApiRef } from '../apis';\n\nexport function useCicdStatisticsApi() {\n  try {\n    return useApi(cicdStatisticsApiRef);\n  } catch (err) {\n    return undefined;\n  }\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState, useEffect } from 'react';\nimport { throttle } from 'lodash';\nimport { Entity } from '@backstage/catalog-model';\n\nimport {\n  CicdState,\n  FetchBuildsOptions,\n  AbortError,\n  FilterStatusType,\n  FilterBranchType,\n  UpdateProgress,\n} from '../apis';\nimport { ProgressType } from '../components/progress';\nimport { useCicdStatisticsApi } from './use-cicd-statistics-api';\n\nexport interface UseCicdStatisticsOptions {\n  entity: Entity;\n  abortController: AbortController;\n  timeFrom: Date;\n  timeTo: Date;\n  filterStatus: Array<FilterStatusType | 'all'>;\n  filterType: FilterBranchType | 'all';\n}\n\nexport function useCicdStatistics(\n  options: UseCicdStatisticsOptions,\n): ProgressType<CicdState> {\n  const {\n    entity,\n    abortController,\n    timeFrom,\n    timeTo,\n    filterStatus,\n    filterType,\n  } = options;\n\n  const [state, setState] = useState<ProgressType<CicdState>>({\n    loading: true,\n  });\n\n  const cicdStatisticsApi = useCicdStatisticsApi();\n\n  useEffect(() => {\n    if (!cicdStatisticsApi) {\n      setState({ error: new Error('No CI/CD Statistics API installed') });\n      return () => {};\n    }\n\n    let mounted = true;\n    let completed = false; // successfully or failed\n\n    const updateProgressImpl: UpdateProgress = (_count, _total?, _started?) => {\n      if (!mounted || completed) {\n        return;\n      }\n\n      if (Array.isArray(_count)) {\n        // Multi-progress\n        setState({\n          loading: true,\n          steps: _count.map(step => ({\n            title: step.title,\n            progress: !step.total ? 0 : step.completed / step.total,\n            progressBuffer: !step.total ? 0 : (step.started ?? 0) / step.total,\n          })),\n        });\n      } else {\n        // Single-progress\n        const count = _count;\n        const total = _total as number;\n        const started = (_started as number) ?? 0;\n        setState({\n          loading: true,\n          progress: !total ? 0 : count / total,\n          progressBuffer: !total ? 0 : started / total,\n        });\n      }\n    };\n\n    const updateProgress = throttle(\n      updateProgressImpl,\n      200,\n      // throttle doesn't handle types of multi-signature functions\n    ) as any as UpdateProgress;\n\n    const fetchOptions: FetchBuildsOptions = {\n      entity,\n      updateProgress,\n      abortSignal: abortController.signal,\n      timeFrom,\n      timeTo,\n      filterStatus,\n      filterType,\n    };\n\n    (async () => {\n      return cicdStatisticsApi.fetchBuilds(fetchOptions);\n    })()\n      .then(builds => {\n        completed = true;\n        if (mounted) {\n          setState({\n            value: builds,\n          });\n        }\n      })\n      .catch(err => {\n        completed = true;\n        if (mounted) {\n          setState({\n            error: abortController.signal.aborted ? new AbortError() : err,\n          });\n        }\n      });\n\n    return () => {\n      mounted = false;\n      abortController.abort();\n    };\n  }, [\n    abortController,\n    entity,\n    timeFrom,\n    timeTo,\n    filterStatus,\n    filterType,\n    cicdStatisticsApi,\n  ]);\n\n  return state;\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { map } from 'already';\n\nimport { Build, Stage } from '../apis/types';\n\nexport function defaultFormatStageName(\n  parentNames: Array<string>,\n  stageName: string,\n): string {\n  let name = stageName;\n\n  // Cut off parent names (if they are prefixed to the stage name)\n  parentNames.forEach(parentName => {\n    if (name.startsWith(parentName)) {\n      const newName = name\n        .slice(parentName.length)\n        // Remove things like ' - '\n        .replace(/^[^\\w\\d]+/g, '');\n      if (newName) {\n        name = newName;\n      }\n    }\n  });\n\n  // Cut off anything after colon in what looks like pulling docker images\n  return name.replace(/((pulling|(running)) [^:/]*\\/.*?):.*/g, '$1');\n}\n\nexport interface CleanupBuildTreeOptions {\n  formatStageName: typeof defaultFormatStageName;\n  lowerCase: boolean;\n}\n\nexport async function cleanupBuildTree(\n  builds: Build[],\n  opts: CleanupBuildTreeOptions,\n): Promise<Build[]> {\n  const { formatStageName, lowerCase } = opts;\n\n  const recurseStage = (stage: Stage, parentNames: Array<string>): Stage => {\n    const name = formatStageName(\n      parentNames,\n      lowerCase ? stage.name.toLocaleLowerCase('en-US') : stage.name,\n    );\n    const ancestry = [...parentNames, name];\n\n    return {\n      ...stage,\n      name,\n      stages: stage.stages?.map(subStage => recurseStage(subStage, ancestry)),\n    };\n  };\n\n  return map(builds, { chunk: 'idle' }, build => ({\n    ...build,\n    stages: build.stages.map(stage => recurseStage(stage, [])),\n  }));\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState, useEffect } from 'react';\nimport { useEntity } from '@backstage/plugin-catalog-react';\n\nimport { CicdConfiguration, statusTypes } from '../apis';\nimport { ProgressType } from '../components/progress';\nimport { defaultFormatStageName } from '../utils/stage-names';\nimport { useCicdStatisticsApi } from './use-cicd-statistics-api';\n\nexport function useCicdConfiguration(): ProgressType<CicdConfiguration> {\n  const cicdStatisticsApi = useCicdStatisticsApi();\n  const { entity } = useEntity();\n\n  const [state, setState] = useState<ProgressType<CicdConfiguration>>({\n    loading: true,\n  });\n\n  useEffect(() => {\n    if (!cicdStatisticsApi) {\n      setState({ error: new Error('No CI/CD Statistics API installed') });\n      return;\n    }\n\n    cicdStatisticsApi\n      .getConfiguration({ entity })\n      .then(configuration => {\n        const {\n          availableStatuses = statusTypes,\n          formatStageName = defaultFormatStageName,\n          defaults = {},\n        } = configuration;\n        setState({\n          value: {\n            availableStatuses,\n            formatStageName,\n            defaults,\n          },\n        });\n      })\n      .catch(error => {\n        setState({ error });\n      });\n  }, [cicdStatisticsApi, entity]);\n\n  return state;\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DateTime } from 'luxon';\n\nimport { FilterStatusType, statusTypes } from '../../apis/types';\nimport { ChartableStage } from '../types';\n\nexport function average(values: number[]): number {\n  return !values.length\n    ? 0\n    : Math.round(values.reduce((prev, cur) => prev + cur, 0) / values.length);\n}\n\nexport function getOrSetStage(\n  stages: Map<string, ChartableStage>,\n  name: string,\n): ChartableStage {\n  const stage = stages.get(name);\n  if (stage) return stage;\n\n  const newStage: ChartableStage = makeStage(name);\n  stages.set(name, newStage);\n  return newStage;\n}\n\nexport function makeStage(name: string): ChartableStage {\n  return {\n    analysis: {\n      unknown: { avg: 0, med: 0, max: 0, min: 0 },\n      enqueued: { avg: 0, med: 0, max: 0, min: 0 },\n      scheduled: { avg: 0, med: 0, max: 0, min: 0 },\n      running: { avg: 0, med: 0, max: 0, min: 0 },\n      aborted: { avg: 0, med: 0, max: 0, min: 0 },\n      succeeded: { avg: 0, med: 0, max: 0, min: 0 },\n      failed: { avg: 0, med: 0, max: 0, min: 0 },\n      stalled: { avg: 0, med: 0, max: 0, min: 0 },\n      expired: { avg: 0, med: 0, max: 0, min: 0 },\n    },\n    combinedAnalysis: { avg: 0, med: 0, max: 0, min: 0 },\n    statusSet: new Set<FilterStatusType>(),\n    name,\n    values: [],\n    stages: new Map(),\n  };\n}\n\nexport function startOfDay(date: number | Date) {\n  if (typeof date === 'number') {\n    return DateTime.fromMillis(date).startOf('day').toMillis();\n  }\n  return DateTime.fromJSDate(date).startOf('day').toMillis();\n}\n\nexport function sortTriggerReasons(reasons: Array<string>): Array<string> {\n  return reasons.sort((a, b) => {\n    if (a === 'manual') return -1;\n    else if (b === 'manual') return 1;\n    else if (a === 'scm') return -1;\n    else if (b === 'scm') return 1;\n    else if (a === 'other') return -1;\n    else if (b === 'other') return 1;\n    return a.localeCompare(b);\n  });\n}\n\nexport function sortStatuses(statuses: Array<string>): Array<string> {\n  return [\n    ...statusTypes.filter(status => statuses.includes(status)),\n    ...statuses\n      .filter(status => !(statusTypes as Array<string>).includes(status))\n      .sort((a, b) => a.localeCompare(b)),\n  ];\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { groupBy } from 'lodash';\n\nimport { FilterStatusType, statusTypes } from '../../apis/types';\nimport { Countify, ChartableStageDatapoints } from '../types';\nimport { startOfDay } from './utils';\n\nexport function countBuildsPerDay(\n  values: ReadonlyArray<ChartableStageDatapoints>,\n) {\n  const days = groupBy(values, value => startOfDay(value.__epoch));\n  Object.entries(days).forEach(([_startOfDay, valuesThisDay]) => {\n    const counts = Object.fromEntries(\n      statusTypes\n        .map(\n          type =>\n            [\n              type,\n              valuesThisDay.filter(value => value[type] !== undefined).length,\n            ] as const,\n        )\n        .filter(([_type, count]) => count > 0)\n        .map(([type, count]): [Countify<FilterStatusType>, number] => [\n          `${type} count`,\n          count,\n        ]),\n    );\n\n    // Assign the count for this day to the first value this day\n    Object.assign(valuesThisDay[0], counts);\n  });\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FilterStatusType } from '../../apis/types';\nimport { ChartableStageAnalysis, ChartableStageDatapoints } from '../types';\n\nexport function getAnalysis(\n  values: Array<ChartableStageDatapoints>,\n  status: FilterStatusType,\n): ChartableStageAnalysis {\n  const analysis: ChartableStageAnalysis = {\n    max: 0,\n    min: 0,\n    avg: 0,\n    med: 0,\n  };\n\n  const definedValues = values\n    .filter(value => typeof value[status] !== 'undefined')\n    .map(value => value[status]!)\n    .sort((a, b) => a - b);\n\n  analysis.max = definedValues[definedValues.length - 1] ?? 0;\n\n  analysis.min = definedValues[0] ?? 0;\n\n  analysis.avg =\n    definedValues.length === 0\n      ? 0\n      : definedValues.reduce((prev, cur) => prev + cur, 0) / values.length;\n\n  analysis.med = definedValues[Math.ceil(definedValues.length / 2)] ?? 0;\n\n  return analysis;\n}\n\nexport function makeCombinedAnalysis(\n  analysis: Record<FilterStatusType, ChartableStageAnalysis>,\n  allDurations: Array<number>,\n): ChartableStageAnalysis {\n  if (analysis.succeeded) {\n    // If succeeded is a viewed status, it's probably what's expected to see\n    // overall. Otherwise combine all other.\n    return analysis.succeeded;\n  }\n\n  const analysisValues = Object.values(analysis);\n\n  const max = analysisValues.reduce((prev, cur) => Math.max(prev, cur.max), 0);\n  const min = analysisValues.reduce(\n    (prev, cur) => Math.min(prev, cur.min),\n    max,\n  );\n  const avg = !allDurations.length\n    ? 0\n    : allDurations.reduce((prev, cur) => prev + cur, 0) / allDurations.length;\n  allDurations.sort((a, b) => a - b);\n  const med = allDurations[Math.ceil(allDurations.length / 2)] ?? 0;\n\n  return {\n    max,\n    min,\n    avg,\n    med,\n  };\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FilterStatusType, statusTypes } from '../../apis/types';\nimport { Averagify, ChartableStage } from '../types';\nimport { countBuildsPerDay } from './count-builds-per-day';\nimport { getAnalysis, makeCombinedAnalysis } from './analysis';\nimport { average } from './utils';\n\ninterface FinalizeStageOptions {\n  averageWidth: number;\n  allEpochs: Array<number>;\n}\n\n/**\n * Calculate:\n *   * {avg, min, max}\n *   * count per day\n * of a stage and its sub stages, recursively.\n *\n * This is calculated per status (successful, failed, etc).\n */\nexport function finalizeStage(\n  stage: ChartableStage,\n  options: FinalizeStageOptions,\n) {\n  const { averageWidth, allEpochs } = options;\n  const { values, analysis, combinedAnalysis } = stage;\n\n  if (allEpochs.length > 0) {\n    const valueEpochs = new Set(values.map(value => value.__epoch));\n\n    allEpochs.forEach(epoch => {\n      if (!valueEpochs.has(epoch)) {\n        values.push({ __epoch: epoch });\n      }\n    });\n  }\n\n  values.sort((a, b) => a.__epoch - b.__epoch);\n\n  countBuildsPerDay(values);\n\n  const allDurations: Array<number> = [];\n\n  statusTypes.forEach(status => {\n    analysis[status] = getAnalysis(values, status);\n\n    const durationsIndexes = values\n      .map(value => value[status])\n      .map((duration, index) => ({ index, duration }))\n      .filter(({ duration }) => typeof duration !== 'undefined')\n      .map(({ index }) => index);\n    const durationsDense = values\n      .map(value => value[status])\n      .filter(\n        (duration): duration is number => typeof duration !== 'undefined',\n      );\n\n    durationsDense.forEach(dur => allDurations.push(dur));\n\n    const averages = durationsDense.map((_, i) =>\n      average(\n        durationsDense.slice(\n          Math.max(i - averageWidth, 0),\n          Math.min(i + averageWidth, durationsDense.length),\n        ),\n      ),\n    );\n\n    averages.forEach((avg, index) => {\n      const key: Averagify<FilterStatusType> = `${status} avg`;\n      values[durationsIndexes[index]][key] = avg;\n    });\n  });\n\n  Object.assign(combinedAnalysis, makeCombinedAnalysis(analysis, allDurations));\n\n  stage.stages.forEach(subStage => finalizeStage(subStage, options));\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { groupBy, countBy } from 'lodash';\n\nimport { Build } from '../../apis/types';\nimport {\n  Epoch,\n  TriggerReasonsDatapoint,\n  StatusesDatapoint,\n  ChartableDaily,\n} from '../types';\nimport { sortStatuses, sortTriggerReasons, startOfDay } from './utils';\n\nexport function dailySummary(builds: ReadonlyArray<Build>): ChartableDaily {\n  const triggersDaily = countTriggersPerDay(builds);\n  const statusesDaily = countStatusesPerDay(builds);\n\n  const { triggerReasons } = triggersDaily;\n  const { statuses } = statusesDaily;\n\n  const reasonMap = new Map(\n    triggersDaily.values.map(value => [value.__epoch, value]),\n  );\n  const statusMap = new Map(\n    statusesDaily.values.map(value => [value.__epoch, value]),\n  );\n\n  const days = Object.keys(\n    groupBy(builds, value => startOfDay(value.requestedAt)),\n  )\n    .map(epoch => parseInt(epoch, 10))\n    .sort();\n\n  return {\n    values: days.map(epoch => ({\n      __epoch: epoch,\n      ...reasonMap.get(epoch),\n      ...statusMap.get(epoch),\n    })),\n    triggerReasons,\n    statuses,\n  };\n}\n\nfunction countTriggersPerDay(builds: ReadonlyArray<Build>) {\n  const days = groupBy(builds, value => startOfDay(value.requestedAt));\n\n  const triggerReasons = sortTriggerReasons([\n    ...new Set(\n      builds\n        .map(({ triggeredBy }) => triggeredBy)\n        .filter((v): v is NonNullable<typeof v> => !!v),\n    ),\n  ]);\n\n  const values = Object.entries(days).map(([epoch, buildsThisDay]) => {\n    const datapoint = Object.fromEntries(\n      triggerReasons\n        .map(reason => [\n          reason,\n          buildsThisDay.filter(build => build.triggeredBy === reason).length,\n        ])\n        .filter(([_type, count]) => count > 0),\n    ) as Omit<TriggerReasonsDatapoint, '__epoch'>;\n\n    // Assign the count for this day to the first value this day\n    const value: Epoch & TriggerReasonsDatapoint = Object.assign(datapoint, {\n      __epoch: parseInt(epoch, 10),\n    });\n\n    return value;\n  });\n\n  return { triggerReasons, values };\n}\n\nfunction countStatusesPerDay(builds: ReadonlyArray<Build>) {\n  const days = groupBy(builds, value => startOfDay(value.requestedAt));\n\n  const foundStatuses = new Set<string>();\n\n  const values = Object.entries(days).map(([epoch, buildsThisDay]) => {\n    const byStatus = countBy(buildsThisDay, 'status');\n\n    const value: Epoch & StatusesDatapoint = {\n      __epoch: parseInt(epoch, 10),\n      ...byStatus,\n    };\n\n    Object.keys(byStatus).forEach(status => {\n      foundStatuses.add(status);\n    });\n\n    return value;\n  });\n\n  return {\n    statuses: sortStatuses([...foundStatuses]),\n    values,\n  };\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { map } from 'already';\n\nimport { Build, Stage, FilterStatusType } from '../../apis/types';\nimport { ChartableStage, ChartableStagesAnalysis } from '../types';\nimport { getOrSetStage, makeStage, sortStatuses } from './utils';\nimport { finalizeStage } from './finalize-stage';\nimport { dailySummary } from './daily-summary';\n\nexport interface ChartableStagesOptions {\n  normalizeTimeRange: boolean;\n}\n\n/**\n * Converts a list of builds, each with a tree of stages (and durations) into a\n * merged tree of stages, and calculates {avg, min, max} of each stage.\n */\nexport async function buildsToChartableStages(\n  builds: Array<Build>,\n  options: ChartableStagesOptions,\n): Promise<ChartableStagesAnalysis> {\n  const { normalizeTimeRange } = options;\n\n  const total: ChartableStage = makeStage('Total');\n\n  const recurseDown = (\n    stageMap: Map<string, ChartableStage>,\n    stage: Stage,\n    __epoch: number,\n  ) => {\n    const { name, status, duration } = stage;\n\n    const subChartableStage = getOrSetStage(stageMap, name);\n\n    subChartableStage.statusSet.add(status);\n    subChartableStage.values.push({\n      __epoch,\n      [status]: duration,\n      [`${status} avg`]: duration,\n    });\n\n    stage.stages?.forEach(subStage => {\n      recurseDown(subChartableStage.stages, subStage, __epoch);\n    });\n  };\n\n  const stages = new Map<string, ChartableStage>();\n\n  await map(builds, { chunk: 'idle' }, build => {\n    const { duration, requestedAt, status } = build;\n    const __epoch = requestedAt.getTime();\n\n    total.statusSet.add(status);\n    total.values.push({\n      __epoch,\n      [status]: duration,\n      [`${status} avg`]: duration,\n    });\n\n    build.stages?.forEach(subStage => {\n      recurseDown(stages, subStage, __epoch);\n    });\n  });\n\n  const allEpochs = normalizeTimeRange\n    ? builds.map(build => build.requestedAt.getTime())\n    : [];\n\n  // Recurse down again and calculate averages\n  await map([...stages.values()], { chunk: 'idle' }, stage =>\n    finalizeStage(stage, { allEpochs, averageWidth: 10 }),\n  );\n  finalizeStage(total, { allEpochs, averageWidth: 10 });\n\n  const daily = dailySummary(builds);\n\n  const statuses = findStatuses(total, [...stages.values()]);\n\n  return { daily, total, stages, statuses };\n}\n\nfunction findStatuses(\n  total: ChartableStage,\n  stages: Array<ChartableStage>,\n): Array<string> {\n  const statuses = new Set<string>();\n\n  const addStatuses = (set: Set<FilterStatusType>) => {\n    set.forEach(status => {\n      statuses.add(status);\n    });\n  };\n\n  addStatuses(total.statusSet);\n\n  const recurse = (subStages: Array<ChartableStage>) => {\n    subStages.forEach(stage => {\n      addStatuses(stage.statusSet);\n      recurse([...stage.stages.values()]);\n    });\n  };\n  recurse(stages);\n\n  return sortStatuses([...statuses]);\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { throttle } from 'lodash';\nimport React, {\n  PropsWithChildren,\n  Dispatch,\n  SetStateAction,\n  Fragment,\n  useContext,\n  useState,\n  useCallback,\n  useMemo,\n  useEffect,\n} from 'react';\nimport { ReferenceArea } from 'recharts';\n\nimport type { Epoch } from './types';\n\ninterface ZoomState {\n  left?: number;\n  right?: number;\n}\n\ninterface ZoomContext {\n  registerSelection(setter: Dispatch<ZoomState>): void;\n  setSelectState: Dispatch<SetStateAction<ZoomState>>;\n\n  zoomState: ZoomState;\n  setZoomState: Dispatch<SetStateAction<ZoomState>>;\n\n  resetZoom: () => void;\n}\n\nconst context = React.createContext<ZoomContext>(undefined as any);\n\nexport function ZoomProvider({ children }: PropsWithChildren<{}>) {\n  const [registeredSelectors, setRegisteredSelectors] = useState<\n    Array<Dispatch<ZoomState>>\n  >([]);\n  const [selectState, setSelectState] = useState<ZoomState>({});\n  const [zoomState, setZoomState] = useState<ZoomState>({});\n\n  const registerSelection = useCallback(\n    (selector: Dispatch<ZoomState>) => {\n      setRegisteredSelectors(old => [...old, selector]);\n\n      return () => {\n        setRegisteredSelectors(old => old.filter(sel => sel === selector));\n      };\n    },\n    [setRegisteredSelectors],\n  );\n\n  const callSelectors = useCallback(\n    (state: ZoomState) => {\n      registeredSelectors.forEach(selector => {\n        selector(state);\n      });\n    },\n    [registeredSelectors],\n  );\n\n  const throttledCallSelectors = useMemo(\n    () => throttle(callSelectors, 200),\n    [callSelectors],\n  );\n\n  useEffect(() => {\n    throttledCallSelectors({\n      left: selectState.left,\n      right: selectState.right,\n    });\n  }, [selectState.left, selectState.right, throttledCallSelectors]);\n\n  const resetZoom = useCallback(() => {\n    setSelectState({});\n    setZoomState({});\n  }, [setSelectState, setZoomState]);\n\n  const value = useMemo(\n    (): ZoomContext => ({\n      registerSelection,\n      setSelectState,\n\n      zoomState,\n      setZoomState,\n\n      resetZoom,\n    }),\n    [registerSelection, setSelectState, zoomState, setZoomState, resetZoom],\n  );\n\n  return <context.Provider value={value} children={children} />;\n}\n\nexport function useZoom() {\n  const { zoomState, resetZoom } = useContext(context);\n\n  const zoomFilterValues = useCallback(\n    <T extends Epoch>(values: Array<T>): Array<T> => {\n      const { left, right } = zoomState;\n      return left === undefined || right === undefined\n        ? values\n        : values.filter(({ __epoch }) => __epoch > left && __epoch < right);\n    },\n    [zoomState],\n  );\n\n  return useMemo(\n    () => ({\n      resetZoom,\n      zoomState,\n      zoomFilterValues,\n    }),\n    [resetZoom, zoomState, zoomFilterValues],\n  );\n}\n\nexport interface ZoomAreaProps {\n  yAxisId?: number | string | undefined;\n}\n\nexport function useZoomArea() {\n  const [showSelection, setShowSelection] = useState(false);\n  const [state, setState] = useState<ZoomState>({});\n  const { setSelectState, setZoomState, registerSelection } =\n    useContext(context);\n\n  const onMouseDown = useCallback(\n    (e: any) => {\n      if (!e?.activeLabel) return;\n\n      setSelectState({ left: e.activeLabel });\n      setShowSelection(true);\n    },\n    [setSelectState, setShowSelection],\n  );\n\n  const onMouseMove = useCallback(\n    (e: any) => {\n      if (!e?.activeLabel) return;\n\n      setSelectState(area => {\n        if (!area.left) {\n          return area;\n        }\n        return { ...area, right: e.activeLabel };\n      });\n    },\n    [setSelectState],\n  );\n\n  const doZoom = useCallback(() => {\n    setSelectState(old => {\n      const { left, right } = old;\n\n      if (left === undefined || right === undefined || left === right) {\n        // Either is undefined or both are same - zoom out\n        setZoomState({});\n      } else if (left < right) {\n        setZoomState({ left, right });\n      } else if (left > right) {\n        setZoomState({ left: right, right: left });\n      }\n\n      return {};\n    });\n    setShowSelection(false);\n  }, [setSelectState, setZoomState, setShowSelection]);\n\n  const zoomProps = useMemo(\n    () => ({\n      onMouseDown,\n      onMouseMove,\n      onMouseUp: doZoom,\n    }),\n    [onMouseDown, onMouseMove, doZoom],\n  );\n\n  useEffect(() => {\n    if (!showSelection) {\n      return undefined;\n    }\n    return registerSelection(setState);\n  }, [registerSelection, setState, showSelection]);\n\n  const getZoomArea = useCallback(\n    (props?: ZoomAreaProps) => (\n      <Fragment key=\"zoom-area\">\n        {showSelection && state.left && state.right ? (\n          <ReferenceArea\n            x1={state.left}\n            x2={state.right}\n            strokeOpacity={0.5}\n            {...props}\n          />\n        ) : null}\n      </Fragment>\n    ),\n    [showSelection, state.left, state.right],\n  );\n\n  return {\n    zoomProps,\n    getZoomArea,\n  };\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { CSSProperties } from 'react';\nimport { DateTime, Duration } from 'luxon';\nimport humanizeDuration from 'humanize-duration';\nimport { capitalize } from 'lodash';\n\nconst infoText: CSSProperties = { color: 'InfoText' };\n\n/**\n * Picks {num} elements from {arr} evenly, from the first to the last\n */\nexport function pickElements<T>(arr: ReadonlyArray<T>, num: number): Array<T> {\n  if (arr.length <= num) {\n    return [...arr];\n  }\n\n  if (num < 2) {\n    return [arr[arr.length / 2]];\n  }\n\n  const step = arr.length / (num - 1);\n  return [\n    ...Array.from(Array(num - 1)).map(\n      (_, index) => arr[Math.round(index * step)],\n    ),\n    arr[arr.length - 1],\n  ];\n}\n\nfunction formatDateShort(milliseconds: number) {\n  if ((milliseconds as any) === 'auto') {\n    // When recharts gets confused (empty data)\n    return '';\n  }\n  return DateTime.fromMillis(milliseconds).toLocaleString(DateTime.DATE_SHORT);\n}\nfunction formatDateTimeShort(milliseconds: number) {\n  if ((milliseconds as any) === 'auto') {\n    // When recharts gets confused (empty data)\n    return '';\n  }\n  return DateTime.fromMillis(milliseconds).toLocaleString(\n    DateTime.DATETIME_SHORT,\n  );\n}\n\nexport function labelFormatter(epoch: number) {\n  return <span style={infoText}>{formatDateTimeShort(epoch)}</span>;\n}\n\nexport function labelFormatterWithoutTime(epoch: number) {\n  return <span style={infoText}>{formatDateShort(epoch)}</span>;\n}\n\nexport function tickFormatterX(epoch: number) {\n  return formatDateShort(epoch);\n}\n\nexport function tickFormatterY(duration: number) {\n  if (duration === 0) {\n    return '0';\n  } else if (duration < 500) {\n    return `${duration} ms`;\n  }\n  return formatDuration(duration)\n    .replace(/second.*/, 'sec')\n    .replace(/minute.*/, 'min')\n    .replace(/hour.*/, 'h')\n    .replace(/day.*/, 'd')\n    .replace(/month.*/, 'm')\n    .replace(/year.*/, 'y');\n}\n\nexport function tooltipValueFormatter(durationOrCount: number, name: string) {\n  return [\n    <span style={infoText}>\n      {capitalize(name)}:{' '}\n      {name.endsWith(' count')\n        ? durationOrCount\n        : formatDuration(durationOrCount)}\n    </span>,\n    null,\n  ];\n}\n\nexport function formatDuration(millis: number) {\n  let rest = Math.round(millis);\n  const days = Math.floor(rest / (1000 * 60 * 60 * 24));\n  rest -= days * (1000 * 60 * 60 * 24);\n  const hours = Math.floor(rest / (1000 * 60 * 60));\n  rest -= hours * (1000 * 60 * 60);\n  const minutes = Math.floor(rest / (1000 * 60));\n  rest -= minutes * (1000 * 60);\n  const seconds = Math.floor(rest / 1000);\n  rest -= seconds * 1000;\n  const milliseconds = rest;\n\n  if (!days && !hours && !minutes) {\n    if (seconds < 1) {\n      return `${milliseconds}ms`;\n    } else if (seconds < 2) {\n      return `${((milliseconds + seconds * 1000) / 1000).toFixed(1)}s`;\n    }\n  }\n\n  const dur = Duration.fromObject({\n    ...(days && { days }),\n    ...(hours && { hours }),\n    ...(minutes && !days && { minutes }),\n    ...(seconds && !days && !hours && { seconds }),\n  });\n\n  return humanizeDuration(dur.toMillis(), { round: true });\n}\n\nexport function formatDurationFromSeconds(seconds: number) {\n  return formatDuration(seconds * 1000);\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FilterStatusType, TriggerReason } from '../apis/types';\n\nexport const statusColorMap: Record<FilterStatusType, string> = {\n  unknown: '#3d01a4',\n  enqueued: '#7ad1b9',\n  scheduled: '#0391ce',\n  running: '#f3f318',\n  aborted: '#8600af',\n  succeeded: '#66b032',\n  failed: '#fe2712',\n  stalled: '#fb9904',\n  expired: '#a7194b',\n};\n\nexport const triggerColorMap: Record<TriggerReason, string> = {\n  scm: '#0391ce',\n  manual: '#a7194b',\n  internal: '#82ca9d',\n  other: '#f3f318',\n};\n\nexport const fireColors: Array<[percent: string, color: string]> = [\n  ['5%', '#e19678'],\n  ['30%', '#dfe178'],\n  ['50%', '#82ca9d'],\n  ['95%', '#82ca9d'],\n];\n\nexport const colorStroke = '#c0c0c0';\nexport const colorStrokeAvg = '#788ee1';\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { CSSProperties, Fragment, useMemo } from 'react';\nimport {\n  Area,\n  Bar,\n  ComposedChart,\n  XAxis,\n  YAxis,\n  YAxisProps,\n  CartesianGrid,\n  Legend,\n  LegendProps,\n  Line,\n  Tooltip,\n  ResponsiveContainer,\n} from 'recharts';\nimport Alert from '@material-ui/lab/Alert';\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Grid,\n  Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { capitalize } from 'lodash';\n\nimport { useZoom, useZoomArea } from './zoom';\nimport { CicdDefaults, statusTypes } from '../apis/types';\nimport { ChartableStage } from './types';\nimport {\n  pickElements,\n  labelFormatter,\n  tickFormatterX,\n  tickFormatterY,\n  tooltipValueFormatter,\n  formatDuration,\n} from '../components/utils';\nimport {\n  statusColorMap,\n  fireColors,\n  colorStroke,\n  colorStrokeAvg,\n} from './colors';\n\nconst fullWidth: CSSProperties = { width: '100%' };\nconst noUserSelect: CSSProperties = { userSelect: 'none' };\n\nconst transitionProps = { unmountOnExit: true };\n\nexport interface StageChartProps {\n  stage: ChartableStage;\n\n  chartTypes: CicdDefaults['chartTypes'];\n  defaultCollapsed?: number;\n  defaultHidden?: number;\n  zeroYAxis?: boolean;\n}\n\nexport function StageChart(props: StageChartProps) {\n  const { stage, ...chartOptions } = props;\n  const {\n    chartTypes,\n    defaultCollapsed = 0,\n    defaultHidden = 0,\n    zeroYAxis = false,\n  } = chartOptions;\n\n  const { zoomFilterValues } = useZoom();\n  const { zoomProps, getZoomArea } = useZoomArea();\n\n  const ticks = useMemo(\n    () => pickElements(stage.values, 8).map(val => val.__epoch),\n    [stage.values],\n  );\n  const domainY = useMemo(\n    () => [zeroYAxis ? 0 : 'auto', 'auto'] as YAxisProps['domain'],\n    [zeroYAxis],\n  );\n  const statuses = useMemo(\n    () => statusTypes.filter(status => stage.statusSet.has(status)),\n    [stage.statusSet],\n  );\n  const legendPayload = useMemo(\n    (): LegendProps['payload'] =>\n      statuses.map(status => ({\n        value: capitalize(status),\n        type: 'line',\n        id: status,\n        color: statusColorMap[status],\n      })),\n    [statuses],\n  );\n\n  const subStages = useMemo(\n    () =>\n      new Map<string, ChartableStage>(\n        [...stage.stages.entries()].filter(\n          ([_name, subStage]) => subStage.combinedAnalysis.max > defaultHidden,\n        ),\n      ),\n    [stage.stages, defaultHidden],\n  );\n\n  const zoomFilteredValues = useMemo(\n    () => zoomFilterValues(stage.values),\n    [stage.values, zoomFilterValues],\n  );\n\n  return stage.combinedAnalysis.max < defaultHidden ? null : (\n    <Accordion\n      defaultExpanded={stage.combinedAnalysis.max > defaultCollapsed}\n      TransitionProps={transitionProps}\n    >\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <Typography>\n          {stage.name} (med {formatDuration(stage.combinedAnalysis.med)}, avg{' '}\n          {formatDuration(stage.combinedAnalysis.avg)})\n        </Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        {stage.values.length === 0 ? (\n          <Alert severity=\"info\">No data</Alert>\n        ) : (\n          <Grid container direction=\"column\">\n            <Grid item style={noUserSelect}>\n              <ResponsiveContainer width=\"100%\" height={140}>\n                <ComposedChart data={zoomFilteredValues} {...zoomProps}>\n                  <defs>\n                    <linearGradient id=\"colorDur\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                      {fireColors.map(([percent, color]) => (\n                        <stop\n                          key={percent}\n                          offset={percent}\n                          stopColor={color}\n                          stopOpacity={0.8}\n                        />\n                      ))}\n                    </linearGradient>\n                  </defs>\n                  {statuses.length > 1 && <Legend payload={legendPayload} />}\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis\n                    dataKey=\"__epoch\"\n                    type=\"category\"\n                    ticks={ticks}\n                    tickFormatter={tickFormatterX}\n                  />\n                  <YAxis\n                    yAxisId={1}\n                    tickFormatter={tickFormatterY}\n                    type=\"number\"\n                    tickCount={5}\n                    name=\"Duration\"\n                    domain={domainY}\n                  />\n                  <YAxis\n                    yAxisId={2}\n                    orientation=\"right\"\n                    type=\"number\"\n                    tickCount={5}\n                    name=\"Count\"\n                  />\n                  <Tooltip\n                    formatter={tooltipValueFormatter}\n                    labelFormatter={labelFormatter}\n                  />\n                  {statuses.reverse().map(status => (\n                    <Fragment key={status}>\n                      {!chartTypes[status].includes('duration') ? null : (\n                        <>\n                          <Area\n                            isAnimationActive={false}\n                            yAxisId={1}\n                            type=\"monotone\"\n                            dataKey={status}\n                            stackId={status}\n                            stroke={\n                              statuses.length > 1\n                                ? statusColorMap[status]\n                                : colorStroke\n                            }\n                            fillOpacity={statuses.length > 1 ? 0.5 : 1}\n                            fill={\n                              statuses.length > 1\n                                ? statusColorMap[status]\n                                : 'url(#colorDur)'\n                            }\n                            connectNulls\n                          />\n                          <Line\n                            isAnimationActive={false}\n                            yAxisId={1}\n                            type=\"monotone\"\n                            dataKey={`${status} avg`}\n                            stroke={\n                              statuses.length > 1\n                                ? statusColorMap[status]\n                                : colorStrokeAvg\n                            }\n                            opacity={0.8}\n                            strokeWidth={2}\n                            dot={false}\n                            connectNulls\n                          />\n                        </>\n                      )}\n                      {!chartTypes[status].includes('count') ? null : (\n                        <Bar\n                          isAnimationActive={false}\n                          yAxisId={2}\n                          type=\"monotone\"\n                          dataKey={`${status} count`}\n                          stackId=\"1\"\n                          stroke={statusColorMap[status] ?? ''}\n                          fillOpacity={0.5}\n                          fill={statusColorMap[status] ?? ''}\n                        />\n                      )}\n                    </Fragment>\n                  ))}\n                  {getZoomArea({ yAxisId: 1 })}\n                </ComposedChart>\n              </ResponsiveContainer>\n            </Grid>\n            {subStages.size === 0 ? null : (\n              <Grid item>\n                <Accordion\n                  defaultExpanded={false}\n                  TransitionProps={transitionProps}\n                >\n                  <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                    <Typography>Sub stages ({subStages.size})</Typography>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    <div style={fullWidth}>\n                      {[...subStages.values()].map(subStage => (\n                        <StageChart\n                          key={subStage.name}\n                          {...chartOptions}\n                          stage={subStage}\n                        />\n                      ))}\n                    </div>\n                  </AccordionDetails>\n                </Accordion>\n              </Grid>\n            )}\n          </Grid>\n        )}\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { Fragment, useMemo } from 'react';\nimport {\n  Area,\n  Bar,\n  ComposedChart,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Legend,\n  LegendProps,\n  Tooltip,\n  ResponsiveContainer,\n} from 'recharts';\nimport Alert from '@material-ui/lab/Alert';\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { capitalize } from 'lodash';\n\nimport { useZoom, useZoomArea } from './zoom';\nimport { FilterStatusType, TriggerReason } from '../apis/types';\nimport { labelFormatterWithoutTime, tickFormatterX } from '../components/utils';\nimport { statusColorMap, triggerColorMap } from './colors';\nimport { ChartableStagesAnalysis } from './types';\n\nexport interface StatusChartProps {\n  analysis: ChartableStagesAnalysis;\n}\n\nexport function StatusChart(props: StatusChartProps) {\n  const { analysis } = props;\n\n  const { zoomFilterValues } = useZoom();\n  const { zoomProps, getZoomArea } = useZoomArea();\n\n  const values = useMemo(() => {\n    return analysis.daily.values.map(value => {\n      const totTriggers = analysis.daily.triggerReasons.reduce(\n        (prev, cur) => prev + (value[cur as TriggerReason] ?? 0),\n        0,\n      );\n\n      if (!totTriggers) {\n        return value;\n      }\n\n      return {\n        ...value,\n        ...Object.fromEntries(\n          analysis.daily.triggerReasons.map(reason => [\n            reason,\n            (value[reason as TriggerReason] ?? 0) / totTriggers,\n          ]),\n        ),\n      };\n    });\n  }, [analysis.daily]);\n\n  const triggerReasonLegendPayload = useMemo(\n    (): NonNullable<LegendProps['payload']> =>\n      analysis.daily.triggerReasons.map(reason => ({\n        value: humanTriggerReason(reason),\n        type: 'line',\n        id: reason,\n        color: triggerColorMap[reason as TriggerReason] ?? '',\n      })),\n    [analysis.daily.triggerReasons],\n  );\n\n  const statusesLegendPayload = useMemo(\n    (): NonNullable<LegendProps['payload']> =>\n      analysis.daily.statuses.map(status => ({\n        value: capitalize(status),\n        type: 'line',\n        id: status,\n        color: statusColorMap[status as FilterStatusType] ?? '',\n      })),\n    [analysis.daily.statuses],\n  );\n\n  const legendPayload = useMemo(\n    (): NonNullable<LegendProps['payload']> => [\n      ...triggerReasonLegendPayload,\n      ...statusesLegendPayload,\n    ],\n    [statusesLegendPayload, triggerReasonLegendPayload],\n  );\n\n  const tooltipFormatter = useMemo(() => {\n    const reasonSet = new Set(analysis.daily.triggerReasons);\n\n    return (percentOrCount: number, name: string) => {\n      const label = reasonSet.has(name)\n        ? humanTriggerReason(name)\n        : capitalize(name);\n      const valueText = reasonSet.has(name)\n        ? `${(percentOrCount * 100).toFixed(0)}%`\n        : percentOrCount;\n\n      return [\n        <span>\n          {label}: {valueText}\n        </span>,\n        null,\n      ];\n    };\n  }, [analysis.daily.triggerReasons]);\n\n  const zoomFilteredValues = useMemo(\n    () => zoomFilterValues(values),\n    [values, zoomFilterValues],\n  );\n\n  const barSize = getBarSize(analysis.daily.values.length);\n\n  return (\n    <Accordion defaultExpanded={analysis.daily.statuses.length > 1}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <Typography>\n          Build count per status over build trigger reason\n        </Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        {values.length === 0 ? (\n          <Alert severity=\"info\">No data</Alert>\n        ) : (\n          <ResponsiveContainer width=\"100%\" height={140}>\n            <ComposedChart data={zoomFilteredValues} {...zoomProps}>\n              <Legend payload={legendPayload} />\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis\n                dataKey=\"__epoch\"\n                type=\"category\"\n                tickFormatter={tickFormatterX}\n              />\n              <YAxis yAxisId={1} type=\"number\" tickCount={5} name=\"Count\" />\n              <YAxis yAxisId={2} type=\"number\" name=\"Triggers\" hide />\n              <Tooltip\n                labelFormatter={labelFormatterWithoutTime}\n                formatter={tooltipFormatter}\n              />\n              {triggerReasonLegendPayload.map(reason => (\n                <Fragment key={reason.id}>\n                  <Area\n                    isAnimationActive={false}\n                    type=\"monotone\"\n                    dataKey={reason.id!}\n                    stackId=\"triggers\"\n                    yAxisId={2}\n                    stroke={triggerColorMap[reason.id as TriggerReason] ?? ''}\n                    fillOpacity={0.5}\n                    fill={triggerColorMap[reason.id as TriggerReason] ?? ''}\n                  />\n                </Fragment>\n              ))}\n              {[...analysis.daily.statuses].reverse().map(status => (\n                <Fragment key={status}>\n                  <Bar\n                    isAnimationActive={false}\n                    type=\"monotone\"\n                    barSize={barSize}\n                    dataKey={status}\n                    stackId=\"statuses\"\n                    yAxisId={1}\n                    stroke={statusColorMap[status as FilterStatusType] ?? ''}\n                    fillOpacity={0.8}\n                    fill={statusColorMap[status as FilterStatusType] ?? ''}\n                  />\n                </Fragment>\n              ))}\n              {getZoomArea({ yAxisId: 1 })}\n            </ComposedChart>\n          </ResponsiveContainer>\n        )}\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n\nfunction humanTriggerReason(reason: string): string {\n  if ((reason as TriggerReason) === 'manual') {\n    return 'Triggered manually';\n  } else if ((reason as TriggerReason) === 'scm') {\n    return 'Triggered by SCM';\n  } else if ((reason as TriggerReason) === 'internal') {\n    return 'Triggered internally';\n  } else if ((reason as TriggerReason) === 'other') {\n    return 'Triggered by another reason';\n  }\n  return `Triggered by ${reason}`;\n}\n\nfunction getBarSize(count: number): number {\n  if (count < 20) {\n    return 10;\n  } else if (count < 40) {\n    return 8;\n  }\n  return 5;\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback, MouseEvent } from 'react';\nimport { ButtonGroup, Button, Tooltip, Zoom } from '@material-ui/core';\n\nexport interface SwitchValueDetails<T extends string> {\n  value: T;\n  tooltip?: string;\n  text?: string | JSX.Element;\n}\n\nexport type SwitchValue<T extends string> = T | SwitchValueDetails<T>;\n\nexport interface ButtonSwitchPropsBase<T extends string> {\n  values: ReadonlyArray<SwitchValue<T>>;\n  vertical?: boolean;\n}\nexport interface ButtonSwitchPropsSingle<T extends string>\n  extends ButtonSwitchPropsBase<T> {\n  multi?: false;\n  selection: T;\n  onChange: (selected: T) => void;\n}\nexport interface ButtonSwitchPropsMulti<T extends string>\n  extends ButtonSwitchPropsBase<T> {\n  multi: true;\n  selection: ReadonlyArray<T>;\n  onChange: (selected: Array<T>) => void;\n}\n\nexport type ButtonSwitchProps<T extends string> =\n  | ButtonSwitchPropsSingle<T>\n  | ButtonSwitchPropsMulti<T>;\n\nfunction switchValue<T extends string>(value: SwitchValue<T>): T {\n  return typeof value === 'object' ? value.value : value;\n}\n\nfunction switchText<T extends string>(\n  value: SwitchValue<T>,\n): string | JSX.Element {\n  return typeof value === 'object' ? value.text ?? value.value : value;\n}\n\nfunction findParent(tagName: string, elem: HTMLElement): HTMLElement {\n  let node: HTMLElement | null = elem;\n  while (node.tagName !== tagName) {\n    node = node.parentElement;\n    if (!node) {\n      throw new Error(`Couldn't find ${tagName} parent`);\n    }\n  }\n  return node;\n}\n\nexport function ButtonSwitch<T extends string>(props: ButtonSwitchProps<T>) {\n  const { values, vertical = false } = props;\n\n  const onClick = useCallback(\n    (ev: MouseEvent<HTMLSpanElement>) => {\n      const btn = findParent('BUTTON', ev.target as HTMLElement);\n      const index = [...btn.parentElement!.children].findIndex(\n        child => child === btn,\n      );\n      const value = switchValue(values[index]);\n\n      if (props.multi) {\n        props.onChange(\n          props.selection.includes(value as T)\n            ? props.selection.filter(val => val !== value)\n            : [...props.selection, value as T],\n        );\n      } else {\n        props.onChange(value as T);\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [values, props.selection, props.multi, props.onChange],\n  );\n\n  const hasSelection = (value: T) => {\n    if (props.multi) {\n      return props.selection.includes(value);\n    }\n    return props.selection === value;\n  };\n\n  const tooltipify = (value: SwitchValue<T>, elem: JSX.Element) =>\n    typeof value === 'object' && value.tooltip ? (\n      <Tooltip\n        key={value.value}\n        TransitionComponent={Zoom}\n        title={value.tooltip}\n        arrow\n      >\n        {elem}\n      </Tooltip>\n    ) : (\n      elem\n    );\n\n  return (\n    <ButtonGroup\n      disableElevation\n      orientation={vertical ? 'vertical' : 'horizontal'}\n      variant=\"outlined\"\n      size=\"small\"\n    >\n      {values.map(value =>\n        tooltipify(\n          value,\n          <Button\n            key={switchValue(value)}\n            color={hasSelection(switchValue(value)) ? 'primary' : 'default'}\n            variant={\n              hasSelection(switchValue(value)) ? 'contained' : 'outlined'\n            }\n            onClick={onClick}\n          >\n            {switchText(value)}\n          </Button>,\n        ),\n      )}\n    </ButtonGroup>\n  );\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback, PropsWithChildren } from 'react';\nimport { FormControlLabel, Switch } from '@material-ui/core';\n\nexport interface ToggleProps {\n  checked: boolean;\n  setChecked: (checked: boolean) => void;\n}\n\nexport function Toggle({\n  checked,\n  setChecked,\n  children,\n}: PropsWithChildren<ToggleProps>) {\n  const toggler = useCallback(() => {\n    setChecked(!checked);\n  }, [checked, setChecked]);\n\n  return (\n    <FormControlLabel\n      control={<Switch checked={checked} onChange={toggler} />}\n      label={children}\n    />\n  );\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { PropsWithChildren } from 'react';\nimport { Typography, Theme, makeStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles<Theme>(\n  theme => ({\n    label: {\n      fontWeight: 'normal',\n      margin: theme.spacing(0),\n    },\n  }),\n  {\n    name: 'CicdStatisticsLabel',\n  },\n);\n\nexport function Label({ children }: PropsWithChildren<{}>) {\n  const classes = useStyles();\n\n  return (\n    <Typography variant=\"subtitle2\" className={classes.label}>\n      {children}\n    </Typography>\n  );\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { Slider } from '@material-ui/core';\nimport { debounce } from 'lodash';\n\nimport { formatDuration, formatDurationFromSeconds } from './utils';\nimport { Label } from './label';\n\nconst marks = [\n  0,\n  1,\n  2,\n  3,\n  4,\n  5,\n  10,\n  20,\n  30,\n  60,\n  2 * 60,\n  3 * 60,\n  4 * 60,\n  5 * 60,\n  10 * 60,\n  15 * 60,\n  30 * 60,\n  45 * 60,\n  60 * 60,\n].map((value, index) => ({\n  value: index,\n  label: formatDurationFromSeconds(value),\n  seconds: value,\n}));\n\nfunction findMarkIndex(seconds: number): number {\n  if (marks[0].seconds > seconds) {\n    return 0;\n  } else if (marks[marks.length - 1].seconds < seconds) {\n    return marks.length - 1;\n  }\n  for (let i = 0; i < marks.length - 1; ++i) {\n    const a = marks[i];\n    const b = marks[i + 1];\n    if (seconds === a.seconds) {\n      return i;\n    } else if (seconds === b.seconds) {\n      return i + 1;\n    } else if (a.seconds < seconds && b.seconds > seconds) {\n      return seconds - a.seconds < b.seconds - seconds ? i : i - 1;\n    }\n  }\n  return 0; // Won't happen\n}\n\nfunction formatDurationFromIndex(index: number) {\n  return formatDurationFromSeconds(marks[index].seconds);\n}\n\nexport interface DurationSliderProps {\n  header: string;\n  value: number;\n  setValue: (value: number) => void;\n}\n\nexport function DurationSlider(props: DurationSliderProps) {\n  const { header, value, setValue } = props;\n\n  const [curValue, setCurValue] = useState(value);\n\n  const debouncedSetValue = useMemo(() => debounce(setValue, 1000), [setValue]);\n\n  const onChange = useCallback(\n    (_: any, index: number | number[]) => {\n      const millis = marks[index as number].seconds * 1000;\n      setCurValue(millis);\n      debouncedSetValue(millis);\n    },\n    [debouncedSetValue],\n  );\n\n  const indexValue = useMemo(() => findMarkIndex(curValue / 1000), [curValue]);\n\n  return (\n    <>\n      <Label>\n        {header} {formatDuration(curValue)}\n      </Label>\n      <Slider\n        value={indexValue}\n        min={0}\n        step={1}\n        max={marks.length - 1}\n        marks\n        getAriaValueText={formatDurationFromIndex}\n        valueLabelFormat={formatDurationFromIndex}\n        onChange={onChange}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"slider-hide-limit\"\n      />\n    </>\n  );\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback, useState, useEffect, useMemo } from 'react';\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardContent,\n  FormControl,\n  FormGroup,\n  FormControlLabel,\n  Grid,\n  Switch,\n  Tooltip,\n  Typography,\n  Theme,\n  makeStyles,\n} from '@material-ui/core';\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport { DateTime } from 'luxon';\nimport LuxonUtils from '@date-io/luxon';\n\nimport {\n  ChartType,\n  ChartTypes,\n  CicdConfiguration,\n  CicdDefaults,\n  FilterBranchType,\n  FilterStatusType,\n  statusTypes,\n} from '../apis/types';\nimport { ChartableStagesAnalysis } from '../charts/types';\nimport { ButtonSwitch, SwitchValue } from './button-switch';\nimport { Toggle } from './toggle';\nimport { DurationSlider } from './duration-slider';\nimport { Label } from './label';\n\nexport const useStyles = makeStyles<Theme>(\n  theme => ({\n    rootCard: {\n      padding: theme.spacing(0, 0, 0, 0),\n      margin: theme.spacing(0, 0, 2, 0),\n    },\n    updateButton: {\n      margin: theme.spacing(1, 0, 0, 0),\n    },\n    header: {\n      margin: theme.spacing(0, 0, 0, 0),\n      textTransform: 'uppercase',\n      fontSize: 12,\n      fontWeight: 'bold',\n    },\n    title: {\n      margin: theme.spacing(3, 0, 1, 0),\n      textTransform: 'uppercase',\n      fontSize: 12,\n      fontWeight: 'bold',\n      '&:first-child': {\n        margin: theme.spacing(1, 0, 1, 0),\n      },\n    },\n    buttonDescription: {\n      textTransform: 'uppercase',\n      margin: theme.spacing(1, 0, 0, 1),\n    },\n  }),\n  {\n    name: 'CicdStatistics',\n  },\n);\n\nexport type BranchSelection = FilterBranchType | 'all';\nexport type StatusSelection = FilterStatusType;\n\nexport interface ChartFilter {\n  fromDate: Date;\n  toDate: Date;\n  branch: string;\n  status: Array<string>;\n}\n\nexport function getDefaultChartFilter(\n  cicdConfiguration: CicdConfiguration,\n): ChartFilter {\n  const toDate = cicdConfiguration.defaults?.timeTo ?? new Date();\n  return {\n    fromDate:\n      cicdConfiguration.defaults?.timeFrom ??\n      DateTime.fromJSDate(toDate).minus({ months: 1 }).toJSDate(),\n    toDate,\n    branch: cicdConfiguration.defaults?.filterType ?? 'branch',\n    status:\n      cicdConfiguration.defaults?.filterStatus ??\n      cicdConfiguration.availableStatuses.filter(\n        status => status === 'succeeded' || status === 'failed',\n      ),\n  };\n}\n\nfunction isSameChartFilter(a: ChartFilter, b: ChartFilter): boolean {\n  return (\n    a.branch === b.branch &&\n    [...a.status].sort().join(' ') === [...b.status].sort().join(' ') &&\n    DateTime.fromJSDate(a.fromDate).hasSame(\n      DateTime.fromJSDate(b.fromDate),\n      'day',\n    ) &&\n    DateTime.fromJSDate(a.toDate).hasSame(DateTime.fromJSDate(b.toDate), 'day')\n  );\n}\n\nexport type ViewOptions = Pick<\n  CicdDefaults,\n  | 'lowercaseNames'\n  | 'normalizeTimeRange'\n  | 'collapsedLimit'\n  | 'hideLimit'\n  | 'chartTypes'\n>;\n\nexport function getDefaultViewOptions(\n  cicdConfiguration: CicdConfiguration,\n): ViewOptions {\n  return {\n    lowercaseNames: cicdConfiguration.defaults?.lowercaseNames ?? false,\n    normalizeTimeRange: cicdConfiguration.defaults?.normalizeTimeRange ?? true,\n    collapsedLimit: 60 * 1000, // 1m\n    hideLimit: 20 * 1000, // 20s\n    chartTypes: {\n      succeeded: ['duration'],\n      failed: ['count'],\n      enqueued: ['count'],\n      scheduled: ['count'],\n      running: ['count'],\n      aborted: ['count'],\n      stalled: ['count'],\n      expired: ['count'],\n      unknown: ['count'],\n    },\n  };\n}\n\nconst branchValues: Array<SwitchValue<BranchSelection>> = [\n  'master',\n  'branch',\n  {\n    value: 'all',\n    tooltip:\n      'NOTE; If the build pipelines are very different between master and branch ' +\n      'builds, viewing them combined might not result in a very useful chart',\n  },\n];\n\nconst chartTypeValues: Array<SwitchValue<ChartType>> = [\n  { value: 'duration', text: <ShowChartIcon />, tooltip: 'Duration' },\n  { value: 'count', text: <BarChartIcon />, tooltip: 'Count per day' },\n];\n\nexport interface ChartFiltersProps {\n  analysis?: ChartableStagesAnalysis;\n\n  cicdConfiguration: CicdConfiguration;\n  initialFetchFilter: ChartFilter;\n  currentFetchFilter?: ChartFilter;\n  onChangeFetchFilter(filter: ChartFilter): void;\n  updateFetchFilter(filter: ChartFilter): void;\n\n  initialViewOptions: ViewOptions;\n  onChangeViewOptions(filter: ViewOptions): void;\n}\n\ninterface InternalRef {\n  first: boolean;\n}\n\nexport function ChartFilters(props: ChartFiltersProps) {\n  const {\n    analysis,\n    cicdConfiguration,\n    initialFetchFilter,\n    currentFetchFilter,\n    onChangeFetchFilter,\n    updateFetchFilter,\n    initialViewOptions,\n    onChangeViewOptions,\n  } = props;\n\n  const classes = useStyles();\n\n  const [internalRef] = useState<InternalRef>({ first: true });\n\n  const [useNowAsToDate, setUseNowAsToDate] = useState(true);\n  const [toDate, setToDate] = useState(initialFetchFilter.toDate);\n  const [fromDate, setFromDate] = useState(initialFetchFilter.fromDate);\n\n  const [branch, setBranch] = useState(initialFetchFilter.branch);\n\n  const statusValues: ReadonlyArray<StatusSelection> =\n    cicdConfiguration.availableStatuses;\n  const [selectedStatus, setSelectedStatus] = useState(\n    initialFetchFilter.status,\n  );\n\n  const [viewOptions, setViewOptions] = useState(initialViewOptions);\n\n  const setLowercaseNames = useCallback(\n    (lowercaseNames: boolean) => {\n      setViewOptions(old => ({ ...old, lowercaseNames }));\n    },\n    [setViewOptions],\n  );\n\n  const setNormalizeTimeRange = useCallback(\n    (normalizeTimeRange: boolean) => {\n      setViewOptions(old => ({ ...old, normalizeTimeRange }));\n    },\n    [setViewOptions],\n  );\n\n  const setHideLimit = useCallback(\n    (value: number) => {\n      setViewOptions(old => ({ ...old, hideLimit: value }));\n    },\n    [setViewOptions],\n  );\n\n  const setCollapseLimit = useCallback(\n    (value: number) => {\n      setViewOptions(old => ({ ...old, collapsedLimit: value }));\n    },\n    [setViewOptions],\n  );\n\n  const setChartType = useCallback(\n    (statusType: FilterStatusType, chartTypes: ChartTypes) => {\n      setViewOptions(old => ({\n        ...old,\n        chartTypes: { ...old.chartTypes, [statusType]: chartTypes },\n      }));\n    },\n    [setViewOptions],\n  );\n  const setChartTypeSpecific = useMemo(\n    () =>\n      Object.fromEntries(\n        statusTypes.map(\n          status =>\n            [\n              status,\n              (chartTypes: ChartTypes) => setChartType(status, chartTypes),\n            ] as const,\n        ),\n      ),\n    [setChartType],\n  );\n\n  useEffect(() => {\n    onChangeViewOptions(viewOptions);\n  }, [onChangeViewOptions, viewOptions]);\n\n  useEffect(() => {\n    if (internalRef.first) {\n      // Skip calling onChangeFetchFilter first time\n      internalRef.first = false;\n      return;\n    }\n    onChangeFetchFilter({\n      toDate,\n      fromDate,\n      branch,\n      status: selectedStatus,\n    });\n  }, [\n    internalRef,\n    toDate,\n    fromDate,\n    branch,\n    selectedStatus,\n    onChangeFetchFilter,\n  ]);\n\n  const toggleUseNowAsDate = useCallback(() => {\n    setUseNowAsToDate(!useNowAsToDate);\n    if (!DateTime.fromJSDate(toDate).hasSame(DateTime.now(), 'day')) {\n      setToDate(new Date());\n    }\n  }, [useNowAsToDate, toDate]);\n\n  const hasFetchFilterChanges = useMemo(\n    () =>\n      !currentFetchFilter ||\n      !isSameChartFilter(\n        {\n          toDate,\n          fromDate,\n          branch,\n          status: selectedStatus,\n        },\n        currentFetchFilter,\n      ),\n    [toDate, fromDate, branch, selectedStatus, currentFetchFilter],\n  );\n\n  const updateFilter = useCallback(() => {\n    updateFetchFilter({\n      toDate,\n      fromDate,\n      branch,\n      status: selectedStatus,\n    });\n  }, [toDate, fromDate, branch, selectedStatus, updateFetchFilter]);\n\n  const inrefferedStatuses = analysis?.statuses ?? selectedStatus;\n\n  return (\n    <MuiPickersUtilsProvider utils={LuxonUtils}>\n      <Card className={classes.rootCard}>\n        <CardHeader\n          action={\n            <Button\n              size=\"small\"\n              color=\"secondary\"\n              variant=\"contained\"\n              onClick={updateFilter}\n              disabled={!hasFetchFilterChanges}\n            >\n              Update\n            </Button>\n          }\n          title={\n            <Typography variant=\"subtitle2\" className={classes.header}>\n              Fetching options\n            </Typography>\n          }\n        />\n        <CardContent>\n          <Typography\n            variant=\"subtitle2\"\n            className={`${classes.title} ${classes.title}`}\n          >\n            Date range\n          </Typography>\n          <KeyboardDatePicker\n            autoOk\n            variant=\"inline\"\n            inputVariant=\"outlined\"\n            label=\"From date\"\n            format=\"yyyy-MM-dd\"\n            value={fromDate}\n            InputAdornmentProps={{ position: 'start' }}\n            onChange={date => setFromDate(date?.toJSDate() ?? new Date())}\n          />\n          <br />\n          <FormControl component=\"fieldset\">\n            <FormGroup>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={useNowAsToDate}\n                    onChange={toggleUseNowAsDate}\n                  />\n                }\n                label={<Label>To today</Label>}\n              />\n              {useNowAsToDate ? null : (\n                <KeyboardDatePicker\n                  autoOk\n                  variant=\"inline\"\n                  inputVariant=\"outlined\"\n                  label=\"To date\"\n                  format=\"yyyy-MM-dd\"\n                  value={toDate}\n                  InputAdornmentProps={{ position: 'start' }}\n                  onChange={date => setToDate(date?.toJSDate() ?? new Date())}\n                />\n              )}\n            </FormGroup>\n          </FormControl>\n          <Typography\n            variant=\"subtitle2\"\n            className={`${classes.title} ${classes.title}`}\n          >\n            Branch\n          </Typography>\n          <ButtonSwitch<string>\n            values={branchValues}\n            selection={branch}\n            onChange={setBranch}\n          />\n          <Typography\n            variant=\"subtitle2\"\n            className={`${classes.title} ${classes.title}`}\n          >\n            Status\n          </Typography>\n          <ButtonSwitch<string>\n            values={statusValues}\n            multi\n            vertical\n            selection={selectedStatus}\n            onChange={setSelectedStatus}\n          />\n        </CardContent>\n      </Card>\n      <Card className={classes.rootCard}>\n        <CardHeader\n          title={\n            <Typography variant=\"subtitle2\" className={classes.header}>\n              View options\n            </Typography>\n          }\n        />\n        <CardContent>\n          <Toggle\n            checked={viewOptions.lowercaseNames}\n            setChecked={setLowercaseNames}\n          >\n            <Tooltip\n              arrow\n              title={\n                'Lowercasing names can reduce duplications ' +\n                'when stage names have changed casing'\n              }\n            >\n              <Label>Lowercase names</Label>\n            </Tooltip>\n          </Toggle>\n          <Toggle\n            checked={viewOptions.normalizeTimeRange}\n            setChecked={setNormalizeTimeRange}\n          >\n            <Tooltip\n              arrow\n              title={\n                'All charts will use the same x-axis. ' +\n                'This reduces confusion when stages have been altered over time ' +\n                'and only appear in a part of the time range.'\n              }\n            >\n              <Label>Normalize time range</Label>\n            </Tooltip>\n          </Toggle>\n          <DurationSlider\n            header=\"Hide under peak\"\n            value={viewOptions.hideLimit}\n            setValue={setHideLimit}\n          />\n          <DurationSlider\n            header=\"Collapse under peak\"\n            value={viewOptions.collapsedLimit}\n            setValue={setCollapseLimit}\n          />\n          <Typography\n            variant=\"subtitle2\"\n            className={`${classes.title} ${classes.title}`}\n          >\n            Chart styles\n          </Typography>\n          {inrefferedStatuses.map(status => (\n            <Grid key={status} container spacing={0}>\n              <Grid item>\n                <ButtonSwitch<ChartType>\n                  values={chartTypeValues}\n                  selection={viewOptions.chartTypes[status as FilterStatusType]}\n                  onChange={setChartTypeSpecific[status]}\n                  multi\n                />\n              </Grid>\n              <Grid item className={classes.buttonDescription}>\n                <div>{status}</div>\n              </Grid>\n            </Grid>\n          ))}\n        </CardContent>\n      </Card>\n    </MuiPickersUtilsProvider>\n  );\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { CSSProperties, DependencyList } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { Box, LinearProgress } from '@material-ui/core';\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent';\nimport TimelineDot, { TimelineDotProps } from '@material-ui/lab/TimelineDot';\nimport Alert from '@material-ui/lab/Alert';\nimport { useApp } from '@backstage/core-plugin-api';\n\nconst stepProgressStyle: CSSProperties = {\n  marginTop: 6,\n};\n\n// Matching react-use, only has loading/error/value\ntype AsyncState<T> =\n  | {\n      loading: boolean;\n      error?: undefined;\n      value?: undefined;\n    }\n  | {\n      loading: true;\n      error?: Error | undefined;\n      value?: T;\n    }\n  | {\n      loading: false;\n      error: Error;\n      value?: undefined;\n    }\n  | {\n      loading: false;\n      error?: undefined;\n      value: T;\n    };\n\nexport interface ProgressStep extends ProgessAsSingle {\n  title: string;\n}\nexport interface ProgessAsSteps {\n  steps: Array<ProgressStep>;\n}\nexport interface ProgessAsSingle<T = number> {\n  progress?: T;\n  progressBuffer?: T;\n}\n\nexport type ProgessState<T = number> =\n  | ProgessAsSingle<T>\n  | (T extends number ? ProgessAsSteps : { steps?: undefined });\n\nexport type ProgressAsLoading = ProgessState & {\n  loading: true;\n  error?: undefined;\n  value?: undefined;\n};\nexport type ProgressAsError = ProgessState<undefined> & {\n  loading?: false | undefined;\n  error: Error;\n  value?: undefined;\n};\nexport type ProgressAsValue<T> = ProgessState<undefined> & {\n  loading?: false | undefined;\n  error?: undefined;\n  value: T;\n};\n\n/**\n * An AsyncState but with the addition of progress (decimal 0-1) to allow\n * rendering a progress bar while waiting.\n */\nexport type ProgressType<T> =\n  | ProgressAsLoading\n  | ProgressAsError\n  | ProgressAsValue<T>;\n\nconst sentry = Symbol();\n\n/**\n * Casts an AsyncState or Progress into its non-succeeded sub types\n */\ntype Unsuccessful<S extends ProgressType<any> | AsyncState<any>> =\n  S extends ProgressType<any>\n    ? ProgressAsLoading | ProgressAsError\n    : Omit<AsyncState<any>, 'value'>;\n\n/**\n * Similar to useAsync except it \"waits\" for a dependent (upstream) async state\n * to finish first, otherwise it forwards the dependent pending state.\n *\n * When/if the dependent state has settled successfully, the callback will be\n * invoked for a new layer of async state with the dependent (upstream) success\n * result as argument.\n */\nexport function useAsyncChain<S extends ProgressType<any> | AsyncState<any>, R>(\n  parentState: S,\n  fn: (value: NonNullable<S['value']>) => Promise<R>,\n  deps: DependencyList,\n): Unsuccessful<S> | AsyncState<R> {\n  const childState = useAsync(\n    async () => (!parentState.value ? sentry : fn(parentState.value)),\n    [!parentState.error, !parentState.loading, parentState.value, ...deps],\n  );\n\n  if (!parentState.value) {\n    return parentState as Unsuccessful<S>;\n  } else if (childState.value === sentry) {\n    return { loading: true };\n  }\n  return childState as AsyncState<R>;\n}\n\nexport function renderFallbacks<T>(\n  state: ProgressType<T> | AsyncState<T>,\n  success: (value: T) => JSX.Element,\n): JSX.Element {\n  if (state.loading) {\n    return <ViewProgress state={state} />;\n  } else if (state.error) {\n    return <Alert severity=\"error\">{state.error.stack}</Alert>;\n  }\n\n  return success(state.value!);\n}\n\nexport function ViewProgress({\n  state,\n}: {\n  state: ProgressAsLoading | { loading: boolean };\n}) {\n  const { Progress } = useApp().getComponents();\n\n  const stateAsSingleProgress = state as ProgessAsSingle;\n  const stateAsStepProgress = state as ProgessAsSteps;\n\n  if (\n    !stateAsSingleProgress.progress &&\n    !stateAsSingleProgress.progressBuffer &&\n    !stateAsStepProgress.steps\n  ) {\n    // Simple spinner\n    return <Progress />;\n  } else if (stateAsSingleProgress.progress !== undefined) {\n    // Simple _single_ progress\n    return (\n      <Box sx={{ width: '100%' }}>\n        <LinearProgress\n          variant=\"buffer\"\n          value={(stateAsSingleProgress.progress ?? 0) * 100}\n          valueBuffer={(stateAsSingleProgress.progressBuffer ?? 0) * 100}\n        />\n      </Box>\n    );\n  }\n\n  // Multi-step progresses\n\n  return (\n    <Box sx={{ width: '100%' }}>\n      <Timeline>\n        {stateAsStepProgress.steps.map((step, index) => (\n          <TimelineItem key={index}>\n            <TimelineOppositeContent>{step.title}</TimelineOppositeContent>\n            <TimelineSeparator>\n              <TimelineDot color={getDotColor(step)} />\n              {index < stateAsStepProgress.steps.length - 1 ? (\n                <TimelineConnector />\n              ) : null}\n            </TimelineSeparator>\n            <TimelineContent>\n              {!step.progress && !step.progressBuffer ? null : (\n                <LinearProgress\n                  style={stepProgressStyle}\n                  variant=\"buffer\"\n                  value={(step.progress ?? 0) * 100}\n                  valueBuffer={(step.progressBuffer ?? 0) * 100}\n                />\n              )}\n            </TimelineContent>\n          </TimelineItem>\n        ))}\n      </Timeline>\n    </Box>\n  );\n}\n\nfunction getDotColor(step: ProgressStep): TimelineDotProps['color'] {\n  const progress = step.progress ?? 0;\n\n  if (progress >= 1) {\n    return 'primary';\n  } else if (progress > 0) {\n    return 'secondary';\n  }\n  return 'grey';\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FilterStatusType, statusTypes } from '../apis/types';\n\nexport function sortFilterStatusType<T extends FilterStatusType>(\n  statuses: ReadonlyArray<T>,\n): Array<T> {\n  const statusSet = new Set<T>(statuses);\n\n  const sorted = (['all', ...statusTypes] as Array<T>).filter((status: T) => {\n    if (statusSet.has(status)) {\n      statusSet.delete(status);\n      return true;\n    }\n    return false;\n  });\n\n  return [...sorted, ...statusSet];\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback, useState, useMemo, useEffect } from 'react';\nimport { Grid, makeStyles, Theme } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport { DateTime } from 'luxon';\n\nimport {\n  useCicdStatistics,\n  UseCicdStatisticsOptions,\n} from './hooks/use-cicd-statistics';\nimport { useCicdConfiguration } from './hooks/use-cicd-configuration';\nimport { buildsToChartableStages } from './charts/logic/conversions';\nimport { ZoomProvider, useZoom } from './charts/zoom';\nimport { StageChart } from './charts/stage-chart';\nimport { StatusChart } from './charts/status-chart';\nimport {\n  ChartFilter,\n  ChartFilters,\n  getDefaultChartFilter,\n  getDefaultViewOptions,\n  ViewOptions,\n} from './components/chart-filters';\nimport {\n  CicdConfiguration,\n  FilterStatusType,\n  FilterBranchType,\n} from './apis/types';\nimport { cleanupBuildTree } from './utils/stage-names';\nimport { renderFallbacks, useAsyncChain } from './components/progress';\nimport { sortFilterStatusType } from './utils/api';\n\nexport function EntityPageCicdCharts() {\n  const state = useCicdConfiguration();\n\n  return renderFallbacks(state, value => (\n    <ZoomProvider>\n      <CicdCharts cicdConfiguration={value} />\n    </ZoomProvider>\n  ));\n}\n\nconst useStyles = makeStyles<Theme>(\n  theme => ({\n    pane: {\n      padding: theme.spacing(1, 1, 1, 1),\n    },\n  }),\n  {\n    name: 'CicdStatisticsView',\n  },\n);\n\nfunction startOfDay(date: Date) {\n  return DateTime.fromJSDate(date).startOf('day').toJSDate();\n}\nfunction endOfDay(date: Date) {\n  return DateTime.fromJSDate(date).endOf('day').toJSDate();\n}\nfunction cleanChartFilter(filter: ChartFilter): ChartFilter {\n  return {\n    ...filter,\n    status: sortFilterStatusType(filter.status as FilterStatusType[]),\n  };\n}\n\ninterface CicdChartsProps {\n  cicdConfiguration: CicdConfiguration;\n}\n\nfunction CicdCharts(props: CicdChartsProps) {\n  const { cicdConfiguration } = props;\n\n  const errorApi = useApi(errorApiRef);\n  const { entity } = useEntity();\n\n  const classes = useStyles();\n\n  const { resetZoom } = useZoom();\n\n  const [chartFilter, setChartFilter] = useState(\n    getDefaultChartFilter(cicdConfiguration),\n  );\n  const [fetchedChartData, setFetchedChartData] = useState({\n    abortController: null as null | AbortController,\n    chartFilter,\n  });\n\n  const [viewOptions, setViewOptions] = useState(\n    getDefaultViewOptions(cicdConfiguration),\n  );\n\n  const fetchStatisticsOptions = useMemo((): UseCicdStatisticsOptions => {\n    const abortController = new AbortController();\n    fetchedChartData.abortController = abortController;\n    return {\n      abortController,\n      entity,\n      timeFrom: startOfDay(fetchedChartData.chartFilter.fromDate),\n      timeTo: endOfDay(fetchedChartData.chartFilter.toDate),\n      filterStatus: fetchedChartData.chartFilter.status as FilterStatusType[],\n      filterType: fetchedChartData.chartFilter.branch as FilterBranchType,\n    };\n  }, [entity, fetchedChartData]);\n\n  const statisticsState = useCicdStatistics(fetchStatisticsOptions);\n\n  const updateFilter = useCallback(() => {\n    // Abort previous fetch\n    fetchedChartData.abortController?.abort();\n\n    setFetchedChartData({ abortController: null, chartFilter });\n  }, [fetchedChartData, setFetchedChartData, chartFilter]);\n\n  const chartableStagesState = useAsyncChain(\n    statisticsState,\n    async value =>\n      buildsToChartableStages(\n        await cleanupBuildTree(value.builds, {\n          formatStageName: cicdConfiguration.formatStageName,\n          lowerCase: viewOptions.lowercaseNames,\n        }),\n        { normalizeTimeRange: viewOptions.normalizeTimeRange },\n      ),\n    [statisticsState, cicdConfiguration, viewOptions],\n  );\n\n  useEffect(() => {\n    resetZoom();\n  }, [resetZoom, statisticsState.value]);\n\n  const onFilterChange = useCallback((filter: ChartFilter) => {\n    setChartFilter(cleanChartFilter(filter));\n  }, []);\n\n  const onViewOptionsChange = useCallback(\n    (options: ViewOptions) => {\n      setViewOptions(options);\n    },\n    [setViewOptions],\n  );\n\n  useEffect(() => {\n    if (\n      !chartableStagesState.error ||\n      chartableStagesState.error?.name === 'AbortError'\n    ) {\n      return;\n    }\n    errorApi.post(chartableStagesState.error);\n  }, [errorApi, chartableStagesState.error]);\n\n  return (\n    <Grid container>\n      <Grid item lg={2} className={classes.pane}>\n        <ChartFilters\n          analysis={chartableStagesState.value}\n          cicdConfiguration={cicdConfiguration}\n          initialFetchFilter={chartFilter}\n          currentFetchFilter={fetchedChartData.chartFilter}\n          onChangeFetchFilter={onFilterChange}\n          updateFetchFilter={updateFilter}\n          initialViewOptions={viewOptions}\n          onChangeViewOptions={onViewOptionsChange}\n        />\n      </Grid>\n      <Grid item xs={12} lg={10} className={classes.pane}>\n        {renderFallbacks(chartableStagesState, chartableStages => (\n          <>\n            {chartableStages.stages.size > 0 ? null : (\n              <Alert severity=\"info\">No data</Alert>\n            )}\n            {!statisticsState.value?.builds?.length ||\n            !chartableStagesState.value?.daily?.values?.length ? null : (\n              <StatusChart analysis={chartableStagesState.value} />\n            )}\n            <StageChart\n              stage={chartableStages.total}\n              defaultCollapsed={0}\n              defaultHidden={viewOptions.hideLimit}\n              chartTypes={viewOptions.chartTypes}\n            />\n            {[...chartableStages.stages.entries()].map(([name, stage]) => (\n              <StageChart\n                key={name}\n                stage={stage}\n                defaultCollapsed={viewOptions.collapsedLimit}\n                defaultHidden={viewOptions.hideLimit}\n                chartTypes={viewOptions.chartTypes}\n              />\n            ))}\n          </>\n        ))}\n      </Grid>\n    </Grid>\n  );\n}\n"],"names":["startOfDay","Tooltip","useStyles","Alert"],"mappings":"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"}