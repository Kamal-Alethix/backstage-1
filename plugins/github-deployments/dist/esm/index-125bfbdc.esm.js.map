{"version":3,"file":"index-125bfbdc.esm.js","sources":["../../src/api/index.ts","../../src/plugin.ts","../../src/components/GithubDeploymentsTable/columns.tsx","../../src/components/GithubDeploymentsTable/presets.ts","../../src/components/GithubDeploymentsTable/GithubDeploymentsTable.tsx","../../src/Router.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { parseLocationRef } from '@backstage/catalog-model';\nimport { InputError } from '@backstage/errors';\nimport { ScmIntegrationRegistry } from '@backstage/integration';\nimport { graphql } from '@octokit/graphql';\nimport { createApiRef, OAuthApi } from '@backstage/core-plugin-api';\n\nconst getBaseUrl = (\n  scmIntegrationsApi: ScmIntegrationRegistry,\n  host: string | undefined,\n): string => {\n  if (host === undefined) {\n    return 'https://api.github.com';\n  }\n\n  const location = parseLocationRef(host);\n  if (location.type !== 'url') {\n    return 'https://api.github.com';\n  }\n\n  const config = scmIntegrationsApi.github.byUrl(location.target);\n\n  if (!config) {\n    throw new InputError(\n      `No matching GitHub integration configuration for host ${\n        new URL(location.target).hostname\n      }, please check your integrations config`,\n    );\n  }\n\n  if (!config.config.apiBaseUrl) {\n    throw new InputError(\n      `No apiBaseUrl available for host ${\n        new URL(location.target).hostname\n      }, please check your integrations config`,\n    );\n  }\n\n  return config?.config.apiBaseUrl;\n};\n\ntype Node = {\n  logUrl?: string;\n};\n\nexport type GithubDeployment = {\n  environment: string;\n  state: string;\n  updatedAt: string;\n  commit: {\n    abbreviatedOid: string;\n    commitUrl: string;\n  } | null;\n  statuses: {\n    nodes: Node[];\n  };\n  creator: {\n    login: string;\n  };\n  repository: {\n    nameWithOwner: string;\n  };\n  payload: string;\n};\n\ntype QueryParams = {\n  host: string | undefined;\n  owner: string;\n  repo: string;\n  last: number;\n  lastStatuses: number;\n};\n\nexport interface GithubDeploymentsApi {\n  listDeployments(params: QueryParams): Promise<GithubDeployment[]>;\n}\n\nexport const githubDeploymentsApiRef = createApiRef<GithubDeploymentsApi>({\n  id: 'plugin.github-deployments.service',\n});\n\nexport type Options = {\n  githubAuthApi: OAuthApi;\n  scmIntegrationsApi: ScmIntegrationRegistry;\n};\n\nconst deploymentsQuery = `\nquery deployments($owner: String!, $repo: String!, $last: Int, $lastStatuses: Int) {\n  repository(owner: $owner, name: $repo) {\n    deployments(last: $last) {\n      nodes {\n        state\n        environment\n        updatedAt\n        commit {\n          abbreviatedOid\n          commitUrl\n        }\n        statuses(last: $lastStatuses) {\n          nodes {\n            logUrl\n          }\n        }\n        creator {\n          login\n        }\n        repository {\n          nameWithOwner\n        }\n        payload\n      }\n    }\n  }\n}\n`;\n\nexport type QueryResponse = {\n  repository?: {\n    deployments?: {\n      nodes?: GithubDeployment[];\n    };\n  };\n};\n\nexport class GithubDeploymentsApiClient implements GithubDeploymentsApi {\n  private readonly githubAuthApi: OAuthApi;\n  private readonly scmIntegrationsApi: ScmIntegrationRegistry;\n\n  constructor(options: Options) {\n    this.githubAuthApi = options.githubAuthApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n  }\n\n  async listDeployments(params: QueryParams): Promise<GithubDeployment[]> {\n    const baseUrl = getBaseUrl(this.scmIntegrationsApi, params.host);\n    const token = await this.githubAuthApi.getAccessToken(['repo']);\n\n    const graphQLWithAuth = graphql.defaults({\n      baseUrl,\n      headers: {\n        authorization: `token ${token}`,\n      },\n    });\n\n    const response: QueryResponse = await graphQLWithAuth(\n      deploymentsQuery,\n      params,\n    );\n    return response.repository?.deployments?.nodes?.reverse() || [];\n  }\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { githubDeploymentsApiRef, GithubDeploymentsApiClient } from './api';\nimport {\n  createApiFactory,\n  createComponentExtension,\n  createPlugin,\n  githubAuthApiRef,\n} from '@backstage/core-plugin-api';\n\nexport const githubDeploymentsPlugin = createPlugin({\n  id: 'github-deployments',\n  apis: [\n    createApiFactory({\n      api: githubDeploymentsApiRef,\n      deps: {\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        githubAuthApi: githubAuthApiRef,\n      },\n      factory: ({ scmIntegrationsApi, githubAuthApi }) =>\n        new GithubDeploymentsApiClient({ scmIntegrationsApi, githubAuthApi }),\n    }),\n  ],\n});\n\nexport const EntityGithubDeploymentsCard = githubDeploymentsPlugin.provide(\n  createComponentExtension({\n    name: 'EntityGithubDeploymentsCard',\n    component: {\n      lazy: () =>\n        import('./components/GithubDeploymentsCard').then(\n          m => m.GithubDeploymentsCard,\n        ),\n    },\n  }),\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { GithubDeployment } from '../../api';\nimport { DateTime } from 'luxon';\nimport { Box, Typography } from '@material-ui/core';\nimport {\n  StatusPending,\n  StatusRunning,\n  StatusOK,\n  TableColumn,\n  StatusAborted,\n  StatusError,\n  Link,\n} from '@backstage/core-components';\n\nexport const GithubStateIndicator = (props: { state: string }) => {\n  switch (props.state) {\n    case 'PENDING':\n      return <StatusPending />;\n    case 'IN_PROGRESS':\n      return <StatusRunning />;\n    case 'ACTIVE':\n      return <StatusOK />;\n    case 'ERROR':\n    case 'FAILURE':\n      return <StatusError />;\n    default:\n      return <StatusAborted />;\n  }\n};\n\nexport function createEnvironmentColumn(): TableColumn<GithubDeployment> {\n  return {\n    title: 'Environment',\n    field: 'environment',\n    highlight: true,\n  };\n}\n\nexport function createStatusColumn(): TableColumn<GithubDeployment> {\n  return {\n    title: 'Status',\n    render: (row: GithubDeployment): JSX.Element => (\n      <Box display=\"flex\" alignItems=\"center\">\n        <GithubStateIndicator state={row.state} />\n        <Typography variant=\"caption\">{row.state}</Typography>\n      </Box>\n    ),\n  };\n}\n\nexport function createCommitColumn(): TableColumn<GithubDeployment> {\n  return {\n    title: 'Commit',\n    render: (row: GithubDeployment) =>\n      row.commit && (\n        <Link to={row.commit.commitUrl} target=\"_blank\" rel=\"noopener\">\n          {row.commit.abbreviatedOid}\n        </Link>\n      ),\n  };\n}\n\nexport function createCreatorColumn(): TableColumn<GithubDeployment> {\n  return {\n    title: 'Creator',\n    field: 'creator.login',\n  };\n}\n\nexport function createLastUpdatedColumn(): TableColumn<GithubDeployment> {\n  return {\n    title: 'Last Updated',\n    render: (row: GithubDeployment): JSX.Element => (\n      <Box>{DateTime.fromISO(row.updatedAt).toRelative({ locale: 'en' })}</Box>\n    ),\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { GithubDeployment } from '../../api';\nimport {\n  createEnvironmentColumn,\n  createStatusColumn,\n  createCommitColumn,\n  createLastUpdatedColumn,\n  createCreatorColumn,\n} from './columns';\nimport { TableColumn } from '@backstage/core-components';\n\nexport const defaultDeploymentColumns: TableColumn<GithubDeployment>[] = [\n  createEnvironmentColumn(),\n  createStatusColumn(),\n  createCommitColumn(),\n  createCreatorColumn(),\n  createLastUpdatedColumn(),\n];\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { GithubDeployment } from '../../api';\nimport { Typography, makeStyles } from '@material-ui/core';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport * as columnFactories from './columns';\nimport { defaultDeploymentColumns } from './presets';\nimport { Table, TableColumn } from '@backstage/core-components';\n\nconst useStyles = makeStyles(theme => ({\n  empty: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'center',\n  },\n}));\n\ntype GithubDeploymentsTableProps = {\n  deployments: GithubDeployment[];\n  isLoading: boolean;\n  reload: () => void;\n  columns: TableColumn<GithubDeployment>[];\n};\n\nexport function GithubDeploymentsTable(props: GithubDeploymentsTableProps) {\n  const { deployments, isLoading, reload, columns } = props;\n  const classes = useStyles();\n\n  return (\n    <Table\n      columns={columns}\n      options={{ padding: 'dense', paging: true, search: false, pageSize: 5 }}\n      title=\"GitHub Deployments\"\n      data={deployments}\n      isLoading={isLoading}\n      actions={[\n        {\n          icon: () => <SyncIcon />,\n          tooltip: 'Reload',\n          isFreeAction: true,\n          onClick: () => reload(),\n        },\n      ]}\n      emptyContent={\n        <div className={classes.empty}>\n          <Typography variant=\"body1\">\n            No deployments found for this entity.\n          </Typography>\n        </div>\n      }\n    />\n  );\n}\n\nGithubDeploymentsTable.columns = columnFactories;\n\nGithubDeploymentsTable.defaultDeploymentColumns = defaultDeploymentColumns;\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Entity } from '@backstage/catalog-model';\n\nexport const GITHUB_PROJECT_SLUG_ANNOTATION = 'github.com/project-slug';\n\nexport const isGithubDeploymentsAvailable = (entity: Entity) =>\n  Boolean(entity?.metadata.annotations?.[GITHUB_PROJECT_SLUG_ANNOTATION]);\n"],"names":[],"mappings":"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"}