{"version":3,"file":"index-ef113565.esm.js","sources":["../../src/hooks/useCalendarsQuery.ts","../../src/hooks/useEventsQuery.ts","../../src/hooks/useSignIn.ts","../../src/hooks/useStoredCalendars.ts","../../src/components/CalendarCard/AttendeeChip.tsx","../../src/components/CalendarCard/util.ts","../../src/components/CalendarCard/CalendarEventPopoverContent.tsx","../../src/components/CalendarCard/CalendarEvent.tsx","../../src/components/CalendarCard/CalendarSelect.tsx","../../src/components/CalendarCard/signInEventMock.ts","../../src/components/CalendarCard/SignInContent.tsx","../../src/components/CalendarCard/CalendarCard.tsx","../../src/components/CalendarCard/HomePageCalendar.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useQuery } from 'react-query';\n\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\n\nimport { gcalendarApiRef } from '../api';\n\ntype Options = {\n  enabled: boolean;\n  refreshTime?: number;\n};\n\nexport const useCalendarsQuery = ({ enabled }: Options) => {\n  const calendarApi = useApi(gcalendarApiRef);\n  const errorApi = useApi(errorApiRef);\n\n  return useQuery(\n    ['calendars'],\n    async () => {\n      const calendars = [];\n      let token = '';\n      do {\n        const { nextPageToken = '', items = [] } =\n          await calendarApi.getCalendars({\n            maxResults: 100,\n            minAccessRole: 'reader',\n            pageToken: token,\n          });\n        token = nextPageToken;\n        calendars.push(...items);\n      } while (token);\n\n      return calendars;\n    },\n    {\n      enabled,\n      keepPreviousData: true,\n      refetchInterval: 3600000,\n      onError: () => {\n        errorApi.post({\n          name: 'API error',\n          message: 'Failed to fetch calendars.',\n        });\n      },\n    },\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { compact, unescape } from 'lodash';\nimport { useMemo } from 'react';\nimport { useQueries } from 'react-query';\n\nimport { useApi } from '@backstage/core-plugin-api';\n\nimport { gcalendarApiRef } from '../api';\nimport { GCalendar, GCalendarEvent } from '../api';\n\ntype Options = {\n  selectedCalendars?: string[];\n  timeMin: string;\n  timeMax: string;\n  enabled: boolean;\n  calendars: GCalendar[];\n  timeZone: string;\n  refreshTime?: number;\n};\n\nexport const useEventsQuery = ({\n  selectedCalendars = [],\n  calendars = [],\n  enabled,\n  timeMin,\n  timeMax,\n  timeZone,\n}: Options) => {\n  const calendarApi = useApi(gcalendarApiRef);\n  const eventQueries = useQueries(\n    selectedCalendars\n      .filter(id => calendars.find(c => c.id === id))\n      .map(calendarId => {\n        const calendar = calendars.find(c => c.id === calendarId);\n\n        return {\n          queryKey: ['calendarEvents', calendarId, timeMin, timeMax],\n          enabled,\n          initialData: [],\n          refetchInterval: 60000,\n          refetchIntervalInBackground: true,\n          queryFn: async (): Promise<GCalendarEvent[]> => {\n            const data = await calendarApi.getEvents(calendarId, {\n              calendarId,\n              timeMin,\n              timeMax,\n              showDeleted: false,\n              singleEvents: true,\n              maxResults: 100,\n              orderBy: 'startTime',\n              timeZone,\n            });\n\n            return (data.items || []).map(event => {\n              const responseStatus = event.attendees?.find(\n                a => !!a.self,\n              )?.responseStatus;\n\n              return {\n                ...event,\n                summary: unescape(event.summary || ''),\n                calendarId,\n                backgroundColor: calendar?.backgroundColor,\n                primary: !!calendar?.primary,\n                responseStatus,\n              };\n            });\n          },\n        };\n      }),\n  );\n\n  const events = useMemo(\n    () => compact(eventQueries.map(({ data }) => data).flat()),\n    [eventQueries],\n  );\n\n  const isLoading =\n    !!eventQueries.find(q => q.isFetching) && events.length === 0;\n\n  return { events, isLoading };\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useCallback, useState } from 'react';\n\nimport { googleAuthApiRef, useApi } from '@backstage/core-plugin-api';\n\nexport const useSignIn = () => {\n  const [isSignedIn, setSignedIn] = useState(false);\n  const [isInitialized, setInitialized] = useState(false);\n  const authApi = useApi(googleAuthApiRef);\n\n  const signIn = useCallback(\n    async (optional = false) => {\n      const token = await authApi.getAccessToken(\n        'https://www.googleapis.com/auth/calendar.readonly',\n        {\n          optional,\n          instantPopup: !optional,\n        },\n      );\n\n      setSignedIn(!!token);\n      setInitialized(true);\n    },\n    [authApi, setSignedIn],\n  );\n\n  return { isSignedIn, isInitialized, signIn };\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useApi, storageApiRef } from '@backstage/core-plugin-api';\nimport useObservable from 'react-use/lib/useObservable';\n\nimport { gcalendarPlugin } from '../plugin';\n\nexport enum LocalStorageKeys {\n  selectedCalendars = 'google_calendars_selected',\n}\n\nexport function useStoredCalendars(\n  defaultValue: string[],\n): [string[], (value: string[]) => void] {\n  const storageBucket = gcalendarPlugin.getId();\n  const storageKey = LocalStorageKeys.selectedCalendars;\n  const storageApi = useApi(storageApiRef).forBucket(storageBucket);\n  const setValue = (value: string[]) => {\n    storageApi.set(storageKey, value);\n  };\n  const snapshot = useObservable(\n    storageApi.observe$<string[]>(storageKey),\n    storageApi.snapshot(storageKey),\n  );\n  let result: string[];\n  if (snapshot.presence === 'absent') {\n    result = defaultValue;\n  } else {\n    result = snapshot.value!;\n  }\n  return [result, setValue];\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nimport { BackstageTheme } from '@backstage/theme';\n\nimport { Badge, Chip, makeStyles } from '@material-ui/core';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CheckIcon from '@material-ui/icons/CheckCircle';\n\nimport { EventAttendee, ResponseStatus } from '../../api';\n\nconst useStyles = makeStyles((theme: BackstageTheme) => {\n  const getIconColor = (responseStatus?: string) => {\n    if (!responseStatus) return theme.palette.primary.light;\n\n    return {\n      [ResponseStatus.accepted]: theme.palette.status.ok,\n      [ResponseStatus.declined]: theme.palette.status.error,\n    }[responseStatus];\n  };\n\n  return {\n    responseStatus: {\n      color: ({ responseStatus }: { responseStatus?: string }) =>\n        getIconColor(responseStatus),\n    },\n    badge: {\n      right: 10,\n      top: 5,\n      '& svg': {\n        height: 16,\n        width: 16,\n        background: '#fff',\n      },\n    },\n  };\n});\n\nconst ResponseIcon = ({ responseStatus }: any) => {\n  if (responseStatus === ResponseStatus.accepted) {\n    return <CheckIcon data-testid=\"accepted-icon\" />;\n  }\n  if (responseStatus === ResponseStatus.declined) {\n    return <CancelIcon data-testid=\"declined-icon\" />;\n  }\n\n  return null;\n};\n\ntype AttendeeChipProps = {\n  user: EventAttendee;\n};\n\nexport const AttendeeChip = ({ user }: AttendeeChipProps) => {\n  const classes = useStyles({ responseStatus: user.responseStatus });\n\n  return (\n    <Badge\n      classes={{\n        root: classes.responseStatus,\n        badge: classes.badge,\n      }}\n      badgeContent={<ResponseIcon responseStatus={user.responseStatus} />}\n    >\n      <Chip\n        size=\"small\"\n        variant=\"outlined\"\n        label={user.email}\n        color=\"primary\"\n      />\n    </Badge>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DateTime } from 'luxon';\n\nimport { GCalendarEvent } from '../../api';\n\nexport function getZoomLink(event: GCalendarEvent) {\n  const videoEntrypoint = event.conferenceData?.entryPoints?.find(\n    e => e.entryPointType === 'video',\n  );\n\n  return videoEntrypoint?.uri ?? '';\n}\n\nexport function getTimePeriod(event: GCalendarEvent) {\n  if (isAllDay(event)) {\n    return getAllDayTimePeriod(event);\n  }\n\n  const format: Intl.DateTimeFormatOptions = {\n    hour: '2-digit',\n    minute: '2-digit',\n  };\n\n  const startTime = DateTime.fromISO(event.start?.dateTime || '');\n  const endTime = DateTime.fromISO(event.end?.dateTime || '');\n\n  return `${startTime.toLocaleString(format)} - ${endTime.toLocaleString(\n    format,\n  )}`;\n}\n\nfunction getAllDayTimePeriod(event: GCalendarEvent) {\n  const format: Intl.DateTimeFormatOptions = { month: 'long', day: 'numeric' };\n  const startTime = DateTime.fromISO(\n    event.start?.dateTime || event.start?.date || '',\n  );\n  const endTime = DateTime.fromISO(\n    event.end?.dateTime || event.end?.date || '',\n  ).minus({ day: 1 });\n\n  if (startTime.toISO() === endTime.toISO()) {\n    return startTime.toLocaleString(format);\n  }\n\n  return `${startTime.toLocaleString(format)} - ${endTime.toLocaleString(\n    format,\n  )}`;\n}\n\nexport function isPassed(event: GCalendarEvent) {\n  if (!event.end?.dateTime && !event.end?.date) return false;\n  const eventDate = DateTime.fromISO(event.end?.dateTime || event.end?.date!);\n  return DateTime.now() >= eventDate;\n}\n\nexport function isAllDay(event: GCalendarEvent) {\n  if (event.start?.date || event.end?.date) {\n    return true;\n  }\n  const startTime = DateTime.fromISO(event.start?.dateTime || '');\n  const endTime = DateTime.fromISO(event.end?.dateTime || '');\n\n  return endTime.diff(startTime, 'day').days >= 1;\n}\n\nexport function getStartDate(event: GCalendarEvent) {\n  return DateTime.fromISO(event.start?.dateTime || event.start?.date || '');\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { sortBy } from 'lodash';\nimport React from 'react';\nimport DOMPurify from 'dompurify';\n\nimport { useAnalytics } from '@backstage/core-plugin-api';\n\nimport {\n  Box,\n  Divider,\n  IconButton,\n  Link,\n  Tooltip,\n  Typography,\n  makeStyles,\n} from '@material-ui/core';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\nimport { AttendeeChip } from './AttendeeChip';\nimport { GCalendarEvent } from '../../api';\nimport { getTimePeriod, getZoomLink } from './util';\n\nconst useStyles = makeStyles(\n  theme => {\n    return {\n      description: {\n        wordBreak: 'break-word',\n        '& a': {\n          color: theme.palette.primary.main,\n          fontWeight: 500,\n        },\n      },\n      divider: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n      },\n    };\n  },\n  {\n    name: 'GCalendarEventPopoverContent',\n  },\n);\n\ntype CalendarEventPopoverProps = {\n  event: GCalendarEvent;\n};\n\nexport const CalendarEventPopoverContent = ({\n  event,\n}: CalendarEventPopoverProps) => {\n  const classes = useStyles({ event });\n  const analytics = useAnalytics();\n  const zoomLink = getZoomLink(event);\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" width={400} p={2}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <Box flex={1}>\n          <Typography variant=\"h6\">{event.summary}</Typography>\n          <Typography variant=\"subtitle2\">{getTimePeriod(event)}</Typography>\n        </Box>\n        {event.htmlLink && (\n          <Tooltip title=\"Open in Calendar\">\n            <Link\n              data-testid=\"open-calendar-link\"\n              href={event.htmlLink}\n              target=\"_blank\"\n              onClick={_e =>\n                analytics.captureEvent('click', 'open in calendar')\n              }\n            >\n              <IconButton>\n                <ArrowForwardIcon />\n              </IconButton>\n            </Link>\n          </Tooltip>\n        )}\n      </Box>\n      {zoomLink && (\n        <Link\n          href={zoomLink}\n          target=\"_blank\"\n          onClick={_e => analytics.captureEvent('click', 'zoom link')}\n        >\n          Join Zoom Meeting\n        </Link>\n      )}\n\n      {event.description && (\n        <>\n          <Divider className={classes.divider} variant=\"fullWidth\" />\n          <Box\n            className={classes.description}\n            dangerouslySetInnerHTML={{\n              __html: DOMPurify.sanitize(event.description, {\n                USE_PROFILES: { html: true },\n              }),\n            }}\n          />\n        </>\n      )}\n\n      {event.attendees && (\n        <>\n          <Divider className={classes.divider} variant=\"fullWidth\" />\n          <Box>\n            <Typography variant=\"subtitle2\">Attendees</Typography>\n            <Box mb={1} />\n            {sortBy(event.attendees || [], 'email').map(user => (\n              <AttendeeChip key={user.email} user={user} />\n            ))}\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport classnames from 'classnames';\nimport {\n  bindPopover,\n  bindTrigger,\n  usePopupState,\n} from 'material-ui-popup-state/hooks';\nimport React, { useState } from 'react';\n\nimport { useAnalytics } from '@backstage/core-plugin-api';\n\nimport {\n  Box,\n  Link,\n  Paper,\n  Popover,\n  Tooltip,\n  Typography,\n  makeStyles,\n} from '@material-ui/core';\n\nimport zoomIcon from '../../icons/zoomIcon.svg';\nimport { CalendarEventPopoverContent } from './CalendarEventPopoverContent';\nimport { GCalendarEvent, ResponseStatus } from '../../api';\nimport { getTimePeriod, getZoomLink, isAllDay, isPassed } from './util';\n\nconst useStyles = makeStyles(\n  theme => ({\n    event: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: theme.spacing(1),\n      cursor: 'pointer',\n      paddingRight: 12,\n    },\n    declined: {\n      textDecoration: 'line-through',\n    },\n    passed: {\n      opacity: 0.6,\n      transition: 'opacity 0.15s ease-in-out',\n      '&:hover': {\n        opacity: 1,\n      },\n    },\n    link: {\n      width: 48,\n      height: 48,\n      display: 'inline-block',\n      padding: 8,\n      borderRadius: '50%',\n      '&:hover': {\n        backgroundColor: theme.palette.grey[100],\n      },\n    },\n    calendarColor: ({ event }: { event: GCalendarEvent }) => ({\n      width: 8,\n      borderTopLeftRadius: 4,\n      borderBottomLeftRadius: 4,\n      backgroundColor: event.primary\n        ? theme.palette.primary.light\n        : event.backgroundColor,\n    }),\n  }),\n  {\n    name: 'GCalendarEvent',\n  },\n);\n\nexport const CalendarEvent = ({ event }: { event: GCalendarEvent }) => {\n  const classes = useStyles({ event });\n  const popoverState = usePopupState({\n    variant: 'popover',\n    popupId: event.id,\n    disableAutoFocus: true,\n  });\n  const [hovered, setHovered] = useState(false);\n  const analytics = useAnalytics();\n  const zoomLink = getZoomLink(event);\n\n  const { onClick, ...restBindProps } = bindTrigger(popoverState);\n\n  return (\n    <>\n      <Paper\n        onClick={e => {\n          onClick(e);\n          analytics.captureEvent('click', 'event info');\n        }}\n        {...restBindProps}\n        onMouseEnter={() => setHovered(true)}\n        onMouseLeave={() => setHovered(false)}\n        elevation={hovered ? 4 : 1}\n        className={classnames(classes.event, {\n          [classes.passed]: isPassed(event),\n        })}\n        data-testid=\"calendar-event\"\n      >\n        <Box className={classes.calendarColor} mr={1} alignSelf=\"stretch\" />\n        <Box flex={1} pt={1} pb={1}>\n          <Typography\n            variant=\"subtitle2\"\n            className={classnames({\n              [classes.declined]:\n                event.responseStatus === ResponseStatus.declined,\n            })}\n          >\n            {event.summary}\n          </Typography>\n          {!isAllDay(event) && (\n            <Typography variant=\"body2\" data-testid=\"calendar-event-time\">\n              {getTimePeriod(event)}\n            </Typography>\n          )}\n        </Box>\n\n        {zoomLink && (\n          <Tooltip title=\"Join Zoom Meeting\">\n            <Link\n              data-testid=\"calendar-event-zoom-link\"\n              className={classes.link}\n              href={zoomLink}\n              target=\"_blank\"\n              onClick={e => {\n                e.stopPropagation();\n                analytics.captureEvent('click', 'zoom link');\n              }}\n            >\n              <img src={zoomIcon} alt=\"Zoom link\" />\n            </Link>\n          </Tooltip>\n        )}\n      </Paper>\n\n      <Popover\n        {...bindPopover(popoverState)}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        data-testid=\"calendar-event-popover\"\n      >\n        <CalendarEventPopoverContent event={event} />\n      </Popover>\n    </>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { sortBy } from 'lodash';\nimport React from 'react';\n\nimport {\n  Checkbox,\n  FormControl,\n  Input,\n  ListItemText,\n  MenuItem,\n  Select,\n  Typography,\n  makeStyles,\n} from '@material-ui/core';\n\nimport { GCalendar } from '../../api';\n\nconst useStyles = makeStyles(\n  {\n    formControl: {\n      width: 120,\n    },\n    selectedCalendars: {\n      textOverflow: 'ellipsis',\n      overflow: 'hidden',\n    },\n  },\n  {\n    name: 'GCalendarSelect',\n  },\n);\n\ntype CalendarSelectProps = {\n  disabled: boolean;\n  selectedCalendars?: string[];\n  setSelectedCalendars: (value: string[]) => void;\n  calendars: GCalendar[];\n};\n\nexport const CalendarSelect = ({\n  disabled,\n  selectedCalendars = [],\n  setSelectedCalendars,\n  calendars,\n}: CalendarSelectProps) => {\n  const classes = useStyles();\n\n  return (\n    <FormControl className={classes.formControl}>\n      <Select\n        labelId=\"calendars-label\"\n        disabled={disabled || calendars.length === 0}\n        multiple\n        value={selectedCalendars}\n        onChange={async e => setSelectedCalendars(e.target.value as string[])}\n        input={<Input />}\n        renderValue={selected => (\n          <Typography className={classes.selectedCalendars} variant=\"body2\">\n            {calendars\n              .filter(c => c.id && (selected as string[]).includes(c.id))\n              .map(c => c.summary)\n              .join(', ')}\n          </Typography>\n        )}\n        MenuProps={{\n          PaperProps: {\n            style: {\n              width: 350,\n            },\n          },\n        }}\n      >\n        {sortBy(calendars, 'summary').map(c => (\n          <MenuItem key={c.id} value={c.id}>\n            <Checkbox checked={selectedCalendars.includes(c.id!)} />\n            <ListItemText primary={c.summary} />\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { GCalendarEvent } from '../../api';\n\nexport const eventsMock: GCalendarEvent[] = [\n  {\n    id: '1',\n    htmlLink: 'https://www.google.com/calendar/',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T09:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T10:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n  },\n  {\n    id: '2',\n    htmlLink: 'https://www.google.com/calendar/',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T10:30:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T10:45:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n        },\n      ],\n    },\n  },\n  {\n    id: '3',\n    htmlLink: 'https://www.google.com/calendar',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T12:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T13:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n          label: 'zoom.us',\n        },\n      ],\n    },\n  },\n  {\n    id: '4',\n    htmlLink: 'https://www.google.com/calendar',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T15:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T16:30:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n        },\n      ],\n    },\n  },\n  {\n    id: '5',\n    htmlLink: 'https://www.google.com/calendar',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T17:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T17:30:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n        },\n      ],\n    },\n  },\n];\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nimport { Box, Button, styled } from '@material-ui/core';\n\nimport { CalendarEvent } from './CalendarEvent';\nimport { eventsMock } from './signInEventMock';\nimport { GCalendarEvent } from '../..';\n\ntype Props = {\n  handleAuthClick: React.MouseEventHandler<HTMLElement>;\n  events?: GCalendarEvent[];\n};\n\nconst TransparentBox = styled(Box)({\n  opacity: 0.3,\n  filter: 'blur(1.5px)',\n});\n\nexport const SignInContent = ({\n  handleAuthClick,\n  events = eventsMock,\n}: Props) => {\n  return (\n    <Box position=\"relative\" height=\"100%\" width=\"100%\">\n      <TransparentBox p={1}>\n        {events.map(event => (\n          <CalendarEvent key={event.id} event={event} />\n        ))}\n      </TransparentBox>\n\n      <Box\n        height=\"100%\"\n        width=\"100%\"\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        position=\"absolute\"\n        left={0}\n        top={0}\n      >\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleAuthClick}\n          size=\"large\"\n        >\n          Sign in\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { sortBy } from 'lodash';\nimport { DateTime } from 'luxon';\nimport React, { useEffect, useState } from 'react';\n\nimport { InfoCard, Progress } from '@backstage/core-components';\nimport { useAnalytics } from '@backstage/core-plugin-api';\n\nimport { Box, IconButton, Typography } from '@material-ui/core';\nimport PrevIcon from '@material-ui/icons/NavigateBefore';\nimport NextIcon from '@material-ui/icons/NavigateNext';\n\nimport {\n  useCalendarsQuery,\n  useEventsQuery,\n  useSignIn,\n  useStoredCalendars,\n} from '../../hooks';\nimport calendarCardIcon from '../../icons/calendarIcon.svg';\nimport { CalendarEvent } from './CalendarEvent';\nimport { CalendarSelect } from './CalendarSelect';\nimport { SignInContent } from './SignInContent';\nimport { getStartDate } from './util';\n\nexport const CalendarCard = () => {\n  const [date, setDate] = useState(DateTime.now());\n  const analytics = useAnalytics();\n\n  const changeDay = (offset = 1) => {\n    setDate(prev => prev.plus({ day: offset }));\n    analytics.captureEvent('click', 'change date');\n  };\n\n  const { isSignedIn, isInitialized, signIn } = useSignIn();\n\n  useEffect(() => {\n    signIn(true);\n  }, [signIn]);\n\n  const { isLoading: isCalendarLoading, data: calendars = [] } =\n    useCalendarsQuery({\n      enabled: isSignedIn,\n    });\n  const primaryCalendarId = calendars.find(c => c.primary === true)?.id;\n  const defaultSelectedCalendars = primaryCalendarId ? [primaryCalendarId] : [];\n  const [storedCalendars, setStoredCalendars] = useStoredCalendars(\n    defaultSelectedCalendars,\n  );\n\n  const { events, isLoading: isEventLoading } = useEventsQuery({\n    calendars,\n    selectedCalendars: storedCalendars,\n    enabled: isSignedIn && calendars.length > 0,\n    timeMin: date.startOf('day').toISO(),\n    timeMax: date.endOf('day').toISO(),\n    timeZone: date.zoneName,\n  });\n\n  return (\n    <InfoCard\n      noPadding\n      title={\n        <Box display=\"flex\" alignItems=\"center\">\n          <Box height={24} width={24} mr={1}>\n            <img src={calendarCardIcon} alt=\"Google Calendar\" />\n          </Box>\n          {isSignedIn ? (\n            <>\n              <IconButton onClick={() => changeDay(-1)} size=\"small\">\n                <PrevIcon />\n              </IconButton>\n              <IconButton onClick={() => changeDay(1)} size=\"small\">\n                <NextIcon />\n              </IconButton>\n              <Box mr={0.5} />\n              <Typography variant=\"h6\">\n                {date.toLocaleString({\n                  weekday: 'short',\n                  month: 'short',\n                  day: 'numeric',\n                })}\n              </Typography>\n\n              <Box flex={1} />\n\n              <CalendarSelect\n                calendars={calendars}\n                selectedCalendars={storedCalendars}\n                setSelectedCalendars={setStoredCalendars}\n                disabled={isCalendarLoading || !isSignedIn}\n              />\n            </>\n          ) : (\n            <Typography variant=\"h6\">Agenda</Typography>\n          )}\n        </Box>\n      }\n      deepLink={{\n        link: 'https://calendar.google.com/',\n        title: 'Go to Calendar',\n      }}\n    >\n      <Box>\n        {(isCalendarLoading || isEventLoading || !isInitialized) && (\n          <Box pt={2} pb={2}>\n            <Progress variant=\"query\" />\n          </Box>\n        )}\n        {!isSignedIn && isInitialized && (\n          <SignInContent handleAuthClick={() => signIn(false)} />\n        )}\n        {!isEventLoading && !isCalendarLoading && isSignedIn && (\n          <Box p={1} pb={0} maxHeight={602} overflow=\"auto\">\n            {events.length === 0 && (\n              <Box pt={2} pb={2}>\n                <Typography align=\"center\" variant=\"h6\">\n                  No events\n                </Typography>\n              </Box>\n            )}\n            {sortBy(events, [getStartDate]).map(event => (\n              <CalendarEvent\n                key={`${event.calendarId}-${event.id}`}\n                event={event}\n              />\n            ))}\n          </Box>\n        )}\n      </Box>\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nimport { CalendarCard } from './CalendarCard';\n\nconst queryClient = new QueryClient();\n\nexport const HomePageCalendar = () => {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <CalendarCard />\n    </QueryClientProvider>\n  );\n};\n"],"names":["useStyles"],"mappings":"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"}