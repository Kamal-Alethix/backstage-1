{"version":3,"file":"DomainExplorerContent-56e56d86.esm.js","sources":["../../src/components/DomainExplorerContent/DomainExplorerContent.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DomainEntity } from '@backstage/catalog-model';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { Button } from '@material-ui/core';\nimport React from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { DomainCard } from '../DomainCard';\n\nimport {\n  Content,\n  ContentHeader,\n  EmptyState,\n  ItemCardGrid,\n  Progress,\n  SupportButton,\n  WarningPanel,\n} from '@backstage/core-components';\n\nimport { useApi } from '@backstage/core-plugin-api';\n\nconst Body = () => {\n  const catalogApi = useApi(catalogApiRef);\n  const {\n    value: entities,\n    loading,\n    error,\n  } = useAsync(async () => {\n    const response = await catalogApi.getEntities({\n      filter: { kind: 'domain' },\n    });\n    return response.items as DomainEntity[];\n  }, [catalogApi]);\n\n  if (loading) {\n    return <Progress />;\n  }\n\n  if (error) {\n    return (\n      <WarningPanel severity=\"error\" title=\"Could not load domains.\">\n        {error.message}\n      </WarningPanel>\n    );\n  }\n\n  if (!entities?.length) {\n    return (\n      <EmptyState\n        missing=\"info\"\n        title=\"No domains to display\"\n        description=\"You haven't added any domains yet.\"\n        action={\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            href=\"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-domain\"\n          >\n            Read more\n          </Button>\n        }\n      />\n    );\n  }\n\n  return (\n    <ItemCardGrid>\n      {entities.map((entity, index) => (\n        <DomainCard key={index} entity={entity} />\n      ))}\n    </ItemCardGrid>\n  );\n};\n\ntype DomainExplorerContentProps = {\n  title?: string;\n};\n\nexport const DomainExplorerContent = ({\n  title,\n}: DomainExplorerContentProps) => {\n  return (\n    <Content noPadding>\n      <ContentHeader title={title ?? 'Domains'}>\n        <SupportButton>Discover the domains in your ecosystem.</SupportButton>\n      </ContentHeader>\n      <Body />\n    </Content>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;AAeA,MAAM,IAAI,GAAG,MAAM;AACnB,EAAE,MAAM,UAAU,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC;AAC3C,EAAE,MAAM;AACR,IAAI,KAAK,EAAE,QAAQ;AACnB,IAAI,OAAO;AACX,IAAI,KAAK;AACT,GAAG,GAAG,QAAQ,CAAC,YAAY;AAC3B,IAAI,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,WAAW,CAAC;AAClD,MAAM,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;AAChC,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC;AAC1B,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;AACnB,EAAE,IAAI,OAAO,EAAE;AACf,IAAI,uBAAuB,KAAK,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC/D,GAAG;AACH,EAAE,IAAI,KAAK,EAAE;AACb,IAAI,uBAAuB,KAAK,CAAC,aAAa,CAAC,YAAY,EAAE;AAC7D,MAAM,QAAQ,EAAE,OAAO;AACvB,MAAM,KAAK,EAAE,yBAAyB;AACtC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;AACtB,GAAG;AACH,EAAE,IAAI,EAAE,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,EAAE;AACtD,IAAI,uBAAuB,KAAK,CAAC,aAAa,CAAC,UAAU,EAAE;AAC3D,MAAM,OAAO,EAAE,MAAM;AACrB,MAAM,KAAK,EAAE,uBAAuB;AACpC,MAAM,WAAW,EAAE,oCAAoC;AACvD,MAAM,MAAM,kBAAkB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AAC1D,QAAQ,OAAO,EAAE,WAAW;AAC5B,QAAQ,KAAK,EAAE,SAAS;AACxB,QAAQ,IAAI,EAAE,mFAAmF;AACjG,OAAO,EAAE,WAAW,CAAC;AACrB,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,uBAAuB,KAAK,CAAC,aAAa,CAAC,YAAY,EAAE,IAAI,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,KAAK,qBAAqB,KAAK,CAAC,aAAa,CAAC,UAAU,EAAE;AACjJ,IAAI,GAAG,EAAE,KAAK;AACd,IAAI,MAAM;AACV,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACU,MAAC,qBAAqB,GAAG,CAAC;AACtC,EAAE,KAAK;AACP,CAAC,KAAK;AACN,EAAE,uBAAuB,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE;AACtD,IAAI,SAAS,EAAE,IAAI;AACnB,GAAG,kBAAkB,KAAK,CAAC,aAAa,CAAC,aAAa,EAAE;AACxD,IAAI,KAAK,EAAE,KAAK,IAAI,IAAI,GAAG,KAAK,GAAG,SAAS;AAC5C,GAAG,kBAAkB,KAAK,CAAC,aAAa,CAAC,aAAa,EAAE,IAAI,EAAE,yCAAyC,CAAC,CAAC,kBAAkB,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;AAC5J;;;;"}