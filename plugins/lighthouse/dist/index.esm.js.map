{"version":3,"file":"index.esm.js","sources":["../src/api.ts","../src/plugin.ts","../src/utils.ts","../src/components/SupportButton/index.tsx","../src/components/Intro/index.tsx","../src/components/AuditStatusIcon/index.tsx","../src/components/AuditList/AuditListTable.tsx","../src/components/AuditList/index.tsx","../src/components/AuditView/index.tsx","../src/components/CreateAudit/index.tsx","../constants.ts","../src/hooks/useWebsiteForEntity.ts","../src/components/AuditList/AuditListForEntity.tsx","../src/Router.tsx","../src/components/Cards/LastLighthouseAuditCard.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Config } from '@backstage/config';\nimport { createApiRef } from '@backstage/core-plugin-api';\n\nexport type LighthouseCategoryId =\n  | 'pwa'\n  | 'seo'\n  | 'performance'\n  | 'accessibility'\n  | 'best-practices';\n\nexport interface LighthouseCategoryAbbr {\n  id: LighthouseCategoryId;\n  score: number;\n  title: string;\n}\n\nexport interface LASListRequest {\n  offset?: number;\n  limit?: number;\n}\n\nexport interface LASListResponse<Item> {\n  items: Item[];\n  total: number;\n  offset: number;\n  limit: number;\n}\n\ninterface AuditBase {\n  id: string;\n  url: string;\n  timeCreated: string;\n}\n\nexport interface AuditRunning extends AuditBase {\n  status: 'RUNNING';\n}\n\nexport interface AuditFailed extends AuditBase {\n  status: 'FAILED';\n  timeCompleted: string;\n}\n\nexport interface AuditCompleted extends AuditBase {\n  status: 'COMPLETED';\n  timeCompleted: string;\n  report: Object;\n  categories: Record<LighthouseCategoryId, LighthouseCategoryAbbr>;\n}\n\nexport type Audit = AuditRunning | AuditFailed | AuditCompleted;\n\nexport interface Website {\n  url: string;\n  audits: Audit[];\n  lastAudit: Audit;\n}\n\nexport type WebsiteListResponse = LASListResponse<Website>;\n\nexport interface TriggerAuditPayload {\n  url: string;\n  options: {\n    lighthouseConfig: {\n      settings: {\n        emulatedFormFactor: string;\n      };\n    };\n  };\n}\n\nexport class FetchError extends Error {\n  get name(): string {\n    return this.constructor.name;\n  }\n\n  static async forResponse(resp: Response): Promise<FetchError> {\n    return new FetchError(\n      `Request failed with status code ${\n        resp.status\n      }.\\nReason: ${await resp.text()}`,\n    );\n  }\n}\n\nexport type LighthouseApi = {\n  url: string;\n  getWebsiteList: (listOptions: LASListRequest) => Promise<WebsiteListResponse>;\n  getWebsiteForAuditId: (auditId: string) => Promise<Website>;\n  triggerAudit: (payload: TriggerAuditPayload) => Promise<Audit>;\n  getWebsiteByUrl: (websiteUrl: string) => Promise<Website>;\n};\n\nexport const lighthouseApiRef = createApiRef<LighthouseApi>({\n  id: 'plugin.lighthouse.service',\n});\n\nexport class LighthouseRestApi implements LighthouseApi {\n  static fromConfig(config: Config) {\n    return new LighthouseRestApi(config.getString('lighthouse.baseUrl'));\n  }\n\n  constructor(public url: string) {}\n\n  private async fetch<T = any>(input: string, init?: RequestInit): Promise<T> {\n    const resp = await fetch(`${this.url}${input}`, init);\n    if (!resp.ok) throw await FetchError.forResponse(resp);\n    return await resp.json();\n  }\n\n  async getWebsiteList({\n    limit,\n    offset,\n  }: LASListRequest = {}): Promise<WebsiteListResponse> {\n    const params = new URLSearchParams();\n    if (typeof limit === 'number') params.append('limit', limit.toString());\n    if (typeof offset === 'number') params.append('offset', offset.toString());\n    return await this.fetch<WebsiteListResponse>(\n      `/v1/websites?${params.toString()}`,\n    );\n  }\n\n  async getWebsiteForAuditId(auditId: string): Promise<Website> {\n    return await this.fetch<Website>(\n      `/v1/audits/${encodeURIComponent(auditId)}/website`,\n    );\n  }\n\n  async triggerAudit(payload: TriggerAuditPayload): Promise<Audit> {\n    return await this.fetch<Audit>('/v1/audits', {\n      method: 'POST',\n      body: JSON.stringify(payload),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  async getWebsiteByUrl(websiteUrl: string): Promise<Website> {\n    return this.fetch<Website>(\n      `/v1/websites/${encodeURIComponent(websiteUrl)}`,\n    );\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { lighthouseApiRef, LighthouseRestApi } from './api';\nimport {\n  createPlugin,\n  createRouteRef,\n  createApiFactory,\n  configApiRef,\n  createRoutableExtension,\n  createComponentExtension,\n} from '@backstage/core-plugin-api';\n\nexport const rootRouteRef = createRouteRef({\n  id: 'lighthouse',\n});\n\nexport const viewAuditRouteRef = createRouteRef({\n  id: 'lighthouse:audit',\n});\n\nexport const createAuditRouteRef = createRouteRef({\n  id: 'lighthouse:create-audit',\n});\n\nexport const entityContentRouteRef = createRouteRef({\n  id: 'lighthouse:entity-content',\n});\n\nexport const lighthousePlugin = createPlugin({\n  id: 'lighthouse',\n  apis: [\n    createApiFactory({\n      api: lighthouseApiRef,\n      deps: { configApi: configApiRef },\n      factory: ({ configApi }) => LighthouseRestApi.fromConfig(configApi),\n    }),\n  ],\n  routes: {\n    root: createAuditRouteRef,\n    entityContent: entityContentRouteRef,\n  },\n});\n\nexport const LighthousePage = lighthousePlugin.provide(\n  createRoutableExtension({\n    name: 'LighthousePage',\n    component: () => import('./Router').then(m => m.Router),\n    mountPoint: rootRouteRef,\n  }),\n);\n\nexport const EntityLighthouseContent = lighthousePlugin.provide(\n  createRoutableExtension({\n    name: 'EntityLighthouseContent',\n    component: () => import('./Router').then(m => m.EmbeddedRouter),\n    mountPoint: entityContentRouteRef,\n  }),\n);\n\nexport const EntityLastLighthouseAuditCard = lighthousePlugin.provide(\n  createComponentExtension({\n    name: 'EntityLastLighthouseAuditCard',\n    component: {\n      lazy: () =>\n        import('./components/Cards').then(m => m.LastLighthouseAuditCard),\n    },\n  }),\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useLocation } from 'react-router-dom';\nimport { Website, Audit, LighthouseCategoryId, AuditCompleted } from './api';\n\nexport function useQuery(): URLSearchParams {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport function formatTime(timestamp: string | Date) {\n  let date: Date;\n  if (timestamp instanceof Date) {\n    date = timestamp;\n  } else {\n    date = new Date(timestamp);\n  }\n  return date.toUTCString();\n}\n\nexport const CATEGORIES: LighthouseCategoryId[] = [\n  'accessibility',\n  'performance',\n  'seo',\n  'best-practices',\n];\n\nexport const CATEGORY_LABELS: Record<LighthouseCategoryId, string> = {\n  accessibility: 'Accessibility',\n  performance: 'Performance',\n  seo: 'SEO',\n  'best-practices': 'Best Practices',\n  pwa: 'Progressive Web App',\n};\n\nexport type SparklinesDataByCategory = Record<LighthouseCategoryId, number[]>;\nexport function buildSparklinesDataForItem(\n  item: Website,\n): SparklinesDataByCategory {\n  return item.audits\n    .filter(\n      (audit: Audit): audit is AuditCompleted => audit.status === 'COMPLETED',\n    )\n    .reduce((scores, audit) => {\n      Object.values(audit.categories).forEach(category => {\n        scores[category.id] = scores[category.id] || [];\n        scores[category.id].unshift(category.score);\n      });\n\n      // edge case: if only one audit exists, force a \"flat\" sparkline\n      Object.values(scores).forEach(arr => {\n        if (arr.length === 1) arr.push(arr[0]);\n      });\n\n      return scores;\n    }, {} as SparklinesDataByCategory);\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { SupportButton } from '@backstage/core-components';\n\nexport default function LighthouseSupportButton() {\n  return (\n    <SupportButton>\n      Lighthouse audits run for any web domain, stored over time.\n    </SupportButton>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Button, Grid, makeStyles, Tab, Tabs } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React, { useState } from 'react';\nimport useLocalStorage from 'react-use/lib/useLocalStorage';\nimport LighthouseSupportButton from '../SupportButton';\nimport {\n  ContentHeader,\n  InfoCard,\n  MarkdownContent,\n} from '@backstage/core-components';\n\n// TODO(freben): move all of this out of index\n\nexport const LIGHTHOUSE_INTRO_LOCAL_STORAGE =\n  '@backstage/lighthouse-plugin/intro-dismissed';\n\nconst USE_CASES = `\nGoogle's [Lighthouse](https://developers.google.com/web/tools/lighthouse) auditing tool for websites\nis a great open-source resource for benchmarking and improving the accessibility, performance, SEO, and best practices of your site.\nAt Spotify, we keep track of Lighthouse audit scores over time to look at trends and overall areas for investment.\n\nThis plugin allows you to generate on-demand Lighthouse audits for websites, and to track the trends for the\ntop-level categories of Lighthouse at a glance.\n\nIn the future, we hope to add support for scheduling audits (which we do internally), as well as allowing\ncustom runs of Lighthouse to be ingested (for auditing sites that require authentication or some session state).\n`;\n\nconst SETUP = `\nTo get started, you will need a running instance of [lighthouse-audit-service](https://github.com/spotify/lighthouse-audit-service).\n_It's likely you will need to enable CORS when running lighthouse-audit-service. Initialize the app\nwith the environment variable \\`LAS_CORS\\` set to \\`true\\`._\n\nWhen you have an instance running that Backstage can hook into, first install the plugin into your app:\n\n\\`\\`\\`sh\ncd packages/app\nyarn add @backstage/plugin-lighthouse\n\\`\\`\\`\n\nModify your app routes in \\`App.tsx\\` to include the \\`LighthousePage\\` component exported from the plugin, for example:\n\n\\`\\`\\`tsx\n// At the top imports\nimport { LighthousePage } from '@backstage/plugin-lighthouse';\n\n<FlatRoutes>\n  // ...\n  <Route path=\"/lighthouse\" element={<LighthousePage />} />\n  // ...\n</FlatRoutes>;\n\\`\\`\\`\n\nThen configure the \\`lighthouse-audit-service\\` URL in your [\\`app-config.yaml\\`](https://github.com/backstage/backstage/blob/master/app-config.yaml).\n\n\\`\\`\\`yaml\nlighthouse:\n  baseUrl: http://your-service-url\n\\`\\`\\`\n`;\n\nconst useStyles = makeStyles(theme => ({\n  tabs: { marginBottom: -18 },\n  tab: { minWidth: 72, paddingLeft: 1, paddingRight: 1 },\n  content: { marginBottom: theme.spacing(2) },\n  closeButtonContainer: { height: '100%' },\n  closeButtonItem: { paddingBottom: 0 },\n}));\n\nfunction GettingStartedCard() {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  return (\n    <InfoCard\n      title=\"Get started\"\n      subheader={\n        <Tabs\n          value={value}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          onChange={(_ev, newValue: number) => setValue(newValue)}\n          aria-label=\"get started tabs\"\n          className={classes.tabs}\n        >\n          <Tab className={classes.tab} label=\"Use cases\" />\n          <Tab className={classes.tab} label=\"Setup\" />\n        </Tabs>\n      }\n      divider\n      actions={\n        <>\n          <Grid container direction=\"row\" justifyContent=\"flex-end\">\n            <Grid item>\n              <Button\n                component=\"a\"\n                href=\"https://github.com/spotify/lighthouse-audit-service\"\n                size=\"small\"\n                target=\"_blank\"\n              >\n                Check out the README\n              </Button>\n            </Grid>\n          </Grid>\n        </>\n      }\n    >\n      {value === 0 && <MarkdownContent content={USE_CASES} />}\n      {value === 1 && <MarkdownContent content={SETUP} />}\n    </InfoCard>\n  );\n}\n\nexport interface Props {\n  onDismiss?: () => void;\n}\n\nexport default function LighthouseIntro({ onDismiss = () => {} }: Props) {\n  const classes = useStyles();\n  const [dismissed, setDismissed] = useLocalStorage(\n    LIGHTHOUSE_INTRO_LOCAL_STORAGE,\n    false,\n  );\n\n  if (dismissed) return null;\n\n  return (\n    <>\n      <ContentHeader title=\"Welcome to Lighthouse in Backstage!\">\n        <LighthouseSupportButton />\n      </ContentHeader>\n      <Grid className={classes.content} container spacing={3} direction=\"row\">\n        <Grid item xs={12} sm={6} md={4}>\n          <GettingStartedCard />\n        </Grid>\n        {/* TODO add link and image for blog post here */}\n        {/* <Grid item xs={12} sm={6} md={4}>\n          <InfoCard>Blog</InfoCard>\n        </Grid> */}\n        <Grid item xs={12} sm={6} md={8}>\n          <Grid\n            container\n            justifyContent=\"flex-end\"\n            alignItems=\"flex-end\"\n            className={classes.closeButtonContainer}\n          >\n            <Grid item className={classes.closeButtonItem}>\n              <Button\n                variant=\"text\"\n                onClick={() => {\n                  onDismiss();\n                  setDismissed(true);\n                }}\n              >\n                <CloseIcon /> Hide intro\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Audit } from '../../api';\nimport {\n  StatusError,\n  StatusOK,\n  StatusPending,\n} from '@backstage/core-components';\n\n// TODO(freben): move all of this out of index\n\nconst AuditStatusIcon = ({ audit }: { audit: Audit }) => {\n  if (audit.status === 'FAILED') return <StatusError />;\n  if (audit.status === 'COMPLETED') return <StatusOK />;\n  return <StatusPending />;\n};\n\nexport default AuditStatusIcon;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport { Website, lighthouseApiRef } from '../../api';\nimport useInterval from 'react-use/lib/useInterval';\nimport {\n  formatTime,\n  CATEGORIES,\n  CATEGORY_LABELS,\n  buildSparklinesDataForItem,\n} from '../../utils';\nimport { generatePath } from 'react-router-dom';\nimport AuditStatusIcon from '../AuditStatusIcon';\n\nimport {\n  Link,\n  Table,\n  TableColumn,\n  TrendLine,\n} from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\nconst columns: TableColumn[] = [\n  {\n    title: 'Website URL',\n    field: 'websiteUrl',\n  },\n  ...CATEGORIES.map(category => ({\n    title: CATEGORY_LABELS[category],\n    field: category,\n  })),\n  {\n    title: 'Last Report',\n    field: 'lastReport',\n    cellStyle: {\n      whiteSpace: 'nowrap',\n    },\n  },\n  {\n    title: 'Last Audit Triggered',\n    field: 'lastAuditTriggered',\n    cellStyle: {\n      minWidth: 120,\n    },\n  },\n];\n\nexport const AuditListTable = ({ items }: { items: Website[] }) => {\n  const [websiteState, setWebsiteState] = useState(items);\n  const lighthouseApi = useApi(lighthouseApiRef);\n\n  useEffect(() => {\n    setWebsiteState(items);\n  }, [items]);\n\n  const runRefresh = (websites: Website[]) => {\n    websites.forEach(async website => {\n      const response = await lighthouseApi.getWebsiteForAuditId(\n        website.lastAudit.id,\n      );\n      const auditStatus = response.lastAudit.status;\n      if (auditStatus === 'COMPLETED' || auditStatus === 'FAILED') {\n        const newWebsiteData = websiteState.slice(0);\n        newWebsiteData[newWebsiteData.findIndex(w => w.url === response.url)] =\n          response;\n        setWebsiteState(newWebsiteData);\n      }\n    });\n  };\n\n  const runningWebsiteAudits = websiteState\n    ? websiteState.filter(website => website.lastAudit.status === 'RUNNING')\n    : [];\n\n  useInterval(\n    () => runRefresh(runningWebsiteAudits),\n    runningWebsiteAudits.length > 0 ? 5000 : null,\n  );\n\n  const data = websiteState.map(website => {\n    const trendlineData = buildSparklinesDataForItem(website);\n    const trendlines: any = {};\n    CATEGORIES.forEach(category => {\n      trendlines[category] = (\n        <TrendLine\n          title={`trendline for ${CATEGORY_LABELS[category]} category of ${website.url}`}\n          data={trendlineData[category] || []}\n        />\n      );\n    });\n\n    return {\n      websiteUrl: (\n        <Link to={generatePath('audit/:id', { id: website.lastAudit.id })}>\n          {website.url}\n        </Link>\n      ),\n      ...trendlines,\n      lastReport: (\n        <>\n          <AuditStatusIcon audit={website.lastAudit} />{' '}\n          <span>{website.lastAudit.status.toLocaleUpperCase('en-US')}</span>\n        </>\n      ),\n      lastAuditTriggered: formatTime(website.lastAudit.timeCreated),\n    };\n  });\n\n  return (\n    <Table\n      options={{\n        paging: false,\n        toolbar: false,\n      }}\n      columns={columns}\n      data={data}\n    />\n  );\n};\n\nexport default AuditListTable;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Button, Grid } from '@material-ui/core';\nimport Pagination from '@material-ui/lab/Pagination';\nimport React, { ChangeEvent, ReactNode, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport useAsync from 'react-use/lib/useAsync';\nimport useLocalStorage from 'react-use/lib/useLocalStorage';\nimport { lighthouseApiRef } from '../../api';\nimport { useQuery } from '../../utils';\nimport LighthouseIntro, { LIGHTHOUSE_INTRO_LOCAL_STORAGE } from '../Intro';\nimport LighthouseSupportButton from '../SupportButton';\nimport AuditListTable from './AuditListTable';\n\nimport {\n  Content,\n  ContentHeader,\n  Header,\n  HeaderLabel,\n  InfoCard,\n  Page,\n  Progress,\n  WarningPanel,\n} from '@backstage/core-components';\n\nimport { useApi } from '@backstage/core-plugin-api';\n\n// TODO(freben): move all of this out of index\n\nexport const LIMIT = 10;\n\nconst AuditList = () => {\n  const [dismissedStored] = useLocalStorage(LIGHTHOUSE_INTRO_LOCAL_STORAGE);\n  const [dismissed, setDismissed] = useState(dismissedStored);\n\n  const query = useQuery();\n  const page = query.get('page')\n    ? parseInt(query.get('page') as string, 10) || 1\n    : 1;\n\n  const lighthouseApi = useApi(lighthouseApiRef);\n  const { value, loading, error } = useAsync(\n    async () =>\n      await lighthouseApi.getWebsiteList({\n        limit: LIMIT,\n        offset: (page - 1) * LIMIT,\n      }),\n    [page],\n  );\n\n  const pageCount: number = useMemo(() => {\n    if (value?.total && value?.limit)\n      return Math.ceil(value?.total / value?.limit);\n    return 0;\n  }, [value?.total, value?.limit]);\n\n  const navigate = useNavigate();\n\n  let content: ReactNode = null;\n  if (value) {\n    content = (\n      <>\n        <AuditListTable items={value?.items || []} />\n        {pageCount > 1 && (\n          <Pagination\n            page={page}\n            count={pageCount}\n            onChange={(_event: ChangeEvent<unknown>, newPage: number) => {\n              navigate(`?page=${newPage}`);\n            }}\n          />\n        )}\n      </>\n    );\n  } else if (loading) {\n    content = <Progress />;\n  } else if (error) {\n    content = (\n      <WarningPanel severity=\"error\" title=\"Could not load audit list.\">\n        {error.message}\n      </WarningPanel>\n    );\n  }\n\n  return (\n    <Page themeId=\"tool\">\n      <Header\n        title=\"Lighthouse\"\n        subtitle=\"Website audits powered by Lighthouse\"\n      >\n        <HeaderLabel label=\"Owner\" value=\"Spotify\" />\n        <HeaderLabel label=\"Lifecycle\" value=\"Alpha\" />\n      </Header>\n      <Content>\n        <LighthouseIntro onDismiss={() => setDismissed(true)} />\n        <ContentHeader\n          title=\"Audits\"\n          description=\"View all audits run for your website through Backstage here. Track the trend of your most recent audits.\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => navigate('create-audit')}\n          >\n            Create Audit\n          </Button>\n          {dismissed && <LighthouseSupportButton />}\n        </ContentHeader>\n        <Grid container spacing={3} direction=\"column\">\n          <Grid item>\n            <InfoCard noPadding>{content}</InfoCard>\n          </Grid>\n        </Grid>\n      </Content>\n    </Page>\n  );\n};\n\nexport default AuditList;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Button,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport React, { ReactNode, useEffect, useState } from 'react';\nimport {\n  generatePath,\n  Link,\n  resolvePath,\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport useAsync from 'react-use/lib/useAsync';\nimport { Audit, lighthouseApiRef, Website } from '../../api';\nimport { formatTime } from '../../utils';\nimport AuditStatusIcon from '../AuditStatusIcon';\nimport LighthouseSupportButton from '../SupportButton';\n\nimport {\n  Content,\n  ContentHeader,\n  Header,\n  HeaderLabel,\n  InfoCard,\n  Page,\n  Progress,\n} from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\n// TODO(freben): move all of this out of index\n\nconst useStyles = makeStyles({\n  contentGrid: {\n    height: '100%',\n  },\n  iframe: {\n    border: '0',\n    width: '100%',\n    height: '100%',\n  },\n  errorOutput: { whiteSpace: 'pre' },\n});\n\ninterface AuditLinkListProps {\n  audits?: Audit[];\n  selectedId: string;\n}\nconst AuditLinkList = ({ audits = [], selectedId }: AuditLinkListProps) => (\n  <List\n    data-testid=\"audit-sidebar\"\n    component=\"nav\"\n    aria-label=\"lighthouse audit history\"\n  >\n    {audits.map(audit => (\n      <ListItem\n        key={audit.id}\n        selected={audit.id === selectedId}\n        button\n        component={Link}\n        replace\n        to={resolvePath(generatePath('audit/:id', { id: audit.id }), '../../')}\n      >\n        <ListItemIcon>\n          <AuditStatusIcon audit={audit} />\n        </ListItemIcon>\n        <ListItemText primary={formatTime(audit.timeCreated)} />\n      </ListItem>\n    ))}\n  </List>\n);\n\nconst AuditView = ({ audit }: { audit?: Audit }) => {\n  const classes = useStyles();\n  const params = useParams() as { id: string };\n  const { url: lighthouseUrl } = useApi(lighthouseApiRef);\n\n  if (audit?.status === 'RUNNING') return <Progress />;\n  if (audit?.status === 'FAILED')\n    return (\n      <Alert severity=\"error\">\n        This audit failed when attempting to run after several retries. Check\n        that your instance of lighthouse-audit-service can successfully connect\n        to your website and try again.\n      </Alert>\n    );\n\n  return (\n    <InfoCard variant=\"fullHeight\">\n      <iframe\n        className={classes.iframe}\n        title={`Lighthouse audit${audit?.url ? ` for ${audit.url}` : ''}`}\n        src={`${lighthouseUrl}/v1/audits/${encodeURIComponent(params.id)}`}\n      />\n    </InfoCard>\n  );\n};\n\nexport const AuditViewContent = () => {\n  const lighthouseApi = useApi(lighthouseApiRef);\n  const params = useParams() as { id: string };\n  const classes = useStyles();\n  const navigate = useNavigate();\n\n  const {\n    loading,\n    error,\n    value: nextValue,\n  } = useAsync(\n    async () => await lighthouseApi.getWebsiteForAuditId(params.id),\n    [params.id],\n  );\n  const [value, setValue] = useState<Website>();\n  useEffect(() => {\n    if (!!nextValue && nextValue.url !== value?.url) {\n      setValue(nextValue);\n    }\n  }, [value, nextValue, setValue]);\n\n  let content: ReactNode = null;\n  if (value) {\n    content = (\n      <Grid container alignItems=\"stretch\" className={classes.contentGrid}>\n        <Grid item xs={3}>\n          <AuditLinkList audits={value?.audits} selectedId={params.id} />\n        </Grid>\n        <Grid item xs={9}>\n          <AuditView audit={value?.audits.find(a => a.id === params.id)} />\n        </Grid>\n      </Grid>\n    );\n  } else if (loading) {\n    content = <Progress />;\n  } else if (error) {\n    content = (\n      <Alert\n        data-testid=\"error-message\"\n        severity=\"error\"\n        className={classes.errorOutput}\n      >\n        {error.message}\n      </Alert>\n    );\n  }\n\n  let createAuditButtonUrl = 'create-audit';\n  if (value?.url) {\n    createAuditButtonUrl += `?url=${encodeURIComponent(value.url)}`;\n  }\n\n  return (\n    <>\n      <ContentHeader\n        title={value?.url || 'Audit'}\n        description=\"See a history of all Lighthouse audits for your website run through Backstage.\"\n      >\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => navigate(`../../${createAuditButtonUrl}`)}\n        >\n          Create New Audit\n        </Button>\n        <LighthouseSupportButton />\n      </ContentHeader>\n      {content}\n    </>\n  );\n};\n\nconst ConnectedAuditView = () => (\n  <Page themeId=\"tool\">\n    <Header title=\"Lighthouse\" subtitle=\"Website audits powered by Lighthouse\">\n      <HeaderLabel label=\"Owner\" value=\"Spotify\" />\n      <HeaderLabel label=\"Lifecycle\" value=\"Alpha\" />\n    </Header>\n    <Content stretch>\n      <AuditViewContent />\n    </Content>\n  </Page>\n);\n\nexport default ConnectedAuditView;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Button,\n  Grid,\n  List,\n  ListItem,\n  makeStyles,\n  MenuItem,\n  TextField,\n} from '@material-ui/core';\nimport React, { useCallback, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { lighthouseApiRef } from '../../api';\nimport { useQuery } from '../../utils';\nimport LighthouseSupportButton from '../SupportButton';\n\nimport {\n  Content,\n  ContentHeader,\n  Header,\n  HeaderLabel,\n  InfoCard,\n  Page,\n} from '@backstage/core-components';\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\n\n// TODO(freben): move all of this out of index\n\nconst useStyles = makeStyles(theme => ({\n  input: {\n    minWidth: 300,\n    [theme.breakpoints.down('xs')]: {\n      minWidth: '100%',\n    },\n  },\n  buttonList: {\n    marginLeft: theme.spacing(-1),\n    marginRight: theme.spacing(-1),\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n    [theme.breakpoints.down('xs')]: {\n      marginLeft: 0,\n      marginRight: 0,\n      flexDirection: 'column',\n      '& > *': {\n        width: '100%',\n      },\n    },\n  },\n}));\n\nexport const CreateAuditContent = () => {\n  const errorApi = useApi(errorApiRef);\n  const lighthouseApi = useApi(lighthouseApiRef);\n  const classes = useStyles();\n  const query = useQuery();\n  const navigate = useNavigate();\n  const [submitting, setSubmitting] = useState(false);\n  const [url, setUrl] = useState<string>(query.get('url') || '');\n  const [emulatedFormFactor, setEmulatedFormFactor] = useState('mobile');\n\n  const triggerAudit = useCallback(async (): Promise<void> => {\n    setSubmitting(true);\n    try {\n      // TODO use the id from the response to redirect to the audit page for that id when\n      // FAILED and RUNNING audits are supported\n      await lighthouseApi.triggerAudit({\n        url: url.replace(/\\/$/, ''),\n        options: {\n          lighthouseConfig: {\n            settings: {\n              emulatedFormFactor,\n            },\n          },\n        },\n      });\n      navigate('..');\n    } catch (err) {\n      errorApi.post(err);\n    } finally {\n      setSubmitting(false);\n    }\n  }, [\n    url,\n    emulatedFormFactor,\n    lighthouseApi,\n    setSubmitting,\n    errorApi,\n    navigate,\n  ]);\n\n  return (\n    <>\n      <ContentHeader\n        title=\"Trigger a new audit\"\n        description=\"Submitting this form will immediately trigger and store a new Lighthouse audit. Trigger audits to track your website's accessibility, performance, SEO, and best practices over time.\"\n      >\n        <LighthouseSupportButton />\n      </ContentHeader>\n      <Grid container direction=\"column\">\n        <Grid item xs={12} sm={6}>\n          <InfoCard>\n            <form\n              onSubmit={ev => {\n                ev.preventDefault();\n                triggerAudit();\n              }}\n            >\n              <List>\n                <ListItem>\n                  <TextField\n                    name=\"lighthouse-create-audit-url-tf\"\n                    className={classes.input}\n                    label=\"URL\"\n                    placeholder=\"https://spotify.com\"\n                    helperText=\"The target URL for Lighthouse to use.\"\n                    required\n                    disabled={submitting}\n                    onChange={ev => setUrl(ev.target.value)}\n                    value={url}\n                    inputProps={{ 'aria-label': 'URL' }}\n                  />\n                </ListItem>\n                <ListItem>\n                  <TextField\n                    name=\"lighthouse-create-audit-emulated-form-factor-tf\"\n                    className={classes.input}\n                    label=\"Emulated Form Factor\"\n                    helperText=\"Device to simulate when auditing\"\n                    select\n                    required\n                    disabled={submitting}\n                    onChange={ev => setEmulatedFormFactor(ev.target.value)}\n                    value={emulatedFormFactor}\n                    inputProps={{ 'aria-label': 'Emulated form factor' }}\n                  >\n                    <MenuItem value=\"mobile\">Mobile</MenuItem>\n                    <MenuItem value=\"desktop\">Desktop</MenuItem>\n                  </TextField>\n                </ListItem>\n                <ListItem className={classes.buttonList}>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={() => navigate('..')}\n                    disabled={submitting}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Create Audit\n                  </Button>\n                </ListItem>\n              </List>\n            </form>\n          </InfoCard>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nconst CreateAudit = () => (\n  <Page themeId=\"tool\">\n    <Header title=\"Lighthouse\" subtitle=\"Website audits powered by Lighthouse\">\n      <HeaderLabel label=\"Owner\" value=\"Spotify\" />\n      <HeaderLabel label=\"Lifecycle\" value=\"Alpha\" />\n    </Header>\n    <Content>\n      <CreateAuditContent />\n    </Content>\n  </Page>\n);\n\nexport default CreateAudit;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const LIGHTHOUSE_WEBSITE_URL_ANNOTATION = 'lighthouse.com/website-url';\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { LIGHTHOUSE_WEBSITE_URL_ANNOTATION } from '../../constants';\nimport { lighthouseApiRef } from '../api';\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\n\n// For the sake of simplicity we assume that an entity has only one website url. This is to avoid encoding a list\n// type in an annotation which is a plain string.\nexport const useWebsiteForEntity = () => {\n  const { entity } = useEntity();\n  const websiteUrl =\n    entity.metadata.annotations?.[LIGHTHOUSE_WEBSITE_URL_ANNOTATION] ?? '';\n  const lighthouseApi = useApi(lighthouseApiRef);\n  const errorApi = useApi(errorApiRef);\n  const response = useAsync(\n    () => lighthouseApi.getWebsiteByUrl(websiteUrl),\n    [websiteUrl],\n  );\n  if (response.error) {\n    errorApi.post(response.error);\n  }\n  return response;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { AuditListTable } from './AuditListTable';\nimport { useWebsiteForEntity } from '../../hooks/useWebsiteForEntity';\nimport { Progress } from '@backstage/core-components';\n\nexport const AuditListForEntity = () => {\n  const { value, loading, error } = useWebsiteForEntity();\n  if (loading) {\n    return <Progress />;\n  }\n  if (error || !value) {\n    return null;\n  }\n\n  return <AuditListTable data-test-id=\"AuditListTable\" items={[value]} />;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport AuditList from './components/AuditList';\nimport AuditView, { AuditViewContent } from './components/AuditView';\nimport CreateAudit, { CreateAuditContent } from './components/CreateAudit';\nimport { Entity } from '@backstage/catalog-model';\nimport { LIGHTHOUSE_WEBSITE_URL_ANNOTATION } from '../constants';\nimport { AuditListForEntity } from './components/AuditList/AuditListForEntity';\nimport { MissingAnnotationEmptyState } from '@backstage/core-components';\n\nexport const isLighthouseAvailable = (entity: Entity) =>\n  Boolean(entity.metadata.annotations?.[LIGHTHOUSE_WEBSITE_URL_ANNOTATION]);\n\nexport const Router = () => (\n  <Routes>\n    <Route path=\"/\" element={<AuditList />} />\n    <Route path=\"/audit/:id\" element={<AuditView />} />\n    <Route path=\"/create-audit\" element={<CreateAudit />} />\n  </Routes>\n);\n\ntype Props = {};\n\nexport const EmbeddedRouter = (_props: Props) => {\n  const { entity } = useEntity();\n\n  if (!isLighthouseAvailable(entity)) {\n    return (\n      <MissingAnnotationEmptyState\n        annotation={LIGHTHOUSE_WEBSITE_URL_ANNOTATION}\n      />\n    );\n  }\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<AuditListForEntity />} />\n      <Route path=\"/audit/:id\" element={<AuditViewContent />} />\n      <Route path=\"/create-audit\" element={<CreateAuditContent />} />\n    </Routes>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { Audit, AuditCompleted, LighthouseCategoryId } from '../../api';\nimport { useWebsiteForEntity } from '../../hooks/useWebsiteForEntity';\nimport AuditStatusIcon from '../AuditStatusIcon';\nimport {\n  InfoCard,\n  InfoCardVariants,\n  Progress,\n  StatusError,\n  StatusOK,\n  StatusWarning,\n  StructuredMetadataTable,\n} from '@backstage/core-components';\n\nconst LighthouseCategoryScoreStatus = ({ score }: { score: number }) => {\n  const scoreAsPercentage = Math.round(score * 100);\n  switch (true) {\n    case scoreAsPercentage >= 90:\n      return (\n        <>\n          <StatusOK />\n          {scoreAsPercentage}%\n        </>\n      );\n    case scoreAsPercentage >= 50 && scoreAsPercentage < 90:\n      return (\n        <>\n          <StatusWarning />\n          {scoreAsPercentage}%\n        </>\n      );\n    case scoreAsPercentage < 50:\n      return (\n        <>\n          <StatusError />\n          {scoreAsPercentage}%\n        </>\n      );\n    default:\n      return <span>N/A</span>;\n  }\n};\n\nconst LighthouseAuditStatus = ({ audit }: { audit: Audit }) => (\n  <>\n    <AuditStatusIcon audit={audit} />\n    {audit.status.toLocaleUpperCase('en-US')}\n  </>\n);\n\nconst LighthouseAuditSummary = ({\n  audit,\n  dense = false,\n}: {\n  audit: Audit;\n  dense?: boolean;\n}) => {\n  const { url } = audit;\n  const flattenedCategoryData: Record<string, React.ReactNode> = {};\n  if (audit.status === 'COMPLETED') {\n    const categories = (audit as AuditCompleted).categories;\n    const categoryIds = Object.keys(categories) as LighthouseCategoryId[];\n    categoryIds.forEach((id: LighthouseCategoryId) => {\n      const { title, score } = categories[id];\n\n      flattenedCategoryData[title] = (\n        <LighthouseCategoryScoreStatus score={score} />\n      );\n    });\n  }\n  const tableData = {\n    url,\n    status: <LighthouseAuditStatus audit={audit} />,\n    ...flattenedCategoryData,\n  };\n\n  return <StructuredMetadataTable metadata={tableData} dense={dense} />;\n};\n\nexport const LastLighthouseAuditCard = ({\n  dense = false,\n  variant,\n}: {\n  dense?: boolean;\n  variant?: InfoCardVariants;\n}) => {\n  const { value: website, loading, error } = useWebsiteForEntity();\n\n  let content;\n  if (loading) {\n    content = <Progress />;\n  }\n  if (error) {\n    content = null;\n  }\n  if (website) {\n    content = (\n      <LighthouseAuditSummary audit={website.lastAudit} dense={dense} />\n    );\n  }\n  return (\n    <InfoCard title=\"Lighthouse Audit\" variant={variant}>\n      {content}\n    </InfoCard>\n  );\n};\n"],"names":["useStyles","Link","AuditView"],"mappings":"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"}