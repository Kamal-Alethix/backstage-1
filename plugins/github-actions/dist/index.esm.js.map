{"version":3,"file":"index.esm.js","sources":["../src/api/GithubActionsApi.ts","../src/api/GithubActionsClient.ts","../src/api/types.ts","../src/routes.ts","../src/plugin.ts","../src/components/getProjectNameFromEntity.ts","../src/components/WorkflowRunStatus/WorkflowRunStatus.tsx","../src/components/WorkflowRunDetails/useWorkflowRunJobs.ts","../src/components/WorkflowRunDetails/useWorkflowRunsDetails.ts","../src/components/WorkflowRunLogs/useDownloadWorkflowRunLogs.ts","../src/components/WorkflowRunLogs/WorkflowRunLogs.tsx","../src/components/WorkflowRunDetails/WorkflowRunDetails.tsx","../src/components/useWorkflowRuns.ts","../src/components/WorkflowRunsTable/WorkflowRunsTable.tsx","../src/components/Router.tsx","../src/components/Cards/Cards.tsx","../src/components/Cards/RecentWorkflowRunsCard.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { RestEndpointMethodTypes } from '@octokit/rest';\nimport { createApiRef } from '@backstage/core-plugin-api';\n\nexport const githubActionsApiRef = createApiRef<GithubActionsApi>({\n  id: 'plugin.githubactions.service',\n});\n\nexport type GithubActionsApi = {\n  listWorkflowRuns: ({\n    hostname,\n    owner,\n    repo,\n    pageSize,\n    page,\n    branch,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    pageSize?: number;\n    page?: number;\n    branch?: string;\n  }) => Promise<\n    RestEndpointMethodTypes['actions']['listWorkflowRuns']['response']['data']\n  >;\n  getWorkflow: ({\n    hostname,\n    owner,\n    repo,\n    id,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    id: number;\n  }) => Promise<\n    RestEndpointMethodTypes['actions']['getWorkflow']['response']['data']\n  >;\n  getWorkflowRun: ({\n    hostname,\n    owner,\n    repo,\n    id,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    id: number;\n  }) => Promise<\n    RestEndpointMethodTypes['actions']['getWorkflowRun']['response']['data']\n  >;\n  reRunWorkflow: ({\n    hostname,\n    owner,\n    repo,\n    runId,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    runId: number;\n  }) => Promise<any>;\n  listJobsForWorkflowRun: ({\n    hostname,\n    owner,\n    repo,\n    id,\n    pageSize,\n    page,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    id: number;\n    pageSize?: number;\n    page?: number;\n  }) => Promise<\n    RestEndpointMethodTypes['actions']['listJobsForWorkflowRun']['response']['data']\n  >;\n  downloadJobLogsForWorkflowRun: ({\n    hostname,\n    owner,\n    repo,\n    runId,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    runId: number;\n  }) => Promise<\n    RestEndpointMethodTypes['actions']['downloadJobLogsForWorkflowRun']['response']['data']\n  >;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\nimport { GithubActionsApi } from './GithubActionsApi';\nimport { Octokit, RestEndpointMethodTypes } from '@octokit/rest';\nimport { ConfigApi, OAuthApi } from '@backstage/core-plugin-api';\n\nexport class GithubActionsClient implements GithubActionsApi {\n  private readonly configApi: ConfigApi;\n  private readonly githubAuthApi: OAuthApi;\n\n  constructor(options: { configApi: ConfigApi; githubAuthApi: OAuthApi }) {\n    this.configApi = options.configApi;\n    this.githubAuthApi = options.githubAuthApi;\n  }\n\n  private async getOctokit(hostname?: string): Promise<Octokit> {\n    // TODO: Get access token for the specified hostname\n    const token = await this.githubAuthApi.getAccessToken(['repo']);\n    const configs = readGitHubIntegrationConfigs(\n      this.configApi.getOptionalConfigArray('integrations.github') ?? [],\n    );\n    const githubIntegrationConfig = configs.find(\n      v => v.host === hostname ?? 'github.com',\n    );\n    const baseUrl = githubIntegrationConfig?.apiBaseUrl;\n    return new Octokit({ auth: token, baseUrl });\n  }\n\n  async reRunWorkflow({\n    hostname,\n    owner,\n    repo,\n    runId,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    runId: number;\n  }): Promise<any> {\n    const octokit = await this.getOctokit(hostname);\n    return octokit.actions.reRunWorkflow({\n      owner,\n      repo,\n      run_id: runId,\n    });\n  }\n  async listWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    pageSize = 100,\n    page = 0,\n    branch,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    pageSize?: number;\n    page?: number;\n    branch?: string;\n  }): Promise<\n    RestEndpointMethodTypes['actions']['listWorkflowRuns']['response']['data']\n  > {\n    const octokit = await this.getOctokit(hostname);\n    const workflowRuns = await octokit.actions.listWorkflowRunsForRepo({\n      owner,\n      repo,\n      per_page: pageSize,\n      page,\n      ...(branch ? { branch } : {}),\n    });\n    return workflowRuns.data;\n  }\n  async getWorkflow({\n    hostname,\n    owner,\n    repo,\n    id,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    id: number;\n  }): Promise<\n    RestEndpointMethodTypes['actions']['getWorkflow']['response']['data']\n  > {\n    const octokit = await this.getOctokit(hostname);\n    const workflow = await octokit.actions.getWorkflow({\n      owner,\n      repo,\n      workflow_id: id,\n    });\n    return workflow.data;\n  }\n  async getWorkflowRun({\n    hostname,\n    owner,\n    repo,\n    id,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    id: number;\n  }): Promise<\n    RestEndpointMethodTypes['actions']['getWorkflowRun']['response']['data']\n  > {\n    const octokit = await this.getOctokit(hostname);\n    const run = await octokit.actions.getWorkflowRun({\n      owner,\n      repo,\n      run_id: id,\n    });\n    return run.data;\n  }\n  async listJobsForWorkflowRun({\n    hostname,\n    owner,\n    repo,\n    id,\n    pageSize = 100,\n    page = 0,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    id: number;\n    pageSize?: number;\n    page?: number;\n  }): Promise<\n    RestEndpointMethodTypes['actions']['listJobsForWorkflowRun']['response']['data']\n  > {\n    const octokit = await this.getOctokit(hostname);\n    const jobs = await octokit.actions.listJobsForWorkflowRun({\n      owner,\n      repo,\n      run_id: id,\n      per_page: pageSize,\n      page,\n    });\n    return jobs.data;\n  }\n  async downloadJobLogsForWorkflowRun({\n    hostname,\n    owner,\n    repo,\n    runId,\n  }: {\n    hostname?: string;\n    owner: string;\n    repo: string;\n    runId: number;\n  }): Promise<\n    RestEndpointMethodTypes['actions']['downloadJobLogsForWorkflowRun']['response']['data']\n  > {\n    const octokit = await this.getOctokit(hostname);\n    const workflow = await octokit.actions.downloadJobLogsForWorkflowRun({\n      owner,\n      repo,\n      job_id: runId,\n    });\n    return workflow.data;\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type Step = {\n  name: string;\n  status: string;\n  conclusion?: string;\n  number: number; // starts from 1\n  started_at: string;\n  completed_at: string;\n};\n\nexport type Job = {\n  html_url: string;\n  status: string;\n  conclusion: string;\n  started_at: string;\n  completed_at: string;\n  id: number;\n  name: string;\n  steps: Step[];\n};\n\nexport type Jobs = {\n  total_count: number;\n  jobs: Job[];\n};\n\nexport enum BuildStatus {\n  'success',\n  'failure',\n  'pending',\n  'running',\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createRouteRef, createSubRouteRef } from '@backstage/core-plugin-api';\n\nexport const rootRouteRef = createRouteRef({\n  id: 'github-actions',\n});\n\nexport const buildRouteRef = createSubRouteRef({\n  id: 'github-actions/build',\n  path: '/:id',\n  parent: rootRouteRef,\n});\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { githubActionsApiRef, GithubActionsClient } from './api';\nimport { rootRouteRef } from './routes';\nimport {\n  configApiRef,\n  createPlugin,\n  createApiFactory,\n  githubAuthApiRef,\n  createRoutableExtension,\n  createComponentExtension,\n} from '@backstage/core-plugin-api';\n\nexport const githubActionsPlugin = createPlugin({\n  id: 'github-actions',\n  apis: [\n    createApiFactory({\n      api: githubActionsApiRef,\n      deps: { configApi: configApiRef, githubAuthApi: githubAuthApiRef },\n      factory: ({ configApi, githubAuthApi }) =>\n        new GithubActionsClient({ configApi, githubAuthApi }),\n    }),\n  ],\n  routes: {\n    entityContent: rootRouteRef,\n  },\n});\n\nexport const EntityGithubActionsContent = githubActionsPlugin.provide(\n  createRoutableExtension({\n    name: 'EntityGithubActionsContent',\n    component: () => import('./components/Router').then(m => m.Router),\n    mountPoint: rootRouteRef,\n  }),\n);\n\nexport const EntityLatestGithubActionRunCard = githubActionsPlugin.provide(\n  createComponentExtension({\n    name: 'EntityLatestGithubActionRunCard',\n    component: {\n      lazy: () =>\n        import('./components/Cards').then(m => m.LatestWorkflowRunCard),\n    },\n  }),\n);\n\nexport const EntityLatestGithubActionsForBranchCard =\n  githubActionsPlugin.provide(\n    createComponentExtension({\n      name: 'EntityLatestGithubActionsForBranchCard',\n      component: {\n        lazy: () =>\n          import('./components/Cards').then(\n            m => m.LatestWorkflowsForBranchCard,\n          ),\n      },\n    }),\n  );\n\nexport const EntityRecentGithubActionsRunsCard = githubActionsPlugin.provide(\n  createComponentExtension({\n    name: 'EntityRecentGithubActionsRunsCard',\n    component: {\n      lazy: () =>\n        import('./components/Cards').then(m => m.RecentWorkflowRunsCard),\n    },\n  }),\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Entity } from '@backstage/catalog-model';\n\nexport const GITHUB_ACTIONS_ANNOTATION = 'github.com/project-slug';\n\nexport const getProjectNameFromEntity = (entity: Entity) =>\n  entity?.metadata.annotations?.[GITHUB_ACTIONS_ANNOTATION] ?? '';\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  StatusPending,\n  StatusRunning,\n  StatusOK,\n  StatusWarning,\n  StatusAborted,\n  StatusError,\n} from '@backstage/core-components';\n\nexport const WorkflowRunStatus = ({\n  status,\n  conclusion,\n}: {\n  status: string | undefined;\n  conclusion: string | undefined;\n}) => {\n  if (status === undefined) return null;\n  switch (status.toLocaleLowerCase('en-US')) {\n    case 'queued':\n      return (\n        <>\n          <StatusPending /> Queued\n        </>\n      );\n    case 'in_progress':\n      return (\n        <>\n          <StatusRunning /> In progress\n        </>\n      );\n    case 'completed':\n      switch (conclusion?.toLocaleLowerCase('en-US')) {\n        case 'skipped' || 'canceled':\n          return (\n            <>\n              <StatusAborted /> Aborted\n            </>\n          );\n        case 'timed_out':\n          return (\n            <>\n              <StatusWarning /> Timed out\n            </>\n          );\n        case 'failure':\n          return (\n            <>\n              <StatusError /> Error\n            </>\n          );\n        default:\n          return (\n            <>\n              <StatusOK /> Completed\n            </>\n          );\n      }\n    default:\n      return (\n        <>\n          <StatusPending /> Pending\n        </>\n      );\n  }\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport useAsync from 'react-use/lib/useAsync';\nimport { githubActionsApiRef } from '../../api';\nimport { buildRouteRef } from '../../routes';\nimport { useApi, useRouteRefParams } from '@backstage/core-plugin-api';\n\nexport const useWorkflowRunJobs = ({\n  hostname,\n  owner,\n  repo,\n}: {\n  hostname?: string;\n  owner: string;\n  repo: string;\n}) => {\n  const api = useApi(githubActionsApiRef);\n  const { id } = useRouteRefParams(buildRouteRef);\n  const jobs = useAsync(async () => {\n    return repo && owner\n      ? api.listJobsForWorkflowRun({\n          hostname,\n          owner,\n          repo,\n          id: parseInt(id, 10),\n        })\n      : Promise.reject(new Error('No repo/owner provided'));\n  }, [repo, owner, id]);\n  return jobs;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport useAsync from 'react-use/lib/useAsync';\nimport { githubActionsApiRef } from '../../api';\nimport { buildRouteRef } from '../../routes';\nimport { useApi, useRouteRefParams } from '@backstage/core-plugin-api';\n\nexport const useWorkflowRunsDetails = ({\n  hostname,\n  owner,\n  repo,\n}: {\n  hostname?: string;\n  owner: string;\n  repo: string;\n}) => {\n  const api = useApi(githubActionsApiRef);\n  const { id } = useRouteRefParams(buildRouteRef);\n  const details = useAsync(async () => {\n    return repo && owner\n      ? api.getWorkflowRun({\n          hostname,\n          owner,\n          repo,\n          id: parseInt(id, 10),\n        })\n      : Promise.reject(new Error('No repo/owner provided'));\n  }, [repo, owner, id]);\n  return details;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport useAsync from 'react-use/lib/useAsync';\nimport { githubActionsApiRef } from '../../api';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport const useDownloadWorkflowRunLogs = ({\n  hostname,\n  owner,\n  repo,\n  id,\n}: {\n  hostname?: string;\n  owner: string;\n  repo: string;\n  id: number;\n}) => {\n  const api = useApi(githubActionsApiRef);\n  const details = useAsync(async () => {\n    return repo && owner\n      ? api.downloadJobLogsForWorkflowRun({\n          hostname,\n          owner,\n          repo,\n          runId: id,\n        })\n      : Promise.reject('No repo/owner provided');\n  }, [repo, owner, id]);\n  return details;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport { LogViewer } from '@backstage/core-components';\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\nimport {\n  Accordion,\n  AccordionSummary,\n  CircularProgress,\n  Fade,\n  makeStyles,\n  Modal,\n  Theme,\n  Tooltip,\n  Typography,\n  Zoom,\n} from '@material-ui/core';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport React from 'react';\nimport { getProjectNameFromEntity } from '../getProjectNameFromEntity';\nimport { useDownloadWorkflowRunLogs } from './useDownloadWorkflowRunLogs';\n\nconst useStyles = makeStyles<Theme>(theme => ({\n  button: {\n    order: -1,\n    marginRight: 0,\n    marginLeft: '-20px',\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    width: '85%',\n    height: '85%',\n    justifyContent: 'center',\n    margin: 'auto',\n  },\n  normalLogContainer: {\n    height: '75vh',\n    width: '100%',\n  },\n  modalLogContainer: {\n    height: '100%',\n    width: '100%',\n  },\n  log: {\n    background: theme.palette.background.default,\n  },\n}));\n\n/**\n * A component for Run Logs visualization.\n */\nexport const WorkflowRunLogs = ({\n  entity,\n  runId,\n  inProgress,\n}: {\n  entity: Entity;\n  runId: number;\n  inProgress: boolean;\n}) => {\n  const config = useApi(configApiRef);\n  const classes = useStyles();\n  const projectName = getProjectNameFromEntity(entity);\n\n  // TODO: Get github hostname from metadata annotation\n  const hostname = readGitHubIntegrationConfigs(\n    config.getOptionalConfigArray('integrations.github') ?? [],\n  )[0].host;\n  const [owner, repo] = (projectName && projectName.split('/')) || [];\n  const jobLogs = useDownloadWorkflowRunLogs({\n    hostname,\n    owner,\n    repo,\n    id: runId,\n  });\n  const logText = jobLogs.value ? String(jobLogs.value) : undefined;\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Accordion TransitionProps={{ unmountOnExit: true }} disabled={inProgress}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls={`panel-${name}-content`}\n        id={`panel-${name}-header`}\n        IconButtonProps={{\n          className: classes.button,\n        }}\n      >\n        <Typography variant=\"button\">\n          {jobLogs.loading ? <CircularProgress /> : 'Job Log'}\n        </Typography>\n        <Tooltip title=\"Open Log\" TransitionComponent={Zoom} arrow>\n          <DescriptionIcon\n            onClick={event => {\n              event.stopPropagation();\n              handleOpen();\n            }}\n            style={{ marginLeft: 'auto' }}\n          />\n        </Tooltip>\n        <Modal\n          className={classes.modal}\n          onClick={event => event.stopPropagation()}\n          open={open}\n          onClose={handleClose}\n        >\n          <Fade in={open}>\n            <div className={classes.modalLogContainer}>\n              <LogViewer\n                text={logText ?? 'No Values Found'}\n                classes={{ root: classes.log }}\n              />\n            </div>\n          </Fade>\n        </Modal>\n      </AccordionSummary>\n      {logText && (\n        <div className={classes.normalLogContainer}>\n          <LogViewer text={logText} classes={{ root: classes.log }} />\n        </div>\n      )}\n    </Accordion>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Entity } from '@backstage/catalog-model';\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Box,\n  CircularProgress,\n  LinearProgress,\n  Link as MaterialLink,\n  ListItemText,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n  Theme,\n  Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExternalLinkIcon from '@material-ui/icons/Launch';\nimport { DateTime } from 'luxon';\nimport React from 'react';\nimport { Job, Jobs, Step } from '../../api';\nimport { getProjectNameFromEntity } from '../getProjectNameFromEntity';\nimport { WorkflowRunStatus } from '../WorkflowRunStatus';\nimport { useWorkflowRunJobs } from './useWorkflowRunJobs';\nimport { useWorkflowRunsDetails } from './useWorkflowRunsDetails';\nimport { WorkflowRunLogs } from '../WorkflowRunLogs';\n\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\nimport { Breadcrumbs, Link } from '@backstage/core-components';\n\nconst useStyles = makeStyles<Theme>(theme => ({\n  root: {\n    maxWidth: 720,\n    margin: theme.spacing(2),\n  },\n  title: {\n    padding: theme.spacing(1, 0, 2, 0),\n  },\n  table: {\n    padding: theme.spacing(1),\n  },\n  accordionDetails: {\n    padding: 0,\n  },\n  button: {\n    order: -1,\n    marginRight: 0,\n    marginLeft: '-20px',\n  },\n  externalLinkIcon: {\n    fontSize: 'inherit',\n    verticalAlign: 'bottom',\n  },\n}));\n\nconst getElapsedTime = (start: string, end: string) => {\n  const startDate = DateTime.fromISO(start);\n  const endDate = end ? DateTime.fromISO(end) : DateTime.now();\n  const diff = endDate.diff(startDate);\n  const timeElapsed = diff.toFormat(`m 'minutes' s 'seconds'`);\n  return timeElapsed;\n};\n\nconst StepView = ({ step }: { step: Step }) => {\n  return (\n    <TableRow>\n      <TableCell>\n        <ListItemText\n          primary={step.name}\n          secondary={getElapsedTime(step.started_at, step.completed_at)}\n        />\n      </TableCell>\n      <TableCell>\n        <WorkflowRunStatus\n          status={step.status.toLocaleUpperCase('en-US')}\n          conclusion={step.conclusion?.toLocaleUpperCase('en-US')}\n        />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst JobListItem = ({\n  job,\n  className,\n  entity,\n}: {\n  job: Job;\n  className: string;\n  entity: Entity;\n}) => {\n  const classes = useStyles();\n  return (\n    <Accordion TransitionProps={{ unmountOnExit: true }} className={className}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls={`panel-${name}-content`}\n        id={`panel-${name}-header`}\n        IconButtonProps={{\n          className: classes.button,\n        }}\n      >\n        <Typography variant=\"button\">\n          {job.name} ({getElapsedTime(job.started_at, job.completed_at)})\n        </Typography>\n      </AccordionSummary>\n      <AccordionDetails className={classes.accordionDetails}>\n        <TableContainer>\n          <Table>\n            {job.steps.map(step => (\n              <StepView key={step.number} step={step} />\n            ))}\n          </Table>\n        </TableContainer>\n      </AccordionDetails>\n      {job.status === 'queued' || job.status === 'in_progress' ? (\n        <WorkflowRunLogs runId={job.id} inProgress entity={entity} />\n      ) : (\n        <WorkflowRunLogs runId={job.id} inProgress={false} entity={entity} />\n      )}\n    </Accordion>\n  );\n};\n\nconst JobsList = ({ jobs, entity }: { jobs?: Jobs; entity: Entity }) => {\n  const classes = useStyles();\n  return (\n    <Box>\n      {jobs &&\n        jobs.total_count > 0 &&\n        jobs.jobs.map(job => (\n          <JobListItem\n            key={job.id}\n            job={job}\n            className={\n              job.status !== 'success' ? classes.failed : classes.success\n            }\n            entity={entity}\n          />\n        ))}\n    </Box>\n  );\n};\n\nexport const WorkflowRunDetails = ({ entity }: { entity: Entity }) => {\n  const config = useApi(configApiRef);\n  const projectName = getProjectNameFromEntity(entity);\n\n  // TODO: Get github hostname from metadata annotation\n  const hostname = readGitHubIntegrationConfigs(\n    config.getOptionalConfigArray('integrations.github') ?? [],\n  )[0].host;\n  const [owner, repo] = (projectName && projectName.split('/')) || [];\n  const details = useWorkflowRunsDetails({ hostname, owner, repo });\n  const jobs = useWorkflowRunJobs({ hostname, owner, repo });\n\n  const classes = useStyles();\n\n  if (details.error && details.error.message) {\n    return (\n      <Typography variant=\"h6\" color=\"error\">\n        Failed to load build, {details.error.message}\n      </Typography>\n    );\n  } else if (details.loading) {\n    return <LinearProgress />;\n  }\n  return (\n    <div className={classes.root}>\n      <Box mb={3}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link to=\"..\">Workflow runs</Link>\n          <Typography>Workflow run details</Typography>\n        </Breadcrumbs>\n      </Box>\n      <TableContainer component={Paper} className={classes.table}>\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Branch</Typography>\n              </TableCell>\n              <TableCell>{details.value?.head_branch}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Message</Typography>\n              </TableCell>\n              <TableCell>{details.value?.head_commit?.message}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Commit ID</Typography>\n              </TableCell>\n              <TableCell>{details.value?.head_commit?.id}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Workflow</Typography>\n              </TableCell>\n              <TableCell>{details.value?.name}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Status</Typography>\n              </TableCell>\n              <TableCell>\n                <WorkflowRunStatus\n                  status={details.value?.status || undefined}\n                  conclusion={details.value?.conclusion || undefined}\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Author</Typography>\n              </TableCell>\n              <TableCell>{`${details.value?.head_commit?.author?.name} (${details.value?.head_commit?.author?.email})`}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Links</Typography>\n              </TableCell>\n              <TableCell>\n                {details.value?.html_url && (\n                  <MaterialLink target=\"_blank\" href={details.value.html_url}>\n                    Workflow runs on GitHub{' '}\n                    <ExternalLinkIcon className={classes.externalLinkIcon} />\n                  </MaterialLink>\n                )}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan={2}>\n                <Typography noWrap>Jobs</Typography>\n                {jobs.loading ? (\n                  <CircularProgress />\n                ) : (\n                  <JobsList jobs={jobs.value} entity={entity} />\n                )}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useState } from 'react';\nimport useAsyncRetry from 'react-use/lib/useAsyncRetry';\nimport { githubActionsApiRef } from '../api/GithubActionsApi';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\n\nexport type WorkflowRun = {\n  workflowName: string;\n  id: string;\n  message: string;\n  url?: string;\n  githubUrl?: string;\n  source: {\n    branchName: string;\n    commit: {\n      hash: string;\n      url?: string;\n    };\n  };\n  status: string;\n  conclusion: string;\n  onReRunClick: () => void;\n};\n\nexport function useWorkflowRuns({\n  hostname,\n  owner,\n  repo,\n  branch,\n  initialPageSize = 5,\n}: {\n  hostname?: string;\n  owner: string;\n  repo: string;\n  branch?: string;\n  initialPageSize?: number;\n}) {\n  const api = useApi(githubActionsApiRef);\n\n  const errorApi = useApi(errorApiRef);\n\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(initialPageSize);\n\n  const {\n    loading,\n    value: runs,\n    retry,\n    error,\n  } = useAsyncRetry<WorkflowRun[]>(async () => {\n    // GitHub API pagination count starts from 1\n    const workflowRunsData = await api.listWorkflowRuns({\n      hostname,\n      owner,\n      repo,\n      pageSize,\n      page: page + 1,\n      branch,\n    });\n    setTotal(workflowRunsData.total_count);\n    // Transformation here\n    return workflowRunsData.workflow_runs.map(run => ({\n      workflowName: run.name,\n      message: run.head_commit.message,\n      id: `${run.id}`,\n      onReRunClick: async () => {\n        try {\n          await api.reRunWorkflow({\n            hostname,\n            owner,\n            repo,\n            runId: run.id,\n          });\n        } catch (e) {\n          errorApi.post(e);\n        }\n      },\n      source: {\n        branchName: run.head_branch,\n        commit: {\n          hash: run.head_commit.id,\n          url: run.head_repository?.branches_url?.replace(\n            '{/branch}',\n            run.head_branch,\n          ),\n        },\n      },\n      status: run.status,\n      conclusion: run.conclusion,\n      url: run.url,\n      githubUrl: run.html_url,\n    }));\n  }, [page, pageSize, repo, owner]);\n\n  return [\n    {\n      page,\n      pageSize,\n      loading,\n      runs,\n      projectName: `${owner}/${repo}`,\n      total,\n      error,\n    },\n    {\n      runs,\n      setPage,\n      setPageSize,\n      retry,\n    },\n  ] as const;\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport {\n  Link,\n  Typography,\n  Box,\n  IconButton,\n  Tooltip,\n  Button,\n} from '@material-ui/core';\nimport RetryIcon from '@material-ui/icons/Replay';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useWorkflowRuns, WorkflowRun } from '../useWorkflowRuns';\nimport { WorkflowRunStatus } from '../WorkflowRunStatus';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport { buildRouteRef } from '../../routes';\nimport { getProjectNameFromEntity } from '../getProjectNameFromEntity';\nimport { Entity } from '@backstage/catalog-model';\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\n\nimport { EmptyState, Table, TableColumn } from '@backstage/core-components';\nimport { configApiRef, useApi, useRouteRef } from '@backstage/core-plugin-api';\n\nconst generatedColumns: TableColumn[] = [\n  {\n    title: 'ID',\n    field: 'id',\n    type: 'numeric',\n    width: '150px',\n  },\n  {\n    title: 'Message',\n    field: 'message',\n    highlight: true,\n    render: (row: Partial<WorkflowRun>) => {\n      const LinkWrapper = () => {\n        const routeLink = useRouteRef(buildRouteRef);\n        return (\n          <Link component={RouterLink} to={routeLink({ id: row.id! })}>\n            {row.message}\n          </Link>\n        );\n      };\n\n      return <LinkWrapper />;\n    },\n  },\n  {\n    title: 'Source',\n    render: (row: Partial<WorkflowRun>) => (\n      <Typography variant=\"body2\" noWrap>\n        <p>{row.source?.branchName}</p>\n        <p>{row.source?.commit.hash}</p>\n      </Typography>\n    ),\n  },\n  {\n    title: 'Workflow',\n    field: 'workflowName',\n  },\n  {\n    title: 'Status',\n    width: '150px',\n\n    render: (row: Partial<WorkflowRun>) => (\n      <Box display=\"flex\" alignItems=\"center\">\n        <WorkflowRunStatus status={row.status} conclusion={row.conclusion} />\n      </Box>\n    ),\n  },\n  {\n    title: 'Actions',\n    render: (row: Partial<WorkflowRun>) => (\n      <Tooltip title=\"Rerun workflow\">\n        <IconButton onClick={row.onReRunClick}>\n          <RetryIcon />\n        </IconButton>\n      </Tooltip>\n    ),\n    width: '10%',\n  },\n];\n\ntype Props = {\n  loading: boolean;\n  retry: () => void;\n  runs?: WorkflowRun[];\n  projectName: string;\n  page: number;\n  onChangePage: (page: number) => void;\n  total: number;\n  pageSize: number;\n  onChangePageSize: (pageSize: number) => void;\n};\n\nexport const WorkflowRunsTableView = ({\n  projectName,\n  loading,\n  pageSize,\n  page,\n  retry,\n  runs,\n  onChangePage,\n  onChangePageSize,\n  total,\n}: Props) => {\n  return (\n    <Table\n      isLoading={loading}\n      options={{ paging: true, pageSize, padding: 'dense' }}\n      totalCount={total}\n      page={page}\n      actions={[\n        {\n          icon: () => <SyncIcon />,\n          tooltip: 'Reload workflow runs',\n          isFreeAction: true,\n          onClick: () => retry(),\n        },\n      ]}\n      data={runs ?? []}\n      onPageChange={onChangePage}\n      onRowsPerPageChange={onChangePageSize}\n      style={{ width: '100%' }}\n      title={\n        <Box display=\"flex\" alignItems=\"center\">\n          <GitHubIcon />\n          <Box mr={1} />\n          <Typography variant=\"h6\">{projectName}</Typography>\n        </Box>\n      }\n      columns={generatedColumns}\n    />\n  );\n};\n\nexport const WorkflowRunsTable = ({\n  entity,\n  branch,\n}: {\n  entity: Entity;\n  branch?: string;\n}) => {\n  const config = useApi(configApiRef);\n  const projectName = getProjectNameFromEntity(entity);\n  // TODO: Get github hostname from metadata annotation\n  const hostname = readGitHubIntegrationConfigs(\n    config.getOptionalConfigArray('integrations.github') ?? [],\n  )[0].host;\n  const [owner, repo] = (projectName ?? '/').split('/');\n  const [{ runs, ...tableProps }, { retry, setPage, setPageSize }] =\n    useWorkflowRuns({\n      hostname,\n      owner,\n      repo,\n      branch,\n    });\n\n  const githubHost = hostname || 'github.com';\n  const hasNoRuns = !tableProps.loading && !runs;\n\n  return hasNoRuns ? (\n    <EmptyState\n      missing=\"data\"\n      title=\"No Workflow Data\"\n      description=\"This component has GitHub Actions enabled, but no data was found. Have you created any Workflows? Click the button below to create a new Workflow.\"\n      action={\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          href={`https://${githubHost}/${projectName}/actions/new`}\n        >\n          Create new Workflow\n        </Button>\n      }\n    />\n  ) : (\n    <WorkflowRunsTableView\n      {...tableProps}\n      runs={runs}\n      loading={tableProps.loading}\n      retry={retry}\n      onChangePageSize={setPageSize}\n      onChangePage={setPage}\n    />\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { Entity } from '@backstage/catalog-model';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { Routes, Route } from 'react-router';\nimport { buildRouteRef } from '../routes';\nimport { WorkflowRunDetails } from './WorkflowRunDetails';\nimport { WorkflowRunsTable } from './WorkflowRunsTable';\nimport { GITHUB_ACTIONS_ANNOTATION } from './getProjectNameFromEntity';\nimport { MissingAnnotationEmptyState } from '@backstage/core-components';\n\nexport const isGithubActionsAvailable = (entity: Entity) =>\n  Boolean(entity.metadata.annotations?.[GITHUB_ACTIONS_ANNOTATION]);\n\nexport const Router = () => {\n  const { entity } = useEntity();\n\n  if (!isGithubActionsAvailable(entity)) {\n    return (\n      <MissingAnnotationEmptyState annotation={GITHUB_ACTIONS_ANNOTATION} />\n    );\n  }\n  return (\n    <Routes>\n      <Route path=\"/\" element={<WorkflowRunsTable entity={entity} />} />\n      <Route\n        path={`${buildRouteRef.path}`}\n        element={<WorkflowRunDetails entity={entity} />}\n      />\n      )\n    </Routes>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport {\n  LinearProgress,\n  makeStyles,\n  Theme,\n  Typography,\n} from '@material-ui/core';\nimport ExternalLinkIcon from '@material-ui/icons/Launch';\nimport React, { useEffect } from 'react';\nimport { GITHUB_ACTIONS_ANNOTATION } from '../getProjectNameFromEntity';\nimport { useWorkflowRuns, WorkflowRun } from '../useWorkflowRuns';\nimport { WorkflowRunsTable } from '../WorkflowRunsTable';\nimport { WorkflowRunStatus } from '../WorkflowRunStatus';\n\nimport { configApiRef, errorApiRef, useApi } from '@backstage/core-plugin-api';\nimport {\n  InfoCard,\n  InfoCardVariants,\n  Link,\n  StructuredMetadataTable,\n} from '@backstage/core-components';\n\nconst useStyles = makeStyles<Theme>({\n  externalLinkIcon: {\n    fontSize: 'inherit',\n    verticalAlign: 'bottom',\n  },\n});\n\nconst WidgetContent = ({\n  error,\n  loading,\n  lastRun,\n  branch,\n}: {\n  error?: Error;\n  loading?: boolean;\n  lastRun: WorkflowRun;\n  branch: string;\n}) => {\n  const classes = useStyles();\n  if (error) return <Typography>Couldn't fetch latest {branch} run</Typography>;\n  if (loading) return <LinearProgress />;\n  return (\n    <StructuredMetadataTable\n      metadata={{\n        status: (\n          <>\n            <WorkflowRunStatus\n              status={lastRun.status}\n              conclusion={lastRun.conclusion}\n            />\n          </>\n        ),\n        message: lastRun.message,\n        url: (\n          <Link to={lastRun.githubUrl ?? ''}>\n            See more on GitHub{' '}\n            <ExternalLinkIcon className={classes.externalLinkIcon} />\n          </Link>\n        ),\n      }}\n    />\n  );\n};\n\nexport const LatestWorkflowRunCard = ({\n  branch = 'master',\n  // Display the card full height suitable for\n  variant,\n}: Props) => {\n  const { entity } = useEntity();\n  const config = useApi(configApiRef);\n  const errorApi = useApi(errorApiRef);\n  // TODO: Get github hostname from metadata annotation\n  const hostname = readGitHubIntegrationConfigs(\n    config.getOptionalConfigArray('integrations.github') ?? [],\n  )[0].host;\n  const [owner, repo] = (\n    entity?.metadata.annotations?.[GITHUB_ACTIONS_ANNOTATION] ?? '/'\n  ).split('/');\n  const [{ runs, loading, error }] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch,\n  });\n  const lastRun = runs?.[0] ?? ({} as WorkflowRun);\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n\n  return (\n    <InfoCard title={`Last ${branch} build`} variant={variant}>\n      <WidgetContent\n        error={error}\n        loading={loading}\n        branch={branch}\n        lastRun={lastRun}\n      />\n    </InfoCard>\n  );\n};\n\ntype Props = {\n  branch: string;\n  variant?: InfoCardVariants;\n};\n\nexport const LatestWorkflowsForBranchCard = ({\n  branch = 'master',\n  variant,\n}: Props) => {\n  const { entity } = useEntity();\n\n  return (\n    <InfoCard title={`Last ${branch} build`} variant={variant}>\n      <WorkflowRunsTable branch={branch} entity={entity} />\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport React, { useEffect } from 'react';\nimport { generatePath, Link as RouterLink } from 'react-router-dom';\nimport { GITHUB_ACTIONS_ANNOTATION } from '../getProjectNameFromEntity';\nimport { useWorkflowRuns } from '../useWorkflowRuns';\nimport { WorkflowRunStatus } from '../WorkflowRunStatus';\nimport { Typography } from '@material-ui/core';\n\nimport { configApiRef, errorApiRef, useApi } from '@backstage/core-plugin-api';\nimport {\n  InfoCard,\n  InfoCardVariants,\n  Link,\n  Table,\n} from '@backstage/core-components';\n\nconst firstLine = (message: string): string => message.split('\\n')[0];\n\nexport type Props = {\n  branch?: string;\n  dense?: boolean;\n  limit?: number;\n  variant?: InfoCardVariants;\n};\n\nexport const RecentWorkflowRunsCard = ({\n  branch,\n  dense = false,\n  limit = 5,\n  variant,\n}: Props) => {\n  const { entity } = useEntity();\n  const config = useApi(configApiRef);\n  const errorApi = useApi(errorApiRef);\n  // TODO: Get github hostname from metadata annotation\n  const hostname = readGitHubIntegrationConfigs(\n    config.getOptionalConfigArray('integrations.github') ?? [],\n  )[0].host;\n  const [owner, repo] = (\n    entity?.metadata.annotations?.[GITHUB_ACTIONS_ANNOTATION] ?? '/'\n  ).split('/');\n  const [{ runs = [], loading, error }] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch,\n    initialPageSize: limit,\n  });\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n\n  const githubHost = hostname || 'github.com';\n\n  return (\n    <InfoCard\n      title=\"Recent Workflow Runs\"\n      subheader={branch ? `Branch: ${branch}` : 'All Branches'}\n      noPadding\n      variant={variant}\n    >\n      {!runs.length ? (\n        <div style={{ textAlign: 'center' }}>\n          <Typography variant=\"body1\">\n            This component has GitHub Actions enabled, but no workflows were\n            found.\n          </Typography>\n          <Typography variant=\"body2\">\n            <Link to={`https://${githubHost}/${owner}/${repo}/actions/new`}>\n              Create a new workflow\n            </Link>\n          </Typography>\n        </div>\n      ) : (\n        <Table\n          isLoading={loading}\n          options={{\n            search: false,\n            paging: false,\n            padding: dense ? 'dense' : 'default',\n            toolbar: false,\n          }}\n          columns={[\n            {\n              title: 'Commit Message',\n              field: 'message',\n              render: data => (\n                <Link\n                  component={RouterLink}\n                  to={generatePath('./ci-cd/:id', { id: data.id! })}\n                >\n                  {firstLine(data.message)}\n                </Link>\n              ),\n            },\n            { title: 'Branch', field: 'source.branchName' },\n            { title: 'Status', field: 'status', render: WorkflowRunStatus },\n          ]}\n          data={runs}\n        />\n      )}\n    </InfoCard>\n  );\n};\n"],"names":["useStyles","MaterialLink","Link","RouterLink","Table"],"mappings":"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"}