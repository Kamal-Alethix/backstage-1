{"version":3,"file":"index.esm.js","sources":["../src/api/CloudbuildApi.ts","../src/api/CloudbuildClient.ts","../src/routes.ts","../src/plugin.ts","../src/components/useProjectName.ts","../src/components/WorkflowRunStatus/WorkflowRunStatus.tsx","../src/components/WorkflowRunDetails/useWorkflowRunsDetails.ts","../src/components/WorkflowRunDetails/WorkflowRunDetails.tsx","../src/components/useWorkflowRuns.ts","../src/components/WorkflowRunsTable/WorkflowRunsTable.tsx","../src/components/Router.tsx","../src/components/Cards/Cards.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ActionsListWorkflowRunsForRepoResponseData,\n  ActionsGetWorkflowResponseData,\n} from '../api/types';\nimport { createApiRef } from '@backstage/core-plugin-api';\n\nexport const cloudbuildApiRef = createApiRef<CloudbuildApi>({\n  id: 'plugin.cloudbuild.service',\n});\n\nexport type CloudbuildApi = {\n  listWorkflowRuns: (request: {\n    projectId: string;\n  }) => Promise<ActionsListWorkflowRunsForRepoResponseData>;\n  getWorkflow: ({\n    projectId,\n    id,\n  }: {\n    projectId: string;\n    id: string;\n  }) => Promise<ActionsGetWorkflowResponseData>;\n  getWorkflowRun: ({\n    projectId,\n    id,\n  }: {\n    projectId: string;\n    id: string;\n  }) => Promise<ActionsGetWorkflowResponseData>;\n  reRunWorkflow: ({\n    projectId,\n    runId,\n  }: {\n    projectId: string;\n    runId: string;\n  }) => Promise<any>;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CloudbuildApi } from './CloudbuildApi';\nimport {\n  ActionsListWorkflowRunsForRepoResponseData,\n  ActionsGetWorkflowResponseData,\n} from '../api/types';\nimport { OAuthApi } from '@backstage/core-plugin-api';\n\nexport class CloudbuildClient implements CloudbuildApi {\n  constructor(private readonly googleAuthApi: OAuthApi) {}\n\n  async reRunWorkflow({\n    projectId,\n    runId,\n  }: {\n    projectId: string;\n    runId: string;\n  }): Promise<void> {\n    await fetch(\n      `https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(\n        projectId,\n      )}/builds/${encodeURIComponent(runId)}:retry`,\n      {\n        headers: new Headers({\n          Accept: '*/*',\n          Authorization: `Bearer ${await this.getToken()}`,\n        }),\n      },\n    );\n  }\n  async listWorkflowRuns({\n    projectId,\n  }: {\n    projectId: string;\n  }): Promise<ActionsListWorkflowRunsForRepoResponseData> {\n    const workflowRuns = await fetch(\n      `https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(\n        projectId,\n      )}/builds`,\n      {\n        headers: new Headers({\n          Accept: '*/*',\n          Authorization: `Bearer ${await this.getToken()}`,\n        }),\n      },\n    );\n\n    const builds: ActionsListWorkflowRunsForRepoResponseData =\n      await workflowRuns.json();\n\n    return builds;\n  }\n  async getWorkflow({\n    projectId,\n    id,\n  }: {\n    projectId: string;\n    id: string;\n  }): Promise<ActionsGetWorkflowResponseData> {\n    const workflow = await fetch(\n      `https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(\n        projectId,\n      )}/builds/${encodeURIComponent(id)}`,\n      {\n        headers: new Headers({\n          Accept: '*/*',\n          Authorization: `Bearer ${await this.getToken()}`,\n        }),\n      },\n    );\n\n    const build: ActionsGetWorkflowResponseData = await workflow.json();\n\n    return build;\n  }\n  async getWorkflowRun({\n    projectId,\n    id,\n  }: {\n    projectId: string;\n    id: string;\n  }): Promise<ActionsGetWorkflowResponseData> {\n    const workflow = await fetch(\n      `https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(\n        projectId,\n      )}/builds/${encodeURIComponent(id)}`,\n      {\n        headers: new Headers({\n          Accept: '*/*',\n          Authorization: `Bearer ${await this.getToken()}`,\n        }),\n      },\n    );\n    const build: ActionsGetWorkflowResponseData = await workflow.json();\n\n    return build;\n  }\n\n  async getToken(): Promise<string> {\n    // NOTE(freben - gcp-projects): There's a .read-only variant of this scope that we could\n    // use for readonly operations, but that means we would ask the user for a\n    // second auth during creation and I decided to keep the wider scope for\n    // all ops for now\n    return this.googleAuthApi.getAccessToken(\n      'https://www.googleapis.com/auth/cloud-platform',\n    );\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createRouteRef, createSubRouteRef } from '@backstage/core-plugin-api';\n\nexport const rootRouteRef = createRouteRef({\n  id: 'cloudbuild',\n});\n\nexport const buildRouteRef = createSubRouteRef({\n  id: 'cloudbuild/run',\n  path: '/:id',\n  parent: rootRouteRef,\n});\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { cloudbuildApiRef, CloudbuildClient } from './api';\nimport { rootRouteRef } from './routes';\nimport {\n  createPlugin,\n  createApiFactory,\n  googleAuthApiRef,\n  createRoutableExtension,\n  createComponentExtension,\n} from '@backstage/core-plugin-api';\n\nexport const cloudbuildPlugin = createPlugin({\n  id: 'cloudbuild',\n  apis: [\n    createApiFactory({\n      api: cloudbuildApiRef,\n      deps: { googleAuthApi: googleAuthApiRef },\n      factory({ googleAuthApi }) {\n        return new CloudbuildClient(googleAuthApi);\n      },\n    }),\n  ],\n  routes: {\n    entityContent: rootRouteRef,\n  },\n});\n\nexport const EntityCloudbuildContent = cloudbuildPlugin.provide(\n  createRoutableExtension({\n    name: 'EntityCloudbuildContent',\n    component: () => import('./components/Router').then(m => m.Router),\n    mountPoint: rootRouteRef,\n  }),\n);\n\nexport const EntityLatestCloudbuildRunCard = cloudbuildPlugin.provide(\n  createComponentExtension({\n    name: 'EntityLatestCloudbuildRunCard',\n    component: {\n      lazy: () =>\n        import('./components/Cards').then(m => m.LatestWorkflowRunCard),\n    },\n  }),\n);\n\nexport const EntityLatestCloudbuildsForBranchCard = cloudbuildPlugin.provide(\n  createComponentExtension({\n    name: 'EntityLatestCloudbuildsForBranchCard',\n    component: {\n      lazy: () =>\n        import('./components/Cards').then(m => m.LatestWorkflowsForBranchCard),\n    },\n  }),\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport useAsync from 'react-use/lib/useAsync';\nimport { Entity } from '@backstage/catalog-model';\n\nexport const CLOUDBUILD_ANNOTATION = 'google.com/cloudbuild-project-slug';\n\nexport const useProjectName = (entity: Entity) => {\n  const { value, loading, error } = useAsync(async () => {\n    return entity?.metadata.annotations?.[CLOUDBUILD_ANNOTATION] ?? '';\n  });\n  return { value, loading, error };\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  StatusPending,\n  StatusRunning,\n  StatusOK,\n  StatusAborted,\n  StatusError,\n} from '@backstage/core-components';\n\nexport const WorkflowRunStatus = ({\n  status,\n}: {\n  status: string | undefined;\n}) => {\n  if (status === undefined) return null;\n  switch (status.toLocaleLowerCase('en-US')) {\n    case 'queued':\n      return (\n        <>\n          <StatusPending /> Queued\n        </>\n      );\n    case 'working':\n      return (\n        <>\n          <StatusRunning /> In progress\n        </>\n      );\n    case 'success':\n      return (\n        <>\n          <StatusOK /> Completed\n        </>\n      );\n    case 'cancelled':\n      return (\n        <>\n          <StatusAborted /> Cancelled\n        </>\n      );\n    case 'failure':\n      return (\n        <>\n          <StatusError /> Failed\n        </>\n      );\n    default:\n      return (\n        <>\n          <StatusPending /> Pending\n        </>\n      );\n  }\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useParams } from 'react-router-dom';\nimport useAsync from 'react-use/lib/useAsync';\nimport { cloudbuildApiRef } from '../../api';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport const useWorkflowRunsDetails = (projectId: string) => {\n  const api = useApi(cloudbuildApiRef);\n  const { id } = useParams();\n  const details = useAsync(async () => {\n    return projectId\n      ? api.getWorkflowRun({\n          projectId,\n          id: id,\n        })\n      : Promise.reject('No projectId provided');\n  }, [projectId, id]);\n  return details;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Entity } from '@backstage/catalog-model';\nimport {\n  Box,\n  LinearProgress,\n  Link as MaterialLink,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n  Theme,\n  Typography,\n} from '@material-ui/core';\nimport ExternalLinkIcon from '@material-ui/icons/Launch';\nimport qs from 'qs';\nimport React from 'react';\nimport { useProjectName } from '../useProjectName';\nimport { WorkflowRunStatus } from '../WorkflowRunStatus';\nimport { useWorkflowRunsDetails } from './useWorkflowRunsDetails';\nimport { Breadcrumbs, Link, WarningPanel } from '@backstage/core-components';\n\nconst useStyles = makeStyles<Theme>(theme => ({\n  root: {\n    maxWidth: 720,\n    margin: theme.spacing(2),\n  },\n  title: {\n    padding: theme.spacing(1, 0, 2, 0),\n  },\n  table: {\n    padding: theme.spacing(1),\n  },\n  accordionDetails: {\n    padding: 0,\n  },\n  button: {\n    order: -1,\n    marginRight: 0,\n    marginLeft: '-20px',\n  },\n  externalLinkIcon: {\n    fontSize: 'inherit',\n    verticalAlign: 'bottom',\n  },\n}));\n\nexport const WorkflowRunDetails = ({ entity }: { entity: Entity }) => {\n  const { value: projectName, loading, error } = useProjectName(entity);\n  const [projectId] = (projectName ?? '/').split('/');\n\n  const details = useWorkflowRunsDetails(projectId);\n\n  const classes = useStyles();\n  if (error) {\n    return (\n      <WarningPanel title=\"Error:\">\n        Failed to load build, {error.message}.\n      </WarningPanel>\n    );\n  } else if (loading) {\n    return <LinearProgress />;\n  } else if (details.value?.logUrl === undefined) {\n    return <LinearProgress />;\n  }\n\n  const serviceAccount = qs.parse(new URL(details.value?.logUrl).search, {\n    ignoreQueryPrefix: true,\n  }).project;\n\n  return (\n    <div className={classes.root}>\n      <Box mb={3}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link to=\"..\">Build history</Link>\n          <Typography>Build details</Typography>\n        </Breadcrumbs>\n      </Box>\n      <TableContainer component={Paper} className={classes.table}>\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Branch</Typography>\n              </TableCell>\n              <TableCell>{details.value?.substitutions.BRANCH_NAME}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Message</Typography>\n              </TableCell>\n              <TableCell>{details.value?.substitutions.REPO_NAME}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Commit ID</Typography>\n              </TableCell>\n              <TableCell>{details.value?.substitutions.COMMIT_SHA}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Status</Typography>\n              </TableCell>\n              <TableCell>\n                <WorkflowRunStatus status={details.value?.status} />\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Service Account</Typography>\n              </TableCell>\n              <TableCell>\n                {`${serviceAccount}`}@cloudbuild.gserviceaccount.com\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Typography noWrap>Links</Typography>\n              </TableCell>\n              <TableCell>\n                {details.value?.logUrl && (\n                  <MaterialLink target=\"_blank\" href={details.value.logUrl}>\n                    Workflow runs on Google{' '}\n                    <ExternalLinkIcon className={classes.externalLinkIcon} />\n                  </MaterialLink>\n                )}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useState } from 'react';\nimport useAsyncRetry from 'react-use/lib/useAsyncRetry';\nimport { cloudbuildApiRef } from '../api/CloudbuildApi';\nimport {\n  ActionsListWorkflowRunsForRepoResponseData,\n  Substitutions,\n} from '../api/types';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\n\nexport type WorkflowRun = {\n  id: string;\n  message: string;\n  url?: string;\n  googleUrl?: string;\n  status: string;\n  substitutions: Substitutions;\n  createTime: string;\n  rerun: () => void;\n};\n\nexport function useWorkflowRuns({ projectId }: { projectId: string }) {\n  const api = useApi(cloudbuildApiRef);\n  const errorApi = useApi(errorApiRef);\n\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(5);\n\n  const {\n    loading,\n    value: runs,\n    retry,\n    error,\n  } = useAsyncRetry<WorkflowRun[]>(async () => {\n    return api\n      .listWorkflowRuns({\n        projectId,\n      })\n      .then(\n        (\n          workflowRunsData: ActionsListWorkflowRunsForRepoResponseData,\n        ): WorkflowRun[] => {\n          setTotal(workflowRunsData.builds.length);\n          // Transformation here\n          return workflowRunsData.builds.map(run => ({\n            message: run.substitutions.REPO_NAME,\n            id: run.id,\n            rerun: async () => {\n              try {\n                await api.reRunWorkflow({\n                  projectId,\n                  runId: run.id,\n                });\n              } catch (e) {\n                errorApi.post(e);\n              }\n            },\n            substitutions: run.substitutions,\n            source: {\n              branchName: run.substitutions.REPO_NAME,\n              commit: {\n                hash: run.substitutions.COMMIT_SHA,\n                url: run.substitutions.REPO_NAME,\n              },\n            },\n            status: run.status,\n            url: run.logUrl,\n            googleUrl: run.logUrl,\n            createTime: run.createTime,\n          }));\n        },\n      );\n  }, [page, pageSize, projectId]);\n\n  return [\n    {\n      page,\n      pageSize,\n      loading,\n      runs,\n      projectName: `${projectId}`,\n      total,\n      error,\n    },\n    {\n      runs,\n      setPage,\n      setPageSize,\n      retry,\n    },\n  ] as const;\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { Link, Typography, Box, IconButton, Tooltip } from '@material-ui/core';\nimport RetryIcon from '@material-ui/icons/Replay';\nimport GoogleIcon from '@material-ui/icons/CloudCircle';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useWorkflowRuns, WorkflowRun } from '../useWorkflowRuns';\nimport { WorkflowRunStatus } from '../WorkflowRunStatus';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport { useProjectName } from '../useProjectName';\nimport { Entity } from '@backstage/catalog-model';\nimport { buildRouteRef } from '../../routes';\nimport { DateTime } from 'luxon';\nimport { Table, TableColumn } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\n\nconst generatedColumns: TableColumn[] = [\n  {\n    title: 'Status',\n    width: '150px',\n\n    render: (row: Partial<WorkflowRun>) => (\n      <Box display=\"flex\" alignItems=\"center\">\n        <WorkflowRunStatus status={row.status} />\n      </Box>\n    ),\n  },\n  {\n    title: 'Build',\n    field: 'id',\n    type: 'numeric',\n    width: '150px',\n    render: (row: Partial<WorkflowRun>) => (\n      <Typography variant=\"body2\" noWrap>\n        {row.id?.substring(0, 8)}\n      </Typography>\n    ),\n  },\n  {\n    title: 'Source',\n    field: 'source',\n    highlight: true,\n    width: '200px',\n    render: (row: Partial<WorkflowRun>) => {\n      const LinkWrapper = () => {\n        const routeLink = useRouteRef(buildRouteRef);\n        return (\n          <Link\n            component={RouterLink}\n            data-testid=\"cell-source\"\n            to={routeLink({ id: row.id! })}\n          >\n            {row.message}\n          </Link>\n        );\n      };\n\n      return <LinkWrapper />;\n    },\n  },\n  {\n    title: 'Ref',\n    render: (row: Partial<WorkflowRun>) => (\n      <Typography variant=\"body2\" noWrap>\n        {row.substitutions?.BRANCH_NAME}\n      </Typography>\n    ),\n  },\n  {\n    title: 'Commit',\n    render: (row: Partial<WorkflowRun>) => (\n      <Typography variant=\"body2\" noWrap>\n        {row.substitutions?.SHORT_SHA}\n      </Typography>\n    ),\n  },\n  {\n    title: 'Created',\n    render: (row: Partial<WorkflowRun>) => (\n      <Typography data-testid=\"cell-created\" variant=\"body2\" noWrap>\n        {DateTime.fromISO(row.createTime ?? DateTime.now().toISO()).toFormat(\n          'dd-MM-yyyy hh:mm:ss',\n        )}\n      </Typography>\n    ),\n  },\n  {\n    title: 'Actions',\n    render: (row: Partial<WorkflowRun>) => (\n      <Tooltip title=\"Rerun workflow\">\n        <IconButton data-testid=\"action-rerun\" onClick={row.rerun}>\n          <RetryIcon />\n        </IconButton>\n      </Tooltip>\n    ),\n    width: '10%',\n  },\n];\n\ntype Props = {\n  loading: boolean;\n  retry: () => void;\n  runs?: WorkflowRun[];\n  projectName: string;\n  page: number;\n  onChangePage: (page: number) => void;\n  total: number;\n  pageSize: number;\n  onChangePageSize: (pageSize: number) => void;\n};\n\nexport const WorkflowRunsTableView = ({\n  projectName,\n  loading,\n  pageSize,\n  page,\n  retry,\n  runs,\n  onChangePage,\n  onChangePageSize,\n  total,\n}: Props) => {\n  return (\n    <Table\n      isLoading={loading}\n      options={{ paging: true, pageSize, padding: 'dense' }}\n      totalCount={total}\n      page={page}\n      actions={[\n        {\n          icon: () => <SyncIcon />,\n          tooltip: 'Reload workflow runs',\n          isFreeAction: true,\n          onClick: () => retry(),\n        },\n      ]}\n      data={runs ?? []}\n      onPageChange={onChangePage}\n      onRowsPerPageChange={onChangePageSize}\n      style={{ width: '100%' }}\n      title={\n        <Box display=\"flex\" alignItems=\"center\">\n          <GoogleIcon />\n          <Box mr={1} />\n          <Typography variant=\"h6\">{projectName}</Typography>\n        </Box>\n      }\n      columns={generatedColumns}\n    />\n  );\n};\n\nexport const WorkflowRunsTable = ({ entity }: { entity: Entity }) => {\n  const { value: projectName, loading } = useProjectName(entity);\n  const [projectId] = (projectName ?? '/').split('/');\n\n  const [tableProps, { retry, setPage, setPageSize }] = useWorkflowRuns({\n    projectId,\n  });\n\n  return (\n    <WorkflowRunsTableView\n      {...tableProps}\n      loading={loading || tableProps.loading}\n      retry={retry}\n      onChangePageSize={setPageSize}\n      onChangePage={setPage}\n    />\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { Entity } from '@backstage/catalog-model';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { Routes, Route } from 'react-router';\nimport { buildRouteRef } from '../routes';\nimport { WorkflowRunDetails } from './WorkflowRunDetails';\nimport { WorkflowRunsTable } from './WorkflowRunsTable';\nimport { CLOUDBUILD_ANNOTATION } from './useProjectName';\nimport { MissingAnnotationEmptyState } from '@backstage/core-components';\n\nexport const isCloudbuildAvailable = (entity: Entity) =>\n  Boolean(entity.metadata.annotations?.[CLOUDBUILD_ANNOTATION]);\n\nexport const Router = () => {\n  const { entity } = useEntity();\n\n  if (!isCloudbuildAvailable(entity)) {\n    // TODO(shmidt-i): move warning to a separate standardized component\n    return <MissingAnnotationEmptyState annotation={CLOUDBUILD_ANNOTATION} />;\n  }\n  return (\n    <Routes>\n      <Route path=\"/\" element={<WorkflowRunsTable entity={entity} />} />\n      <Route\n        path={`${buildRouteRef.path}`}\n        element={<WorkflowRunDetails entity={entity} />}\n      />\n    </Routes>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { useEffect } from 'react';\nimport { useWorkflowRuns, WorkflowRun } from '../useWorkflowRuns';\nimport { WorkflowRunsTable } from '../WorkflowRunsTable';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { WorkflowRunStatus } from '../WorkflowRunStatus';\nimport { Theme, makeStyles, LinearProgress } from '@material-ui/core';\nimport ExternalLinkIcon from '@material-ui/icons/Launch';\nimport { CLOUDBUILD_ANNOTATION } from '../useProjectName';\n\nimport {\n  InfoCard,\n  Link,\n  StructuredMetadataTable,\n  WarningPanel,\n} from '@backstage/core-components';\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\n\nconst useStyles = makeStyles<Theme>({\n  externalLinkIcon: {\n    fontSize: 'inherit',\n    verticalAlign: 'bottom',\n  },\n});\n\nconst WidgetContent = ({\n  error,\n  loading,\n  lastRun,\n  branch,\n}: {\n  error?: Error;\n  loading?: boolean;\n  lastRun: WorkflowRun;\n  branch: string;\n}) => {\n  const classes = useStyles();\n  if (error)\n    return <WarningPanel>Couldn't fetch latest {branch} run</WarningPanel>;\n  if (loading) return <LinearProgress />;\n  return (\n    <StructuredMetadataTable\n      metadata={{\n        status: (\n          <>\n            <WorkflowRunStatus status={lastRun.status} />\n          </>\n        ),\n        message: lastRun.message,\n        url: (\n          <Link to={lastRun.googleUrl ?? ''}>\n            See more on Google{' '}\n            <ExternalLinkIcon className={classes.externalLinkIcon} />\n          </Link>\n        ),\n      }}\n    />\n  );\n};\n\nexport const LatestWorkflowRunCard = ({\n  branch = 'master',\n}: {\n  branch: string;\n}) => {\n  const { entity } = useEntity();\n  const errorApi = useApi(errorApiRef);\n  const projectId = entity?.metadata.annotations?.[CLOUDBUILD_ANNOTATION] || '';\n\n  const [{ runs, loading, error }] = useWorkflowRuns({\n    projectId,\n  });\n  const lastRun = runs?.[0] ?? ({} as WorkflowRun);\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n\n  return (\n    <InfoCard title={`Last ${branch} build`}>\n      <WidgetContent\n        error={error}\n        loading={loading}\n        branch={branch}\n        lastRun={lastRun}\n      />\n    </InfoCard>\n  );\n};\n\nexport const LatestWorkflowsForBranchCard = ({\n  branch = 'master',\n}: {\n  branch: string;\n}) => {\n  const { entity } = useEntity();\n\n  return (\n    <InfoCard title={`Last ${branch} build`}>\n      <WorkflowRunsTable entity={entity} />\n    </InfoCard>\n  );\n};\n"],"names":["useStyles","MaterialLink","Link","RouterLink","Table"],"mappings":"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"}