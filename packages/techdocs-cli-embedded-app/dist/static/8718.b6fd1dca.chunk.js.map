{"version":3,"sources":["webpack://techdocs-cli-embedded-app/../core-components/src/components/LogViewer/AnsiProcessor.ts","webpack://techdocs-cli-embedded-app/../core-components/src/components/LogViewer/styles.ts","webpack://techdocs-cli-embedded-app/../core-components/src/components/LogViewer/LogLine.tsx","webpack://techdocs-cli-embedded-app/../core-components/src/components/LogViewer/LogViewerControls.tsx","webpack://techdocs-cli-embedded-app/../core-components/src/components/LogViewer/useLogViewerSearch.tsx","webpack://techdocs-cli-embedded-app/../core-components/src/components/LogViewer/useLogViewerSelection.tsx","webpack://techdocs-cli-embedded-app/../core-components/src/components/LogViewer/RealLogViewer.tsx"],"names":[],"mappings":"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","file":"static/8718.b6fd1dca.chunk.js","sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ansiRegexMaker from 'ansi-regex';\n\nconst ansiRegex = ansiRegexMaker();\nconst newlineRegex = /\\n\\r?/g;\n\n// A mapping of how each escape code changes the modifiers\nconst codeModifiers = Object.fromEntries(\n  Object.entries({\n    1: m => ({ ...m, bold: true }),\n    3: m => ({ ...m, italic: true }),\n    4: m => ({ ...m, underline: true }),\n    22: ({ bold: _, ...m }) => m,\n    23: ({ italic: _, ...m }) => m,\n    24: ({ underline: _, ...m }) => m,\n    30: m => ({ ...m, foreground: 'black' }),\n    31: m => ({ ...m, foreground: 'red' }),\n    32: m => ({ ...m, foreground: 'green' }),\n    33: m => ({ ...m, foreground: 'yellow' }),\n    34: m => ({ ...m, foreground: 'blue' }),\n    35: m => ({ ...m, foreground: 'magenta' }),\n    36: m => ({ ...m, foreground: 'cyan' }),\n    37: m => ({ ...m, foreground: 'white' }),\n    39: ({ foreground: _, ...m }) => m,\n    90: m => ({ ...m, foreground: 'grey' }),\n    40: m => ({ ...m, background: 'black' }),\n    41: m => ({ ...m, background: 'red' }),\n    42: m => ({ ...m, background: 'green' }),\n    43: m => ({ ...m, background: 'yellow' }),\n    44: m => ({ ...m, background: 'blue' }),\n    45: m => ({ ...m, background: 'magenta' }),\n    46: m => ({ ...m, background: 'cyan' }),\n    47: m => ({ ...m, background: 'white' }),\n    49: ({ background: _, ...m }) => m,\n  } ).map(\n    ([code, modifier]) => [`\\x1b[${code}m`, modifier],\n  ),\n);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport class AnsiLine {\n  text;\n\n  constructor(\n     lineNumber = 1,\n     chunks = [],\n  ) {;this.lineNumber = lineNumber;this.chunks = chunks;\n    this.text = chunks\n      .map(c => c.text)\n      .join('')\n      .toLocaleLowerCase('en-US');\n  }\n\n  lastChunk() {\n    return this.chunks[this.chunks.length - 1];\n  }\n\n  replaceLastChunk(newChunks) {\n    if (newChunks) {\n      this.chunks.splice(this.chunks.length - 1, 1, ...newChunks);\n      this.text = this.chunks\n        .map(c => c.text)\n        .join('')\n        .toLocaleLowerCase('en-US');\n    }\n  }\n}\n\nexport class AnsiProcessor {\n   text = '';\n   lines = [];\n\n  /**\n   * Processes a chunk of text while keeping internal state that optimizes\n   * subsequent processing that appends to the text.\n   */\n  process(text) {\n    if (this.text === text) {\n      return this.lines;\n    }\n\n    if (text.startsWith(this.text)) {\n      const lastLineIndex = this.lines.length > 0 ? this.lines.length - 1 : 0;\n      const lastLine = this.lines[lastLineIndex] ?? new AnsiLine();\n      const lastChunk = lastLine.lastChunk();\n\n      const newLines = this.processLines(\n        (lastChunk?.text ?? '') + text.slice(this.text.length),\n        lastChunk?.modifiers,\n        lastLine?.lineNumber,\n      );\n      lastLine.replaceLastChunk(newLines[0]?.chunks);\n\n      this.lines[lastLineIndex] = lastLine;\n      this.lines.push(...newLines.slice(1));\n    } else {\n      this.lines = this.processLines(text);\n    }\n    this.text = text;\n\n    return this.lines;\n  }\n\n  // Split a chunk of text up into lines and process each line individually\n   processLines = (\n    text,\n    modifiers = {},\n    startingLineNumber = 1,\n  ) => {\n    const lines = [];\n\n    let currentModifiers = modifiers;\n    let currentLineNumber = startingLineNumber;\n\n    let prevIndex = 0;\n    newlineRegex.lastIndex = 0;\n    for (;;) {\n      const match = newlineRegex.exec(text);\n      if (!match) {\n        const chunks = this.processText(\n          text.slice(prevIndex),\n          currentModifiers,\n        );\n        lines.push(new AnsiLine(currentLineNumber, chunks));\n        return lines;\n      }\n\n      const line = text.slice(prevIndex, match.index);\n      prevIndex = match.index + match[0].length;\n\n      const chunks = this.processText(line, currentModifiers);\n      lines.push(new AnsiLine(currentLineNumber, chunks));\n\n      // Modifiers that are active in the last chunk are carried over to the next line\n      currentModifiers =\n        chunks[chunks.length - 1].modifiers ?? currentModifiers;\n      currentLineNumber += 1;\n    }\n  };\n\n  // Processing of a one individual text chunk\n   processText = (\n    fullText,\n    modifiers,\n  ) => {\n    const chunks = [];\n\n    let currentModifiers = modifiers;\n\n    let prevIndex = 0;\n    ansiRegex.lastIndex = 0;\n    for (;;) {\n      const match = ansiRegex.exec(fullText);\n      if (!match) {\n        chunks.push({\n          text: fullText.slice(prevIndex),\n          modifiers: currentModifiers,\n        });\n        return chunks;\n      }\n\n      const text = fullText.slice(prevIndex, match.index);\n      chunks.push({ text, modifiers: currentModifiers });\n\n      // For every escape code that we encounter we keep track of where the\n      // next chunk of text starts, and what modifiers it has\n      prevIndex = match.index + match[0].length;\n      currentModifiers = this.processCode(match[0], currentModifiers);\n    }\n  };\n\n   processCode = (\n    code,\n    modifiers,\n  ) => {\n    return codeModifiers[code]?.(modifiers) ?? modifiers;\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { alpha, makeStyles } from '@material-ui/core/styles';\nimport * as colors from '@material-ui/core/colors';\n\nexport const HEADER_SIZE = 40;\n\n/** @public Class keys for overriding LogViewer styles */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const useStyles = makeStyles(\n  theme => ({\n    root: {\n      background: theme.palette.background.paper,\n    },\n    header: {\n      height: HEADER_SIZE,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n    },\n    log: {\n      fontFamily: '\"Monaco\", monospace',\n      fontSize: theme.typography.pxToRem(12),\n    },\n    line: {\n      position: 'relative',\n      whiteSpace: 'pre',\n\n      '&:hover': {\n        background: theme.palette.action.hover,\n      },\n    },\n    lineSelected: {\n      background: theme.palette.action.selected,\n\n      '&:hover': {\n        background: theme.palette.action.selected,\n      },\n    },\n    lineCopyButton: {\n      position: 'absolute',\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n    lineNumber: {\n      display: 'inline-block',\n      textAlign: 'end',\n      width: 60,\n      marginRight: theme.spacing(1),\n      cursor: 'pointer',\n    },\n    textHighlight: {\n      background: alpha(theme.palette.info.main, 0.15),\n    },\n    textSelectedHighlight: {\n      background: alpha(theme.palette.info.main, 0.4),\n    },\n    modifierBold: {\n      fontWeight: theme.typography.fontWeightBold,\n    },\n    modifierItalic: {\n      fontStyle: 'italic',\n    },\n    modifierUnderline: {\n      textDecoration: 'underline',\n    },\n    modifierForegroundBlack: {\n      color: colors.common.black,\n    },\n    modifierForegroundRed: {\n      color: colors.red[500],\n    },\n    modifierForegroundGreen: {\n      color: colors.green[500],\n    },\n    modifierForegroundYellow: {\n      color: colors.yellow[500],\n    },\n    modifierForegroundBlue: {\n      color: colors.blue[500],\n    },\n    modifierForegroundMagenta: {\n      color: colors.purple[500],\n    },\n    modifierForegroundCyan: {\n      color: colors.cyan[500],\n    },\n    modifierForegroundWhite: {\n      color: colors.common.white,\n    },\n    modifierForegroundGrey: {\n      color: colors.grey[500],\n    },\n    modifierBackgroundBlack: {\n      background: colors.common.black,\n    },\n    modifierBackgroundRed: {\n      background: colors.red[500],\n    },\n    modifierBackgroundGreen: {\n      background: colors.green[500],\n    },\n    modifierBackgroundYellow: {\n      background: colors.yellow[500],\n    },\n    modifierBackgroundBlue: {\n      background: colors.blue[500],\n    },\n    modifierBackgroundMagenta: {\n      background: colors.purple[500],\n    },\n    modifierBackgroundCyan: {\n      background: colors.cyan[500],\n    },\n    modifierBackgroundWhite: {\n      background: colors.common.white,\n    },\n    modifierBackgroundGrey: {\n      background: colors.grey[500],\n    },\n  }),\n  { name: 'BackstageLogViewer' },\n);\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useMemo } from 'react';\n\nimport startCase from 'lodash/startCase';\nimport classnames from 'classnames';\n\n\nexport function getModifierClasses(\n  classes,\n  modifiers,\n) {\n  const classNames = new Array();\n  if (modifiers.bold) {\n    classNames.push(classes.modifierBold);\n  }\n  if (modifiers.italic) {\n    classNames.push(classes.modifierItalic);\n  }\n  if (modifiers.underline) {\n    classNames.push(classes.modifierUnderline);\n  }\n  if (modifiers.foreground) {\n    const key = `modifierForeground${startCase(\n      modifiers.foreground,\n    )}` ;\n    classNames.push(classes[key]);\n  }\n  if (modifiers.background) {\n    const key = `modifierBackground${startCase(\n      modifiers.background,\n    )}` ;\n    classNames.push(classes[key]);\n  }\n  return classNames.length > 0 ? classNames.join(' ') : undefined;\n}\n\nexport function findSearchResults(text, searchText) {\n  if (!searchText || !text.includes(searchText)) {\n    return undefined;\n  }\n  const searchResults = new Array();\n  let offset = 0;\n  for (;;) {\n    const start = text.indexOf(searchText, offset);\n    if (start === -1) {\n      break;\n    }\n    const end = start + searchText.length;\n    searchResults.push({ start, end });\n    offset = end;\n  }\n  return searchResults;\n}\n\n\n\n\n\nexport function calculateHighlightedChunks(\n  line,\n  searchText,\n) {\n  const results = findSearchResults(line.text, searchText);\n  if (!results) {\n    return line.chunks;\n  }\n\n  const chunks = new Array();\n\n  let lineOffset = 0;\n  let resultIndex = 0;\n  let result = results[resultIndex];\n  for (const chunk of line.chunks) {\n    const { text, modifiers } = chunk;\n    if (!result || lineOffset + text.length < result.start) {\n      chunks.push(chunk);\n      lineOffset += text.length;\n      continue;\n    }\n\n    let localOffset = 0;\n    while (result) {\n      const localStart = Math.max(result.start - lineOffset, 0);\n      if (localStart > text.length) {\n        break; // The next result is not in this chunk\n      }\n\n      const localEnd = Math.min(result.end - lineOffset, text.length);\n\n      const hasTextBeforeResult = localStart > localOffset;\n      if (hasTextBeforeResult) {\n        chunks.push({ text: text.slice(localOffset, localStart), modifiers });\n      }\n      const hasResultText = localEnd > localStart;\n      if (hasResultText) {\n        chunks.push({\n          modifiers,\n          highlight: resultIndex,\n          text: text.slice(localStart, localEnd),\n        });\n      }\n\n      localOffset = localEnd;\n\n      const foundCompleteResult = result.end - lineOffset === localEnd;\n      if (foundCompleteResult) {\n        resultIndex += 1;\n        result = results[resultIndex];\n      } else {\n        break; // The rest of the result is in the following chunks\n      }\n    }\n\n    const hasTextAfterResult = localOffset < text.length;\n    if (hasTextAfterResult) {\n      chunks.push({ text: text.slice(localOffset), modifiers });\n    }\n\n    lineOffset += text.length;\n  }\n\n  return chunks;\n}\n\n\n\n\n\n\n\n\nexport function LogLine({\n  line,\n  classes,\n  searchText,\n  highlightResultIndex,\n}) {\n  const chunks = useMemo(\n    () => calculateHighlightedChunks(line, searchText),\n    [line, searchText],\n  );\n\n  const elements = useMemo(\n    () =>\n      chunks.map(({ text, modifiers, highlight }, index) => (\n        React.createElement('span', {\n          key: index,\n          className: classnames(\n            getModifierClasses(classes, modifiers),\n            highlight !== undefined &&\n              (highlight === highlightResultIndex\n                ? classes.textSelectedHighlight\n                : classes.textHighlight),\n          ),}\n        \n          , text\n        )\n      )),\n    [chunks, highlightResultIndex, classes],\n  );\n\n  return React.createElement(React.Fragment, null, elements);\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport FilterListIcon from '@material-ui/icons/FilterList';\n\n\n\n\nexport function LogViewerControls(props) {\n  const { resultCount, resultIndexStep, toggleShouldFilter } = props;\n  const resultIndex = props.resultIndex ?? 0;\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      if (event.metaKey || event.ctrlKey || event.altKey) {\n        toggleShouldFilter();\n      } else {\n        resultIndexStep(event.shiftKey);\n      }\n    }\n  };\n\n  return (\n    React.createElement(React.Fragment, null\n      , resultCount !== undefined && (\n        React.createElement(React.Fragment, null\n          , React.createElement(IconButton, { size: \"small\", onClick: () => resultIndexStep(true),}\n            , React.createElement(ChevronLeftIcon, null )\n          )\n          , React.createElement(Typography, null\n            , Math.min(resultIndex + 1, resultCount), \"/\", resultCount\n          )\n          , React.createElement(IconButton, { size: \"small\", onClick: () => resultIndexStep(),}\n            , React.createElement(ChevronRightIcon, null )\n          )\n        )\n      )\n      , React.createElement(TextField, {\n        size: \"small\",\n        variant: \"standard\",\n        placeholder: \"Search\",\n        value: props.searchInput,\n        onKeyPress: handleKeyPress,\n        onChange: e => props.setSearchInput(e.target.value),}\n      )\n      , React.createElement(IconButton, { size: \"small\", onClick: toggleShouldFilter,}\n        , props.shouldFilter ? (\n          React.createElement(FilterListIcon, { color: \"primary\",} )\n        ) : (\n          React.createElement(FilterListIcon, { color: \"disabled\",} )\n        )\n      )\n    )\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useMemo, useState } from 'react';\nimport { useToggle } from '@react-hookz/web';\n\n\nexport function applySearchFilter(lines, searchText) {\n  if (!searchText) {\n    return { lines };\n  }\n\n  const matchingLines = [];\n  const searchResults = [];\n  for (const line of lines) {\n    if (line.text.includes(searchText)) {\n      matchingLines.push(line);\n\n      let offset = 0;\n      let lineResultIndex = 0;\n      for (;;) {\n        const start = line.text.indexOf(searchText, offset);\n        if (start === -1) {\n          break;\n        }\n        searchResults.push({\n          lineNumber: line.lineNumber,\n          lineIndex: lineResultIndex++,\n        });\n        offset = start + searchText.length;\n      }\n    }\n  }\n\n  return {\n    lines: matchingLines,\n    results: searchResults,\n  };\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport function useLogViewerSearch(lines) {\n  const [searchInput, setSearchInput] = useState('');\n  const searchText = searchInput.toLocaleLowerCase('en-US');\n\n  const [resultIndex, setResultIndex] = useState(0);\n\n  const [shouldFilter, toggleShouldFilter] = useToggle(false);\n\n  const filter = useMemo(\n    () => applySearchFilter(lines, searchText),\n    [lines, searchText],\n  );\n\n  const searchResult = filter.results\n    ? filter.results[Math.min(resultIndex, filter.results.length - 1)]\n    : undefined;\n  const resultCount = filter.results?.length;\n\n  const resultIndexStep = (decrement) => {\n    if (decrement) {\n      if (resultCount !== undefined) {\n        const next = Math.min(resultIndex - 1, resultCount - 2);\n        setResultIndex(next < 0 ? resultCount - 1 : next);\n      }\n    } else {\n      if (resultCount !== undefined) {\n        const next = resultIndex + 1;\n        setResultIndex(next >= resultCount ? 0 : next);\n      }\n    }\n  };\n\n  return {\n    lines: shouldFilter ? filter.lines : lines,\n    searchText,\n    searchInput,\n    setSearchInput,\n    shouldFilter,\n    toggleShouldFilter,\n    resultCount,\n    resultIndex,\n    resultIndexStep,\n    resultLine: searchResult?.lineNumber,\n    resultLineIndex: searchResult?.lineIndex,\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\nimport { useEffect, useState } from 'react';\nimport useCopyToClipboard from 'react-use/lib/useCopyToClipboard';\n\n\nexport function useLogViewerSelection(lines) {\n  const errorApi = useApi(errorApiRef);\n  const [sel, setSelection] = useState();\n  const start = sel ? Math.min(sel.start, sel.end) : undefined;\n  const end = sel ? Math.max(sel.start, sel.end) : undefined;\n\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n\n  return {\n    shouldShowButton(line) {\n      return start === line || end === line;\n    },\n    isSelected(line) {\n      if (!sel) {\n        return false;\n      }\n      return start <= line && line <= end;\n    },\n    setSelection(line, add) {\n      if (add) {\n        setSelection(s =>\n          s ? { start: s.start, end: line } : { start: line, end: line },\n        );\n      } else {\n        setSelection(s =>\n          s?.start === line && s?.end === line\n            ? undefined\n            : { start: line, end: line },\n        );\n      }\n    },\n    copySelection() {\n      if (sel) {\n        const copyText = lines\n          .slice(Math.min(sel.start, sel.end) - 1, Math.max(sel.start, sel.end))\n          .map(l => l.chunks.map(c => c.text).join(''))\n          .join('\\n');\n        copyToClipboard(copyText);\n        setSelection(undefined);\n      }\n    },\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { FixedSizeList } from 'react-window';\nimport { AnsiProcessor } from './AnsiProcessor';\nimport { HEADER_SIZE, useStyles } from './styles';\nimport classnames from 'classnames';\nimport { LogLine } from './LogLine';\nimport { LogViewerControls } from './LogViewerControls';\nimport { useLogViewerSearch } from './useLogViewerSearch';\nimport { useLogViewerSelection } from './useLogViewerSelection';\n\n\n\n\n\n\nexport function RealLogViewer(props) {\n  const classes = useStyles({ classes: props.classes });\n  const listRef = useRef(null);\n\n  // The processor keeps state that optimizes appending to the text\n  const processor = useMemo(() => new AnsiProcessor(), []);\n  const lines = processor.process(props.text);\n\n  const search = useLogViewerSearch(lines);\n  const selection = useLogViewerSelection(lines);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (search.resultLine !== undefined && listRef.current) {\n      listRef.current.scrollToItem(search.resultLine - 1, 'center');\n    }\n  }, [search.resultLine]);\n\n  useEffect(() => {\n    if (location.hash) {\n      // #line-6 -> 6\n      const line = parseInt(location.hash.replace(/\\D/g, ''), 10);\n      selection.setSelection(line, false);\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleSelectLine = (\n    line,\n    event,\n  ) => {\n    selection.setSelection(line, event.shiftKey);\n  };\n\n  return (\n    React.createElement(AutoSizer, null\n      , ({ height, width }) => (\n        React.createElement('div', { style: { width, height }, className: classes.root,}\n          , React.createElement('div', { className: classes.header,}\n            , React.createElement(LogViewerControls, { ...search,} )\n          )\n          , React.createElement(FixedSizeList, {\n            ref: listRef,\n            className: classes.log,\n            height: height - HEADER_SIZE,\n            width: width,\n            itemData: search.lines,\n            itemSize: 20,\n            itemCount: search.lines.length,}\n          \n            , ({ index, style, data }) => {\n              const line = data[index];\n              const { lineNumber } = line;\n              return (\n                React.createElement('div', {\n                  style: { ...style },\n                  className: classnames(classes.line, {\n                    [classes.lineSelected]: selection.isSelected(lineNumber),\n                  }),}\n                \n                  , selection.shouldShowButton(lineNumber) && (\n                    React.createElement(IconButton, {\n                      'data-testid': \"copy-button\",\n                      size: \"small\",\n                      className: classes.lineCopyButton,\n                      onClick: () => selection.copySelection(),}\n                    \n                      , React.createElement(CopyIcon, { fontSize: \"inherit\",} )\n                    )\n                  )\n                  , React.createElement('a', {\n                    role: \"row\",\n                    target: \"_self\",\n                    href: `#line-${lineNumber}`,\n                    className: classes.lineNumber,\n                    onClick: event => handleSelectLine(lineNumber, event),\n                    onKeyPress: event => handleSelectLine(lineNumber, event),}\n                  \n                    , lineNumber\n                  )\n                  , React.createElement(LogLine, {\n                    line: line,\n                    classes: classes,\n                    searchText: search.searchText,\n                    highlightResultIndex: \n                      search.resultLine === lineNumber\n                        ? search.resultLineIndex\n                        : undefined\n                    ,}\n                  )\n                )\n              );\n            }\n          )\n        )\n      )\n    )\n  );\n}\n"],"sourceRoot":""}