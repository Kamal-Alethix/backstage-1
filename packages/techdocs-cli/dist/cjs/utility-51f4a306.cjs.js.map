{"version":3,"file":"utility-51f4a306.cjs.js","sources":["../../src/lib/utility.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  RemoteProtocol,\n  ParsedLocationAnnotation,\n} from '@backstage/plugin-techdocs-node';\nimport * as winston from 'winston';\n\nexport const convertTechDocsRefToLocationAnnotation = (\n  techdocsRef: string,\n): ParsedLocationAnnotation => {\n  // Split on the first colon for the protocol and the rest after the first split\n  // is the location.\n  const [type, target] = techdocsRef.split(/:(.+)/) as [\n    RemoteProtocol?,\n    string?,\n  ];\n\n  if (!type || !target) {\n    throw new Error(\n      `Can not parse --techdocs-ref ${techdocsRef}. Should be of type HOST:URL.`,\n    );\n  }\n\n  return { type, target };\n};\n\nexport const createLogger = ({\n  verbose = false,\n}: {\n  verbose: boolean;\n}): winston.Logger => {\n  const logger = winston.createLogger({\n    level: verbose ? 'verbose' : 'info',\n    transports: [\n      new winston.transports.Console({ format: winston.format.simple() }),\n    ],\n  });\n\n  return logger;\n};\n"],"names":["winston"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AACY,MAAC,sCAAsC,GAAG,CAAC,WAAW,KAAK;AACvE,EAAE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACpD,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE;AACxB,IAAI,MAAM,IAAI,KAAK,CAAC,CAAC,6BAA6B,EAAE,WAAW,CAAC,6BAA6B,CAAC,CAAC,CAAC;AAChG,GAAG;AACH,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;AAC1B,EAAE;AACU,MAAC,YAAY,GAAG,CAAC;AAC7B,EAAE,OAAO,GAAG,KAAK;AACjB,CAAC,KAAK;AACN,EAAE,MAAM,MAAM,GAAGA,kBAAO,CAAC,YAAY,CAAC;AACtC,IAAI,KAAK,EAAE,OAAO,GAAG,SAAS,GAAG,MAAM;AACvC,IAAI,UAAU,EAAE;AAChB,MAAM,IAAIA,kBAAO,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,MAAM,EAAEA,kBAAO,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC;AACzE,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,MAAM,CAAC;AAChB;;;;;"}