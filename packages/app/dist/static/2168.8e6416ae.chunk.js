"use strict";(()=>{(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[2168],{52168:function(me,x,t){t.r(x),t.d(x,{Router:function(){return se}});var e=t(2784),p=t(10289),o=t(23192),i=t(53479),B=t(82108),I=t.n(B),f=t(95544),v=t(90436),P=t(5806),R=t(21324),L=t(86619),A=t(19996),z=t(25505),N=t(38016),b=t(88013),u=t(36964);const H=e.createElement(z.Z,{fontSize:"small"}),W=e.createElement(A.Z,{fontSize:"small"}),G=()=>{const n=(0,u.useApi)(u.alertApiRef),{error:a,loading:l,availableTypes:r,selectedTypes:m,setSelectedTypes:c}=(0,i.useEntityTypeFilter)();return l?e.createElement(o.Progress,null):a?(n.post({message:`Failed to load entity types with error: ${a}`,severity:"error"}),null):r?e.createElement(f.Z,{pb:1,pt:1},e.createElement(v.Z,{variant:"button"},"Categories"),e.createElement(b.ZP,{multiple:!0,"aria-label":"Categories",options:r,value:m,onChange:(s,d)=>c(d),renderOption:(s,{selected:d})=>e.createElement(P.Z,{control:e.createElement(R.Z,{icon:H,checkedIcon:W,checked:d}),label:I()(s)}),size:"small",popupIcon:e.createElement(N.Z,null),renderInput:s=>e.createElement(L.Z,{...s,variant:"outlined"})})):null};var O=t(77277),Q=t(61837),k=t(41156),T=t(62833),D=t(88188),U=t(72415),M=t(68099);const j=n=>{const{title:a,to:l}=n,{allowed:r}=(0,M.gI)({permission:U.catalogEntityCreatePermission}),m=(0,k.Z)(c=>c.breakpoints.down("xs"));return!l||!r?null:m?e.createElement(Q.Z,{component:T.rU,color:"primary",title:a,size:"small",to:l},e.createElement(D.Z,null)):e.createElement(O.Z,{component:T.rU,variant:"contained",color:"primary",to:l},a)};var y=t(48326),Z=t(79692),K=t(94339),J=t(24579),X=t(85256),$=t(7089),V=t(14503),Y=t(60364);const w=(0,Z.Z)(()=>({header:{backgroundImage:({cardBackgroundImage:n})=>n},subtitleWrapper:{display:"flex",justifyContent:"space-between"}})),q=n=>{const{template:{metadata:{title:a,name:l},spec:{type:r}}}=n,{getPageTheme:m}=(0,Y.Z)(),c=m({themeId:r}),s=w({cardBackgroundImage:c.backgroundImage}),d=e.createElement("div",{className:s.subtitleWrapper},e.createElement("div",null,r),e.createElement("div",null,e.createElement(i.FavoriteEntity,{entity:n.template,style:{padding:0}})));return e.createElement(o.ItemCardHeader,{title:a!=null?a:l,subtitle:d,classes:{root:s.header}})};var S=t(48023);const _=(0,Z.Z)(n=>({box:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":10,"-webkit-box-orient":"vertical","& p:first-child":{marginTop:0,marginBottom:n.spacing(2)}},label:{color:n.palette.text.secondary,textTransform:"uppercase",fontWeight:"bold",letterSpacing:.5,lineHeight:1,fontSize:"0.75rem"},margin:{marginBottom:n.spacing(2)},footer:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},ownedBy:{display:"flex",alignItems:"center",flex:1,color:n.palette.link}})),ee=n=>{var s,d,E,g;const{template:a}=n,l=_(),r=(0,i.getEntityRelations)(a,S.S4),c=(0,u.useRouteRef)(y.QQ)({templateName:a.metadata.name});return e.createElement(K.Z,null,e.createElement(q,{template:a}),e.createElement(J.Z,null,e.createElement(f.Z,{className:l.box},e.createElement(o.MarkdownContent,{content:(s=a.metadata.description)!=null?s:"No description"})),((E=(d=a.metadata.tags)==null?void 0:d.length)!=null?E:0)>0&&e.createElement(e.Fragment,null,e.createElement(X.Z,{className:l.margin}),e.createElement(f.Z,null,(g=a.metadata.tags)==null?void 0:g.map(C=>e.createElement($.Z,{size:"small",label:C,key:C}))))),e.createElement(V.Z,null,e.createElement("div",{className:l.footer},e.createElement("div",{className:l.ownedBy},r.length>0&&e.createElement(e.Fragment,null,e.createElement(o.UserIcon,null),e.createElement(i.EntityRefLinks,{entityRefs:r,defaultKind:"Group"}))),e.createElement(o.Button,{size:"small",variant:"outlined",color:"primary",to:c},"Choose"))))},te=n=>{const{templates:a,title:l,components:{CardComponent:r}={}}=n,m=typeof l=="string"?e.createElement(o.ContentHeader,{title:l}):l;if(a.length===0)return e.createElement(o.Content,null,m,e.createElement(v.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",e.createElement(o.Link,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."));const c=r||ee;return e.createElement(o.Content,null,m,e.createElement(o.ItemCardGrid,null,a.map(s=>e.createElement(c,{key:(0,S.eE)(s),template:s}))))},ne=n=>{const{loading:a,error:l,entities:r}=(0,i.useEntityList)(),{groups:m,TemplateCardComponent:c}=n,s=(0,u.useApi)(u.errorApiRef);return a?e.createElement(o.Progress,null):l?(s.post(l),null):!r||!r.length?e.createElement(v.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",e.createElement(o.Link,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."):e.createElement(e.Fragment,null,m.map(({title:d,filter:E},g)=>e.createElement(te,{key:g,templates:r.filter(C=>E(C)),title:d,components:{CardComponent:c}})))},ae={title:"All Templates",filter:()=>!0},le=n=>{const a=(0,u.useRouteRef)(y.Jd),{TemplateCardComponent:l,groups:r=[ae]}=n;return e.createElement(i.EntityListProvider,null,e.createElement(o.Page,{themeId:"home"},e.createElement(o.Header,{pageTitleOverride:"Create a New Component",title:"Create a New Component",subtitle:"Create new software components using standard templates"}),e.createElement(o.Content,null,e.createElement(o.ContentHeader,{title:"Available Templates"},e.createElement(j,{title:"Register Existing Component",to:a&&a()}),e.createElement(o.SupportButton,null,"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).")),e.createElement(i.CatalogFilterLayout,null,e.createElement(i.CatalogFilterLayout.Filters,null,e.createElement(i.EntitySearchBar,null),e.createElement(i.EntityKindPicker,{initialFilter:"template",hidden:!0}),e.createElement(i.UserListPicker,{initialFilter:"all",availableFilters:["all","starred"]}),e.createElement(G,null),e.createElement(i.EntityTagPicker,null)),e.createElement(i.CatalogFilterLayout.Content,null,e.createElement(ne,{groups:r,TemplateCardComponent:l}))))))},F=(0,e.createContext)(void 0),re=({children:n})=>{const[a,l]=(0,e.useState)({});return e.createElement(F.Provider,{value:{secrets:a,setSecrets:l}},n)},ce=()=>{const n=useContext(F);if(!n)throw new Error("useTemplateSecrets must be used within a SecretsContextProvider");const{setSecrets:a}=n;return{setSecret:useCallback(r=>{a(m=>({...m,...r}))},[a])}},oe=n=>null;var h=t(27542);const se=n=>{const{components:{TemplateCardComponent:a}={}}=n,l=(0,p.pC)()||n.children,r=(0,u.useElementFilter)(l,c=>c.selectByComponentData({key:h.n0}).findComponentData({key:h.rL})),m=[...r,...h.zc.filter(({name:c})=>!r.some(s=>s.name===c))];return e.createElement(p.Z5,null,e.createElement(p.AW,{element:e.createElement(le,{TemplateCardComponent:a,groups:n.groups})}),e.createElement(p.AW,{path:y.QQ.path,element:e.createElement(re,null,e.createElement(oe,{customFieldExtensions:m}))}))}}}]);})();

//# sourceMappingURL=2168.8e6416ae.chunk.js.map