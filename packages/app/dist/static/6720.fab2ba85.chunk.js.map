{"version":3,"sources":["webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/hooks/useCalendarsQuery.ts","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/hooks/useEventsQuery.ts","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/hooks/useSignIn.ts","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/hooks/useStoredCalendars.ts","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/AttendeeChip.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/util.ts","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/CalendarEventPopoverContent.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/CalendarEvent.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/CalendarSelect.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/signInEventMock.ts","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/SignInContent.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/CalendarCard.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcalendar/src/components/CalendarCard/HomePageCalendar.tsx"],"names":[],"mappings":"sTA0BO,KAAM,GAAoB,CAAC,CAAE,aAAc,CAChD,KAAM,GAAc,aAAO,GAAe,EACpC,EAAW,aAAO,aAAW,EAEnC,MAAO,eACL,CAAC,WAAW,EACZ,SAAY,CACV,KAAM,GAAY,CAAC,EACnB,GAAI,GAAQ,GACZ,EAAG,CACD,KAAM,CAAE,gBAAgB,GAAI,QAAQ,CAAC,GACnC,KAAM,GAAY,aAAa,CAC7B,WAAY,IACZ,cAAe,SACf,UAAW,CACb,CAAC,EACH,EAAQ,EACR,EAAU,KAAK,GAAG,CAAK,CACzB,OAAS,GAET,MAAO,EACT,EACA,CACE,UACA,iBAAkB,GAClB,gBAAiB,KACjB,QAAS,IAAM,CACb,EAAS,KAAK,CACZ,KAAM,YACN,QAAS,4BACX,CAAC,CACH,CACF,CACF,CACF,EC1Ba,EAAiB,CAAC,CAC7B,oBAAoB,CAAC,EACrB,YAAY,CAAC,EACb,UACA,UACA,UACA,cACI,CACJ,KAAM,GAAc,aAAO,GAAe,EACpC,EAAe,iBACnB,EACG,OAAO,GAAM,EAAU,KAAK,GAAK,EAAE,KAAO,CAAE,CAAC,EAC7C,IAAI,GAAc,CACjB,KAAM,GAAW,EAAU,KAAK,GAAK,EAAE,KAAO,CAAU,EAExD,MAAO,CACL,SAAU,CAAC,iBAAkB,EAAY,EAAS,CAAO,EACzD,UACA,YAAa,CAAC,EACd,gBAAiB,IACjB,4BAA6B,GAC7B,QAAS,SAYC,CAXK,MAAM,GAAY,UAAU,EAAY,CACnD,aACA,UACA,UACA,YAAa,GACb,aAAc,GACd,WAAY,IACZ,QAAS,YACT,UACF,CAAC,GAEY,OAAS,CAAC,GAAG,IAAI,GAAS,C,QACrC,KAAM,GAAiB,QAAM,YAAN,cAAiB,KACtC,GAAK,CAAC,CAAC,EAAE,QADY,cAEpB,eAEH,MAAO,CACL,GAAG,EACH,QAAS,eAAS,EAAM,SAAW,EAAE,EACrC,aACA,gBAAiB,iBAAU,gBAC3B,QAAS,CAAC,CAAC,YAAU,SACrB,gBACF,CACF,CAAC,CAEL,CACF,CAAC,CACL,EAEM,EAAS,cACb,IAAM,cAAQ,EAAa,IAAI,CAAC,CAAE,UAAW,CAAI,EAAE,KAAK,CAAC,EACzD,CAAC,CAAY,CACf,EAEM,EACJ,CAAC,CAAC,EAAa,KAAK,GAAK,EAAE,UAAU,GAAK,EAAO,SAAW,EAE9D,MAAO,CAAE,SAAQ,WAAU,CAC7B,EC5Ea,EAAY,IAAM,CAC7B,KAAM,CAAC,EAAY,GAAe,eAAS,EAAK,EAC1C,CAAC,EAAe,GAAkB,eAAS,EAAK,EAChD,EAAU,aAAO,kBAAgB,EAEjC,EAAS,kBACb,MAAO,EAAW,KAAU,CAC1B,KAAM,GAAQ,KAAM,GAAQ,eAC1B,oDACA,CACE,WACA,aAAc,CAAC,CACjB,CACF,EAEA,EAAY,CAAC,CAAC,CAAK,EACnB,EAAe,EAAI,CACrB,EACA,CAAC,EAAS,CAAW,CACvB,EAEA,MAAO,CAAE,aAAY,gBAAe,QAAO,CAC7C,E,0BCrBW,EAAmB,UAAU,EAAkB,CACxD,KAAM,GAAoB,4BAA6B,EAAiB,kBAAuB,CACjG,GAAG,GAAqB,GAAmB,CAAC,EAAE,EAEvC,WACL,EACA,CACA,KAAM,GAAgB,UAAsB,EACtC,EAAa,EAAiB,kBAC9B,EAAa,aAAO,eAAa,EAAE,UAAU,CAAa,EAC1D,EAAY,GAAU,CAC1B,EAAW,IAAI,EAAY,CAAK,CAClC,EACM,EAAW,QACf,EAAW,SAAS,CAAU,EAC9B,EAAW,SAAS,CAAU,CAChC,EACA,GAAI,GACJ,MAAI,GAAS,WAAa,SACxB,EAAS,EAET,EAAS,EAAS,MAEb,CAAC,EAAQ,CAAQ,CAC1B,C,uQCnBA,KAAM,IAAY,QAAY,GAAU,CACtC,KAAM,GAAgB,GACf,EAEE,CACL,CAAC,eAA0B,EAAM,QAAQ,OAAO,GAChD,CAAC,eAA0B,EAAM,QAAQ,OAAO,KAClD,EAAE,GAL0B,EAAM,QAAQ,QAAQ,MAQpD,MAAO,CACL,eAAgB,CACd,MAAO,CAAC,CAAE,oBACR,EAAa,CAAc,CAC/B,EACA,MAAO,CACL,MAAO,GACP,IAAK,EACL,QAAS,CACP,OAAQ,GACR,MAAO,GACP,WAAY,MACd,CACF,CACF,CACF,CAAC,EAEK,GAAe,CAAC,CAAE,oBAClB,IAAmB,cACd,gBAAoB,KAAW,CAAE,cAAe,eAAgB,CAAE,EAEvE,IAAmB,cACd,gBAAoB,KAAY,CAAE,cAAe,eAAgB,CAAE,EAGrE,KAOI,GAAe,CAAC,CAAE,UAAW,CACxC,KAAM,GAAU,GAAU,CAAE,eAAgB,EAAK,cAAe,CAAC,EAEjE,MACE,iBAAoB,KAAO,CACzB,QAAS,CACP,KAAM,EAAQ,eACd,MAAO,EAAQ,KACjB,EACA,aAAc,gBAAoB,GAAc,CAAE,eAAgB,EAAK,cAAe,CAAE,CAAE,EAExF,gBAAoB,KAAM,CAC1B,KAAM,QACN,QAAS,WACT,MAAO,EAAK,MACZ,MAAO,SAAU,CACnB,CACF,CAEJ,ECnEO,WAAqB,EAAO,C,UACjC,KAAM,GAAkB,QAAM,iBAAN,cAAsB,cAAtB,cAAmC,KACzD,GAAK,EAAE,iBAAmB,SAG5B,MAAO,oBAAiB,MAAjB,OAAwB,EACjC,CAEO,WAAuB,EAAO,C,QACnC,GAAI,EAAS,CAAK,EAChB,MAAO,IAAoB,CAAK,EAGlC,KAAM,GAAS,CACb,KAAM,UACN,OAAQ,SACV,EAEM,EAAY,aAAiB,MAAM,QAAN,cAAa,WAAY,EAAE,EACxD,EAAU,aAAiB,MAAM,MAAN,cAAW,WAAY,EAAE,EAE1D,MAAO,GAAG,EAAU,eAAe,CAAM,OAAO,EAAQ,eACtD,CACF,GACF,CAEA,YAA6B,EAAO,C,YAClC,KAAM,GAAS,CAAE,MAAO,OAAQ,IAAK,SAAU,EACzC,EAAY,aAChB,MAAM,QAAN,cAAa,WAAY,MAAM,QAAN,cAAa,OAAQ,EAChD,EACM,EAAU,aACd,MAAM,MAAN,cAAW,WAAY,MAAM,MAAN,cAAW,OAAQ,EAC5C,EAAE,MAAM,CAAE,IAAK,CAAE,CAAC,EAElB,MAAI,GAAU,MAAM,IAAM,EAAQ,MAAM,EAC/B,EAAU,eAAe,CAAM,EAGjC,GAAG,EAAU,eAAe,CAAM,OAAO,EAAQ,eACtD,CACF,GACF,CAEO,YAAkB,EAAO,C,YAC9B,GAAI,CAAC,MAAM,MAAN,QAAW,WAAY,CAAC,MAAM,MAAN,QAAW,MAAM,MAAO,GACrD,KAAM,GAAY,aAAiB,MAAM,MAAN,cAAW,WAAY,MAAM,MAAN,cAAW,KAAI,EACzE,MAAO,UAAa,GAAK,CAC3B,CAEO,WAAkB,EAAO,C,YAC9B,GAAI,MAAM,QAAN,cAAa,OAAQ,MAAM,MAAN,cAAW,MAClC,MAAO,GAET,KAAM,GAAY,aAAiB,MAAM,QAAN,cAAa,WAAY,EAAE,EAG9D,MAAO,GAFS,WAAiB,MAAM,MAAN,cAAW,WAAY,EAAE,EAE3C,KAAK,EAAW,KAAK,EAAE,MAAQ,CAChD,CAEO,YAAsB,EAAO,C,QAClC,MAAO,cAAiB,MAAM,QAAN,cAAa,WAAY,MAAM,QAAN,cAAa,OAAQ,EAAE,CAC1E,CC7CA,KAAM,IAAY,QAChB,GACS,EACL,YAAa,CACX,UAAW,aACX,MAAO,CACL,MAAO,EAAM,QAAQ,QAAQ,KAC7B,WAAY,GACd,CACF,EACA,QAAS,CACP,UAAW,EAAM,QAAQ,CAAC,EAC1B,aAAc,EAAM,QAAQ,CAAC,CAC/B,CACF,GAEF,CACE,KAAM,8BACR,CACF,EAMa,GAA8B,CAAC,CAC1C,WACI,CACJ,KAAM,GAAU,GAAU,CAAE,OAAM,CAAC,EAC7B,EAAY,mBAAa,EACzB,EAAW,EAAY,CAAK,EAElC,MACE,iBAAoB,IAAK,CAAE,QAAS,OAAQ,cAAe,SAAU,MAAO,IAAK,EAAG,CAAE,EAClF,gBAAoB,IAAK,CAAE,QAAS,OAAQ,WAAY,QAAS,EAC/D,gBAAoB,IAAK,CAAE,KAAM,CAAE,EACjC,gBAAoB,IAAY,CAAE,QAAS,IAAK,EAAG,EAAM,OAAO,EAChE,gBAAoB,IAAY,CAAE,QAAS,WAAY,EAAG,EAAc,CAAK,CAAC,CAClF,EACE,EAAM,UACN,gBAAoB,KAAS,CAAE,MAAO,kBAAqB,EACvD,gBAAoB,IAAM,CAC1B,cAAe,qBACf,KAAM,EAAM,SACZ,OAAQ,SACR,QAAS,GACP,EAAU,aAAa,QAAS,kBAAkB,CACnD,EAEC,gBAAoB,IAAY,KAC9B,gBAAoB,KAAkB,IAAK,CAC/C,CACF,CACF,CAEJ,EACE,GACA,gBAAoB,IAAM,CACxB,KAAM,EACN,OAAQ,SACR,QAAS,GAAM,EAAU,aAAa,QAAS,WAAW,CAAE,EAC5D,mBAEF,EAGA,EAAM,aACN,gBAAoB,WAAgB,KAChC,gBAAoB,IAAS,CAAE,UAAW,EAAQ,QAAS,QAAS,WAAY,CAAE,EAClF,gBAAoB,IAAK,CACzB,UAAW,EAAQ,YACnB,wBAAyB,CACvB,OAAQ,cAAmB,EAAM,YAAa,CAC5C,aAAc,CAAE,KAAM,EAAK,CAC7B,CAAC,CACH,CAAE,CACJ,CACF,EAGA,EAAM,WACN,gBAAoB,WAAgB,KAChC,gBAAoB,IAAS,CAAE,UAAW,EAAQ,QAAS,QAAS,WAAY,CAAE,EAClF,gBAAoB,IAAK,KACvB,gBAAoB,IAAY,CAAE,QAAS,WAAY,EAAG,WAAW,EACrE,gBAAoB,IAAK,CAAE,GAAI,CAAE,CAAE,EACnC,aAAO,EAAM,WAAa,CAAC,EAAG,OAAO,EAAE,IAAI,GAC3C,gBAAoB,GAAc,CAAE,IAAK,EAAK,MAAO,KAAM,CAAK,CAAE,CACnE,CACH,CACF,CAEJ,CAEJ,EC1FM,GAAY,QAChB,GAAU,EACR,MAAO,CACL,QAAS,OACT,WAAY,SACZ,aAAc,EAAM,QAAQ,CAAC,EAC7B,OAAQ,UACR,aAAc,EAChB,EACA,SAAU,CACR,eAAgB,cAClB,EACA,OAAQ,CACN,QAAS,GACT,WAAY,4BACZ,UAAW,CACT,QAAS,CACX,CACF,EACA,KAAM,CACJ,MAAO,GACP,OAAQ,GACR,QAAS,eACT,QAAS,EACT,aAAc,MACd,UAAW,CACT,gBAAiB,EAAM,QAAQ,KAAK,IACtC,CACF,EACA,cAAe,CAAC,CAAE,WAAa,EAC7B,MAAO,EACP,oBAAqB,EACrB,uBAAwB,EACxB,gBAAiB,EAAM,QACnB,EAAM,QAAQ,QAAQ,MACtB,EAAM,eACZ,EACF,GACA,CACE,KAAM,gBACR,CACF,EAEa,EAAgB,CAAC,CAAE,WAAY,CAC1C,KAAM,GAAU,GAAU,CAAE,OAAM,CAAC,EAC7B,EAAe,SAAc,CACjC,QAAS,UACT,QAAS,EAAM,GACf,iBAAkB,EACpB,CAAC,EACK,CAAC,EAAS,GAAc,eAAS,EAAK,EACtC,EAAY,mBAAa,EACzB,EAAW,EAAY,CAAK,EAE5B,CAAE,aAAY,GAAkB,SAAY,CAAY,EAE9D,MACE,iBAAoB,WAAgB,KAChC,gBAAoB,IAAO,CAC3B,QAAS,GAAK,CACZ,EAAQ,CAAC,EACT,EAAU,aAAa,QAAS,YAAY,CAC9C,EACA,GAAG,EACH,aAAc,IAAM,EAAW,EAAI,EACnC,aAAc,IAAM,EAAW,EAAK,EACpC,UAAW,EAAU,EAAI,EACzB,UAAW,IAAW,EAAQ,MAAO,CACnC,CAAC,EAAQ,QAAS,GAAS,CAAK,CAClC,CAAC,EACD,cAAe,gBAAiB,EAE9B,gBAAoB,IAAK,CAAE,UAAW,EAAQ,cAAe,GAAI,EAAG,UAAW,SAAU,CAAE,EAC3F,gBAAoB,IAAK,CAAE,KAAM,EAAG,GAAI,EAAG,GAAI,CAAE,EAC/C,gBAAoB,IAAY,CAChC,QAAS,YACT,UAAW,IAAW,CACpB,CAAC,EAAQ,UACP,EAAM,iBAAmB,aAC7B,CAAC,CAAE,EAED,EAAM,OACV,EACE,CAAC,EAAS,CAAK,GACf,gBAAoB,IAAY,CAAE,QAAS,QAAS,cAAe,qBAAsB,EACrF,EAAc,CAAK,CACvB,CAEJ,EAEE,GACA,gBAAoB,KAAS,CAAE,MAAO,mBAAsB,EACxD,gBAAoB,IAAM,CAC1B,cAAe,2BACf,UAAW,EAAQ,KACnB,KAAM,EACN,OAAQ,SACR,QAAS,GAAK,CACZ,EAAE,gBAAgB,EAClB,EAAU,aAAa,QAAS,WAAW,CAC7C,CAAE,EAEA,gBAAoB,MAAO,CAAE,IAAK,EAAU,IAAK,WAAa,CAAE,CACpE,CACF,CAEJ,EAEE,gBAAoB,KAAS,CAC7B,GAAG,SAAY,CAAY,EAC3B,aAAc,CACZ,SAAU,MACV,WAAY,MACd,EACA,gBAAiB,CACf,SAAU,MACV,WAAY,QACd,EACA,cAAe,wBAAyB,EAEtC,gBAAoB,GAA6B,CAAE,MAAO,CAAM,CAAE,CACtE,CACF,CAEJ,E,4ECrIA,KAAM,IAAY,QAChB,CACE,YAAa,CACX,MAAO,GACT,EACA,kBAAmB,CACjB,aAAc,WACd,SAAU,QACZ,CACF,EACA,CACE,KAAM,iBACR,CACF,EASa,GAAiB,CAAC,CAC7B,WACA,oBAAoB,CAAC,EACrB,uBACA,eACI,CACJ,KAAM,GAAU,GAAU,EAE1B,MACE,iBAAoB,KAAa,CAAE,UAAW,EAAQ,WAAY,EAC9D,gBAAoB,KAAQ,CAC5B,QAAS,kBACT,SAAU,GAAY,EAAU,SAAW,EAC3C,SAAU,GACV,MAAO,EACP,SAAU,KAAM,IAAK,EAAqB,EAAE,OAAO,KAAM,EACzD,MAAO,gBAAoB,KAAO,IAAK,EACvC,YAAa,GACX,gBAAoB,IAAY,CAAE,UAAW,EAAQ,kBAAmB,QAAS,OAAQ,EACrF,EACC,OAAO,GAAK,EAAE,IAAO,EAAW,SAAS,EAAE,EAAE,CAAC,EAC9C,IAAI,GAAK,EAAE,OAAO,EAClB,KAAK,IAAI,CACd,EAEF,UAAW,CACT,WAAY,CACV,MAAO,CACL,MAAO,GACT,CACF,CACF,CAAE,EAEA,aAAO,EAAW,SAAS,EAAE,IAAI,GACjC,gBAAoB,KAAU,CAAE,IAAK,EAAE,GAAI,MAAO,EAAE,EAAG,EACnD,gBAAoB,KAAU,CAAE,QAAS,EAAkB,SAAS,EAAE,EAAE,CAAE,CAAE,EAC5E,gBAAoB,KAAc,CAAE,QAAS,EAAE,OAAQ,CAAE,CAC7D,CACD,CACH,CACF,CAEJ,E,4BC9EO,KAAM,IAAa,CACxB,CACE,GAAI,IACJ,SAAU,mCACV,QAAS,+BACT,MAAO,CACL,SAAU,4BACV,SAAU,eACZ,EACA,IAAK,CACH,SAAU,4BACV,SAAU,eACZ,CACF,EACA,CACE,GAAI,IACJ,SAAU,mCACV,QAAS,+BACT,MAAO,CACL,SAAU,4BACV,SAAU,eACZ,EACA,IAAK,CACH,SAAU,4BACV,SAAU,eACZ,EACA,eAAgB,CACd,YAAa,CACX,CACE,eAAgB,QAChB,IAAK,iBACP,CACF,CACF,CACF,EACA,CACE,GAAI,IACJ,SAAU,kCACV,QAAS,+BACT,MAAO,CACL,SAAU,4BACV,SAAU,eACZ,EACA,IAAK,CACH,SAAU,4BACV,SAAU,eACZ,EACA,eAAgB,CACd,YAAa,CACX,CACE,eAAgB,QAChB,IAAK,kBACL,MAAO,SACT,CACF,CACF,CACF,EACA,CACE,GAAI,IACJ,SAAU,kCACV,QAAS,+BACT,MAAO,CACL,SAAU,4BACV,SAAU,eACZ,EACA,IAAK,CACH,SAAU,4BACV,SAAU,eACZ,EACA,eAAgB,CACd,YAAa,CACX,CACE,eAAgB,QAChB,IAAK,iBACP,CACF,CACF,CACF,EACA,CACE,GAAI,IACJ,SAAU,kCACV,QAAS,+BACT,MAAO,CACL,SAAU,4BACV,SAAU,eACZ,EACA,IAAK,CACH,SAAU,4BACV,SAAU,eACZ,EACA,eAAgB,CACd,YAAa,CACX,CACE,eAAgB,QAChB,IAAK,iBACP,CACF,CACF,CACF,CACF,ECxFM,GAAiB,SAAO,GAAG,EAAE,CACjC,QAAS,GACT,OAAQ,aACV,CAAC,EAEY,GAAgB,CAAC,CAC5B,kBACA,SAAS,MAGP,gBAAoB,IAAK,CAAE,SAAU,WAAY,OAAQ,OAAQ,MAAO,MAAO,EAC3E,gBAAoB,GAAgB,CAAE,EAAG,CAAE,EACzC,EAAO,IAAI,GACX,gBAAoB,EAAe,CAAE,IAAK,EAAM,GAAI,MAAO,CAAM,CAAE,CACpE,CACH,EAEE,gBAAoB,IAAK,CACzB,OAAQ,OACR,MAAO,OACP,QAAS,OACT,eAAgB,SAChB,WAAY,SACZ,SAAU,WACV,KAAM,EACN,IAAK,CAAE,EAEL,gBAAoB,KAAQ,CAC5B,QAAS,YACT,MAAO,UACP,QAAS,EACT,KAAM,OAAQ,EACd,SAEF,CACF,CACF,EC1BS,GAAe,IAAM,C,MAChC,KAAM,CAAC,EAAM,GAAW,eAAS,SAAa,CAAC,EACzC,EAAY,mBAAa,EAEzB,EAAY,CAAC,EAAS,IAAM,CAChC,EAAQ,GAAQ,EAAK,KAAK,CAAE,IAAK,CAAO,CAAC,CAAC,EAC1C,EAAU,aAAa,QAAS,aAAa,CAC/C,EAEM,CAAE,aAAY,gBAAe,UAAW,EAAU,EAExD,gBAAU,IAAM,CACd,EAAO,EAAI,CACb,EAAG,CAAC,CAAM,CAAC,EAEX,KAAM,CAAE,UAAW,EAAmB,KAAM,EAAY,CAAC,GACvD,EAAkB,CAChB,QAAS,CACX,CAAC,EACG,EAAoB,KAAU,KAAK,GAAK,EAAE,UAAY,EAAI,IAAtC,cAAyC,GAC7D,EAA2B,EAAoB,CAAC,CAAiB,EAAI,CAAC,EACtE,CAAC,EAAiB,GAAsB,EAC5C,CACF,EAEM,CAAE,SAAQ,UAAW,GAAmB,EAAe,CAC3D,YACA,kBAAmB,EACnB,QAAS,GAAc,EAAU,OAAS,EAC1C,QAAS,EAAK,QAAQ,KAAK,EAAE,MAAM,EACnC,QAAS,EAAK,MAAM,KAAK,EAAE,MAAM,EACjC,SAAU,EAAK,QACjB,CAAC,EAED,MACE,iBAAoB,WAAU,CAC5B,UAAW,GACX,MACE,gBAAoB,IAAK,CAAE,QAAS,OAAQ,WAAY,QAAS,EAC7D,gBAAoB,IAAK,CAAE,OAAQ,GAAI,MAAO,GAAI,GAAI,CAAE,EACtD,gBAAoB,MAAO,CAAE,IAAK,EAAkB,IAAK,iBAAmB,CAAE,CAClF,EACE,EACA,gBAAoB,WAAgB,KAChC,gBAAoB,IAAY,CAAE,QAAS,IAAM,EAAU,EAAE,EAAG,KAAM,OAAQ,EAC5E,gBAAoB,IAAU,IAAK,CACvC,EACE,gBAAoB,IAAY,CAAE,QAAS,IAAM,EAAU,CAAC,EAAG,KAAM,OAAQ,EAC3E,gBAAoB,IAAU,IAAK,CACvC,EACE,gBAAoB,IAAK,CAAE,GAAI,EAAI,CAAE,EACrC,gBAAoB,IAAY,CAAE,QAAS,IAAK,EAC9C,EAAK,eAAe,CACpB,QAAS,QACT,MAAO,QACP,IAAK,SACP,CAAC,CACH,EAEE,gBAAoB,IAAK,CAAE,KAAM,CAAE,CAAE,EAErC,gBAAoB,GAAgB,CACpC,UAAW,EACX,kBAAmB,EACnB,qBAAsB,EACtB,SAAU,GAAqB,CAAC,CAAW,CAC7C,CACF,EAEA,gBAAoB,IAAY,CAAE,QAAS,IAAK,EAAG,QAAQ,CAE/D,EAEF,SAAU,CACR,KAAM,+BACN,MAAO,gBACT,CAAE,EAEA,gBAAoB,IAAK,KACtB,IAAqB,GAAkB,CAAC,IACzC,gBAAoB,IAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EACpC,gBAAoB,WAAU,CAAE,QAAS,OAAQ,CAAE,CACvD,EAEA,CAAC,GAAc,GACf,gBAAoB,GAAe,CAAE,gBAAiB,IAAM,EAAO,EAAK,CAAE,CAAE,EAE5E,CAAC,GAAkB,CAAC,GAAqB,GACzC,gBAAoB,IAAK,CAAE,EAAG,EAAG,GAAI,EAAG,UAAW,IAAK,SAAU,MAAO,EACrE,EAAO,SAAW,GAClB,gBAAoB,IAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EACpC,gBAAoB,IAAY,CAAE,MAAO,SAAU,QAAS,IAAK,EAAG,WAEtE,CACF,EAEA,aAAO,EAAQ,CAAC,EAAY,CAAC,EAAE,IAAI,GACnC,gBAAoB,EAAe,CACjC,IAAK,GAAG,EAAM,cAAc,EAAM,KAClC,MAAO,CAAM,CACf,CACD,CACH,CAEJ,CACF,CAEJ,EC7HM,GAAc,GAAI,eAEX,GAAmB,IAE5B,gBAAoB,sBAAqB,CAAE,OAAQ,EAAY,EAC3D,gBAAoB,GAAc,IAAK,CAC3C,C","file":"static/6720.fab2ba85.chunk.js","sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useQuery } from 'react-query';\n\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\n\nimport { gcalendarApiRef } from '../api';\n\n\n\n\n\n\nexport const useCalendarsQuery = ({ enabled }) => {\n  const calendarApi = useApi(gcalendarApiRef);\n  const errorApi = useApi(errorApiRef);\n\n  return useQuery(\n    ['calendars'],\n    async () => {\n      const calendars = [];\n      let token = '';\n      do {\n        const { nextPageToken = '', items = [] } =\n          await calendarApi.getCalendars({\n            maxResults: 100,\n            minAccessRole: 'reader',\n            pageToken: token,\n          });\n        token = nextPageToken;\n        calendars.push(...items);\n      } while (token);\n\n      return calendars;\n    },\n    {\n      enabled,\n      keepPreviousData: true,\n      refetchInterval: 3600000,\n      onError: () => {\n        errorApi.post({\n          name: 'API error',\n          message: 'Failed to fetch calendars.',\n        });\n      },\n    },\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { compact, unescape } from 'lodash';\nimport { useMemo } from 'react';\nimport { useQueries } from 'react-query';\n\nimport { useApi } from '@backstage/core-plugin-api';\n\nimport { gcalendarApiRef } from '../api';\n\n\n\n\n\n\n\n\n\n\n\n\nexport const useEventsQuery = ({\n  selectedCalendars = [],\n  calendars = [],\n  enabled,\n  timeMin,\n  timeMax,\n  timeZone,\n}) => {\n  const calendarApi = useApi(gcalendarApiRef);\n  const eventQueries = useQueries(\n    selectedCalendars\n      .filter(id => calendars.find(c => c.id === id))\n      .map(calendarId => {\n        const calendar = calendars.find(c => c.id === calendarId);\n\n        return {\n          queryKey: ['calendarEvents', calendarId, timeMin, timeMax],\n          enabled,\n          initialData: [],\n          refetchInterval: 60000,\n          refetchIntervalInBackground: true,\n          queryFn: async () => {\n            const data = await calendarApi.getEvents(calendarId, {\n              calendarId,\n              timeMin,\n              timeMax,\n              showDeleted: false,\n              singleEvents: true,\n              maxResults: 100,\n              orderBy: 'startTime',\n              timeZone,\n            });\n\n            return (data.items || []).map(event => {\n              const responseStatus = event.attendees?.find(\n                a => !!a.self,\n              )?.responseStatus;\n\n              return {\n                ...event,\n                summary: unescape(event.summary || ''),\n                calendarId,\n                backgroundColor: calendar?.backgroundColor,\n                primary: !!calendar?.primary,\n                responseStatus,\n              };\n            });\n          },\n        };\n      }),\n  );\n\n  const events = useMemo(\n    () => compact(eventQueries.map(({ data }) => data).flat()),\n    [eventQueries],\n  );\n\n  const isLoading =\n    !!eventQueries.find(q => q.isFetching) && events.length === 0;\n\n  return { events, isLoading };\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useCallback, useState } from 'react';\n\nimport { googleAuthApiRef, useApi } from '@backstage/core-plugin-api';\n\nexport const useSignIn = () => {\n  const [isSignedIn, setSignedIn] = useState(false);\n  const [isInitialized, setInitialized] = useState(false);\n  const authApi = useApi(googleAuthApiRef);\n\n  const signIn = useCallback(\n    async (optional = false) => {\n      const token = await authApi.getAccessToken(\n        'https://www.googleapis.com/auth/calendar.readonly',\n        {\n          optional,\n          instantPopup: !optional,\n        },\n      );\n\n      setSignedIn(!!token);\n      setInitialized(true);\n    },\n    [authApi, setSignedIn],\n  );\n\n  return { isSignedIn, isInitialized, signIn };\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useApi, storageApiRef } from '@backstage/core-plugin-api';\nimport useObservable from 'react-use/lib/useObservable';\n\nimport { gcalendarPlugin } from '../plugin';\n\nexport var LocalStorageKeys; (function (LocalStorageKeys) {\n  const selectedCalendars = 'google_calendars_selected'; LocalStorageKeys[\"selectedCalendars\"] = selectedCalendars;\n})(LocalStorageKeys || (LocalStorageKeys = {}));\n\nexport function useStoredCalendars(\n  defaultValue,\n) {\n  const storageBucket = gcalendarPlugin.getId();\n  const storageKey = LocalStorageKeys.selectedCalendars;\n  const storageApi = useApi(storageApiRef).forBucket(storageBucket);\n  const setValue = (value) => {\n    storageApi.set(storageKey, value);\n  };\n  const snapshot = useObservable(\n    storageApi.observe$(storageKey),\n    storageApi.snapshot(storageKey),\n  );\n  let result;\n  if (snapshot.presence === 'absent') {\n    result = defaultValue;\n  } else {\n    result = snapshot.value;\n  }\n  return [result, setValue];\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\n\n\nimport { Badge, Chip, makeStyles } from '@material-ui/core';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CheckIcon from '@material-ui/icons/CheckCircle';\n\nimport { ResponseStatus } from '../../api';\n\nconst useStyles = makeStyles((theme) => {\n  const getIconColor = (responseStatus) => {\n    if (!responseStatus) return theme.palette.primary.light;\n\n    return {\n      [ResponseStatus.accepted]: theme.palette.status.ok,\n      [ResponseStatus.declined]: theme.palette.status.error,\n    }[responseStatus];\n  };\n\n  return {\n    responseStatus: {\n      color: ({ responseStatus }) =>\n        getIconColor(responseStatus),\n    },\n    badge: {\n      right: 10,\n      top: 5,\n      '& svg': {\n        height: 16,\n        width: 16,\n        background: '#fff',\n      },\n    },\n  };\n});\n\nconst ResponseIcon = ({ responseStatus }) => {\n  if (responseStatus === ResponseStatus.accepted) {\n    return React.createElement(CheckIcon, { 'data-testid': \"accepted-icon\",} );\n  }\n  if (responseStatus === ResponseStatus.declined) {\n    return React.createElement(CancelIcon, { 'data-testid': \"declined-icon\",} );\n  }\n\n  return null;\n};\n\n\n\n\n\nexport const AttendeeChip = ({ user }) => {\n  const classes = useStyles({ responseStatus: user.responseStatus });\n\n  return (\n    React.createElement(Badge, {\n      classes: {\n        root: classes.responseStatus,\n        badge: classes.badge,\n      },\n      badgeContent: React.createElement(ResponseIcon, { responseStatus: user.responseStatus,} ),}\n    \n      , React.createElement(Chip, {\n        size: \"small\",\n        variant: \"outlined\",\n        label: user.email,\n        color: \"primary\",}\n      )\n    )\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DateTime } from 'luxon';\n\n\n\nexport function getZoomLink(event) {\n  const videoEntrypoint = event.conferenceData?.entryPoints?.find(\n    e => e.entryPointType === 'video',\n  );\n\n  return videoEntrypoint?.uri ?? '';\n}\n\nexport function getTimePeriod(event) {\n  if (isAllDay(event)) {\n    return getAllDayTimePeriod(event);\n  }\n\n  const format = {\n    hour: '2-digit',\n    minute: '2-digit',\n  };\n\n  const startTime = DateTime.fromISO(event.start?.dateTime || '');\n  const endTime = DateTime.fromISO(event.end?.dateTime || '');\n\n  return `${startTime.toLocaleString(format)} - ${endTime.toLocaleString(\n    format,\n  )}`;\n}\n\nfunction getAllDayTimePeriod(event) {\n  const format = { month: 'long', day: 'numeric' };\n  const startTime = DateTime.fromISO(\n    event.start?.dateTime || event.start?.date || '',\n  );\n  const endTime = DateTime.fromISO(\n    event.end?.dateTime || event.end?.date || '',\n  ).minus({ day: 1 });\n\n  if (startTime.toISO() === endTime.toISO()) {\n    return startTime.toLocaleString(format);\n  }\n\n  return `${startTime.toLocaleString(format)} - ${endTime.toLocaleString(\n    format,\n  )}`;\n}\n\nexport function isPassed(event) {\n  if (!event.end?.dateTime && !event.end?.date) return false;\n  const eventDate = DateTime.fromISO(event.end?.dateTime || event.end?.date);\n  return DateTime.now() >= eventDate;\n}\n\nexport function isAllDay(event) {\n  if (event.start?.date || event.end?.date) {\n    return true;\n  }\n  const startTime = DateTime.fromISO(event.start?.dateTime || '');\n  const endTime = DateTime.fromISO(event.end?.dateTime || '');\n\n  return endTime.diff(startTime, 'day').days >= 1;\n}\n\nexport function getStartDate(event) {\n  return DateTime.fromISO(event.start?.dateTime || event.start?.date || '');\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { sortBy } from 'lodash';\nimport React from 'react';\nimport DOMPurify from 'dompurify';\n\nimport { useAnalytics } from '@backstage/core-plugin-api';\n\nimport {\n  Box,\n  Divider,\n  IconButton,\n  Link,\n  Tooltip,\n  Typography,\n  makeStyles,\n} from '@material-ui/core';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\nimport { AttendeeChip } from './AttendeeChip';\n\nimport { getTimePeriod, getZoomLink } from './util';\n\nconst useStyles = makeStyles(\n  theme => {\n    return {\n      description: {\n        wordBreak: 'break-word',\n        '& a': {\n          color: theme.palette.primary.main,\n          fontWeight: 500,\n        },\n      },\n      divider: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n      },\n    };\n  },\n  {\n    name: 'GCalendarEventPopoverContent',\n  },\n);\n\n\n\n\n\nexport const CalendarEventPopoverContent = ({\n  event,\n}) => {\n  const classes = useStyles({ event });\n  const analytics = useAnalytics();\n  const zoomLink = getZoomLink(event);\n\n  return (\n    React.createElement(Box, { display: \"flex\", flexDirection: \"column\", width: 400, p: 2,}\n      , React.createElement(Box, { display: \"flex\", alignItems: \"center\",}\n        , React.createElement(Box, { flex: 1,}\n          , React.createElement(Typography, { variant: \"h6\",}, event.summary)\n          , React.createElement(Typography, { variant: \"subtitle2\",}, getTimePeriod(event))\n        )\n        , event.htmlLink && (\n          React.createElement(Tooltip, { title: \"Open in Calendar\"  ,}\n            , React.createElement(Link, {\n              'data-testid': \"open-calendar-link\",\n              href: event.htmlLink,\n              target: \"_blank\",\n              onClick: _e =>\n                analytics.captureEvent('click', 'open in calendar')\n              ,}\n            \n              , React.createElement(IconButton, null\n                , React.createElement(ArrowForwardIcon, null )\n              )\n            )\n          )\n        )\n      )\n      , zoomLink && (\n        React.createElement(Link, {\n          href: zoomLink,\n          target: \"_blank\",\n          onClick: _e => analytics.captureEvent('click', 'zoom link'),}\n        , \"Join Zoom Meeting\"\n\n        )\n      )\n\n      , event.description && (\n        React.createElement(React.Fragment, null\n          , React.createElement(Divider, { className: classes.divider, variant: \"fullWidth\",} )\n          , React.createElement(Box, {\n            className: classes.description,\n            dangerouslySetInnerHTML: {\n              __html: DOMPurify.sanitize(event.description, {\n                USE_PROFILES: { html: true },\n              }),\n            },}\n          )\n        )\n      )\n\n      , event.attendees && (\n        React.createElement(React.Fragment, null\n          , React.createElement(Divider, { className: classes.divider, variant: \"fullWidth\",} )\n          , React.createElement(Box, null\n            , React.createElement(Typography, { variant: \"subtitle2\",}, \"Attendees\")\n            , React.createElement(Box, { mb: 1,} )\n            , sortBy(event.attendees || [], 'email').map(user => (\n              React.createElement(AttendeeChip, { key: user.email, user: user,} )\n            ))\n          )\n        )\n      )\n    )\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport classnames from 'classnames';\nimport {\n  bindPopover,\n  bindTrigger,\n  usePopupState,\n} from 'material-ui-popup-state/hooks';\nimport React, { useState } from 'react';\n\nimport { useAnalytics } from '@backstage/core-plugin-api';\n\nimport {\n  Box,\n  Link,\n  Paper,\n  Popover,\n  Tooltip,\n  Typography,\n  makeStyles,\n} from '@material-ui/core';\n\nimport zoomIcon from '../../icons/zoomIcon.svg';\nimport { CalendarEventPopoverContent } from './CalendarEventPopoverContent';\nimport { ResponseStatus } from '../../api';\nimport { getTimePeriod, getZoomLink, isAllDay, isPassed } from './util';\n\nconst useStyles = makeStyles(\n  theme => ({\n    event: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: theme.spacing(1),\n      cursor: 'pointer',\n      paddingRight: 12,\n    },\n    declined: {\n      textDecoration: 'line-through',\n    },\n    passed: {\n      opacity: 0.6,\n      transition: 'opacity 0.15s ease-in-out',\n      '&:hover': {\n        opacity: 1,\n      },\n    },\n    link: {\n      width: 48,\n      height: 48,\n      display: 'inline-block',\n      padding: 8,\n      borderRadius: '50%',\n      '&:hover': {\n        backgroundColor: theme.palette.grey[100],\n      },\n    },\n    calendarColor: ({ event }) => ({\n      width: 8,\n      borderTopLeftRadius: 4,\n      borderBottomLeftRadius: 4,\n      backgroundColor: event.primary\n        ? theme.palette.primary.light\n        : event.backgroundColor,\n    }),\n  }),\n  {\n    name: 'GCalendarEvent',\n  },\n);\n\nexport const CalendarEvent = ({ event }) => {\n  const classes = useStyles({ event });\n  const popoverState = usePopupState({\n    variant: 'popover',\n    popupId: event.id,\n    disableAutoFocus: true,\n  });\n  const [hovered, setHovered] = useState(false);\n  const analytics = useAnalytics();\n  const zoomLink = getZoomLink(event);\n\n  const { onClick, ...restBindProps } = bindTrigger(popoverState);\n\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement(Paper, {\n        onClick: e => {\n          onClick(e);\n          analytics.captureEvent('click', 'event info');\n        },\n        ...restBindProps,\n        onMouseEnter: () => setHovered(true),\n        onMouseLeave: () => setHovered(false),\n        elevation: hovered ? 4 : 1,\n        className: classnames(classes.event, {\n          [classes.passed]: isPassed(event),\n        }),\n        'data-testid': \"calendar-event\",}\n      \n        , React.createElement(Box, { className: classes.calendarColor, mr: 1, alignSelf: \"stretch\",} )\n        , React.createElement(Box, { flex: 1, pt: 1, pb: 1,}\n          , React.createElement(Typography, {\n            variant: \"subtitle2\",\n            className: classnames({\n              [classes.declined]:\n                event.responseStatus === ResponseStatus.declined,\n            }),}\n          \n            , event.summary\n          )\n          , !isAllDay(event) && (\n            React.createElement(Typography, { variant: \"body2\", 'data-testid': \"calendar-event-time\",}\n              , getTimePeriod(event)\n            )\n          )\n        )\n\n        , zoomLink && (\n          React.createElement(Tooltip, { title: \"Join Zoom Meeting\"  ,}\n            , React.createElement(Link, {\n              'data-testid': \"calendar-event-zoom-link\",\n              className: classes.link,\n              href: zoomLink,\n              target: \"_blank\",\n              onClick: e => {\n                e.stopPropagation();\n                analytics.captureEvent('click', 'zoom link');\n              },}\n            \n              , React.createElement('img', { src: zoomIcon, alt: \"Zoom link\" ,} )\n            )\n          )\n        )\n      )\n\n      , React.createElement(Popover, {\n        ...bindPopover(popoverState),\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'left',\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'center',\n        },\n        'data-testid': \"calendar-event-popover\",}\n      \n        , React.createElement(CalendarEventPopoverContent, { event: event,} )\n      )\n    )\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { sortBy } from 'lodash';\nimport React from 'react';\n\nimport {\n  Checkbox,\n  FormControl,\n  Input,\n  ListItemText,\n  MenuItem,\n  Select,\n  Typography,\n  makeStyles,\n} from '@material-ui/core';\n\n\n\nconst useStyles = makeStyles(\n  {\n    formControl: {\n      width: 120,\n    },\n    selectedCalendars: {\n      textOverflow: 'ellipsis',\n      overflow: 'hidden',\n    },\n  },\n  {\n    name: 'GCalendarSelect',\n  },\n);\n\n\n\n\n\n\n\n\nexport const CalendarSelect = ({\n  disabled,\n  selectedCalendars = [],\n  setSelectedCalendars,\n  calendars,\n}) => {\n  const classes = useStyles();\n\n  return (\n    React.createElement(FormControl, { className: classes.formControl,}\n      , React.createElement(Select, {\n        labelId: \"calendars-label\",\n        disabled: disabled || calendars.length === 0,\n        multiple: true,\n        value: selectedCalendars,\n        onChange: async e => setSelectedCalendars(e.target.value ),\n        input: React.createElement(Input, null ),\n        renderValue: selected => (\n          React.createElement(Typography, { className: classes.selectedCalendars, variant: \"body2\",}\n            , calendars\n              .filter(c => c.id && (selected ).includes(c.id))\n              .map(c => c.summary)\n              .join(', ')\n          )\n        ),\n        MenuProps: {\n          PaperProps: {\n            style: {\n              width: 350,\n            },\n          },\n        },}\n      \n        , sortBy(calendars, 'summary').map(c => (\n          React.createElement(MenuItem, { key: c.id, value: c.id,}\n            , React.createElement(Checkbox, { checked: selectedCalendars.includes(c.id),} )\n            , React.createElement(ListItemText, { primary: c.summary,} )\n          )\n        ))\n      )\n    )\n  );\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const eventsMock = [\n  {\n    id: '1',\n    htmlLink: 'https://www.google.com/calendar/',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T09:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T10:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n  },\n  {\n    id: '2',\n    htmlLink: 'https://www.google.com/calendar/',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T10:30:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T10:45:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n        },\n      ],\n    },\n  },\n  {\n    id: '3',\n    htmlLink: 'https://www.google.com/calendar',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T12:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T13:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n          label: 'zoom.us',\n        },\n      ],\n    },\n  },\n  {\n    id: '4',\n    htmlLink: 'https://www.google.com/calendar',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T15:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T16:30:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n        },\n      ],\n    },\n  },\n  {\n    id: '5',\n    htmlLink: 'https://www.google.com/calendar',\n    summary: 'Backstage Community Sessions',\n    start: {\n      dateTime: '2021-12-07T17:00:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    end: {\n      dateTime: '2021-12-07T17:30:00+01:00',\n      timeZone: 'Europe/London',\n    },\n    conferenceData: {\n      entryPoints: [\n        {\n          entryPointType: 'video',\n          uri: 'https://zoom.us',\n        },\n      ],\n    },\n  },\n];\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nimport { Box, Button, styled } from '@material-ui/core';\n\nimport { CalendarEvent } from './CalendarEvent';\nimport { eventsMock } from './signInEventMock';\n\n\n\n\n\n\n\nconst TransparentBox = styled(Box)({\n  opacity: 0.3,\n  filter: 'blur(1.5px)',\n});\n\nexport const SignInContent = ({\n  handleAuthClick,\n  events = eventsMock,\n}) => {\n  return (\n    React.createElement(Box, { position: \"relative\", height: \"100%\", width: \"100%\",}\n      , React.createElement(TransparentBox, { p: 1,}\n        , events.map(event => (\n          React.createElement(CalendarEvent, { key: event.id, event: event,} )\n        ))\n      )\n\n      , React.createElement(Box, {\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        left: 0,\n        top: 0,}\n      \n        , React.createElement(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleAuthClick,\n          size: \"large\",}\n        , \"Sign in\"\n\n        )\n      )\n    )\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { sortBy } from 'lodash';\nimport { DateTime } from 'luxon';\nimport React, { useEffect, useState } from 'react';\n\nimport { InfoCard, Progress } from '@backstage/core-components';\nimport { useAnalytics } from '@backstage/core-plugin-api';\n\nimport { Box, IconButton, Typography } from '@material-ui/core';\nimport PrevIcon from '@material-ui/icons/NavigateBefore';\nimport NextIcon from '@material-ui/icons/NavigateNext';\n\nimport {\n  useCalendarsQuery,\n  useEventsQuery,\n  useSignIn,\n  useStoredCalendars,\n} from '../../hooks';\nimport calendarCardIcon from '../../icons/calendarIcon.svg';\nimport { CalendarEvent } from './CalendarEvent';\nimport { CalendarSelect } from './CalendarSelect';\nimport { SignInContent } from './SignInContent';\nimport { getStartDate } from './util';\n\nexport const CalendarCard = () => {\n  const [date, setDate] = useState(DateTime.now());\n  const analytics = useAnalytics();\n\n  const changeDay = (offset = 1) => {\n    setDate(prev => prev.plus({ day: offset }));\n    analytics.captureEvent('click', 'change date');\n  };\n\n  const { isSignedIn, isInitialized, signIn } = useSignIn();\n\n  useEffect(() => {\n    signIn(true);\n  }, [signIn]);\n\n  const { isLoading: isCalendarLoading, data: calendars = [] } =\n    useCalendarsQuery({\n      enabled: isSignedIn,\n    });\n  const primaryCalendarId = calendars.find(c => c.primary === true)?.id;\n  const defaultSelectedCalendars = primaryCalendarId ? [primaryCalendarId] : [];\n  const [storedCalendars, setStoredCalendars] = useStoredCalendars(\n    defaultSelectedCalendars,\n  );\n\n  const { events, isLoading: isEventLoading } = useEventsQuery({\n    calendars,\n    selectedCalendars: storedCalendars,\n    enabled: isSignedIn && calendars.length > 0,\n    timeMin: date.startOf('day').toISO(),\n    timeMax: date.endOf('day').toISO(),\n    timeZone: date.zoneName,\n  });\n\n  return (\n    React.createElement(InfoCard, {\n      noPadding: true,\n      title: \n        React.createElement(Box, { display: \"flex\", alignItems: \"center\",}\n          , React.createElement(Box, { height: 24, width: 24, mr: 1,}\n            , React.createElement('img', { src: calendarCardIcon, alt: \"Google Calendar\" ,} )\n          )\n          , isSignedIn ? (\n            React.createElement(React.Fragment, null\n              , React.createElement(IconButton, { onClick: () => changeDay(-1), size: \"small\",}\n                , React.createElement(PrevIcon, null )\n              )\n              , React.createElement(IconButton, { onClick: () => changeDay(1), size: \"small\",}\n                , React.createElement(NextIcon, null )\n              )\n              , React.createElement(Box, { mr: 0.5,} )\n              , React.createElement(Typography, { variant: \"h6\",}\n                , date.toLocaleString({\n                  weekday: 'short',\n                  month: 'short',\n                  day: 'numeric',\n                })\n              )\n\n              , React.createElement(Box, { flex: 1,} )\n\n              , React.createElement(CalendarSelect, {\n                calendars: calendars,\n                selectedCalendars: storedCalendars,\n                setSelectedCalendars: setStoredCalendars,\n                disabled: isCalendarLoading || !isSignedIn,}\n              )\n            )\n          ) : (\n            React.createElement(Typography, { variant: \"h6\",}, \"Agenda\")\n          )\n        )\n      ,\n      deepLink: {\n        link: 'https://calendar.google.com/',\n        title: 'Go to Calendar',\n      },}\n    \n      , React.createElement(Box, null\n        , (isCalendarLoading || isEventLoading || !isInitialized) && (\n          React.createElement(Box, { pt: 2, pb: 2,}\n            , React.createElement(Progress, { variant: \"query\",} )\n          )\n        )\n        , !isSignedIn && isInitialized && (\n          React.createElement(SignInContent, { handleAuthClick: () => signIn(false),} )\n        )\n        , !isEventLoading && !isCalendarLoading && isSignedIn && (\n          React.createElement(Box, { p: 1, pb: 0, maxHeight: 602, overflow: \"auto\",}\n            , events.length === 0 && (\n              React.createElement(Box, { pt: 2, pb: 2,}\n                , React.createElement(Typography, { align: \"center\", variant: \"h6\",}, \"No events\"\n\n                )\n              )\n            )\n            , sortBy(events, [getStartDate]).map(event => (\n              React.createElement(CalendarEvent, {\n                key: `${event.calendarId}-${event.id}`,\n                event: event,}\n              )\n            ))\n          )\n        )\n      )\n    )\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nimport { CalendarCard } from './CalendarCard';\n\nconst queryClient = new QueryClient();\n\nexport const HomePageCalendar = () => {\n  return (\n    React.createElement(QueryClientProvider, { client: queryClient,}\n      , React.createElement(CalendarCard, null )\n    )\n  );\n};\n"],"sourceRoot":""}