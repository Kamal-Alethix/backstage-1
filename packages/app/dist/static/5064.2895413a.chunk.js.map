{"version":3,"sources":["webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/home/src/homePageComponents/WelcomeTitle/timeUtil.ts","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/home/src/homePageComponents/WelcomeTitle/WelcomeTitle.tsx"],"names":[],"mappings":"87UAsBA,KAAM,GAAqB,KAAK,MAAM,KAAK,OAAO,EAAI,GAAO,EAEtD,YAAgC,CACrC,KAAM,GAAU,GAAU,EAAM,EAAqB,EAAM,QAErD,EAAc,GAAI,MAAK,KAAK,IAAI,CAAC,EAAE,SAAS,EAClD,GAAI,GAAe,GACjB,MAAO,CACL,SAAU,YACV,SAAU,eACZ,EAOF,KAAM,GAAY,CALC,GACb,EAAO,GAAW,EAClB,EAAO,GAAW,EACf,GAEmB,CAAW,EACjC,EAAe,EAAO,OAAO,KAAK,CAAS,CAAC,EAClD,MAAO,CACL,SAAU,EACV,SAAU,EAAU,EACtB,CACF,CCpBO,KAAM,GAAe,IAAM,CAChC,KAAM,GAAc,aAAO,gBAAc,EACnC,EAAW,aAAO,aAAW,EAC7B,EAAW,cAAQ,IAAM,EAAqB,EAAG,CAAC,CAAC,EAEnD,CAAE,MAAO,EAAS,SAAU,cAAS,IACzC,EAAY,eAAe,CAC7B,EAEA,sBAAU,IAAM,CACV,GACF,EAAS,KAAK,CACZ,QAAS,iCAAiC,IAC1C,SAAU,OACZ,CAAC,CAEL,EAAG,CAAC,EAAO,CAAQ,CAAC,EAGlB,gBAAoB,KAAS,CAAE,MAAO,EAAS,QAAS,EACpD,gBAAoB,OAAQ,KAAM,GAAG,EAAS,WAC9C,WAAS,YAAc,KAAK,iBAAS,cAAgB,KACpD,CACL,CAEJ,C","file":"static/5064.2895413a.chunk.js","sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport goodMorning from './locales/goodMorning.locales.json';\nimport goodAfternoon from './locales/goodAfternoon.locales.json';\nimport goodEvening from './locales/goodEvening.locales.json';\n\n// Select a large random integer at startup, to prevent the greetings to change\n// every time the user navigates.\nconst greetingRandomSeed = Math.floor(Math.random() * 1000000);\n\nexport function getTimeBasedGreeting() {\n  const random = (array) => array[greetingRandomSeed % array.length];\n\n  const currentHour = new Date(Date.now()).getHours();\n  if (currentHour >= 23) {\n    return {\n      language: 'Seriously',\n      greeting: 'Get some rest',\n    };\n  }\n  const timeOfDay = (hour) => {\n    if (hour < 12) return goodMorning;\n    if (hour < 17) return goodAfternoon;\n    return goodEvening;\n  };\n  const greetings = timeOfDay(currentHour);\n  const greetingsKey = random(Object.keys(greetings));\n  return {\n    language: greetingsKey,\n    greeting: greetings[greetingsKey],\n  };\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  alertApiRef,\n  identityApiRef,\n  useApi,\n} from '@backstage/core-plugin-api';\nimport { Tooltip } from '@material-ui/core';\nimport React, { useEffect, useMemo } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { getTimeBasedGreeting } from './timeUtil';\n\nexport const WelcomeTitle = () => {\n  const identityApi = useApi(identityApiRef);\n  const alertApi = useApi(alertApiRef);\n  const greeting = useMemo(() => getTimeBasedGreeting(), []);\n\n  const { value: profile, error } = useAsync(() =>\n    identityApi.getProfileInfo(),\n  );\n\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load user identity: ${error}`,\n        severity: 'error',\n      });\n    }\n  }, [error, alertApi]);\n\n  return (\n    React.createElement(Tooltip, { title: greeting.language,}\n      , React.createElement('span', null, `${greeting.greeting}${\n        profile?.displayName ? `, ${profile?.displayName}` : ''\n      }!`)\n    )\n  );\n};\n"],"sourceRoot":""}