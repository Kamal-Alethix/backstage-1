(()=>{var ku=Object.defineProperty;var Xu=(H,l,e)=>l in H?ku(H,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):H[l]=e;var Me=(H,l,e)=>(Xu(H,typeof l!="symbol"?l+"":l,e),e),Gc=(H,l,e)=>{if(!l.has(H))throw TypeError("Cannot "+e)};var Ut=(H,l,e)=>(Gc(H,l,"read from private field"),e?e.call(H):l.get(H)),oa=(H,l,e)=>{if(l.has(H))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(H):l.set(H,e)},la=(H,l,e,t)=>(Gc(H,l,"write to private field"),t?t.call(H,e):l.set(H,e),e);(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[179],{76334:function(H,l,e){"use strict";var t={};e.r(t),e.d(t,{badgesPlugin:function(){return ys},shortcutsPlugin:function(){return $c}});var n=e(2784),r=e(47093),i=e(48023),d=e(49208),s=e(36964),a=e(68099);const c=[(0,s.createApiFactory)({api:s.discoveryApiRef,deps:{configApi:s.configApiRef},factory:({configApi:x})=>d.UrlPatternDiscovery.compile(`${x.getString("backend.baseUrl")}/api/{{ pluginId }}`)}),(0,s.createApiFactory)({api:s.alertApiRef,deps:{},factory:()=>new d.AlertApiForwarder}),(0,s.createApiFactory)({api:s.analyticsApiRef,deps:{},factory:()=>new d.NoOpAnalyticsApi}),(0,s.createApiFactory)({api:s.errorApiRef,deps:{alertApi:s.alertApiRef},factory:({alertApi:x})=>{const Y=new d.ErrorAlerter(x,new d.ErrorApiForwarder);return d.UnhandledErrorForwarder.forward(Y,{hidden:!1}),Y}}),(0,s.createApiFactory)({api:s.storageApiRef,deps:{errorApi:s.errorApiRef},factory:({errorApi:x})=>d.WebStorage.create({errorApi:x})}),(0,s.createApiFactory)({api:s.fetchApiRef,deps:{configApi:s.configApiRef,identityApi:s.identityApiRef,discoveryApi:s.discoveryApiRef},factory:({configApi:x,identityApi:Y,discoveryApi:Se})=>(0,d.createFetchApi)({middleware:[d.FetchMiddlewares.resolvePluginProtocol({discoveryApi:Se}),d.FetchMiddlewares.injectIdentityAuth({identityApi:Y,config:x})]})}),(0,s.createApiFactory)({api:s.oauthRequestApiRef,deps:{},factory:()=>new d.OAuthRequestManager}),(0,s.createApiFactory)({api:s.googleAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.GoogleAuth.create({discoveryApi:x,oauthRequestApi:Y,environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:s.microsoftAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.MicrosoftAuth.create({discoveryApi:x,oauthRequestApi:Y,environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:s.githubAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.GithubAuth.create({discoveryApi:x,oauthRequestApi:Y,defaultScopes:["read:user"],environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:s.oktaAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.OktaAuth.create({discoveryApi:x,oauthRequestApi:Y,environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:s.gitlabAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.GitlabAuth.create({discoveryApi:x,oauthRequestApi:Y,environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:s.oneloginAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.OneLoginAuth.create({discoveryApi:x,oauthRequestApi:Y,environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:s.bitbucketAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.BitbucketAuth.create({discoveryApi:x,oauthRequestApi:Y,defaultScopes:["team"],environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:s.atlassianAuthApiRef,deps:{discoveryApi:s.discoveryApiRef,oauthRequestApi:s.oauthRequestApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,oauthRequestApi:Y,configApi:Se})=>d.AtlassianAuth.create({discoveryApi:x,oauthRequestApi:Y,environment:Se.getOptionalString("auth.environment")})}),(0,s.createApiFactory)({api:a.RV,deps:{discovery:s.discoveryApiRef,identity:s.identityApiRef,config:s.configApiRef},factory:({config:x,discovery:Y,identity:Se})=>a.iM.create({config:x,discovery:Y,identity:Se})})];var o=e(77277),g=e(23192),u=e(62833),f=e(10289);function h({children:x}){return(0,f.GV)()?n.createElement(n.Fragment,null,x):n.createElement(f.VA,null,x)}const p=()=>n.createElement(g.ErrorPage,{status:"404",statusMessage:"PAGE NOT FOUND"}),A=({step:x,error:Y})=>{let Se="";return x==="load-config"?Se=`The configuration failed to load, someone should have a look at this error: ${Y.message}`:x==="load-chunk"&&(Se=`Lazy loaded chunk failed to load, try to reload the page: ${Y.message}`),n.createElement(h,null,n.createElement(g.ErrorPage,{status:"501",statusMessage:Se}))},R=({error:x,resetError:Y,plugin:Se})=>n.createElement(g.ErrorPanel,{title:`Error in ${Se==null?void 0:Se.getId()}`,defaultExpanded:!0,error:x},n.createElement(o.Z,{variant:"outlined",onClick:Y},"Retry")),y={Progress:g.Progress,Router:u.VK,NotFoundErrorPage:p,BootErrorPage:A,ErrorBoundaryFallback:R};var E=e(43642),C=e(80079),S=e(90941),T=e(32915),P=e(40562),I=e(21853),Z=e(60744),L=e(66569),D=e(30254),B=e(13384),w=e(15933),V=e(58838),G=e(86737),M=e(4989),ce=e(44407),ue=e(18628),le=e(84219),me=e(98685),ge=e(39781);const Ae={brokenImage:C.Z,catalog:ue.Z,scaffolder:T.Z,techdocs:P.Z,search:I.Z,chat:Z.Z,dashboard:L.Z,docs:D.Z,email:B.Z,github:V.Z,group:le.Z,help:G.Z,"kind:api":w.Z,"kind:component":ce.Z,"kind:domain":E.Z,"kind:group":le.Z,"kind:location":M.Z,"kind:system":S.Z,"kind:user":me.Z,user:me.Z,warning:ge.Z};var ee=e(28981),Ie=e(98192),re=e(15222),ne=e(41547),_=e(87561);const se=[{id:"light",title:"Light Theme",variant:"light",icon:n.createElement(re.Z,null),Provider:({children:x})=>n.createElement(ne.Z,{theme:ee.lightTheme},n.createElement(_.ZP,null,x))},{id:"dark",title:"Dark Theme",variant:"dark",icon:n.createElement(Ie.Z,null),Provider:({children:x})=>n.createElement(ne.Z,{theme:ee.darkTheme},n.createElement(_.ZP,null,x))}];function j(x){var Y,Se,je;return(0,d.createSpecializedApp)({...x,apis:(Y=x==null?void 0:x.apis)!=null?Y:[],bindRoutes:x==null?void 0:x.bindRoutes,components:{...y,...x==null?void 0:x.components},configLoader:x==null?void 0:x.configLoader,defaultApis:c,icons:{...Ae,...x==null?void 0:x.icons},plugins:(Se=x==null?void 0:x.plugins)!=null?Se:[],themes:(je=x==null?void 0:x.themes)!=null?je:se})}var ae=e(16747),X=e(26671),z=e(68191),Q=e(84694),fe=e(5595),q=e(17192),k=e(52665),b=e(16249),F=e(94968),N=e(13141);const W=(0,s.createPlugin)({id:"api-docs",routes:{root:N.r},apis:[(0,s.createApiFactory)({api:F.Z,deps:{},factory:()=>{const x=(0,X.defaultDefinitionWidgets)();return{getApiDefinitionWidget:Y=>x.find(Se=>Se.type===Y.spec.type)}}})],externalRoutes:{registerApi:N.J}}),Ee=W.provide((0,s.createRoutableExtension)({name:"ApiExplorerPage",component:()=>Promise.resolve().then(e.bind(e,16747)).then(x=>x.ApiExplorerIndexPage),mountPoint:N.r})),Ce=W.provide((0,s.createComponentExtension)({name:"EntityApiDefinitionCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,26671)).then(x=>x.ApiDefinitionCard)}})),te=W.provide((0,s.createComponentExtension)({name:"EntityConsumedApisCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,68191)).then(x=>x.ConsumedApisCard)}})),Re=W.provide((0,s.createComponentExtension)({name:"EntityConsumingComponentsCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,5595)).then(x=>x.ConsumingComponentsCard)}})),$=W.provide((0,s.createComponentExtension)({name:"EntityProvidedApisCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,68191)).then(x=>x.ProvidedApisCard)}})),ie=W.provide((0,s.createComponentExtension)({name:"EntityProvidingComponentsCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,5595)).then(x=>x.ProvidingComponentsCard)}})),de=W.provide((0,s.createComponentExtension)({name:"EntityHasApisCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,68191)).then(x=>x.HasApisCard)}}));var Pe=e(86864);const He=(0,s.createRouteRef)({id:"azure-pull-request-dashboard"}),We=(0,s.createRouteRef)({id:"azure-pipelines-entity-content"}),Ge=(0,s.createRouteRef)({id:"azure-git-tags-entity-content"}),Ve=(0,s.createRouteRef)({id:"azure-pull-requests-entity-content"});var ut=e(10704),nt=e(68517);const At=x=>{var Y;return Boolean((Y=x.metadata.annotations)==null?void 0:Y[Pe.Ob])},Le=x=>{var Y,Se,je;return Boolean((Y=x.metadata.annotations)==null?void 0:Y[Pe.Ob])||Boolean((Se=x.metadata.annotations)==null?void 0:Se[Pe.lA])&&Boolean((je=x.metadata.annotations)==null?void 0:je[Pe._7])},Te=(0,s.createPlugin)({id:"azureDevOps",apis:[(0,s.createApiFactory)({api:nt.k,deps:{discoveryApi:s.discoveryApiRef,identityApi:s.identityApiRef},factory:({discoveryApi:x,identityApi:Y})=>new ut.m({discoveryApi:x,identityApi:Y})})]}),pe=Te.provide((0,s.createRoutableExtension)({name:"AzurePullRequestsPage",component:()=>Promise.resolve().then(e.bind(e,2120)).then(x=>x.PullRequestsPage),mountPoint:He})),Be=Te.provide((0,s.createRoutableExtension)({name:"EntityAzurePipelinesContent",component:()=>e.e(2731).then(e.bind(e,12731)).then(x=>x.EntityPageAzurePipelines),mountPoint:We})),ot=Te.provide((0,s.createRoutableExtension)({name:"EntityAzureGitTagsContent",component:()=>e.e(5887).then(e.bind(e,85887)).then(x=>x.EntityPageAzureGitTags),mountPoint:Ge})),at=Te.provide((0,s.createRoutableExtension)({name:"EntityAzurePullRequestsContent",component:()=>e.e(5655).then(e.bind(e,25655)).then(x=>x.EntityPageAzurePullRequests),mountPoint:Ve}));var ke=e(14139),Zt=e(2120),$e=e(48711),Wt=e(70395),Kt=e(1021);const Qe=(0,s.createPlugin)({id:"catalog-graph",routes:{catalogGraph:Kt.H},externalRoutes:{catalogEntity:Kt.P}}),tt=Qe.provide((0,s.createComponentExtension)({name:"EntityCatalogGraphCard",component:{lazy:()=>e.e(9150).then(e.bind(e,99150)).then(x=>x.CatalogGraphCard)}})),Tt=Qe.provide((0,s.createRoutableExtension)({name:"CatalogGraphPage",component:()=>e.e(1840).then(e.bind(e,81840)).then(x=>x.CatalogGraphPage),mountPoint:Kt.H}));var he=e(36356),Ne=e(53479),_e=e(43736);const rt=(0,s.createRouteRef)({id:"catalog-import"}),it=(0,s.createPlugin)({id:"catalog-import",apis:[(0,s.createApiFactory)({api:_e.h,deps:{discoveryApi:s.discoveryApiRef,scmAuthApi:he.Om,identityApi:s.identityApiRef,scmIntegrationsApi:he.q3,catalogApi:Ne.catalogApiRef,configApi:s.configApiRef},factory:({discoveryApi:x,scmAuthApi:Y,identityApi:Se,scmIntegrationsApi:je,catalogApi:qe,configApi:st})=>new _e.K({discoveryApi:x,scmAuthApi:Y,scmIntegrationsApi:je,identityApi:Se,catalogApi:qe,configApi:st})})],routes:{importPage:rt}}),gt=it.provide((0,s.createRoutableExtension)({name:"CatalogImportPage",component:()=>e.e(5015).then(e.bind(e,65015)).then(x=>x.ImportPage),mountPoint:rt}));var Rt=e(9913),Bt=e(43713),Ht=e(47403),Gt=e(76583),Qt=e(99259),Nt=e(92125);const dn=(0,s.createRouteRef)({id:"cost-insights"}),wt=(0,s.createRouteRef)({id:"cost-insights:investigating-growth"}),tn=(0,s.createRouteRef)({id:"cost-insights:labeling-jobs"}),Jt=(0,s.createPlugin)({id:"cost-insights",featureFlags:[{name:"cost-insights-currencies"}],routes:{root:dn,growthAlerts:wt,unlabeledDataflowAlerts:tn}}),Rn=Jt.provide((0,s.createRoutableExtension)({name:"CostInsightsPage",component:()=>Promise.resolve().then(e.bind(e,49891)).then(x=>x.CostInsightsPage),mountPoint:dn})),Dn=Jt.provide((0,s.createRoutableExtension)({name:"CostInsightsProjectGrowthInstructionsPage",component:()=>Promise.resolve().then(e.bind(e,48138)).then(x=>x.ProjectGrowthInstructionsPage),mountPoint:wt})),nn=Jt.provide((0,s.createRoutableExtension)({name:"CostInsightsLabelDataflowInstructionsPage",component:()=>Promise.resolve().then(e.bind(e,86467)).then(x=>x.LabelDataflowInstructionsPage),mountPoint:tn}));var Xt=e(19928),hn=e.n(Xt),pn=e(95544),qt=e(60364),Zn=e(91471),kn=e(56389),Oe=e(11021),K=e(47994),ye=e(98519),be=e(80052),Ke=e(94403),ct=e(96749),lt=e(16325),Ct=e(49891);const jt=()=>React.createElement(SupportButton,null,"Insights into cloud costs for your organization");var an=e(75488),Xn=e(11550),rn=e(45827),Us=e(86467),Ra=e(39140),ho=e(20460),Lr=e(90254),po=e(82585),Eo=e(46121),Qa=e(57600),yo=e(48138),ir=e(9110),vo=e(25180),Ao=e(3567),Pn=e(22892),sa=e(44241);const Pa=({currentProduct:x,comparedProduct:Y,change:Se,startDate:je})=>{const qe=(0,qt.Z)();return n.createElement(pn.Z,{display:"flex",flexDirection:"row"},n.createElement(pn.Z,{marginRight:2},n.createElement(Ra.Y,{title:(0,sa.QI)(je),markerColor:qe.palette.magenta},x)),n.createElement(pn.Z,{marginRight:2},n.createElement(Ra.Y,{title:"Estimated Cost",markerColor:qe.palette.yellow},Y)),n.createElement(Ra.Y,{title:"Total Savings"},n.createElement(be.y,{change:Se,duration:Pn.Duration.P30D})))},lr=({currentProduct:x,comparedProduct:Y,services:Se})=>{const je=(0,qt.Z)(),qe={previousFill:je.palette.magenta,currentFill:je.palette.yellow,previousName:Y,currentName:x},st=Se.map(ft=>({name:ft.id,previous:ft.aggregation[0],current:ft.aggregation[1]}));return n.createElement(K.vz,{resources:st,options:qe})},br=({data:x,title:Y,subheader:Se,currentProduct:je,comparedProduct:qe})=>n.createElement(g.InfoCard,{title:Y,subheader:Se},n.createElement(pn.Z,{display:"flex",flexDirection:"column"},n.createElement(pn.Z,{paddingY:1},n.createElement(Pa,{startDate:x.startDate,change:x.change,currentProduct:je,comparedProduct:qe})),n.createElement(pn.Z,{paddingY:1},n.createElement(lr,{services:x.services,currentProduct:je,comparedProduct:qe}))));var Ea=e(42494),cr=e(90436),Or=e(64326),Ma=e(5806),zn=e(21324),qn=e(92181);const Fa=(0,n.forwardRef)(({onSubmit:x,disableSubmit:Y,alert:Se},je)=>{const[qe,st]=(0,n.useState)(Se.data.services),ft=Lt=>{Lt.preventDefault(),x({services:qe})},Pt=(Lt,Mt)=>{if(Mt){const Dt=(0,qn.cZ)(Se.data.services,kt=>kt.id===Lt.target.value);st(kt=>kt.concat(Dt))}else st(Dt=>Dt.filter(kt=>kt.id!==Lt.target.value))};return(0,n.useEffect)(()=>{qe.length?Y(!1):Y(!0)},[qe,Y]),n.createElement("form",{ref:je,onSubmit:ft},n.createElement(Ea.Z,{component:"fieldset",fullWidth:!0},n.createElement(cr.Z,{color:"textPrimary"},n.createElement("b",null,"Or choose which services to dismiss this alert for.")),n.createElement(Or.Z,null,Se.data.services.map((Lt,Mt)=>n.createElement(Ma.Z,{key:`example-option-${Mt}`,label:Lt.id,value:Lt.id,control:n.createElement(zn.Z,{color:"primary",checked:qe.some(Dt=>Dt.id===Lt.id),onChange:Pt})})))))});class ur{constructor(Y,Se){Me(this,"api");Me(this,"data");Me(this,"subtitle","Services running on Kubernetes are estimated to save 50% or more compared to Compute Engine.");Me(this,"AcceptForm",null);Me(this,"DismissForm",Fa);this.api=Y,this.data=Se}get title(){return n.createElement("span",null,"Consider migrating"," ",hn()("service",this.data.services.length,!0)," to Kubernetes"," ",n.createElement(g.Lifecycle,{shorthand:!0}))}get element(){const Y=`${hn()("Service",this.data.services.length,!0)}, sorted by cost`;return n.createElement(br,{data:this.data,title:"Migrate to Kubernetes",subheader:Y,currentProduct:"Compute Engine",comparedProduct:"Kubernetes"})}async onDismissed(Y){const Se=await this.api.getAlerts(Y.group);return new Promise(je=>setTimeout(je,750,[...Se.filter(qe=>qe.title!==this.title),{title:this.title,subtitle:this.subtitle,status:Pn.AlertStatus.Dismissed}]))}async onSnoozed(Y){const Se=await this.api.getAlerts(Y.group);return new Promise(je=>setTimeout(je,750,[...Se.filter(qe=>qe.title!==this.title),{title:this.title,subtitle:this.subtitle,status:Pn.AlertStatus.Snoozed}]))}async onAccepted(Y){const Se=await this.api.getAlerts(Y.group);return new Promise(je=>setTimeout(je,750,[...Se.filter(qe=>qe.title!==this.title),{title:this.title,subtitle:this.subtitle,status:Pn.AlertStatus.Accepted}]))}}var ca=e(96299),ka=e(29777);const Co=x=>{const Y={id:"test-entity",aggregation:[100,200],entities:{},change:{ratio:0,amount:0}};return typeof x=="function"?x({...Y}):{...Y}},Dr=x=>{const Y={kind:"compute-engine",name:"Compute Engine"};return typeof x=="function"?x({...Y}):{...Y}},ua={"compute-engine":"Compute Engine","cloud-dataflow":"Cloud Dataflow","cloud-storage":"Cloud Storage","big-query":"Big Query","big-table":"BigTable","cloud-pub-sub":"Cloud Pub/Sub"},ya=Object.keys(ua).map(x=>Dr(()=>({kind:x,name:ua[x]}))),Ns=(0,qn.cZ)(ya,x=>x.kind==="compute-engine"),Br=(0,qn.cZ)(ya,x=>x.kind==="cloud-dataflow"),So=(0,qn.cZ)(ya,x=>x.kind==="cloud-storage"),Ro=(0,qn.cZ)(ya,x=>x.kind==="big-query"),Po=(0,qn.cZ)(ya,x=>x.kind==="big-table"),Mr={keys:()=>Object.keys(ua)},Fr={getOptionalString:()=>"daily-cost",keys:()=>["daily-cost"]},To={getConfig:()=>Mr,getOptionalConfig:()=>Fr},Io=Object.keys(ua).map(x=>({duration:Pn.Duration.P30D,productType:x}));var Ua=e(6740);const Na=[Ua.ss.UserGroups,Ua.ss.CostInsightsInitial,Ua.ss.CostInsightsPage].concat(ya.map(x=>x.kind)),Ta=(0,Ua.mg)(Na),Ia=[{date:"2020-08-07",amount:3500},{date:"2020-08-06",amount:2500},{date:"2020-08-05",amount:1400},{date:"2020-08-04",amount:3800},{date:"2020-08-09",amount:1900},{date:"2020-08-08",amount:2400},{date:"2020-08-03",amount:4e3},{date:"2020-08-02",amount:3700},{date:"2020-08-01",amount:2500},{date:"2020-08-18",amount:4300},{date:"2020-08-17",amount:1500},{date:"2020-08-16",amount:3600},{date:"2020-08-15",amount:2200},{date:"2020-08-19",amount:3900},{date:"2020-08-10",amount:4100},{date:"2020-08-14",amount:3600},{date:"2020-08-13",amount:2900},{date:"2020-08-12",amount:2700},{date:"2020-08-11",amount:5100},{date:"2020-09-19",amount:1200},{date:"2020-09-18",amount:6500},{date:"2020-09-17",amount:2500},{date:"2020-09-16",amount:1400},{date:"2020-09-11",amount:2300},{date:"2020-09-10",amount:1900},{date:"2020-09-15",amount:3100},{date:"2020-09-14",amount:4500},{date:"2020-09-13",amount:3300},{date:"2020-09-12",amount:2800},{date:"2020-09-29",amount:2600},{date:"2020-09-28",amount:4100},{date:"2020-09-27",amount:3800},{date:"2020-09-22",amount:3700},{date:"2020-09-21",amount:2700},{date:"2020-09-20",amount:2200},{date:"2020-09-26",amount:3300},{date:"2020-09-25",amount:4e3},{date:"2020-09-24",amount:3800},{date:"2020-09-23",amount:4100},{date:"2020-08-29",amount:4400},{date:"2020-08-28",amount:5e3},{date:"2020-08-27",amount:4900},{date:"2020-08-26",amount:4100},{date:"2020-08-21",amount:3700},{date:"2020-08-20",amount:2200},{date:"2020-08-25",amount:1700},{date:"2020-08-24",amount:2100},{date:"2020-08-23",amount:3100},{date:"2020-08-22",amount:1500},{date:"2020-09-08",amount:2900},{date:"2020-09-07",amount:4100},{date:"2020-09-06",amount:3600},{date:"2020-09-05",amount:3300},{date:"2020-09-09",amount:2800},{date:"2020-08-31",amount:3400},{date:"2020-08-30",amount:4300},{date:"2020-09-04",amount:6100},{date:"2020-09-03",amount:2500},{date:"2020-09-02",amount:4900},{date:"2020-09-01",amount:6100},{date:"2020-09-30",amount:5500}],dr={id:"bigQuery",aggregation:[1e4,3e4],change:{ratio:3,amount:2e4},entities:{dataset:[{id:"dataset-a",aggregation:[5e3,1e4],change:{ratio:1,amount:5e3},entities:{}},{id:"dataset-b",aggregation:[5e3,1e4],change:{ratio:1,amount:5e3},entities:{}},{id:"dataset-c",aggregation:[0,1e4],change:{amount:1e4},entities:{}}]}},mr={id:"cloudDataflow",aggregation:[1e5,158e3],change:{ratio:.58,amount:58e3},entities:{pipeline:[{id:null,aggregation:[1e4,12e3],change:{ratio:.2,amount:2e3},entities:{SKU:[{id:"Mock SKU A",aggregation:[3e3,4e3],change:{ratio:.333333,amount:1e3},entities:{}},{id:"Mock SKU B",aggregation:[7e3,8e3],change:{ratio:.14285714,amount:1e3},entities:{}}]}},{id:"pipeline-a",aggregation:[6e4,7e4],change:{ratio:.16666666666666666,amount:1e4},entities:{SKU:[{id:"Mock SKU A",aggregation:[2e4,15e3],change:{ratio:-.25,amount:-5e3},entities:{}},{id:"Mock SKU B",aggregation:[3e4,35e3],change:{ratio:-.16666666666666666,amount:-5e3},entities:{}},{id:"Mock SKU C",aggregation:[1e4,2e4],change:{ratio:1,amount:1e4},entities:{}}]}},{id:"pipeline-b",aggregation:[12e3,8e3],change:{ratio:-.33333,amount:-4e3},entities:{SKU:[{id:"Mock SKU A",aggregation:[4e3,4e3],change:{ratio:0,amount:0},entities:{}},{id:"Mock SKU B",aggregation:[8e3,4e3],change:{ratio:-.5,amount:-4e3},entities:{}}]}},{id:"pipeline-c",aggregation:[0,1e4],change:{amount:1e4},entities:{}}]}},Bn={id:"cloudStorage",aggregation:[45e3,45e3],change:{ratio:0,amount:0},entities:{bucket:[{id:"bucket-a",aggregation:[15e3,2e4],change:{ratio:.333,amount:5e3},entities:{SKU:[{id:"Mock SKU A",aggregation:[1e4,11e3],change:{ratio:.1,amount:1e3},entities:{}},{id:"Mock SKU B",aggregation:[2e3,5e3],change:{ratio:1.5,amount:3e3},entities:{}},{id:"Mock SKU C",aggregation:[3e3,4e3],change:{ratio:.3333,amount:1e3},entities:{}}]}},{id:"bucket-b",aggregation:[3e4,25e3],change:{ratio:-.16666,amount:-5e3},entities:{SKU:[{id:"Mock SKU A",aggregation:[12e3,13e3],change:{ratio:.08333333333333333,amount:1e3},entities:{}},{id:"Mock SKU B",aggregation:[16e3,12e3],change:{ratio:-.25,amount:-4e3},entities:{}},{id:"Mock SKU C",aggregation:[2e3,0],change:{amount:-2e3},entities:{}}]}},{id:"bucket-c",aggregation:[0,0],change:{amount:0},entities:{}}]}},_n={id:"computeEngine",aggregation:[8e4,9e4],change:{ratio:.125,amount:1e4},entities:{service:[{id:"service-a",aggregation:[2e4,1e4],change:{ratio:-.5,amount:-1e4},entities:{SKU:[{id:"Mock SKU A",aggregation:[4e3,2e3],change:{ratio:-.5,amount:-2e3},entities:{}},{id:"Mock SKU B",aggregation:[7e3,6e3],change:{ratio:-.14285714285714285,amount:-1e3},entities:{}},{id:"Mock SKU C",aggregation:[9e3,2e3],change:{ratio:-.7777777777777778,amount:-7e3},entities:{}}],deployment:[{id:"Compute Engine",aggregation:[7e3,6e3],change:{ratio:-.5,amount:-2e3},entities:{}},{id:"Kubernetes",aggregation:[4e3,2e3],change:{ratio:-.14285714285714285,amount:-1e3},entities:{}}]}},{id:"service-b",aggregation:[1e4,2e4],change:{ratio:1,amount:1e4},entities:{SKU:[{id:"Mock SKU A",aggregation:[1e3,2e3],change:{ratio:1,amount:1e3},entities:{}},{id:"Mock SKU B",aggregation:[4e3,8e3],change:{ratio:1,amount:4e3},entities:{}},{id:"Mock SKU C",aggregation:[5e3,1e4],change:{ratio:1,amount:5e3},entities:{}}],deployment:[{id:"Compute Engine",aggregation:[7e3,6e3],change:{ratio:-.5,amount:-2e3},entities:{}},{id:"Kubernetes",aggregation:[4e3,2e3],change:{ratio:-.14285714285714285,amount:-1e3},entities:{}}]}},{id:"service-c",aggregation:[0,1e4],change:{amount:1e4},entities:{}}]}},Ur={id:"events",aggregation:[2e4,1e4],change:{ratio:-.5,amount:-1e4},entities:{event:[{id:"event-a",aggregation:[15e3,7e3],change:{ratio:-.53333333333,amount:-8e3},entities:{product:[{id:"Mock Product A",aggregation:[5e3,2e3],change:{ratio:-.6,amount:-3e3},entities:{}},{id:"Mock Product B",aggregation:[7e3,2500],change:{ratio:-.64285714285,amount:-4500},entities:{}},{id:"Mock Product C",aggregation:[3e3,2500],change:{ratio:-.16666666666,amount:-500},entities:{}}]}},{id:"event-b",aggregation:[5e3,3e3],change:{ratio:-.4,amount:-2e3},entities:{product:[{id:"Mock Product A",aggregation:[2e3,1e3],change:{ratio:-.5,amount:-1e3},entities:{}},{id:"Mock Product B",aggregation:[1e3,1500],change:{ratio:.5,amount:500},entities:{}},{id:"Mock Product C",aggregation:[2e3,500],change:{ratio:-.75,amount:-1500},entities:{}}]}}]}};var xo=e(65220),Nr=e(79780),Zo=e(55689),$r=e(61654),Lo=e(9121),bo=e(40241),Wr=e(73750);const $a=[{id:"tech"},{id:"mock-group"}],Fl=({children:x,...Y})=>{const Se={pageFilters:{group:"tech",project:null,duration:Duration.P90D,metric:null},productFilters:[],setPageFilters:jest.fn(),setProductFilters:jest.fn()};return React.createElement(FilterContext.Provider,{value:{...Se,...Y}},x)},ve=({children:x,...Y})=>{const Se={state:{},actions:[],dispatch:jest.fn()};return React.createElement(LoadingContext.Provider,{value:{...Se,...Y}},x)},Ze=({children:x,...Y})=>{const Se={metrics:[],products:[],icons:[],engineerCost:0,currencies:[]};return React.createElement(ConfigContext.Provider,{value:{...Se,...Y}},x)},Ue=({children:x,...Y})=>{const Se={currency:{kind:null,label:"Engineers \u{1F6E0}",unit:"engineer"},setCurrency:jest.fn()};return React.createElement(CurrencyContext.Provider,{value:{...Se,...Y}},x)},ze=({children:x,...Y})=>{const Se={lastCompleteBillingDate:"2020-10-01"};return React.createElement(BillingDateContext.Provider,{value:{...Se,...Y}},x)},Ye=({children:x})=>{const Y={scroll:null,setScroll:jest.fn()};return React.createElement(ScrollContext.Provider,{value:Y},x)},Je=({children:x,...Y})=>{const Se={groups:[]};return React.createElement(GroupsContext.Provider,{value:{...Se,...Y}},x)};var dt=e(34901),yt=e.n(dt),xt=e(88343);function St(x){const Y=x.match(/\/(?<duration>P\d+[DM])\/(?<date>\d{4}-\d{2}-\d{2})/);if(Object.keys((Y==null?void 0:Y.groups)||{}).length!==2)throw new Error(`Invalid intervals: ${x}`);const{duration:Se,date:je}=Y.groups;return{duration:Se,endDate:je}}function pt(x,Y){const{duration:Se,endDate:je}=St(x),qe=(0,xt.qp)(Se,je),st=ca.ou.fromISO(je).diff(ca.ou.fromISO((0,xt.pc)(Se,qe)),"days").days;function ft(){const Mt=-.44999999999999996;return Y*(Math.random()+Mt)*.15}return[...Array(st).keys()].reduce((Pt,Lt)=>{const Mt=Pt.length?Pt[Pt.length-1].amount:Y,Dt=ca.ou.fromISO((0,xt.pc)(Se,qe)).plus({days:Lt}).toFormat(Pn.DEFAULT_DATE_FORMAT),kt=Math.max(0,Mt+ft());return Pt.push({date:Dt,amount:kt}),Pt},[])}function It(x){const Y=x.length?x[0].amount:0,Se=x.length?x[x.length-1].amount:0;return!Y||!Se?{amount:Se-Y}:{ratio:(Se-Y)/Y,amount:Se-Y}}function bt(x){const Y=x.map(je=>[Date.parse(je.date)/1e3,je.amount]),Se=yt().linear(Y,{precision:5});return{slope:Se.equation[0],intercept:Se.equation[1]}}function Yt(x){switch(x){case"computeEngine":return _n;case"cloudDataflow":return mr;case"cloudStorage":return Bn;case"bigQuery":return dr;case"events":return Ur;default:throw new Error(`Cannot get insights for ${x}. Make sure product matches product property in app-info.yaml`)}}const Ft=x=>[{id:"Cloud Dataflow",aggregation:pt(x,1700)},{id:"Compute Engine",aggregation:pt(x,350)},{id:"Cloud Storage",aggregation:pt(x,1300)},{id:"BigQuery",aggregation:pt(x,2e3)},{id:"Cloud SQL",aggregation:pt(x,750)},{id:"Cloud Spanner",aggregation:pt(x,50)},{id:"Cloud Pub/Sub",aggregation:pt(x,1e3)},{id:"Cloud Bigtable",aggregation:pt(x,250)}],Ot=x=>[{id:"project-a",aggregation:pt(x,1700)},{id:"project-b",aggregation:pt(x,350)},{id:"project-c",aggregation:pt(x,1300)}];class mn{request(Y,Se){return new Promise(je=>setTimeout(je,0,Se))}getLastCompleteBillingDate(){return Promise.resolve(ca.ou.now().minus({days:1}).toFormat(Pn.DEFAULT_DATE_FORMAT))}async getUserGroups(Y){return await this.request({userId:Y},[{id:"pied-piper"}])}async getGroupProjects(Y){return await this.request({group:Y},[{id:"project-a"},{id:"project-b"},{id:"project-c"}])}async getDailyMetricData(Y,Se){const je=pt(Se,1e5).map(st=>({...st,amount:Math.round(st.amount)}));return await this.request({metric:Y,intervals:Se},{format:"number",aggregation:je,change:It(je),trendline:bt(je)})}async getGroupDailyCost(Y,Se){const je=pt(Se,8e3);return await this.request({group:Y,intervals:Se},{aggregation:je,change:It(je),trendline:bt(je),groupedCosts:{product:Ft(Se),project:Ot(Se)}})}async getProjectDailyCost(Y,Se){const je=pt(Se,1500);return await this.request({project:Y,intervals:Se},{id:"project-a",aggregation:je,change:It(je),trendline:bt(je),groupedCosts:{product:Ft(Se)}})}async getProductInsights(Y){return await this.request(Y,Yt(Y.product))}async getAlerts(Y){const Se={project:"example-project",periodStart:"2020-Q2",periodEnd:"2020-Q3",aggregation:[6e4,12e4],change:{ratio:1,amount:6e4},products:[{id:"Compute Engine",aggregation:[58e3,118e3]},{id:"Cloud Dataflow",aggregation:[1200,1500]},{id:"Cloud Storage",aggregation:[800,500]}]},je={periodStart:"2020-09-01",periodEnd:"2020-09-30",labeledCost:6200,unlabeledCost:7e3,projects:[{id:"example-project-1",unlabeledCost:5e3,labeledCost:3e3},{id:"example-project-2",unlabeledCost:2e3,labeledCost:3200}]},qe=ca.ou.now();return await this.request({group:Y},[new ka.R(Se),new ka._(je),new ur(this,{startDate:qe.minus({days:30}).toFormat(Pn.DEFAULT_DATE_FORMAT),endDate:qe.toFormat(Pn.DEFAULT_DATE_FORMAT),change:{ratio:0,amount:0},services:[{id:"service-a",aggregation:[2e4,1e4],change:{ratio:-.5,amount:-1e4},entities:{}},{id:"service-b",aggregation:[3e4,15e3],change:{ratio:-.5,amount:-15e3},entities:{}}]})])}}var yn=e(83171),da=e(64130);const Tn=(0,s.createPlugin)({id:"org",externalRoutes:{catalogIndex:da.x}}),Mn=Tn.provide((0,s.createComponentExtension)({name:"EntityGroupProfileCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,83167)).then(x=>x.GroupProfileCard)}})),Un=Tn.provide((0,s.createComponentExtension)({name:"EntityMembersListCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,83167)).then(x=>x.MembersListCard)}})),Nn=Tn.provide((0,s.createComponentExtension)({name:"EntityOwnershipCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,83167)).then(x=>x.OwnershipCard)}})),Wa=Tn.provide((0,s.createComponentExtension)({name:"EntityUserProfileCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,83167)).then(x=>x.UserProfileCard)}}));var xa=e(83167),jr=e(60562),Ln=e(81e3),Fn=e(56726);const Za=(0,s.createRouteRef)({id:"explore"}),gr=(0,s.createExternalRouteRef)({id:"catalog-entity",params:["namespace","kind","name"],optional:!0}),$s=[{title:"New Relic",description:"Observability platform built to help engineers create and monitor their software",url:"/newrelic",image:"https://i.imgur.com/L37ikrX.jpg",tags:["newrelic","performance","monitoring","errors","alerting"]},{title:"CircleCI",description:"Provides builds overview, detailed build info and retriggering functionality for CircleCI.",url:"/circleci",image:"https://miro.medium.com/max/1200/1*hkTBp22vLAqlIHkrkZHPnw.png",tags:["circleci","ci","dev"]},{title:"Sentry",description:"Self-hosted and cloud-based error monitoring that helps software teams discover, triage, and prioritize errors in real-time.",url:"/sentry",image:"https://sentry-brand.storage.googleapis.com/sentry-logo-black.png",tags:["sentry","monitoring","errors"]},{title:"Lighthouse",description:"Google's Lighthouse tool is a great resource for benchmarking and improving the accessibility, performance, SEO, and best practices of your website.",url:"/lighthouse",image:"https://raw.githubusercontent.com/GoogleChrome/lighthouse/8b3d7f052b2e64dd857e741d7395647f487697e7/assets/lighthouse-logo.png",tags:["web","seo","accessibility","performance"]},{title:"Tech Radar",description:"Tech Radar is a list of technologies, complemented by an assessment result, called ring assignment.",url:"/tech-radar",image:"https://storage.googleapis.com/wf-blogs-engineering-media/2018/09/fe13bb32-wf-tech-radar-hero-1024x597.png",tags:["standards","landscape"]},{title:"Cost Insights",description:"Insights into cloud costs for your organization.",url:"/cost-insights",image:"https://cloud.google.com/images/press/logo-cloud.png",tags:["cloud","finops"]},{title:"GraphiQL",description:"Integrates GraphiQL as a tool to browse GraphiQL endpoints inside Backstage.",url:"/graphiql",image:"https://camo.githubusercontent.com/517398c3fbe0687d3d4dcbe05da82970b882e75a/68747470733a2f2f64337676366c703535716a6171632e636c6f756466726f6e742e6e65742f6974656d732f33413061324e314c3346324f304c3377326e316a2f477261706869514c382e706e673f582d436c6f75644170702d56697369746f722d49643d3433363432",tags:["graphql","dev"]},{title:"GitOps Clusters",description:"Create GitOps-managed clusters with Backstage. Currently supports EKS flavors and profiles like Machine Learning Ops (MLOps)",url:"/gitops-clusters",image:"https://miro.medium.com/max/801/1*R28u8gj-hVdDFISoYqPhrQ.png",tags:["gitops","dev"]},{title:"Rollbar",description:"Error monitoring and crash reporting for agile development and continuous delivery",url:"/rollbar",image:"https://images.ctfassets.net/cj4mgtttlyx7/4DfiWj9CbuHBi10uWK7JHn/5e94a6c5dbd5d50bdcd8d9e78f88689b/rollbar-seo.png",tags:["rollbar","monitoring","errors"]}],fr=(0,s.createPlugin)({id:"explore",apis:[(0,s.createApiFactory)({api:Fn.T,deps:{},factory:()=>({async getTools(){return $s}})})],routes:{explore:Za},externalRoutes:{catalogEntity:gr}}),Ws=fr.provide((0,s.createRoutableExtension)({name:"ExplorePage",component:()=>e.e(6613).then(e.bind(e,46613)).then(x=>x.ExplorePage),mountPoint:Za})),Ul=fr.provide((0,s.createComponentExtension)({name:"DomainExplorerContent",component:{lazy:()=>e.e(4759).then(e.bind(e,84759)).then(x=>x.DomainExplorerContent)}})),Nl=fr.provide((0,s.createComponentExtension)({name:"GroupsExplorerContent",component:{lazy:()=>e.e(5423).then(e.bind(e,85423)).then(x=>x.GroupsExplorerContent)}})),$l=fr.provide((0,s.createComponentExtension)({name:"ToolExplorerContent",component:{lazy:()=>e.e(6828).then(e.bind(e,86828)).then(x=>x.ToolExplorerContent)}}));var zr=e(31846),Oo=e(79623);const ja=(0,s.createPlugin)({id:"gcp-projects",routes:{root:Oo._Z},apis:[(0,s.createApiFactory)({api:zr.gcpApiRef,deps:{googleAuthApi:s.googleAuthApiRef},factory({googleAuthApi:x}){return new zr.GcpClient(x)}})]}).provide((0,s.createRoutableExtension)({name:"GcpProjectsPage",component:()=>e.e(6749).then(e.bind(e,36749)).then(x=>x.GcpProjectsPage),mountPoint:Oo._Z}));var js=e(72379),zs=x=>n.createElement(js.Z,x,n.createElement("path",{d:"m3.45 18.16-.864-.5 9.61-16.64.863.496Zm0 0"}),n.createElement("path",{d:"M2.387 16.332h19.218v.996H2.387Zm0 0"}),n.createElement("path",{d:"m12.383 22.441-9.613-5.55.496-.864 9.613 5.551ZM20.73 7.977l-9.613-5.551.5-.864 9.613 5.551Zm0 0"}),n.createElement("path",{d:"m3.27 7.973-.5-.864 9.613-5.55.5.863Zm0 0"}),n.createElement("path",{d:"m20.555 18.16-9.61-16.644.864-.496 9.609 16.64ZM3.148 6.45h.997v11.1h-.997Zm0 0"}),n.createElement("path",{d:"M19.855 6.45h.997v11.1h-.997Zm0 0"}),n.createElement("path",{d:"m12.21 22.02-.433-.754 8.36-4.825.433.75Zm0 0"}),n.createElement("path",{d:"M22.172 17.875a2.099 2.099 0 0 1-2.863.766 2.095 2.095 0 1 1 2.093-3.63 2.09 2.09 0 0 1 .77 2.864M5.453 8.219a2.095 2.095 0 1 1-3.63-2.092 2.095 2.095 0 0 1 3.63 2.092M1.828 17.875a2.103 2.103 0 0 1 .77-2.863 2.1 2.1 0 0 1 2.863.77 2.096 2.096 0 0 1-3.633 2.093M18.547 8.219a2.095 2.095 0 1 1 3.63-2.092 2.095 2.095 0 0 1-3.63 2.092M12 23.746a2.094 2.094 0 1 1 0-4.187 2.094 2.094 0 0 1 0 4.187M12 4.441a2.094 2.094 0 1 1 0-4.187 2.094 2.094 0 0 1 0 4.187"})),La=e(33);const ws=(0,s.createRouteRef)({id:"graphiql-root"}),Ks=(0,s.createPlugin)({id:"graphiql",apis:[(0,s.createApiFactory)(La.N,La.O.from([La.O.create({id:"gitlab",title:"GitLab",url:"https://gitlab.com/api/graphql"})]))]}).provide((0,s.createRoutableExtension)({name:"GraphiQLPage",component:()=>Promise.resolve().then(e.bind(e,98259)).then(x=>x.GraphiQLPage),mountPoint:ws}));var Gs=e(98259);const Hs=zs;var wr=e(61837),Kr=e(47603),Do=e(47039);function Gr(x){const{title:Y,components:Se,name:je}=x;return(0,s.createReactExtension)({name:je,component:{lazy:()=>Se().then(({Content:qe,Actions:st,Settings:ft,ContextProvider:Pt})=>Mt=>{const{Renderer:Dt,title:kt,...en}=Mt,cn=(0,s.useApp)(),{Progress:Vt}=cn.getComponents(),[vn,ra]=n.useState(!1);if(Dt)return n.createElement(n.Suspense,{fallback:n.createElement(Vt,null)},n.createElement(Dt,{title:kt||Y,Content:qe,...st?{Actions:st}:{},...ft?{Settings:ft}:{},...Pt?{ContextProvider:Pt}:{},...en}));const or={title:kt!=null?kt:Y,...ft?{action:n.createElement(wr.Z,{onClick:()=>ra(!0)},n.createElement(Kr.Z,null,"Settings"))}:{},...st?{actions:n.createElement(st,null)}:{}},sr=n.createElement(g.InfoCard,{...or},ft&&n.createElement(Do.SettingsModal,{open:vn,componentName:Y,close:()=>ra(!1)},n.createElement(ft,null)),n.createElement(qe,{...en}));return n.createElement(n.Suspense,{fallback:n.createElement(Vt,null)},Pt?n.createElement(Pt,{...en},sr):sr)})}})}const Bo=(0,s.createRouteRef)({id:"home"}),ma=(0,s.createPlugin)({id:"home",routes:{root:Bo}}),Vs=ma.provide((0,s.createRoutableExtension)({name:"HomepageCompositionRoot",component:()=>Promise.resolve().then(e.bind(e,47039)).then(x=>x.HomepageCompositionRoot),mountPoint:Bo})),Hr=ma.provide((0,s.createComponentExtension)({name:"ComponentAccordion",component:{lazy:()=>e.e(2183).then(e.bind(e,92183)).then(x=>x.ComponentAccordion)}})),Js=ma.provide((0,s.createComponentExtension)({name:"ComponentTabs",component:{lazy:()=>e.e(2183).then(e.bind(e,92183)).then(x=>x.ComponentTabs)}})),Mo=ma.provide((0,s.createComponentExtension)({name:"ComponentTab",component:{lazy:()=>e.e(2183).then(e.bind(e,92183)).then(x=>x.ComponentTab)}})),Ys=ma.provide((0,s.createComponentExtension)({name:"WelcomeTitle",component:{lazy:()=>e.e(5064).then(e.bind(e,75064)).then(x=>x.WelcomeTitle)}})),Qs=ma.provide((0,s.createComponentExtension)({name:"CompanyLogo",component:{lazy:()=>e.e(7305).then(e.bind(e,87305)).then(x=>x.CompanyLogo)}})),ba=ma.provide(Gr({name:"HomePageRandomJoke",title:"Random Joke",components:()=>e.e(2269).then(e.bind(e,2269))})),ks=ma.provide(Gr({name:"HomePageToolkit",title:"Toolkit",components:()=>e.e(3373).then(e.bind(e,53373))})),Xs=ma.provide(Gr({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>e.e(1520).then(e.bind(e,1520))})),_s=x=>React.createElement("svg",{className:x.classes.svg,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2079.95 456.05"},React.createElement("path",{className:x.classes.path,d:"M302.9,180a80.62,80.62,0,0,0,13.44-10.37c.8-.77,1.55-1.54,2.31-2.31a81.89,81.89,0,0,0,7.92-9.37,62.37,62.37,0,0,0,6.27-10.77,48.6,48.6,0,0,0,4.36-16.4c1.49-19.39-10-38.67-35.62-54.22L198.42,14,78.16,129.22l-78.29,75,108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.69,49.69,0,0,0-6.8-8.87,89.78,89.78,0,0,0,19.28,2.15H259a85.09,85.09,0,0,0,31-5.79A80.88,80.88,0,0,0,302.9,180Zm-100.59,59.8c-19.32,18.51-50.4,21.24-75.7,5.9l-75.13-45.6,67.44-64.65,76.42,46.39C222.88,198.57,221.36,221.6,202.31,239.84Zm8.94-82.21L140.6,114.74,205,53l69.37,42.11c25.94,15.73,29.31,37.05,10.55,55A60.71,60.71,0,0,1,211.25,157.63Zm29.86,190c-19.57,18.75-46.17,29.08-74.88,29.08a123.84,123.84,0,0,1-64.11-18.19L-.13,296.51v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.85,87.85,0,0,1,241.11,347.67Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,257.52V282.2l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.79A86.86,86.86,0,0,1,241.11,308.68Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,218.54v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.12,19.68-41.49v-1.82A87.14,87.14,0,0,1,241.11,269.7Zm83.69,25.74a94.16,94.16,0,0,1-60.19,25.86h0V348a81.6,81.6,0,0,0,51.73-22.37c14-13.38,21.15-28.11,21-42.64v-2.2A95.14,95.14,0,0,1,324.8,295.44Zm-83.69,91.21c-19.57,18.75-46.17,29.09-74.88,29.09a123.76,123.76,0,0,1-64.11-18.2L-.13,335.49v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.35,87.35,0,0,1,241.11,386.65Zm85.75-210.21c-.68.69-1.35,1.38-2.06,2.05a99.19,99.19,0,0,1-22.23,15.69,94.53,94.53,0,0,1-26.24,8.71,97.84,97.84,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a52.7,52.7,0,0,1,1.13,12V231h.05A84.48,84.48,0,0,0,290,225.47a80.83,80.83,0,0,0,26.38-16.82c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,62.85,62.85,0,0,0,6.29-10.78,48.5,48.5,0,0,0,4.32-16.44c.09-1.23.2-2.47.19-3.7v-2c-.72,1-1.48,2.06-2.26,3.09A98,98,0,0,1,326.86,176.44Zm0,77.92c-.68.7-1.3,1.41-2,2.1a94.09,94.09,0,0,1-60.19,25.85h0V309h0a81.65,81.65,0,0,0,51.73-22.37,73.51,73.51,0,0,0,16.48-22.49,48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A95.81,95.81,0,0,1,326.82,254.36Zm0-39c-.68.7-1.3,1.41-2,2.1a92.22,92.22,0,0,1-10.62,8.65,93.53,93.53,0,0,1-11.63,7,95.63,95.63,0,0,1-37.94,10.18h-.05l0,26.67h0a81.63,81.63,0,0,0,51.73-22.37c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,63.16,63.16,0,0,0,6.29-10.77,48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A98.19,98.19,0,0,1,326.82,215.38Zm241-88.84q7.94,0,17.09.17t18.12,1a139.3,139.3,0,0,1,16.74,2.57,42.78,42.78,0,0,1,13.3,5.14,64.27,64.27,0,0,1,20.54,19.89Q662,168,662,186.54q0,19.54-9.49,33.78t-27.1,21.09v.68q22.78,4.82,34.87,20.58t12.08,38.4a72.62,72.62,0,0,1-4.83,26.06,65.29,65.29,0,0,1-14.33,22.46,71.57,71.57,0,0,1-23.47,15.78q-14,6-32.28,6H478.38V126.54Zm9,105.27q28,0,40.21-9.78t12.26-29.31q0-13-4.14-20.58a29.47,29.47,0,0,0-11.4-11.66A45,45,0,0,0,597,155.17a161.2,161.2,0,0,0-20.19-1.2h-65.6v77.84Zm16.57,112.13q21.74,0,34-11.66T639.59,300q0-12-4.48-19.88a34.85,34.85,0,0,0-11.91-12.52,50.14,50.14,0,0,0-17.09-6.52,105,105,0,0,0-20-1.88H511.17v84.7Zm274.79,26.74q-7.61,4.45-21.06,4.46-11.4,0-18.12-6.34t-6.74-20.75a70.17,70.17,0,0,1-28.13,20.75,97.87,97.87,0,0,1-57.65,3.6,53.51,53.51,0,0,1-18.82-8.58A41.19,41.19,0,0,1,705,348.56q-4.65-9.42-4.66-22.8,0-15.09,5.18-24.69a44.92,44.92,0,0,1,13.64-15.6,62.63,62.63,0,0,1,19.33-9.09q10.88-3.08,22.27-5.14,12.08-2.4,23-3.6a128,128,0,0,0,19.16-3.43c5.53-1.48,9.89-3.65,13.12-6.51s4.83-7,4.83-12.52q0-9.6-3.62-15.43a24.94,24.94,0,0,0-9.32-8.92,38.38,38.38,0,0,0-12.78-4.11,96.54,96.54,0,0,0-14-1q-18.63,0-31.07,7T736.6,249.29H707.26q.69-16.46,6.9-27.77a52.21,52.21,0,0,1,16.57-18.35,70,70,0,0,1,23.65-10.11A125.51,125.51,0,0,1,782.86,190a168.63,168.63,0,0,1,24,1.72,63.26,63.26,0,0,1,21.58,7A41.23,41.23,0,0,1,844,213.59q5.87,9.57,5.87,25v91q0,10.26,1.21,15.05t8.11,4.79a35.57,35.57,0,0,0,9-1.37Zm-47.64-90.87c-3.69,2.74-8.52,4.72-14.5,6s-12.26,2.27-18.82,3.07-13.17,1.71-19.85,2.73a73.7,73.7,0,0,0-18,4.94,32.62,32.62,0,0,0-12.94,9.73q-5,6.32-5,17.23a23.31,23.31,0,0,0,2.94,12.11,24.11,24.11,0,0,0,7.59,8,32,32,0,0,0,10.88,4.44,60.94,60.94,0,0,0,13.11,1.36q14.5,0,24.86-3.92a52.49,52.49,0,0,0,16.91-9.9,39.1,39.1,0,0,0,9.67-13,32.53,32.53,0,0,0,3.11-13.14ZM1002.07,225q-11.05-9.25-29.69-9.26-15.89,0-26.58,5.83A47.29,47.29,0,0,0,928.71,237a64.66,64.66,0,0,0-9.15,22.12A119.83,119.83,0,0,0,916.8,285a98.22,98.22,0,0,0,2.93,24,64.18,64.18,0,0,0,9.15,20.74,46.2,46.2,0,0,0,16.23,14.58q10,5.49,23.82,5.48,21.75,0,34-11.31t15-31.89h30q-4.83,32.91-24.68,50.75t-54,17.83q-20.37,0-36.07-6.52A69.86,69.86,0,0,1,907,350.11a79.92,79.92,0,0,1-15.88-28.63A118.64,118.64,0,0,1,885.73,285a129.41,129.41,0,0,1,5.18-37.21,85.63,85.63,0,0,1,15.71-30.17A73.46,73.46,0,0,1,933,197.35Q948.91,190,970,190a108.54,108.54,0,0,1,28.48,3.6,69.59,69.59,0,0,1,23.48,11.15,61,61,0,0,1,16.74,19q6.55,11.49,8.29,27.26h-30.38Q1013.11,234.21,1002.07,225Zm109.77-98.41v145l81.47-77.49h39.36l-70.77,64.46,75.95,112.82h-37.29l-61.1-92.59-27.62,25.38v67.21H1082.5V126.54Zm170.54,205.22a31.07,31.07,0,0,0,10.87,10.63,49,49,0,0,0,15.19,5.66,87.06,87.06,0,0,0,17.44,1.71,109.18,109.18,0,0,0,14.5-1,53.22,53.22,0,0,0,14-3.78,26.27,26.27,0,0,0,10.53-8q4.14-5.32,4.14-13.55,0-11.31-8.63-17.14a73.69,73.69,0,0,0-21.58-9.43q-12.94-3.6-28.13-6.52a146,146,0,0,1-28.14-8.23A58.16,58.16,0,0,1,1261,267.13q-8.64-9.6-8.63-26.75,0-13.38,6-23a49.26,49.26,0,0,1,15.53-15.61,71.76,71.76,0,0,1,21.4-8.91A99.41,99.41,0,0,1,1319,190a141.31,141.31,0,0,1,28,2.58,64.85,64.85,0,0,1,22.62,8.91,46.16,46.16,0,0,1,15.7,17.15q5.87,10.8,6.91,26.91h-29.35q-.69-8.57-4.48-14.23a29.36,29.36,0,0,0-9.67-9.08,44.16,44.16,0,0,0-12.94-5,67.68,67.68,0,0,0-14.33-1.54,87.29,87.29,0,0,0-13.29,1,45.28,45.28,0,0,0-12.26,3.6,24.49,24.49,0,0,0-9,6.86q-3.46,4.29-3.46,11.14a16.32,16.32,0,0,0,5.36,12.52,42.75,42.75,0,0,0,13.63,8.23,120,120,0,0,0,18.64,5.48q10.37,2.24,20.72,4.63,11,2.4,21.57,5.83A70.74,70.74,0,0,1,1382,284.1a44.55,44.55,0,0,1,13.12,14.23q5,8.58,5,21.26,0,16.13-6.73,26.75a52.5,52.5,0,0,1-17.61,17.14,73.89,73.89,0,0,1-24.51,9.09,146.3,146.3,0,0,1-27.1,2.57,126.24,126.24,0,0,1-28.31-3.09A69.56,69.56,0,0,1,1272,361.94a51.74,51.74,0,0,1-16.57-18.52q-6.21-11.49-6.9-27.95h29.34A32.65,32.65,0,0,0,1282.38,331.76Zm226.46-137.67v25.72h-35.56V329.88a31.37,31.37,0,0,0,.87,8.23,8.42,8.42,0,0,0,3.28,4.8,14.61,14.61,0,0,0,6.73,2.23,99.19,99.19,0,0,0,11.22.51h13.46v25.72H1486.4a105.8,105.8,0,0,1-19.5-1.55,28.65,28.65,0,0,1-13.12-5.65,24.09,24.09,0,0,1-7.42-11.66q-2.43-7.54-2.42-19.89V219.81h-30.38V194.09h30.38V140.94h29.34v53.15ZM1699.4,370.68q-7.61,4.45-21.06,4.46-11.4,0-18.12-6.34t-6.74-20.75a70.17,70.17,0,0,1-28.13,20.75,97.87,97.87,0,0,1-57.65,3.6,53.51,53.51,0,0,1-18.82-8.58,41.19,41.19,0,0,1-12.6-15.26q-4.65-9.42-4.66-22.8,0-15.09,5.18-24.69a44.92,44.92,0,0,1,13.64-15.6,62.63,62.63,0,0,1,19.33-9.09q10.88-3.08,22.27-5.14,12.07-2.4,23-3.6a128,128,0,0,0,19.16-3.43c5.53-1.48,9.89-3.65,13.12-6.51s4.83-7,4.83-12.52q0-9.6-3.62-15.43a24.94,24.94,0,0,0-9.32-8.92,38.38,38.38,0,0,0-12.78-4.11,96.54,96.54,0,0,0-14-1q-18.63,0-31.07,7t-13.46,26.57h-29.34q.67-16.46,6.9-27.77A52.21,52.21,0,0,1,1562,203.17a70,70,0,0,1,23.65-10.11,125.51,125.51,0,0,1,28.48-3.09,168.63,168.63,0,0,1,24,1.72,63.26,63.26,0,0,1,21.58,7,41.23,41.23,0,0,1,15.53,14.89q5.87,9.57,5.87,25v91q0,10.26,1.21,15.05t8.11,4.79a35.57,35.57,0,0,0,9-1.37Zm-47.64-90.87c-3.69,2.74-8.52,4.72-14.5,6s-12.26,2.27-18.82,3.07-13.17,1.71-19.85,2.73a73.7,73.7,0,0,0-17.95,4.94,32.62,32.62,0,0,0-12.94,9.73q-5,6.32-5,17.23a23.31,23.31,0,0,0,2.94,12.11,24.11,24.11,0,0,0,7.59,8,32,32,0,0,0,10.88,4.44,60.94,60.94,0,0,0,13.11,1.36q14.51,0,24.86-3.92a52.49,52.49,0,0,0,16.91-9.9,39.1,39.1,0,0,0,9.67-13,32.53,32.53,0,0,0,3.11-13.14Zm208.85,141.62q-20,21.6-62.83,21.6a122.11,122.11,0,0,1-25.37-2.74,78,78,0,0,1-23.48-8.92,54.41,54.41,0,0,1-17.43-16.11q-6.91-10-7.6-24.35h29.35a21.47,21.47,0,0,0,5,13.38,36.67,36.67,0,0,0,11.4,8.91,55.52,55.52,0,0,0,14.67,5,79.51,79.51,0,0,0,15.19,1.55q14.49,0,24.51-5A46,46,0,0,0,1840.59,401a56.53,56.53,0,0,0,9.49-21.09,117.46,117.46,0,0,0,2.94-27.09V341.19h-.7q-7.59,16.46-23,24.18a71.8,71.8,0,0,1-32.63,7.71q-20,0-34.86-7.2A72.88,72.88,0,0,1,1737,346.51a82.13,82.13,0,0,1-15-28.46,116.62,116.62,0,0,1-5-34.47,133.92,133.92,0,0,1,4.14-32.4A88.17,88.17,0,0,1,1735,221a75.49,75.49,0,0,1,25.55-22.29q15.87-8.75,39-8.75a66.21,66.21,0,0,1,31.07,7.38,52.13,52.13,0,0,1,22.09,22.11h.35V194.09h27.61V356.28Q1880.63,399.83,1860.61,421.43Zm-37.46-79.72a47.94,47.94,0,0,0,16.4-15.78,71.89,71.89,0,0,0,9.15-22.11,106.77,106.77,0,0,0,2.93-24.69,96.71,96.71,0,0,0-2.76-23,64,64,0,0,0-8.8-20.4,45.76,45.76,0,0,0-15.71-14.57q-9.66-5.49-23.47-5.49-14.16,0-24.17,5.32a46.77,46.77,0,0,0-16.4,14.23,60.14,60.14,0,0,0-9.32,20.57,99.69,99.69,0,0,0-2.93,24.35,120.63,120.63,0,0,0,2.42,24,67.5,67.5,0,0,0,8.28,21.77,46.37,46.37,0,0,0,15.54,15.78q9.66,6,24.16,6T1823.15,341.71Zm228,18.34q-20,15.09-50.41,15.09-21.4,0-37.11-6.86a73.16,73.16,0,0,1-26.41-19.2,81.52,81.52,0,0,1-16-29.49,141.12,141.12,0,0,1-6-37.38,106.1,106.1,0,0,1,6.21-37A88.56,88.56,0,0,1,1938.8,216a79.09,79.09,0,0,1,26.58-19.2A81.66,81.66,0,0,1,1999,190q23.82,0,39.53,9.78a78,78,0,0,1,25.2,24.86,98.18,98.18,0,0,1,13.12,32.91,140.6,140.6,0,0,1,2.93,34h-133.6a70,70,0,0,0,2.76,22.12,49.9,49.9,0,0,0,10,18.51A49.1,49.1,0,0,0,1976.6,345q10.7,4.82,25.2,4.8,18.65,0,30.55-8.57t15.71-26.06h29Q2071.18,345,2051.17,360.05Zm-7.08-113.84a50,50,0,0,0-10.7-16,53.1,53.1,0,0,0-56.62-10.63,47.48,47.48,0,0,0-15.71,10.81,51.69,51.69,0,0,0-10.35,15.94,60.18,60.18,0,0,0-4.49,19.37h102.53A59.47,59.47,0,0,0,2044.09,246.21ZM302.9,180a80.62,80.62,0,0,0,13.44-10.37c.8-.77,1.55-1.54,2.31-2.31a81.89,81.89,0,0,0,7.92-9.37,62.37,62.37,0,0,0,6.27-10.77,48.6,48.6,0,0,0,4.36-16.4c1.49-19.39-10-38.67-35.62-54.22L198.42,14,78.16,129.22l-78.29,75,108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.69,49.69,0,0,0-6.8-8.87,89.78,89.78,0,0,0,19.28,2.15H259a85.09,85.09,0,0,0,31-5.79A80.88,80.88,0,0,0,302.9,180Zm-100.59,59.8c-19.32,18.51-50.4,21.24-75.7,5.9l-75.13-45.6,67.44-64.65,76.42,46.39C222.88,198.57,221.36,221.6,202.31,239.84Zm8.94-82.21L140.6,114.74,205,53l69.37,42.11c25.94,15.73,29.31,37.05,10.55,55A60.71,60.71,0,0,1,211.25,157.63Zm29.86,190c-19.57,18.75-46.17,29.08-74.88,29.08a123.84,123.84,0,0,1-64.11-18.19L-.13,296.51v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.85,87.85,0,0,1,241.11,347.67Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,257.52V282.2l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.79A86.86,86.86,0,0,1,241.11,308.68Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,218.54v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.12,19.68-41.49v-1.82A87.14,87.14,0,0,1,241.11,269.7Zm83.69,25.74a94.16,94.16,0,0,1-60.19,25.86h0V348a81.6,81.6,0,0,0,51.73-22.37c14-13.38,21.15-28.11,21-42.64v-2.2A95.14,95.14,0,0,1,324.8,295.44Zm-83.69,91.21c-19.57,18.75-46.17,29.09-74.88,29.09a123.76,123.76,0,0,1-64.11-18.2L-.13,335.49v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.35,87.35,0,0,1,241.11,386.65Zm85.75-210.21c-.68.69-1.35,1.38-2.06,2.05a99.19,99.19,0,0,1-22.23,15.69,94.53,94.53,0,0,1-26.24,8.71,97.84,97.84,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a52.7,52.7,0,0,1,1.13,12V231h.05A84.48,84.48,0,0,0,290,225.47a80.83,80.83,0,0,0,26.38-16.82c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,62.85,62.85,0,0,0,6.29-10.78,48.5,48.5,0,0,0,4.32-16.44c.09-1.23.2-2.47.19-3.7v-2c-.72,1-1.48,2.06-2.26,3.09A98,98,0,0,1,326.86,176.44Zm0,77.92c-.68.7-1.3,1.41-2,2.1a94.09,94.09,0,0,1-60.19,25.85h0V309h0a81.65,81.65,0,0,0,51.73-22.37,73.51,73.51,0,0,0,16.48-22.49,48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A95.81,95.81,0,0,1,326.82,254.36Zm0-39c-.68.7-1.3,1.41-2,2.1a92.22,92.22,0,0,1-10.62,8.65,93.53,93.53,0,0,1-11.63,7,95.63,95.63,0,0,1-37.94,10.18h-.05l0,26.67h0a81.63,81.63,0,0,0,51.73-22.37c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,63.16,63.16,0,0,0,6.29-10.77,48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A98.19,98.19,0,0,1,326.82,215.38Z"}));var In=e(79692);const ei=(0,In.Z)({svg:{width:"auto",height:28},path:{fill:"#7df3e1"}}),wl=()=>{const x=ei();return React.createElement("svg",{className:x.svg,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 337.46 428.5"},React.createElement("path",{className:x.path,d:"M303,166.05a80.69,80.69,0,0,0,13.45-10.37c.79-.77,1.55-1.53,2.3-2.3a83.12,83.12,0,0,0,7.93-9.38A63.69,63.69,0,0,0,333,133.23a48.58,48.58,0,0,0,4.35-16.4c1.49-19.39-10-38.67-35.62-54.22L198.56,0,78.3,115.23,0,190.25l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.22,49.22,0,0,0-6.8-8.87A89.17,89.17,0,0,0,259,178.29h.15a85.08,85.08,0,0,0,31-5.79A80.88,80.88,0,0,0,303,166.05ZM202.45,225.86c-19.32,18.51-50.4,21.23-75.7,5.9L51.61,186.15l67.45-64.64,76.41,46.38C223,184.58,221.49,207.61,202.45,225.86Zm8.93-82.22-70.65-42.89L205.14,39,274.51,81.1c25.94,15.72,29.31,37,10.55,55A60.69,60.69,0,0,1,211.38,143.64Zm29.86,190c-19.57,18.75-46.17,29.09-74.88,29.09a123.73,123.73,0,0,1-64.1-18.2L0,282.52v24.67L108.6,373.1a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.27,87.27,0,0,1,241.24,333.68Zm0-39c-19.57,18.75-46.17,29.08-74.88,29.08a123.81,123.81,0,0,1-64.1-18.19L0,243.53v24.68l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.5v-1.78A87.27,87.27,0,0,1,241.24,294.7Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.81,123.81,0,0,1-64.1-18.19L0,204.55v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.82A86.09,86.09,0,0,1,241.24,255.71Zm83.7,25.74a94.15,94.15,0,0,1-60.2,25.86h0V334a81.6,81.6,0,0,0,51.74-22.37c14-13.38,21.14-28.11,21-42.64v-2.19A94.92,94.92,0,0,1,324.94,281.45Zm-83.7,91.21c-19.57,18.76-46.17,29.09-74.88,29.09a123.73,123.73,0,0,1-64.1-18.2L0,321.5v24.68l108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A86.29,86.29,0,0,1,241.24,372.66ZM327,162.45c-.68.69-1.35,1.38-2.05,2.06a94.37,94.37,0,0,1-10.64,8.65,91.35,91.35,0,0,1-11.6,7,94.53,94.53,0,0,1-26.24,8.71,97.69,97.69,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a53.27,53.27,0,0,1,1.14,12V217h.05a84.41,84.41,0,0,0,25.35-5.55,81,81,0,0,0,26.39-16.82c.8-.77,1.5-1.56,2.26-2.34a82.08,82.08,0,0,0,7.93-9.38A63.76,63.76,0,0,0,333,172.17a48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7V150q-1.08,1.54-2.25,3.09A96.73,96.73,0,0,1,327,162.45Zm0,77.92c-.69.7-1.31,1.41-2,2.1a94.2,94.2,0,0,1-60.2,25.86h0l0,26.67h0a81.6,81.6,0,0,0,51.74-22.37A73.51,73.51,0,0,0,333,250.13a48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.47.19-3.71v-2.19c-.74,1.07-1.46,2.15-2.27,3.21A95.68,95.68,0,0,1,327,240.37Zm0-39c-.69.7-1.31,1.41-2,2.1a93.18,93.18,0,0,1-10.63,8.65,91.63,91.63,0,0,1-11.63,7,95.47,95.47,0,0,1-37.94,10.18h0V256h0a81.65,81.65,0,0,0,51.74-22.37c.8-.77,1.5-1.56,2.26-2.34a82.08,82.08,0,0,0,7.93-9.38A63.76,63.76,0,0,0,333,211.15a48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.46,2.16-2.27,3.22A95.68,95.68,0,0,1,327,201.39Z"}))};var hr=e(31124);const ti=(0,s.createRouteRef)({id:"lighthouse"}),Kl=(0,s.createRouteRef)({id:"lighthouse:audit"}),ni=(0,s.createRouteRef)({id:"lighthouse:create-audit"}),Fo=(0,s.createRouteRef)({id:"lighthouse:entity-content"}),Vr=(0,s.createPlugin)({id:"lighthouse",apis:[(0,s.createApiFactory)({api:hr.Uh,deps:{configApi:s.configApiRef},factory:({configApi:x})=>hr.HJ.fromConfig(x)})],routes:{root:ni,entityContent:Fo}}),Uo=Vr.provide((0,s.createRoutableExtension)({name:"LighthousePage",component:()=>Promise.resolve().then(e.bind(e,19004)).then(x=>x.Router),mountPoint:ti})),za=Vr.provide((0,s.createRoutableExtension)({name:"EntityLighthouseContent",component:()=>Promise.resolve().then(e.bind(e,19004)).then(x=>x.EmbeddedRouter),mountPoint:Fo})),ai=Vr.provide((0,s.createComponentExtension)({name:"EntityLastLighthouseAuditCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,42338)).then(x=>x.LastLighthouseAuditCard)}}));var pr=e(19004),Gl=e(42338),No=e(32110);const Jr=(0,s.createRouteRef)({id:"newrelic"}),oi=(0,s.createPlugin)({id:"newrelic",apis:[(0,s.createApiFactory)({api:No.o,deps:{discoveryApi:s.discoveryApiRef},factory:({discoveryApi:x})=>new No.q({discoveryApi:x})})],routes:{root:Jr}}).provide((0,s.createRoutableExtension)({name:"NewRelicPage",component:()=>e.e(8365).then(e.bind(e,68365)).then(x=>x.default),mountPoint:Jr}));var $o=e(33651),va=e(27542),Wo=e(74573),si=e(53933),ea=e(18858),Hl=e(58708),ii=e(50691),Vl=e(63396),Yr=e(48326),li=e(72255),Jl=e(63373);const ta=(0,s.createPlugin)({id:"scaffolder",apis:[(0,s.createApiFactory)({api:$o.l,deps:{discoveryApi:s.discoveryApiRef,scmIntegrationsApi:he.q3,fetchApi:s.fetchApiRef,identityApi:s.identityApiRef},factory:({discoveryApi:x,scmIntegrationsApi:Y,fetchApi:Se,identityApi:je})=>new $o.o({discoveryApi:x,scmIntegrationsApi:Y,fetchApi:Se,identityApi:je})})],routes:{root:Yr._Z},externalRoutes:{registerComponent:Yr.Jd}}),Hc=ta.provide((0,va.eP)({component:Wo.E,name:"EntityPicker"})),Qr=ta.provide((0,va.eP)({component:ea.p,name:"EntityNamePicker",validation:si.e})),Yl=ta.provide((0,va.eP)({component:Vl.O,name:"RepoUrlPicker",validation:ii.h})),Vc=ta.provide((0,va.eP)({component:Hl.D,name:"OwnerPicker"})),ci=ta.provide((0,s.createRoutableExtension)({name:"ScaffolderPage",component:()=>Promise.all([e.e(4778),e.e(6637),e.e(7832),e.e(7732)]).then(e.bind(e,77732)).then(x=>x.Router),mountPoint:Yr._Z})),Ql=ta.provide((0,va.eP)({component:li.X,name:"OwnedEntityPicker"})),kl=ta.provide((0,va.eP)({component:Jl.I,name:"EntityTagsPicker"})),Xl=ta.provide((0,s.createRoutableExtension)({name:"NextScaffolderPage",component:()=>e.e(2168).then(e.bind(e,52168)).then(x=>x.Router),mountPoint:Yr._Z}));var ql=e(49230),jo=e(59215),$n=e(60426);const Er=(0,In.Z)(x=>({filters:{width:"250px",display:"flex"},icon:{margin:x.spacing(-1,0,0,0)}})),ui=({numberOfSelectedFilters:x,handleToggleFilters:Y})=>{const Se=Er();return React.createElement("div",{className:Se.filters},React.createElement(IconButton,{className:Se.icon,"aria-label":"settings",onClick:Y},React.createElement(FilterListIcon,null)),React.createElement(Typography,{variant:"h6"},"Filters (",x||0,")"))},zo=(0,In.Z)(x=>({filters:{background:"transparent",boxShadow:"0px 0px 0px 0px"},checkbox:{padding:x.spacing(0,1,0,1)},dropdown:{width:"100%"}})),Aa=({filters:x,filterOptions:Y,resetFilters:Se,updateSelected:je,updateChecked:qe})=>{const st=zo();return React.createElement(Card,{className:st.filters},React.createElement(CardHeader,{title:React.createElement(Typography,{variant:"h6"},"Filters"),action:React.createElement(Button,{color:"primary",onClick:()=>Se()},"CLEAR ALL")}),React.createElement(Divider,null),Y.kind.length===0&&Y.lifecycle.length===0&&React.createElement(CardContent,null,React.createElement(Typography,{variant:"subtitle2"},"Filters cannot be applied to available results")),Y.kind.length>0&&React.createElement(CardContent,null,React.createElement(Typography,{variant:"subtitle2"},"Kind"),React.createElement(Select,{id:"outlined-select",onChange:ft=>{var Pt;return je((Pt=ft==null?void 0:ft.target)==null?void 0:Pt.value)},variant:"outlined",className:st.dropdown,value:x.selected},Y.kind.map(ft=>React.createElement(MenuItem,{selected:ft==="",dense:!0,key:ft,value:ft},ft)))),Y.lifecycle.length>0&&React.createElement(CardContent,null,React.createElement(Typography,{variant:"subtitle2"},"Lifecycle"),React.createElement(List,{disablePadding:!0,dense:!0},Y.lifecycle.map(ft=>React.createElement(ListItem,{key:ft,dense:!0,button:!0,onClick:()=>qe(ft)},React.createElement(Checkbox,{edge:"start",disableRipple:!0,className:st.checkbox,color:"primary",checked:x.checked.includes(ft),tabIndex:-1,value:ft,name:ft}),React.createElement(ListItemText,{id:ft,primary:ft}))))))};var wo=e(1795),Ko=e(84899),Go=e(56939),di=e(73698),wn=e(12231),yr=e(86619),Xa=e(7089),Ho=e(88013),Jn=e(73624),Vo=e(69294),Jo=e(48760);const vr=(x,Y,Se=[],je=250)=>{const qe=(0,n.useRef)({}),st=x||(()=>Promise.resolve([])),[ft,Pt]=(0,Vo.default)(st,[Y],{loading:!0});if((0,Jo.Z)(()=>{qe.current[Y]===void 0&&(qe.current[Y]=Pt(Y).then(Mt=>(qe.current[Y]=Mt,Mt)))},je,[Pt,Y]),Se.length)return{loading:!1,value:Se};const Lt=qe.current[Y];return Array.isArray(Lt)?{loading:!1,value:Lt}:ft},kr=(x,Y)=>{const{setFilters:Se}=(0,Jn.Rx)();(0,n.useEffect)(()=>{Y&&[Y].flat().length>0&&Se(je=>({...je,[x]:Y}))},[])},qa=x=>{const{className:Y,defaultValue:Se,name:je,values:qe,valuesDebounceMs:st,label:ft,filterSelectedOptions:Pt,limitTags:Lt,multiple:Mt}=x,[Dt,kt]=(0,n.useState)("");kr(je,Se);const en=typeof qe=="function"?qe:void 0,cn=typeof qe=="function"?void 0:qe,{value:Vt,loading:vn}=vr(en,Dt,cn,st),{filters:ra,setFilters:or}=(0,Jn.Rx)(),sr=ra[je]||(Mt?[]:null),Zr=(Ja,Ya)=>{or(Ml=>{const{[je]:wc,...Kc}=Ml;return Ya?{...Kc,[je]:Ya}:{...Kc}})},Ms=Ja=>n.createElement(yr.Z,{...Ja,name:"search",variant:"outlined",label:ft,fullWidth:!0}),Fs=(Ja,Ya)=>Ja.map((Ml,wc)=>n.createElement(Xa.Z,{label:Ml,color:"primary",...Ya({index:wc})}));return n.createElement(Ho.ZP,{filterSelectedOptions:Pt,limitTags:Lt,multiple:Mt,className:Y,id:`${Mt?"multi-":""}select-filter-${je}--select`,options:Vt||[],loading:vn,value:sr,onChange:Zr,onInputChange:(Ja,Ya)=>kt(Ya),renderInput:Ms,renderTags:Fs})},Yo=(0,In.Z)({label:{textTransform:"capitalize"}}),Qo=x=>{const{className:Y,defaultValue:Se,label:je,name:qe,values:st=[],valuesDebounceMs:ft}=x,Pt=Yo(),{filters:Lt,setFilters:Mt}=(0,Jn.Rx)();kr(qe,Se);const Dt=typeof st=="function"?st:void 0,kt=typeof st=="function"?void 0:st,{value:en=[],loading:cn}=vr(Dt,"",kt,ft),Vt=vn=>{const{target:{value:ra,checked:or}}=vn;Mt(sr=>{const{[qe]:Zr,...Ms}=sr,Fs=(Zr||[]).filter(Ya=>Ya!==ra),Ja=or?[...Fs,ra]:Fs;return Ja.length?{...Ms,[qe]:Ja}:Ms})};return n.createElement(Ea.Z,{className:Y,disabled:cn,fullWidth:!0,"data-testid":"search-checkboxfilter-next"},je?n.createElement(Ko.Z,{className:Pt.label},je):null,en.map(vn=>{var ra;return n.createElement(Ma.Z,{key:vn,control:n.createElement(zn.Z,{color:"primary",tabIndex:-1,inputProps:{"aria-labelledby":vn},value:vn,name:vn,onChange:Vt,checked:((ra=Lt[qe])!=null?ra:[]).includes(vn)}),label:vn})}))},mi=x=>{const{className:Y,defaultValue:Se,label:je,name:qe,values:st,valuesDebounceMs:ft}=x,Pt=Yo();kr(qe,Se);const Lt=typeof st=="function"?st:void 0,Mt=typeof st=="function"?void 0:st,{value:Dt=[],loading:kt}=vr(Lt,"",Mt,ft),{filters:en,setFilters:cn}=(0,Jn.Rx)(),Vt=vn=>{const{target:{value:ra}}=vn;cn(or=>{const{[qe]:sr,...Zr}=or;return ra?{...Zr,[qe]:ra}:Zr})};return n.createElement(Ea.Z,{disabled:kt,className:Y,variant:"filled",fullWidth:!0,"data-testid":"search-selectfilter-next"},je?n.createElement(Go.Z,{className:Pt.label,margin:"dense"},je):null,n.createElement(di.Z,{variant:"outlined",value:en[qe]||"",onChange:Vt},n.createElement(wn.Z,{value:""},n.createElement("em",null,"All")),Dt.map(vn=>n.createElement(wn.Z,{key:vn,value:vn},vn))))},Wn=({component:x,...Y})=>n.createElement(x,{...Y});Wn.Checkbox=x=>n.createElement(Wn,{...x,component:Qo}),Wn.Select=x=>n.createElement(Wn,{...x,component:mi}),Wn.Autocomplete=x=>n.createElement(Wn,{...x,component:qa});const gi=null;var fi=e(73032),hi=e(3992),Xr=e(8542),wa=e(49378),pi=e(62155),Ei=e(94339),yi=e(32552),vi=e(24579),Ai=e(27616),Ci=e(8284),qr=e(70660),_a=e(11776),Si=e(85256),ko=e(38402),Ri=e(86136),_r=e(38016),Pi=e(56881);const Xo=(0,In.Z)(x=>({card:{backgroundColor:"rgba(0, 0, 0, .11)"},cardContent:{paddingTop:x.spacing(1)},icon:{color:x.palette.common.black},list:{width:"100%"},listItemIcon:{width:"24px",height:"24px"},accordion:{backgroundColor:x.palette.background.paper},accordionSummary:{minHeight:"auto","&.Mui-expanded":{minHeight:"auto"}},accordionSummaryContent:{margin:x.spacing(2,0),"&.Mui-expanded":{margin:x.spacing(2,0)}},accordionDetails:{padding:x.spacing(0,0,1)}})),Kn=x=>{const Y=Xo(),{setPageCursor:Se,setTypes:je,types:qe}=(0,Jn.Rx)(),[st,ft]=(0,n.useState)(!0),{defaultValue:Pt,name:Lt,types:Mt}=x,Dt=()=>ft(Vt=>!Vt),kt=Vt=>()=>{je(Vt!==""?[Vt]:[]),Se(void 0),ft(!1)};(0,n.useEffect)(()=>{Pt&&je([Pt])},[]);const en=[{value:"",name:"All",icon:n.createElement(Pi.Z,null)},...Mt],cn=qe[0]||"";return n.createElement(Ei.Z,{className:Y.card},n.createElement(yi.Z,{title:Lt,titleTypographyProps:{variant:"overline"}}),n.createElement(vi.Z,{className:Y.cardContent},n.createElement(Ai.Z,{className:Y.accordion,expanded:st,onChange:Dt},n.createElement(Ci.Z,{classes:{root:Y.accordionSummary,content:Y.accordionSummaryContent},expandIcon:n.createElement(_r.Z,{className:Y.icon}),IconButtonProps:{size:"small"}},st?"Collapse":en.filter(Vt=>Vt.value===cn)[0].name),n.createElement(qr.Z,{classes:{root:Y.accordionDetails}},n.createElement(_a.Z,{className:Y.list,component:"nav","aria-label":"filter by type",disablePadding:!0,dense:!0},en.map(Vt=>n.createElement(n.Fragment,{key:Vt.value},n.createElement(Si.Z,null),n.createElement(ko.Z,{selected:qe[0]===Vt.value||qe.length===0&&Vt.value==="",onClick:kt(Vt.value),button:!0},n.createElement(Ri.Z,null,(0,n.cloneElement)(Vt.icon,{className:Y.listItemIcon})),n.createElement(wa.Z,{primary:Vt.name})))))))))};var Ti=e(99152),Ii=e(6487);const xi=(0,In.Z)(x=>({tabs:{borderBottom:`1px solid ${x.palette.textVerySubtle}`,padding:x.spacing(0,4)},tab:{height:"50px",fontWeight:x.typography.fontWeightBold,fontSize:x.typography.pxToRem(13),color:x.palette.textSubtle,minWidth:"130px"}})),qo=x=>{const Y=xi(),{setPageCursor:Se,setTypes:je,types:qe}=(0,Jn.Rx)(),{defaultValue:st,types:ft}=x,Pt=(Mt,Dt)=>{je(Dt!==""?[Dt]:[]),Se(void 0)};(0,n.useEffect)(()=>{st&&je([st])},[]);const Lt=[{value:"",name:"All"},...ft];return n.createElement(Ti.Z,{className:Y.tabs,indicatorColor:"primary",value:qe.length===0?"":qe[0],onChange:Pt},Lt.map((Mt,Dt)=>n.createElement(Ii.Z,{key:Dt,className:Y.tab,disableRipple:!0,label:Mt.name,value:Mt.value})))},_o=(0,In.Z)(x=>({label:{textTransform:"capitalize"},chips:{display:"flex",flexWrap:"wrap",marginTop:x.spacing(1)},chip:{margin:2}})),Oa=x=>{const{className:Y,defaultValue:Se,name:je,values:qe=[]}=x,st=_o(),{types:ft,setTypes:Pt}=(0,Jn.Rx)();(0,pi.Z)(()=>{ft.length||(Se&&Array.isArray(Se)?Pt(Se):Se&&Pt([Se]))});const Lt=Mt=>{const Dt=Mt.target.value;Pt(Dt)};return n.createElement(Ea.Z,{className:Y,variant:"filled",fullWidth:!0,"data-testid":"search-typefilter-next"},n.createElement(Go.Z,{className:st.label,margin:"dense"},je),n.createElement(di.Z,{multiple:!0,variant:"outlined",value:ft,onChange:Lt,placeholder:"All Results",renderValue:Mt=>n.createElement("div",{className:st.chips},Mt.map(Dt=>n.createElement(Xa.Z,{key:Dt,label:Dt,className:st.chip,size:"small"})))},qe.map(Mt=>n.createElement(wn.Z,{key:Mt,value:Mt},n.createElement(zn.Z,{checked:ft.indexOf(Mt)>-1}),n.createElement(wa.Z,{primary:Mt})))))};Oa.Accordion=x=>n.createElement(Kn,{...x}),Oa.Tabs=x=>n.createElement(qo,{...x});var _l=e(19126),Ca=e(35723);const ec=x=>{const Y=useRouteRef(rootRouteRef),{focusContent:Se}=useContent(),je=useNavigate(),qe=useCallback(st=>{const ft=qs.stringify({query:st},{addQueryPrefix:!0});Se(),je(`${Y()}${ft}`)},[Se,je,Y]);return React.createElement(SidebarSearchField,{icon:x.icon,onSearch:qe,to:"/search"})};var Zi=e(53001),eo=e(12724),Li=e(16714);const Ka=new Array;Ka.push({id:"adopt",name:"ADOPT",color:"#93c47d"}),Ka.push({id:"trial",name:"TRIAL",color:"#93d2c2"}),Ka.push({id:"assess",name:"ASSESS",color:"#fbdb84"}),Ka.push({id:"hold",name:"HOLD",color:"#efafa9"});const er=new Array;er.push({id:"infrastructure",name:"Infrastructure"}),er.push({id:"frameworks",name:"Frameworks"}),er.push({id:"languages",name:"Languages"}),er.push({id:"process",name:"Process"});const ga=new Array;ga.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06"),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}],url:"#",key:"javascript",id:"javascript",title:"JavaScript",quadrant:"languages",description:'Excepteur **sint** occaecat *cupidatat* non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\n```ts\nconst x = "3";\n```\n'}),ga.push({timeline:[{moved:-1,ringId:"adopt",date:new Date("2020-08-06"),description:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat"}],url:"#",key:"typescript",id:"typescript",title:"TypeScript",quadrant:"languages",description:"Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat"}),ga.push({timeline:[{moved:1,ringId:"adopt",date:new Date("2020-08-06"),description:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur"}],url:"https://webpack.js.org/",key:"webpack",id:"webpack",title:"Webpack",quadrant:"frameworks"}),ga.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06")}],url:"https://reactjs.org/",key:"react",id:"react",title:"React",quadrant:"frameworks"}),ga.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06")}],url:"#",key:"code-reviews",id:"code-reviews",title:"Code Reviews",quadrant:"process"}),ga.push({timeline:[{moved:0,ringId:"assess",date:new Date("2020-08-06")}],url:"#",key:"mob-programming",id:"mob-programming",title:"Mob Programming",quadrant:"process"}),ga.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06")}],url:"#",key:"docs-like-code",id:"docs-like-code",title:"Docs-like-code",quadrant:"process"}),ga.push({timeline:[{ringId:"hold",date:new Date("2020-08-06")}],url:"#",key:"force-push",id:"force-push",title:"Force push to master",quadrant:"process"}),ga.push({timeline:[{ringId:"adopt",date:new Date("2020-08-06"),description:"long description"}],url:"https://github.com",key:"github-actions",id:"github-actions",title:"GitHub Actions",quadrant:"infrastructure"});const tc={entries:ga,quadrants:er,rings:Ka};class bi{async load(){return tc}}const Oi=(0,s.createRouteRef)({id:"tech-radar"}),Di=(0,s.createPlugin)({id:"tech-radar",routes:{root:Oi},apis:[(0,s.createApiFactory)(Li.Q,new bi)]}).provide((0,s.createRoutableExtension)({name:"TechRadarPage",component:()=>Promise.resolve().then(e.bind(e,12724)).then(x=>x.RadarPage),mountPoint:Oi})),to=null;var nc=e(98157);const Bi=(0,s.createApiRef)({id:"plugin.techdocs.storageservice"}),ac=(0,s.createApiRef)({id:"plugin.techdocs.service"});var rc=e(42723),Mi=e(2263),oc=e(26220),es=e(99954),sc=e(63126),Fi=e(16172),Ui=e(47861),ic=e(51016),lc=e(46861),cc=e(2546),Yc=e(1114),uc=e(70335),Ar=e(20961),Ni=e(94067),bn=e(26136),$i=e(15090),no=e(15459),Wi=e(51209);const Cr=".md-nav__item--nested .md-toggle",ts="@backstage/techdocs-addons/nav-expanded",ns=(0,no.Z)({root:{position:"absolute",left:"220px",top:"19px",padding:0,minWidth:0}})(o.Z),ji=(0,no.Z)({root:{height:"20px",width:"20px"}})(Wi.Z),as=(0,no.Z)({root:{height:"20px",width:"20px"}})(_r.Z),zi=()=>{const x={expandAllNestedNavs:!1},[Y,Se]=(0,$i.Z)(ts,x),[je,qe]=(0,n.useState)(!1),[...st]=(0,bn.pV)([Cr]),ft=(0,n.useCallback)(Lt=>{const Mt=Lt.checked,Dt=Y==null?void 0:Y.expandAllNestedNavs;return!!(Dt&&!Mt||!Dt&&Mt)},[Y]);(0,n.useEffect)(()=>{!(st!=null&&st.length)||(qe(!0),st.forEach(Lt=>{ft(Lt)&&Lt.click()}))},[Y,ft,st]);const Pt=()=>{Se(Lt=>({expandAllNestedNavs:!(Lt!=null&&Lt.expandAllNestedNavs)}))};return n.createElement(n.Fragment,null,je?n.createElement(ns,{size:"small",onClick:Pt,"aria-label":Y!=null&&Y.expandAllNestedNavs?"collapse-nav":"expand-nav"},Y!=null&&Y.expandAllNestedNavs?n.createElement(as,null):n.createElement(ji,null)):null)};var rs=e(8560),Ga=e(27556),os=e(82717),ss=e.n(os),is=e(68370);const ls="techdocs-report-issue",wi=`#${ls}`,cs='[title^="Edit this page"]',Ki='[title^="Leave feedback for"]',Gi='[data-md-component="main"] .md-content',ao=(x,Y)=>Y==="github"?(0,is.Pb)(x,"blob"):Y==="gitlab"?(0,is.ah)(x,"blob"):(console.error(`Invalid SCM type ${Y} found in ReportIssue addon for URL ${x}!`),x),us=x=>{const Y=x.toString().substring(0,70),Se=Y.length===70?"...":"";return`Documentation feedback: ${Y}${Se}`},Hi=(x,Y)=>{const Se="## Documentation Feedback \u{1F4DD}",je="#### The highlighted text:",qe="#### The comment on the text:",st="_>replace this line with your comment<_",ft=x.toString().trim().split(`
`).map(Lt=>`> ${Lt.trim()}`).join(`
`),Pt=[`Backstage URL: <${window.location.href}> 
Markdown URL: <${Y}>`];return`${Se}

 ${je} 

 ${ft}

 ${qe} 
 ${st}

 ___
${Pt}`},Vi=x=>{var Pt,Lt;const Y={title:"",body:""},Se=(0,bn.oi)(x),[je]=(0,bn.pV)([cs]),qe=(Pt=je==null?void 0:je.href)!=null?Pt:"",st=(0,s.useApi)(he.q3);if(!Se||!qe)return Y;const ft=(Lt=st.byUrl(qe))==null?void 0:Lt.type;return ft?{title:us(Se),body:Hi(Se,ao(qe,ft))}:Y},ro=()=>{var qe,st;const x=(0,s.useApi)(he.q3),[Y]=(0,bn.pV)([cs]),Se=(qe=Y==null?void 0:Y.href)!=null?qe:"";if(!Se)return null;const je=(st=x.byUrl(Se))==null?void 0:st.type;return je?{...ss()(ao(Se,je)),type:je}:null};var Ji=e(31654);const Yi=(0,In.Z)(x=>({root:{display:"grid",gridGap:x.spacing(1),gridAutoFlow:"column",justifyContent:"center",alignItems:"center",color:x.palette.common.black,fontSize:x.typography.button.fontSize}})),Qi=({type:x})=>x==="github"?g.GitHubIcon:Ji.Z,ki=({type:x})=>x==="github"?"Github":"Gitlab",Xi=(x,Y)=>{const{title:Se,body:je}=Y,qe=encodeURIComponent(Se),st=encodeURIComponent(je),{protocol:ft,resource:Pt,owner:Lt,name:Mt,type:Dt}=x,kt=encodeURIComponent(Lt),en=encodeURIComponent(Mt),cn=`${ft}://${Pt}/${kt}/${en}`;return Dt==="github"?`${cn}/issues/new?title=${qe}&body=${st}`:`${cn}/issues/new?issue[title]=${qe}&issue[description]=${st}`},Sr=({template:x,repository:Y})=>{const Se=Yi(),je=Qi(Y),qe=Xi(Y,x);return n.createElement(g.Link,{className:Se.root,to:qe,target:"_blank"},n.createElement(je,null)," Open new ",ki(Y)," issue")},qi=(0,In.Z)(x=>({root:{transform:"translate(-100%, -100%)",position:"absolute",padding:x.spacing(1),zIndex:x.zIndex.tooltip,background:x.palette.common.white}})),_i=({debounceTime:x=500,templateBuilder:Y})=>{const Se=qi(),[je,qe]=(0,n.useState)(),st=ro(),ft=Vi(x),Pt=(0,bn.oi)(x),[Lt,Mt]=(0,bn.pV)([Gi,Ki]);let[Dt]=(0,bn.pV)([wi]);return Mt&&(Mt.style.display="none"),(0,n.useEffect)(()=>{if(!st||!Pt||!Pt.containsNode(Lt,!0)||(Pt==null?void 0:Pt.containsNode(Dt,!0)))return;const kt=Lt.getBoundingClientRect(),en=Pt.getRangeAt(0).getBoundingClientRect();qe({top:`${en.top-kt.top-16}px`,left:`${en.left+en.width/2}px`})},[Pt,Lt,Dt]),!Pt||!st?null:(Dt||(Dt=document.createElement("div"),Dt.setAttribute("id",ls),Lt.prepend(Dt)),n.createElement(rs.Z,{container:Dt},n.createElement(Ga.Z,{"data-testid":"report-issue-addon",className:Se.root,style:je},n.createElement(Sr,{repository:st,template:Y?Y({selection:Pt}):ft}))))};var el=e(11433),ds=e(65549),tl=e(17373);const oo="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",nl=(0,no.Z)(x=>({root:{height:2,padding:"15px 0"},thumb:{height:18,width:18,backgroundColor:x.palette.common.white,boxShadow:oo,marginTop:-9,marginLeft:-9,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:oo}}},active:{},valueLabel:{top:"100%",left:"50%",transform:"scale(1) translate(-50%, -5px) !important","& *":{color:x.palette.common.black,fontSize:x.typography.caption.fontSize,background:"transparent"}},track:{height:2},rail:{height:2,opacity:.5},mark:{height:10,width:1,marginTop:-4},markActive:{opacity:1,backgroundColor:"currentColor"}}))(el.Z),so={key:"techdocs.addons.settings.textsize",defaultValue:100},ms=[{value:90},{value:100},{value:115},{value:130},{value:150}],al=(0,In.Z)(x=>({container:{color:x.palette.textSubtle,display:"flex",alignItems:"center",margin:0,minWidth:200},menuItem:{"&:hover":{background:"transparent"}},decreaseButton:{marginRight:x.spacing(1)},increaseButton:{marginLeft:x.spacing(1)}})),gs=()=>{const x=al(),Y=(0,qt.Z)(),[Se]=(0,bn.pV)(["body"]),[je,qe]=(0,n.useState)(()=>{const cn=localStorage==null?void 0:localStorage.getItem(so.key);return cn?parseInt(cn,10):so.defaultValue}),st=(0,n.useMemo)(()=>ms.map(cn=>cn.value),[]),ft=(0,n.useMemo)(()=>st.indexOf(je),[st,je]),Pt=(0,n.useMemo)(()=>st[0],[st]),Lt=(0,n.useMemo)(()=>st[st.length-1],[st]),Mt=(0,n.useCallback)(()=>`${je}%`,[je]),Dt=(0,n.useCallback)((cn,Vt)=>{Array.isArray(Vt)||(qe(Vt),localStorage==null||localStorage.setItem(so.key,String(Vt)))},[qe]),kt=(0,n.useCallback)(cn=>{Dt(cn,st[ft-1])},[ft,st,Dt]),en=(0,n.useCallback)(cn=>{Dt(cn,st[ft+1])},[ft,st,Dt]);return(0,n.useEffect)(()=>{var Vt,vn;if(!Se)return;const cn=(vn=(Vt=Y.typography)==null?void 0:Vt.htmlFontSize)!=null?vn:16;Se.style.setProperty("--md-typeset-font-size",`${cn*(je/100)}px`)},[Se,je,Y]),n.createElement(wn.Z,{className:x.menuItem,button:!0,disableRipple:!0},n.createElement(wa.Z,{primary:n.createElement(cr.Z,{variant:"subtitle2",color:"textPrimary"},"Text size"),secondary:n.createElement(pn.Z,{className:x.container},n.createElement(wr.Z,{className:x.decreaseButton,size:"small",edge:"start",disabled:je===Pt,onClick:kt,"aria-label":"Decrease text size"},n.createElement(tl.Z,null)),n.createElement(nl,{value:je,"aria-labelledby":"text-size-slider",getAriaValueText:Mt,valueLabelDisplay:"on",valueLabelFormat:Mt,marks:ms,step:null,min:Pt,max:Lt,onChangeCommitted:Dt}),n.createElement(wr.Z,{className:x.increaseButton,size:"small",edge:"end",disabled:je===Lt,onClick:en,"aria-label":"Increase text size"},n.createElement(ds.Z,null))),disableTypography:!0}))},io=(0,s.createPlugin)({id:"techdocsModuleAddonsContrib"}),rl=io.provide((0,bn.KY)({name:"ExpandableNavigation",location:bn.oZ.PrimarySidebar,component:zi})),ol=io.provide((0,bn.KY)({name:"ReportIssue",location:bn.oZ.Content,component:_i})),fs=io.provide((0,bn.KY)({name:"TextSize",location:bn.oZ.Settings,component:gs})),hs=(0,s.createRouteRef)({id:"user-settings"}),sl=(0,s.createPlugin)({id:"user-settings",routes:{settingsPage:hs}}).provide((0,s.createRoutableExtension)({name:"UserSettingsPage",component:()=>Promise.resolve().then(e.bind(e,47989)).then(x=>x.SettingsPage),mountPoint:hs})),mc=x=>{const Y=(0,s.useRouteRef)(hs),Se=x.icon?x.icon:Kr.Z;return n.createElement(g.SidebarItem,{text:"Settings",to:Y(),icon:Se})};var gc=e(47989),Qc=e(52183),il=e(30855),kc=e(11542),ll=e(20816),cl=e(13204),vt=e(60905),ul=e(25859),dl=e(82938),ps=e(53691);function ml(){const[x,Y]=(0,ps.Z)("advanced-option","off"),Se=je=>{Y(je.currentTarget.checked?"on":"off")};return n.createElement(vt.Z,{container:!0,direction:"row",spacing:3},n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(g.InfoCard,{title:"Advanced settings",variant:"gridItem"},n.createElement(_a.Z,null,n.createElement(ko.Z,null,n.createElement(wa.Z,{primary:"Advanced user option",secondary:"An extra settings tab to further customize the experience"}),n.createElement(ul.Z,null,n.createElement(dl.Z,{color:"primary",value:x,onChange:Se,name:"advanced"})))))))}var gl=e(99236),fl=e(24599);const hl=[(0,s.createApiFactory)({api:he.q3,deps:{configApi:s.configApiRef},factory:({configApi:x})=>he.ae.fromConfig(x)}),he.zN.createDefaultApiFactory(),(0,s.createApiFactory)({api:La.N,deps:{errorApi:s.errorApiRef,githubAuthApi:s.githubAuthApiRef},factory:({errorApi:x,githubAuthApi:Y})=>La.O.from([La.O.create({id:"gitlab",title:"GitLab",url:"https://gitlab.com/api/graphql"}),La.O.github({id:"github",title:"GitHub",errorApi:x,githubAuthApi:Y})])}),(0,s.createApiFactory)(yn.C,new mn)];var Es=e(29960);const ys=(0,s.createPlugin)({id:"badges",apis:[(0,s.createApiFactory)({api:Es.t,deps:{discoveryApi:s.discoveryApiRef,identityApi:s.identityApiRef},factory:({discoveryApi:x,identityApi:Y})=>new Es.h({discoveryApi:x,identityApi:Y})})]}),pl=ys.provide((0,s.createComponentExtension)({name:"EntityBadgesDialog",component:{lazy:()=>e.e(4285).then(e.bind(e,94285)).then(x=>x.EntityBadgesDialog)}}));var Rr=e(16988),vs=e(92617);const El=(0,s.createPlugin)({id:"circleci",apis:[(0,s.createApiFactory)({api:Rr.Gm,deps:{discoveryApi:s.discoveryApiRef},factory:({discoveryApi:x})=>new Rr.XA({discoveryApi:x})})]}).provide((0,s.createRoutableExtension)({name:"EntityCircleCIContent",component:()=>Promise.resolve().then(e.bind(e,40388)).then(x=>x.Router),mountPoint:vs.B}));var yl=e(40388),As=e(66051),tr=e(68900);const lo=(0,s.createPlugin)({id:"cloudbuild",apis:[(0,s.createApiFactory)({api:As.cloudbuildApiRef,deps:{googleAuthApi:s.googleAuthApiRef},factory({googleAuthApi:x}){return new As.CloudbuildClient(x)}})],routes:{entityContent:tr._}}),vl=lo.provide((0,s.createRoutableExtension)({name:"EntityCloudbuildContent",component:()=>Promise.resolve().then(e.bind(e,38895)).then(x=>x.Router),mountPoint:tr._})),hc=lo.provide((0,s.createComponentExtension)({name:"EntityLatestCloudbuildRunCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,93791)).then(x=>x.LatestWorkflowRunCard)}})),pc=lo.provide((0,s.createComponentExtension)({name:"EntityLatestCloudbuildsForBranchCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,93791)).then(x=>x.LatestWorkflowsForBranchCard)}}));var Cs=e(38895),Xc=e(93791),Ss=e(94051);const Rs=(0,s.createRouteRef)({id:"code-coverage"}),Al=(0,s.createPlugin)({id:"code-coverage",routes:{root:Rs},apis:[(0,s.createApiFactory)({api:Ss.F,deps:{discoveryApi:s.discoveryApiRef},factory:({discoveryApi:x})=>new Ss.Q(x)})]}).provide((0,s.createRoutableExtension)({name:"EntityCodeCoverageContent",component:()=>Promise.resolve().then(e.bind(e,10136)).then(x=>x.Router),mountPoint:Rs}));var yc=e(10136),Ps=e(45177),Ts=e(66316);const Pr=(0,s.createPlugin)({id:"github-actions",apis:[(0,s.createApiFactory)({api:Ps.a$,deps:{configApi:s.configApiRef,githubAuthApi:s.githubAuthApiRef},factory:({configApi:x,githubAuthApi:Y})=>new Ps.U3({configApi:x,githubAuthApi:Y})})],routes:{entityContent:Ts._}}),Cl=Pr.provide((0,s.createRoutableExtension)({name:"EntityGithubActionsContent",component:()=>Promise.resolve().then(e.bind(e,61359)).then(x=>x.Router),mountPoint:Ts._})),co=Pr.provide((0,s.createComponentExtension)({name:"EntityLatestGithubActionRunCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,12816)).then(x=>x.LatestWorkflowRunCard)}})),vc=Pr.provide((0,s.createComponentExtension)({name:"EntityLatestGithubActionsForBranchCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,12816)).then(x=>x.LatestWorkflowsForBranchCard)}})),jn=Pr.provide((0,s.createComponentExtension)({name:"EntityRecentGithubActionsRunsCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,12816)).then(x=>x.RecentWorkflowRunsCard)}}));var Sl=e(61359),Rl=e(12816),Is=e(41351),qc=e(63966),Pl=e(49623),xs=e(46727);class Tl{constructor(Y){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=Y.discoveryApi,this.identityApi=Y.identityApi}async internalGet(Y){const Se=`${await this.discoveryApi.getBaseUrl("kafka")}${Y}`,{token:je}=await this.identityApi.getCredentials(),qe=await fetch(Se,{method:"GET",headers:{"Content-Type":"application/json",...je&&{Authorization:`Bearer ${je}`}}});if(!qe.ok){const st=await qe.text(),ft=`Request failed with ${qe.status} ${qe.statusText}, ${st}`;throw new Error(ft)}return await qe.json()}async getConsumerGroupOffsets(Y,Se){return await this.internalGet(`/consumers/${Y}/${Se}/offsets`)}}var uo=e(44536);const Da=(0,s.createRouteRef)({id:"kafka"}),mo=(0,s.createPlugin)({id:"kafka",apis:[(0,s.createApiFactory)({api:uo.L,deps:{discoveryApi:s.discoveryApiRef,identityApi:s.identityApiRef},factory:({discoveryApi:x,identityApi:Y})=>new Tl({discoveryApi:x,identityApi:Y})})],routes:{entityContent:Da}}).provide((0,s.createRoutableExtension)({name:"EntityKafkaContent",component:()=>Promise.resolve().then(e.bind(e,9163)).then(x=>x.Router),mountPoint:Da}));var go=e(9163);class Cc{constructor(Y){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=Y.discoveryApi,this.identityApi=Y.identityApi}async handleResponse(Y){if(!Y.ok){const Se=await Y.text();let je;switch(Y.status){case 404:je="Could not find the Kubernetes Backend (HTTP 404). Make sure the plugin has been fully installed.";break;default:je=`Request failed with ${Y.status} ${Y.statusText}, ${Se}`}throw new Error(je)}return await Y.json()}async postRequired(Y,Se){const je=`${await this.discoveryApi.getBaseUrl("kubernetes")}${Y}`,{token:qe}=await this.identityApi.getCredentials(),st=await fetch(je,{method:"POST",headers:{"Content-Type":"application/json",...qe&&{Authorization:`Bearer ${qe}`}},body:JSON.stringify(Se)});return this.handleResponse(st)}async getObjectsByEntity(Y){return await this.postRequired(`/services/${Y.entity.metadata.name}`,Y)}async getClusters(){const{token:Y}=await this.identityApi.getCredentials(),Se=`${await this.discoveryApi.getBaseUrl("kubernetes")}/clusters`,je=await fetch(Se,{method:"GET",headers:{...Y&&{Authorization:`Bearer ${Y}`}}});return(await this.handleResponse(je)).items}}var Sc=e(61057),Il=e(55195);class Rc{constructor(Y){Me(this,"authProvider");this.authProvider=Y}async decorateRequestBodyForAuth(Y){const Se=await this.authProvider.getAccessToken("https://www.googleapis.com/auth/cloud-platform");return"auth"in Y?Y.auth.google=Se:Y.auth={google:Se},Y}}class Pc{async decorateRequestBodyForAuth(Y){return Y}}class xl{async decorateRequestBodyForAuth(Y){return Y}}class Zl{async decorateRequestBodyForAuth(Y){return Y}}class Zs{async decorateRequestBodyForAuth(Y){return Y}}class Ls{constructor(Y,Se){Me(this,"providerName");Me(this,"authProvider");this.providerName=Y,this.authProvider=Se}async decorateRequestBodyForAuth(Y){const Se=await this.authProvider.getIdToken(),je={...Y.auth};return je.oidc?je.oidc[this.providerName]=Se:je.oidc={[this.providerName]:Se},Y.auth=je,Y}}class Ll{constructor(Y){Me(this,"kubernetesAuthProviderMap");this.kubernetesAuthProviderMap=new Map,this.kubernetesAuthProviderMap.set("google",new Rc(Y.googleAuthApi)),this.kubernetesAuthProviderMap.set("serviceAccount",new Pc),this.kubernetesAuthProviderMap.set("googleServiceAccount",new Zl),this.kubernetesAuthProviderMap.set("aws",new xl),this.kubernetesAuthProviderMap.set("azure",new Zs),Y.oidcProviders&&Object.keys(Y.oidcProviders).forEach(Se=>{this.kubernetesAuthProviderMap.set(`oidc.${Se}`,new Ls(Se,Y.oidcProviders[Se]))})}async decorateRequestBodyForAuth(Y,Se){const je=this.kubernetesAuthProviderMap.get(Y);if(je)return await je.decorateRequestBodyForAuth(Se);throw Y.startsWith("oidc.")?new Error(`KubernetesAuthProviders has no oidcProvider configured for ${Y}`):new Error(`authProvider "${Y}" has no KubernetesAuthProvider defined for it`)}}const bs=(0,s.createRouteRef)({id:"kubernetes"}),Os=(0,s.createPlugin)({id:"kubernetes",apis:[(0,s.createApiFactory)({api:Sc.H,deps:{discoveryApi:s.discoveryApiRef,identityApi:s.identityApiRef},factory:({discoveryApi:x,identityApi:Y})=>new Cc({discoveryApi:x,identityApi:Y})}),(0,s.createApiFactory)({api:Il.k,deps:{googleAuthApi:s.googleAuthApiRef,microsoftAuthApi:s.microsoftAuthApiRef,oktaAuthApi:s.oktaAuthApiRef,oneloginAuthApi:s.oneloginAuthApiRef},factory:({googleAuthApi:x,microsoftAuthApi:Y,oktaAuthApi:Se,oneloginAuthApi:je})=>{const qe={google:x,microsoft:Y,okta:Se,onelogin:je};return new Ll({googleAuthApi:x,oidcProviders:qe})}})],routes:{entityContent:bs}}).provide((0,s.createRoutableExtension)({name:"EntityKubernetesContent",component:()=>Promise.resolve().then(e.bind(e,97660)).then(x=>x.Router),mountPoint:bs}));var bl=e(97660),_c=e(35952),eu=e(42835),Ic=e(83631),Ds=e(14188),fo=e(40732),Ol=e(43883),Dl=e(8834),xc=e(6581),Zc=e(85433),Lc=e(40097),bc=e(51582),Oc=e(22032),Dc=e(45625),Bc=e(81497),Bs=e(69559);const Mc=(0,s.createRouteRef)({id:"pagerduty"}),m=(0,s.createPlugin)({id:"pagerduty",apis:[(0,s.createApiFactory)({api:Bs.sm,deps:{discoveryApi:s.discoveryApiRef,configApi:s.configApiRef,identityApi:s.identityApiRef},factory:({configApi:x,discoveryApi:Y,identityApi:Se})=>Bs.Ol.fromConfig(x,Y,Se)})]}).provide((0,s.createComponentExtension)({name:"EntityPagerDutyCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,16844)).then(x=>x.PagerDutyCard)}}));var v=e(16844),O=e(92677),U=e(17976);const J=(0,In.Z)(x=>({buttonStyle:{backgroundColor:x.palette.error.main,color:x.palette.error.contrastText,"&:hover":{backgroundColor:x.palette.error.dark}}}));function oe(x){var Lt;const{buttonStyle:Y}=J(),{integrationKey:Se}=usePagerdutyEntity(),[je,qe]=useState(!1),st=useCallback(()=>{qe(!0)},[qe]),ft=useCallback(()=>{qe(!1)},[qe]),Pt=!Se;return React.createElement(React.Fragment,null,React.createElement(Button,{onClick:st,variant:"contained",className:Pt?"":Y,disabled:Pt},Se?(Lt=x.children)!=null?Lt:"Create Incident":"Missing integration key"),Se&&React.createElement(TriggerDialog,{showDialog:je,handleDialog:ft}))}var xe=e(37615),De=e(99372),we=e(36293),Fe=e(72550),et=e(79200);class Xe{constructor(Y){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=Y.discoveryApi,this.identityApi=Y.identityApi}async getAllProjects(){return await this.get("/projects")}async getProject(Y){return await this.get(`/projects/${Y}`)}async getTopActiveItems(Y,Se=24,je="production"){return await this.get(`/projects/${Y}/top_active_items?environment=${je}&hours=${Se}`)}async getProjectItems(Y){return await this.get(`/projects/${Y}/items`)}async get(Y){const Se=`${await this.discoveryApi.getBaseUrl("rollbar")}${Y}`,{token:je}=await this.identityApi.getCredentials(),qe=await fetch(Se,{headers:je?{Authorization:`Bearer ${je}`}:{}});if(!qe.ok){const st=await qe.text(),ft=`Request failed with ${qe.status} ${qe.statusText}, ${st}`;throw new Error(ft)}return await qe.json()}}const mt=(0,s.createRouteRef)({id:"rollbar"}),Et=(0,s.createPlugin)({id:"rollbar",apis:[(0,s.createApiFactory)({api:et.e,deps:{discoveryApi:s.discoveryApiRef,identityApi:s.identityApiRef},factory:({discoveryApi:x,identityApi:Y})=>new Xe({discoveryApi:x,identityApi:Y})})],routes:{entityContent:mt}}).provide((0,s.createRoutableExtension)({name:"EntityRollbarContent",component:()=>Promise.resolve().then(e.bind(e,72550)).then(x=>x.Router),mountPoint:mt}));var zt=e(70922),on=e(9529);const gn=(0,s.createRouteRef)({id:"sentry"}),fn=(0,s.createPlugin)({id:"sentry",apis:[(0,s.createApiFactory)({api:zt.Ok,deps:{configApi:s.configApiRef,discoveryApi:s.discoveryApiRef,identityApi:s.identityApiRef},factory:({configApi:x,discoveryApi:Y,identityApi:Se})=>new zt.Fm(Y,x.getString("sentry.organization"),Se)})],routes:{root:gn}}),$t=fn.provide((0,s.createRoutableExtension)({name:"EntitySentryContent",mountPoint:gn,component:()=>Promise.resolve().then(e.bind(e,9529)).then(({SentryIssuesWidget:x})=>({statsFor:Se,tableOptions:je})=>{const{entity:qe}=(0,Ne.useEntity)(),st={padding:"dense",paging:!0,search:!1,pageSize:5};return n.createElement(x,{entity:qe,statsFor:Se||"24h",tableOptions:{...st,...je}})})})),sn=fn.provide((0,s.createComponentExtension)({name:"EntitySentryCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,9529)).then(({SentryIssuesWidget:x})=>({statsFor:Se,tableOptions:je})=>{const{entity:qe}=(0,Ne.useEntity)();return n.createElement(x,{entity:qe,statsFor:Se||"24h",tableOptions:je||{padding:"dense",paging:!0,search:!1,pageSize:5}})})}})),un=({entity:x})=>React.createElement(Routes,null,React.createElement(Route,{path:"/",element:React.createElement(SentryIssuesWidget,{entity:x,statsFor:"24h",tableOptions:{padding:"dense",paging:!0,search:!1,pageSize:5}})}),")");var An=e(98459);const fa=(0,s.createRouteRef)({id:"todo"}),Ba=(0,s.createPlugin)({id:"todo",apis:[(0,s.createApiFactory)({api:An.v,deps:{identityApi:s.identityApiRef,discoveryApi:s.discoveryApiRef},factory({identityApi:x,discoveryApi:Y}){return new An.G({identityApi:x,discoveryApi:Y})}})],routes:{entityContent:fa}}).provide((0,s.createRoutableExtension)({name:"EntityTodoContent",component:()=>e.e(8090).then(e.bind(e,88090)).then(x=>x.TodoList),mountPoint:fa}));var _t=e(20888),Gn=e(84523),nr=e(4933),ia=e(41069),Tr=e(91124),ar=e(79135);const Ir=(0,s.createRouteRef)({id:"new-relic-dashboard"}),rr=(0,s.createPlugin)({id:"new-relic-dashboard",routes:{root:Ir},apis:[(0,s.createApiFactory)({api:ar.c,deps:{configApi:s.configApiRef,discoveryApi:s.discoveryApiRef,fetchApi:s.fetchApiRef},factory:({configApi:x,discoveryApi:Y,fetchApi:Se})=>new ar.F({discoveryApi:Y,fetchApi:Se,baseUrl:x.getOptionalString("newrelicdashboard.baseUrl")})})]}),xn=rr.provide((0,s.createComponentExtension)({name:"EntityNewRelicDashboardPage",component:{lazy:()=>Promise.resolve().then(e.bind(e,47678)).then(x=>x.Router)}})),Hn=rr.provide((0,s.createComponentExtension)({name:"EntityNewRelicDashboardListComponent",component:{lazy:()=>Promise.resolve().then(e.bind(e,33452)).then(x=>x.DashboardEntityList)}})),aa=rr.provide((0,s.createComponentExtension)({name:"DashboardSnapshotComponent",component:{lazy:()=>Promise.resolve().then(e.bind(e,94048)).then(x=>x.DashboardSnapshot)}}));var ha=e(47678),Cn=e(20179);const Sn=Cn.O.provide((0,s.createComponentExtension)({name:"EntityGoCdContent",component:{lazy:()=>Promise.resolve().then(e.bind(e,33850)).then(x=>x.GoCdBuildsComponent)}}));var Ha=e(33850);const Sa=["Component","API","System"],Vn=x=>{const[Y,Se]=(0,n.useState)(!1),je=(0,n.useMemo)(()=>[{title:"Badges",Icon:_t.Z,onClick:()=>Se(!0)}],[]);return n.createElement(n.Fragment,null,n.createElement($e.EntityLayout,{UNSTABLE_extraContextMenuItems:je},x.children),n.createElement(pl,{open:Y,onClose:()=>Se(!1)}))},xr=n.createElement(Ar.$d,null,n.createElement(bn.DR,null,n.createElement(fs,null),n.createElement(ol,null))),En=n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:Pl.isJenkinsAvailable},n.createElement(Is.eY,null)),n.createElement($e.EntitySwitch.Case,{if:Tr.MS},n.createElement(Tr.ef,null)),n.createElement($e.EntitySwitch.Case,{if:yl.isCircleCIAvailable},n.createElement(El,null)),n.createElement($e.EntitySwitch.Case,{if:Cs.isCloudbuildAvailable},n.createElement(vl,null)),n.createElement($e.EntitySwitch.Case,{if:ia.o3},n.createElement(ia.GK,null)),n.createElement($e.EntitySwitch.Case,{if:Ha.isGoCdAvailable},n.createElement(Sn,null)),n.createElement($e.EntitySwitch.Case,{if:Sl.isGithubActionsAvailable},n.createElement(Cl,null)),n.createElement($e.EntitySwitch.Case,{if:Le},n.createElement(Be,{defaultLimit:25})),n.createElement($e.EntitySwitch.Case,null,n.createElement(g.EmptyState,{title:"No CI/CD available for this entity",missing:"info",description:"You need to add an annotation to your component if you want to enable CI/CD for it. You can read more about annotations in Backstage by clicking the button below.",action:n.createElement(o.Z,{variant:"contained",color:"primary",href:"https://backstage.io/docs/features/software-catalog/well-known-annotations"},"Read more")}))),On=n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:Pl.isJenkinsAvailable},n.createElement(vt.Z,{item:!0,sm:6},n.createElement(Is.o2,{branch:"master",variant:"gridItem"}))),n.createElement($e.EntitySwitch.Case,{if:ia.o3},n.createElement(vt.Z,{item:!0,sm:6},n.createElement(ia.$Y,null))),n.createElement($e.EntitySwitch.Case,{if:Sl.isGithubActionsAvailable},n.createElement(vt.Z,{item:!0,sm:6},n.createElement(jn,{limit:4,variant:"gridItem"})))),ln=n.createElement(n.Fragment,null,n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:$e.isOrphan},n.createElement(vt.Z,{item:!0,xs:12},n.createElement($e.EntityOrphanWarning,null)))),n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:$e.hasCatalogProcessingErrors},n.createElement(vt.Z,{item:!0,xs:12},n.createElement($e.EntityProcessingErrorsPanel,null))))),Yn=n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:Fe.isPluginApplicableToEntity},n.createElement(Et,null)),n.createElement($e.EntitySwitch.Case,null,n.createElement($t,null))),Qn=n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:At},n.createElement(at,{defaultLimit:25})),n.createElement($e.EntitySwitch.Case,null,n.createElement(nr.a7,null))),Va=n.createElement(vt.Z,{container:!0,spacing:3,alignItems:"stretch"},ln,n.createElement(vt.Z,{item:!0,md:6,xs:12},n.createElement($e.EntityAboutCard,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,md:6,xs:12},n.createElement(tt,{variant:"gridItem",height:400})),n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:v.isPluginApplicableToEntity},n.createElement(vt.Z,{item:!0,md:6},n.createElement(m,null)))),n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:ha.isNewRelicDashboardAvailable},n.createElement(vt.Z,{item:!0,md:6,xs:12},n.createElement(Hn,null)))),n.createElement(vt.Z,{item:!0,md:4,xs:12},n.createElement($e.EntityLinksCard,null)),On,n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:Gn.tN},n.createElement(vt.Z,{item:!0,md:6},n.createElement(Gn.cb,null),n.createElement(Gn.NE,null)),n.createElement(vt.Z,{item:!0,md:6},n.createElement(Gn.PE,{maxHeight:350})))),n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:pr.isLighthouseAvailable},n.createElement(vt.Z,{item:!0,sm:4},n.createElement(ai,{variant:"gridItem"})))),n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:nr.oS},n.createElement(vt.Z,{item:!0,sm:4},n.createElement(nr.oW,null)))),n.createElement(vt.Z,{item:!0,md:8,xs:12},n.createElement($e.EntityHasSubcomponentsCard,{variant:"gridItem"}))),pa=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},Va),n.createElement($e.EntityLayout.Route,{path:"/ci-cd",title:"CI/CD"},En),n.createElement($e.EntityLayout.Route,{path:"/errors",title:"Errors"},Yn),n.createElement($e.EntityLayout.Route,{path:"/api",title:"API"},n.createElement(vt.Z,{container:!0,spacing:3,alignItems:"stretch"},n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement($,null)),n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(te,null)))),n.createElement($e.EntityLayout.Route,{path:"/dependencies",title:"Dependencies"},n.createElement(vt.Z,{container:!0,spacing:3,alignItems:"stretch"},n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement($e.EntityDependsOnComponentsCard,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement($e.EntityDependsOnResourcesCard,{variant:"gridItem"})))),n.createElement($e.EntityLayout.Route,{path:"/docs",title:"Docs"},xr),n.createElement($e.EntityLayout.Route,{if:ha.isNewRelicDashboardAvailable,path:"/newrelic-dashboard",title:"New Relic Dashboard"},n.createElement(xn,null)),n.createElement($e.EntityLayout.Route,{path:"/kubernetes",title:"Kubernetes"},n.createElement(Os,null)),n.createElement($e.EntityLayout.Route,{path:"/pull-requests",title:"Pull Requests"},Qn),n.createElement($e.EntityLayout.Route,{path:"/code-insights",title:"Code Insights"},n.createElement(Gn.al,null)),n.createElement($e.EntityLayout.Route,{path:"/code-coverage",title:"Code Coverage"},n.createElement(Al,null)),n.createElement($e.EntityLayout.Route,{path:"/kafka",title:"Kafka"},n.createElement(mo,null)),n.createElement($e.EntityLayout.Route,{path:"/todos",title:"TODOs"},n.createElement(Ba,null))),Bl=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},Va),n.createElement($e.EntityLayout.Route,{path:"/ci-cd",title:"CI/CD"},En),n.createElement($e.EntityLayout.Route,{path:"/lighthouse",title:"Lighthouse"},n.createElement(za,null)),n.createElement($e.EntityLayout.Route,{path:"/errors",title:"Errors"},Yn),n.createElement($e.EntityLayout.Route,{path:"/dependencies",title:"Dependencies"},n.createElement(vt.Z,{container:!0,spacing:3,alignItems:"stretch"},n.createElement(vt.Z,{item:!0,md:6},n.createElement($e.EntityDependsOnComponentsCard,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,md:6},n.createElement($e.EntityDependsOnResourcesCard,{variant:"gridItem"})))),n.createElement($e.EntityLayout.Route,{path:"/docs",title:"Docs"},xr),n.createElement($e.EntityLayout.Route,{if:ha.isNewRelicDashboardAvailable,path:"/newrelic-dashboard",title:"New Relic Dashboard"},n.createElement(xn,null)),n.createElement($e.EntityLayout.Route,{path:"/kubernetes",title:"Kubernetes"},n.createElement(Os,null)),n.createElement($e.EntityLayout.Route,{if:At,path:"/git-tags",title:"Git Tags"},n.createElement(ot,null)),n.createElement($e.EntityLayout.Route,{path:"/pull-requests",title:"Pull Requests"},Qn),n.createElement($e.EntityLayout.Route,{path:"/code-insights",title:"Code Insights"},n.createElement(Gn.al,null)),n.createElement($e.EntityLayout.Route,{path:"/code-coverage",title:"Code Coverage"},n.createElement(Al,null)),n.createElement($e.EntityLayout.Route,{path:"/todos",title:"TODOs"},n.createElement(Ba,null))),Uc=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},Va),n.createElement($e.EntityLayout.Route,{path:"/docs",title:"Docs"},xr),n.createElement($e.EntityLayout.Route,{path:"/todos",title:"TODOs"},n.createElement(Ba,null))),tu=n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:(0,$e.isComponentType)("service")},pa),n.createElement($e.EntitySwitch.Case,{if:(0,$e.isComponentType)("website")},Bl),n.createElement($e.EntitySwitch.Case,null,Uc)),nu=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},n.createElement(vt.Z,{container:!0,spacing:3},ln,n.createElement(vt.Z,{item:!0,md:6,xs:12},n.createElement($e.EntityAboutCard,null)),n.createElement(vt.Z,{item:!0,md:6,xs:12},n.createElement(tt,{variant:"gridItem",height:400})),n.createElement(vt.Z,{item:!0,xs:12},n.createElement(vt.Z,{container:!0},n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(ie,null)),n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(Re,null)))))),n.createElement($e.EntityLayout.Route,{path:"/definition",title:"Definition"},n.createElement(vt.Z,{container:!0,spacing:3},n.createElement(vt.Z,{item:!0,xs:12},n.createElement(Ce,null))))),au=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},n.createElement(vt.Z,{container:!0,spacing:3},ln,n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(Wa,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(Nn,{variant:"gridItem",entityFilterKind:Sa}))))),ru=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},n.createElement(vt.Z,{container:!0,spacing:3},ln,n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(Mn,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,xs:12,md:6},n.createElement(Nn,{variant:"gridItem",entityFilterKind:Sa})),n.createElement(vt.Z,{item:!0,xs:12},n.createElement(Un,null))))),ou=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},n.createElement(vt.Z,{container:!0,spacing:3,alignItems:"stretch"},ln,n.createElement(vt.Z,{item:!0,md:6},n.createElement($e.EntityAboutCard,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,md:6,xs:12},n.createElement(tt,{variant:"gridItem",height:400})),n.createElement(vt.Z,{item:!0,md:6},n.createElement($e.EntityHasComponentsCard,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,md:6},n.createElement(de,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,md:6},n.createElement($e.EntityHasResourcesCard,{variant:"gridItem"})))),n.createElement($e.EntityLayout.Route,{path:"/diagram",title:"Diagram"},n.createElement(tt,{variant:"gridItem",direction:Wt.Nm.TOP_BOTTOM,title:"System Diagram",height:700,relations:[i.cz,i.aS,i.X9,i.Zj,i.Dg,i.M_,i.w$,i.nP],unidirectional:!1}))),su=n.createElement(Vn,null,n.createElement($e.EntityLayout.Route,{path:"/",title:"Overview"},n.createElement(vt.Z,{container:!0,spacing:3,alignItems:"stretch"},ln,n.createElement(vt.Z,{item:!0,md:6},n.createElement($e.EntityAboutCard,{variant:"gridItem"})),n.createElement(vt.Z,{item:!0,md:6,xs:12},n.createElement(tt,{variant:"gridItem",height:400})),n.createElement(vt.Z,{item:!0,md:6},n.createElement($e.EntityHasSystemsCard,{variant:"gridItem"}))))),iu=n.createElement($e.EntitySwitch,null,n.createElement($e.EntitySwitch.Case,{if:(0,$e.isKind)("component"),children:tu}),n.createElement($e.EntitySwitch.Case,{if:(0,$e.isKind)("api"),children:nu}),n.createElement($e.EntitySwitch.Case,{if:(0,$e.isKind)("group"),children:ru}),n.createElement($e.EntitySwitch.Case,{if:(0,$e.isKind)("user"),children:au}),n.createElement($e.EntitySwitch.Case,{if:(0,$e.isKind)("system"),children:ou}),n.createElement($e.EntitySwitch.Case,{if:(0,$e.isKind)("domain"),children:su}),n.createElement($e.EntitySwitch.Case,null,Uc));var lu=e(59592),qu=e(17986);const cu=[{label:"NYC",timeZone:"America/New_York"},{label:"UTC",timeZone:"UTC"},{label:"STO",timeZone:"Europe/Stockholm"},{label:"TYO",timeZone:"Asia/Tokyo"}],uu=n.createElement(g.Page,{themeId:"home"},n.createElement(g.Header,{title:n.createElement(Ys,null),pageTitleOverride:"Home"},n.createElement(Do.HeaderWorldClock,{clockConfigs:cu})),n.createElement(g.Content,null,n.createElement(vt.Z,{container:!0,spacing:3},n.createElement(vt.Z,{item:!0,xs:12},n.createElement(Ca.qD,null)),n.createElement(vt.Z,{item:!0,xs:12,md:4},n.createElement(ba,null)),n.createElement(vt.Z,{item:!0,xs:12,md:4},n.createElement(ba,{defaultCategory:"any",Renderer:Hr}),n.createElement(ba,{title:"Another Random Joke",Renderer:Hr}),n.createElement(ba,{title:"One More Random Joke",defaultCategory:"programming",Renderer:Hr})),n.createElement(vt.Z,{item:!0,xs:12,md:4},n.createElement(Js,{title:"Random Jokes",tabs:[{label:"Programming",Component:()=>n.createElement(ba,{defaultCategory:"programming",Renderer:Mo})},{label:"Any",Component:()=>n.createElement(ba,{defaultCategory:"any",Renderer:Mo})}]})),n.createElement(vt.Z,{item:!0,xs:12,md:4},n.createElement(lu.X,null)),n.createElement(vt.Z,{item:!0,xs:12,md:4},n.createElement(Xs,null)))));var du=e(86689),mu=e(62296),gu=e(19765),fu=e(25156),hu=e(68236),pu=e(58845),Eu=e(88188),yu=e(44882),vu=e(10618);const Au=(0,In.Z)({svg:{width:"auto",height:30},path:{fill:"#7df3e1"}});var Cu=()=>{const x=Au();return n.createElement("svg",{className:x.svg,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2079.95 456.05"},n.createElement("path",{className:x.path,d:"M302.9,180a80.62,80.62,0,0,0,13.44-10.37c.8-.77,1.55-1.54,2.31-2.31a81.89,81.89,0,0,0,7.92-9.37,62.37,62.37,0,0,0,6.27-10.77,48.6,48.6,0,0,0,4.36-16.4c1.49-19.39-10-38.67-35.62-54.22L198.42,14,78.16,129.22l-78.29,75,108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.69,49.69,0,0,0-6.8-8.87,89.78,89.78,0,0,0,19.28,2.15H259a85.09,85.09,0,0,0,31-5.79A80.88,80.88,0,0,0,302.9,180Zm-100.59,59.8c-19.32,18.51-50.4,21.24-75.7,5.9l-75.13-45.6,67.44-64.65,76.42,46.39C222.88,198.57,221.36,221.6,202.31,239.84Zm8.94-82.21L140.6,114.74,205,53l69.37,42.11c25.94,15.73,29.31,37.05,10.55,55A60.71,60.71,0,0,1,211.25,157.63Zm29.86,190c-19.57,18.75-46.17,29.08-74.88,29.08a123.84,123.84,0,0,1-64.11-18.19L-.13,296.51v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.85,87.85,0,0,1,241.11,347.67Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,257.52V282.2l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.79A86.86,86.86,0,0,1,241.11,308.68Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,218.54v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.12,19.68-41.49v-1.82A87.14,87.14,0,0,1,241.11,269.7Zm83.69,25.74a94.16,94.16,0,0,1-60.19,25.86h0V348a81.6,81.6,0,0,0,51.73-22.37c14-13.38,21.15-28.11,21-42.64v-2.2A95.14,95.14,0,0,1,324.8,295.44Zm-83.69,91.21c-19.57,18.75-46.17,29.09-74.88,29.09a123.76,123.76,0,0,1-64.11-18.2L-.13,335.49v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.35,87.35,0,0,1,241.11,386.65Zm85.75-210.21c-.68.69-1.35,1.38-2.06,2.05a99.19,99.19,0,0,1-22.23,15.69,94.53,94.53,0,0,1-26.24,8.71,97.84,97.84,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a52.7,52.7,0,0,1,1.13,12V231h.05A84.48,84.48,0,0,0,290,225.47a80.83,80.83,0,0,0,26.38-16.82c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,62.85,62.85,0,0,0,6.29-10.78,48.5,48.5,0,0,0,4.32-16.44c.09-1.23.2-2.47.19-3.7v-2c-.72,1-1.48,2.06-2.26,3.09A98,98,0,0,1,326.86,176.44Zm0,77.92c-.68.7-1.3,1.41-2,2.1a94.09,94.09,0,0,1-60.19,25.85h0V309h0a81.65,81.65,0,0,0,51.73-22.37,73.51,73.51,0,0,0,16.48-22.49,48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A95.81,95.81,0,0,1,326.82,254.36Zm0-39c-.68.7-1.3,1.41-2,2.1a92.22,92.22,0,0,1-10.62,8.65,93.53,93.53,0,0,1-11.63,7,95.63,95.63,0,0,1-37.94,10.18h-.05l0,26.67h0a81.63,81.63,0,0,0,51.73-22.37c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,63.16,63.16,0,0,0,6.29-10.77,48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A98.19,98.19,0,0,1,326.82,215.38Zm241-88.84q7.94,0,17.09.17t18.12,1a139.3,139.3,0,0,1,16.74,2.57,42.78,42.78,0,0,1,13.3,5.14,64.27,64.27,0,0,1,20.54,19.89Q662,168,662,186.54q0,19.54-9.49,33.78t-27.1,21.09v.68q22.78,4.82,34.87,20.58t12.08,38.4a72.62,72.62,0,0,1-4.83,26.06,65.29,65.29,0,0,1-14.33,22.46,71.57,71.57,0,0,1-23.47,15.78q-14,6-32.28,6H478.38V126.54Zm9,105.27q28,0,40.21-9.78t12.26-29.31q0-13-4.14-20.58a29.47,29.47,0,0,0-11.4-11.66A45,45,0,0,0,597,155.17a161.2,161.2,0,0,0-20.19-1.2h-65.6v77.84Zm16.57,112.13q21.74,0,34-11.66T639.59,300q0-12-4.48-19.88a34.85,34.85,0,0,0-11.91-12.52,50.14,50.14,0,0,0-17.09-6.52,105,105,0,0,0-20-1.88H511.17v84.7Zm274.79,26.74q-7.61,4.45-21.06,4.46-11.4,0-18.12-6.34t-6.74-20.75a70.17,70.17,0,0,1-28.13,20.75,97.87,97.87,0,0,1-57.65,3.6,53.51,53.51,0,0,1-18.82-8.58A41.19,41.19,0,0,1,705,348.56q-4.65-9.42-4.66-22.8,0-15.09,5.18-24.69a44.92,44.92,0,0,1,13.64-15.6,62.63,62.63,0,0,1,19.33-9.09q10.88-3.08,22.27-5.14,12.08-2.4,23-3.6a128,128,0,0,0,19.16-3.43c5.53-1.48,9.89-3.65,13.12-6.51s4.83-7,4.83-12.52q0-9.6-3.62-15.43a24.94,24.94,0,0,0-9.32-8.92,38.38,38.38,0,0,0-12.78-4.11,96.54,96.54,0,0,0-14-1q-18.63,0-31.07,7T736.6,249.29H707.26q.69-16.46,6.9-27.77a52.21,52.21,0,0,1,16.57-18.35,70,70,0,0,1,23.65-10.11A125.51,125.51,0,0,1,782.86,190a168.63,168.63,0,0,1,24,1.72,63.26,63.26,0,0,1,21.58,7A41.23,41.23,0,0,1,844,213.59q5.87,9.57,5.87,25v91q0,10.26,1.21,15.05t8.11,4.79a35.57,35.57,0,0,0,9-1.37Zm-47.64-90.87c-3.69,2.74-8.52,4.72-14.5,6s-12.26,2.27-18.82,3.07-13.17,1.71-19.85,2.73a73.7,73.7,0,0,0-18,4.94,32.62,32.62,0,0,0-12.94,9.73q-5,6.32-5,17.23a23.31,23.31,0,0,0,2.94,12.11,24.11,24.11,0,0,0,7.59,8,32,32,0,0,0,10.88,4.44,60.94,60.94,0,0,0,13.11,1.36q14.5,0,24.86-3.92a52.49,52.49,0,0,0,16.91-9.9,39.1,39.1,0,0,0,9.67-13,32.53,32.53,0,0,0,3.11-13.14ZM1002.07,225q-11.05-9.25-29.69-9.26-15.89,0-26.58,5.83A47.29,47.29,0,0,0,928.71,237a64.66,64.66,0,0,0-9.15,22.12A119.83,119.83,0,0,0,916.8,285a98.22,98.22,0,0,0,2.93,24,64.18,64.18,0,0,0,9.15,20.74,46.2,46.2,0,0,0,16.23,14.58q10,5.49,23.82,5.48,21.75,0,34-11.31t15-31.89h30q-4.83,32.91-24.68,50.75t-54,17.83q-20.37,0-36.07-6.52A69.86,69.86,0,0,1,907,350.11a79.92,79.92,0,0,1-15.88-28.63A118.64,118.64,0,0,1,885.73,285a129.41,129.41,0,0,1,5.18-37.21,85.63,85.63,0,0,1,15.71-30.17A73.46,73.46,0,0,1,933,197.35Q948.91,190,970,190a108.54,108.54,0,0,1,28.48,3.6,69.59,69.59,0,0,1,23.48,11.15,61,61,0,0,1,16.74,19q6.55,11.49,8.29,27.26h-30.38Q1013.11,234.21,1002.07,225Zm109.77-98.41v145l81.47-77.49h39.36l-70.77,64.46,75.95,112.82h-37.29l-61.1-92.59-27.62,25.38v67.21H1082.5V126.54Zm170.54,205.22a31.07,31.07,0,0,0,10.87,10.63,49,49,0,0,0,15.19,5.66,87.06,87.06,0,0,0,17.44,1.71,109.18,109.18,0,0,0,14.5-1,53.22,53.22,0,0,0,14-3.78,26.27,26.27,0,0,0,10.53-8q4.14-5.32,4.14-13.55,0-11.31-8.63-17.14a73.69,73.69,0,0,0-21.58-9.43q-12.94-3.6-28.13-6.52a146,146,0,0,1-28.14-8.23A58.16,58.16,0,0,1,1261,267.13q-8.64-9.6-8.63-26.75,0-13.38,6-23a49.26,49.26,0,0,1,15.53-15.61,71.76,71.76,0,0,1,21.4-8.91A99.41,99.41,0,0,1,1319,190a141.31,141.31,0,0,1,28,2.58,64.85,64.85,0,0,1,22.62,8.91,46.16,46.16,0,0,1,15.7,17.15q5.87,10.8,6.91,26.91h-29.35q-.69-8.57-4.48-14.23a29.36,29.36,0,0,0-9.67-9.08,44.16,44.16,0,0,0-12.94-5,67.68,67.68,0,0,0-14.33-1.54,87.29,87.29,0,0,0-13.29,1,45.28,45.28,0,0,0-12.26,3.6,24.49,24.49,0,0,0-9,6.86q-3.46,4.29-3.46,11.14a16.32,16.32,0,0,0,5.36,12.52,42.75,42.75,0,0,0,13.63,8.23,120,120,0,0,0,18.64,5.48q10.37,2.24,20.72,4.63,11,2.4,21.57,5.83A70.74,70.74,0,0,1,1382,284.1a44.55,44.55,0,0,1,13.12,14.23q5,8.58,5,21.26,0,16.13-6.73,26.75a52.5,52.5,0,0,1-17.61,17.14,73.89,73.89,0,0,1-24.51,9.09,146.3,146.3,0,0,1-27.1,2.57,126.24,126.24,0,0,1-28.31-3.09A69.56,69.56,0,0,1,1272,361.94a51.74,51.74,0,0,1-16.57-18.52q-6.21-11.49-6.9-27.95h29.34A32.65,32.65,0,0,0,1282.38,331.76Zm226.46-137.67v25.72h-35.56V329.88a31.37,31.37,0,0,0,.87,8.23,8.42,8.42,0,0,0,3.28,4.8,14.61,14.61,0,0,0,6.73,2.23,99.19,99.19,0,0,0,11.22.51h13.46v25.72H1486.4a105.8,105.8,0,0,1-19.5-1.55,28.65,28.65,0,0,1-13.12-5.65,24.09,24.09,0,0,1-7.42-11.66q-2.43-7.54-2.42-19.89V219.81h-30.38V194.09h30.38V140.94h29.34v53.15ZM1699.4,370.68q-7.61,4.45-21.06,4.46-11.4,0-18.12-6.34t-6.74-20.75a70.17,70.17,0,0,1-28.13,20.75,97.87,97.87,0,0,1-57.65,3.6,53.51,53.51,0,0,1-18.82-8.58,41.19,41.19,0,0,1-12.6-15.26q-4.65-9.42-4.66-22.8,0-15.09,5.18-24.69a44.92,44.92,0,0,1,13.64-15.6,62.63,62.63,0,0,1,19.33-9.09q10.88-3.08,22.27-5.14,12.07-2.4,23-3.6a128,128,0,0,0,19.16-3.43c5.53-1.48,9.89-3.65,13.12-6.51s4.83-7,4.83-12.52q0-9.6-3.62-15.43a24.94,24.94,0,0,0-9.32-8.92,38.38,38.38,0,0,0-12.78-4.11,96.54,96.54,0,0,0-14-1q-18.63,0-31.07,7t-13.46,26.57h-29.34q.67-16.46,6.9-27.77A52.21,52.21,0,0,1,1562,203.17a70,70,0,0,1,23.65-10.11,125.51,125.51,0,0,1,28.48-3.09,168.63,168.63,0,0,1,24,1.72,63.26,63.26,0,0,1,21.58,7,41.23,41.23,0,0,1,15.53,14.89q5.87,9.57,5.87,25v91q0,10.26,1.21,15.05t8.11,4.79a35.57,35.57,0,0,0,9-1.37Zm-47.64-90.87c-3.69,2.74-8.52,4.72-14.5,6s-12.26,2.27-18.82,3.07-13.17,1.71-19.85,2.73a73.7,73.7,0,0,0-17.95,4.94,32.62,32.62,0,0,0-12.94,9.73q-5,6.32-5,17.23a23.31,23.31,0,0,0,2.94,12.11,24.11,24.11,0,0,0,7.59,8,32,32,0,0,0,10.88,4.44,60.94,60.94,0,0,0,13.11,1.36q14.51,0,24.86-3.92a52.49,52.49,0,0,0,16.91-9.9,39.1,39.1,0,0,0,9.67-13,32.53,32.53,0,0,0,3.11-13.14Zm208.85,141.62q-20,21.6-62.83,21.6a122.11,122.11,0,0,1-25.37-2.74,78,78,0,0,1-23.48-8.92,54.41,54.41,0,0,1-17.43-16.11q-6.91-10-7.6-24.35h29.35a21.47,21.47,0,0,0,5,13.38,36.67,36.67,0,0,0,11.4,8.91,55.52,55.52,0,0,0,14.67,5,79.51,79.51,0,0,0,15.19,1.55q14.49,0,24.51-5A46,46,0,0,0,1840.59,401a56.53,56.53,0,0,0,9.49-21.09,117.46,117.46,0,0,0,2.94-27.09V341.19h-.7q-7.59,16.46-23,24.18a71.8,71.8,0,0,1-32.63,7.71q-20,0-34.86-7.2A72.88,72.88,0,0,1,1737,346.51a82.13,82.13,0,0,1-15-28.46,116.62,116.62,0,0,1-5-34.47,133.92,133.92,0,0,1,4.14-32.4A88.17,88.17,0,0,1,1735,221a75.49,75.49,0,0,1,25.55-22.29q15.87-8.75,39-8.75a66.21,66.21,0,0,1,31.07,7.38,52.13,52.13,0,0,1,22.09,22.11h.35V194.09h27.61V356.28Q1880.63,399.83,1860.61,421.43Zm-37.46-79.72a47.94,47.94,0,0,0,16.4-15.78,71.89,71.89,0,0,0,9.15-22.11,106.77,106.77,0,0,0,2.93-24.69,96.71,96.71,0,0,0-2.76-23,64,64,0,0,0-8.8-20.4,45.76,45.76,0,0,0-15.71-14.57q-9.66-5.49-23.47-5.49-14.16,0-24.17,5.32a46.77,46.77,0,0,0-16.4,14.23,60.14,60.14,0,0,0-9.32,20.57,99.69,99.69,0,0,0-2.93,24.35,120.63,120.63,0,0,0,2.42,24,67.5,67.5,0,0,0,8.28,21.77,46.37,46.37,0,0,0,15.54,15.78q9.66,6,24.16,6T1823.15,341.71Zm228,18.34q-20,15.09-50.41,15.09-21.4,0-37.11-6.86a73.16,73.16,0,0,1-26.41-19.2,81.52,81.52,0,0,1-16-29.49,141.12,141.12,0,0,1-6-37.38,106.1,106.1,0,0,1,6.21-37A88.56,88.56,0,0,1,1938.8,216a79.09,79.09,0,0,1,26.58-19.2A81.66,81.66,0,0,1,1999,190q23.82,0,39.53,9.78a78,78,0,0,1,25.2,24.86,98.18,98.18,0,0,1,13.12,32.91,140.6,140.6,0,0,1,2.93,34h-133.6a70,70,0,0,0,2.76,22.12,49.9,49.9,0,0,0,10,18.51A49.1,49.1,0,0,0,1976.6,345q10.7,4.82,25.2,4.8,18.65,0,30.55-8.57t15.71-26.06h29Q2071.18,345,2051.17,360.05Zm-7.08-113.84a50,50,0,0,0-10.7-16,53.1,53.1,0,0,0-56.62-10.63,47.48,47.48,0,0,0-15.71,10.81,51.69,51.69,0,0,0-10.35,15.94,60.18,60.18,0,0,0-4.49,19.37h102.53A59.47,59.47,0,0,0,2044.09,246.21ZM302.9,180a80.62,80.62,0,0,0,13.44-10.37c.8-.77,1.55-1.54,2.31-2.31a81.89,81.89,0,0,0,7.92-9.37,62.37,62.37,0,0,0,6.27-10.77,48.6,48.6,0,0,0,4.36-16.4c1.49-19.39-10-38.67-35.62-54.22L198.42,14,78.16,129.22l-78.29,75,108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.69,49.69,0,0,0-6.8-8.87,89.78,89.78,0,0,0,19.28,2.15H259a85.09,85.09,0,0,0,31-5.79A80.88,80.88,0,0,0,302.9,180Zm-100.59,59.8c-19.32,18.51-50.4,21.24-75.7,5.9l-75.13-45.6,67.44-64.65,76.42,46.39C222.88,198.57,221.36,221.6,202.31,239.84Zm8.94-82.21L140.6,114.74,205,53l69.37,42.11c25.94,15.73,29.31,37.05,10.55,55A60.71,60.71,0,0,1,211.25,157.63Zm29.86,190c-19.57,18.75-46.17,29.08-74.88,29.08a123.84,123.84,0,0,1-64.11-18.19L-.13,296.51v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.85,87.85,0,0,1,241.11,347.67Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,257.52V282.2l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.79A86.86,86.86,0,0,1,241.11,308.68Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,218.54v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.12,19.68-41.49v-1.82A87.14,87.14,0,0,1,241.11,269.7Zm83.69,25.74a94.16,94.16,0,0,1-60.19,25.86h0V348a81.6,81.6,0,0,0,51.73-22.37c14-13.38,21.15-28.11,21-42.64v-2.2A95.14,95.14,0,0,1,324.8,295.44Zm-83.69,91.21c-19.57,18.75-46.17,29.09-74.88,29.09a123.76,123.76,0,0,1-64.11-18.2L-.13,335.49v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.35,87.35,0,0,1,241.11,386.65Zm85.75-210.21c-.68.69-1.35,1.38-2.06,2.05a99.19,99.19,0,0,1-22.23,15.69,94.53,94.53,0,0,1-26.24,8.71,97.84,97.84,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a52.7,52.7,0,0,1,1.13,12V231h.05A84.48,84.48,0,0,0,290,225.47a80.83,80.83,0,0,0,26.38-16.82c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,62.85,62.85,0,0,0,6.29-10.78,48.5,48.5,0,0,0,4.32-16.44c.09-1.23.2-2.47.19-3.7v-2c-.72,1-1.48,2.06-2.26,3.09A98,98,0,0,1,326.86,176.44Zm0,77.92c-.68.7-1.3,1.41-2,2.1a94.09,94.09,0,0,1-60.19,25.85h0V309h0a81.65,81.65,0,0,0,51.73-22.37,73.51,73.51,0,0,0,16.48-22.49,48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A95.81,95.81,0,0,1,326.82,254.36Zm0-39c-.68.7-1.3,1.41-2,2.1a92.22,92.22,0,0,1-10.62,8.65,93.53,93.53,0,0,1-11.63,7,95.63,95.63,0,0,1-37.94,10.18h-.05l0,26.67h0a81.63,81.63,0,0,0,51.73-22.37c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,63.16,63.16,0,0,0,6.29-10.77,48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A98.19,98.19,0,0,1,326.82,215.38Z"}))};const Su=(0,In.Z)({svg:{width:"auto",height:28},path:{fill:"#7df3e1"}});var Ru=()=>{const x=Su();return n.createElement("svg",{className:x.svg,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 337.46 428.5"},n.createElement("path",{className:x.path,d:"M303,166.05a80.69,80.69,0,0,0,13.45-10.37c.79-.77,1.55-1.53,2.3-2.3a83.12,83.12,0,0,0,7.93-9.38A63.69,63.69,0,0,0,333,133.23a48.58,48.58,0,0,0,4.35-16.4c1.49-19.39-10-38.67-35.62-54.22L198.56,0,78.3,115.23,0,190.25l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.22,49.22,0,0,0-6.8-8.87A89.17,89.17,0,0,0,259,178.29h.15a85.08,85.08,0,0,0,31-5.79A80.88,80.88,0,0,0,303,166.05ZM202.45,225.86c-19.32,18.51-50.4,21.23-75.7,5.9L51.61,186.15l67.45-64.64,76.41,46.38C223,184.58,221.49,207.61,202.45,225.86Zm8.93-82.22-70.65-42.89L205.14,39,274.51,81.1c25.94,15.72,29.31,37,10.55,55A60.69,60.69,0,0,1,211.38,143.64Zm29.86,190c-19.57,18.75-46.17,29.09-74.88,29.09a123.73,123.73,0,0,1-64.1-18.2L0,282.52v24.67L108.6,373.1a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.27,87.27,0,0,1,241.24,333.68Zm0-39c-19.57,18.75-46.17,29.08-74.88,29.08a123.81,123.81,0,0,1-64.1-18.19L0,243.53v24.68l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.5v-1.78A87.27,87.27,0,0,1,241.24,294.7Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.81,123.81,0,0,1-64.1-18.19L0,204.55v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.82A86.09,86.09,0,0,1,241.24,255.71Zm83.7,25.74a94.15,94.15,0,0,1-60.2,25.86h0V334a81.6,81.6,0,0,0,51.74-22.37c14-13.38,21.14-28.11,21-42.64v-2.19A94.92,94.92,0,0,1,324.94,281.45Zm-83.7,91.21c-19.57,18.76-46.17,29.09-74.88,29.09a123.73,123.73,0,0,1-64.1-18.2L0,321.5v24.68l108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A86.29,86.29,0,0,1,241.24,372.66ZM327,162.45c-.68.69-1.35,1.38-2.05,2.06a94.37,94.37,0,0,1-10.64,8.65,91.35,91.35,0,0,1-11.6,7,94.53,94.53,0,0,1-26.24,8.71,97.69,97.69,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a53.27,53.27,0,0,1,1.14,12V217h.05a84.41,84.41,0,0,0,25.35-5.55,81,81,0,0,0,26.39-16.82c.8-.77,1.5-1.56,2.26-2.34a82.08,82.08,0,0,0,7.93-9.38A63.76,63.76,0,0,0,333,172.17a48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7V150q-1.08,1.54-2.25,3.09A96.73,96.73,0,0,1,327,162.45Zm0,77.92c-.69.7-1.31,1.41-2,2.1a94.2,94.2,0,0,1-60.2,25.86h0l0,26.67h0a81.6,81.6,0,0,0,51.74-22.37A73.51,73.51,0,0,0,333,250.13a48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.47.19-3.71v-2.19c-.74,1.07-1.46,2.15-2.27,3.21A95.68,95.68,0,0,1,327,240.37Zm0-39c-.69.7-1.31,1.41-2,2.1a93.18,93.18,0,0,1-10.63,8.65,91.63,91.63,0,0,1-11.63,7,95.47,95.47,0,0,1-37.94,10.18h0V256h0a81.65,81.65,0,0,0,51.74-22.37c.8-.77,1.5-1.56,2.26-2.34a82.08,82.08,0,0,0,7.93-9.38A63.76,63.76,0,0,0,333,211.15a48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.46,2.16-2.27,3.22A95.68,95.68,0,0,1,327,201.39Z"}))},Nc=e(42298);const $c=(0,s.createPlugin)({id:"shortcuts",apis:[(0,s.createApiFactory)({api:Nc.k,deps:{storageApi:s.storageApiRef},factory:({storageApi:x})=>new Nc.K(x.forBucket("shortcuts"))})]}),Pu=$c.provide((0,s.createComponentExtension)({name:"Shortcuts",component:{lazy:()=>e.e(1136).then(e.bind(e,61136)).then(x=>x.Shortcuts)}}));var Tu=e(79249),Iu=e(38724),xu=e(49429),Zu=e(69001);const Lu=(0,In.Z)(x=>({container:{borderRadius:30,display:"flex",height:"2.4em"},filter:{"& + &":{marginTop:x.spacing(2.5)}},filters:{padding:x.spacing(2),marginTop:x.spacing(2)},input:{flex:1},dialogActionsContainer:{padding:x.spacing(1,3)},viewResultsLink:{verticalAlign:"0.5em"}})),bu=({toggleModal:x})=>{const Y=(0,s.useRouteRef)(Ca.Zw.routes.root),Se=Lu(),je=(0,s.useApi)(Ne.catalogApiRef),{term:qe,types:st}=(0,Jn.Rx)(),{focusContent:ft}=(0,g.useContent)(),{transitions:Pt}=(0,qt.Z)(),Lt=()=>{x(),setTimeout(ft,Pt.duration.leavingScreen)},Mt=()=>{Lt()};return n.createElement(n.Fragment,null,n.createElement(Tu.Z,null,n.createElement(Ga.Z,{className:Se.container},n.createElement(wo.SearchBar,{className:Se.input}))),n.createElement(Iu.Z,null,n.createElement(vt.Z,{container:!0,direction:"column"},n.createElement(vt.Z,{item:!0},n.createElement(Oa.Tabs,{defaultValue:"software-catalog",types:[{value:"software-catalog",name:"Software Catalog"},{value:"techdocs",name:"Documentation"}]})),n.createElement(vt.Z,{item:!0,container:!0},st.includes("techdocs")&&n.createElement(vt.Z,{item:!0,xs:2},n.createElement(Wn.Select,{className:Se.filter,label:"Entity",name:"name",values:async()=>{const{items:Dt}=await je.getEntities({fields:["metadata.name"],filter:{"metadata.annotations.backstage.io/techdocs-ref":Ne.CATALOG_FILTER_EXISTS}}),kt=Dt.map(en=>en.metadata.name);return kt.sort(),kt}})),n.createElement(vt.Z,{item:!0,xs:2},n.createElement(Wn.Select,{className:Se.filter,label:"Kind",name:"kind",values:["Component","Template"]})),n.createElement(vt.Z,{item:!0,xs:2},n.createElement(Wn.Select,{className:Se.filter,label:"Lifecycle",name:"lifecycle",values:["experimental","production"]})),n.createElement(vt.Z,{item:!0,xs:st.includes("techdocs")?6:8,container:!0,direction:"row-reverse",justifyContent:"flex-start",alignItems:"center"},n.createElement(vt.Z,{item:!0},n.createElement(g.Link,{onClick:()=>{x(),setTimeout(ft,Pt.duration.leavingScreen)},to:`${Y()}?query=${qe}`},n.createElement("span",{className:Se.viewResultsLink},"View Full Results"),n.createElement(Zu.Z,{color:"primary"}))))),n.createElement(vt.Z,{item:!0,xs:!0},n.createElement(Ca.lt,null,({results:Dt})=>n.createElement(_a.Z,null,Dt.map(({type:kt,document:en,highlight:cn})=>{let Vt;switch(kt){case"software-catalog":Vt=n.createElement($e.CatalogSearchResultListItem,{key:en.location,result:en,highlight:cn});break;case"techdocs":Vt=n.createElement(Ui.b,{key:en.location,result:en,highlight:cn});break;default:Vt=n.createElement(Ca.yu,{key:en.location,result:en,highlight:cn})}return n.createElement("div",{role:"button",tabIndex:0,key:`${en.location}-btn`,onClick:Lt,onKeyPress:Mt},Vt)})))))),n.createElement(xu.Z,{className:Se.dialogActionsContainer},n.createElement(vt.Z,{container:!0,direction:"row"},n.createElement(vt.Z,{item:!0,xs:12},n.createElement(Xr.G,null)))))},Ou=(0,In.Z)({root:{width:g.sidebarConfig.drawerWidthClosed,height:3*g.sidebarConfig.logoHeight,display:"flex",flexFlow:"row nowrap",alignItems:"center",marginBottom:-14},link:{width:g.sidebarConfig.drawerWidthClosed,marginLeft:24}}),Du=()=>{const x=Ou(),{isOpen:Y}=(0,g.useSidebarOpenState)();return n.createElement("div",{className:x.root},n.createElement(du.Z,{component:u.OL,to:"/",underline:"none",className:x.link,"aria-label":"Home"},Y?n.createElement(Cu,null):n.createElement(Ru,null)))},Bu=({children:x})=>n.createElement(g.SidebarPage,null,n.createElement(g.Sidebar,null,n.createElement(Du,null),n.createElement(g.SidebarGroup,{label:"Search",icon:n.createElement(I.Z,null),to:"/search"},n.createElement(Ca.YC,null,({toggleModal:Y})=>n.createElement(bu,{toggleModal:Y}))),n.createElement(g.SidebarDivider,null),n.createElement(g.SidebarGroup,{label:"Menu",icon:n.createElement(yu.Z,null)},n.createElement(g.SidebarItem,{icon:mu.Z,to:"catalog",text:"Home"}),n.createElement(xa.MyGroupsSidebarItem,{singularTitle:"My Squad",pluralTitle:"My Squads",icon:le.Z}),n.createElement(g.SidebarItem,{icon:w.Z,to:"api-docs",text:"APIs"}),n.createElement(g.SidebarItem,{icon:pu.Z,to:"docs",text:"Docs"}),n.createElement(g.SidebarItem,{icon:hu.Z,to:"explore",text:"Explore"}),n.createElement(g.SidebarItem,{icon:Eu.Z,to:"create",text:"Create..."}),n.createElement(g.SidebarDivider,null),n.createElement(g.SidebarScrollWrapper,null,n.createElement(g.SidebarItem,{icon:fu.Z,to:"tech-radar",text:"Tech Radar"}),n.createElement(g.SidebarItem,{icon:gu.Z,to:"lighthouse",text:"Lighthouse"}),n.createElement(g.SidebarItem,{icon:vu.Z,to:"cost-insights",text:"Cost Insights"}),n.createElement(g.SidebarItem,{icon:Hs,to:"graphiql",text:"GraphiQL"})),n.createElement(g.SidebarDivider,null),n.createElement(Pu,null)),n.createElement(g.SidebarSpace,null),n.createElement(g.SidebarDivider,null),n.createElement(g.SidebarGroup,{label:"Settings",icon:n.createElement(il.kG,null),to:"/settings"},n.createElement(mc,null))),x),Mu=x=>{const{onChange:Y,required:Se,schema:{title:je,description:qe},rawErrors:st,formData:ft,uiSchema:{"ui:autofocus":Pt},idSchema:Lt,placeholder:Mt}=x;return n.createElement(yr.Z,{id:Lt==null?void 0:Lt.$id,label:je,placeholder:Mt,helperText:qe,required:Se,value:ft!=null?ft:"",onChange:({target:{value:Dt}})=>Y(Dt),margin:"normal",error:(st==null?void 0:st.length)>0&&!ft,inputProps:{autoFocus:Pt}})},Fu=ta.provide((0,va.eP)({name:"LowerCaseValuePicker",component:Mu,validation:(x,Y)=>{x.toLocaleLowerCase("en-US")!==x&&Y.addError("Only lowercase values are allowed.")}})),Uu=`# Edit the template parameters below to see how they will render in the scaffolder form UI
parameters:
  - title: Fill in some steps
    required:
      - name
    properties:
      name:
        title: Name
        type: string
        description: Unique name of the component
      owner:
        title: Owner
        type: string
        description: Owner of the component
        ui:field: OwnerPicker
        ui:options:
          allowedKinds:
            - Group
  - title: Choose a location
    required:
      - repoUrl
    properties:
      repoUrl:
        title: Repository Location
        type: string
        ui:field: RepoUrlPicker
        ui:options:
          allowedHosts:
            - github.com
  - title: Custom Fields
    required:
      - lowerCaseValue
    properties:
      lowerCaseValue:
        title: Lower Cased Value
        type: string
        ui:field: LowerCaseValuePicker
`,Nu=(0,In.Z)(x=>({bar:{padding:x.spacing(1,0)},filter:{"& + &":{marginTop:x.spacing(2.5)}},filters:{padding:x.spacing(2),marginTop:x.spacing(2)}})),$u=()=>{const x=Nu(),{isMobile:Y}=(0,g.useSidebarPinState)(),{types:Se}=(0,Jn.Rx)(),je=(0,s.useApi)(Ne.catalogApiRef);return n.createElement(g.Page,{themeId:"home"},!Y&&n.createElement(g.Header,{title:"Search",subtitle:n.createElement(g.Lifecycle,{alpha:!0})}),n.createElement(g.Content,null,n.createElement(vt.Z,{container:!0,direction:"row"},n.createElement(vt.Z,{item:!0,xs:12},n.createElement(Ga.Z,{className:x.bar},n.createElement(wo.SearchBar,{debounceTime:100}))),!Y&&n.createElement(vt.Z,{item:!0,xs:3},n.createElement(Oa.Accordion,{name:"Result Type",defaultValue:"software-catalog",types:[{value:"software-catalog",name:"Software Catalog",icon:n.createElement(g.CatalogIcon,null)},{value:"techdocs",name:"Documentation",icon:n.createElement(g.DocsIcon,null)}]}),n.createElement(Ga.Z,{className:x.filters},Se.includes("techdocs")&&n.createElement(Wn.Select,{className:x.filter,label:"Entity",name:"name",values:async()=>{const{items:qe}=await je.getEntities({fields:["metadata.name"],filter:{"metadata.annotations.backstage.io/techdocs-ref":Ne.CATALOG_FILTER_EXISTS}}),st=qe.map(ft=>ft.metadata.name);return st.sort(),st}}),n.createElement(Wn.Select,{className:x.filter,label:"Kind",name:"kind",values:["Component","Template"]}),n.createElement(Wn.Checkbox,{className:x.filter,label:"Lifecycle",name:"lifecycle",values:["experimental","production"]}))),n.createElement(vt.Z,{item:!0,xs:!0},n.createElement(Ca.lt,null,({results:qe})=>n.createElement(_a.Z,null,qe.map(({type:st,document:ft,highlight:Pt})=>{switch(st){case"software-catalog":return n.createElement($e.CatalogSearchResultListItem,{key:ft.location,result:ft,highlight:Pt});case"techdocs":return n.createElement(Ui.b,{key:ft.location,result:ft,highlight:Pt});default:return n.createElement(Ca.yu,{key:ft.location,result:ft,highlight:Pt})}}))),n.createElement(Xr.G,null)))))},Wu=n.createElement($u,null),ju=[{id:"google-auth-provider",title:"Google",message:"Sign In using Google",apiRef:s.googleAuthApiRef},{id:"microsoft-auth-provider",title:"Microsoft",message:"Sign In using Microsoft Azure AD",apiRef:s.microsoftAuthApiRef},{id:"gitlab-auth-provider",title:"GitLab",message:"Sign In using GitLab",apiRef:s.gitlabAuthApiRef},{id:"github-auth-provider",title:"GitHub",message:"Sign In using GitHub",apiRef:s.githubAuthApiRef},{id:"okta-auth-provider",title:"Okta",message:"Sign In using Okta",apiRef:s.oktaAuthApiRef},{id:"onelogin-auth-provider",title:"OneLogin",message:"Sign In using OneLogin",apiRef:s.oneloginAuthApiRef},{id:"bitbucket-auth-provider",title:"Bitbucket",message:"Sign In using Bitbucket",apiRef:s.bitbucketAuthApiRef}],zu=()=>n.createElement(g.Page,{themeId:"documentation"},n.createElement(es.S,null),n.createElement(Fi.b,null),n.createElement(sc.F,null)),wu=n.createElement(zu,null),Wc=(0,s.createRouteRef)({id:"apache-airflow"});var jc=e(18190);const Ku=(0,s.createPlugin)({id:"apache-airflow",routes:{root:Wc},apis:[(0,s.createApiFactory)({api:jc.t,deps:{configApi:s.configApiRef,discoveryApi:s.discoveryApiRef},factory:({configApi:x,discoveryApi:Y})=>new jc.L({discoveryApi:Y,baseUrl:x.getString("apacheAirflow.baseUrl")})})]}).provide((0,s.createRoutableExtension)({name:"ApacheAirflowPage",component:()=>e.e(9768).then(e.bind(e,99768)).then(x=>x.HomePage),mountPoint:Wc}));var Gu=e(72415);const zc=j({apis:hl,plugins:Object.values(t),icons:{alert:gl.Z},components:{SignInPage:x=>n.createElement(g.SignInPage,{...x,providers:["guest","custom",...ju],title:"Select a sign-in method",align:"center"})},bindRoutes({bind:x}){x($e.catalogPlugin.externalRoutes,{createComponent:ta.routes.root,viewTechDoc:Ar.s4.routes.docRoot}),x(W.externalRoutes,{registerApi:it.routes.importPage}),x(ta.externalRoutes,{registerComponent:it.routes.importPage}),x(Tn.externalRoutes,{catalogIndex:$e.catalogPlugin.routes.catalogIndex})}}),Hu=zc.getProvider(),Vu=zc.getRouter(),Ju=n.createElement(d.FlatRoutes,null,n.createElement(f.Fg,{key:"/",to:"catalog"}),n.createElement(f.AW,{path:"/home",element:n.createElement(Vs,null)},uu),n.createElement(f.AW,{path:"/catalog",element:n.createElement($e.CatalogIndexPage,null)}),n.createElement(f.AW,{path:"/catalog/:namespace/:kind/:name",element:n.createElement($e.CatalogEntityPage,null)},iu),n.createElement(a.po,{path:"/catalog-import",permission:Gu.catalogEntityCreatePermission,element:n.createElement(gt,null)}),n.createElement(f.AW,{path:"/catalog-graph",element:n.createElement(Tt,{initialState:{selectedKinds:["component","domain","system","api","group"],selectedRelations:[i.$1,i.S4,i.Dg,i.X9,i.M_,i.Zj,i.aS,i.cz,i.nP,i.w$]}})}),n.createElement(f.AW,{path:"/docs",element:n.createElement(Ar.Jl,null)}),n.createElement(f.AW,{path:"/docs/:namespace/:kind/:name/*",element:n.createElement(Ar.I6,null)},wu,n.createElement(bn.DR,null,n.createElement(rl,null),n.createElement(ol,null),n.createElement(fs,null))),n.createElement(f.AW,{path:"/create",element:n.createElement(ci,{defaultPreviewTemplate:Uu,groups:[{title:"Recommended",filter:x=>{var Y,Se,je;return(je=(Se=(Y=x==null?void 0:x.metadata)==null?void 0:Y.tags)==null?void 0:Se.includes("recommended"))!=null?je:!1}}]})},n.createElement(va.mx,null,n.createElement(Fu,null))),n.createElement(f.AW,{path:"/explore",element:n.createElement(Ws,null)}),n.createElement(f.AW,{path:"/tech-radar",element:n.createElement(Di,{width:1500,height:800})}),n.createElement(f.AW,{path:"/graphiql",element:n.createElement(Ks,null)}),n.createElement(f.AW,{path:"/lighthouse",element:n.createElement(Uo,null)}),n.createElement(f.AW,{path:"/api-docs",element:n.createElement(Ee,null)}),n.createElement(f.AW,{path:"/gcp-projects",element:n.createElement(ja,null)}),n.createElement(f.AW,{path:"/newrelic",element:n.createElement(oi,null)}),n.createElement(f.AW,{path:"/search",element:n.createElement(Ca.Z9,null)},Wu),n.createElement(f.AW,{path:"/cost-insights",element:n.createElement(Rn,null)}),n.createElement(f.AW,{path:"/cost-insights/investigating-growth",element:n.createElement(Dn,null)}),n.createElement(f.AW,{path:"/cost-insights/labeling-jobs",element:n.createElement(nn,null)}),n.createElement(f.AW,{path:"/settings",element:n.createElement(sl,null)},n.createElement(cl.p,{path:"/advanced",title:"Advanced"},n.createElement(ml,null))),n.createElement(f.AW,{path:"/azure-pull-requests",element:n.createElement(pe,null)}),n.createElement(f.AW,{path:"/apache-airflow",element:n.createElement(Ku,null)})),Yu=()=>n.createElement(Hu,null,n.createElement(g.AlertDisplay,null),n.createElement(g.OAuthRequestDialog,null),n.createElement(Vu,null,n.createElement(Bu,null,Ju)));var Qu=(0,fl.w)(Yu);r.render(n.createElement(Qu,null),document.getElementById("root"))},90524:function(H,l,e){"use strict";e.d(l,{n3:function(){return d},MS:function(){return s},mk:function(){return a}});var t=e(48023),n=e(10179),r=e(96279),i=e.n(r);const d=Symbol.for("CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111");class s{constructor(o){Me(this,"discoveryApi");Me(this,"fetchApi");this.discoveryApi=o.discoveryApi,this.fetchApi=o.fetchApi||{fetch:i()}}async getEntityAncestors(o,g){const{kind:u,namespace:f,name:h}=(0,t.of)(o.entityRef);return await this.requestRequired("GET",`/entities/by-name/${encodeURIComponent(u)}/${encodeURIComponent(f)}/${encodeURIComponent(h)}/ancestry`,g)}async getLocationById(o,g){return await this.requestOptional("GET",`/locations/${encodeURIComponent(o)}`,g)}async getEntities(o,g){const{filter:u=[],fields:f=[],offset:h,limit:p,after:A}=o!=null?o:{},R=[];for(const S of[u].flat()){const T=[];for(const[P,I]of Object.entries(S))for(const Z of[I].flat())Z===d?T.push(encodeURIComponent(P)):typeof Z=="string"&&T.push(`${encodeURIComponent(P)}=${encodeURIComponent(Z)}`);T.length&&R.push(`filter=${T.join(",")}`)}f.length&&R.push(`fields=${f.map(encodeURIComponent).join(",")}`),h!==void 0&&R.push(`offset=${h}`),p!==void 0&&R.push(`limit=${p}`),A!==void 0&&R.push(`after=${encodeURIComponent(A)}`);const y=R.length?`?${R.join("&")}`:"",E=await this.requestRequired("GET",`/entities${y}`,g),C=(S,T)=>{var Z,L;if(((Z=S.metadata)==null?void 0:Z.name)===void 0||S.kind===void 0||((L=T.metadata)==null?void 0:L.name)===void 0||T.kind===void 0)return 0;const P=(0,t.eE)(S),I=(0,t.eE)(T);return P<I?-1:P>I?1:0};return{items:E.sort(C)}}async getEntityByRef(o,g){const{kind:u,namespace:f,name:h}=(0,t.of)(o);return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(u)}/${encodeURIComponent(f)}/${encodeURIComponent(h)}`,g)}async getEntityByName(o,g){const{kind:u,namespace:f="default",name:h}=o;return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(u)}/${encodeURIComponent(f)}/${encodeURIComponent(h)}`,g)}async refreshEntity(o,g){const u=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/refresh`,{headers:{"Content-Type":"application/json",...(g==null?void 0:g.token)&&{Authorization:`Bearer ${g==null?void 0:g.token}`}},method:"POST",body:JSON.stringify({entityRef:o})});if(u.status!==200)throw new Error(await u.text())}async getEntityFacets(o,g){const{filter:u=[],facets:f}=o,h=[];for(const A of[u].flat()){const R=[];for(const[y,E]of Object.entries(A))for(const C of[E].flat())C===d?R.push(encodeURIComponent(y)):typeof C=="string"&&R.push(`${encodeURIComponent(y)}=${encodeURIComponent(C)}`);R.length&&h.push(`filter=${R.join(",")}`)}for(const A of f)h.push(`facet=${encodeURIComponent(A)}`);const p=h.length?`?${h.join("&")}`:"";return await this.requestOptional("GET",`/entity-facets${p}`,g)}async addLocation({type:o="url",target:g,dryRun:u},f){const h=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/locations${u?"?dryRun=true":""}`,{headers:{"Content-Type":"application/json",...(f==null?void 0:f.token)&&{Authorization:`Bearer ${f==null?void 0:f.token}`}},method:"POST",body:JSON.stringify({type:o,target:g})});if(h.status!==201)throw new Error(await h.text());const{location:p,entities:A,exists:R}=await h.json();if(!p)throw new Error(`Location wasn't added: ${g}`);return{location:p,entities:A,exists:R}}async getLocationByRef(o,g){return(await this.requestRequired("GET","/locations",g)).map(f=>f.data).find(f=>o===(0,t.NZ)(f))}async removeLocationById(o,g){await this.requestIgnored("DELETE",`/locations/${encodeURIComponent(o)}`,g)}async removeEntityByUid(o,g){await this.requestIgnored("DELETE",`/entities/by-uid/${encodeURIComponent(o)}`,g)}async requestIgnored(o,g,u){const f=`${await this.discoveryApi.getBaseUrl("catalog")}${g}`,h=u!=null&&u.token?{Authorization:`Bearer ${u.token}`}:{},p=await this.fetchApi.fetch(f,{method:o,headers:h});if(!p.ok)throw await n.VL.fromResponse(p)}async requestRequired(o,g,u){const f=`${await this.discoveryApi.getBaseUrl("catalog")}${g}`,h=u!=null&&u.token?{Authorization:`Bearer ${u.token}`}:{},p=await this.fetchApi.fetch(f,{method:o,headers:h});if(!p.ok)throw await n.VL.fromResponse(p);return await p.json()}async requestOptional(o,g,u){const f=`${await this.discoveryApi.getBaseUrl("catalog")}${g}`,h=u!=null&&u.token?{Authorization:`Bearer ${u.token}`}:{},p=await this.fetchApi.fetch(f,{method:o,headers:h});if(!p.ok){if(p.status===404)return;throw await n.VL.fromResponse(p)}return await p.json()}}const a="backstage.io/catalog-processing"},48023:function(H,l,e){"use strict";e.d(l,{Tf:function(){return r},P1:function(){return Ge},q1:function(){return Ve},M6:function(){return ut},l2:function(){return n},zG:function(){return t},y$:function(){return I},X9:function(){return fe},Zj:function(){return k},wP:function(){return W},Dg:function(){return Q},w$:function(){return F},nP:function(){return b},KS:function(){return Ce},aS:function(){return Re},hr:function(){return Ee},S4:function(){return X},$1:function(){return z},_b:function(){return N},cz:function(){return te},M_:function(){return q},iB:function(){return V},CV:function(){return Le},In:function(){return L},of:function(){return G},Ou:function(){return nt},eE:function(){return M},NZ:function(){return At}});const t="default",n="backstage.io/view-url",r="backstage.io/edit-url";var i=e(76635),d=e.n(i);class s{constructor(pe=DEFAULT_NAMESPACE){Me(this,"namespace");this.namespace=pe}async enforce(pe){return pe.metadata.namespace?pe:lodash.merge({metadata:{namespace:this.namespace}},pe)}}class a{static isValidPrefixAndOrSuffix(pe,Be,ot,at){if(typeof pe!="string")return!1;const ke=pe.split(Be);return ke.length===1?at(ke[0]):ke.length===2?ot(ke[0])&&at(ke[1]):!1}static isJsonSafe(pe){try{return d().isEqual(pe,JSON.parse(JSON.stringify(pe)))}catch{return!1}}static isValidDnsSubdomain(pe){return typeof pe=="string"&&pe.length>=1&&pe.length<=253&&pe.split(".").every(a.isValidDnsLabel)}static isValidDnsLabel(pe){return typeof pe=="string"&&pe.length>=1&&pe.length<=63&&/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(pe)}static isValidTag(pe){return typeof pe=="string"&&pe.length>=1&&pe.length<=63&&/^[a-z0-9+#]+(\-[a-z0-9+#]+)*$/.test(pe)}static isValidUrl(pe){if(typeof pe!="string")return!1;try{return new URL(pe),!0}catch{return!1}}static isValidString(pe){var Be;return typeof pe=="string"&&((Be=pe==null?void 0:pe.trim())==null?void 0:Be.length)>=1}static isNonEmptyString(pe){var Be;return typeof pe=="string"&&((Be=pe==null?void 0:pe.trim())==null?void 0:Be.length)>=1}}var c=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"EntityEnvelope","description":"The envelope skeleton parts of an entity - whatever is necessary to be able to give it a ref and pass to further validation / policy checking.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"Component","metadata":{"name":"LoremService"}}],"type":"object","required":["apiVersion","kind","metadata"],"additionalProperties":true,"properties":{"apiVersion":{"type":"string","description":"The version of specification format for this particular entity that this is written against.","minLength":1,"examples":["backstage.io/v1alpha1","my-company.net/v1","1.0"]},"kind":{"type":"string","description":"The high level entity type being described.","minLength":1,"examples":["API","Component","Domain","Group","Location","Resource","System","Template","User"]},"metadata":{"type":"object","required":["name"],"additionalProperties":true,"properties":{"name":{"type":"string","description":"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.","examples":["metadata-proxy"],"minLength":1},"namespace":{"type":"string","description":"The namespace that the entity belongs to.","default":"default","examples":["default","admin"],"minLength":1}}}}}'),o=e(48231),g=e.n(o),u=JSON.parse(`{"$schema":"http://json-schema.org/draft-07/schema","$id":"Entity","description":"The parts of the format that's common to all versions/kinds of entity.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"Component","metadata":{"name":"LoremService","description":"Creates Lorems like a pro.","labels":{"product_name":"Random value Generator"},"annotations":{"docs":"https://github.com/..../tree/develop/doc"}},"spec":{"type":"service","lifecycle":"production","owner":"tools"}}],"type":"object","required":["apiVersion","kind","metadata"],"additionalProperties":false,"properties":{"apiVersion":{"type":"string","description":"The version of specification format for this particular entity that this is written against.","minLength":1,"examples":["backstage.io/v1alpha1","my-company.net/v1","1.0"]},"kind":{"type":"string","description":"The high level entity type being described.","minLength":1,"examples":["API","Component","Domain","Group","Location","Resource","System","Template","User"]},"metadata":{"$ref":"EntityMeta"},"spec":{"type":"object","description":"The specification data describing the entity itself."},"relations":{"type":"array","description":"The relations that this entity has with other entities.","items":{"$ref":"common#relation"}},"status":{"$ref":"common#status"}}}`),f=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"EntityMeta","description":"Metadata fields common to all versions/kinds of entity.","examples":[{"uid":"e01199ab-08cc-44c2-8e19-5c29ded82521","etag":"lsndfkjsndfkjnsdfkjnsd==","name":"my-component-yay","namespace":"the-namespace","labels":{"backstage.io/custom":"ValueStuff"},"annotations":{"example.com/bindings":"are-secret"},"tags":["java","data"]}],"type":"object","required":["name"],"additionalProperties":true,"properties":{"uid":{"type":"string","description":"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.","examples":["e01199ab-08cc-44c2-8e19-5c29ded82521"],"minLength":1},"etag":{"type":"string","description":"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.","examples":["lsndfkjsndfkjnsdfkjnsd=="],"minLength":1},"name":{"type":"string","description":"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.","examples":["metadata-proxy"],"minLength":1},"namespace":{"type":"string","description":"The namespace that the entity belongs to.","default":"default","examples":["default","admin"],"minLength":1},"title":{"type":"string","description":"A display name of the entity, to be presented in user interfaces instead of the name property, when available.","examples":["React SSR Template"],"minLength":1},"description":{"type":"string","description":"A short (typically relatively few words, on one line) description of the entity."},"labels":{"type":"object","description":"Key/value pairs of identifying information attached to the entity.","additionalProperties":true,"patternProperties":{"^.+$":{"type":"string"}}},"annotations":{"type":"object","description":"Key/value pairs of non-identifying auxiliary information attached to the entity.","additionalProperties":true,"patternProperties":{"^.+$":{"type":"string"}}},"tags":{"type":"array","description":"A list of single-valued strings, to for example classify catalog entities in various ways.","items":{"type":"string","minLength":1}},"links":{"type":"array","description":"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.","items":{"type":"object","required":["url"],"properties":{"url":{"type":"string","description":"A url in a standard uri format.","examples":["https://admin.example-org.com"],"minLength":1},"title":{"type":"string","description":"A user friendly display name for the link.","examples":["Admin Dashboard"],"minLength":1},"icon":{"type":"string","description":"A key representing a visual icon to be displayed in the UI.","examples":["dashboard"],"minLength":1}}}}}}'),h=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"common","type":"object","description":"Common definitions to import from other schemas","definitions":{"reference":{"$id":"#reference","type":"object","description":"A reference by name to another entity.","required":["kind","namespace","name"],"additionalProperties":false,"properties":{"kind":{"type":"string","description":"The kind field of the entity.","minLength":1},"namespace":{"type":"string","description":"The metadata.namespace field of the entity.","minLength":1},"name":{"type":"string","description":"The metadata.name field of the entity.","minLength":1}}},"relation":{"$id":"#relation","type":"object","description":"A directed relation from one entity to another.","required":["type","target"],"additionalProperties":false,"properties":{"type":{"type":"string","minLength":1,"pattern":"^\\\\w+$","description":"The type of relation."},"target":{"$ref":"#reference"},"targetRef":{"type":"string","minLength":1,"description":"The entity ref of the target of this relation."}}},"status":{"$id":"#status","type":"object","description":"The current status of the entity, as claimed by various sources.","required":[],"additionalProperties":true,"properties":{"items":{"type":"array","items":{"$ref":"#statusItem"}}}},"statusItem":{"$id":"#statusItem","type":"object","description":"A specific status item on a well known format.","required":["type","level","message"],"additionalProperties":true,"properties":{"type":{"type":"string","minLength":1},"level":{"$ref":"#statusLevel","description":"The status level / severity of the status item."},"message":{"type":"string","description":"A brief message describing the status, intended for human consumption."},"error":{"$ref":"#error","description":"An optional serialized error object related to the status."}}},"statusLevel":{"$id":"#statusLevel","type":"string","description":"A status level / severity.","enum":["info","warning","error"]},"error":{"$id":"#error","type":"object","description":"A serialized error object.","required":["name","message"],"additionalProperties":true,"properties":{"name":{"type":"string","examples":["Error","InputError"],"description":"The type name of the error","minLength":1},"message":{"type":"string","description":"The message of the error"},"code":{"type":"string","description":"An error code associated with the error"},"stack":{"type":"string","description":"An error stack trace"}}}}}');const p=new Map,A=[c,u,f,h];function R(Te){if(!(Te!=null&&Te.length))throw new TypeError("Unknown error");const pe=Te[0];throw new TypeError(`${pe.instancePath||"<root>"} ${pe.message}${pe.params?` - ${Object.entries(pe.params).map(([Be,ot])=>`${Be}: ${ot}`).join(", ")}`:""}`)}function y(Te,pe={}){var $e;const Be=($e=pe==null?void 0:pe.disableCache)!=null?$e:!1,ot=Be?"":JSON.stringify(Te);if(!Be){const Wt=p.get(ot);if(Wt)return Wt}const at=E(Te),ke=new(g())({allowUnionTypes:!0,allErrors:!0,validateSchema:!0});at.length&&ke.addSchema(at,void 0,void 0,!0);const Zt=ke.compile(Te);return Be||p.set(ot,Zt),Zt}function E(Te){if(typeof Te!="object")return[];const pe=new Set;Te.$id&&pe.add(Te.$id);const Be=new Array,ot=[Te];for(;ot.length;){const at=ot.pop();for(const ke of C(at))if(!pe.has(ke)){pe.add(ke);const Zt=A.find($e=>$e.$id===ke);Zt&&(Be.push(Zt),ot.push(Zt))}}return Be}function*C(Te){const pe=[Te];for(;pe.length;){const Be=pe.pop();if(typeof Be=="object"&&Be)for(const[ot,at]of Object.entries(Be))ot==="$ref"&&typeof at=="string"?yield at.split("#")[0]:pe.push(at)}}function S(Te){const pe=compileAjvSchema(Te||entityEnvelopeSchema);return Be=>{if(pe(Be)===!0)return Be;throw throwAjvError(pe.errors)}}function T(Te){const pe=y(Te);return Be=>{var ke;if(pe(Be)===!0)return Be;const at=(ke=pe.errors)==null?void 0:ke.filter(Zt=>["/kind","/apiVersion"].includes(Zt.instancePath));if((at==null?void 0:at.length)&&at.every(Zt=>Zt.keyword==="enum"))return!1;throw R(pe.errors)}}function P(Te){const pe=compileAjvSchema(Te||entitySchema);return Be=>{if(pe(Be)===!0)return Be;throw throwAjvError(pe.errors)}}class I{static isValidApiVersion(pe){return a.isValidPrefixAndOrSuffix(pe,"/",a.isValidDnsSubdomain,Be=>Be.length>=1&&Be.length<=63&&/^[a-z0-9A-Z]+$/.test(Be))}static isValidKind(pe){return typeof pe=="string"&&pe.length>=1&&pe.length<=63&&/^[a-zA-Z][a-z0-9A-Z]*$/.test(pe)}static isValidObjectName(pe){return typeof pe=="string"&&pe.length>=1&&pe.length<=63&&/^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(pe)}static isValidNamespace(pe){return a.isValidDnsLabel(pe)}static isValidLabelKey(pe){return a.isValidPrefixAndOrSuffix(pe,"/",a.isValidDnsSubdomain,I.isValidObjectName)}static isValidLabelValue(pe){return pe===""||I.isValidObjectName(pe)}static isValidAnnotationKey(pe){return a.isValidPrefixAndOrSuffix(pe,"/",a.isValidDnsSubdomain,I.isValidObjectName)}static isValidAnnotationValue(pe){return typeof pe=="string"}}const Z={isValidApiVersion:I.isValidApiVersion,isValidKind:I.isValidKind,isValidEntityName:I.isValidObjectName,isValidNamespace:I.isValidNamespace,isValidLabelKey:I.isValidLabelKey,isValidLabelValue:I.isValidLabelValue,isValidAnnotationKey:I.isValidAnnotationKey,isValidAnnotationValue:I.isValidAnnotationValue,isValidTag:Te=>typeof Te=="string"&&Te.length>=1&&Te.length<=63&&/^[a-z0-9:+#]+(\-[a-z0-9:+#]+)*$/.test(Te)};function L(Te={}){return{...Z,...Te}}class D{constructor(pe=makeValidator()){Me(this,"validators");this.validators=pe}async enforce(pe){var Zt,$e,Wt,Kt,Qe,tt,Tt;function Be(he,Ne,_e){if(Ne==null)throw new Error(`${he} must have a value`);let rt;try{rt=_e(Ne)}catch(it){throw new Error(`${he} could not be validated, ${it}`)}if(!rt){let it;switch(_e.name){case"isValidLabelValue":case"isValidObjectName":it="a string that is sequences of [a-zA-Z0-9] separated by any of [-_.], at most 63 characters in total";break;case"isValidLabelKey":case"isValidApiVersion":case"isValidAnnotationKey":it="a valid prefix and/or suffix";break;case"isValidNamespace":case"isValidDnsLabel":it="a string that is sequences of [a-z0-9] separated by [-], at most 63 characters in total";break;case"isValidTag":it="a string that is sequences of [a-z0-9+#] separated by [-], at most 63 characters in total";break;case"isValidAnnotationValue":it="a string";break;case"isValidKind":it="a string that is a sequence of [a-zA-Z][a-z0-9A-Z], at most 63 characters in total";break;case"isValidUrl":it="a string that is a valid url";break;case"isValidString":case"isNonEmptyString":it="a non empty string";break;default:it=void 0;break}const gt=it?` expected ${it} but found "${Ne}".`:"";throw new Error(`"${he}" is not valid;${gt} To learn more about catalog file format, visit: https://github.com/backstage/backstage/blob/master/docs/architecture-decisions/adr002-default-catalog-file-format.md`)}}function ot(he,Ne,_e){return Ne===void 0||Be(he,Ne,_e)}Be("apiVersion",pe.apiVersion,this.validators.isValidApiVersion),Be("kind",pe.kind,this.validators.isValidKind),Be("metadata.name",pe.metadata.name,this.validators.isValidEntityName),ot("metadata.namespace",pe.metadata.namespace,this.validators.isValidNamespace);for(const[he,Ne]of Object.entries((Zt=pe.metadata.labels)!=null?Zt:[]))Be(`labels.${he}`,he,this.validators.isValidLabelKey),Be(`labels.${he}`,Ne,this.validators.isValidLabelValue);for(const[he,Ne]of Object.entries(($e=pe.metadata.annotations)!=null?$e:[]))Be(`annotations.${he}`,he,this.validators.isValidAnnotationKey),Be(`annotations.${he}`,Ne,this.validators.isValidAnnotationValue);const at=(Wt=pe.metadata.tags)!=null?Wt:[];for(let he=0;he<at.length;++he)Be(`tags.${he}`,at[he],this.validators.isValidTag);const ke=(Kt=pe.metadata.links)!=null?Kt:[];for(let he=0;he<ke.length;++he)Be(`links.${he}.url`,(Qe=ke[he])==null?void 0:Qe.url,CommonValidatorFunctions.isValidUrl),ot(`links.${he}.title`,(tt=ke[he])==null?void 0:tt.title,CommonValidatorFunctions.isNonEmptyString),ot(`links.${he}.icon`,(Tt=ke[he])==null?void 0:Tt.icon,KubernetesValidatorFunctions.isValidObjectName);return pe}}class B{constructor(){Me(this,"validate")}async enforce(pe){if(!this.validate){const at=new Ajv({allowUnionTypes:!0});this.validate=at.addSchema([commonSchema,entityMetaSchema],void 0,void 0,!0).compile(entitySchema)}if(this.validate(pe)===!0)return pe;const[ot]=this.validate.errors||[];throw ot?new Error(`Malformed envelope, ${ot.instancePath||"<root>"} ${ot.message}`):new Error("Malformed envelope, Unknown error")}}function w(Te){let pe=Te.indexOf(":");const Be=Te.indexOf("/");Be!==-1&&Be<pe&&(pe=-1);const ot=pe===-1?void 0:Te.slice(0,pe),at=Be===-1?void 0:Te.slice(pe+1,Be),ke=Te.slice(Math.max(pe+1,Be+1));if(ot===""||at===""||ke==="")throw new TypeError(`Entity reference "${Te}" was not on the form [<kind>:][<namespace>/]<name>`);return{kind:ot,namespace:at,name:ke}}function V(Te){return{kind:Te.kind,namespace:Te.metadata.namespace||t,name:Te.metadata.name}}function G(Te,pe){var $e,Wt,Kt,Qe;if(!Te)throw new Error("Entity reference must not be empty");const Be=pe==null?void 0:pe.defaultKind,ot=(pe==null?void 0:pe.defaultNamespace)||t;let at,ke,Zt;if(typeof Te=="string"){const tt=w(Te);at=($e=tt.kind)!=null?$e:Be,ke=(Wt=tt.namespace)!=null?Wt:ot,Zt=tt.name}else at=(Kt=Te.kind)!=null?Kt:Be,ke=(Qe=Te.namespace)!=null?Qe:ot,Zt=Te.name;if(at)if(ke){if(!Zt){const tt=JSON.stringify(Te);throw new Error(`Entity reference ${tt} had missing or empty name`)}}else{const tt=JSON.stringify(Te);throw new Error(`Entity reference ${tt} had missing or empty namespace`)}else{const tt=JSON.stringify(Te);throw new Error(`Entity reference ${tt} had missing or empty kind (e.g. did not start with "component:" or similar)`)}return{kind:at,namespace:ke,name:Zt}}function M(Te){var at,ke;let pe,Be,ot;return"metadata"in Te?(pe=Te.kind,Be=(at=Te.metadata.namespace)!=null?at:t,ot=Te.metadata.name):(pe=Te.kind,Be=(ke=Te.namespace)!=null?ke:t,ot=Te.name),`${pe.toLocaleLowerCase("en-US")}:${Be.toLocaleLowerCase("en-US")}/${ot.toLocaleLowerCase("en-US")}`}class ce{constructor(pe){this.policies=pe}async enforce(pe){let Be=pe;for(const ot of this.policies){const at=await ot.enforce(Be);if(!at)throw new Error(`Policy ${ot.constructor.name} did not return a result`);Be=at}return Be}}class ue{constructor(pe){this.policies=pe}async enforce(pe){for(const Be of this.policies){const ot=await Be.enforce(pe);if(ot)return ot}throw new Error("The entity did not match any known policy")}}const le={allOf(Te){return new ce(Te)},oneOf(Te){return new ue(Te)}};var me=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"ApiV1alpha1","description":"An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"API","metadata":{"name":"artist-api","description":"Retrieve artist details","labels":{"product_name":"Random value Generator"},"annotations":{"docs":"https://github.com/..../tree/develop/doc"}},"spec":{"type":"openapi","lifecycle":"production","owner":"artist-relations-team","system":"artist-engagement-portal","definition":"openapi: \\"3.0.0\\"\\ninfo:..."}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["API"]},"spec":{"type":"object","required":["type","lifecycle","owner","definition"],"properties":{"type":{"type":"string","description":"The type of the API definition.","examples":["openapi","asyncapi","graphql","grpc"],"minLength":1},"lifecycle":{"type":"string","description":"The lifecycle state of the API.","examples":["experimental","production","deprecated"],"minLength":1},"owner":{"type":"string","description":"An entity reference to the owner of the API.","examples":["artist-relations-team","user:john.johnson"],"minLength":1},"system":{"type":"string","description":"An entity reference to the system that the API belongs to.","minLength":1},"definition":{"type":"string","description":"The definition of the API, based on the format defined by the type.","minLength":1}}}}}]}');function ge(Te){const pe=T(Te);return{async check(Be){return pe(Be)===Be}}}const Ae=ge(me);var ee=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"ComponentV1alpha1","description":"A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a \\"unit of software\\", usually with a distinct deployable or linkable artifact.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"Component","metadata":{"name":"LoremService","description":"Creates Lorems like a pro.","labels":{"product_name":"Random value Generator"},"annotations":{"docs":"https://github.com/..../tree/develop/doc"}},"spec":{"type":"service","lifecycle":"production","owner":"tools"}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["Component"]},"spec":{"type":"object","required":["type","lifecycle","owner"],"properties":{"type":{"type":"string","description":"The type of component.","examples":["service","website","library"],"minLength":1},"lifecycle":{"type":"string","description":"The lifecycle state of the component.","examples":["experimental","production","deprecated"],"minLength":1},"owner":{"type":"string","description":"An entity reference to the owner of the component.","examples":["artist-relations-team","user:john.johnson"],"minLength":1},"system":{"type":"string","description":"An entity reference to the system that the component belongs to.","minLength":1},"subcomponentOf":{"type":"string","description":"An entity reference to another component of which the component is a part.","minLength":1},"providesApis":{"type":"array","description":"An array of entity references to the APIs that are provided by the component.","items":{"type":"string","minLength":1}},"consumesApis":{"type":"array","description":"An array of entity references to the APIs that are consumed by the component.","items":{"type":"string","minLength":1}},"dependsOn":{"type":"array","description":"An array of references to other entities that the component depends on to function.","items":{"type":"string","minLength":1}}}}}}]}');const Ie=ge(ee);var re=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"DomainV1alpha1","description":"A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"Domain","metadata":{"name":"artists","description":"Everything about artists"},"spec":{"owner":"artist-relations-team"}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["Domain"]},"spec":{"type":"object","required":["owner"],"properties":{"owner":{"type":"string","description":"An entity reference to the owner of the component.","examples":["artist-relations-team","user:john.johnson"],"minLength":1}}}}}]}');const ne=ge(re);var _=JSON.parse(`{"$schema":"http://json-schema.org/draft-07/schema","$id":"GroupV1alpha1","description":"A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"Group","metadata":{"name":"infrastructure","description":"The infra business unit"},"spec":{"type":"business-unit","profile":{"displayName":"Infrastructure","email":"infrastructure@example.com","picture":"https://example.com/groups/bu-infrastructure.jpeg"},"parent":"ops","children":["backstage","other"]}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["Group"]},"spec":{"type":"object","required":["type","children"],"properties":{"type":{"type":"string","description":"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.","examples":["team","business-unit","product-area","root"],"minLength":1},"profile":{"type":"object","description":"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.","properties":{"displayName":{"type":"string","description":"A simple display name to present to users.","examples":["Infrastructure"],"minLength":1},"email":{"type":"string","description":"An email where this entity can be reached.","examples":["infrastructure@example.com"],"minLength":1},"picture":{"type":"string","description":"The URL of an image that represents this entity.","examples":["https://example.com/groups/bu-infrastructure.jpeg"],"minLength":1}}},"parent":{"type":"string","description":"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.","examples":["ops"],"minLength":1},"children":{"type":"array","description":"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.","items":{"type":"string","examples":["backstage","other"],"minLength":1}},"members":{"type":"array","description":"The users that are members of this group. The entries of this array are entity references.","items":{"type":"string","examples":["jdoe"],"minLength":1}}}}}}]}`);const se=ge(_);var j=JSON.parse(`{"$schema":"http://json-schema.org/draft-07/schema","$id":"LocationV1alpha1","description":"A location is a marker that references other places to look for catalog data.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"Location","metadata":{"name":"org-data"},"spec":{"type":"url","targets":["http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml"]}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["Location"]},"spec":{"type":"object","required":[],"properties":{"type":{"type":"string","description":"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.","examples":["url"],"minLength":1},"target":{"type":"string","description":"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.","examples":["./details/catalog-info.yaml"],"minLength":1},"targets":{"type":"array","description":"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.","items":{"type":"string","examples":["./details/catalog-info.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml"],"minLength":1}},"presence":{"type":"string","description":"Whether the presence of the location target is required and it should be considered an error if it can not be found","default":"required","examples":["required"],"enum":["required","optional"]}}}}}]}`);const ae=ge(j),X="ownedBy",z="ownerOf",Q="consumesApi",fe="apiConsumedBy",q="providesApi",k="apiProvidedBy",b="dependsOn",F="dependencyOf",N="parentOf",W="childOf",Ee="memberOf",Ce="hasMember",te="partOf",Re="hasPart";var $=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"ResourceV1alpha1","description":"A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"Resource","metadata":{"name":"artists-db","description":"Stores artist details"},"spec":{"type":"database","owner":"artist-relations-team","system":"artist-engagement-portal"}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["Resource"]},"spec":{"type":"object","required":["type","owner"],"properties":{"type":{"type":"string","description":"The type of resource.","examples":["database","s3-bucket","cluster"],"minLength":1},"owner":{"type":"string","description":"An entity reference to the owner of the resource.","examples":["artist-relations-team","user:john.johnson"],"minLength":1},"dependsOn":{"type":"array","description":"An array of references to other entities that the resource depends on to function.","items":{"type":"string","minLength":1}},"system":{"type":"string","description":"An entity reference to the system that the resource belongs to.","minLength":1}}}}}]}');const ie=ge($);var de=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"SystemV1alpha1","description":"A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"System","metadata":{"name":"artist-engagement-portal","description":"Handy tools to keep artists in the loop"},"spec":{"owner":"artist-relations-team","domain":"artists"}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["System"]},"spec":{"type":"object","required":["owner"],"properties":{"owner":{"type":"string","description":"An entity reference to the owner of the component.","examples":["artist-relations-team","user:john.johnson"],"minLength":1},"domain":{"type":"string","description":"An entity reference to the domain that the system belongs to.","examples":["artists"],"minLength":1}}}}}]}');const Pe=ge(de);var He=JSON.parse(`{"$schema":"http://json-schema.org/draft-07/schema","$id":"UserV1alpha1","description":"A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.","examples":[{"apiVersion":"backstage.io/v1alpha1","kind":"User","metadata":{"name":"jdoe"},"spec":{"profile":{"displayName":"Jenny Doe","email":"jenny-doe@example.com","picture":"https://example.com/staff/jenny-with-party-hat.jpeg"},"memberOf":["team-b","employees"]}}],"allOf":[{"$ref":"Entity"},{"type":"object","required":["spec"],"properties":{"apiVersion":{"enum":["backstage.io/v1alpha1","backstage.io/v1beta1"]},"kind":{"enum":["User"]},"spec":{"type":"object","required":["memberOf"],"properties":{"profile":{"type":"object","description":"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.","properties":{"displayName":{"type":"string","description":"A simple display name to present to users.","examples":["Jenny Doe"],"minLength":1},"email":{"type":"string","description":"An email where this user can be reached.","examples":["jenny-doe@example.com"],"minLength":1},"picture":{"type":"string","description":"The URL of an image that represents this user.","examples":["https://example.com/staff/jenny-with-party-hat.jpeg"],"minLength":1}}},"memberOf":{"type":"array","description":"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.","items":{"type":"string","examples":["team-b","employees"],"minLength":1}}}}}}]}`);const We=ge(He),Ge="backstage.io/managed-by-location",Ve="backstage.io/managed-by-origin-location",ut="backstage.io/source-location";function nt(Te){if(typeof Te!="string")throw new TypeError(`Unable to parse location ref '${Te}', unexpected argument ${typeof Te}`);const pe=Te.indexOf(":");if(pe<0)throw new TypeError(`Unable to parse location ref '${Te}', expected '<type>:<target>', e.g. 'url:https://host/path'`);const Be=Te.substring(0,pe).trim(),ot=Te.substring(pe+1).trim();if(!Be||!ot)throw new TypeError(`Unable to parse location ref '${Te}', expected '<type>:<target>', e.g. 'url:https://host/path'`);if(Be==="http"||Be==="https")throw new TypeError(`Invalid location ref '${Te}', please prefix it with 'url:', e.g. 'url:${Te}'`);return{type:Be,target:ot}}function At(Te){const{type:pe,target:Be}=Te;if(pe){if(!Be)throw new TypeError("Unable to stringify location ref, empty target")}else throw new TypeError("Unable to stringify location ref, empty type");return`${pe}:${Be}`}function Le(Te){var Be,ot,at,ke,Zt;const pe=(Zt=(ot=(Be=Te.metadata)==null?void 0:Be.annotations)==null?void 0:ot[ut])!=null?Zt:(ke=(at=Te.metadata)==null?void 0:at.annotations)==null?void 0:ke[Ge];if(!pe)throw new Error(`Entity '${M(Te)}' is missing location`);return nt(pe)}},23235:function(H,l,e){"use strict";e.d(l,{C:function(){return n}});var t=e(98005);class n{constructor(){Me(this,"subject",new t.J)}post(i){this.subject.next(i)}alert$(){return this.subject}}},47150:function(H,l,e){"use strict";e.d(l,{g:function(){return t}});class t{captureEvent(r){}}},58652:function(H,l,e){"use strict";e.d(l,{C:function(){return r}});var t=e(98005);const n="theme";class r{constructor(d){Me(this,"activeThemeId");Me(this,"subject",new t.X(void 0));this.themes=d}static createWithStorage(d){var c;const s=new r(d);if(!window.localStorage)return s;const a=(c=window.localStorage.getItem(n))!=null?c:void 0;return s.setActiveThemeId(a),s.activeThemeId$().subscribe(o=>{o?window.localStorage.setItem(n,o):window.localStorage.removeItem(n)}),window.addEventListener("storage",o=>{var g;if(o.key===n){const u=(g=localStorage.getItem(n))!=null?g:void 0;s.setActiveThemeId(u)}}),s}getInstalledThemes(){return this.themes.slice()}activeThemeId$(){return this.subject}getActiveThemeId(){return this.activeThemeId}setActiveThemeId(d){this.activeThemeId=d,this.subject.next(d)}}},14721:function(H,l,e){"use strict";e.d(l,{m:function(){return o}});var t=e(9850),n=e.n(t),r=e(12782),i=e.n(r);const d=/^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;function s(g){return typeof g=="object"&&g!==null&&!Array.isArray(g)}function a(g){if(g===null)return"null";if(Array.isArray(g))return"array";const u=typeof g;return u==="number"&&isNaN(g)?"nan":u==="string"&&g===""?"empty-string":u}const c={type(g,u,f,h){return`Invalid type in config for key '${g}' in '${u}', got ${f}, wanted ${h}`},missing(g){return`Missing required config value at '${g}'`},convert(g,u,f){return`Unable to convert config value for key '${g}' in '${u}' to a ${f}`}};class o{constructor(u,f="mock-config",h,p=""){Me(this,"filteredKeys");Me(this,"notifiedFilteredKeys",new Set);this.data=u,this.context=f,this.fallback=h,this.prefix=p}static fromConfigs(u){return u.length===0?new o(void 0):u.reduce((f,{data:h,context:p,filteredKeys:A,deprecatedKeys:R})=>{const y=new o(h,p,f);if(y.filteredKeys=A,R)for(const{key:E,description:C}of R)console.warn(`The configuration key '${E}' of ${p} is deprecated and may be removed soon. ${C||""}`);return y},void 0)}has(u){var h,p;return this.readValue(u)!==void 0?!0:(p=(h=this.fallback)==null?void 0:h.has(u))!=null?p:!1}keys(){var h,p;const u=this.data?Object.keys(this.data):[],f=(p=(h=this.fallback)==null?void 0:h.keys())!=null?p:[];return[...new Set([...u,...f])]}get(u){const f=this.getOptional(u);if(f===void 0)throw new Error(c.missing(this.fullKey(u!=null?u:"")));return f}getOptional(u){var p;const f=n()(this.readValue(u)),h=(p=this.fallback)==null?void 0:p.getOptional(u);return f===void 0?h:h===void 0?f:i()({},{value:h},{value:f},(A,R)=>!s(R)||!s(A)?R:void 0).value}getConfig(u){const f=this.getOptionalConfig(u);if(f===void 0)throw new Error(c.missing(this.fullKey(u)));return f}getOptionalConfig(u){var p;const f=this.readValue(u),h=(p=this.fallback)==null?void 0:p.getOptionalConfig(u);if(s(f))return this.copy(f,u,h);if(f!==void 0)throw new TypeError(c.type(this.fullKey(u),this.context,a(f),"object"));return h}getConfigArray(u){const f=this.getOptionalConfigArray(u);if(f===void 0)throw new Error(c.missing(this.fullKey(u)));return f}getOptionalConfigArray(u){const f=this.readConfigValue(u,h=>{if(!Array.isArray(h))return{expected:"object-array"};for(const[p,A]of h.entries())if(!s(A))return{expected:"object-array",value:A,key:`${u}[${p}]`};return!0});if(!!f)return f.map((h,p)=>this.copy(h,`${u}[${p}]`))}getNumber(u){const f=this.getOptionalNumber(u);if(f===void 0)throw new Error(c.missing(this.fullKey(u)));return f}getOptionalNumber(u){const f=this.readConfigValue(u,p=>typeof p=="number"||typeof p=="string"||{expected:"number"});if(typeof f=="number"||f===void 0)return f;const h=Number(f);if(!Number.isFinite(h))throw new Error(c.convert(this.fullKey(u),this.context,"number"));return h}getBoolean(u){const f=this.getOptionalBoolean(u);if(f===void 0)throw new Error(c.missing(this.fullKey(u)));return f}getOptionalBoolean(u){return this.readConfigValue(u,f=>typeof f=="boolean"||{expected:"boolean"})}getString(u){const f=this.getOptionalString(u);if(f===void 0)throw new Error(c.missing(this.fullKey(u)));return f}getOptionalString(u){return this.readConfigValue(u,f=>typeof f=="string"&&f!==""||{expected:"string"})}getStringArray(u){const f=this.getOptionalStringArray(u);if(f===void 0)throw new Error(c.missing(this.fullKey(u)));return f}getOptionalStringArray(u){return this.readConfigValue(u,f=>{if(!Array.isArray(f))return{expected:"string-array"};for(const[h,p]of f.entries())if(typeof p!="string"||p==="")return{expected:"string-array",value:p,key:`${u}[${h}]`};return!0})}fullKey(u){return`${this.prefix}${this.prefix?".":""}${u}`}copy(u,f,h){const p=new o(u,this.context,h,this.fullKey(f));return p.filteredKeys=this.filteredKeys,p}readConfigValue(u,f){var A;const h=this.readValue(u);if(h===void 0)return(A=this.fallback)==null?void 0:A.readConfigValue(u,f);const p=f(h);if(p!==!0){const{key:R=u,value:y=h,expected:E}=p;throw new TypeError(c.type(this.fullKey(R),this.context,a(y),E))}return h}readValue(u){const f=u?u.split("."):[];for(const p of f)if(!d.test(p))throw new TypeError(`Invalid config key '${u}'`);if(this.data===void 0)return;let h=this.data;for(const[p,A]of f.entries())if(s(h))h=h[A];else if(h!==void 0){const R=this.fullKey(f.slice(0,p).join("."));throw new TypeError(c.type(R,this.context,a(h),"object"))}return h}}},4333:function(H,l,e){"use strict";e.d(l,{p:function(){return n}});const t="Invalid discovery URL pattern,";class n{static compile(i){const d=i.split(/\{\{\s*pluginId\s*\}\}/),s=d.join("pluginId");let a;try{a=new URL(s)}catch{throw new Error(`${t} URL '${s}' is invalid`)}if(a.hash)throw new Error(`${t} URL must not have a hash`);if(a.search)throw new Error(`${t} URL must not have a query`);if(s.endsWith("/"))throw new Error(`${t} URL must not end with a slash`);return new n(d)}constructor(i){this.parts=i}async getBaseUrl(i){return this.parts.join(i)}}},89536:function(H,l,e){"use strict";e.d(l,{KN:function(){return t},gr:function(){return r},Jv:function(){return i}});class t{constructor(s,a){this.alertApi=s,this.errorApi=a}post(s,a){return a!=null&&a.hidden||this.alertApi.post({message:s.message,severity:"error"}),this.errorApi.post(s,a)}error$(){return this.errorApi.error$()}}var n=e(98005);class r{constructor(){Me(this,"subject",new n.J)}post(s,a){this.subject.next({error:s,context:a})}error$(){return this.subject}}class i{static forward(s,a){window.addEventListener("unhandledrejection",c=>{s.post(c.reason,a)})}}},14884:function(H,l,e){"use strict";e.d(l,{b:function(){return r}});var t=e(36964);function n(i){if(i.length<3)throw new Error(`The '${i}' feature flag must have a minimum length of three characters.`);if(i.length>150)throw new Error(`The '${i}' feature flag must not exceed 150 characters.`);if(!i.match(/^[a-z]+[a-z0-9-]+$/))throw new Error(`The '${i}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`)}class r{constructor(){Me(this,"registeredFeatureFlags",[]);Me(this,"flags")}registerFlag(d){n(d.name),this.registeredFeatureFlags.push(d)}getRegisteredFlags(){return this.registeredFeatureFlags.slice()}isActive(d){return this.flags||(this.flags=this.load()),this.flags.get(d)===t.FeatureFlagState.Active}save(d){this.flags||(this.flags=this.load()),d.merge||this.flags.clear();for(const[a,c]of Object.entries(d.states))this.flags.set(a,c);const s=Array.from(this.flags.entries()).filter(([,a])=>a===t.FeatureFlagState.Active);window.localStorage.setItem("featureFlags",JSON.stringify(Object.fromEntries(s)))}load(){try{const d=window.localStorage.getItem("featureFlags");if(!d)return new Map;const s=JSON.parse(d);if(typeof s!="object"||s===null||Array.isArray(s))return new Map;const a=Object.entries(s).filter(([c,o])=>(n(c),o===t.FeatureFlagState.Active));return new Map(a)}catch{return new Map}}}},50160:function(H,l,e){"use strict";e.d(l,{I:function(){return a},j:function(){return t}});function t(c){var u;let o=c.baseImplementation||e.g.fetch;const g=[(u=c.middleware)!=null?u:[]].flat().reverse();for(const f of g)o=f.apply(o);return{fetch:o}}class n{static create(o){var h,p;const g=r(o),u=((h=o.header)==null?void 0:h.name)||"authorization",f=((p=o.header)==null?void 0:p.value)||(A=>`Bearer ${A}`);return new n(o.identityApi,g,u,f)}constructor(o,g,u,f){this.identityApi=o,this.allowUrl=g,this.headerName=u,this.headerValue=f}apply(o){return async(g,u)=>{const f=new Request(g,u),{token:h}=await this.identityApi.getCredentials();return f.headers.get(this.headerName)||typeof h!="string"||!h||!this.allowUrl(f.url)?o(g,u):(f.headers.set(this.headerName,this.headerValue(h)),o(f))}}}function r(c){return c.allowUrl?c.allowUrl:c.urlPrefixAllowlist?i(c.urlPrefixAllowlist):c.config?i([c.config.getString("backend.baseUrl")]):()=>!1}function i(c){const o=c.map(g=>g.replace(/\/$/,""));return g=>o.some(u=>g===u||g.startsWith(`${u}/`))}function d(c,o){return!o||o==="/"?c:`${c.replace(/\/$/,"")}/${o.replace(/^\//,"")}`}class s{constructor(o){this.discoveryApi=o}apply(o){return async(g,u)=>{const f=new Request(g,u),h="plugin://";if(!f.url.startsWith(h))return o(g,u);const{hostname:p,pathname:A,search:R,hash:y,username:E,password:C}=new URL(`http://${f.url.substring(h.length)}`);let S=await this.discoveryApi.getBaseUrl(p);if(E||C){const P=new URL(S),I=`${E}${C?`:${C}`:""}@`;S=`${P.protocol}//${I}${P.host}${P.pathname}`}const T=`${d(S,A)}${R}${y}`;return o(T,typeof g=="string"?u:g)}}}class a{static resolvePluginProtocol(o){return new s(o.discoveryApi)}static injectIdentityAuth(o){return n.create(o)}constructor(){}}},11358:function(H,l,e){"use strict";e.d(l,{Y:function(){return d}});var t=e(98005);function n(s,a){for(const c of a)if(!s.has(c))return!1;return!0}function r(s,...a){const c=new Set(s);for(const o of a)for(const g of o)c.add(g);return c}class i{constructor(){Me(this,"requests",[]);Me(this,"subject",new t.X(this.getCurrentPending()))}request(a){return new Promise((c,o)=>{this.requests.push({scopes:a,resolve:c,reject:o}),this.subject.next(this.getCurrentPending())})}resolve(a,c){this.requests=this.requests.filter(o=>n(a,o.scopes)?(o.resolve(c),!1):!0),this.subject.next(this.getCurrentPending())}reject(a){this.requests.forEach(c=>c.reject(a)),this.requests=[],this.subject.next(this.getCurrentPending())}pending(){return this.subject}getCurrentPending(){const a=this.requests.length===0?void 0:this.requests.slice(1).reduce((c,o)=>r(c,o.scopes),this.requests[0].scopes);return{scopes:a,resolve:c=>{a&&this.resolve(a,c)},reject:c=>{a&&this.reject(c)}}}}class d{constructor(){Me(this,"subject",new t.X([]));Me(this,"currentRequests",[]);Me(this,"handlerCount",0)}createAuthRequester(a){const c=new i,o=this.handlerCount;return this.handlerCount++,c.pending().subscribe({next:g=>{const u=this.currentRequests.slice(),f=this.makeAuthRequest(g,a);f?u[o]=f:delete u[o],this.currentRequests=u,this.subject.next(u.filter(Boolean))}}),g=>c.request(g)}makeAuthRequest(a,c){const{scopes:o}=a;if(!!o)return{provider:c.provider,trigger:async()=>{const g=await c.onAuthRequest(o);a.resolve(g)},reject:()=>{const g=new Error("Login failed, rejected by user");g.name="RejectedError",a.reject(g)}}}authRequest$(){return this.subject}}},56054:function(H,l,e){"use strict";e.d(l,{C:function(){return i}});var t=e(82394),n=e.n(t);const r=new Map;class i{constructor(s,a){Me(this,"subscribers",new Set);Me(this,"observable",new(n())(s=>(this.subscribers.add(s),()=>{this.subscribers.delete(s)})));this.namespace=s,this.errorApi=a}static create(s){var a;return new i((a=s.namespace)!=null?a:"",s.errorApi)}get(s){return this.snapshot(s).value}snapshot(s){let a,c="absent";try{const o=localStorage.getItem(this.getKeyName(s));o&&(a=JSON.parse(o,(g,u)=>(typeof u=="object"&&u!==null&&Object.freeze(u),u)),c="present")}catch{this.errorApi.post(new Error(`Error when parsing JSON config from storage for: ${s}`))}return{key:s,value:a,presence:c}}forBucket(s){const a=`${this.namespace}/${s}`;return r.has(a)||r.set(a,new i(a,this.errorApi)),r.get(a)}async set(s,a){localStorage.setItem(this.getKeyName(s),JSON.stringify(a)),this.notifyChanges(s)}async remove(s){localStorage.removeItem(this.getKeyName(s)),this.notifyChanges(s)}observe$(s){return this.observable.filter(({key:a})=>a===s)}getKeyName(s){return`${this.namespace}/${encodeURIComponent(s)}`}notifyChanges(s){const a=this.snapshot(s);for(const c of this.subscribers)c.next(a)}}},59589:function(H,l,e){"use strict";e.d(l,{u:function(){return r}});var t=e(91205);const n={id:"atlassian",title:"Atlassian",icon:()=>null};class r{static create(d){const{discoveryApi:s,environment:a="development",provider:c=n,oauthRequestApi:o}=d;return t.OAuth2.create({discoveryApi:s,oauthRequestApi:o,provider:c,environment:a})}}},6098:function(H,l,e){"use strict";e.d(l,{Z:function(){return r}});var t=e(91205);const n={id:"bitbucket",title:"Bitbucket",icon:()=>null};class r{static create(d){const{discoveryApi:s,environment:a="development",provider:c=n,oauthRequestApi:o,defaultScopes:g=["team"]}=d;return t.OAuth2.create({discoveryApi:s,oauthRequestApi:o,provider:c,environment:a,defaultScopes:g})}}},44431:function(H,l,e){"use strict";e.d(l,{BitbucketAuth:function(){return r.Z}});var t=e(19347),n=e.n(t);e.o(t,"AlertApiForwarder")&&e.d(l,{AlertApiForwarder:function(){return t.AlertApiForwarder}}),e.o(t,"AppThemeSelector")&&e.d(l,{AppThemeSelector:function(){return t.AppThemeSelector}}),e.o(t,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return t.AtlassianAuth}}),e.o(t,"ConfigReader")&&e.d(l,{ConfigReader:function(){return t.ConfigReader}}),e.o(t,"ErrorAlerter")&&e.d(l,{ErrorAlerter:function(){return t.ErrorAlerter}}),e.o(t,"ErrorApiForwarder")&&e.d(l,{ErrorApiForwarder:function(){return t.ErrorApiForwarder}}),e.o(t,"FetchMiddlewares")&&e.d(l,{FetchMiddlewares:function(){return t.FetchMiddlewares}}),e.o(t,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return t.FlatRoutes}}),e.o(t,"LocalStorageFeatureFlags")&&e.d(l,{LocalStorageFeatureFlags:function(){return t.LocalStorageFeatureFlags}}),e.o(t,"NoOpAnalyticsApi")&&e.d(l,{NoOpAnalyticsApi:function(){return t.NoOpAnalyticsApi}}),e.o(t,"OAuthRequestManager")&&e.d(l,{OAuthRequestManager:function(){return t.OAuthRequestManager}}),e.o(t,"UnhandledErrorForwarder")&&e.d(l,{UnhandledErrorForwarder:function(){return t.UnhandledErrorForwarder}}),e.o(t,"UrlPatternDiscovery")&&e.d(l,{UrlPatternDiscovery:function(){return t.UrlPatternDiscovery}}),e.o(t,"WebStorage")&&e.d(l,{WebStorage:function(){return t.WebStorage}}),e.o(t,"createFetchApi")&&e.d(l,{createFetchApi:function(){return t.createFetchApi}}),e.o(t,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return t.createSpecializedApp}});var r=e(6098)},19347:function(){},44474:function(H,l,e){"use strict";e.d(l,{T:function(){return r}});var t=e(91205);const n={id:"github",title:"GitHub",icon:()=>null};class r{static create(d){const{discoveryApi:s,environment:a="development",provider:c=n,oauthRequestApi:o,defaultScopes:g=["read:user"]}=d;return t.OAuth2.create({discoveryApi:s,oauthRequestApi:o,provider:c,environment:a,defaultScopes:g})}}},2922:function(H,l,e){"use strict";e.d(l,{a:function(){return r}});var t=e(91205);const n={id:"gitlab",title:"GitLab",icon:()=>null};class r{static create(d){const{discoveryApi:s,environment:a="development",provider:c=n,oauthRequestApi:o,defaultScopes:g=["read_user"]}=d;return t.OAuth2.create({discoveryApi:s,oauthRequestApi:o,provider:c,environment:a,defaultScopes:g})}}},59938:function(H,l,e){"use strict";e.d(l,{e:function(){return i}});var t=e(91205);const n={id:"google",title:"Google",icon:()=>null},r="https://www.googleapis.com/auth/";class i{static create(s){const{discoveryApi:a,oauthRequestApi:c,environment:o="development",provider:g=n,defaultScopes:u=["openid",`${r}userinfo.email`,`${r}userinfo.profile`]}=s;return t.OAuth2.create({discoveryApi:a,oauthRequestApi:c,provider:g,environment:o,defaultScopes:u,scopeTransform(f){return f.map(h=>h==="openid"?h:h==="profile"||h==="email"?`${r}userinfo.${h}`:h.startsWith(r)?h:`${r}${h}`)}})}}},91668:function(H,l,e){"use strict";e.d(l,{AtlassianAuth:function(){return g.u},BitbucketAuth:function(){return o.BitbucketAuth},GithubAuth:function(){return t.T},GitlabAuth:function(){return n.a},GoogleAuth:function(){return r.e},MicrosoftAuth:function(){return a._},OktaAuth:function(){return d.s},OneLoginAuth:function(){return c.$}});var t=e(44474),n=e(2922),r=e(59938),i=e(91205);e.o(i,"AlertApiForwarder")&&e.d(l,{AlertApiForwarder:function(){return i.AlertApiForwarder}}),e.o(i,"AppThemeSelector")&&e.d(l,{AppThemeSelector:function(){return i.AppThemeSelector}}),e.o(i,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return i.AtlassianAuth}}),e.o(i,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return i.BitbucketAuth}}),e.o(i,"ConfigReader")&&e.d(l,{ConfigReader:function(){return i.ConfigReader}}),e.o(i,"ErrorAlerter")&&e.d(l,{ErrorAlerter:function(){return i.ErrorAlerter}}),e.o(i,"ErrorApiForwarder")&&e.d(l,{ErrorApiForwarder:function(){return i.ErrorApiForwarder}}),e.o(i,"FetchMiddlewares")&&e.d(l,{FetchMiddlewares:function(){return i.FetchMiddlewares}}),e.o(i,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return i.FlatRoutes}}),e.o(i,"LocalStorageFeatureFlags")&&e.d(l,{LocalStorageFeatureFlags:function(){return i.LocalStorageFeatureFlags}}),e.o(i,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return i.MicrosoftAuth}}),e.o(i,"NoOpAnalyticsApi")&&e.d(l,{NoOpAnalyticsApi:function(){return i.NoOpAnalyticsApi}}),e.o(i,"OAuthRequestManager")&&e.d(l,{OAuthRequestManager:function(){return i.OAuthRequestManager}}),e.o(i,"OktaAuth")&&e.d(l,{OktaAuth:function(){return i.OktaAuth}}),e.o(i,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return i.OneLoginAuth}}),e.o(i,"UnhandledErrorForwarder")&&e.d(l,{UnhandledErrorForwarder:function(){return i.UnhandledErrorForwarder}}),e.o(i,"UrlPatternDiscovery")&&e.d(l,{UrlPatternDiscovery:function(){return i.UrlPatternDiscovery}}),e.o(i,"WebStorage")&&e.d(l,{WebStorage:function(){return i.WebStorage}}),e.o(i,"createFetchApi")&&e.d(l,{createFetchApi:function(){return i.createFetchApi}}),e.o(i,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return i.createSpecializedApp}});var d=e(26079),s=e(67604),a=e(38482),c=e(58381),o=e(44431);e.o(o,"AlertApiForwarder")&&e.d(l,{AlertApiForwarder:function(){return o.AlertApiForwarder}}),e.o(o,"AppThemeSelector")&&e.d(l,{AppThemeSelector:function(){return o.AppThemeSelector}}),e.o(o,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return o.AtlassianAuth}}),e.o(o,"ConfigReader")&&e.d(l,{ConfigReader:function(){return o.ConfigReader}}),e.o(o,"ErrorAlerter")&&e.d(l,{ErrorAlerter:function(){return o.ErrorAlerter}}),e.o(o,"ErrorApiForwarder")&&e.d(l,{ErrorApiForwarder:function(){return o.ErrorApiForwarder}}),e.o(o,"FetchMiddlewares")&&e.d(l,{FetchMiddlewares:function(){return o.FetchMiddlewares}}),e.o(o,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return o.FlatRoutes}}),e.o(o,"LocalStorageFeatureFlags")&&e.d(l,{LocalStorageFeatureFlags:function(){return o.LocalStorageFeatureFlags}}),e.o(o,"NoOpAnalyticsApi")&&e.d(l,{NoOpAnalyticsApi:function(){return o.NoOpAnalyticsApi}}),e.o(o,"OAuthRequestManager")&&e.d(l,{OAuthRequestManager:function(){return o.OAuthRequestManager}}),e.o(o,"UnhandledErrorForwarder")&&e.d(l,{UnhandledErrorForwarder:function(){return o.UnhandledErrorForwarder}}),e.o(o,"UrlPatternDiscovery")&&e.d(l,{UrlPatternDiscovery:function(){return o.UrlPatternDiscovery}}),e.o(o,"WebStorage")&&e.d(l,{WebStorage:function(){return o.WebStorage}}),e.o(o,"createFetchApi")&&e.d(l,{createFetchApi:function(){return o.createFetchApi}}),e.o(o,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return o.createSpecializedApp}});var g=e(59589)},38482:function(H,l,e){"use strict";e.d(l,{_:function(){return r}});var t=e(91205);const n={id:"microsoft",title:"Microsoft",icon:()=>null};class r{static create(d){const{environment:s="development",provider:a=n,oauthRequestApi:c,discoveryApi:o,defaultScopes:g=["openid","offline_access","profile","email","User.Read"]}=d;return t.OAuth2.create({discoveryApi:o,oauthRequestApi:c,provider:a,environment:s,defaultScopes:g})}}},73124:function(H,l,e){"use strict";e.d(l,{Z:function(){return s}});function t(a){return new Promise((c,o)=>{const g=a.width||500,u=a.height||700,f=window.screen.width/2-g/2,h=window.screen.height/2-u/2,p=window.open(a.url,a.name,`menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${g},height=${u},top=${h},left=${f}`);let A="";if(!p||typeof p.closed=="undefined"||p.closed){const C=new Error("Failed to open auth popup.");C.name="PopupRejectedError",o(C);return}const R=C=>{if(C.source!==p||C.origin!==a.origin)return;const{data:S}=C;if(S.type==="config_info"){A=S.targetOrigin;return}if(S.type!=="authorization_response")return;const T=S;if("error"in T){const P=new Error(T.error.message);P.name=T.error.name,o(P)}else c(T.response);E()},y=setInterval(()=>{if(p.closed){const C=`Login failed, ${A&&A!==window.location.origin?`Incorrect app origin, expected ${A}`:"popup was closed"}`,S=new Error(C);S.name="PopupClosedError",o(S),E()}},100);function E(){window.removeEventListener("message",R),clearInterval(y)}window.addEventListener("message",R)})}function n(a){return[...a].join(" ")}class r{constructor(c){Me(this,"discoveryApi");Me(this,"environment");Me(this,"provider");Me(this,"joinScopesFunc");Me(this,"authRequester");Me(this,"sessionTransform");const{discoveryApi:o,environment:g,provider:u,joinScopes:f=n,oauthRequestApi:h,sessionTransform:p=A=>A}=c;this.authRequester=h.createAuthRequester({provider:u,onAuthRequest:A=>this.showPopup(A)}),this.discoveryApi=o,this.environment=g,this.provider=u,this.joinScopesFunc=f,this.sessionTransform=p}async createSession(c){return c.instantPopup?this.showPopup(c.scopes):this.authRequester(c.scopes)}async refreshSession(){const c=await fetch(await this.buildUrl("/refresh",{optional:!0}),{headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(g=>{throw new Error(`Auth refresh request failed, ${g}`)});if(!c.ok){const g=new Error(`Auth refresh request failed, ${c.statusText}`);throw g.status=c.status,g}const o=await c.json();if(o.error){const g=new Error(o.error.message);throw o.error.name&&(g.name=o.error.name),g}return await this.sessionTransform(o)}async removeSession(){const c=await fetch(await this.buildUrl("/logout"),{method:"POST",headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(o=>{throw new Error(`Logout request failed, ${o}`)});if(!c.ok){const o=new Error(`Logout request failed, ${c.statusText}`);throw o.status=c.status,o}}async showPopup(c){const o=this.joinScopesFunc(c),g=await this.buildUrl("/start",{scope:o,origin:location.origin}),u=await t({url:g,name:`${this.provider.title} Login`,origin:new URL(g).origin,width:450,height:730});return await this.sessionTransform(u)}async buildUrl(c,o){const g=await this.discoveryApi.getBaseUrl("auth"),u=this.buildQueryString({...o,env:this.environment});return`${g}/${this.provider.id}${c}${u}`}buildQueryString(c){if(!c)return"";const o=Object.entries(c).map(([g,u])=>{if(typeof u=="string")return`${encodeURIComponent(g)}=${encodeURIComponent(u)}`;if(u)return encodeURIComponent(g)}).filter(Boolean).join("&");return o?`?${o}`:""}}var i=e(57018);const d={id:"oauth2",title:"Your Identity Provider",icon:()=>null};class s{constructor(c){Me(this,"sessionManager");Me(this,"scopeTransform");this.sessionManager=c.sessionManager,this.scopeTransform=c.scopeTransform}static create(c){const{discoveryApi:o,environment:g="development",provider:u=d,oauthRequestApi:f,defaultScopes:h=[],scopeTransform:p=y=>y}=c,A=new r({discoveryApi:o,environment:g,provider:u,oauthRequestApi:f,sessionTransform(y){return{...y,providerInfo:{idToken:y.providerInfo.idToken,accessToken:y.providerInfo.accessToken,scopes:s.normalizeScopes(p,y.providerInfo.scope),expiresAt:new Date(Date.now()+y.providerInfo.expiresInSeconds*1e3)}}}}),R=new i.RefreshingAuthSessionManager({connector:A,defaultScopes:new Set(h),sessionScopes:y=>y.providerInfo.scopes,sessionShouldRefresh:y=>(y.providerInfo.expiresAt.getTime()-Date.now())/1e3<60*5});return new s({sessionManager:R,scopeTransform:p})}async signIn(){await this.getAccessToken()}async signOut(){await this.sessionManager.removeSession()}sessionState$(){return this.sessionManager.sessionState$()}async getAccessToken(c,o){var f;const g=s.normalizeScopes(this.scopeTransform,c),u=await this.sessionManager.getSession({...o,scopes:g});return(f=u==null?void 0:u.providerInfo.accessToken)!=null?f:""}async getIdToken(c={}){var g;const o=await this.sessionManager.getSession(c);return(g=o==null?void 0:o.providerInfo.idToken)!=null?g:""}async getBackstageIdentity(c={}){const o=await this.sessionManager.getSession(c);return o==null?void 0:o.backstageIdentity}async getProfile(c={}){const o=await this.sessionManager.getSession(c);return o==null?void 0:o.profile}static normalizeScopes(c,o){if(!o)return new Set;const g=Array.isArray(o)?o:o.split(/[\s|,]/).filter(Boolean);return new Set(c(g))}}},91205:function(H,l,e){"use strict";e.d(l,{OAuth2:function(){return t.Z}});var t=e(73124),n=e(5973),r=e.n(n);e.o(n,"AlertApiForwarder")&&e.d(l,{AlertApiForwarder:function(){return n.AlertApiForwarder}}),e.o(n,"AppThemeSelector")&&e.d(l,{AppThemeSelector:function(){return n.AppThemeSelector}}),e.o(n,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return n.AtlassianAuth}}),e.o(n,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return n.BitbucketAuth}}),e.o(n,"ConfigReader")&&e.d(l,{ConfigReader:function(){return n.ConfigReader}}),e.o(n,"ErrorAlerter")&&e.d(l,{ErrorAlerter:function(){return n.ErrorAlerter}}),e.o(n,"ErrorApiForwarder")&&e.d(l,{ErrorApiForwarder:function(){return n.ErrorApiForwarder}}),e.o(n,"FetchMiddlewares")&&e.d(l,{FetchMiddlewares:function(){return n.FetchMiddlewares}}),e.o(n,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return n.FlatRoutes}}),e.o(n,"LocalStorageFeatureFlags")&&e.d(l,{LocalStorageFeatureFlags:function(){return n.LocalStorageFeatureFlags}}),e.o(n,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return n.MicrosoftAuth}}),e.o(n,"NoOpAnalyticsApi")&&e.d(l,{NoOpAnalyticsApi:function(){return n.NoOpAnalyticsApi}}),e.o(n,"OAuthRequestManager")&&e.d(l,{OAuthRequestManager:function(){return n.OAuthRequestManager}}),e.o(n,"OktaAuth")&&e.d(l,{OktaAuth:function(){return n.OktaAuth}}),e.o(n,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return n.OneLoginAuth}}),e.o(n,"UnhandledErrorForwarder")&&e.d(l,{UnhandledErrorForwarder:function(){return n.UnhandledErrorForwarder}}),e.o(n,"UrlPatternDiscovery")&&e.d(l,{UrlPatternDiscovery:function(){return n.UrlPatternDiscovery}}),e.o(n,"WebStorage")&&e.d(l,{WebStorage:function(){return n.WebStorage}}),e.o(n,"createFetchApi")&&e.d(l,{createFetchApi:function(){return n.createFetchApi}}),e.o(n,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return n.createSpecializedApp}})},5973:function(){},26079:function(H,l,e){"use strict";e.d(l,{s:function(){return d}});var t=e(91205);const n={id:"okta",title:"Okta",icon:()=>null},r=new Set(["openid","profile","email","phone","address","groups","offline_access"]),i="okta.";class d{static create(a){const{discoveryApi:c,environment:o="development",provider:g=n,oauthRequestApi:u,defaultScopes:f=["openid","email","profile","offline_access"]}=a;return t.OAuth2.create({discoveryApi:c,oauthRequestApi:u,provider:g,environment:o,defaultScopes:f,scopeTransform(h){return h.map(p=>r.has(p)||p.startsWith(i)?p:`${i}${p}`)}})}}},58381:function(H,l,e){"use strict";e.d(l,{$:function(){return d}});var t=e(91205);const n={id:"onelogin",title:"onelogin",icon:()=>null},r=new Set(["openid","profile","email","phone","address","groups","offline_access"]),i="onelogin.";class d{static create(a){const{discoveryApi:c,environment:o="development",provider:g=n,oauthRequestApi:u}=a;return t.OAuth2.create({discoveryApi:c,oauthRequestApi:u,provider:g,environment:o,defaultScopes:["openid","email","profile","offline_access"],scopeTransform(f){return f.map(h=>r.has(h)||h.startsWith(i)?h:`${i}${h}`)}})}}},67604:function(H,l,e){"use strict";var t=e(57018),n=e(30195);const r=n.z.object({profile:n.z.object({email:n.z.string().optional(),displayName:n.z.string().optional(),picture:n.z.string().optional()}),backstageIdentity:n.z.object({token:n.z.string(),identity:n.z.object({type:n.z.literal("user"),userEntityRef:n.z.string(),ownershipEntityRefs:n.z.array(n.z.string())})})}),i={id:"saml",title:"SAML",icon:()=>null};class d{static create(a){const{discoveryApi:c,environment:o="development",provider:g=i}=a,u=new DirectAuthConnector({discoveryApi:c,environment:o,provider:g}),f=new StaticAuthSessionManager({connector:u}),h=new AuthSessionStore({manager:f,storageKey:`${g.id}Session`,schema:samlSessionSchema});return new d(h)}sessionState$(){return this.sessionManager.sessionState$()}constructor(a){this.sessionManager=a}async signIn(){await this.getBackstageIdentity({})}async signOut(){await this.sessionManager.removeSession()}async getBackstageIdentity(a={}){const c=await this.sessionManager.getSession(a);return c==null?void 0:c.backstageIdentity}async getProfile(a={}){const c=await this.sessionManager.getSession(a);return c==null?void 0:c.profile}}},91631:function(H,l,e){"use strict";e.d(l,{AlertApiForwarder:function(){return n.C},AppThemeSelector:function(){return i.C},AtlassianAuth:function(){return t.AtlassianAuth},ConfigReader:function(){return d.m},ErrorAlerter:function(){return a.KN},ErrorApiForwarder:function(){return a.gr},FetchMiddlewares:function(){return o.I},GithubAuth:function(){return t.GithubAuth},GitlabAuth:function(){return t.GitlabAuth},GoogleAuth:function(){return t.GoogleAuth},LocalStorageFeatureFlags:function(){return c.b},MicrosoftAuth:function(){return t.MicrosoftAuth},NoOpAnalyticsApi:function(){return r.g},OAuthRequestManager:function(){return g.Y},OktaAuth:function(){return t.OktaAuth},OneLoginAuth:function(){return t.OneLoginAuth},UnhandledErrorForwarder:function(){return a.Jv},UrlPatternDiscovery:function(){return s.p},WebStorage:function(){return u.C},createFetchApi:function(){return o.j}});var t=e(91668);e.o(t,"AlertApiForwarder")&&e.d(l,{AlertApiForwarder:function(){return t.AlertApiForwarder}}),e.o(t,"AppThemeSelector")&&e.d(l,{AppThemeSelector:function(){return t.AppThemeSelector}}),e.o(t,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return t.BitbucketAuth}}),e.o(t,"ConfigReader")&&e.d(l,{ConfigReader:function(){return t.ConfigReader}}),e.o(t,"ErrorAlerter")&&e.d(l,{ErrorAlerter:function(){return t.ErrorAlerter}}),e.o(t,"ErrorApiForwarder")&&e.d(l,{ErrorApiForwarder:function(){return t.ErrorApiForwarder}}),e.o(t,"FetchMiddlewares")&&e.d(l,{FetchMiddlewares:function(){return t.FetchMiddlewares}}),e.o(t,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return t.FlatRoutes}}),e.o(t,"LocalStorageFeatureFlags")&&e.d(l,{LocalStorageFeatureFlags:function(){return t.LocalStorageFeatureFlags}}),e.o(t,"NoOpAnalyticsApi")&&e.d(l,{NoOpAnalyticsApi:function(){return t.NoOpAnalyticsApi}}),e.o(t,"OAuthRequestManager")&&e.d(l,{OAuthRequestManager:function(){return t.OAuthRequestManager}}),e.o(t,"UnhandledErrorForwarder")&&e.d(l,{UnhandledErrorForwarder:function(){return t.UnhandledErrorForwarder}}),e.o(t,"UrlPatternDiscovery")&&e.d(l,{UrlPatternDiscovery:function(){return t.UrlPatternDiscovery}}),e.o(t,"WebStorage")&&e.d(l,{WebStorage:function(){return t.WebStorage}}),e.o(t,"createFetchApi")&&e.d(l,{createFetchApi:function(){return t.createFetchApi}}),e.o(t,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return t.createSpecializedApp}});var n=e(23235),r=e(47150),i=e(58652),d=e(14721),s=e(4333),a=e(89536),c=e(14884),o=e(50160),g=e(11358),u=e(56054)},56494:function(H,l,e){"use strict";e.d(l,{AlertApiForwarder:function(){return n.AlertApiForwarder},ApiProvider:function(){return t.ApiProvider},AppThemeSelector:function(){return n.AppThemeSelector},ConfigReader:function(){return n.ConfigReader},ErrorAlerter:function(){return n.ErrorAlerter},ErrorApiForwarder:function(){return n.ErrorApiForwarder},FetchMiddlewares:function(){return n.FetchMiddlewares},LocalStorageFeatureFlags:function(){return n.LocalStorageFeatureFlags},NoOpAnalyticsApi:function(){return n.NoOpAnalyticsApi},OAuthRequestManager:function(){return n.OAuthRequestManager},UnhandledErrorForwarder:function(){return n.UnhandledErrorForwarder},UrlPatternDiscovery:function(){return n.UrlPatternDiscovery},WebStorage:function(){return n.WebStorage},createFetchApi:function(){return n.createFetchApi}});var t=e(76105);e.o(t,"AlertApiForwarder")&&e.d(l,{AlertApiForwarder:function(){return t.AlertApiForwarder}}),e.o(t,"AppThemeSelector")&&e.d(l,{AppThemeSelector:function(){return t.AppThemeSelector}}),e.o(t,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return t.AtlassianAuth}}),e.o(t,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return t.BitbucketAuth}}),e.o(t,"ConfigReader")&&e.d(l,{ConfigReader:function(){return t.ConfigReader}}),e.o(t,"ErrorAlerter")&&e.d(l,{ErrorAlerter:function(){return t.ErrorAlerter}}),e.o(t,"ErrorApiForwarder")&&e.d(l,{ErrorApiForwarder:function(){return t.ErrorApiForwarder}}),e.o(t,"FetchMiddlewares")&&e.d(l,{FetchMiddlewares:function(){return t.FetchMiddlewares}}),e.o(t,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return t.FlatRoutes}}),e.o(t,"GithubAuth")&&e.d(l,{GithubAuth:function(){return t.GithubAuth}}),e.o(t,"GitlabAuth")&&e.d(l,{GitlabAuth:function(){return t.GitlabAuth}}),e.o(t,"GoogleAuth")&&e.d(l,{GoogleAuth:function(){return t.GoogleAuth}}),e.o(t,"LocalStorageFeatureFlags")&&e.d(l,{LocalStorageFeatureFlags:function(){return t.LocalStorageFeatureFlags}}),e.o(t,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return t.MicrosoftAuth}}),e.o(t,"NoOpAnalyticsApi")&&e.d(l,{NoOpAnalyticsApi:function(){return t.NoOpAnalyticsApi}}),e.o(t,"OAuthRequestManager")&&e.d(l,{OAuthRequestManager:function(){return t.OAuthRequestManager}}),e.o(t,"OktaAuth")&&e.d(l,{OktaAuth:function(){return t.OktaAuth}}),e.o(t,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return t.OneLoginAuth}}),e.o(t,"UnhandledErrorForwarder")&&e.d(l,{UnhandledErrorForwarder:function(){return t.UnhandledErrorForwarder}}),e.o(t,"UrlPatternDiscovery")&&e.d(l,{UrlPatternDiscovery:function(){return t.UrlPatternDiscovery}}),e.o(t,"WebStorage")&&e.d(l,{WebStorage:function(){return t.WebStorage}}),e.o(t,"createFetchApi")&&e.d(l,{createFetchApi:function(){return t.createFetchApi}}),e.o(t,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return t.createSpecializedApp}});var n=e(91631);e.o(n,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return n.AtlassianAuth}}),e.o(n,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return n.BitbucketAuth}}),e.o(n,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return n.FlatRoutes}}),e.o(n,"GithubAuth")&&e.d(l,{GithubAuth:function(){return n.GithubAuth}}),e.o(n,"GitlabAuth")&&e.d(l,{GitlabAuth:function(){return n.GitlabAuth}}),e.o(n,"GoogleAuth")&&e.d(l,{GoogleAuth:function(){return n.GoogleAuth}}),e.o(n,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return n.MicrosoftAuth}}),e.o(n,"OktaAuth")&&e.d(l,{OktaAuth:function(){return n.OktaAuth}}),e.o(n,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return n.OneLoginAuth}}),e.o(n,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return n.createSpecializedApp}})},80396:function(H,l,e){"use strict";e.d(l,{p:function(){return n}});var t;(function(r){r[r.default=10]="default";const i=50;r[r.app=i]="app",r[r.static=100]="static"})(t||(t={}));class n{constructor(){Me(this,"factories",new Map)}register(i,d){const s=t[i],a=this.factories.get(d.api.id);return a&&a.priority>=s?!1:(this.factories.set(d.api.id,{priority:s,factory:d}),!0)}get(i){const d=this.factories.get(i.id);if(!!d)return d.factory}getAllApis(){const i=new Set;for(const{factory:d}of this.factories.values())i.add(d.api);return i}}},14406:function(H,l,e){"use strict";e.d(l,{g:function(){return a}});var t=e(2784),n=e(13980),r=e.n(n);class i{constructor(...o){Me(this,"holders");this.holders=o}get(o){for(const g of this.holders){const u=g.get(o);if(u)return u}}}var d=e(76241);const s=(0,d.CT)("api-context"),a=c=>{var h;const{apis:o,children:g}=c,u=(h=(0,t.useContext)(s))==null?void 0:h.atVersion(1),f=u?new i(o,u):o;return t.createElement(s.Provider,{value:(0,d.EI)({1:f}),children:g})};a.propTypes={apis:r().shape({get:r().func.isRequired}).isRequired,children:r().node}},12132:function(H,l,e){"use strict";e.d(l,{M:function(){return t}});class t{constructor(r){Me(this,"apis",new Map);this.factories=r}static validateFactories(r,i){for(const d of i){const s=[d],a=new Set;for(;s.length;){const c=s.shift(),o=r.get(c);if(!!o)for(const g of Object.values(o.deps)){if(g.id===d.id)throw new Error(`Circular dependency of api factory for ${d}`);a.has(g)||(a.add(g),s.push(g))}}}}get(r){return this.load(r)}load(r,i=[]){const d=this.apis.get(r.id);if(d)return d;const s=this.factories.get(r);if(!s)return;if(i.includes(s.api))throw new Error(`Circular dependency of api factory for ${s.api}`);const a=this.loadDeps(r,s.deps,[...i,s.api]),c=s.factory(a);return this.apis.set(r.id,c),c}loadDeps(r,i,d){const s={};for(const a in i)if(i.hasOwnProperty(a)){const c=i[a],o=this.load(c,d);if(!o)throw new Error(`No API factory available for dependency ${c} of dependent ${r}`);s[a]=o}return s}}},76105:function(H,l,e){"use strict";e.d(l,{ApiFactoryRegistry:function(){return r.p},ApiProvider:function(){return t.g},ApiResolver:function(){return n.M}});var t=e(14406),n=e(12132),r=e(80396),i=e(82488),d=e.n(i);e.o(i,"AlertApiForwarder")&&e.d(l,{AlertApiForwarder:function(){return i.AlertApiForwarder}}),e.o(i,"AppThemeSelector")&&e.d(l,{AppThemeSelector:function(){return i.AppThemeSelector}}),e.o(i,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return i.AtlassianAuth}}),e.o(i,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return i.BitbucketAuth}}),e.o(i,"ConfigReader")&&e.d(l,{ConfigReader:function(){return i.ConfigReader}}),e.o(i,"ErrorAlerter")&&e.d(l,{ErrorAlerter:function(){return i.ErrorAlerter}}),e.o(i,"ErrorApiForwarder")&&e.d(l,{ErrorApiForwarder:function(){return i.ErrorApiForwarder}}),e.o(i,"FetchMiddlewares")&&e.d(l,{FetchMiddlewares:function(){return i.FetchMiddlewares}}),e.o(i,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return i.FlatRoutes}}),e.o(i,"GithubAuth")&&e.d(l,{GithubAuth:function(){return i.GithubAuth}}),e.o(i,"GitlabAuth")&&e.d(l,{GitlabAuth:function(){return i.GitlabAuth}}),e.o(i,"GoogleAuth")&&e.d(l,{GoogleAuth:function(){return i.GoogleAuth}}),e.o(i,"LocalStorageFeatureFlags")&&e.d(l,{LocalStorageFeatureFlags:function(){return i.LocalStorageFeatureFlags}}),e.o(i,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return i.MicrosoftAuth}}),e.o(i,"NoOpAnalyticsApi")&&e.d(l,{NoOpAnalyticsApi:function(){return i.NoOpAnalyticsApi}}),e.o(i,"OAuthRequestManager")&&e.d(l,{OAuthRequestManager:function(){return i.OAuthRequestManager}}),e.o(i,"OktaAuth")&&e.d(l,{OktaAuth:function(){return i.OktaAuth}}),e.o(i,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return i.OneLoginAuth}}),e.o(i,"UnhandledErrorForwarder")&&e.d(l,{UnhandledErrorForwarder:function(){return i.UnhandledErrorForwarder}}),e.o(i,"UrlPatternDiscovery")&&e.d(l,{UrlPatternDiscovery:function(){return i.UrlPatternDiscovery}}),e.o(i,"WebStorage")&&e.d(l,{WebStorage:function(){return i.WebStorage}}),e.o(i,"createFetchApi")&&e.d(l,{createFetchApi:function(){return i.createFetchApi}}),e.o(i,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return i.createSpecializedApp}})},82488:function(){},69342:function(H,l,e){"use strict";e.d(l,{b:function(){return q}});var t=e(2784),n=e(10289),r=e(64279),i=e(56494),d=e(36964),s=e(76105);function a(k){const b={};for(const N in k.collectors)k.collectors.hasOwnProperty(N)&&(b[N]=k.collectors[N]());const F=[{node:t.Children.toArray(k.root),parent:void 0,contexts:{}}];for(;F.length!==0;){const{node:N,parent:W,contexts:Ee}=F.shift();t.Children.forEach(N,Ce=>{if(!(0,t.isValidElement)(Ce))return;const te={};for(const Re in b)if(b.hasOwnProperty(Re)){const $=b[Re];te[Re]=$.visit($.accumulator,Ce,W,Ee[Re])}for(const Re of k.discoverers){const $=Re(Ce);$&&F.push({node:$,parent:Ce,contexts:te})}})}return Object.fromEntries(Object.entries(b).map(([N,W])=>[N,W.accumulator]))}function c(k,b){return()=>({accumulator:k(),visit:b})}function o(k){var b;return(b=k.props)==null?void 0:b.children}function g(k){var b,F,N;if(((b=k.props)==null?void 0:b.path)&&((F=k.props)==null?void 0:F.element))return(N=k.props)==null?void 0:N.element}const u=c(()=>new Set,(k,b)=>{const F=(0,d.getComponentData)(b,"core.plugin");F&&k.add(F)});var f=e(88934);const h={caseSensitive:!1,path:"/*",element:"match-all",routeRefs:new Set},p=c(()=>({paths:new Map,parents:new Map,objects:new Array}),(k,b,F,N)=>{var We,Ge,Ve,ut,nt;if((F==null?void 0:F.props.element)===b)return N;let W=N==null?void 0:N.obj,Ee=N==null?void 0:N.routeRef,Ce=N==null?void 0:N.sticky;const te=(We=b.props)==null?void 0:We.path,Re=(Ge=W==null?void 0:W.children)!=null?Ge:k.objects,$=Boolean((Ve=b.props)==null?void 0:Ve.caseSensitive);let ie=N==null?void 0:N.path;if((0,d.getComponentData)(b,"core.gatherMountPoints")){if(!te)throw new Error("Mount point gatherer must have a path");ie=te}const de=(ut=b.props)==null?void 0:ut.element;let Pe=(0,d.getComponentData)(b,"core.mountPoint");if(!Pe&&(0,t.isValidElement)(de)&&(Pe=(0,d.getComponentData)(de,"core.mountPoint")),Pe){let At=te;if(ie&&(At?ie=void 0:At=ie),!At)throw new Error("Mounted routable extension must have a path");k.paths.set(Pe,At),Ee&&Ce?(k.parents.set(Pe,Ee),te&&(Ee=Pe,Ce=!1)):(k.parents.set(Pe,Ee),Ee=Pe),te?(W={caseSensitive:$,path:te,element:"mounted",routeRefs:new Set([Pe]),children:[h],plugin:(0,d.getComponentData)(b.props.element,"core.plugin")},Re.push(W)):W==null||W.routeRefs.add(Pe)}if((0,d.getComponentData)(b,"core.gatherMountPoints")&&(Ce=!0),(0,d.getComponentData)(b,"core.gatherMountPoints")){if(!te)throw new Error("Mount point gatherer must have a path");Pe||(W={caseSensitive:$,path:te,element:"gathered",routeRefs:new Set,children:[h],plugin:(nt=N==null?void 0:N.obj)==null?void 0:nt.plugin},Re.push(W))}return{obj:W,path:ie,routeRef:Ee,sticky:Ce}}),A=c(()=>new Set,(k,b)=>{if(b.type===f.L){const F=b.props;k.add("with"in F?F.with:F.without)}});var R=e(76241);const y=(0,R.uW)("route-ref-type",()=>Symbol("route-ref-type"));function E(k){return k[y]==="absolute"}function C(k){return k[y]==="sub"}function S(k){return k[y]==="external"}function T(...k){const b=k.join("/").replace(/\/\/+/g,"/");return b!=="/"&&b.endsWith("/")?b.slice(0,-1):b}function P(k,b,F){let N,W="";if(E(k))N=k;else if(C(k))N=k.parent,W=k.path;else if(S(k)){const te=F.get(k);if(!te)return[void 0,""];if(E(te))N=te;else if(C(te))N=te.parent,W=te.path;else throw new Error(`ExternalRouteRef was bound to invalid target, ${te}`)}else throw k[y]?new Error(`Unknown or invalid route ref type, ${k[y]}`):new Error(`Unknown object passed to useRouteRef, got ${k}`);if(!N)return[void 0,""];const Ee=b.get(N);if(!Ee)return[void 0,""];const Ce=T(Ee,W);return[N,Ce]}function I(k,b,F,N,W){var ie;const Ee=(ie=(0,n.fp)(W,b))!=null?ie:[],Ce=Array();let te=-1;for(let de=k;de&&(te=Ee.findIndex(Pe=>Pe.route.routeRefs.has(de)),te===-1);de=N.get(de))Ce.unshift(de);Ce.length===0&&(te-=1);const Re=te===-1?"":Ee[te].pathname,$=T(...Ce.slice(0,-1).map(de=>{const Pe=F.get(de);if(!Pe)throw new Error(`No path for ${de}`);if(Pe.includes(":"))throw new Error(`Cannot route to ${k} with parent ${de} as it has parameters`);return Pe}));return Re+$}class Z{constructor(b,F,N,W,Ee){this.routePaths=b,this.routeParents=F,this.routeObjects=N,this.routeBindings=W,this.appBasePath=Ee}resolve(b,F){const[N,W]=P(b,this.routePaths,this.routeBindings);if(!N)return;let Ee;typeof F=="string"?Ee=this.trimPath(F):F.pathname?Ee={...F,pathname:this.trimPath(F.pathname)}:Ee=F;const Ce=this.appBasePath+I(N,Ee,this.routePaths,this.routeParents,this.routeObjects);return(...[Re])=>Ce+(0,n.Gn)(W,Re)}trimPath(b){return b&&(b.startsWith(this.appBasePath)?b.slice(this.appBasePath.length):b)}}const L=(0,R.CT)("routing-context"),D=({routePaths:k,routeParents:b,routeObjects:F,routeBindings:N,basePath:W="",children:Ee})=>{const Ce=new Z(k,b,F,N,W),te=(0,R.EI)({1:Ce});return t.createElement(L.Provider,{value:te},Ee)},B=(k,b)=>{var F,N;try{const W=(0,n.fp)(b,{pathname:k}),Ee=(F=W==null?void 0:W.filter(te=>{var Re;return((Re=te==null?void 0:te.route.routeRefs)==null?void 0:Re.size)>0}).pop())==null?void 0:F.route;if(!Ee)return{};let Ce;return Ee.routeRefs.size===1&&(Ce=Ee.routeRefs.values().next().value),{extension:"App",pluginId:((N=Ee.plugin)==null?void 0:N.getId())||"root",...Ce?{routeRef:Ce.id}:{}}}catch{return{}}},w=({pathname:k,search:b,hash:F})=>{const N=(0,d.useAnalytics)();return(0,t.useEffect)(()=>{N.captureEvent("navigate",`${k}${b}${F}`)},[N,k,b,F]),null},V=({routeObjects:k})=>{const{pathname:b,search:F,hash:N}=(0,n.TH)();return t.createElement(d.AnalyticsContext,{attributes:B(b,k)},t.createElement(w,{pathname:b,search:F,hash:N}))};function G(k,b){const F=new Set(b.values());F.delete(void 0);for(const N of b.keys()){if(F.has(N))continue;let W=N,Ee="";for(;W;){const te=k.get(W);if(!te)throw new Error(`No path for ${W}`);Ee=`${te}${Ee}`,W=b.get(W)}const Ce=Ee.match(/:(\w+)/g);if(Ce){for(let te=0;te<Ce.length;te++)for(let Re=te+1;Re<Ce.length;Re++)if(Ce[Re]===Ce[te])throw new Error(`Parameter ${Ce[Re]} is duplicated in path ${Ee}`)}}}function M(k,b){for(const F of b)if(!!F.externalRoutes){for(const[N,W]of Object.entries(F.externalRoutes))if(!W.optional&&!k.has(W))throw new Error(`External route '${N}' of the '${F.getId()}' plugin must be bound to a target route. See https://backstage.io/link?bind-routes for details.`)}}const ce=(0,R.CT)("app-context"),ue=({appContext:k,children:b})=>{const F=(0,R.EI)({1:k});return t.createElement(ce.Provider,{value:F,children:b})};function le(k){return new Error(`Tried to access IdentityApi ${k} before app was loaded`)}function me(k){console.warn(`WARNING: Call to ${k} is deprecated and will break in the future`)}class ge{constructor(){Me(this,"target");Me(this,"waitForTarget");Me(this,"resolveTarget",()=>{});this.waitForTarget=new Promise(b=>{this.resolveTarget=b})}setTarget(b){this.target=b,this.resolveTarget(b)}getUserId(){if(!this.target)throw le("getUserId");if(!this.target.getUserId)throw new Error("IdentityApi does not implement getUserId");return me("getUserId"),this.target.getUserId()}getProfile(){if(!this.target)throw le("getProfile");if(!this.target.getProfile)throw new Error("IdentityApi does not implement getProfile");return me("getProfile"),this.target.getProfile()}async getProfileInfo(){return this.waitForTarget.then(b=>b.getProfileInfo())}async getBackstageIdentity(){const b=await this.waitForTarget.then(F=>F.getBackstageIdentity());return b.userEntityRef.match(/^.*:.*\/.*$/)||console.warn(`WARNING: The App IdentityApi provided an invalid userEntityRef, '${b.userEntityRef}'. It must be a full Entity Reference of the form '<kind>:<namespace>/<name>'.`),b}async getCredentials(){return this.waitForTarget.then(b=>b.getCredentials())}async getIdToken(){return this.waitForTarget.then(b=>{if(!b.getIdToken)throw new Error("IdentityApi does not implement getIdToken");return me("getIdToken"),b.getIdToken()})}async signOut(){await this.waitForTarget.then(b=>b.signOut()),location.reload()}}var Ae=e(72164);function ee(k,b,F){if(k!==void 0){const W=F.find(Ee=>Ee.id===k);if(W)return W}if(b){const W=F.find(Ee=>Ee.variant==="dark");if(W)return W}const N=F.find(W=>W.variant==="light");return N||F[0]}const Ie=()=>{const k=(0,t.useMemo)(()=>window.matchMedia("(prefers-color-scheme: dark)"),[]),[b,F]=(0,t.useState)(k.matches);return(0,t.useEffect)(()=>{const N=W=>{F(W.matches)};return k.addListener(N),()=>{k.removeListener(N)}},[k]),b};function re({children:k}){const b=(0,d.useApi)(d.appThemeApiRef),F=(0,Ae.Z)(b.activeThemeId$(),b.getActiveThemeId()),N=Boolean(window.matchMedia)?Ie():!1,W=ee(F,N,b.getInstalledThemes());if(!W)throw new Error("App has no themes");return t.createElement(W.Provider,{children:k})}const ne=async(k=/*__APP_INJECTED_CONFIG_MARKER__*/"[{\"context\":\"app\",\"deprecatedKeys\":[{\"key\":\"integrations.bitbucket\",\"description\":\"replaced by bitbucketCloud and bitbucketServer\"}],\"data\":{\"app\":{\"title\":\"Backstage Example App\",\"baseUrl\":\"http://10.10.1.26:3000\",\"support\":{\"url\":\"https://github.com/backstage/backstage/issues\",\"items\":[{\"title\":\"Issues\",\"icon\":\"github\",\"links\":[{\"url\":\"https://github.com/backstage/backstage/issues\",\"title\":\"GitHub Issues\"}]},{\"title\":\"Discord Chatroom\",\"icon\":\"chat\",\"links\":[{\"url\":\"https://discord.gg/MUpMjP2\",\"title\":\"#backstage\"}]}]}},\"backend\":{\"baseUrl\":\"http://10.10.1.26:7007\"},\"organization\":{\"name\":\"USCIS\"},\"techdocs\":{\"builder\":\"local\"},\"sentry\":{\"organization\":\"USCIS\"},\"rollbar\":{\"organization\":\"USCIS\"},\"lighthouse\":{\"baseUrl\":\"http://10.10.1.26:3003\"},\"integrations\":{\"github\":[{\"host\":\"github.com\"}],\"gitlab\":[{\"host\":\"gitlab.com\"}],\"bitbucket\":[{\"host\":\"bitbucket.org\"}],\"azure\":[{\"host\":\"dev.azure.com\"}]},\"catalog\":{\"import\":{\"entityFilename\":\"catalog-info.yaml\",\"pullRequestBranchName\":\"backstage-integration\"}},\"auth\":{\"environment\":\"development\",\"providers\":{\"google\":{},\"github\":{},\"gitlab\":{},\"saml\":{},\"okta\":{},\"oauth2\":{},\"oidc\":{},\"auth0\":{},\"microsoft\":{},\"onelogin\":{},\"bitbucket\":{},\"atlassian\":{},\"myproxy\":{}}},\"costInsights\":{\"engineerCost\":200000,\"products\":{\"computeEngine\":{\"name\":\"Compute Engine\",\"icon\":\"compute\"},\"cloudDataflow\":{\"name\":\"Cloud Dataflow\",\"icon\":\"data\"},\"cloudStorage\":{\"name\":\"Cloud Storage\",\"icon\":\"storage\"},\"bigQuery\":{\"name\":\"BigQuery\",\"icon\":\"search\"},\"events\":{\"name\":\"Events\",\"icon\":\"data\"}},\"metrics\":{\"DAU\":{\"name\":\"Daily Active Users\",\"default\":true},\"MSC\":{\"name\":\"Monthly Subscribers\"}},\"currencies\":{\"engineers\":{\"label\":\"Engineers \",\"unit\":\"engineer\"},\"usd\":{\"label\":\"US Dollars \",\"kind\":\"USD\",\"unit\":\"dollar\",\"prefix\":\"$\",\"rate\":1},\"carbonOffsetTons\":{\"label\":\"Carbon Offset Tons s\",\"kind\":\"CARBON_OFFSET_TONS\",\"unit\":\"carbon offset ton\",\"rate\":3.5},\"beers\":{\"label\":\"Beers \",\"kind\":\"BEERS\",\"unit\":\"beer\",\"rate\":4.5},\"pintsIceCream\":{\"label\":\"Pints of Ice Cream \",\"kind\":\"PINTS_OF_ICE_CREAM\",\"unit\":\"ice cream pint\",\"rate\":5.5}}},\"homepage\":{\"clocks\":[{\"label\":\"UTC\",\"timezone\":\"UTC\"},{\"label\":\"NYC\",\"timezone\":\"America/New_York\"},{\"label\":\"STO\",\"timezone\":\"Europe/Stockholm\"},{\"label\":\"TYO\",\"timezone\":\"Asia/Tokyo\"}]},\"apacheAirflow\":{\"baseUrl\":\"https://your.airflow.instance.com\"},\"gocd\":{\"baseUrl\":\"https://your.gocd.instance.com\"}}}]"/*__INJECTED_END__*/)=>{const b=[{context:"app-config.yaml",data:{app:{title:"Backstage Example App",baseUrl:"http://172.22.66.202:3000",support:{url:"https://github.com/backstage/backstage/issues",items:[{title:"Issues",icon:"github",links:[{url:"https://github.com/backstage/backstage/issues",title:"GitHub Issues"}]},{title:"Discord Chatroom",icon:"chat",links:[{url:"https://discord.gg/MUpMjP2",title:"#backstage"}]}]}},backend:{baseUrl:"http://172.22.66.202:7007"},organization:{name:"USCIS"},techdocs:{builder:"local"},sentry:{organization:"USCIS"},rollbar:{organization:"USCIS"},lighthouse:{baseUrl:"http://172.22.66.202:3003"},integrations:{github:[{host:"github.com"}],gitlab:[{host:"gitlab.com"}],bitbucket:[{host:"bitbucket.org"}],azure:[{host:"dev.azure.com"}]},catalog:{import:{entityFilename:"catalog-info.yaml",pullRequestBranchName:"backstage-integration"}},auth:{environment:"development",providers:{google:{},github:{},gitlab:{},saml:{},okta:{},oauth2:{},oidc:{},auth0:{},microsoft:{},onelogin:{},bitbucket:{},atlassian:{},myproxy:{}}},costInsights:{engineerCost:2e5,products:{computeEngine:{name:"Compute Engine",icon:"compute"},cloudDataflow:{name:"Cloud Dataflow",icon:"data"},cloudStorage:{name:"Cloud Storage",icon:"storage"},bigQuery:{name:"BigQuery",icon:"search"},events:{name:"Events",icon:"data"}},metrics:{DAU:{name:"Daily Active Users",default:!0},MSC:{name:"Monthly Subscribers"}},currencies:{engineers:{label:"Engineers \u{1F6E0}",unit:"engineer"},usd:{label:"US Dollars \u{1F4B5}",kind:"USD",unit:"dollar",prefix:"$",rate:1},carbonOffsetTons:{label:"Carbon Offset Tons \u267B\uFE0F\u2696\uFE0Fs",kind:"CARBON_OFFSET_TONS",unit:"carbon offset ton",rate:3.5},beers:{label:"Beers \u{1F37A}",kind:"BEERS",unit:"beer",rate:4.5},pintsIceCream:{label:"Pints of Ice Cream \u{1F366}",kind:"PINTS_OF_ICE_CREAM",unit:"ice cream pint",rate:5.5}}},homepage:{clocks:[{label:"UTC",timezone:"UTC"},{label:"NYC",timezone:"America/New_York"},{label:"STO",timezone:"Europe/Stockholm"},{label:"TYO",timezone:"Asia/Tokyo"}]},apacheAirflow:{baseUrl:"https://your.airflow.instance.com"},gocd:{baseUrl:"https://your.gocd.instance.com"}}}];if(!b)throw new Error("No static configuration provided");if(!Array.isArray(b))throw new Error("Static configuration has invalid format");const F=b.slice();if(k!=="__app_injected_runtime_config__".toLocaleUpperCase("en-US"))try{const W=JSON.parse(k);Array.isArray(W)?F.push(...W):F.push({data:W,context:"env"})}catch(W){throw new Error(`Failed to load runtime configuration, ${W}`)}const N=window.__APP_CONFIG__;return N&&F.push({context:"window",data:N}),F};class _{constructor(){Me(this,"apis",[])}add(b,F){return this.apis.push([b.id,F]),F}build(){return new se(new Map(this.apis))}}class se{static builder(){return new _}static from(b){return new se(new Map(b.map(([F,N])=>[F.id,N])))}static with(b,F){return new se(new Map([[b.id,F]]))}constructor(b){this.apis=b}with(b,F){return new se(new Map([...this.apis,[b.id,F]]))}get(b){return this.apis.get(b.id)}}function j(k){const b=new Map;return k&&k({bind:(N,W)=>{for(const[Ee,Ce]of Object.entries(W)){const te=N[Ee];if(!te)throw new Error(`Key ${Ee} is not an existing external route`);if(!Ce&&!te.optional)throw new Error(`External route ${Ee} is required but was undefined`);Ce&&b.set(te,Ce)}}}),b}const ae=(0,t.createContext)({routeObjects:[]});function X(k){var F;let{pathname:b}=new URL((F=k.getOptionalString("app.baseUrl"))!=null?F:"/","http://dummy.dev");return b=b.replace(/\/*$/,""),b}function z(k,b,F){var Re;const N=Boolean(k),W=(0,r.default)(k||(()=>Promise.resolve([])));let Ee;if(N&&W.loading){const{Progress:$}=b;Ee=t.createElement($,null)}else if(W.error){const{BootErrorPage:$}=b;Ee=t.createElement($,{step:"load-config",error:W.error})}const{ThemeProvider:Ce=re}=b;return Ee?{node:t.createElement(i.ApiProvider,{apis:se.with(d.appThemeApiRef,F)},t.createElement(Ce,null,Ee))}:{api:i.ConfigReader.fromConfigs((Re=W.value)!=null?Re:[])}}class Q{constructor(b){this.app=b}getPlugins(){return this.app.getPlugins()}getSystemIcon(b){return this.app.getSystemIcon(b)}getComponents(){return this.app.getComponents()}}class fe{constructor(b){Me(this,"apiHolder");Me(this,"configApi");Me(this,"apis");Me(this,"icons");Me(this,"plugins");Me(this,"components");Me(this,"themes");Me(this,"configLoader");Me(this,"defaultApis");Me(this,"bindRoutes");Me(this,"appIdentityProxy",new ge);Me(this,"apiFactoryRegistry");var F,N,W,Ee;this.apis=(F=b.apis)!=null?F:[],this.icons=b.icons,this.plugins=new Set((N=b.plugins)!=null?N:[]),this.components=b.components,this.themes=b.themes,this.configLoader=(W=b.configLoader)!=null?W:ne,this.defaultApis=(Ee=b.defaultApis)!=null?Ee:[],this.bindRoutes=b.bindRoutes,this.apiFactoryRegistry=new s.ApiFactoryRegistry}getPlugins(){return Array.from(this.plugins)}getSystemIcon(b){return this.icons[b]}getComponents(){return this.components}getProvider(){const b=new Q(this);let F=!1;return({children:W})=>{const Ee=(0,t.useMemo)(()=>i.AppThemeSelector.createWithStorage(this.themes),[]),{routing:Ce,featureFlags:te,routeBindings:Re}=(0,t.useMemo)(()=>{const Pe=a({root:W,discoverers:[o,g],collectors:{routing:p,collectedPlugins:u,featureFlags:A}});return Pe.collectedPlugins.forEach(He=>this.plugins.add(He)),this.verifyPlugins(this.plugins),this.getApiHolder(),{...Pe,routeBindings:j(this.bindRoutes)}},[W]);F||(F=!0,G(Ce.paths,Ce.parents),M(Re,this.plugins));const $=z(this.configLoader,this.components,Ee),ie="api"in $;if(ie){const{api:Pe}=$;this.configApi=Pe}if((0,t.useEffect)(()=>{if(ie){const Pe=this.getApiHolder().get(d.featureFlagsApiRef);for(const He of this.plugins.values())if("getFeatureFlags"in He)for(const We of He.getFeatureFlags())Pe.registerFlag({name:We.name,pluginId:He.getId()});else for(const We of He.output())We.type==="feature-flag"&&Pe.registerFlag({name:We.name,pluginId:He.getId()});for(const He of te)Pe.registerFlag({name:He,pluginId:""})}},[ie,$,te]),"node"in $)return $.node;const{ThemeProvider:de=re}=this.components;return t.createElement(i.ApiProvider,{apis:this.getApiHolder()},t.createElement(ue,{appContext:b},t.createElement(de,null,t.createElement(D,{routePaths:Ce.paths,routeParents:Ce.parents,routeObjects:Ce.objects,routeBindings:Re,basePath:X($.api)},t.createElement(ae.Provider,{value:{routeObjects:Ce.objects}},W)))))}}getRouter(){const{Router:b,SignInPage:F}=this.components,N=({component:Ee,children:Ce})=>{const[te,Re]=(0,t.useState)();return te?(this.appIdentityProxy.setTarget(te),Ce):t.createElement(Ee,{onSignInSuccess:Re})};return({children:Ee})=>{const Ce=(0,d.useApi)(d.configApiRef),te=`${X(Ce)}/*`,{routeObjects:Re}=(0,t.useContext)(ae);return F?t.createElement(b,null,t.createElement(V,{routeObjects:Re}),t.createElement(N,{component:F},t.createElement(n.Z5,null,t.createElement(n.AW,{path:te,element:t.createElement(t.Fragment,null,Ee)})))):(this.appIdentityProxy.setTarget({getUserId:()=>"guest",getIdToken:async()=>{},getProfile:()=>({email:"guest@example.com",displayName:"Guest"}),getProfileInfo:async()=>({email:"guest@example.com",displayName:"Guest"}),getBackstageIdentity:async()=>({type:"user",userEntityRef:"user:default/guest",ownershipEntityRefs:["user:default/guest"]}),getCredentials:async()=>({}),signOut:async()=>{}}),t.createElement(b,null,t.createElement(V,{routeObjects:Re}),t.createElement(n.Z5,null,t.createElement(n.AW,{path:te,element:t.createElement(t.Fragment,null,Ee)}))))}}getApiHolder(){if(this.apiHolder){for(const b of this.plugins)for(const F of b.getApis())this.apiFactoryRegistry.get(F.api)||this.apiFactoryRegistry.register("default",F);return s.ApiResolver.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder}this.apiFactoryRegistry.register("static",{api:d.appThemeApiRef,deps:{},factory:()=>i.AppThemeSelector.createWithStorage(this.themes)}),this.apiFactoryRegistry.register("static",{api:d.configApiRef,deps:{},factory:()=>{if(!this.configApi)throw new Error("Tried to access config API before config was loaded");return this.configApi}}),this.apiFactoryRegistry.register("static",{api:d.identityApiRef,deps:{},factory:()=>this.appIdentityProxy}),this.apiFactoryRegistry.register("default",{api:d.featureFlagsApiRef,deps:{},factory:()=>new i.LocalStorageFeatureFlags});for(const b of this.defaultApis)this.apiFactoryRegistry.register("default",b);for(const b of this.plugins)for(const F of b.getApis())if(!this.apiFactoryRegistry.register("default",F))throw new Error(`Plugin ${b.getId()} tried to register duplicate or forbidden API factory for ${F.api}`);for(const b of this.apis)if(!this.apiFactoryRegistry.register("app",b))throw new Error(`Duplicate or forbidden API factory for ${b.api} in app`);return s.ApiResolver.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder=new s.ApiResolver(this.apiFactoryRegistry),this.apiHolder}verifyPlugins(b){const F=new Set;for(const N of b){const W=N.getId();if(F.has(W))throw new Error(`Duplicate plugin found '${W}'`);F.add(W)}}}function q(k){return new fe(k)}},44056:function(H,l,e){"use strict";e.d(l,{createSpecializedApp:function(){return t.b}});var t=e(69342),n=e(73495),r=e.n(n);e.o(n,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return n.AtlassianAuth}}),e.o(n,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return n.BitbucketAuth}}),e.o(n,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return n.FlatRoutes}}),e.o(n,"GithubAuth")&&e.d(l,{GithubAuth:function(){return n.GithubAuth}}),e.o(n,"GitlabAuth")&&e.d(l,{GitlabAuth:function(){return n.GitlabAuth}}),e.o(n,"GoogleAuth")&&e.d(l,{GoogleAuth:function(){return n.GoogleAuth}}),e.o(n,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return n.MicrosoftAuth}}),e.o(n,"OktaAuth")&&e.d(l,{OktaAuth:function(){return n.OktaAuth}}),e.o(n,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return n.OneLoginAuth}})},73495:function(){},49208:function(H,l,e){"use strict";e.d(l,{AlertApiForwarder:function(){return t.AlertApiForwarder},ErrorAlerter:function(){return t.ErrorAlerter},ErrorApiForwarder:function(){return t.ErrorApiForwarder},FetchMiddlewares:function(){return t.FetchMiddlewares},FlatRoutes:function(){return r.w},NoOpAnalyticsApi:function(){return t.NoOpAnalyticsApi},OAuthRequestManager:function(){return t.OAuthRequestManager},UnhandledErrorForwarder:function(){return t.UnhandledErrorForwarder},UrlPatternDiscovery:function(){return t.UrlPatternDiscovery},WebStorage:function(){return t.WebStorage},createFetchApi:function(){return t.createFetchApi},createSpecializedApp:function(){return n.createSpecializedApp}});var t=e(56494);e.o(t,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return t.AtlassianAuth}}),e.o(t,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return t.BitbucketAuth}}),e.o(t,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return t.FlatRoutes}}),e.o(t,"GithubAuth")&&e.d(l,{GithubAuth:function(){return t.GithubAuth}}),e.o(t,"GitlabAuth")&&e.d(l,{GitlabAuth:function(){return t.GitlabAuth}}),e.o(t,"GoogleAuth")&&e.d(l,{GoogleAuth:function(){return t.GoogleAuth}}),e.o(t,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return t.MicrosoftAuth}}),e.o(t,"OktaAuth")&&e.d(l,{OktaAuth:function(){return t.OktaAuth}}),e.o(t,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return t.OneLoginAuth}}),e.o(t,"createSpecializedApp")&&e.d(l,{createSpecializedApp:function(){return t.createSpecializedApp}});var n=e(44056);e.o(n,"AtlassianAuth")&&e.d(l,{AtlassianAuth:function(){return n.AtlassianAuth}}),e.o(n,"BitbucketAuth")&&e.d(l,{BitbucketAuth:function(){return n.BitbucketAuth}}),e.o(n,"FlatRoutes")&&e.d(l,{FlatRoutes:function(){return n.FlatRoutes}}),e.o(n,"GithubAuth")&&e.d(l,{GithubAuth:function(){return n.GithubAuth}}),e.o(n,"GitlabAuth")&&e.d(l,{GitlabAuth:function(){return n.GitlabAuth}}),e.o(n,"GoogleAuth")&&e.d(l,{GoogleAuth:function(){return n.GoogleAuth}}),e.o(n,"MicrosoftAuth")&&e.d(l,{MicrosoftAuth:function(){return n.MicrosoftAuth}}),e.o(n,"OktaAuth")&&e.d(l,{OktaAuth:function(){return n.OktaAuth}}),e.o(n,"OneLoginAuth")&&e.d(l,{OneLoginAuth:function(){return n.OneLoginAuth}});var r=e(63938)},57018:function(H,l,e){"use strict";e.d(l,{RefreshingAuthSessionManager:function(){return s}});function t(c,o){for(const g of o)if(!c.has(g))return!1;return!0}class n{constructor(o){this.options=o}sessionExistsAndHasScope(o,g){if(!o)return!1;if(!g||this.options.sessionScopes===void 0)return!0;const u=this.options.sessionScopes(o);return t(u,g)}getExtendedScope(o,g){const u=new Set(this.options.defaultScopes);if(o&&this.options.sessionScopes!==void 0){const f=this.options.sessionScopes(o);for(const h of f)u.add(h)}if(g)for(const f of g)u.add(f);return u}}var r=e(98005),i=e(36964);class d{constructor(){Me(this,"subject",new r.X(i.SessionState.SignedOut));Me(this,"signedIn",!1)}setIsSignedIn(o){this.signedIn!==o&&(this.signedIn=o,this.subject.next(this.signedIn?i.SessionState.SignedIn:i.SessionState.SignedOut))}sessionState$(){return this.subject}}class s{constructor(o){Me(this,"connector");Me(this,"helper");Me(this,"sessionScopesFunc");Me(this,"sessionShouldRefreshFunc");Me(this,"stateTracker",new d);Me(this,"refreshPromise");Me(this,"currentSession");const{connector:g,defaultScopes:u=new Set,sessionScopes:f,sessionShouldRefresh:h}=o;this.connector=g,this.sessionScopesFunc=f,this.sessionShouldRefreshFunc=h,this.helper=new n({sessionScopes:f,defaultScopes:u})}async getSession(o){if(this.helper.sessionExistsAndHasScope(this.currentSession,o.scopes)){if(!this.sessionShouldRefreshFunc(this.currentSession))return this.currentSession;try{const u=await this.collapsedSessionRefresh(),f=this.sessionScopesFunc(this.currentSession),h=this.sessionScopesFunc(u);return t(h,f)&&(this.currentSession=u),u}catch(u){if(o.optional)return;throw u}}if(!this.currentSession&&!o.instantPopup)try{const g=await this.collapsedSessionRefresh();return this.currentSession=g,this.getSession(o)}catch{}if(!o.optional)return this.currentSession=await this.connector.createSession({...o,scopes:this.helper.getExtendedScope(this.currentSession,o.scopes)}),this.stateTracker.setIsSignedIn(!0),this.currentSession}async removeSession(){this.currentSession=void 0,await this.connector.removeSession(),this.stateTracker.setIsSignedIn(!1)}sessionState$(){return this.stateTracker.sessionState$()}async collapsedSessionRefresh(){if(this.refreshPromise)return this.refreshPromise;this.refreshPromise=this.connector.refreshSession();try{const o=await this.refreshPromise;return this.stateTracker.setIsSignedIn(!0),o}finally{delete this.refreshPromise}}}class a{constructor(o){Me(this,"connector");Me(this,"helper");Me(this,"stateTracker",new SessionStateTracker);Me(this,"currentSession");const{connector:g,defaultScopes:u=new Set,sessionScopes:f}=o;this.connector=g,this.helper=new SessionScopeHelper({sessionScopes:f,defaultScopes:u})}setSession(o){this.currentSession=o,this.stateTracker.setIsSignedIn(Boolean(o))}async getSession(o){if(this.helper.sessionExistsAndHasScope(this.currentSession,o.scopes))return this.currentSession;if(!o.optional)return this.currentSession=await this.connector.createSession({...o,scopes:this.helper.getExtendedScope(this.currentSession,o.scopes)}),this.stateTracker.setIsSignedIn(!0),this.currentSession}async removeSession(){this.currentSession=void 0,this.stateTracker.setIsSignedIn(!1)}sessionState$(){return this.stateTracker.sessionState$()}}},98005:function(H,l,e){"use strict";e.d(l,{J:function(){return r},X:function(){return i}});var t=e(82394),n=e.n(t);class r{constructor(){Me(this,"isClosed",!1);Me(this,"terminatingError");Me(this,"observable",new(n())(s=>this.isClosed?(this.terminatingError?s.error(this.terminatingError):s.complete(),()=>{}):(this.subscribers.add(s),()=>{this.subscribers.delete(s)})));Me(this,"subscribers",new Set)}[Symbol.observable](){return this}get closed(){return this.isClosed}next(s){if(this.isClosed)throw new Error("PublishSubject is closed");this.subscribers.forEach(a=>a.next(s))}error(s){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.terminatingError=s,this.subscribers.forEach(a=>a.error(s))}complete(){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.subscribers.forEach(s=>s.complete())}subscribe(s,a,c){const o=typeof s=="function"?{next:s,error:a,complete:c}:s;return this.observable.subscribe(o)}}class i{constructor(s){Me(this,"isClosed");Me(this,"currentValue");Me(this,"terminatingError");Me(this,"observable");Me(this,"subscribers",new Set);this.isClosed=!1,this.currentValue=s,this.terminatingError=void 0,this.observable=new(n())(a=>this.isClosed?(this.terminatingError?a.error(this.terminatingError):a.complete(),()=>{}):(a.next(this.currentValue),this.subscribers.add(a),()=>{this.subscribers.delete(a)}))}[Symbol.observable](){return this}get closed(){return this.isClosed}next(s){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.currentValue=s,this.subscribers.forEach(a=>a.next(s))}error(s){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.terminatingError=s,this.subscribers.forEach(a=>a.error(s))}complete(){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.subscribers.forEach(s=>s.complete())}subscribe(s,a,c){const o=typeof s=="function"?{next:s,error:a,complete:c}:s;return this.observable.subscribe(o)}}},88934:function(H,l,e){"use strict";e.d(l,{L:function(){return r}});var t=e(36964),n=e(2784);const r=i=>{const{children:d}=i,s=(0,t.useApi)(t.featureFlagsApiRef),a="with"in i?s.isActive(i.with):!s.isActive(i.without);return n.createElement(n.Fragment,null,a?d:null)};(0,t.attachComponentData)(r,"core.featureFlagged",!0)},63938:function(H,l,e){"use strict";e.d(l,{w:function(){return i}});var t=e(2784),n=e(10289),r=e(36964);const i=s=>{const a=(0,r.useApp)(),{NotFoundErrorPage:c}=a.getComponents(),o=(0,r.useElementFilter)(s.children,g=>g.getElements().flatMap(u=>{var h;let f=u.props.path;return f===""?[]:(f=(h=f==null?void 0:f.replace(/\/\*$/,""))!=null?h:"/",[{path:f,element:u,children:u.props.children?[{path:f==="/"?"/":"/*",element:u.props.children}]:void 0}])}).sort((u,f)=>f.path.localeCompare(u.path)).map(u=>(u.path=u.path==="/"?"/":`${u.path}/*`,u)));return o.push({element:t.createElement(c,null),path:"/*"}),(0,n.V$)(o)};var d=e(88934)},23192:function(H,l,e){"use strict";e.d(l,{AlertDisplay:function(){return g},Avatar:function(){return y},Breadcrumbs:function(){return vs},Button:function(){return w},CardTab:function(){return Fc},CatalogIcon:function(){return ii},CodeSnippet:function(){return Ae},Content:function(){return Cr},ContentHeader:function(){return ps},CreateButton:function(){return re},DependencyGraph:function(){return pe},DependencyGraphTypes:function(){return t},DocsIcon:function(){return li},EmptyState:function(){return he},ErrorPage:function(){return Es},ErrorPanel:function(){return Zn},GitHubIcon:function(){return ta},Header:function(){return tr},HeaderIconLinkRow:function(){return Eo},HeaderLabel:function(){return hc},HeaderTabs:function(){return as},InfoCard:function(){return $a},ItemCardGrid:function(){return Ts},ItemCardHeader:function(){return Ec},Lifecycle:function(){return lr},Link:function(){return D},LogViewer:function(){return Ea},MarkdownContent:function(){return qn},MissingAnnotationEmptyState:function(){return rt},OAuthRequestDialog:function(){return Ro},OverflowTooltip:function(){return Io},Page:function(){return co},PageWithHeader:function(){return vc},Progress:function(){return Na},ResponseErrorPanel:function(){return K},RoutedTabs:function(){return rs},Select:function(){return xa},Sidebar:function(){return Ii},SidebarDivider:function(){return ic},SidebarGroup:function(){return qr},SidebarItem:function(){return es},SidebarPage:function(){return mi},SidebarScrollWrapper:function(){return cc},SidebarSpace:function(){return Fi},SidebarSubmenu:function(){return Zi},SidebarSubmenuItem:function(){return Ca},SignInPage:function(){return Oc},SimpleStepper:function(){return Za},SimpleStepperStep:function(){return Wl},StatusAborted:function(){return zl},StatusError:function(){return zs},StatusOK:function(){return js},StatusPending:function(){return La},StatusRunning:function(){return ws},StatusWarning:function(){return jl},StructuredMetadataTable:function(){return Fo},SubvalueCell:function(){return ls},SupportButton:function(){return ql},TabbedCard:function(){return Bs},TabbedLayout:function(){return ss},Table:function(){return rl},TrendLine:function(){return vt},UserIcon:function(){return Yl},WarningPanel:function(){return hn},sidebarConfig:function(){return Aa},useContent:function(){return Wn},useQueryParamState:function(){return $o},useSidebarOpenState:function(){return wa},useSidebarPinState:function(){return qa}});var t={};e.r(t),e.d(t,{Nm:function(){return ne},ht:function(){return j},LJ:function(){return se}});var n=e(2784),r=e(37265),i=e(61837),d=e(87685),s=e(99688),a=e(36964),c=e(19928),o=e.n(c);function g(m){const[v,O]=(0,n.useState)([]),U=(0,a.useApi)(a.alertApiRef),{anchorOrigin:J={vertical:"top",horizontal:"center"}}=m;if((0,n.useEffect)(()=>{const De=U.alert$().subscribe(we=>O(Fe=>Fe.concat(we)));return()=>{De.unsubscribe()}},[U]),v.length===0)return null;const[oe]=v,xe=()=>{O(De=>De.filter(we=>we!==oe))};return n.createElement(r.Z,{open:!0,anchorOrigin:J},n.createElement(s.Z,{action:n.createElement(i.Z,{color:"inherit",size:"small",onClick:xe,"data-testid":"error-button-close"},n.createElement(d.Z,null)),severity:oe.severity},n.createElement("span",null,oe.message.toString(),v.length>1&&n.createElement("em",null,` (${v.length-1} older ${o()("message",v.length-1)})`))))}var u=e(79692),f=e(12420),h=e(43434);function p(m){let v=0;for(let U=0;U<m.length;U++)v=m.charCodeAt(U)+((v<<5)-v);let O="#";for(let U=0;U<3;U++)O+=`00${(v>>U*8&255).toString(16)}`.substr(-2);return O}function A(m){var v;return(v=m.match(/\b\w/g))==null?void 0:v.join("").substring(0,2)}const R=(0,u.Z)(m=>(0,f.Z)({avatar:{width:"4rem",height:"4rem",color:"#fff",fontWeight:m.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function y(m){const{displayName:v,picture:O,customStyles:U}=m,J=R();let oe={...U};return O||(oe={backgroundColor:p(v||""),...U}),n.createElement(h.Z,{alt:v,src:O,className:J.avatar,style:oe},v&&A(v))}var E=e(77277),C=e(72779),S=e.n(C),T=e(86689),P=e(62833);const I=(0,u.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),Z=m=>/^([a-z+.-]+):/.test(m),L=m=>{var v;return m instanceof Array?m.map(L).join(" ").trim():typeof m=="object"&&m?L((v=m==null?void 0:m.props)==null?void 0:v.children):["string","number"].includes(typeof m)?String(m):""},D=n.forwardRef(({onClick:m,noTrack:v,...O},U)=>{const J=I(),oe=(0,a.useAnalytics)(),xe=String(O.to),De=L(O.children)||xe,we=Z(xe),Fe=we&&!!/^https?:/.exec(xe),et=Xe=>{m==null||m(Xe),v||oe.captureEvent("click",De,{attributes:{to:xe}})};return we?n.createElement(T.Z,{ref:U,href:xe,onClick:et,...Fe?{target:"_blank",rel:"noopener"}:{},...O,className:S()(J.externalLink,O.className)},O.children,n.createElement("span",{className:J.visuallyHidden},", Opens in a new window")):n.createElement(T.Z,{ref:U,component:P.rU,onClick:et,...O})}),B=n.forwardRef((m,v)=>n.createElement(D,{ref:v,...m,color:"initial"})),w=n.forwardRef((m,v)=>n.createElement(E.Z,{ref:v,component:B,...m}));var V=e(60364),G=e(80030),M=e(19353),ce=e(95074);function ue(m){const{text:v,tooltipDelay:O=1e3,tooltipText:U="Text copied to clipboard"}=m,J=(0,a.useApi)(a.errorApiRef),[oe,xe]=(0,n.useState)(!1),[{error:De},we]=(0,ce.Z)();(0,n.useEffect)(()=>{De&&J.post(De)},[De,J]);const Fe=et=>{et.stopPropagation(),xe(!0),we(v)};return n.createElement(n.Fragment,null,n.createElement(G.ZP,{id:"copy-test-tooltip",title:U,placement:"top",leaveDelay:O,onClose:()=>xe(!1),open:oe},n.createElement(i.Z,{onClick:Fe},n.createElement(M.Z,null))))}var le=e(56553),me=e(26639),ge=e(39595);function Ae(m){const{text:v,language:O,showLineNumbers:U=!1,highlightedNumbers:J,customStyle:oe,showCopyCodeButton:xe=!1}=m,De=(0,V.Z)(),we=De.palette.type==="dark"?me.Z:ge.Z,Fe=De.palette.type==="dark"?"#256bf3":"#e6ffed";return n.createElement("div",{style:{position:"relative"}},n.createElement(le.Z,{customStyle:oe,language:O,style:we,showLineNumbers:U,wrapLines:!0,lineNumberStyle:{color:De.palette.textVerySubtle},lineProps:et=>J!=null&&J.includes(et)?{style:{backgroundColor:Fe}}:{}},v),xe&&n.createElement("div",{style:{position:"absolute",top:0,right:0}},n.createElement(ue,{text:v})))}var ee=e(41156),Ie=e(88188);function re(m){const{title:v,to:O}=m,U=(0,ee.Z)(J=>J.breakpoints.down("xs"));return O?U?n.createElement(i.Z,{component:P.rU,color:"primary",title:v,size:"small",to:O},n.createElement(Ie.Z,null)):n.createElement(E.Z,{component:P.rU,variant:"contained",color:"primary",to:O},v):null}var ne;(function(m){const v="TB";m.TOP_BOTTOM=v;const O="BT";m.BOTTOM_TOP=O;const U="LR";m.LEFT_RIGHT=U;const J="RL";m.RIGHT_LEFT=J})(ne||(ne={}));var _;(function(m){const v="UL";m.UP_LEFT=v;const O="UR";m.UP_RIGHT=O;const U="DL";m.DOWN_LEFT=U;const J="DR";m.DOWN_RIGHT=J})(_||(_={}));var se;(function(m){const v="network-simplex";m.NETWORK_SIMPLEX=v;const O="tight-tree";m.TIGHT_TREE=O;const U="longest-path";m.LONGEST_PATH=U})(se||(se={}));var j;(function(m){const v="l";m.LEFT=v;const O="r";m.RIGHT=O;const U="c";m.CENTER=U})(j||(j={}));var ae=e(13387),X=e(11105),z=e(97963),Q=e(46506),fe=e.n(Q),q=e(54073),k=e.n(q),b=e(10368);const F=(0,u.Z)(m=>({node:{fill:m.palette.primary.light,stroke:m.palette.primary.light},text:{fill:m.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function N({node:{id:m}}){const v=F(),[O,U]=n.useState(0),[J,oe]=n.useState(0),xe=n.useRef(null);n.useLayoutEffect(()=>{if(xe.current){let{height:et,width:Xe}=xe.current.getBBox();et=Math.round(et),Xe=Math.round(Xe),(et!==J||Xe!==O)&&(U(Xe),oe(et))}},[O,J]);const De=10,we=O+De*2,Fe=J+De*2;return n.createElement("g",null,n.createElement("rect",{className:v.node,width:we,height:Fe,rx:10}),n.createElement("text",{ref:xe,className:v.text,y:Fe/2,x:we/2,textAnchor:"middle",alignmentBaseline:"middle"},m))}const W="arrow-marker",Ee="node",Ce="edge",te="label",Re=(0,b.Z)(m=>({node:{transition:`${m.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),$=m=>n.createElement(N,{...m});function ie({render:m=$,setNode:v,node:O}){const{width:U,height:J,x:oe=0,y:xe=0}=O,De=O,we=Re(),Fe=n.useRef(null);return n.useLayoutEffect(()=>{if(Fe.current){let{height:et,width:Xe}=Fe.current.getBBox();et=Math.round(et),Xe=Math.round(Xe),(et!==J||Xe!==U)&&v(O.id,{...O,height:et,width:Xe})}},[O,U,J,v]),n.createElement("g",{ref:Fe,"data-testid":Ee,className:we.node,transform:`translate(${oe-U/2},${xe-J/2})`},m({node:De}))}var de=e(55876),Pe=e(66481),He=e(19574),We=e.n(He);const Ge=(0,b.Z)(m=>({text:{fill:m.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function Ve({edge:{label:m}}){const v=Ge();return n.createElement("text",{className:v.text,textAnchor:"middle"},m)}const ut=(0,b.Z)(m=>({path:{strokeWidth:2,stroke:m.palette.textSubtle,fill:"none",transition:`${m.transitions.duration.shortest}ms`},label:{transition:`${m.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),nt=m=>n.createElement(Ve,{...m}),At=de.Z().x(m=>m.x).y(m=>m.y).curve(Pe.Z);function Le({render:m=nt,setEdge:v,id:O,edge:U}){const{x:J=0,y:oe=0,width:xe,height:De,points:we}=U,Fe=U,et=ut(),Xe=n.useRef(null);n.useLayoutEffect(()=>{if(Xe.current){let{height:ht,width:Et}=Xe.current.getBBox();ht=Math.round(ht),Et=Math.round(Et),(ht!==De||Et!==xe)&&v(O,{...U,height:ht,width:Et})}},[U,De,xe,v,O]);let mt="";if(we){const ht=we.filter(Et=>We()(Et.x)&&We()(Et.y));mt=At(ht)||""}return n.createElement(n.Fragment,null,mt&&n.createElement("path",{"data-testid":Ce,className:et.path,markerEnd:`url(#${W})`,d:mt}),Fe.label?n.createElement("g",{ref:Xe,"data-testid":te,className:et.label,transform:`translate(${J},${oe})`},m({edge:Fe})):null)}const Te="workspace";function pe(m){var Vn,xr;const{edges:v,nodes:O,renderNode:U,direction:J=ne.TOP_BOTTOM,align:oe,nodeMargin:xe=50,edgeMargin:De=10,rankMargin:we=50,paddingX:Fe=0,paddingY:et=0,acyclicer:Xe,ranker:mt=se.NETWORK_SIMPLEX,labelPosition:ht=j.RIGHT,labelOffset:Et=10,edgeRanks:zt=1,edgeWeight:on=1,renderLabel:gn,defs:fn,zoom:$t="enabled",...sn}=m,un=(0,z.Z)(),[An,fa]=n.useState(100),[na,Ba]=n.useState(100),_t=n.useRef(new(fe()).graphlib.Graph),[Gn,nr]=n.useState(((Vn=_t.current.graph())==null?void 0:Vn.width)||0),[ia,Tr]=n.useState(((xr=_t.current.graph())==null?void 0:xr.height)||0),[ar,Ir]=n.useState([]),[rr,xn]=n.useState([]),Hn=Math.max(Gn,An),aa=Math.max(ia,na),ha=n.useMemo(()=>k()(En=>{if(!En)return;const On=X.Z(En),ln=X.Z(En.getElementById(Te));function Yn(){On.call(ae.sP().scaleExtent([1,10]).on("zoom",pa=>{pa.transform.x=Math.min(0,Math.max(pa.transform.x,Hn-Hn*pa.transform.k)),pa.transform.y=Math.min(0,Math.max(pa.transform.y,aa-aa*pa.transform.k)),ln.attr("transform",pa.transform)}))}$t==="enabled"?Yn():$t==="enable-on-click"&&On.on("click",()=>Yn());const{width:Qn,height:Va}=En.getBoundingClientRect();An!==Qn&&fa(Qn),na!==Va&&Ba(Va)},100),[na,An,Hn,aa,$t]),Cn=n.useCallback(()=>{const En=_t.current.nodes(),On=_t.current.edges();En.forEach(ln=>{O.some(Qn=>Qn.id===ln)||_t.current.removeNode(ln)}),On.forEach(ln=>{v.some(Qn=>Qn.from===ln.v&&Qn.to===ln.w)||_t.current.removeEdge(ln.v,ln.w)}),O.forEach(ln=>{const Yn=_t.current.nodes().find(Qn=>ln.id===Qn);if(Yn&&_t.current.node(Yn)){const{width:Qn,height:Va,x:pa,y:Bl}=_t.current.node(Yn);_t.current.setNode(Yn,{...ln,width:Qn,height:Va,x:pa,y:Bl})}else _t.current.setNode(ln.id,{...ln,width:0,height:0})}),v.forEach(ln=>{_t.current.setEdge(ln.from,ln.to,{...ln,label:ln.label,width:0,height:0,labelpos:ht,labeloffset:Et,weight:on,minlen:zt})})},[v,O,ht,Et,on,zt]),Sn=n.useMemo(()=>k()(()=>{fe().layout(_t.current);const{height:En,width:On}=_t.current.graph(),ln=Math.max(0,En||0),Yn=Math.max(0,On||0);nr(Yn),Tr(ln),Ir(_t.current.nodes()),xn(_t.current.edges())},250,{leading:!0}),[]);n.useEffect(()=>(_t.current.setGraph({rankdir:J,align:oe,nodesep:xe,edgesep:De,ranksep:we,marginx:Fe,marginy:et,acyclicer:Xe,ranker:mt}),Cn(),Sn(),Sn.cancel),[Xe,oe,J,De,Fe,et,xe,we,mt,Cn,Sn]);function Ha(En,On){return _t.current.setNode(En,On),Sn(),_t.current}function Sa(En,On){return _t.current.setEdge(En,On),Sn(),_t.current}return n.createElement("svg",{ref:ha,...sn,width:"100%",height:aa,viewBox:`0 0 ${Hn} ${aa}`},n.createElement("defs",null,n.createElement("marker",{id:W,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},n.createElement("path",{fill:un.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),fn),n.createElement("g",{id:Te},n.createElement("svg",{width:Gn,height:ia,y:aa/2-ia/2,x:Hn/2-Gn/2,viewBox:`0 0 ${Gn} ${ia}`},rr.map(En=>{const On=_t.current.edge(En);return On?n.createElement(Le,{key:`${En.v}-${En.w}`,id:En,setEdge:Sa,render:gn,edge:On}):null}),ar.map(En=>{const On=_t.current.node(En);return On?n.createElement(ie,{key:En,setNode:Ha,render:U,node:On}):null}))))}const Be=(0,u.Z)(m=>{var v;return{root:{padding:m.spacing(0),marginBottom:m.spacing(0),marginTop:m.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:m.spacing(6),marginTop:-m.spacing(3),zIndex:"unset"},icon:{fontSize:20},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap"},message:{display:"flex",alignItems:"center",color:m.palette.banner.text,"& a":{color:m.palette.banner.link}},info:{backgroundColor:m.palette.banner.info},error:{backgroundColor:m.palette.banner.error},warning:{backgroundColor:(v=m.palette.banner.warning)!=null?v:m.palette.banner.error}}},{name:"BackstageDismissableBanner"}),ot=m=>{var ht;const{variant:v,message:O,id:U,fixed:J=!1}=m,oe=Be(),De=useApi(storageApiRef).forBucket("notifications"),we=(ht=De.snapshot("dismissedBanners").value)!=null?ht:[],[Fe,et]=useState(new Set(we)),Xe=useObservable(De.observe$("dismissedBanners"));useEffect(()=>{var Et;if(Xe!=null&&Xe.value){const zt=(Et=Xe==null?void 0:Xe.value)!=null?Et:[];et(new Set(zt))}},[Xe==null?void 0:Xe.value]);const mt=()=>{De.set("dismissedBanners",[...Fe,U])};return React.createElement(Snackbar,{anchorOrigin:J?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!Fe.has(U),classes:{root:classNames(oe.root,!J&&oe.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(oe.content,oe[v]),message:oe.message},message:O,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",color:"inherit",onClick:mt},React.createElement(Close,{className:oe.icon}))]}))};var at=e(60905),ke=e(90436),Zt=e.p+"static/missingAnnotation.67f79e98..svg",$e=e.p+"static/noInformation.4b426325..svg",Wt=e.p+"static/createComponent.975d1e1e..svg",Kt=e.p+"static/noBuild.1715fa71..svg";const Qe=(0,u.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),tt=({missing:m})=>{const v=Qe();switch(m){case"field":return n.createElement("img",{src:Zt,className:v.generalImg,alt:"annotation is missing"});case"info":return n.createElement("img",{src:$e,alt:"no Information",className:v.generalImg});case"content":return n.createElement("img",{src:Wt,alt:"create Component",className:v.generalImg});case"data":return n.createElement("img",{src:Kt,alt:"no Build",className:v.generalImg});default:return null}},Tt=(0,u.Z)(m=>({root:{backgroundColor:m.palette.background.default,padding:m.spacing(2,0,0,0)},action:{marginTop:m.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function he(m){const{title:v,description:O,missing:U,action:J}=m,oe=Tt();return n.createElement(at.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:oe.root,spacing:2},n.createElement(at.Z,{item:!0,xs:12,md:6},n.createElement(at.Z,{container:!0,direction:"column"},n.createElement(at.Z,{item:!0,xs:!0},n.createElement(ke.Z,{variant:"h5"},v)),n.createElement(at.Z,{item:!0,xs:!0},n.createElement(ke.Z,{variant:"body1"},O)),n.createElement(at.Z,{item:!0,xs:!0,className:oe.action},J))),n.createElement(at.Z,{item:!0,xs:12,md:6,className:oe.imageContainer},n.createElement(tt,{missing:U})))}const Ne=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,_e=(0,u.Z)(m=>({code:{borderRadius:6,margin:`${m.spacing(2)}px 0px`,background:m.palette.type==="dark"?"#444":"#fff"}}),{name:"BackstageMissingAnnotationEmptyState"});function rt(m){const{annotation:v,readMoreUrl:O}=m,U=O||"https://backstage.io/docs/features/software-catalog/well-known-annotations",J=_e(),oe=n.createElement(n.Fragment,null,"The ",n.createElement("code",null,v)," annotation is missing. You need to add the annotation to your component if you want to enable this tool.");return n.createElement(he,{missing:"field",title:"Missing Annotation",description:oe,action:n.createElement(n.Fragment,null,n.createElement(ke.Z,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),n.createElement("div",{className:J.code},n.createElement(Ae,{text:Ne.replace("ANNOTATION",v),language:"yaml",showLineNumbers:!0,highlightedNumbers:[6,7],customStyle:{background:"inherit",fontSize:"115%"}})),n.createElement(E.Z,{color:"primary",component:D,to:U},"Read more"))})}var it=e(11776),gt=e(38402),Rt=e(49378),Bt=e(41128),Ht=e(27616),Gt=e(8284),Qt=e(70660),Nt=e(91750),dn=e(38016);const wt=(m,v)=>(v.palette.type==="light"?Bt._j:Bt.$n)(v.palette[m].light,.6),tn=(m,v)=>(v.palette.type==="light"?Bt.$n:Bt._j)(v.palette[m].light,.9),Jt=(0,u.Z)(m=>({root:{marginRight:m.spacing(1),fill:({severity:v})=>wt(v,m)}})),Rn=({severity:m})=>{const v=Jt({severity:m});return n.createElement(Nt.Z,{classes:v})},Dn=({severity:m})=>{const v=Jt({severity:m});return n.createElement(dn.Z,{classes:v})},nn=(0,u.Z)(m=>({panel:{backgroundColor:({severity:v})=>tn(v,m),color:({severity:v})=>wt(v,m),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:v})=>wt(v,m),fontWeight:"bold"},message:{width:"100%",display:"block",color:({severity:v})=>wt(v,m),backgroundColor:({severity:v})=>tn(v,m)},details:{width:"100%",display:"block",color:m.palette.textContrast,backgroundColor:m.palette.background.default,border:`1px solid ${m.palette.border}`,padding:m.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Xt=m=>m.charAt(0).toLocaleUpperCase("en-US")+m.slice(1);function hn(m){const{severity:v="warning",title:O,message:U,children:J,defaultExpanded:oe}=m,xe=nn({severity:v}),De=Xt(v)+(O?`: ${O}`:"");return n.createElement(Ht.Z,{defaultExpanded:oe!=null?oe:!1,className:xe.panel,role:"alert"},n.createElement(Gt.Z,{expandIcon:n.createElement(Dn,{severity:v}),className:xe.summary},n.createElement(Rn,{severity:v}),n.createElement(ke.Z,{className:xe.summaryText,variant:"subtitle1"},De)),(U||J)&&n.createElement(Qt.Z,null,n.createElement(at.Z,{container:!0},U&&n.createElement(at.Z,{item:!0,xs:12},n.createElement(ke.Z,{className:xe.message,variant:"body1"},U)),J&&n.createElement(at.Z,{item:!0,xs:12,className:xe.details},J))))}const pn=(0,u.Z)(m=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:m.spacing(2)},divider:{margin:m.spacing(2)}}),{name:"BackstageErrorPanel"}),qt=({error:m,message:v,stack:O,children:U})=>{const J=pn();return n.createElement(it.Z,{dense:!0},n.createElement(gt.Z,{alignItems:"flex-start"},n.createElement(Rt.Z,{classes:{secondary:J.text},primary:"Error",secondary:m}),n.createElement(ue,{text:m})),n.createElement(gt.Z,{alignItems:"flex-start"},n.createElement(Rt.Z,{classes:{secondary:J.text},primary:"Message",secondary:v}),n.createElement(ue,{text:v})),O&&n.createElement(gt.Z,{alignItems:"flex-start"},n.createElement(Rt.Z,{classes:{secondary:J.text},primary:"Stack Trace",secondary:O}),n.createElement(ue,{text:O})),U)};function Zn(m){const{title:v,error:O,defaultExpanded:U,children:J}=m;return n.createElement(hn,{severity:"error",title:v!=null?v:O.message,defaultExpanded:U},n.createElement(qt,{error:O.name,message:O.message,stack:O.stack,children:J}))}var kn=e(85256);const Oe=(0,u.Z)(m=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:m.spacing(2)},divider:{margin:m.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function K(m){var Et;const{title:v,error:O,defaultExpanded:U}=m,J=Oe();if(O.name!=="ResponseError")return n.createElement(Zn,{title:v!=null?v:O.message,defaultExpanded:U,error:O});const{body:oe,cause:xe}=O,{request:De,response:we}=oe,Fe=`${we.statusCode}: ${xe.name}`,et=De&&`${De.method} ${De.url}`,Xe=xe.message.replace(/\\n/g,`
`),mt=(Et=xe.stack)==null?void 0:Et.replace(/\\n/g,`
`),ht=JSON.stringify(oe,void 0,2);return n.createElement(Zn,{title:v!=null?v:O.message,defaultExpanded:U,error:{name:Fe,message:Xe,stack:mt}},et&&n.createElement(gt.Z,{alignItems:"flex-start"},n.createElement(Rt.Z,{classes:{secondary:J.text},primary:"Request",secondary:De?`${et}`:void 0}),n.createElement(ue,{text:et})),n.createElement(n.Fragment,null,n.createElement(kn.Z,{component:"li",className:J.divider}),n.createElement(gt.Z,{alignItems:"flex-start"},n.createElement(Rt.Z,{classes:{secondary:J.text},primary:"Full Error as JSON"})),n.createElement(Ae,{language:"json",text:ht,showCopyCodeButton:!0})))}var ye=e(47093);function be(m){const v=document.createElement("div");return v.setAttribute("id",m),v}function Ke(m){document.body.insertBefore(m,document.body.lastElementChild.nextElementSibling)}function ct(m){const v=useRef(null);useEffect(function(){const J=document.querySelector(`#${m}`),oe=J||be(m);return J||Ke(oe),oe.appendChild(v.current),function(){v.current.remove(),oe.childNodes.length===-1&&oe.remove()}},[m]);function O(){return v.current||(v.current=document.createElement("div")),v.current}return O()}var lt=null;const Ct="core.calloutSeen";function jt(){const[m,v]=useState(()=>{const U=localStorage.getItem(Ct);return U?JSON.parse(U):{}}),O=useCallback((U,J)=>{const oe=localStorage.getItem(Ct),De={...oe?JSON.parse(oe):{},[U]:J};v(De),localStorage.setItem(Ct,JSON.stringify(De))},[]);return{states:m,setState:O}}function an(m){const{states:v,setState:O}=jt(),U=useCallback(()=>{O(m,!0)},[O,m]);return{seen:v[m]===!0,markSeen:U}}function Xn(m){const{seen:v,markSeen:O}=an(m);return{show:v===!1,hide:O}}const rn=(0,u.Z)({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:"2px solid white",zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:"white",zIndex:2003}},{name:"BackstageFeatureCalloutCircular"});function Us(m){const{featureId:v,title:O,description:U,children:J}=m,{show:oe,hide:xe}=useShowCallout(v),De=usePortal("core.callout"),we=useRef(null),[Fe,et]=useState(),Xe=rn(),mt=useCallback(()=>{if(we.current){const ht=we.current.getBoundingClientRect(),Et=Math.max(ht.width,ht.height),zt=800,on=ht.x-(Et-ht.width)/2-zt,gn=ht.y-(Et-ht.height)/2-zt,fn=Et+2*zt,$t=450,sn=ht.x+ht.width/2-$t,un=ht.y-(Et-ht.height)/2+Et+20;et({dotLeft:on,dotTop:gn,dotSize:fn,borderWidth:zt,textTop:un,textLeft:sn,textWidth:$t})}},[]);return useEffect(()=>(window.addEventListener("resize",mt),window.addEventListener("scroll",mt),()=>{window.removeEventListener("resize",mt),window.removeEventListener("scroll",mt)}),[mt]),useLayoutEffect(mt,[we.current,mt]),oe?React.createElement(React.Fragment,null,React.createElement("div",{className:Xe.featureWrapper,ref:we},J),createPortal(React.createElement("div",{className:Xe.backdrop},React.createElement(ClickAwayListener,{onClickAway:xe},React.createElement(React.Fragment,null,React.createElement("div",{className:Xe.dot,"data-testid":"dot",style:{left:Fe==null?void 0:Fe.dotLeft,top:Fe==null?void 0:Fe.dotTop,width:Fe==null?void 0:Fe.dotSize,height:Fe==null?void 0:Fe.dotSize,borderWidth:Fe==null?void 0:Fe.borderWidth},onClick:xe,onKeyDown:xe,role:"button",tabIndex:0},React.createElement("div",{className:Xe.pulseCircle})),React.createElement("div",{className:Xe.text,"data-testid":"text",style:{left:Fe==null?void 0:Fe.textLeft,top:Fe==null?void 0:Fe.textTop,width:Fe==null?void 0:Fe.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},O),React.createElement(Typography,null,U))))),De)):React.createElement(React.Fragment,null,J)}var Ra=e(35292);const ho=(0,u.Z)(m=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:"gray",cursor:"default"},primary:{color:m.palette.primary.main},secondary:{color:m.palette.secondary.main},label:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function Lr({color:m="primary",disabled:v=!1,href:O="#",icon:U=n.createElement(Ra.Z,null),label:J,onClick:oe,title:xe}){const De=ho();return v?n.createElement(T.Z,{title:xe,className:S()(De.link,De.disabled),underline:"none"},U,n.createElement("span",{className:De.label},J)):n.createElement(T.Z,{title:xe,className:S()(De.link,De[m]),to:O,component:D,onClick:oe},U,n.createElement("span",{className:De.label},J))}const po=(0,u.Z)(m=>({links:{margin:m.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:m.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function Eo(m){const{links:v}=m,O=po();return n.createElement("nav",{className:O.links},v.map((U,J)=>n.createElement(Lr,{key:J+1,...U})))}const Qa=m=>{const v=m==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${v}) 0%,
    hsla(0, 0%, ${v}, 0.987) 8.1%,
    hsla(0, 0%, ${v}, 0.951) 15.5%,
    hsla(0, 0%, ${v}, 0.896) 22.5%,
    hsla(0, 0%, ${v}, 0.825) 29%,
    hsla(0, 0%, ${v}, 0.741) 35.3%,
    hsla(0, 0%, ${v}, 0.648) 41.2%,
    hsla(0, 0%, ${v}, 0.55) 47.1%,
    hsla(0, 0%, ${v}, 0.45) 52.9%,
    hsla(0, 0%, ${v}, 0.352) 58.8%,
    hsla(0, 0%, ${v}, 0.259) 64.7%,
    hsla(0, 0%, ${v}, 0.175) 71%,
    hsla(0, 0%, ${v}, 0.104) 77.5%,
    hsla(0, 0%, ${v}, 0.049) 84.5%,
    hsla(0, 0%, ${v}, 0.013) 91.9%,
    hsla(0, 0%, ${v}, 0) 100%
  `},yo=100,ir=10,vo=(0,u.Z)(m=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:yo,height:`calc(100% + ${ir}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-ir,background:`linear-gradient(90deg, ${Qa(m.palette.type)})`},fadeRight:{right:-ir,background:`linear-gradient(270deg, ${Qa(m.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-m.spacing(2)},buttonRight:{right:-m.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function Ao(m){const[[v,O],U]=React.useState([0,0]);return React.useLayoutEffect(()=>{const J=m.current;if(!J){U([0,0]);return}const oe=()=>{const xe=J.scrollLeft,De=J.scrollWidth-J.offsetWidth-J.scrollLeft;U([xe,De])};return oe(),J.addEventListener("scroll",oe),window.addEventListener("resize",oe),()=>{J.removeEventListener("scroll",oe),window.removeEventListener("resize",oe)}},[m]),[v,O]}function Pn(m,v,O){const[U,J]=React.useState(0);return React.useLayoutEffect(()=>{if(U===0)return;const oe=performance.now(),xe=requestAnimationFrame(De=>{if(!m.current)return;const we=De-oe,Fe=Math.abs(U)*we/v,Xe=Math.max(O,Fe)*Math.sign(U);m.current.scrollBy({left:Xe});const mt=U-Xe;Math.sign(U)!==Math.sign(mt)?J(0):J(mt)});return()=>cancelAnimationFrame(xe)},[m,U,v,O]),J}function sa(m){const{scrollStep:v=100,scrollSpeed:O=50,minScrollDistance:U=5,children:J,...oe}=m,xe=vo(m),De=React.useRef(),[we,Fe]=Ao(De),et=Pn(De,O,U),Xe=mt=>{!De.current||et(mt?v:-v)};return React.createElement("div",{...oe,className:xe.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:xe.container,ref:De},J),React.createElement("div",{className:classNames(xe.fade,xe.fadeLeft,{[xe.fadeHidden]:we===0})}),React.createElement("div",{className:classNames(xe.fade,xe.fadeRight,{[xe.fadeHidden]:Fe===0})}),we>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>Xe(!1),className:classNames(xe.button,xe.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),Fe>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>Xe(!0),className:classNames(xe.button,xe.buttonRight,{})},React.createElement(ChevronRightIcon,null)))}const Pa=(0,u.Z)({alpha:{color:"#ffffff",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}},{name:"BackstageLifecycle"});function lr(m){const v=Pa(m),{shorthand:O,alpha:U}=m;return O?n.createElement("span",{className:v[U?"alpha":"beta"],style:{fontSize:"120%"}},U?n.createElement(n.Fragment,null,"\u03B1"):n.createElement(n.Fragment,null,"\u03B2")):n.createElement("span",{className:v[U?"alpha":"beta"]},U?"Alpha":"Beta")}const br=(0,n.lazy)(()=>Promise.all([e.e(7423),e.e(4742)]).then(e.bind(e,44742)).then(m=>({default:m.RealLogViewer})));function Ea(m){const{Progress:v}=(0,a.useApp)().getComponents();return n.createElement(n.Suspense,{fallback:n.createElement(v,null)},n.createElement(br,{...m}))}var cr=e(49448),Or=e(60251);const Ma=(0,u.Z)(m=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${m.palette.border}`},"& th, & td":{border:`1px solid ${m.palette.border}`,padding:m.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:m.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:m.palette.background.paper},"& tr":{backgroundColor:m.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:m.palette.background.default},"& a":{color:m.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),zn={code:({inline:m,className:v,children:O,...U})=>{const J=String(O).replace(/\n+$/,""),oe=/language-(\w+)/.exec(v||"");return!m&&oe?n.createElement(Ae,{language:oe[1],text:J}):n.createElement("code",{className:v,...U},O)}};function qn(m){const{content:v,dialect:O="gfm",linkTarget:U}=m,J=Ma();return n.createElement(cr.D,{remarkPlugins:O==="gfm"?[Or.Z]:[],className:J.markdown,children:v,components:zn,linkTarget:U})}var Fa=e(8629),ur=e(49429),ca=e(38724),ka=e(79249),Co=e(72164),Dr=e(3806),ua=e(10179);const ya=(0,u.Z)(m=>({root:{paddingLeft:m.spacing(3)}}),{name:"BackstageLoginRequestListItem"});var Br=({request:m,busy:v,setBusy:O})=>{const U=ya(),[J,oe]=(0,n.useState)(),xe=async()=>{O(!0);try{await m.trigger()}catch(we){oe((0,ua.VZ)(we)?we.message:"An unspecified error occurred")}finally{O(!1)}},De=m.provider.icon;return n.createElement(gt.Z,{disabled:v,classes:{root:U.root}},n.createElement(Dr.Z,null,n.createElement(De,{fontSize:"large"})),n.createElement(Rt.Z,{primary:m.provider.title,secondary:J&&n.createElement(ke.Z,{color:"error"},J)}),n.createElement(E.Z,{color:"primary",variant:"contained",onClick:xe},"Log in"))};const So=(0,u.Z)(m=>({dialog:{paddingTop:m.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:m.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:m.spacing(2,0)}}),{name:"OAuthRequestDialog"});function Ro(m){const v=So(),[O,U]=(0,n.useState)(!1),J=(0,a.useApi)(a.oauthRequestApiRef),oe=(0,Co.Z)((0,n.useMemo)(()=>J.authRequest$(),[J]),[]),xe=()=>{oe.forEach(De=>De.reject())};return n.createElement(Fa.Z,{open:Boolean(oe.length),fullWidth:!0,maxWidth:"xs",classes:{paper:v.dialog},"aria-labelledby":"oauth-req-dialog-title"},n.createElement("main",null,n.createElement(ka.Z,{classes:{root:v.title},id:"oauth-req-dialog-title"},n.createElement(ke.Z,{className:v.titleHeading,variant:"h1"},"Login Required")),n.createElement(ca.Z,{dividers:!0,classes:{root:v.contentList}},n.createElement(it.Z,null,oe.map(De=>n.createElement(Br,{key:De.provider.title,request:De,busy:O,setBusy:U}))))),n.createElement(ur.Z,{classes:{root:v.actionButtons}},n.createElement(E.Z,{onClick:xe},"Reject All")))}var Po=e(15277),Mr=e.n(Po),Fr=e(29862);const To=(0,u.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function Io(m){var xe;const[v,O]=(0,n.useState)(!1),U=(0,Fr.t)(),J=To(),oe=De=>{U()&&O(De)};return n.createElement(G.ZP,{title:(xe=m.title)!=null?xe:m.text||"",placement:m.placement,disableHoverListener:!v},n.createElement(Mr(),{text:m.text,line:m.line,onToggled:oe,containerClassName:J.container}))}var Ua=e(67358);function Na(m){const[v,O]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{const U=setTimeout(()=>O(!0),250);return()=>clearTimeout(U)},[]),v?n.createElement(Ua.Z,{...m,"data-testid":"progress"}):n.createElement("div",{style:{display:"none"}})}var Ta=e(94339),Ia=e(14503),dr=e(24579),mr=e(32552),Bn=e(15459),_n=e(95544),Ur=e(27597);const xo=(0,u.Z)(m=>({root:{maxWidth:"fit-content",padding:m.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:m.palette.textSubtle},arrow:{color:m.palette.textSubtle}}),{name:"BackstageBottomLink"});function Nr(m){const{link:v,title:O,onClick:U}=m,J=xo();return n.createElement("div",null,n.createElement(kn.Z,null),n.createElement(D,{to:v,onClick:U,underline:"none"},n.createElement(_n.Z,{display:"flex",alignItems:"center",className:J.root},n.createElement(_n.Z,{className:J.boxTitle,fontWeight:"fontWeightBold",m:1},n.createElement(ke.Z,null,n.createElement("strong",null,O))),n.createElement(Ur.Z,{className:J.arrow}))))}const Zo=m=>{const{slackChannel:v}=m;if(v){if(typeof v=="string")return n.createElement(n.Fragment,null,"Please contact ",v," for help.");if(!v.href)return n.createElement(n.Fragment,null,"Please contact ",v.name," for help.")}else return null;return n.createElement(w,{to:v.href,variant:"contained"},v.name)},$r=class extends n.Component{constructor(v){super(v),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(v,O){console.error(`ErrorBoundary, error: ${v}, info: ${O}`),this.setState({error:v,errorInfo:O})}render(){const{slackChannel:v,children:O}=this.props,{error:U}=this.state;return U?n.createElement(Zn,{title:"Something Went Wrong",error:U},n.createElement(Zo,{slackChannel:v})):O}},Lo=(0,u.Z)(m=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:m.spacing(2,2,2,2.5)},headerTitle:{fontWeight:700},headerSubheader:{paddingTop:m.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),bo=(0,Bn.Z)(m=>({root:{display:"inline-block",padding:m.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(Ia.Z),Wr={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function $a(m){const{title:v,subheader:O,divider:U=!0,deepLink:J,slackChannel:oe,errorBoundaryProps:xe,variant:De,children:we,headerStyle:Fe,headerProps:et,icon:Xe,action:mt,actionsClassName:ht,actions:Et,cardClassName:zt,actionsTopRight:on,className:gn,noPadding:fn,titleTypographyProps:$t}=m,sn=Lo();let un={},An={};De&&De.split(/[\s]+/g).forEach(_t=>{un={...un,...Wr.card[_t]},An={...An,...Wr.cardContent[_t]}});const fa=()=>n.createElement("div",{className:sn.headerSubheader},O&&n.createElement("div",{className:sn.subheader},O),Xe),na=xe||(oe?{slackChannel:oe}:{});return n.createElement(Ta.Z,{style:un,className:gn},n.createElement($r,{...na},v&&n.createElement(mr.Z,{classes:{root:sn.header,title:sn.headerTitle,subheader:sn.headerSubheader,avatar:sn.headerAvatar,action:sn.headerAction,content:sn.headerContent},title:v,subheader:fa(),action:mt,style:{...Fe},titleTypographyProps:$t,...et}),on&&n.createElement(bo,null,on),U&&n.createElement(kn.Z,null),n.createElement(dr.Z,{className:S()(zt,{[sn.noPadding]:fn}),style:An},we),Et&&n.createElement(Ia.Z,{className:ht},Et),J&&n.createElement(Nr,{...J})))}var Fl=e(70413);const ve=(0,u.Z)(m=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:45,fontWeight:"bold",color:m.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),Ze={fractional:!0,inverse:!1,unit:"%",max:100},Ue=({palette:m,value:v,inverse:O,max:U})=>{if(isNaN(v))return"#ddd";const J=U||Ze.max,oe=O?J-v:v;return oe<J/3?m.status.error:oe<J*(2/3)?m.status.warning:m.status.ok};function ze(m){const[v,O]=useState(null),{getColor:U=Ue}=m,J=ve(m),{palette:oe}=useTheme(),{value:xe,fractional:De,inverse:we,unit:Fe,max:et,description:Xe}={...Ze,...m},mt=De?Math.round(xe*et):xe,ht=et!==100?Math.round(xe):mt,[Et,zt]=useState(!1);return useEffect(()=>{const on=v,gn=()=>zt(!0),fn=()=>zt(!1);return on&&Xe?(on.addEventListener("mouseenter",gn),on.addEventListener("mouseleave",fn),()=>{on.removeEventListener("mouseenter",gn),on.removeEventListener("mouseleave",fn)}):()=>{zt(!1)}},[Xe,v]),React.createElement("div",{ref:O,className:J.root},React.createElement(Circle,{strokeLinecap:"butt",percent:mt,strokeWidth:12,trailWidth:12,strokeColor:U({palette:oe,value:ht,inverse:we,max:et}),className:J.circle}),Xe&&Et?React.createElement("div",{className:J.description},Xe):React.createElement("div",{className:J.overlay},isNaN(xe)?"N/A":`${ht}${Fe}`))}const Ye=(0,u.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function Je(m){const v=Ye(m),{title:O,subheader:U,progress:J,inverse:oe,deepLink:xe,description:De,icon:we,variant:Fe,getColor:et}=m,Xe={inverse:oe,description:De,getColor:et,value:J};return React.createElement("div",{className:v.root},React.createElement(InfoCard,{title:O,subheader:U,deepLink:xe,variant:Fe,icon:we},React.createElement(Gauge,{...Xe})))}function dt(m){const{value:v,getColor:O=getProgressColor}=m,{palette:U}=useTheme();if(isNaN(v))return null;let J=Math.round(v*100*100)/100;J>100&&(J=100);const oe=O({palette:U,value:J,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${J}%`},React.createElement("span",null,React.createElement(Line,{percent:J,strokeWidth:4,trailWidth:4,strokeColor:oe})))}var yt=e(21324),xt=e(7089),St=e(1292),pt=e(42494),It=e(74603),bt=e(56939),Yt=e(12231),Ft=e(73698),Ot=e(72379);const mn=(0,u.Z)(()=>(0,f.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageClosedDropdown"});var da=()=>{const m=mn();return n.createElement(Ot.Z,{className:m.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))};const Tn=(0,u.Z)(()=>(0,f.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"});var Un=()=>{const m=Tn();return n.createElement(Ot.Z,{className:m.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))};const Nn=(0,Bn.Z)(m=>(0,f.Z)({root:{"label + &":{marginTop:m.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:m.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:m.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:m.palette.background.paper,borderRadius:4}}}),{name:"BackstageSelectInputBase"})(It.Z),Wa=(0,u.Z)(m=>(0,f.Z)({formControl:{margin:`${m.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:m.typography.fontFamily,color:m.palette.text.primary,"&.Mui-focused":{color:m.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:m.typography.fontFamily,color:m.palette.text.primary,"&.Mui-focused":{color:m.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function xa(m){const{multiple:v,items:O,label:U,placeholder:J,selected:oe,onChange:xe,triggerReset:De,native:we=!1,disabled:Fe=!1}=m,et=Wa(),[Xe,mt]=(0,n.useState)(oe||(v?[]:"")),[ht,Et]=(0,n.useState)(!1);(0,n.useEffect)(()=>{mt(v?[]:"")},[De,v]),(0,n.useEffect)(()=>{oe!==void 0&&mt(oe)},[oe]);const zt=$t=>{mt($t.target.value),xe($t.target.value)},on=$t=>{if(Fe){$t.preventDefault();return}Et(sn=>v&&!($t.target instanceof HTMLElement)?!0:!sn)},gn=()=>{Et(!1)},fn=$t=>()=>{const sn=Xe.filter(un=>un!==$t);mt(sn),xe(sn)};return n.createElement("div",{className:et.root},n.createElement(St.Z,{onClickAway:gn},n.createElement(pt.Z,{className:et.formControl},n.createElement(bt.Z,{className:et.formLabel},U),n.createElement(Ft.Z,{"aria-label":U,value:Xe,native:we,disabled:Fe,"data-testid":"select",displayEmpty:!0,multiple:v,onChange:zt,onClick:on,open:ht,input:n.createElement(Nn,null),label:U,tabIndex:0,renderValue:$t=>{var sn;return v&&Xe.length!==0?n.createElement("div",{className:et.chips},$t.map(un=>{var An,fa;return n.createElement(xt.Z,{key:(An=O.find(na=>na.value===un))==null?void 0:An.value,label:(fa=O.find(na=>na.value===un))==null?void 0:fa.label,clickable:!0,onDelete:fn(un),className:et.chip})})):n.createElement(ke.Z,null,Xe.length===0?J||"":(sn=O.find(un=>un.value===$t))==null?void 0:sn.label)},IconComponent:()=>ht?n.createElement(Un,null):n.createElement(da,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},J&&!v&&n.createElement(Yt.Z,{value:[]},J),we?O&&O.map($t=>n.createElement("option",{value:$t.value,key:$t.value},$t.label)):O&&O.map($t=>n.createElement(Yt.Z,{key:$t.value,value:$t.value},v&&n.createElement(yt.Z,{color:"primary",checked:Xe.includes($t.value)||!1,className:et.checkbox}),$t.label))))))}var jr=e(31625);const Ln=()=>{},Fn=n.createContext({stepperLength:0,stepIndex:0,setStepIndex:Ln,stepHistory:[],setStepHistory:Ln,onStepChange:Ln});function Za(m){const{children:v,elevated:O,onStepChange:U,activeStep:J=0}=m,[oe,xe]=(0,n.useState)(J),[De,we]=(0,n.useState)([0]);(0,n.useEffect)(()=>{xe(J)},[J]);const Fe=[];let et;return n.Children.forEach(v,Xe=>{(0,n.isValidElement)(Xe)&&(Xe.props.end?et=Xe:Fe.push(Xe))}),n.createElement(n.Fragment,null,n.createElement(Fn.Provider,{value:{stepIndex:oe,setStepIndex:xe,stepHistory:De,setStepHistory:we,onStepChange:U,stepperLength:n.Children.count(v)}},n.createElement(jr.Z,{activeStep:oe,orientation:"vertical",elevation:O?2:0},Fe)),oe>=n.Children.count(v)-1&&et)}var gr=e(31377),$s=e(63115),fr=e(34546);const Ws=(0,u.Z)(m=>({root:{marginTop:m.spacing(3),"& button":{marginRight:m.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),Ul=({text:m,handleClick:v})=>n.createElement(E.Z,{onClick:v},m||"Reset"),Nl=({text:m,handleClick:v,disabled:O,last:U,stepIndex:J})=>n.createElement(E.Z,{variant:"contained",color:"primary",disabled:O,"data-testid":`nextButton-${J}`,onClick:v},m||(U?"Finish":"Next")),$l=({text:m,handleClick:v,disabled:O,stepIndex:U})=>n.createElement(E.Z,{onClick:v,"data-testid":`backButton-${U}`,disabled:O},m||"Back"),zr=({actions:m={},children:v})=>{const O=Ws(),{stepperLength:U,stepIndex:J,setStepIndex:oe,stepHistory:xe,setStepHistory:De,onStepChange:we}=(0,n.useContext)(Fn),Fe=(ht,Et)=>{Et&&Et(),we&&we(J,ht),oe(ht)},et=()=>{const ht=m.nextStep?m.nextStep(J,U-1):J+1;Fe(ht,m.onNext),De([...xe,ht])},Xe=()=>{xe.pop(),Fe(xe[xe.length-1],m.onBack),De([...xe])},mt=()=>{Fe(0,m.onRestart),De([0])};return n.createElement("div",{className:O.root},[void 0,!0].includes(m.showBack)&&J!==0&&n.createElement($l,{text:m.backText,handleClick:Xe,disabled:J===0,stepIndex:J}),[void 0,!0].includes(m.showNext)&&n.createElement(Nl,{text:m.nextText,handleClick:et,disabled:!!U&&J>=U||!!m.canNext&&!m.canNext(),stepIndex:J}),m.showRestart&&J!==0&&n.createElement(Ul,{text:m.restartText,handleClick:mt,stepIndex:J}),v)},Oo=(0,u.Z)(m=>({end:{padding:m.spacing(3)}}),{name:"SimpleStepperStep"});function Wl(m){const{title:v,children:O,end:U,actions:J,...oe}=m,xe=Oo();return U?n.createElement("div",{className:xe.end},n.createElement(ke.Z,{variant:"h6"},v),O,n.createElement(zr,{actions:{...J||{},showNext:!1}})):n.createElement(gr.Z,{...oe},n.createElement(fr.Z,null,n.createElement(ke.Z,{variant:"h6"},v)),n.createElement($s.Z,null,O,n.createElement(zr,{actions:J})))}const ja=(0,u.Z)(m=>({status:{fontWeight:500,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:8,borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:m.palette.status.ok}},warning:{"&::before":{backgroundColor:m.palette.status.warning}},error:{"&::before":{backgroundColor:m.palette.status.error}},pending:{"&::before":{backgroundColor:m.palette.status.pending}},running:{"&::before":{backgroundColor:m.palette.status.running}},aborted:{"&::before":{backgroundColor:m.palette.status.aborted}}}),{name:"BackstageStatus"});function js(m){const v=ja(m);return n.createElement("span",{className:S()(v.status,v.ok),"aria-label":"Status ok","aria-hidden":"true",...m})}function jl(m){const v=ja(m);return n.createElement("span",{className:S()(v.status,v.warning),"aria-label":"Status warning","aria-hidden":"true",...m})}function zs(m){const v=ja(m);return n.createElement("span",{className:S()(v.status,v.error),"aria-label":"Status error","aria-hidden":"true",...m})}function La(m){const v=ja(m);return n.createElement("span",{className:S()(v.status,v.pending),"aria-label":"Status pending","aria-hidden":"true",...m})}function ws(m){const v=ja(m);return n.createElement("span",{className:S()(v.status,v.running),"aria-label":"Status running","aria-hidden":"true",...m})}function zl(m){const v=ja(m);return n.createElement("span",{className:S()(v.status,v.aborted),"aria-label":"Status aborted","aria-hidden":"true",...m})}var Ks=e(74600),Gs=e.n(Ks),Hs=e(37390),wr=e(97485),Kr=e(15584),Do=e(89571);const Gr=m=>(0,f.Z)({root:{fontWeight:"bolder",whiteSpace:"nowrap",paddingRight:m.spacing(4),border:"0",verticalAlign:"top"}}),Bo={root:{border:"0",verticalAlign:"top"}},ma=m=>(0,f.Z)({root:{listStyle:"none",margin:m.spacing(0,0,-1,0),padding:"0"}}),Vs=m=>(0,f.Z)({root:{padding:m.spacing(0,0,1,0)},random:{}}),Hr=(0,Bn.Z)(Gr,{name:"BackstageMetadataTableTitleCell"})(Kr.Z),Js=(0,Bn.Z)(Bo,{name:"BackstageMetadataTableCell"})(Kr.Z),Mo=({dense:m,children:v})=>n.createElement(Hs.Z,{size:m?"small":"medium"},n.createElement(wr.Z,null,v)),Ys=({title:m,children:v,...O})=>n.createElement(Do.Z,null,m&&n.createElement(Hr,null,m),n.createElement(Js,{colSpan:m?1:2,...O},v)),Qs=(0,Bn.Z)(ma,{name:"BackstageMetadataTableList"})(({classes:m,children:v})=>n.createElement("ul",{className:m.root},v)),ba=(0,Bn.Z)(Vs,{name:"BackstageMetadataTableListItem"})(({classes:m,children:v})=>n.createElement("li",{className:m.root},v)),ks=(0,f.Z)({root:{margin:"0 0",listStyleType:"none"}}),Xs=m=>(0,f.Z)({root:{...ks.root,paddingLeft:m.spacing(1)}}),_s=(0,Bn.Z)(ks,{name:"BackstageStructuredMetadataTableList"})(({classes:m,children:v})=>n.createElement(Qs,{classes:m},v)),In=(0,Bn.Z)(Xs,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:m,children:v})=>n.createElement(Qs,{classes:m},v));function ei(m,v){const O=m.map((U,J)=>n.createElement(ba,{key:J},hr(U)));return v?n.createElement(In,null,O):n.createElement(_s,null,O)}function wl(m,v,O){const U=Object.keys(m).map(J=>{const oe=hr(m[J],!0),xe=O&&O.titleFormat?O.titleFormat(J):Gs()(J);return n.createElement(ba,{key:J},`${xe}: `,oe)});return v?n.createElement(In,null,U):n.createElement(_s,null,U)}function hr(m,v,O){return n.isValidElement(m)?n.createElement(n.Fragment,null,m):typeof m=="object"&&!Array.isArray(m)?wl(m,v,O):Array.isArray(m)?ei(m,O):typeof m=="boolean"?n.createElement(n.Fragment,null,m?"\u2705":"\u274C"):n.createElement(n.Fragment,null,m)}const ti=({value:m,options:v})=>n.createElement(n.Fragment,null,hr(m,v)),Kl=({title:m,value:v,options:O})=>n.createElement(Ys,{title:O&&O.titleFormat?O.titleFormat(m):Gs()(m)},n.createElement(ti,{value:v,options:O}));function ni(m,v){return Object.keys(m).map(O=>n.createElement(Kl,{key:O,title:O,value:m[O],options:v}))}function Fo(m){const{metadata:v,dense:O=!0,options:U}=m,J=ni(v,U||{});return n.createElement(Mo,{dense:O},J)}var Vr=e(86136),Uo=e(79784),za=e(76635),ai=e(19126),pr=e.n(ai),Gl=e(80277);function No(m){return pr().stringify(m,{strictNullHandling:!0})}function Jr(m){return pr().parse(m,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function ri(m,v){return Jr(m)[v]}function oi(m,v,O){const U={...Jr(m),[v]:O};return No(U)}function $o(m,v=250){const[O,U]=(0,P.lr)(),J=O.toString(),[oe,xe]=(0,n.useState)(ri(J,m));return(0,n.useEffect)(()=>{const De=ri(J,m);xe(we=>(0,za.isEqual)(De,we)?we:De)},[J,xe,m]),(0,Gl.b)(()=>{const De=oi(J,m,oe);J!==De&&U(De,{replace:!0})},[U,oe,J,m],v),[oe,xe]}const va={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function Wo(){const v=(0,a.useApiHolder)().get(a.configApiRef),O=v==null?void 0:v.getOptionalConfig("app.support");return O?{url:O.getString("url"),items:O.getConfigArray("items").flatMap(U=>{var J;return{title:U.getString("title"),icon:U.getOptionalString("icon"),links:((J=U.getOptionalConfigArray("links"))!=null?J:[]).flatMap(oe=>({url:oe.getString("url"),title:oe.getString("title")}))}})}:va}var si=e(80079);function ea(m,v){const U=(0,a.useApp)().getSystemIcon(m);return U?n.createElement(U,{...v}):n.createElement(si.Z,{...v})}function Hl(m){return ea("brokenImage",m)}function ii(m){return ea("catalog",m)}function Vl(m){return ea("chat",m)}function Yr(m){return ea("dashboard",m)}function li(m){return ea("docs",m)}function Jl(m){return ea("email",m)}function ta(m){return ea("github",m)}function Hc(m){return ea("group",m)}function Qr(m){return ea("help",m)}function Yl(m){return ea("user",m)}function Vc(m){return ea("warning",m)}const ci=(0,u.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),Ql=({icon:m})=>{var U;const v=(0,a.useApp)(),O=m&&(U=v.getSystemIcon(m))!=null?U:Qr;return n.createElement(O,null)},kl=({link:m})=>{var v;return n.createElement(D,{to:m.url},(v=m.title)!=null?v:m.url)},Xl=({item:m})=>{var v;return n.createElement(gt.Z,null,n.createElement(Vr.Z,null,n.createElement(Ql,{icon:m.icon})),n.createElement(Rt.Z,{primary:m.title,secondary:(v=m.links)==null?void 0:v.reduce((O,U,J)=>[...O,J>0&&n.createElement("br",{key:J}),n.createElement(kl,{link:U,key:U.url})],[])}))};function ql(m){const{title:v,children:O}=m,{items:U}=Wo(),[J,oe]=(0,n.useState)(!1),[xe,De]=(0,n.useState)(null),we=ci(),Fe=(0,ee.Z)(mt=>mt.breakpoints.down("sm")),et=mt=>{De(mt.currentTarget),oe(!0)},Xe=()=>{oe(!1)};return n.createElement(n.Fragment,null,n.createElement(_n.Z,{display:"flex",ml:1},Fe?n.createElement(i.Z,{color:"primary",size:"small",onClick:et,"data-testid":"support-button"},n.createElement(Qr,null)):n.createElement(E.Z,{"data-testid":"support-button","aria-label":"support",color:"primary",onClick:et,startIcon:n.createElement(Qr,null)},"Support")),n.createElement(Uo.ZP,{"data-testid":"support-button-popover",open:J,anchorEl:xe,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:Xe},n.createElement(it.Z,{className:we.popoverList},v&&n.createElement(gt.Z,{alignItems:"flex-start"},n.createElement(ke.Z,{variant:"subtitle1"},v)),n.Children.map(O,(mt,ht)=>n.createElement(gt.Z,{alignItems:"flex-start",key:`child-${ht}`},mt)),U&&U.map((mt,ht)=>n.createElement(Xl,{item:mt,key:`item-${ht}`}))),n.createElement(ur.Z,null,n.createElement(E.Z,{color:"primary",onClick:Xe},"Close"))))}var jo=e(18671),$n=e(10289);const Er=72,ui=24,zo=18,Aa={drawerWidthClosed:Er,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:Er,iconSize:Er-ui*2,iconPadding:ui,selectedIndicatorWidth:3,userBadgePadding:zo,userBadgeDiameter:Er-zo*2,mobileSidebarHeight:56},wo=m=>({...Aa,...m,iconContainerWidth:Aa.drawerWidthClosed,iconSize:Aa.drawerWidthClosed-Aa.iconPadding*2,userBadgeDiameter:Aa.drawerWidthClosed-Aa.userBadgePadding*2}),Ko={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:Aa.defaultOpenDelayMs+200},Go=m=>({...Ko,...m}),di="@backstage/core/sidebar-intro-dismissed",wn=(0,n.createContext)({sidebarConfig:Aa,submenuConfig:Ko}),yr=(0,n.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}});var Xa;(function(m){const v="sidebarPinState";m.SIDEBAR_PIN_STATE=v})(Xa||(Xa={}));const Ho={getSidebarPinState(){let m;try{m=JSON.parse(window.localStorage.getItem(Xa.SIDEBAR_PIN_STATE)||"true")}catch{return!0}return!!m},setSidebarPinState(m){return window.localStorage.setItem(Xa.SIDEBAR_PIN_STATE,JSON.stringify(m))}};var Jn=e(76241);const Vo={isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1},Jo=(0,n.createContext)(Vo),vr=(0,Jn.CT)("sidebar-pin-state-context"),kr=({children:m,value:v})=>n.createElement(Jo.Provider,{value:v},n.createElement(vr.Provider,{value:(0,Jn.EI)({1:v})},m)),qa=()=>{const m=(0,n.useContext)(vr),v=(0,n.useContext)(Jo);if(m===void 0)return v||Vo;const O=m.atVersion(1);if(O===void 0)throw new Error("No context found for version 1.");return O},Yo=(0,u.Z)(m=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[m.breakpoints.up("sm")]:{paddingLeft:v=>v.isPinned?v.sidebarConfig.drawerWidthOpen:v.sidebarConfig.drawerWidthClosed},[m.breakpoints.down("xs")]:{paddingBottom:v=>v.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),Qo=(0,n.createContext)({content:{contentRef:void 0}});function mi(m){const[v,O]=(0,n.useState)(()=>Ho.getSidebarPinState()),{sidebarConfig:U}=(0,n.useContext)(wn),J=(0,n.useRef)(null),oe=(0,n.useMemo)(()=>({content:{contentRef:J}}),[J]);(0,n.useEffect)(()=>{Ho.setSidebarPinState(v)},[v]);const xe=(0,ee.Z)(Fe=>Fe.breakpoints.down("xs"),{noSsr:!0}),De=()=>O(!v),we=Yo({isPinned:v,sidebarConfig:U});return n.createElement(kr,{value:{isPinned:v,toggleSidebarPinState:De,isMobile:xe}},n.createElement(Qo.Provider,{value:oe},n.createElement("div",{className:we.root},m.children)))}function Wn(){const{content:m}=(0,n.useContext)(Qo);return{focusContent:(0,n.useCallback)(()=>{var O,U;(U=(O=m==null?void 0:m.contentRef)==null?void 0:O.current)==null||U.focus()},[m]),contentRef:m==null?void 0:m.contentRef}}const gi={isOpen:!1,setOpen:()=>{}},fi=(0,n.createContext)(gi),hi=(0,Jn.CT)("sidebar-open-state-context"),Xr=({children:m,value:v})=>n.createElement(fi.Provider,{value:v},n.createElement(hi.Provider,{value:(0,Jn.EI)({1:v})},m)),wa=()=>{const m=(0,n.useContext)(hi),v=(0,n.useContext)(fi);if(m===void 0)return v||gi;const O=m.atVersion(1);if(O===void 0)throw new Error("No context found for version 1.");return O};var pi=e(50023),Ei=e(4190),yi=e(44882),vi=e(57998);const Ai=(0,u.Z)(m=>({root:{flexGrow:0,margin:m.spacing(0,2),color:m.palette.navigation.color},selected:v=>({color:`${m.palette.navigation.selectedColor}!important`,borderTop:`solid ${v.sidebarConfig.selectedIndicatorWidth}px ${m.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),Ci=m=>{const{to:v,label:O,icon:U,value:J}=m,{sidebarConfig:oe}=(0,n.useContext)(wn),xe=Ai({sidebarConfig:oe}),De=(0,$n.TH)(),{selectedMenuItemIndex:we,setSelectedMenuItemIndex:Fe}=(0,n.useContext)(_r),et=(mt,ht)=>{Fe(ht===we?-1:ht)},Xe=J===we&&we>=0||J!==we&&!(we>=0)&&v===De.pathname;return n.createElement(vi.Z,{label:O,icon:U,component:D,to:v||De.pathname,onChange:et,value:J,selected:Xe,classes:xe})},qr=m=>{const{children:v,to:O,label:U,icon:J,value:oe}=m,{isMobile:xe}=qa();return xe?n.createElement(Ci,{to:O,label:U,icon:J,value:oe}):n.createElement(n.Fragment,null,v)},_a=(0,u.Z)(m=>({root:{position:"fixed",backgroundColor:m.palette.navigation.background,color:m.palette.navigation.color,bottom:0,left:0,right:0,zIndex:m.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:v=>({background:m.palette.navigation.background,width:"100%",bottom:`${v.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${v.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:m.palette.bursts.fontColor,alignItems:"center",justifyContent:"space-between",padding:m.spacing(2,3)},overlayHeaderClose:{color:m.palette.bursts.fontColor},marginMobileSidebar:v=>({marginBottom:`${v.sidebarConfig.mobileSidebarHeight}px`})})),Si=m=>(0,za.orderBy)(m,({props:{priority:v}})=>Number.isInteger(v)?v:-1,"desc"),ko=n.createElement(qr).type,Ri=({children:m,label:v="Menu",open:O,onClose:U})=>{const{sidebarConfig:J}=(0,n.useContext)(wn),oe=_a({sidebarConfig:J});return n.createElement(Ei.ZP,{anchor:"bottom",open:O,onClose:U,ModalProps:{BackdropProps:{classes:{root:oe.marginMobileSidebar}}},classes:{root:oe.marginMobileSidebar,paperAnchorBottom:oe.overlay}},n.createElement(_n.Z,{className:oe.overlayHeader},n.createElement(ke.Z,{variant:"h3"},v),n.createElement(i.Z,{onClick:U,classes:{root:oe.overlayHeaderClose}},n.createElement(d.Z,null))),n.createElement(_n.Z,{component:"nav"},m))},_r=(0,n.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),Pi=m=>{const{sidebarConfig:v}=(0,n.useContext)(wn),{children:O}=m,U=_a({sidebarConfig:v}),J=(0,$n.TH)(),[oe,xe]=(0,n.useState)(-1);(0,n.useEffect)(()=>{xe(-1)},[J.pathname]);let De=(0,a.useElementFilter)(O,Fe=>Fe.getElements().filter(et=>et.type===ko));if(O)De.length?De=Si(De):De.push(n.createElement(qr,{key:"default_menu",icon:n.createElement(yi.Z,null)},O));else return null;const we=oe>=0&&!De[oe].props.to;return n.createElement(Xr,{value:{isOpen:!0,setOpen:()=>{}}},n.createElement(_r.Provider,{value:{selectedMenuItemIndex:oe,setSelectedMenuItemIndex:xe}},n.createElement(Ri,{label:De[oe]&&De[oe].props.label,open:we,onClose:()=>xe(-1)},De[oe]&&De[oe].props.children),n.createElement(pi.Z,{className:U.root,"data-testid":"mobile-sidebar-root",component:"nav"},De)))},Xo=(0,u.Z)(m=>({drawer:v=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:m.zIndex.appBar,background:m.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:v.sidebarConfig.drawerWidthClosed,transition:m.transitions.create("width",{easing:m.transitions.easing.sharp,duration:m.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:v=>({width:v.sidebarConfig.drawerWidthOpen,transition:m.transitions.create("width",{easing:m.transitions.easing.sharp,duration:m.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"});var Kn;(function(m){m[m.Closed=0]="Closed";const O=0+1;m[m.Idle=O]="Idle";const U=O+1;m[m.Open=U]="Open"})(Kn||(Kn={}));const Ti=m=>{const{sidebarConfig:v}=(0,n.useContext)(wn),{openDelayMs:O=v.defaultOpenDelayMs,closeDelayMs:U=v.defaultCloseDelayMs,disableExpandOnHover:J,children:oe}=m,xe=Xo({sidebarConfig:v}),De=(0,ee.Z)(gn=>gn.breakpoints.down("md"),{noSsr:!0}),[we,Fe]=(0,n.useState)(Kn.Closed),et=(0,n.useRef)(),{isPinned:Xe,toggleSidebarPinState:mt}=qa(),ht=()=>{Xe||J||(et.current&&(clearTimeout(et.current),et.current=void 0),we!==Kn.Open&&!De&&(et.current=window.setTimeout(()=>{et.current=void 0,Fe(Kn.Open)},O),Fe(Kn.Idle)))},Et=()=>{Xe||J||(et.current&&(clearTimeout(et.current),et.current=void 0),we===Kn.Idle?Fe(Kn.Closed):we===Kn.Open&&(et.current=window.setTimeout(()=>{et.current=void 0,Fe(Kn.Closed)},U)))},zt=we===Kn.Open&&!De||Xe,on=gn=>{gn?(Fe(Kn.Open),mt()):(Fe(Kn.Closed),mt())};return n.createElement("nav",{style:{},"aria-label":"sidebar nav"},n.createElement(xi,null),n.createElement(Xr,{value:{isOpen:zt,setOpen:on}},n.createElement("div",{className:xe.root,"data-testid":"sidebar-root",onMouseEnter:J?()=>{}:ht,onFocus:J?()=>{}:ht,onMouseLeave:J?()=>{}:Et,onBlur:J?()=>{}:Et},n.createElement("div",{className:S()(xe.drawer,{[xe.drawerOpen]:zt})},oe))))},Ii=m=>{var we,Fe;const v=wo((we=m.sidebarOptions)!=null?we:{}),O=Go((Fe=m.submenuOptions)!=null?Fe:{}),{children:U,disableExpandOnHover:J,openDelayMs:oe,closeDelayMs:xe}=m,{isMobile:De}=qa();return De?n.createElement(Pi,null,U):n.createElement(wn.Provider,{value:{sidebarConfig:v,submenuConfig:O}},n.createElement(Ti,{openDelayMs:oe,closeDelayMs:xe,disableExpandOnHover:J},U))};function xi(){const{sidebarConfig:m}=(0,n.useContext)(wn),{focusContent:v,contentRef:O}=Wn(),U=Xo({sidebarConfig:m});return O!=null&&O.current?n.createElement(E.Z,{onClick:v,variant:"contained",className:S()(U.visuallyHidden)},"Skip to content"):null}var qo=e(83543),_o=e(59797);function Oa(m,v){const O=new URLSearchParams(v.search).toString(),U=pr().parse(O),J=new URLSearchParams(m.search).toString(),oe=pr().parse(J);return(0,za.isEqual)(v.pathname,m.pathname)&&(0,za.isMatch)(oe,U)}const _l=(0,u.Z)(m=>({item:{height:48,width:"100%","&:hover":{background:"#6f6f6f",color:m.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:m.palette.navigation.color,padding:20,cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:"#FFF"},label:{margin:14,marginLeft:7,fontSize:14,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:"#6f6f6f",color:m.palette.navigation.selectedColor}},textContent:{color:m.palette.navigation.color,paddingLeft:m.spacing(4),paddingRight:m.spacing(1),fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}),{name:"BackstageSidebarSubmenuItem"}),Ca=m=>{const{title:v,to:O,icon:U,dropdownItems:J}=m,oe=_l(),{setIsHoveredOn:xe}=(0,n.useContext)(yr),De=()=>{xe(!1)},we=(0,$n.WU)(O!=null?O:""),Fe=(0,$n.TH)();let et=Oa(Fe,we);const[Xe,mt]=(0,n.useState)(!1),ht=()=>{mt(!Xe)};return J!==void 0?(J.some(Et=>{const zt=(0,$n.i3)(Et.to);return et=Oa(Fe,zt),et}),n.createElement("div",{className:oe.itemContainer},n.createElement(G.ZP,{title:v,enterDelay:500,enterNextDelay:500},n.createElement("button",{onClick:ht,onTouchStart:Et=>Et.stopPropagation(),className:S()(oe.item,et?oe.selected:void 0)},U&&n.createElement(U,{fontSize:"small"}),n.createElement(ke.Z,{variant:"subtitle1",className:oe.label},v),Xe?n.createElement(_o.Z,{className:oe.dropdownArrow}):n.createElement(qo.Z,{className:oe.dropdownArrow}))),J&&Xe&&n.createElement("div",{className:oe.dropdown},J.map((Et,zt)=>n.createElement(G.ZP,{key:zt,title:Et.title,enterDelay:500,enterNextDelay:500},n.createElement(D,{to:Et.to,underline:"none",className:oe.dropdownItem,onClick:De,onTouchStart:on=>on.stopPropagation()},n.createElement(ke.Z,{className:oe.textContent},Et.title))))))):n.createElement("div",{className:oe.itemContainer},n.createElement(G.ZP,{title:v,enterDelay:500,enterNextDelay:500},n.createElement(D,{to:O,underline:"none",className:S()(oe.item,et?oe.selected:void 0),onClick:De,onTouchStart:Et=>Et.stopPropagation()},U&&n.createElement(U,{fontSize:"small"}),n.createElement(ke.Z,{variant:"subtitle1",className:oe.label},v))))},ec=(0,u.Z)(m=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:m.spacing(7)+1},drawer:v=>{var O,U;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[m.breakpoints.up("sm")]:{marginLeft:v.left,transition:m.transitions.create("margin-left",{easing:m.transitions.easing.sharp,duration:m.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(U=(O=m.palette.navigation.submenu)==null?void 0:O.background)!=null?U:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:v.submenuConfig.drawerWidthClosed,transitionDelay:`${v.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:v=>({width:v.submenuConfig.drawerWidthOpen,[m.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:m.spacing(3),left:0,top:0}}),title:{fontSize:24,fontWeight:500,color:"#FFF",padding:20,[m.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),Zi=m=>{const{isOpen:v}=wa(),{sidebarConfig:O,submenuConfig:U}=(0,n.useContext)(wn),J=v?O.drawerWidthOpen:O.drawerWidthClosed,oe=ec({left:J,submenuConfig:U}),{isHoveredOn:xe}=(0,n.useContext)(yr),[De,we]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{we(xe)},[xe]),n.createElement("div",{className:S()(oe.drawer,{[oe.drawerOpen]:De})},n.createElement(ke.Z,{variant:"h5",className:oe.title},m.title),m.children)};var eo=e(76600),Li=e(26739),Ka=e(98989);const er=(0,u.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),ga=()=>{const m=er();return React.createElement("div",{className:m.iconContainer},React.createElement("div",{className:m.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))};var tc=null;const bi=(0,u.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Oi=()=>{const m=bi();return React.createElement("div",{className:m.iconContainer},React.createElement("div",{className:m.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))};var Jc=null;const Di=m=>(0,u.Z)(v=>{var O,U,J,oe;return{root:{color:v.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit"},closed:{width:m.drawerWidthClosed,justifyContent:"center"},open:{[v.breakpoints.up("sm")]:{width:m.drawerWidthOpen}},highlightable:{"&:hover":{background:(U=(O=v.palette.navigation.navItem)==null?void 0:O.hoverBackground)!=null?U:"#404040"}},highlighted:{background:(oe=(J=v.palette.navigation.navItem)==null?void 0:J.hoverBackground)!=null?oe:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:m.iconContainerWidth,marginRight:-v.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:"bold",fontSize:v.typography.fontSize},searchFieldHTMLInput:{padding:v.spacing(2,0,2)},searchContainer:{width:m.drawerWidthOpen-m.iconContainerWidth},secondaryAction:{width:v.spacing(6),textAlign:"center",marginRight:v.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:v.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${m.selectedIndicatorWidth}px ${v.palette.navigation.indicator}`,color:v.palette.navigation.selectedColor},"&$closed":{width:m.drawerWidthClosed},"& $closedItemIcon":{paddingRight:m.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-m.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function to(m){return(0,n.useMemo)(()=>Di(m),[m])()}const nc=(m,v)=>(0,a.useElementFilter)(m.props.children,O=>{let U=!1;return O.getElements().forEach(({props:{to:J,dropdownItems:oe}})=>{if(!U){if(oe!=null&&oe.length){oe.forEach(({to:xe})=>U=U||Oa(v,(0,$n.i3)(xe)));return}J&&(U=Oa(v,(0,$n.i3)(J)))}}),U},[v.pathname]);function Bi(m){return m.to===void 0}const ac=n.createElement(Zi).type,rc=n.forwardRef(function({to:v,end:O,style:U,className:J,activeStyle:oe,caseSensitive:xe,activeClassName:De="active","aria-current":we="page",...Fe},et){let{pathname:Xe}=(0,$n.TH)(),{pathname:mt}=(0,$n.WU)(v);xe||(Xe=Xe.toLocaleLowerCase("en-US"),mt=mt.toLocaleLowerCase("en-US"));let ht=Xe===mt;!ht&&!O&&(ht=Xe.startsWith(`${mt}/`));const Et=ht?we:void 0;return n.createElement(P.rU,{...Fe,to:v,ref:et,"aria-current":Et,style:{...U,...ht?oe:void 0},className:S()([J,ht?De:void 0])})}),Mi=(0,n.forwardRef)((m,v)=>{const{icon:O,text:U,hasNotifications:J=!1,hasSubmenu:oe=!1,disableHighlight:xe=!1,onClick:De,children:we,className:Fe,...et}=m,{sidebarConfig:Xe}=(0,n.useContext)(wn),mt=to(Xe),{isOpen:ht}=wa(),Et=!ht&&oe?{display:"flex",marginLeft:"24px"}:{},zt=n.createElement("div",{style:Et},n.createElement(O,{fontSize:"small"}),!ht&&oe?n.createElement(Ka.Z,null):n.createElement(n.Fragment,null)),on=n.createElement(Li.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!J,className:S()({[mt.closedItemIcon]:!ht})},zt),gn=n.createElement(n.Fragment,null,n.createElement("div",{"data-testid":"login-button",className:mt.iconContainer},on),U&&n.createElement(ke.Z,{variant:"subtitle2",className:mt.label},U),n.createElement("div",{className:mt.secondaryAction},we)),fn=ht?gn:on,$t={onClick:De,className:S()(Fe,mt.root,ht?mt.open:mt.closed,Bi(m)&&mt.buttonItem,{[mt.highlightable]:!xe})};return Bi(m)?n.createElement("button",{"aria-label":U,...$t,ref:v},fn):n.createElement(rc,{...$t,activeClassName:mt.selected,to:m.to?m.to:"",ref:v,"aria-label":U||m.to,...et},fn)}),oc=({children:m,...v})=>{const{sidebarConfig:O}=(0,n.useContext)(wn),U=to(O),[J,oe]=(0,n.useState)(!1),xe=(0,$n.TH)(),De=nc(m,xe),we=(0,ee.Z)(mt=>mt.breakpoints.down("sm")),Fe=()=>{oe(!0)},et=()=>{oe(!1)},Xe=()=>we?J?n.createElement(_o.Z,{fontSize:"small",className:U.submenuArrow}):n.createElement(qo.Z,{fontSize:"small",className:U.submenuArrow}):!J&&n.createElement(Ka.Z,{fontSize:"small",className:U.submenuArrow});return n.createElement(yr.Provider,{value:{isHoveredOn:J,setIsHoveredOn:oe}},n.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:et,onTouchStart:J?et:Fe,onMouseEnter:Fe,className:S()(J&&U.highlighted)},n.createElement(Mi,{hasSubmenu:!0,className:De?U.selected:"",...v},Xe()),J&&m))},es=(0,n.forwardRef)((m,v)=>{const[O]=(0,a.useElementFilter)(m.children,U=>U.getElements().filter(J=>J.type===ac));return O?n.createElement(oc,{...m},O):n.createElement(Mi,{...m,ref:v})});function sc(m){const{sidebarConfig:v}=useContext(SidebarConfigContext),[O,U]=useState(""),J=to(v),oe=m.icon?m.icon:SearchIcon,xe=()=>{m.onSearch(O),U("")},De=Xe=>{Xe.key==="Enter"&&(Xe.preventDefault(),xe())},we=Xe=>{U(Xe.target.value)},Fe=Xe=>{Xe.preventDefault(),Xe.stopPropagation()},et=Xe=>{xe(),Xe.preventDefault()};return React.createElement("div",{className:J.searchRoot},React.createElement(es,{icon:oe,to:m.to,onClick:et,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:O,onClick:Fe,onChange:we,onKeyDown:De,className:J.searchContainer,InputProps:{disableUnderline:!0,className:J.searchField},inputProps:{className:J.searchFieldHTMLInput}})))}const Fi=(0,eo.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),Ui=(0,eo.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),ic=(0,eo.Z)("hr")({height:1,width:"100%",background:"#383838",border:"none",margin:"12px 0px"},{name:"BackstageSidebarDivider"}),lc=m=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:m.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:m.palette.text.hint,borderRadius:"5px"}}),cc=(0,eo.Z)("div")(({theme:m})=>{const v=lc(m);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":v,"&:hover":v}}),Yc=()=>{const{sidebarConfig:m}=useContext(SidebarConfigContext),v=to(m),{isOpen:O,setOpen:U}=useSidebarOpenState();if(useMediaQuery(xe=>xe.breakpoints.down("md"),{noSsr:!0}))return null;const oe=()=>{U(!O)};return React.createElement("button",{onClick:oe,className:v.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement("div",{className:v.arrows},O?React.createElement(DoubleArrowLeft,null):React.createElement(DoubleArrowRight,null)))},uc=(0,u.Z)(m=>({introCard:v=>({color:"#b5b5b5",fontSize:12,width:v.sidebarConfig.drawerWidthOpen,marginTop:18,marginBottom:12,paddingLeft:v.sidebarConfig.iconPadding,paddingRight:v.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:12},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:4,"&:hover":{color:m.palette.linkHover,transition:m.transitions.create("color",{easing:m.transitions.easing.sharp,duration:m.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:12}}),{name:"BackstageSidebarIntro"});function Ar(m){const{sidebarConfig:v}=useContext(SidebarConfigContext),O=uc({sidebarConfig:v}),{text:U,onClose:J}=m,oe=()=>J();return React.createElement("div",{className:O.introCard},React.createElement(Typography,{variant:"subtitle2"},U),React.createElement("div",{className:O.introDismiss},React.createElement(Link,{component:"button",onClick:oe,underline:"none",className:O.introDismissLink},React.createElement(CloseIcon,{className:O.introDismissIcon}),React.createElement(Typography,{component:"span",className:O.introDismissText},"Dismiss"))))}const Ni=m=>{const{text:v,onDismiss:O}=m,[U,J]=useState(!1),oe=()=>{J(!0)};return React.createElement(Collapse,{in:!U,onExited:O},React.createElement(Ar,{text:v,onClose:oe}))},bn=null,$i="And your recently viewed plugins will pop up here!";function no(m){const{isOpen:v}=useSidebarOpenState(),O={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},[U,J]=useLocalStorageValue(SIDEBAR_INTRO_LOCAL_STORAGE),{starredItemsDismissed:oe,recentlyViewedItemsDismissed:xe}=U!=null?U:{},De=()=>{J(Fe=>({...O,...Fe,starredItemsDismissed:!0}))},we=()=>{J(Fe=>({...O,...Fe,recentlyViewedItemsDismissed:!0}))};return v?React.createElement(React.Fragment,null,!oe&&React.createElement(React.Fragment,null,React.createElement(Ni,{text:bn,onDismiss:De}),React.createElement(SidebarDivider,null)),!xe&&React.createElement(Ni,{text:$i,onDismiss:we})):null}const Wi=(0,u.Z)(m=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:m.spacing(3),paddingBottom:m.spacing(3),paddingLeft:m.spacing(2),paddingRight:m.spacing(2),[m.breakpoints.up("sm")]:{paddingLeft:m.spacing(3),paddingRight:m.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function Cr(m){const{className:v,stretch:O,noPadding:U,children:J,...oe}=m,{contentRef:xe}=Wn(),De=Wi();return n.createElement("article",{ref:xe,tabIndex:-1,...oe,className:S()(De.root,v,{[De.stretch]:O,[De.noPadding]:U})},J)}var ts=e(6487),ns=e(99152);const ji=(0,u.Z)(m=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:m.palette.background.paper,paddingLeft:m.spacing(3),minWidth:0},defaultTab:{padding:m.spacing(3,3),...m.typography.caption,textTransform:"uppercase",fontWeight:"bold",color:m.palette.text.secondary},selected:{color:m.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:m.palette.background.default,color:m.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function as(m){const{tabs:v,onChange:O,selectedIndex:U}=m,[J,oe]=(0,n.useState)(U!=null?U:0),xe=ji(),De=(we,Fe)=>{U===void 0&&oe(Fe),O&&O(Fe)};return(0,n.useEffect)(()=>{U!==void 0&&oe(U)},[U]),n.createElement("div",{className:xe.tabsWrapper},n.createElement(ns.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",onChange:De,value:J},v.map((we,Fe)=>n.createElement(ts.Z,{...we.tabProps,"data-testid":`header-tab-${Fe}`,label:we.label,key:we.id,value:Fe,className:xe.defaultTab,classes:{selected:xe.selected,root:xe.tabRoot}}))))}function zi(m){var De,we,Fe;const v=(0,$n.UO)(),U=m.map(({path:et,children:Xe})=>({caseSensitive:!1,path:`${et}/*`,element:Xe})).sort((et,Xe)=>Xe.path.replace(/\/\*$/,"").localeCompare(et.path.replace(/\/\*$/,""))),J=(De=(0,$n.V$)(U))!=null?De:m[0].children,[oe]=(we=(0,$n.fp)(U,`/${v["*"]}`))!=null?we:[],xe=oe?m.findIndex(et=>`${et.path}/*`===oe.route.path):0;return{index:xe===-1?0:xe,element:J,route:(Fe=m[xe])!=null?Fe:m[0]}}function rs(m){const{routes:v}=m,O=(0,$n.s0)(),{index:U,route:J,element:oe}=zi(v),xe=(0,n.useMemo)(()=>v.map(we=>({id:we.path,label:we.title,tabProps:we.tabProps})),[v]),De=we=>O(v[we].path.replace(/\/\*$/,"").replace(/^\//,""));return n.createElement(n.Fragment,null,n.createElement(as,{tabs:xe,selectedIndex:U,onChange:De}),n.createElement(Cr,null,n.createElement(jo.q,{title:J.title}),oe))}const Ga=()=>null;(0,a.attachComponentData)(Ga,"core.gatherMountPoints",!0);function os(m){const v=n.createElement(Ga,{path:"",title:""},n.createElement("div",null)).type;return n.Children.toArray(m).flatMap(O=>{if(!(0,n.isValidElement)(O))return[];if(O.type===n.Fragment)return os(O.props.children);if(O.type!==v)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:U,title:J,children:oe,tabProps:xe}=O.props;return[{path:U,title:J,children:oe,tabProps:xe}]})}function ss(m){const v=os(m.children);return n.createElement(rs,{routes:v})}ss.Route=Ga;const is=(0,u.Z)(m=>({value:{marginBottom:"6px"},subvalue:{color:m.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function ls(m){const{value:v,subvalue:O}=m,U=is();return n.createElement(n.Fragment,null,n.createElement("div",{className:U.value},v),n.createElement("div",{className:U.subvalue},O))}var wi=e(21070),cs=e(90324),Ki=e(98281),Gi=e(48049),ao=e(51209),us=e(33375),Hi=e(44233),Vi=e(27604),ro=e(36444),Ji=e(37971),Yi=e(59709),Qi=e(17373),ki=e(3702),Xi=e(93111),Sr=e(67222);const qi=(0,u.Z)(m=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:m.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:"60px",justifyContent:"space-between",borderBottom:`1px solid ${m.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:m.spacing(2)}}}),{name:"BackstageTableFilters"}),_i=m=>{var we;const v=qi(),{onChangeFilters:O}=m,[U,J]=(0,n.useState)({...m.selectedFilters}),[oe,xe]=(0,n.useState)(!1),De=()=>{J({}),xe(Fe=>!Fe)};return(0,n.useEffect)(()=>{O(U)},[U,O]),n.createElement("div",{className:v.root},n.createElement("div",{className:v.header},n.createElement("div",{className:v.value},"Filters"),n.createElement(E.Z,{color:"primary",onClick:De},"Clear all")),n.createElement("div",{className:v.filters},((we=m.filters)==null?void 0:we.length)&&m.filters.map(Fe=>n.createElement(xa,{triggerReset:oe,key:Fe.element.label,...Fe.element,selected:U[Fe.element.label],onChange:et=>J({...U,[Fe.element.label]:et})}))))},el={Add:(0,n.forwardRef)((m,v)=>n.createElement(wi.Z,{...m,ref:v})),Check:(0,n.forwardRef)((m,v)=>n.createElement(Ki.Z,{...m,ref:v})),Clear:(0,n.forwardRef)((m,v)=>n.createElement(us.Z,{...m,ref:v})),Delete:(0,n.forwardRef)((m,v)=>n.createElement(Hi.Z,{...m,ref:v})),DetailPanel:(0,n.forwardRef)((m,v)=>n.createElement(ao.Z,{...m,ref:v})),Edit:(0,n.forwardRef)((m,v)=>n.createElement(Vi.Z,{...m,ref:v})),Export:(0,n.forwardRef)((m,v)=>n.createElement(ki.Z,{...m,ref:v})),Filter:(0,n.forwardRef)((m,v)=>n.createElement(ro.Z,{...m,ref:v})),FirstPage:(0,n.forwardRef)((m,v)=>n.createElement(Ji.Z,{...m,ref:v})),LastPage:(0,n.forwardRef)((m,v)=>n.createElement(Yi.Z,{...m,ref:v})),NextPage:(0,n.forwardRef)((m,v)=>n.createElement(ao.Z,{...m,ref:v})),PreviousPage:(0,n.forwardRef)((m,v)=>n.createElement(Gi.Z,{...m,ref:v})),ResetSearch:(0,n.forwardRef)((m,v)=>n.createElement(us.Z,{...m,ref:v})),Search:(0,n.forwardRef)((m,v)=>n.createElement(ro.Z,{...m,ref:v})),SortArrow:(0,n.forwardRef)((m,v)=>n.createElement(cs.Z,{...m,ref:v})),ThirdStateCheck:(0,n.forwardRef)((m,v)=>n.createElement(Qi.Z,{...m,ref:v})),ViewColumn:(0,n.forwardRef)((m,v)=>n.createElement(Xi.Z,{...m,ref:v}))};function ds(m,v){const O=v.split(".");let U=m[O[0]];for(let J=1;J<O.length;++J){if(U===void 0)return U;const oe=O[J];U=U[oe]}return U}const tl=(0,Bn.Z)(m=>({header:{padding:m.spacing(1,2,1,2.5),borderTop:`1px solid ${m.palette.grey.A100}`,borderBottom:`1px solid ${m.palette.grey.A100}`,color:m.palette.textSubtle,fontWeight:m.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(Sr.W$),oo=(0,Bn.Z)(m=>({root:{padding:m.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:"bold"}},searchField:{paddingRight:m.spacing(2)}}),{name:"BackstageTableToolbar"})(Sr.UW),nl=(0,u.Z)(()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:"bold",fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),so=(0,u.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function ms(m,v){return m.map(O=>{const U={};let J=O.cellStyle||{};if(O.highlight)if(U.color=v.palette.textContrast,typeof J=="object")J.fontWeight=v.typography.fontWeightBold;else{const oe=J;J=(xe,De,we)=>({...oe(xe,De,we),fontWeight:v.typography.fontWeightBold})}return{...O,headerStyle:U,cellStyle:J}})}function al(m,v){return(0,za.transform)(m,(O,U,J)=>{(0,za.isEqual)(U,v[J])||(O[J]=U)})}const gs={search:"",filtersOpen:!1,filters:{}};function io(m){const{toolbarRef:v,setSearch:O,hasFilters:U,selectedFiltersLength:J,toggleFilters:oe}=m,xe=nl(),De=(0,n.useCallback)(we=>{m.onSearchChanged(we),O(we)},[m,O]);return U?n.createElement("div",{className:xe.root},n.createElement("div",{className:xe.root},n.createElement(i.Z,{onClick:oe,"aria-label":"filter list"},n.createElement(ro.Z,null)),n.createElement(ke.Z,{className:xe.title},"Filters (",J,")")),n.createElement(oo,{...m,ref:v,onSearchChanged:De})):n.createElement(oo,{...m,ref:v,onSearchChanged:De})}function rl(m){const{data:v,columns:O,options:U,title:J,subtitle:oe,filters:xe,initialState:De,emptyContent:we,onStateChange:Fe,...et}=m,Xe=so(),mt=(0,V.Z)(),ht={...gs,...De},[Et,zt]=(0,n.useState)(ht.filtersOpen),on=(0,n.useCallback)(()=>zt(xn=>!xn),[zt]),[gn,fn]=(0,n.useState)(0),[$t,sn]=(0,n.useState)(v),[un,An]=(0,n.useState)(ht.filters),fa=ms(O,mt),[na,Ba]=(0,n.useState)(ht.search);(0,n.useEffect)(()=>{if(Fe){const xn=al({search:na,filtersOpen:Et,filters:un},gs);Fe(xn)}},[na,Et,un,Fe]);const _t={headerStyle:{textTransform:"uppercase"}},Gn=(0,n.useCallback)(xn=>{var Hn;return(Hn=O.find(aa=>aa.title===xn))==null?void 0:Hn.field},[O]);(0,n.useEffect)(()=>{if(typeof v=="function")return;if(!un){sn(v);return}const xn=Object.values(un);if(v&&xn.flat().length){const Hn=v.filter(aa=>!!Object.entries(un).filter(([,ha])=>!!ha.length).every(([ha,Cn])=>{const Sn=ds(aa,Gn(ha));return Array.isArray(Sn)&&Array.isArray(Cn)?Sn.some(Ha=>Cn.includes(Ha)):Array.isArray(Sn)?Sn.includes(Cn):Array.isArray(Cn)?Cn.includes(Sn):Sn===Cn}));sn(Hn)}else sn(v);fn(xn.flat().length)},[v,un,Gn]);const nr=(xn,Hn)=>{const aa=Cn=>{const Sn=new Set,Ha=Sa=>{Sa!=null&&Sn.add(Sa)};return Hn&&Hn.forEach(Sa=>{const Vn=ds(Sa,Gn(Cn));Array.isArray(Vn)?Vn.forEach(Ha):Ha(Vn)}),Sn},ha=Cn=>({placeholder:"All results",label:Cn.column,multiple:Cn.type==="multiple-select",items:[...aa(Cn.column)].sort().map(Sn=>({label:Sn,value:Sn}))});return xn.map(Cn=>({type:Cn.type,element:ha(Cn)}))},ia=!!(xe!=null&&xe.length),Tr=(0,n.useCallback)(xn=>n.createElement(io,{setSearch:Ba,hasFilters:ia,selectedFiltersLength:gn,toggleFilters:on,...xn}),[on,ia,gn,Ba]),ar=typeof v!="function"&&v.length===0,Ir=O.length,rr=(0,n.useCallback)(xn=>we&&ar?n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:Ir},we))):n.createElement(Sr.os,{...xn}),[ar,we,Ir]);return n.createElement("div",{className:Xe.root},Et&&v&&typeof v!="function"&&(xe==null?void 0:xe.length)&&n.createElement(_i,{filters:nr(xe,v),selectedFilters:un,onChangeFilters:An}),n.createElement(Sr.ZP,{components:{Header:tl,Toolbar:Tr,Body:rr},options:{..._t,...U},columns:fa,icons:el,title:n.createElement(n.Fragment,null,n.createElement(ke.Z,{variant:"h5",component:"h2"},J),oe&&n.createElement(ke.Z,{color:"textSecondary",variant:"body1"},oe)),data:typeof v=="function"?v:$t,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter"}},...et}))}const ol=m=>{const{children:v,value:O,index:U,...J}=m;return React.createElement("div",{role:"tabpanel",hidden:O!==U,"aria-labelledby":`scrollable-auto-tab-${U}`,...J},O===U&&React.createElement(Box,{p:3},v))},fs=(0,u.Z)(()=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:"1.5rem",textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:m=>m.isNext?"auto":"0",marginRight:m=>m.isNext?"0":"10px","&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}}),{name:"BackstageTabIcon"}),hs=m=>{const v=fs(m),{ariaLabel:O,onClick:U}=m;return React.createElement(IconButton,{onClick:U,className:v.root,size:"small",disableRipple:!0,disableFocusRipple:!0,"aria-label":O},m.children)},dc=(m,v)=>v?m?"20px":"0":"40px",sl=(0,u.Z)(m=>({root:{textTransform:"none",height:"64px",fontWeight:m.typography.fontWeightBold,fontSize:m.typography.pxToRem(13),color:m.palette.textSubtle,marginLeft:v=>dc(v.isFirstNav,v.isFirstIndex),width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:m.palette.textSubtle}}}),{name:"BackstageTab"}),mc=m=>{const v=sl(m),{isFirstNav:O,isFirstIndex:U,...J}=m;return React.createElement(Tab,{classes:v,disableRipple:!0,...J})},gc=(0,u.Z)(m=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:m.palette.tabbar.indicator,height:"4px"},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}}),{name:"BackstageTabBar"}),Qc=m=>{const v=gc(m);return React.createElement(Tabs,{classes:v,...m,TabIndicatorProps:{children:React.createElement("span",null)}})},il=(0,u.Z)(m=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:m.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:m.palette.background.paper,paddingLeft:"10px",paddingRight:"10px"}}),{name:"BackstageTabs"});function kc(m){const{tabs:v}=m,O=il(),[U,J]=useState([0,0]),[oe,xe]=useState(0),[De,we]=useState(0),[Fe,et]=useState([[]]),Xe=useRef(),{width:mt}=useWindowSize(),ht=(fn,$t)=>{J([oe,$t])},Et=()=>{xe(oe-1)},zt=()=>{xe(oe+1)},on=()=>oe+1<Fe.length;useEffect(()=>{const $t=oe===0?1:2,sn=Xe.current.offsetWidth-20-$t*30,un=U[0]*De+U[1],An=Math.floor(sn/170);we(An),et(chunkArray(v,An)),J([Math.floor(un/An),un%An])},[mt,v]);const gn=oe===U[0]?U[1]:!1;return React.createElement("div",{className:O.root},React.createElement(AppBar,{ref:Xe,className:O.appbar,position:"static"},React.createElement("div",null,React.createElement(StyledTabs,{value:gn,onChange:ht,selectionFollowsFocus:!0},oe!==0&&React.createElement(StyledIcon,{onClick:Et,ariaLabel:"navigate-before"},React.createElement(NavigateBeforeIcon,null)),Fe[oe].map((fn,$t)=>React.createElement(StyledTab,{value:$t,isFirstIndex:$t===0,isFirstNav:oe===0,key:$t,icon:fn.icon||void 0,label:fn.label||void 0})),on()&&React.createElement(StyledIcon,{isNext:!0,onClick:zt,ariaLabel:"navigate-next"},React.createElement(NavigateNextIcon,null))))),gn!==!1?Fe[oe].map((fn,$t)=>React.createElement(TabPanel,{key:$t,value:$t,index:gn},fn.content)):React.createElement(TabPanel,{key:"panel_outside_chunked_array",value:U[1],index:U[1]},Fe[U[0]][U[1]].content))}var ll=e(44311);function cl(m,v){const O=m[m.length-1];if(!!O)return O>=.9?v.palette.status.ok:O>=.5?v.palette.status.warning:v.palette.status.error}function vt(m){var O;const v=(0,V.Z)();return m.data?n.createElement(ll.Sparklines,{width:120,height:30,min:0,max:1,...m},m.title&&n.createElement("title",null,m.title),n.createElement(ll.SparklinesLine,{color:(O=m.color)!=null?O:cl(m.data,v)})):null}const ul=m=>(0,u.Z)(v=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:v.spacing(2),textAlign:m.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:v.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),dl=({title:m="Unknown page",className:v})=>n.createElement(ke.Z,{variant:"h4",component:"h2",className:v,"data-testid":"header-title"},m);function ps(m){const{description:v,title:O,titleComponent:U=void 0,children:J,textAlign:oe="left"}=m,xe=ul({textAlign:oe})(),De=U||n.createElement(dl,{title:O,className:xe.title});return n.createElement(n.Fragment,null,n.createElement(jo.q,{title:O}),n.createElement("div",{className:xe.container},n.createElement("div",{className:xe.leftItemsBox},De,v&&n.createElement(ke.Z,{className:xe.description,variant:"body2"},v)),n.createElement("div",{className:xe.rightItemsBox},J)))}var ml=e.p+"static/mic-drop.fe3ef4d0..svg";const gl=(0,u.Z)(m=>({micDrop:{maxWidth:"60%",position:"absolute",bottom:m.spacing(2),right:m.spacing(2),[m.breakpoints.down("xs")]:{maxWidth:"96%",position:"relative",bottom:"unset",right:"unset",margin:`${m.spacing(10)}px auto ${m.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),fl=()=>{const m=gl();return n.createElement("img",{src:ml,className:m.micDrop,alt:"Girl dropping mic from her hands"})},hl=(0,u.Z)(m=>({container:{padding:m.spacing(8),[m.breakpoints.down("xs")]:{padding:m.spacing(2)}},title:{paddingBottom:m.spacing(5),[m.breakpoints.down("xs")]:{paddingBottom:m.spacing(4),fontSize:32}},subtitle:{color:m.palette.textSubtle}}),{name:"BackstageErrorPage"});function Es(m){const{status:v,statusMessage:O,additionalInfo:U,supportUrl:J}=m,oe=hl(),xe=(0,$n.s0)(),De=Wo();return n.createElement(at.Z,{container:!0,spacing:0,className:oe.container},n.createElement(fl,null),n.createElement(at.Z,{item:!0,xs:12,sm:8,md:4},n.createElement(ke.Z,{"data-testid":"error",variant:"body1",className:oe.subtitle},"ERROR ",v,": ",O),n.createElement(ke.Z,{variant:"body1",className:oe.subtitle},U),n.createElement(ke.Z,{variant:"h2",className:oe.title},"Looks like someone dropped the mic!"),n.createElement(ke.Z,{variant:"h6"},n.createElement(D,{to:"#","data-testid":"go-back-link",onClick:()=>xe(-1)},"Go back"),"... or please"," ",n.createElement(D,{to:J||De.url},"contact support")," if you think this is a bug.")))}var ys=e(16173);const pl=(0,Bn.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(ke.Z),Rr=(0,Bn.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(_n.Z);function vs(m){const{children:v,...O}=m,[U,J]=n.useState(null),oe=n.Children.toArray(v),[xe,De,...we]=oe,Fe=we.length?we.pop():oe[oe.length-1],et=oe.length>3,Xe=Et=>{J(Et.currentTarget)},mt=()=>{J(null)},ht=Boolean(U);return n.createElement(n.Fragment,null,n.createElement(ys.Z,{"aria-label":"breadcrumb",...O},oe.length>1&&n.createElement(Rr,{clone:!0},xe),oe.length>2&&n.createElement(Rr,{clone:!0},De),et&&n.createElement(pl,{onClick:Xe},"..."),n.createElement(_n.Z,{style:{fontStyle:"italic"}},Fe)),n.createElement(Uo.ZP,{open:ht,anchorEl:U,onClose:mt,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},n.createElement(it.Z,null,we.map((Et,zt)=>n.createElement(gt.Z,{key:zt,button:!0},n.createElement(Rr,{clone:!0},Et))))))}const fc=(0,u.Z)(m=>({header:{gridArea:"pageHeader",padding:m.spacing(3),width:"100%",boxShadow:m.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:m.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[m.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto"},title:{color:m.palette.bursts.fontColor,wordBreak:"break-word",fontSize:m.typography.h3.fontSize,marginBottom:0},subtitle:{color:m.palette.bursts.fontColor,opacity:.8,display:"inline-block",marginTop:m.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:m.spacing(1),color:m.palette.bursts.fontColor},breadcrumb:{color:m.palette.bursts.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-m.spacing(.3),marginBottom:m.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-m.spacing(.3),marginBottom:m.spacing(.3)}}),{name:"BackstageHeader"}),El=({type:m,typeLink:v,classes:O,pageTitle:U})=>m?v?n.createElement(vs,{className:O.breadcrumb},n.createElement(D,{to:v},m),n.createElement(ke.Z,null,U)):n.createElement(ke.Z,{className:O.type},m):null,yl=({pageTitle:m,classes:v,tooltip:O})=>{const U=n.createElement(ke.Z,{className:v.title,variant:"h1"},m);return O?n.createElement(G.ZP,{title:O,placement:"top-start"},U):U},As=({classes:m,subtitle:v})=>v?typeof v!="string"?n.createElement(n.Fragment,null,v):n.createElement(ke.Z,{className:m.subtitle,variant:"subtitle2",component:"span"},v):null;function tr(m){const{children:v,pageTitleOverride:O,style:U,subtitle:J,title:oe,tooltip:xe,type:De,typeLink:we}=m,Fe=fc(),Xe=(0,a.useApi)(a.configApiRef).getOptionalString("app.title")||"Backstage",mt=O||oe,ht=oe||O,Et=`${mt} | %s | ${Xe}`,zt=`${mt} | ${Xe}`;return n.createElement(n.Fragment,null,n.createElement(jo.q,{titleTemplate:Et,defaultTitle:zt}),n.createElement("header",{style:U,className:Fe.header},n.createElement(_n.Z,{className:Fe.leftItemsBox},n.createElement(El,{classes:Fe,type:De,typeLink:we,pageTitle:ht}),n.createElement(yl,{classes:Fe,pageTitle:ht,tooltip:xe}),n.createElement(As,{classes:Fe,subtitle:J})),n.createElement(at.Z,{container:!0,className:Fe.rightItemsBox,spacing:4},v)))}const lo=(0,u.Z)(m=>({root:{textAlign:"left"},label:{color:m.palette.common.white,fontWeight:"bold",letterSpacing:0,fontSize:m.typography.fontSize,marginBottom:m.spacing(1)/2,lineHeight:1},value:{color:"rgba(255, 255, 255, 0.8)",fontSize:m.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),vl=({value:m,className:v})=>n.createElement(ke.Z,{className:v},m);function hc(m){const{label:v,value:O,url:U}=m,J=lo(),oe=n.createElement(vl,{className:J.value,value:O||"<Unknown>"});return n.createElement(at.Z,{item:!0},n.createElement("span",{className:J.root},n.createElement(ke.Z,{className:J.label},v),U?n.createElement(D,{to:U},oe):oe))}const pc={hour:"2-digit",minute:"2-digit"};function Cs(m){const v=new Date,O=window.navigator.language,U=[];if(!m.has("homepage.clocks"))return U;const J=m.getConfigArray("homepage.clocks");for(const oe of J)if(oe.has("label")&&oe.has("timezone")){let xe=oe.getString("label");const De={timeZone:oe.getString("timezone"),...pc};try{new Date().toLocaleString(O,De)}catch{console.warn(`The timezone ${De.timeZone} is invalid. Defaulting to GMT`),De.timeZone="GMT",xe="GMT"}const we=v.toLocaleTimeString(O,De);U.push({time:we,label:xe})}return U}function Xc(m){const v=useApi(configApiRef),O=[],[U,J]=React.useState(O);return React.useEffect(()=>{J(Cs(v));const oe=setInterval(()=>{J(Cs(v))},1e3);return()=>{clearInterval(oe)}},[v]),U.length!==0?React.createElement(React.Fragment,null,U.map(oe=>React.createElement(HeaderLabel,{label:oe.label,value:oe.time,key:oe.label}))):null}const Ss=m=>(0,f.Z)({root:{color:m.palette.common.white,padding:m.spacing(2,2,3),backgroundImage:m.palette.bursts.gradient.linear,backgroundPosition:0,backgroundSize:"inherit"}}),Rs=(0,u.Z)(Ss,{name:"BackstageItemCardHeader"});function Ec(m){const{title:v,subtitle:O,children:U}=m,J=Rs(m);return n.createElement("div",{className:J.root},O&&n.createElement(ke.Z,{variant:"subtitle2",component:"h3"},O),v&&n.createElement(ke.Z,{variant:"h6",component:"h4"},v),U)}function Al(m){const{description:v,tags:O,title:U,type:J,subtitle:oe,label:xe,onClick:De,href:we}=m;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(ItemCardHeader,{title:U,subtitle:oe||J})),React.createElement(CardContent,null,O!=null&&O.length?React.createElement(Box,null,O.map((Fe,et)=>React.createElement(Chip,{size:"small",label:Fe,key:et}))):null,v),React.createElement(CardActions,null,!we&&React.createElement(Button,{to:"#",onClick:De,color:"primary"},xe),we&&React.createElement(Button,{to:we,color:"primary"},xe)))}const yc=m=>(0,f.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:m.spacing(2)}}),Ps=(0,u.Z)(yc,{name:"BackstageItemCardGrid"});function Ts(m){const{children:v,...O}=m,U=Ps(O);return n.createElement("div",{className:U.root,...O},v)}var Pr=e(41547);const Cl=(0,u.Z)(()=>({root:({isMobile:m})=>({display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",height:m?"100%":"100vh",overflowY:"auto"})}),{name:"BackstagePage"});function co(m){const{themeId:v,children:O}=m,{isMobile:U}=qa(),J=Cl({isMobile:U});return n.createElement(Pr.Z,{theme:oe=>({...oe,page:oe.getPageTheme({themeId:v})})},n.createElement("main",{className:J.root},O))}function vc(m){const{themeId:v,children:O,...U}=m;return n.createElement(co,{themeId:v},n.createElement(tr,{...U}),O)}var jn=e(30195);const Sl=jn.z.object({providerInfo:jn.z.object({}).catchall(jn.z.unknown()).optional(),profile:jn.z.object({email:jn.z.string().optional(),displayName:jn.z.string().optional(),picture:jn.z.string().optional()}),backstageIdentity:jn.z.object({token:jn.z.string(),identity:jn.z.object({type:jn.z.literal("user"),userEntityRef:jn.z.string(),ownershipEntityRefs:jn.z.array(jn.z.string())})})}),Rl={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function Is(m){const v=new Date(Date.now()+Rl.defaultTokenExpiryMillis);if(!m)return v;const[O,U,J]=m.split("."),oe=JSON.parse(atob(U));return typeof oe.exp!="number"?v:new Date(oe.exp*1e3-Rl.tokenExpiryMarginMillis)}class qc{constructor(v){Me(this,"options");Me(this,"abortController");Me(this,"state");this.options=v,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:v}=this.getSessionSync(),O=v.identity.userEntityRef,U=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(O);if(!U)throw new TypeError(`Invalid user entity reference "${O}"`);return U[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const v=this.state.type==="active"?this.state.session:void 0,O=this.fetchSession().then(U=>(this.state={type:"active",session:U,expiresAt:Is(U.backstageIdentity.token)},U),U=>{throw this.state={type:"failed",error:U},U});return this.state={type:"fetching",promise:O,previous:v},O}async fetchSession(){const v=await this.options.discoveryApi.getBaseUrl("auth"),O=await fetch(`${v}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"});if(!O.ok)throw await ResponseError.fromResponse(O);return proxiedSessionSchema.parse(await O.json())}}const Pl=m=>{const v=useApi(discoveryApiRef),[{status:O,error:U},{execute:J}]=useAsync(async()=>{const oe=new ProxiedSignInIdentity({provider:m.provider,discoveryApi:v});await oe.start(),m.onSignInSuccess(oe)});return useMountEffect(J),O==="loading"?React.createElement(Progress,null):U?React.createElement(ErrorPanel,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:U}):null};class xs{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const v="user:default/guest";return{type:"user",userEntityRef:v,ownershipEntityRefs:[v]}}async getCredentials(){return{}}async signOut(){}}function Tl(m){const[v,O,U]=m.split(".");return JSON.parse(atob(O))}class uo{constructor(v){this.result=v}getUserId(){return this.result.userId}static fromResult(v){return new uo(v)}async getIdToken(){var v,O;return(O=(v=this.result).getIdToken)==null?void 0:O.call(v)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const v=await this.getIdToken();if(!v){const J=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:J,ownershipEntityRefs:[J]}}const{sub:O,ent:U}=Tl(v);return{type:"user",userEntityRef:O,ownershipEntityRefs:U!=null?U:[]}}async getCredentials(){var O,U;return{token:await((U=(O=this.result).getIdToken)==null?void 0:U.call(O))}}async signOut(){var v,O;return(O=(v=this.result).signOut)==null?void 0:O.call(v)}}class Da{constructor(v,O,U){Me(this,"profilePromise");this.identity=v,this.authApi=O,this.profile=U}static createGuest(){return new xs}static fromLegacy(v){return uo.fromResult(v)}static create(v){return new Da(v.identity,v.authApi,v.profile)}getUserId(){const v=this.identity.userEntityRef,O=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(v);if(!O)throw new TypeError(`Invalid user entity reference "${v}"`);return O[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(v){throw this.profilePromise=void 0,v}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}var Ac=e(52084);const mo=(0,u.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),go=({children:m})=>{const v=mo();return n.createElement(at.Z,{component:"li",item:!0,classes:v},m)},Il={Component:({config:m,onSignInSuccess:v})=>{const{apiRef:O,title:U,message:J}=m,oe=(0,a.useApi)(O),xe=(0,a.useApi)(a.errorApiRef),De=async()=>{try{const we=await oe.getBackstageIdentity({instantPopup:!0});if(!we)throw new Error(`The ${U} provider is not configured to support sign-in`);const Fe=await oe.getProfile();v(Da.create({identity:we.identity,profile:Fe,authApi:oe}))}catch(we){xe.post(new ua.SP("Login failed",we))}};return n.createElement(go,null,n.createElement($a,{variant:"fullHeight",title:U,actions:n.createElement(E.Z,{color:"primary",variant:"outlined",onClick:De},"Sign In")},n.createElement(ke.Z,{variant:"body1"},J)))},loader:async(m,v)=>{const O=m.get(v),U=await O.getBackstageIdentity({optional:!0});if(!U)return;const J=await O.getProfile();return Da.create({identity:U.identity,profile:J,authApi:O})}},xl={Component:({onSignInSuccess:m})=>n.createElement(go,null,n.createElement($a,{title:"Guest",variant:"fullHeight",actions:n.createElement(E.Z,{color:"primary",variant:"outlined",onClick:()=>m(new xs)},"Enter")},n.createElement(ke.Z,{variant:"body1"},"Enter as a Guest User.",n.createElement("br",null),"You will not have a verified identity,",n.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new xs};var Zl=e(63955),Zs=e(86619),Ls=e(74828),Ll=e(45455),bs=e.n(Ll);const Tc=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,Os=(0,u.Z)(m=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:m.spacing(2)}}),{name:"BackstageCustomProvider"}),bl=m=>{const{ref:v,...O}=m;return{inputRef:v,...O}},Ic={Component:({onSignInSuccess:m})=>{const v=Os(),{register:O,handleSubmit:U,formState:J}=(0,Zl.cI)({mode:"onChange"}),{errors:oe}=J,xe=({userId:De})=>{m(Da.fromLegacy({userId:De,profile:{email:`${De}@example.com`}}))};return n.createElement(go,null,n.createElement($a,{title:"Custom User",variant:"fullHeight"},n.createElement(ke.Z,{variant:"body1"},"Enter your own User ID and credentials.",n.createElement("br",null),"This selection will not be stored."),n.createElement("form",{className:v.form,onSubmit:U(xe)},n.createElement(pt.Z,null,n.createElement(Zs.Z,{...bl(O("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(oe.userId)}),oe.userId&&n.createElement(Ls.Z,{error:!0},oe.userId.message)),n.createElement(pt.Z,null,n.createElement(Zs.Z,{...bl(O("idToken",{required:!1,validate:De=>!De||Tc.test(De)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(oe.idToken)}),oe.idToken&&n.createElement(Ls.Z,{error:!0},oe.idToken.message)),n.createElement(E.Z,{type:"submit",color:"primary",variant:"outlined",className:v.button,disabled:!(J!=null&&J.isDirty)||!bs()(oe)},"Continue"))))},loader:async()=>{}};class Ds{constructor(v){this.config=v}static from(v){return new Ds(v)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const fo="@backstage/core:SignInPage:provider",Ol={guest:xl,custom:Ic,common:Il};function Dl(m,v){if(m in v)throw new Error(`"${m}" ID is duplicated. IDs of identity providers have to be unique.`)}function xc(m){return m.reduce((O,U)=>{if(typeof U=="string")return Dl(U,O),O[U]={components:Ol[U],id:U},O;const{id:J}=U;return Dl(J,O),O[J]={components:Ol.common,id:J,config:U},O},{})}const Zc=(m,v)=>{const O=(0,a.useApi)(a.errorApiRef),U=(0,a.useApiHolder)(),[J,oe]=(0,n.useState)(!0),xe=(0,n.useCallback)(we=>{v(Ds.from({identityApi:we,signOut:async()=>{var Fe;localStorage.removeItem(fo),await((Fe=we.signOut)==null?void 0:Fe.call(we))}}))},[v]);(0,n.useLayoutEffect)(()=>{var Xe;if(!J)return;const we=localStorage.getItem(fo);if(we===null){oe(!1);return}const Fe=m[we];if(!Fe){oe(!1);return}let et=!1;return Fe.components.loader(U,(Xe=Fe.config)==null?void 0:Xe.apiRef).then(mt=>{et||(mt?xe(mt):oe(!1))}).catch(mt=>{et||(localStorage.removeItem(fo),O.post(mt),oe(!1))}),()=>{et=!0}},[J,O,v,U,m,xe]);const De=(0,n.useMemo)(()=>Object.keys(m).map(we=>{const Fe=m[we],{Component:et}=Fe.components,Xe=mt=>{localStorage.setItem(fo,Fe.id),xe(mt)};return n.createElement(et,{key:Fe.id,config:Fe.config,onSignInSuccess:Xe})}),[m,xe]);return[J,De]},Lc=({onSignInSuccess:m,providers:v=[],title:O,align:U="left"})=>{const J=(0,a.useApi)(a.configApiRef),oe=mo(),xe=xc(v),[De,we]=Zc(xe,m);return De?n.createElement(Na,null):n.createElement(co,{themeId:"home"},n.createElement(tr,{title:J.getString("app.title")}),n.createElement(Cr,null,O&&n.createElement(ps,{title:O,textAlign:U}),n.createElement(at.Z,{container:!0,justifyContent:U==="center"?U:"flex-start",spacing:2,component:"ul",classes:oe},we)))},bc=({provider:m,auto:v,onSignInSuccess:O})=>{const U=mo(),J=(0,a.useApi)(m.apiRef),oe=(0,a.useApi)(a.configApiRef),[xe,De]=(0,n.useState)(),[we,Fe]=(0,n.useState)(!1),et=async({checkExisting:Xe,showPopup:mt})=>{try{let ht;if(Xe&&(ht=await J.getBackstageIdentity({optional:!0})),!ht&&(mt||v)&&(Fe(!0),ht=await J.getBackstageIdentity({instantPopup:!0}),!ht))throw new Error(`The ${m.title} provider is not configured to support sign-in`);if(!ht){Fe(!0);return}const Et=await J.getProfile();O(Da.create({identity:ht.identity,authApi:J,profile:Et}))}catch(ht){De(ht),Fe(!0)}};return(0,Ac.n)(()=>et({checkExisting:!0})),we?n.createElement(co,{themeId:"home"},n.createElement(tr,{title:oe.getString("app.title")}),n.createElement(Cr,null,n.createElement(at.Z,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:U},n.createElement(go,null,n.createElement($a,{variant:"fullHeight",title:m.title,actions:n.createElement(E.Z,{color:"primary",variant:"outlined",onClick:()=>{et({showPopup:!0})}},"Sign In")},n.createElement(ke.Z,{variant:"body1"},m.message),xe&&xe.name!=="PopupRejectedError"&&n.createElement(ke.Z,{variant:"body1",color:"error"},xe.message)))))):n.createElement(Na,null)};function Oc(m){return"provider"in m?n.createElement(bc,{...m}):n.createElement(Lc,{...m})}const Dc=(0,u.Z)(m=>({root:{padding:m.spacing(0,2,0,2.5),minHeight:m.spacing(3)},indicator:{backgroundColor:m.palette.info.main,height:m.spacing(.3)}}),{name:"BackstageTabbedCard"}),Bc=(0,Bn.Z)(m=>({root:{padding:m.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:m.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(mr.Z);function Bs(m){const{slackChannel:v,errorBoundaryProps:O,children:U,title:J,deepLink:oe,value:xe,onChange:De}=m,we=Dc(),[Fe,et]=(0,n.useState)(0),Xe=De||((Et,zt)=>et(zt));let mt;xe?n.Children.map(U,Et=>{n.isValidElement(Et)&&(Et==null?void 0:Et.props.value)===xe&&(mt=Et==null?void 0:Et.props.children)}):n.Children.map(U,(Et,zt)=>{n.isValidElement(Et)&&zt===Fe&&(mt=Et==null?void 0:Et.props.children)});const ht=O||(v?{slackChannel:v}:{});return n.createElement(Ta.Z,null,n.createElement($r,{...ht},J&&n.createElement(Bc,{title:J}),n.createElement(ns.Z,{selectionFollowsFocus:!0,classes:we,value:xe||Fe,onChange:Xe},U),n.createElement(kn.Z,null),n.createElement(dr.Z,null,mt),oe&&n.createElement(Nr,{...oe})))}const Mc=(0,u.Z)(m=>({root:{minWidth:m.spacing(6),minHeight:m.spacing(3),margin:m.spacing(0,2,0,0),padding:m.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:m.palette.text.primary}},selected:{fontWeight:"bold"}}),{name:"BackstageCardTab"});function Fc(m){const{children:v,...O}=m,U=Mc();return n.createElement(ts.Z,{disableRipple:!0,classes:U,...O})}},88609:function(H,l,e){"use strict";e.d(l,{Os:function(){return i},fC:function(){return d}});var t=e(76241),n=e(2784);const r=(0,t.CT)("analytics-context"),i=()=>{const a=(0,n.useContext)(r);if(a===void 0)return{routeRef:"unknown",pluginId:"root",extension:"App"};const c=a.atVersion(1);if(c===void 0)throw new Error("No context found for version 1.");return c},d=a=>{const{attributes:c,children:o}=a,u={...i(),...c},f=(0,t.EI)({1:u});return n.createElement(r.Provider,{value:f},o)};function s(a,c){const o=g=>React.createElement(d,{attributes:c},React.createElement(a,{...g}));return o.displayName=`WithAnalyticsContext(${a.displayName||a.name||"Component"})`,o}},28461:function(H,l,e){"use strict";e.d(l,{f:function(){return t.fC},z:function(){return s}});var t=e(88609),n=e(27399),r=e(2784);class i{constructor(c,o={routeRef:"unknown",pluginId:"root",extension:"App"}){this.analyticsApi=c,this.context=o}setContext(c){this.context=c}captureEvent(c,o,{value:g,attributes:u}={}){try{this.analyticsApi.captureEvent({action:c,subject:o,value:g,attributes:u,context:this.context})}catch(f){console.warn("Error during analytics event capture. %o",f)}}}function d(){try{return(0,n.useApi)(n.analyticsApiRef)}catch{return{captureEvent:()=>{}}}}function s(){const a=(0,r.useRef)(null),c=(0,t.Os)(),o=d();function g(){return a.current===null&&(a.current=new i(o)),a.current}const u=g();return u.setContext(c),u}},39135:function(H,l,e){"use strict";e.d(l,{CL:function(){return y},sM:function(){return n},$v:function(){return u},v_:function(){return f},hg:function(){return h},uB:function(){return g},bq:function(){return o},Ds:function(){return p},NW:function(){return A},VE:function(){return R},W0:function(){return E},gP:function(){return C},F4:function(){return i},ux:function(){return s},Kp:function(){return r},$4:function(){return S},p_:function(){return a},ZM:function(){return T},D:function(){return d},gW:function(){return c},E6:function(){return P}});var t=e(86833),n;(function(I){const Z="SignedIn";I.SignedIn=Z;const L="SignedOut";I.SignedOut=L})(n||(n={}));const r=(0,t.createApiRef)({id:"core.auth.google"}),i=(0,t.createApiRef)({id:"core.auth.github"}),d=(0,t.createApiRef)({id:"core.auth.okta"}),s=(0,t.createApiRef)({id:"core.auth.gitlab"}),a=(0,t.createApiRef)({id:"core.auth.microsoft"}),c=(0,t.createApiRef)({id:"core.auth.onelogin"}),o=(0,t.createApiRef)({id:"core.auth.bitbucket"}),g=(0,t.createApiRef)({id:"core.auth.atlassian"}),u=(0,t.createApiRef)({id:"core.alert"}),f=(0,t.createApiRef)({id:"core.analytics"}),h=(0,t.createApiRef)({id:"core.apptheme"}),p=(0,t.createApiRef)({id:"core.config"}),A=(0,t.createApiRef)({id:"core.discovery"}),R=(0,t.createApiRef)({id:"core.error"});var y;(function(I){I[I.None=0]="None";const L=1;I[I.Active=L]="Active"})(y||(y={}));const E=(0,t.createApiRef)({id:"core.featureflags"}),C=(0,t.createApiRef)({id:"core.fetch"}),S=(0,t.createApiRef)({id:"core.identity"}),T=(0,t.createApiRef)({id:"core.oauthrequest"}),P=(0,t.createApiRef)({id:"core.storage"})},27399:function(H,l,e){"use strict";e.d(l,{FeatureFlagState:function(){return n.CL},SessionState:function(){return n.sM},alertApiRef:function(){return n.$v},analyticsApiRef:function(){return n.v_},appThemeApiRef:function(){return n.hg},atlassianAuthApiRef:function(){return n.uB},bitbucketAuthApiRef:function(){return n.bq},configApiRef:function(){return n.Ds},createApiFactory:function(){return t.createApiFactory},createApiRef:function(){return t.createApiRef},discoveryApiRef:function(){return n.NW},errorApiRef:function(){return n.VE},featureFlagsApiRef:function(){return n.W0},fetchApiRef:function(){return n.gP},githubAuthApiRef:function(){return n.F4},gitlabAuthApiRef:function(){return n.ux},googleAuthApiRef:function(){return n.Kp},identityApiRef:function(){return n.$4},microsoftAuthApiRef:function(){return n.p_},oauthRequestApiRef:function(){return n.ZM},oktaAuthApiRef:function(){return n.D},oneloginAuthApiRef:function(){return n.gW},storageApiRef:function(){return n.E6},useApi:function(){return t.useApi},useApiHolder:function(){return t.useApiHolder}});var t=e(86833);e.o(t,"FeatureFlagState")&&e.d(l,{FeatureFlagState:function(){return t.FeatureFlagState}}),e.o(t,"SessionState")&&e.d(l,{SessionState:function(){return t.SessionState}}),e.o(t,"alertApiRef")&&e.d(l,{alertApiRef:function(){return t.alertApiRef}}),e.o(t,"analyticsApiRef")&&e.d(l,{analyticsApiRef:function(){return t.analyticsApiRef}}),e.o(t,"appThemeApiRef")&&e.d(l,{appThemeApiRef:function(){return t.appThemeApiRef}}),e.o(t,"atlassianAuthApiRef")&&e.d(l,{atlassianAuthApiRef:function(){return t.atlassianAuthApiRef}}),e.o(t,"attachComponentData")&&e.d(l,{attachComponentData:function(){return t.attachComponentData}}),e.o(t,"bitbucketAuthApiRef")&&e.d(l,{bitbucketAuthApiRef:function(){return t.bitbucketAuthApiRef}}),e.o(t,"configApiRef")&&e.d(l,{configApiRef:function(){return t.configApiRef}}),e.o(t,"createComponentExtension")&&e.d(l,{createComponentExtension:function(){return t.createComponentExtension}}),e.o(t,"createExternalRouteRef")&&e.d(l,{createExternalRouteRef:function(){return t.createExternalRouteRef}}),e.o(t,"createPlugin")&&e.d(l,{createPlugin:function(){return t.createPlugin}}),e.o(t,"createReactExtension")&&e.d(l,{createReactExtension:function(){return t.createReactExtension}}),e.o(t,"createRoutableExtension")&&e.d(l,{createRoutableExtension:function(){return t.createRoutableExtension}}),e.o(t,"createRouteRef")&&e.d(l,{createRouteRef:function(){return t.createRouteRef}}),e.o(t,"createSubRouteRef")&&e.d(l,{createSubRouteRef:function(){return t.createSubRouteRef}}),e.o(t,"discoveryApiRef")&&e.d(l,{discoveryApiRef:function(){return t.discoveryApiRef}}),e.o(t,"errorApiRef")&&e.d(l,{errorApiRef:function(){return t.errorApiRef}}),e.o(t,"featureFlagsApiRef")&&e.d(l,{featureFlagsApiRef:function(){return t.featureFlagsApiRef}}),e.o(t,"fetchApiRef")&&e.d(l,{fetchApiRef:function(){return t.fetchApiRef}}),e.o(t,"getComponentData")&&e.d(l,{getComponentData:function(){return t.getComponentData}}),e.o(t,"githubAuthApiRef")&&e.d(l,{githubAuthApiRef:function(){return t.githubAuthApiRef}}),e.o(t,"gitlabAuthApiRef")&&e.d(l,{gitlabAuthApiRef:function(){return t.gitlabAuthApiRef}}),e.o(t,"googleAuthApiRef")&&e.d(l,{googleAuthApiRef:function(){return t.googleAuthApiRef}}),e.o(t,"identityApiRef")&&e.d(l,{identityApiRef:function(){return t.identityApiRef}}),e.o(t,"microsoftAuthApiRef")&&e.d(l,{microsoftAuthApiRef:function(){return t.microsoftAuthApiRef}}),e.o(t,"oauthRequestApiRef")&&e.d(l,{oauthRequestApiRef:function(){return t.oauthRequestApiRef}}),e.o(t,"oktaAuthApiRef")&&e.d(l,{oktaAuthApiRef:function(){return t.oktaAuthApiRef}}),e.o(t,"oneloginAuthApiRef")&&e.d(l,{oneloginAuthApiRef:function(){return t.oneloginAuthApiRef}}),e.o(t,"storageApiRef")&&e.d(l,{storageApiRef:function(){return t.storageApiRef}}),e.o(t,"useApp")&&e.d(l,{useApp:function(){return t.useApp}}),e.o(t,"useElementFilter")&&e.d(l,{useElementFilter:function(){return t.useElementFilter}}),e.o(t,"useRouteRef")&&e.d(l,{useRouteRef:function(){return t.useRouteRef}}),e.o(t,"useRouteRefParams")&&e.d(l,{useRouteRefParams:function(){return t.useRouteRefParams}});var n=e(39135)},90515:function(H,l,e){"use strict";e.d(l,{T:function(){return n}});class t{constructor(i){if(this.config=i,!i.id.split(".").flatMap(s=>s.split("-")).every(s=>s.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${i.id}'`)}get id(){return this.config.id}get T(){throw new Error(`tried to read ApiRef.T of ${this}`)}toString(){return`apiRef{${this.config.id}}`}}function n(r){return new t(r)}},25182:function(H,l,e){"use strict";e.d(l,{n:function(){return t}});function t(n,r){return"id"in n?{api:n,deps:{},factory:()=>r}:n}},86833:function(H,l,e){"use strict";e.d(l,{createApiFactory:function(){return d.n},createApiRef:function(){return n.T},useApi:function(){return t.h_},useApiHolder:function(){return t.I_}});var t=e(5761),n=e(90515),r=e(16362),i=e.n(r);e.o(r,"FeatureFlagState")&&e.d(l,{FeatureFlagState:function(){return r.FeatureFlagState}}),e.o(r,"SessionState")&&e.d(l,{SessionState:function(){return r.SessionState}}),e.o(r,"alertApiRef")&&e.d(l,{alertApiRef:function(){return r.alertApiRef}}),e.o(r,"analyticsApiRef")&&e.d(l,{analyticsApiRef:function(){return r.analyticsApiRef}}),e.o(r,"appThemeApiRef")&&e.d(l,{appThemeApiRef:function(){return r.appThemeApiRef}}),e.o(r,"atlassianAuthApiRef")&&e.d(l,{atlassianAuthApiRef:function(){return r.atlassianAuthApiRef}}),e.o(r,"attachComponentData")&&e.d(l,{attachComponentData:function(){return r.attachComponentData}}),e.o(r,"bitbucketAuthApiRef")&&e.d(l,{bitbucketAuthApiRef:function(){return r.bitbucketAuthApiRef}}),e.o(r,"configApiRef")&&e.d(l,{configApiRef:function(){return r.configApiRef}}),e.o(r,"createApiFactory")&&e.d(l,{createApiFactory:function(){return r.createApiFactory}}),e.o(r,"createComponentExtension")&&e.d(l,{createComponentExtension:function(){return r.createComponentExtension}}),e.o(r,"createExternalRouteRef")&&e.d(l,{createExternalRouteRef:function(){return r.createExternalRouteRef}}),e.o(r,"createPlugin")&&e.d(l,{createPlugin:function(){return r.createPlugin}}),e.o(r,"createReactExtension")&&e.d(l,{createReactExtension:function(){return r.createReactExtension}}),e.o(r,"createRoutableExtension")&&e.d(l,{createRoutableExtension:function(){return r.createRoutableExtension}}),e.o(r,"createRouteRef")&&e.d(l,{createRouteRef:function(){return r.createRouteRef}}),e.o(r,"createSubRouteRef")&&e.d(l,{createSubRouteRef:function(){return r.createSubRouteRef}}),e.o(r,"discoveryApiRef")&&e.d(l,{discoveryApiRef:function(){return r.discoveryApiRef}}),e.o(r,"errorApiRef")&&e.d(l,{errorApiRef:function(){return r.errorApiRef}}),e.o(r,"featureFlagsApiRef")&&e.d(l,{featureFlagsApiRef:function(){return r.featureFlagsApiRef}}),e.o(r,"fetchApiRef")&&e.d(l,{fetchApiRef:function(){return r.fetchApiRef}}),e.o(r,"getComponentData")&&e.d(l,{getComponentData:function(){return r.getComponentData}}),e.o(r,"githubAuthApiRef")&&e.d(l,{githubAuthApiRef:function(){return r.githubAuthApiRef}}),e.o(r,"gitlabAuthApiRef")&&e.d(l,{gitlabAuthApiRef:function(){return r.gitlabAuthApiRef}}),e.o(r,"googleAuthApiRef")&&e.d(l,{googleAuthApiRef:function(){return r.googleAuthApiRef}}),e.o(r,"identityApiRef")&&e.d(l,{identityApiRef:function(){return r.identityApiRef}}),e.o(r,"microsoftAuthApiRef")&&e.d(l,{microsoftAuthApiRef:function(){return r.microsoftAuthApiRef}}),e.o(r,"oauthRequestApiRef")&&e.d(l,{oauthRequestApiRef:function(){return r.oauthRequestApiRef}}),e.o(r,"oktaAuthApiRef")&&e.d(l,{oktaAuthApiRef:function(){return r.oktaAuthApiRef}}),e.o(r,"oneloginAuthApiRef")&&e.d(l,{oneloginAuthApiRef:function(){return r.oneloginAuthApiRef}}),e.o(r,"storageApiRef")&&e.d(l,{storageApiRef:function(){return r.storageApiRef}}),e.o(r,"useApp")&&e.d(l,{useApp:function(){return r.useApp}}),e.o(r,"useElementFilter")&&e.d(l,{useElementFilter:function(){return r.useElementFilter}}),e.o(r,"useRouteRef")&&e.d(l,{useRouteRef:function(){return r.useRouteRef}}),e.o(r,"useRouteRefParams")&&e.d(l,{useRouteRefParams:function(){return r.useRouteRefParams}});var d=e(25182)},16362:function(){},5761:function(H,l,e){"use strict";e.d(l,{I_:function(){return r},h_:function(){return i}});var t=e(2784),n=e(76241);function r(){const s=(0,n.Vt)("api-context");if(!s)throw new Error("API context is not available");const a=s.atVersion(1);if(!a)throw new Error("ApiContext v1 not available");return a}function i(s){const c=r().get(s);if(!c)throw new Error(`No implementation available for ${s}`);return c}function d(s){return function(c){const o=u=>{const f=r(),h={};for(const p in s)if(s.hasOwnProperty(p)){const A=s[p],R=f.get(A);if(!R)throw new Error(`No implementation available for ${A}`);h[p]=R}return React.createElement(c,{...u,...h})},g=c.displayName||c.name||"Component";return o.displayName=`withApis(${g})`,o}}},31311:function(H,l,e){"use strict";e.d(l,{useApp:function(){return t.q}});var t=e(32483),n=e(67229),r=e.n(n);e.o(n,"attachComponentData")&&e.d(l,{attachComponentData:function(){return n.attachComponentData}}),e.o(n,"createApiFactory")&&e.d(l,{createApiFactory:function(){return n.createApiFactory}}),e.o(n,"createApiRef")&&e.d(l,{createApiRef:function(){return n.createApiRef}}),e.o(n,"createComponentExtension")&&e.d(l,{createComponentExtension:function(){return n.createComponentExtension}}),e.o(n,"createExternalRouteRef")&&e.d(l,{createExternalRouteRef:function(){return n.createExternalRouteRef}}),e.o(n,"createPlugin")&&e.d(l,{createPlugin:function(){return n.createPlugin}}),e.o(n,"createReactExtension")&&e.d(l,{createReactExtension:function(){return n.createReactExtension}}),e.o(n,"createRoutableExtension")&&e.d(l,{createRoutableExtension:function(){return n.createRoutableExtension}}),e.o(n,"createRouteRef")&&e.d(l,{createRouteRef:function(){return n.createRouteRef}}),e.o(n,"createSubRouteRef")&&e.d(l,{createSubRouteRef:function(){return n.createSubRouteRef}}),e.o(n,"getComponentData")&&e.d(l,{getComponentData:function(){return n.getComponentData}}),e.o(n,"useApi")&&e.d(l,{useApi:function(){return n.useApi}}),e.o(n,"useApiHolder")&&e.d(l,{useApiHolder:function(){return n.useApiHolder}}),e.o(n,"useElementFilter")&&e.d(l,{useElementFilter:function(){return n.useElementFilter}}),e.o(n,"useRouteRef")&&e.d(l,{useRouteRef:function(){return n.useRouteRef}}),e.o(n,"useRouteRefParams")&&e.d(l,{useRouteRefParams:function(){return n.useRouteRefParams}})},67229:function(){},32483:function(H,l,e){"use strict";e.d(l,{q:function(){return n}});var t=e(76241);const n=()=>{const r=(0,t.Vt)("app-context");if(!r)throw new Error("App context is not available");const i=r.atVersion(1);if(!i)throw new Error("AppContext v1 not available");return i}},74181:function(H,l,e){"use strict";e.d(l,{R5:function(){return i},CO:function(){return f},YO:function(){return h},P4:function(){return u},IY:function(){return d},vJ:function(){return y}});var t=e(76241);const n=(0,t.uW)("component-data-store",()=>new WeakMap),r="__backstage_data";function i(E,C,S){var I;const T=E;let P=(I=T[r])!=null?I:n.get(E);if(P||(P={map:new Map},Object.defineProperty(T,r,{enumerable:!1,configurable:!0,writable:!1,value:P}),n.set(E,P)),P.map.has(C)){const Z=E.displayName||E.name;throw new Error(`Attempted to attach duplicate data "${C}" to component "${Z}"`)}P.map.set(C,S)}function d(E,C){var P;if(!E)return;const S=E.type;if(!S)return;const T=(P=S[r])!=null?P:n.get(S);if(!!T)return T.map.get(C)}var s=e(2784),a=e(88609),c=e(31311),o=e(82772);class g extends s.Component{constructor(){super(...arguments);Me(this,"state",{error:void 0});Me(this,"handleErrorReset",()=>{this.setState({error:void 0})})}static getDerivedStateFromError(S){return{error:S}}render(){const{error:S}=this.state,{app:T,plugin:P}=this.props,{ErrorBoundaryFallback:I}=T.getComponents();return S?s.createElement(I,{error:S,resetError:this.handleErrorReset,plugin:P}):this.props.children}}function u(E){const{component:C,mountPoint:S,name:T}=E;return h({component:{lazy:()=>C().then(P=>{const I=L=>{try{(0,o.tg)(S)}catch(D){if(typeof D=="object"&&D!==null){const{message:B}=D;if(typeof B=="string"&&B.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${S} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`)}throw D}return s.createElement(P,{...L})},Z=T||P.displayName||P.name||"LazyComponent";return I.displayName=`RoutableExtension(${Z})`,I},P=>Z=>{const L=(0,c.useApp)(),{BootErrorPage:D}=L.getComponents();return s.createElement(D,{step:"load-chunk",error:P})})},data:{"core.mountPoint":S},name:T})}function f(E){const{component:C,name:S}=E;return h({component:C,name:S})}function h(E){const{data:C={},name:S}=E;S||console.warn("Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.");let T;if("lazy"in E.component){const I=E.component.lazy;T=(0,s.lazy)(()=>I().then(Z=>({default:Z})))}else T=E.component.sync;const P=S||T.displayName||T.name||"Component";return{expose(I){const Z=L=>{const D=(0,c.useApp)(),{Progress:B}=D.getComponents(),w=C==null?void 0:C["core.mountPoint"];return s.createElement(s.Suspense,{fallback:s.createElement(B,null)},s.createElement(g,{app:D,plugin:I},s.createElement(a.fC,{attributes:{pluginId:I.getId(),...S&&{extension:S},...w&&{routeRef:w.id}}},s.createElement(T,{...L}))))};i(Z,"core.plugin",I);for(const[L,D]of Object.entries(C))i(Z,L,D);return Z.displayName=`Extension(${P})`,Z}}}var p=e(27399);function A(E,C,S,T){return s.Children.toArray(E).flatMap(P=>{if(!(0,s.isValidElement)(P))return[];if(P.type===s.Fragment)return A(P.props.children,C,S,T);if(d(P,"core.featureFlagged")){const I=P.props;return("with"in I?C.isActive(I.with):!C.isActive(I.without))?A(P.props.children,C,S,T):[]}if(S===void 0||S(P))return[P];if(T)throw new Error(T);return A(P.props.children,C,S,T)})}class R{constructor(C,S){this.node=C,this.featureFlagsApi=S}selectByComponentData(C){const S=A(this.node,this.featureFlagsApi,T=>d(T,C.key)!==void 0,C.withStrictError);return new R(S,this.featureFlagsApi)}findComponentData(C){return A(this.node,this.featureFlagsApi,T=>d(T,C.key)!==void 0).map(T=>d(T,C.key)).filter(T=>T!==void 0)}getElements(){return A(this.node,this.featureFlagsApi)}}function y(E,C,S=[]){const T=(0,p.useApi)(p.featureFlagsApiRef),P=new R(E,T);return(0,s.useMemo)(()=>C(P),[E,...S])}},80274:function(){},36964:function(H,l,e){"use strict";e.d(l,{AnalyticsContext:function(){return t.f},FeatureFlagState:function(){return n.FeatureFlagState},SessionState:function(){return n.SessionState},alertApiRef:function(){return n.alertApiRef},analyticsApiRef:function(){return n.analyticsApiRef},appThemeApiRef:function(){return n.appThemeApiRef},atlassianAuthApiRef:function(){return n.atlassianAuthApiRef},attachComponentData:function(){return i.R5},bitbucketAuthApiRef:function(){return n.bitbucketAuthApiRef},configApiRef:function(){return n.configApiRef},createComponentExtension:function(){return i.CO},createExternalRouteRef:function(){return c.x8},createPlugin:function(){return a.r},createReactExtension:function(){return i.YO},createRoutableExtension:function(){return i.P4},createRouteRef:function(){return c.NT},createSubRouteRef:function(){return c.Rz},discoveryApiRef:function(){return n.discoveryApiRef},errorApiRef:function(){return n.errorApiRef},featureFlagsApiRef:function(){return n.featureFlagsApiRef},fetchApiRef:function(){return n.fetchApiRef},getComponentData:function(){return i.IY},githubAuthApiRef:function(){return n.githubAuthApiRef},gitlabAuthApiRef:function(){return n.gitlabAuthApiRef},googleAuthApiRef:function(){return n.googleAuthApiRef},identityApiRef:function(){return n.identityApiRef},microsoftAuthApiRef:function(){return n.microsoftAuthApiRef},oauthRequestApiRef:function(){return n.oauthRequestApiRef},oktaAuthApiRef:function(){return n.oktaAuthApiRef},oneloginAuthApiRef:function(){return n.oneloginAuthApiRef},storageApiRef:function(){return n.storageApiRef},useAnalytics:function(){return t.z},useApp:function(){return r.useApp},useElementFilter:function(){return i.vJ},useRouteRef:function(){return c.tg},useRouteRefParams:function(){return c.Oi}});var t=e(28461),n=e(27399);e.o(n,"attachComponentData")&&e.d(l,{attachComponentData:function(){return n.attachComponentData}}),e.o(n,"createApiFactory")&&e.d(l,{createApiFactory:function(){return n.createApiFactory}}),e.o(n,"createApiRef")&&e.d(l,{createApiRef:function(){return n.createApiRef}}),e.o(n,"createComponentExtension")&&e.d(l,{createComponentExtension:function(){return n.createComponentExtension}}),e.o(n,"createExternalRouteRef")&&e.d(l,{createExternalRouteRef:function(){return n.createExternalRouteRef}}),e.o(n,"createPlugin")&&e.d(l,{createPlugin:function(){return n.createPlugin}}),e.o(n,"createReactExtension")&&e.d(l,{createReactExtension:function(){return n.createReactExtension}}),e.o(n,"createRoutableExtension")&&e.d(l,{createRoutableExtension:function(){return n.createRoutableExtension}}),e.o(n,"createRouteRef")&&e.d(l,{createRouteRef:function(){return n.createRouteRef}}),e.o(n,"createSubRouteRef")&&e.d(l,{createSubRouteRef:function(){return n.createSubRouteRef}}),e.o(n,"getComponentData")&&e.d(l,{getComponentData:function(){return n.getComponentData}}),e.o(n,"useApi")&&e.d(l,{useApi:function(){return n.useApi}}),e.o(n,"useApiHolder")&&e.d(l,{useApiHolder:function(){return n.useApiHolder}}),e.o(n,"useApp")&&e.d(l,{useApp:function(){return n.useApp}}),e.o(n,"useElementFilter")&&e.d(l,{useElementFilter:function(){return n.useElementFilter}}),e.o(n,"useRouteRef")&&e.d(l,{useRouteRef:function(){return n.useRouteRef}}),e.o(n,"useRouteRefParams")&&e.d(l,{useRouteRefParams:function(){return n.useRouteRefParams}});var r=e(31311);e.o(r,"attachComponentData")&&e.d(l,{attachComponentData:function(){return r.attachComponentData}}),e.o(r,"createApiFactory")&&e.d(l,{createApiFactory:function(){return r.createApiFactory}}),e.o(r,"createApiRef")&&e.d(l,{createApiRef:function(){return r.createApiRef}}),e.o(r,"createComponentExtension")&&e.d(l,{createComponentExtension:function(){return r.createComponentExtension}}),e.o(r,"createExternalRouteRef")&&e.d(l,{createExternalRouteRef:function(){return r.createExternalRouteRef}}),e.o(r,"createPlugin")&&e.d(l,{createPlugin:function(){return r.createPlugin}}),e.o(r,"createReactExtension")&&e.d(l,{createReactExtension:function(){return r.createReactExtension}}),e.o(r,"createRoutableExtension")&&e.d(l,{createRoutableExtension:function(){return r.createRoutableExtension}}),e.o(r,"createRouteRef")&&e.d(l,{createRouteRef:function(){return r.createRouteRef}}),e.o(r,"createSubRouteRef")&&e.d(l,{createSubRouteRef:function(){return r.createSubRouteRef}}),e.o(r,"getComponentData")&&e.d(l,{getComponentData:function(){return r.getComponentData}}),e.o(r,"useApi")&&e.d(l,{useApi:function(){return r.useApi}}),e.o(r,"useApiHolder")&&e.d(l,{useApiHolder:function(){return r.useApiHolder}}),e.o(r,"useElementFilter")&&e.d(l,{useElementFilter:function(){return r.useElementFilter}}),e.o(r,"useRouteRef")&&e.d(l,{useRouteRef:function(){return r.useRouteRef}}),e.o(r,"useRouteRefParams")&&e.d(l,{useRouteRefParams:function(){return r.useRouteRefParams}});var i=e(74181),d=e(80274),s=e.n(d);e.o(d,"createApiFactory")&&e.d(l,{createApiFactory:function(){return d.createApiFactory}}),e.o(d,"createApiRef")&&e.d(l,{createApiRef:function(){return d.createApiRef}}),e.o(d,"createExternalRouteRef")&&e.d(l,{createExternalRouteRef:function(){return d.createExternalRouteRef}}),e.o(d,"createPlugin")&&e.d(l,{createPlugin:function(){return d.createPlugin}}),e.o(d,"createRouteRef")&&e.d(l,{createRouteRef:function(){return d.createRouteRef}}),e.o(d,"createSubRouteRef")&&e.d(l,{createSubRouteRef:function(){return d.createSubRouteRef}}),e.o(d,"useApi")&&e.d(l,{useApi:function(){return d.useApi}}),e.o(d,"useApiHolder")&&e.d(l,{useApiHolder:function(){return d.useApiHolder}}),e.o(d,"useRouteRef")&&e.d(l,{useRouteRef:function(){return d.useRouteRef}}),e.o(d,"useRouteRefParams")&&e.d(l,{useRouteRefParams:function(){return d.useRouteRefParams}});var a=e(96896),c=e(82772)},96896:function(H,l,e){"use strict";e.d(l,{r:function(){return n}});class t{constructor(i){this.config=i}getId(){return this.config.id}getApis(){var i;return(i=this.config.apis)!=null?i:[]}getFeatureFlags(){var i,d;return(d=(i=this.config.featureFlags)==null?void 0:i.slice())!=null?d:[]}get routes(){var i;return(i=this.config.routes)!=null?i:{}}get externalRoutes(){var i;return(i=this.config.externalRoutes)!=null?i:{}}provide(i){return i.expose(this)}toString(){return`plugin{${this.config.id}}`}}function n(r){return new t(r)}},82772:function(H,l,e){var p,A,R;"use strict";e.d(l,{x8:function(){return o},NT:function(){return i},Rz:function(){return a},tg:function(){return f},Oi:function(){return h}});var t=e(76241);const n=(0,t.uW)("route-ref-type",()=>Symbol("route-ref-type"));class r{constructor(E,C){Me(this,p,"absolute");this.id=E,this.params=C}get title(){return this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}p=n;function i(y){var E;return new r(y.id,(E=y.params)!=null?E:[])}const d=/^\w+$/;class s{constructor(E,C,S,T){Me(this,A,"sub");this.id=E,this.path=C,this.parent=S,this.params=T}toString(){return`routeRef{type=sub,id=${this.id}}`}}A=n;function a(y){const{id:E,path:C,parent:S}=y,T=C.split("/").filter(Z=>Z.startsWith(":")).map(Z=>Z.substring(1)),P=[...S.params,...T];if(S.params.some(Z=>T.includes(Z)))throw new Error("SubRouteRef may not have params that overlap with its parent");if(!C.startsWith("/"))throw new Error(`SubRouteRef path must start with '/', got '${C}'`);if(C.endsWith("/"))throw new Error(`SubRouteRef path must not end with '/', got '${C}'`);for(const Z of T)if(!d.test(Z))throw new Error(`SubRouteRef path has invalid param, got '${Z}'`);return new s(E,C,S,P)}class c{constructor(E,C,S){Me(this,R,"external");this.id=E,this.params=C,this.optional=S}toString(){return`routeRef{type=external,id=${this.id}}`}}R=n;function o(y){var E;return new c(y.id,(E=y.params)!=null?E:[],Boolean(y.optional))}var g=e(2784),u=e(10289);function f(y){const E=(0,u.TH)(),C=(0,t.Vt)("routing-context");if(!C)throw new Error("Routing context is not available");const S=C.atVersion(1),T=(0,g.useMemo)(()=>S&&S.resolve(y,E),[S,y,E]);if(!C)throw new Error("useRouteRef used outside of routing context");if(!S)throw new Error("RoutingContext v1 not available");const P="optional"in y&&y.optional;if(!T&&!P)throw new Error(`No path for ${y}`);return T}function h(y){return(0,u.UO)()}},10179:function(H,l,e){"use strict";e.d(l,{SP:function(){return p},dR:function(){return u},VL:function(){return R},BD:function(){return n},VZ:function(){return t}});function t(y){if(typeof y!="object"||y===null||Array.isArray(y))return!1;const E=y;return!(typeof E.name!="string"||E.name===""||typeof E.message!="string")}function n(y){if(typeof y!="object"||y===null||Array.isArray(y))throw new Error(`Encountered invalid error, not an object, got '${y}'`);const E=y;if(typeof E.name!="string"||E.name==="")throw new Error(`Encountered error object without a name, got '${y}'`);if(typeof E.message!="string")throw new Error(`Encountered error object without a message, got '${y}'`)}var r=e(24852);function i(y,E){const C=serializeErrorInternal(y),S={name:"Unknown",message:"<no reason given>",...C};return E!=null&&E.includeStack||delete S.stack,S}function d(y){const E=(0,r.deserializeError)(y);return y.stack||(E.stack=void 0),E}function s(y){if(t(y)){const E=String(y);return E!=="[object Object]"?E:`${y.name}: ${y.message}`}return`unknown error '${y}'`}class a extends Error{constructor(C,S){var P;let T=C;if(S!==void 0){const I=s(S);T?T+=`; caused by ${I}`:T=`caused by ${I}`}super(T);Me(this,"cause");(P=Error.captureStackTrace)==null||P.call(Error,this,this.constructor),this.name=this.constructor.name,this.cause=t(S)?S:void 0}}class c extends null{}class o extends null{}class g extends null{}class u extends a{}class f extends null{}class h extends null{}class p extends a{constructor(E,C){super(E,C),this.name=t(C)?C.name:"Error"}}async function A(y){var E;try{const C=await y.text();if(C){if((E=y.headers.get("content-type"))!=null&&E.startsWith("application/json"))try{const S=JSON.parse(C);if(S.error&&S.response)return S}catch{}return{error:{name:"Error",message:`Request failed with status ${y.status} ${y.statusText}, ${C}`},response:{statusCode:y.status}}}}catch{}return{error:{name:"Error",message:`Request failed with status ${y.status} ${y.statusText}`},response:{statusCode:y.status}}}class R extends Error{constructor(C){super(C.message);Me(this,"response");Me(this,"body");Me(this,"cause");this.name="ResponseError",this.response=C.response,this.body=C.data,this.cause=C.cause}static async fromResponse(C){const S=await A(C),T=S.response.statusCode||C.status,P=S.error.name||C.statusText,I=`Request failed with ${T} ${P}`,Z=d(S.error);return new R({message:I,response:C,data:S,cause:Z})}}},36356:function(H,l,e){var u,f,h,p,A;"use strict";e.d(l,{zN:function(){return i},nW:function(){return g},ae:function(){return s},Om:function(){return n},q3:function(){return a}});var t=e(36964);const n=(0,t.createApiRef)({id:"core.scmauth"});class r{constructor(E){oa(this,u,void 0);la(this,u,E)}async getCredentials(E){const C=new URL(E.url),S=Ut(this,u).find(T=>T.isUrlSupported(C));if(!S)throw new Error(`No auth provider available for '${E.url}', see https://backstage.io/link?scm-auth`);return S.getCredentials(E)}}u=new WeakMap;const R=class{constructor(E,C,S,T){oa(this,f,void 0);oa(this,h,void 0);oa(this,p,void 0);oa(this,A,void 0);la(this,f,C),la(this,h,S),la(this,p,T),la(this,A,E)}static createDefaultApiFactory(){return(0,t.createApiFactory)({api:n,deps:{github:t.githubAuthApiRef,gitlab:t.gitlabAuthApiRef,azure:t.microsoftAuthApiRef,bitbucket:t.bitbucketAuthApiRef},factory:({github:E,gitlab:C,azure:S,bitbucket:T})=>R.merge(R.forGithub(E),R.forGitlab(C),R.forAzure(S),R.forBitbucket(T))})}static forAuthApi(E,C){return new R("generic",E,C.host,C.scopeMapping)}static forGithub(E,C){var T;const S=(T=C==null?void 0:C.host)!=null?T:"github.com";return new R("github",E,S,{default:["repo","read:org","read:user"],repoWrite:["gist"]})}static forGitlab(E,C){var T;const S=(T=C==null?void 0:C.host)!=null?T:"gitlab.com";return new R("gitlab",E,S,{default:["read_user","read_api","read_repository"],repoWrite:["write_repository","api"]})}static forAzure(E,C){var T;const S=(T=C==null?void 0:C.host)!=null?T:"dev.azure.com";return new R("azure",E,S,{default:["vso.build","vso.code","vso.graph","vso.project","vso.profile"],repoWrite:["vso.code_manage"]})}static forBitbucket(E,C){var T;const S=(T=C==null?void 0:C.host)!=null?T:"bitbucket.org";return new R("bitbucket",E,S,{default:["account","team","pullrequest","snippet","issue"],repoWrite:["pullrequest:write","snippet:write","issue:write"]})}static merge(...E){return new r(E)}isUrlSupported(E){return E.host===Ut(this,h)}getAdditionalScopesForProvider(E){var C,S;return!(E!=null&&E.customScopes)||Ut(this,A)==="generic"?[]:(S=(C=E.customScopes)==null?void 0:C[Ut(this,A)])!=null?S:[]}async getCredentials(E){const{url:C,additionalScope:S,...T}=E,P=Ut(this,p).default.slice();S!=null&&S.repoWrite&&P.push(...Ut(this,p).repoWrite);const I=this.getAdditionalScopesForProvider(S);I.length&&P.push(...I);const Z=[...new Set(P)],L=await Ut(this,f).getAccessToken(Z,T);return{token:L,headers:{Authorization:`Bearer ${L}`}}}};let i=R;f=new WeakMap,h=new WeakMap,p=new WeakMap,A=new WeakMap;var d=e(68370);class s{static fromConfig(E){return d.Lx.fromConfig(E)}}const a=(0,t.createApiRef)({id:"integration.scmintegrations"});var c=e(73250),o=e(2784);const g=y=>{var P;const{type:E}=y,C=(0,t.useApp)(),S=c.Z,T=E&&(P=C.getSystemIcon(E))!=null?P:S;return o.createElement(T,null)}},68370:function(H,l,e){var Qt,Nt,dn,wt,tn,Jt,Rn;"use strict";e.d(l,{Lx:function(){return Ht},E8:function(){return nt},Pb:function(){return Wt},ah:function(){return Bt}});var t=e(82717),n=e.n(t),r=e(76635);function i(Oe){const K=new URL("http://example.com");return K.host=Oe,K.host===Oe}function d(Oe){try{return new URL(Oe),!0}catch{return!1}}function s(Oe,K){return{list(){return Oe},byUrl(ye){try{const be=typeof ye=="string"?new URL(ye):ye;return Oe.find(Ke=>K(Ke)===be.host)}catch{return}},byHost(ye){return Oe.find(be=>K(be)===ye)}}}function a(Oe){const{url:K,base:ye,lineNumber:be}=Oe;try{return new URL(K),K}catch{}let Ke;if(K.startsWith("/")){const{filepath:ct}=n()(ye);Ke=new URL(ye);const lt=(0,r.trimEnd)(Ke.pathname.substring(0,Ke.pathname.length-ct.length),"/");Ke.pathname=`${lt}${K}`}else Ke=new URL(K,ye);return Ke.search=new URL(ye).search,be&&(Ke.hash=`L${be}`),Ke.toString()}const c="amazonaws.com";function o(Oe){var an;const K=Oe.getOptionalString("endpoint"),ye=(an=Oe.getOptionalBoolean("s3ForcePathStyle"))!=null?an:!1;let be,Ke;if(K){try{const Xn=new URL(K);be=Xn.host,Ke=Xn.pathname}catch{throw new Error(`invalid awsS3 integration config, endpoint '${K}' is not a valid URL`)}if(Ke!=="/")throw new Error(`invalid awsS3 integration config, endpoints cannot contain path, got '${K}'`)}else be=c;const ct=Oe.getOptionalString("accessKeyId"),lt=Oe.getOptionalString("secretAccessKey"),Ct=Oe.getOptionalString("roleArn"),jt=Oe.getOptionalString("externalId");return{host:be,endpoint:K,s3ForcePathStyle:ye,accessKeyId:ct,secretAccessKey:lt,roleArn:Ct,externalId:jt}}function g(Oe){const K=Oe.map(o);return K.some(ye=>ye.host===c)||K.push({host:c}),K}const Gt=class{get type(){return"awsS3"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}constructor(K){this.integrationConfig=K}resolveUrl(K){return a(K)}resolveEditUrl(K){return K}};let u=Gt;Me(u,"factory",({config:K})=>{var be;const ye=g((be=K.getOptionalConfigArray("integrations.awsS3"))!=null?be:[]);return s(ye.map(Ke=>new Gt(Ke)),Ke=>Ke.config.host)});const f="GB",Dn=class{constructor(K,ye,be,Ke,ct,lt){oa(this,Qt,void 0);oa(this,Nt,void 0);oa(this,dn,void 0);oa(this,wt,void 0);oa(this,tn,void 0);oa(this,Jt,void 0);oa(this,Rn,(...K)=>{const ye=new URL(Ut(this,Qt));return ye.pathname=K.map(be=>encodeURIComponent(be)).join("/"),ye});la(this,Qt,K),la(this,Nt,ye),la(this,dn,be),la(this,wt,Ke),la(this,tn,ct),la(this,Jt,lt)}static fromRepoUrl(K){var Xn;const ye=new URL(K);let be,Ke,ct;const lt=ye.pathname.split("/").map(rn=>decodeURIComponent(rn));if(lt[2]==="_git"?(be=lt[1],Ke=ct=lt[3]):lt[3]==="_git"?(be=lt[1],Ke=lt[2],ct=lt[4]):lt[4]==="_git"&&(be=`${lt[1]}/${lt[2]}`,Ke=lt[3],ct=lt[5]),!be||!Ke||!ct)throw new Error("Azure URL must point to a git repository");const Ct=(Xn=ye.searchParams.get("path"))!=null?Xn:void 0;let jt;const an=ye.searchParams.get("version");if(an){if(an.slice(0,2)!=="GB")throw new Error("Azure URL version must point to a git branch");jt=an.slice(2)}return new Dn(ye.origin,be,Ke,ct,Ct,jt)}toRepoUrl(){let K;return Ut(this,dn)===Ut(this,wt)?K=Ut(this,Rn).call(this,Ut(this,Nt),"_git",Ut(this,wt)):K=Ut(this,Rn).call(this,Ut(this,Nt),Ut(this,dn),"_git",Ut(this,wt)),Ut(this,tn)&&K.searchParams.set("path",Ut(this,tn)),Ut(this,Jt)&&K.searchParams.set("version",f+Ut(this,Jt)),K.toString()}toFileUrl(){if(!Ut(this,tn))throw new Error("Azure URL must point to a specific path to be able to download a file");const K=Ut(this,Rn).call(this,Ut(this,Nt),Ut(this,dn),"_apis","git","repositories",Ut(this,wt),"items");return K.searchParams.set("api-version","6.0"),K.searchParams.set("path",Ut(this,tn)),Ut(this,Jt)&&K.searchParams.set("version",Ut(this,Jt)),K.toString()}toArchiveUrl(){const K=Ut(this,Rn).call(this,Ut(this,Nt),Ut(this,dn),"_apis","git","repositories",Ut(this,wt),"items");return K.searchParams.set("recursionLevel","full"),K.searchParams.set("download","true"),K.searchParams.set("api-version","6.0"),Ut(this,tn)&&K.searchParams.set("scopePath",Ut(this,tn)),Ut(this,Jt)&&K.searchParams.set("version",Ut(this,Jt)),K.toString()}toCommitsUrl(){const K=Ut(this,Rn).call(this,Ut(this,Nt),Ut(this,dn),"_apis","git","repositories",Ut(this,wt),"commits");return K.searchParams.set("api-version","6.0"),Ut(this,Jt)&&K.searchParams.set("searchCriteria.itemVersion.version",Ut(this,Jt)),K.toString()}getOwner(){return Ut(this,Nt)}getProject(){return Ut(this,dn)}getRepo(){return Ut(this,wt)}getPath(){return Ut(this,tn)}getRef(){return Ut(this,Jt)}};let h=Dn;Qt=new WeakMap,Nt=new WeakMap,dn=new WeakMap,wt=new WeakMap,tn=new WeakMap,Jt=new WeakMap,Rn=new WeakMap;const p="dev.azure.com";function A(Oe){var be;const K=(be=Oe.getOptionalString("host"))!=null?be:p,ye=Oe.getOptionalString("token");if(!i(K))throw new Error(`Invalid Azure integration config, '${K}' is not a valid host`);return{host:K,token:ye}}function R(Oe){const K=Oe.map(A);return K.some(ye=>ye.host===p)||K.push({host:p}),K}const nn=class{constructor(K){this.integrationConfig=K}get type(){return"azure"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(K){var Ke;const{url:ye,base:be}=K;if(d(ye))return ye;try{const ct=h.fromRepoUrl(be),lt=new URL(be),Ct=new URL(`https://a.com${(Ke=ct.getPath())!=null?Ke:""}`),jt=new URL(ye,Ct).pathname;return lt.searchParams.set("path",jt),K.lineNumber&&(lt.searchParams.set("line",String(K.lineNumber)),lt.searchParams.set("lineEnd",String(K.lineNumber+1)),lt.searchParams.set("lineStartColumn","1"),lt.searchParams.set("lineEndColumn","1")),lt.toString()}catch{return new URL(ye,be).toString()}}resolveEditUrl(K){return K}};let y=nn;Me(y,"factory",({config:K})=>{var be;const ye=R((be=K.getOptionalConfigArray("integrations.azure"))!=null?be:[]);return s(ye.map(Ke=>new nn(Ke)),Ke=>Ke.config.host)});var E=e(48834).Buffer;function C(Oe){return AzureUrl.fromRepoUrl(Oe).toFileUrl()}function S(Oe){return AzureUrl.fromRepoUrl(Oe).toArchiveUrl()}function T(Oe){return AzureUrl.fromRepoUrl(Oe).toCommitsUrl()}function P(Oe,K){const ye=K?{...K}:{};if(Oe.token){const be=E.from(`:${Oe.token}`,"utf8");ye.Authorization=`Basic ${be.toString("base64")}`}return{headers:ye}}const I="bitbucket.org",Z="https://api.bitbucket.org/2.0";function L(Oe){var lt;const K=(lt=Oe.getOptionalString("host"))!=null?lt:I;let ye=Oe.getOptionalString("apiBaseUrl");const be=Oe.getOptionalString("token"),Ke=Oe.getOptionalString("username"),ct=Oe.getOptionalString("appPassword");if(!i(K))throw new Error(`Invalid Bitbucket integration config, '${K}' is not a valid host`);return ye?ye=(0,r.trimEnd)(ye,"/"):K===I?ye=Z:ye=`https://${K}/rest/api/1.0`,{host:K,apiBaseUrl:ye,token:be,username:Ke,appPassword:ct}}function D(Oe){const K=Oe.map(L);return K.some(ye=>ye.host===I)||K.push({host:I,apiBaseUrl:Z}),K}const Xt=class{constructor(K){this.integrationConfig=K}get type(){return"bitbucket"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(K){const ye=a(K);if(!K.lineNumber)return ye;const be=new URL(ye);return this.integrationConfig.host==="bitbucket.org"?be.hash=`lines-${K.lineNumber}`:be.hash=`${K.lineNumber}`,be.toString()}resolveEditUrl(K){const ye=n()(K),be=new URL(K);return be.searchParams.set("mode","edit"),be.searchParams.set("spa","0"),be.searchParams.set("at",ye.ref),be.toString()}};let B=Xt;Me(B,"factory",({config:K})=>{var be,Ke,ct;const ye=D((ct=K.getOptionalConfigArray("integrations.bitbucket"))!=null?ct:[...(be=K.getOptionalConfigArray("integrations.bitbucketCloud"))!=null?be:[],...(Ke=K.getOptionalConfigArray("integrations.bitbucketServer"))!=null?Ke:[]]);return s(ye.map(lt=>new Xt(lt)),lt=>lt.config.host)});var w=e(96279),V=e(48834).Buffer;async function G(Oe,K){const{name:ye,owner:be,resource:Ke}=parseGitUrl(Oe),ct=Ke==="bitbucket.org";let lt=ct?`${K.apiBaseUrl}/repositories/${be}/${ye}`:`${K.apiBaseUrl}/projects/${be}/repos/${ye}/default-branch`,Ct=await fetch(lt,ue(K));if(Ct.status===404&&!ct&&(lt=`${K.apiBaseUrl}/projects/${be}/repos/${ye}/branches/default`,Ct=await fetch(lt,ue(K))),!Ct.ok){const an=`Failed to retrieve default branch from ${lt}, ${Ct.status} ${Ct.statusText}`;throw new Error(an)}let jt;if(ct)jt=(await Ct.json()).mainbranch.name;else{const{displayId:an}=await Ct.json();jt=an}if(!jt)throw new Error(`Failed to read default branch from ${lt}. Response ${Ct.status} ${Ct.json()}`);return jt}async function M(Oe,K){const{name:ye,owner:be,ref:Ke,protocol:ct,resource:lt,filepath:Ct}=parseGitUrl(Oe),jt=lt==="bitbucket.org";let an=Ke;an||(an=await G(Oe,K));const Xn=Ct?`&path=${encodeURIComponent(Ct)}`:"";return jt?`${ct}://${lt}/${be}/${ye}/get/${an}.tar.gz`:`${K.apiBaseUrl}/projects/${be}/repos/${ye}/archive?format=tgz&at=${an}&prefix=${be}-${ye}${Xn}`}function ce(Oe,K){try{const{owner:ye,name:be,ref:Ke,filepathtype:ct,filepath:lt}=parseGitUrl(Oe);if(!ye||!be||ct!=="browse"&&ct!=="raw"&&ct!=="src")throw new Error("Invalid Bitbucket URL or file path");const Ct=lt.replace(/^\//,"");if(K.host==="bitbucket.org"){if(!Ke)throw new Error("Invalid Bitbucket URL or file path");return`${K.apiBaseUrl}/repositories/${ye}/${be}/src/${Ke}/${Ct}`}return`${K.apiBaseUrl}/projects/${ye}/repos/${be}/raw/${Ct}?at=${Ke}`}catch(ye){throw new Error(`Incorrect URL: ${Oe}, ${ye}`)}}function ue(Oe){const K={};if(Oe.token)K.Authorization=`Bearer ${Oe.token}`;else if(Oe.username&&Oe.appPassword){const ye=V.from(`${Oe.username}:${Oe.appPassword}`,"utf8");K.Authorization=`Basic ${ye.toString("base64")}`}return{headers:K}}const le="bitbucket.org",me="https://api.bitbucket.org/2.0";function ge(Oe){const K=le,ye=me,be=Oe.getString("username"),Ke=Oe.getString("appPassword");return{host:K,apiBaseUrl:ye,username:be,appPassword:Ke}}function Ae(Oe){const K=Oe.map(ge);return K.length===0&&K.push({host:le,apiBaseUrl:me}),K}const hn=class{constructor(K){this.integrationConfig=K}get type(){return"bitbucketCloud"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(K){const ye=a(K);if(K.lineNumber){const be=new URL(ye);return be.hash=`lines-${K.lineNumber}`,be.toString()}return ye}resolveEditUrl(K){const ye=n()(K),be=new URL(K);return be.searchParams.set("mode","edit"),be.searchParams.set("at",ye.ref),be.toString()}};let ee=hn;Me(ee,"factory",({config:K})=>{var be;const ye=Ae((be=K.getOptionalConfigArray("integrations.bitbucketCloud"))!=null?be:[]);return s(ye.map(Ke=>new hn(Ke)),Ke=>Ke.config.host)});var Ie=e(48834).Buffer;async function re(Oe,K){const{name:ye,owner:be}=parseGitUrl(Oe),Ke=`${K.apiBaseUrl}/repositories/${be}/${ye}`,ct=await fetch(Ke,se(K));if(!ct.ok){const jt=`Failed to retrieve default branch from ${Ke}, ${ct.status} ${ct.statusText}`;throw new Error(jt)}const Ct=(await ct.json()).mainbranch.name;if(!Ct)throw new Error(`Failed to read default branch from ${Ke}. Response ${ct.status} ${ct.json()}`);return Ct}async function ne(Oe,K){const{name:ye,owner:be,ref:Ke,protocol:ct,resource:lt}=parseGitUrl(Oe);let Ct=Ke;return Ct||(Ct=await re(Oe,K)),`${ct}://${lt}/${be}/${ye}/get/${Ct}.tar.gz`}function _(Oe,K){try{const{owner:ye,name:be,ref:Ke,filepathtype:ct,filepath:lt}=parseGitUrl(Oe);if(!ye||!be||ct!=="src"&&ct!=="raw")throw new Error("Invalid Bitbucket Cloud URL or file path");const Ct=lt.replace(/^\//,"");if(!Ke)throw new Error("Invalid Bitbucket Cloud URL or file path");return`${K.apiBaseUrl}/repositories/${ye}/${be}/src/${Ke}/${Ct}`}catch(ye){throw new Error(`Incorrect URL: ${Oe}, ${ye}`)}}function se(Oe){const K={};if(Oe.username&&Oe.appPassword){const ye=Ie.from(`${Oe.username}:${Oe.appPassword}`,"utf8");K.Authorization=`Basic ${ye.toString("base64")}`}return{headers:K}}function j(Oe){const K=Oe.getString("host");let ye=Oe.getOptionalString("apiBaseUrl");const be=Oe.getOptionalString("token");if(!i(K))throw new Error(`Invalid Bitbucket Server integration config, '${K}' is not a valid host`);return ye?ye=(0,r.trimEnd)(ye,"/"):ye=`https://${K}/rest/api/1.0`,{host:K,apiBaseUrl:ye,token:be}}function ae(Oe){return Oe.map(j)}const pn=class{constructor(K){this.integrationConfig=K}get type(){return"bitbucketServer"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(K){const ye=a(K);if(K.lineNumber){const be=new URL(ye),Ke=be.pathname.split("/").slice(-1)[0];return be.hash=`${Ke}-${K.lineNumber}`,be.toString()}return ye}resolveEditUrl(K){const ye=n()(K),be=new URL(K);return be.searchParams.set("mode","edit"),be.searchParams.set("spa","0"),be.searchParams.set("at",ye.ref),be.toString()}};let X=pn;Me(X,"factory",({config:K})=>{var be;const ye=ae((be=K.getOptionalConfigArray("integrations.bitbucketServer"))!=null?be:[]);return s(ye.map(Ke=>new pn(Ke)),Ke=>Ke.config.host)});async function z(Oe,K){const{name:ye,owner:be}=parseGitUrl(Oe);let Ke=`${K.apiBaseUrl}/projects/${be}/repos/${ye}/default-branch`,ct=await fetch(Ke,q(K));if(ct.status===404&&(Ke=`${K.apiBaseUrl}/projects/${be}/repos/${ye}/branches/default`,ct=await fetch(Ke,q(K))),!ct.ok){const jt=`Failed to retrieve default branch from ${Ke}, ${ct.status} ${ct.statusText}`;throw new Error(jt)}const{displayId:lt}=await ct.json(),Ct=lt;if(!Ct)throw new Error(`Failed to read default branch from ${Ke}. Response ${ct.status} ${ct.json()}`);return Ct}async function Q(Oe,K){const{name:ye,owner:be,ref:Ke,filepath:ct}=parseGitUrl(Oe);let lt=Ke;lt||(lt=await z(Oe,K));const Ct=ct?`&path=${encodeURIComponent(ct)}`:"";return`${K.apiBaseUrl}/projects/${be}/repos/${ye}/archive?format=tgz&at=${lt}&prefix=${be}-${ye}${Ct}`}function fe(Oe,K){try{const{owner:ye,name:be,ref:Ke,filepathtype:ct,filepath:lt}=parseGitUrl(Oe);if(!ye||!be||ct!=="browse"&&ct!=="raw"&&ct!=="src")throw new Error("Invalid Bitbucket Server URL or file path");const Ct=lt.replace(/^\//,"");return`${K.apiBaseUrl}/projects/${ye}/repos/${be}/raw/${Ct}?at=${Ke}`}catch(ye){throw new Error(`Incorrect URL: ${Oe}, ${ye}`)}}function q(Oe){const K={};return Oe.token&&(K.Authorization=`Bearer ${Oe.token}`),{headers:K}}function k(Oe){const K=Oe.getString("host");let ye=Oe.getOptionalString("baseUrl"),be=Oe.getOptionalString("cloneUrl"),Ke=Oe.getOptionalString("gitilesBaseUrl");const ct=Oe.getOptionalString("username"),lt=Oe.getOptionalString("password");if(i(K)){if(ye&&!d(ye))throw new Error(`Invalid Gerrit integration config, '${ye}' is not a valid baseUrl`);if(be&&!d(be))throw new Error(`Invalid Gerrit integration config, '${be}' is not a valid cloneUrl`);if(Ke&&!d(Ke))throw new Error(`Invalid Gerrit integration config, '${Ke}' is not a valid gitilesBaseUrl`)}else throw new Error(`Invalid Gerrit integration config, '${K}' is not a valid host`);return ye?ye=(0,r.trimEnd)(ye,"/"):ye=`https://${K}`,Ke?Ke=(0,r.trimEnd)(Ke,"/"):Ke=`https://${K}`,be?be=(0,r.trimEnd)(be,"/"):be=ye,{host:K,baseUrl:ye,cloneUrl:be,gitilesBaseUrl:Ke,username:ct,password:lt}}function b(Oe){return Oe.map(k)}var F=e(48834).Buffer;const N=")]}'";function W(Oe,K){const be=K.replace(Oe.gitilesBaseUrl,"").split("/").filter(an=>!!an),Ke=be.indexOf("+");if(Ke<=0)throw new Error(`Unable to parse project from url: ${K}`);const ct=(0,r.trimStart)(be.slice(0,Ke).join("/"),"/"),lt=be.indexOf("heads");if(lt<=0)throw new Error(`Unable to parse branch from url: ${K}`);const Ct=be[lt+1],jt=be.slice(lt+2).join("/");return{branch:Ct,filePath:jt===""?"/":jt,project:ct}}function Ee(Oe,K,ye,be){return`${Oe.gitilesBaseUrl}/${K}/+/refs/heads/${ye}/${(0,r.trimStart)(be,"/")}`}function Ce(Oe){return Oe.password?"/a/":"/"}function te(Oe,K){const{branch:ye,project:be}=W(Oe,K);return`${Oe.baseUrl}${Ce(Oe)}projects/${encodeURIComponent(be)}/branches/${ye}`}function Re(Oe,K){const{project:ye}=W(Oe,K);return`${Oe.cloneUrl}${Ce(Oe)}${ye}`}function $(Oe,K){const{branch:ye,filePath:be,project:Ke}=W(Oe,K);return`${Oe.baseUrl}${Ce(Oe)}projects/${encodeURIComponent(Ke)}/branches/${ye}/files/${encodeURIComponent(be)}/content`}function ie(Oe){return`${Oe.baseUrl}${Ce(Oe)}projects/`}function de(Oe){const K={};if(!Oe.password)return K;const ye=F.from(`${Oe.username}:${Oe.password}`,"utf8");return K.Authorization=`Basic ${ye.toString("base64")}`,{headers:K}}async function Pe(Oe){const K=await Oe.text();if(K.startsWith(N))try{return JSON.parse(K.slice(N.length))}catch(ye){throw new Error(`Invalid response from Gerrit: ${K.slice(0,10)} - ${ye}`)}throw new Error(`Gerrit JSON body prefix missing. Found: ${K.slice(0,10)}`)}const qt=class{constructor(K){this.integrationConfig=K}get type(){return"gerrit"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(K){const{url:ye,base:be,lineNumber:Ke}=K;let ct;if(ye.startsWith("/")){const{branch:lt,project:Ct}=W(this.config,be);return Ee(this.config,Ct,lt,ye)}return ye?ct=new URL(ye,be):ct=new URL(be),Ke&&(ct.hash=Ke.toString()),ct.toString()}resolveEditUrl(K){return K}};let He=qt;Me(He,"factory",({config:K})=>{var be;const ye=b((be=K.getOptionalConfigArray("integrations.gerrit"))!=null?be:[]);return s(ye.map(Ke=>new qt(Ke)),Ke=>Ke.config.host)});const We="github.com",Ge="https://api.github.com",Ve="https://raw.githubusercontent.com";function ut(Oe){var lt,Ct;const K=(lt=Oe.getOptionalString("host"))!=null?lt:We;let ye=Oe.getOptionalString("apiBaseUrl"),be=Oe.getOptionalString("rawBaseUrl");const Ke=Oe.getOptionalString("token"),ct=(Ct=Oe.getOptionalConfigArray("apps"))==null?void 0:Ct.map(jt=>({appId:jt.getNumber("appId"),clientId:jt.getString("clientId"),clientSecret:jt.getString("clientSecret"),webhookSecret:jt.getString("webhookSecret"),privateKey:jt.getString("privateKey"),allowedInstallationOwners:jt.getOptionalStringArray("allowedInstallationOwners")}));if(!i(K))throw new Error(`Invalid GitHub integration config, '${K}' is not a valid host`);return ye?ye=(0,r.trimEnd)(ye,"/"):K===We&&(ye=Ge),be?be=(0,r.trimEnd)(be,"/"):K===We&&(be=Ve),{host:K,apiBaseUrl:ye,rawBaseUrl:be,token:Ke,apps:ct}}function nt(Oe){const K=Oe.map(ut);return K.some(ye=>ye.host===We)||K.push({host:We,apiBaseUrl:Ge,rawBaseUrl:Ve}),K}function At(Oe,K,ye){try{const{owner:be,name:Ke,ref:ct,filepathtype:lt,filepath:Ct}=parseGitUrl(Oe);if(!be||!Ke||!ct||lt!=="blob"&&lt!=="raw"&&lt!=="tree")throw new Error("Invalid GitHub URL or file path");const jt=Ct.replace(/^\//,"");return Te(K,ye)==="api"?`${K.apiBaseUrl}/repos/${be}/${Ke}/contents/${jt}?ref=${ct}`:`${K.rawBaseUrl}/${be}/${Ke}/${ct}/${jt}`}catch(be){throw new Error(`Incorrect URL: ${Oe}, ${be}`)}}function Le(Oe,K){const ye={};return Te(Oe,K)==="api"&&(ye.Accept="application/vnd.github.v3.raw"),K.token&&(ye.Authorization=`token ${K.token}`),{headers:ye}}function Te(Oe,K){return Oe.apiBaseUrl&&(K.token||!Oe.rawBaseUrl)?"api":"raw"}class pe{constructor(){Me(this,"tokenCache",new Map);Me(this,"isNotExpired",K=>K.diff(DateTime.local(),"minutes").minutes>50)}async getOrCreateToken(K,ye){const be=this.tokenCache.get(K);if(be&&this.isNotExpired(be.expiresAt))return{accessToken:be.token};const Ke=await ye();return this.tokenCache.set(K,Ke),{accessToken:Ke.token}}}const Be={Accept:"application/vnd.github.machine-man-preview+json"};class ot{constructor(K,ye){Me(this,"appClient");Me(this,"baseUrl");Me(this,"baseAuthConfig");Me(this,"cache",new pe);Me(this,"allowedInstallationOwners");this.allowedInstallationOwners=K.allowedInstallationOwners,this.baseUrl=ye,this.baseAuthConfig={appId:K.appId,privateKey:K.privateKey.replace(/\\n/gm,`
`)},this.appClient=new Octokit({baseUrl:ye,headers:Be,authStrategy:createAppAuth,auth:this.baseAuthConfig})}async getInstallationCredentials(K,ye){var lt;const{installationId:be,suspended:Ke}=await this.getInstallationData(K);if(this.allowedInstallationOwners&&!((lt=this.allowedInstallationOwners)!=null&&lt.includes(K)))return{accessToken:void 0};if(Ke)throw new Error(`The GitHub application for ${K} is suspended`);const ct=ye?`${K}/${ye}`:K;return this.cache.getOrCreateToken(ct,async()=>{const Ct=await this.appClient.apps.createInstallationAccessToken({installation_id:be,headers:Be});if(ye&&Ct.data.repository_selection==="selected"){const jt=new Octokit({baseUrl:this.baseUrl,auth:Ct.data.token});if(!(await jt.paginate(jt.apps.listReposAccessibleToInstallation)).some(rn=>rn.name===ye))throw new Error(`The Backstage GitHub application used in the ${K} organization does not have access to a repository with the name ${ye}`)}return{token:Ct.data.token,expiresAt:DateTime.fromISO(Ct.data.expires_at)}})}getInstallations(){return this.appClient.paginate(this.appClient.apps.listInstallations)}async getInstallationData(K){const be=(await this.getInstallations()).find(ct=>{var lt,Ct;return((Ct=(lt=ct.account)==null?void 0:lt.login)==null?void 0:Ct.toLocaleLowerCase("en-US"))===K.toLocaleLowerCase("en-US")});if(be)return{installationId:be.id,suspended:Boolean(be.suspended_by)};const Ke=new Error(`No app installation found for ${K} in ${this.baseAuthConfig.appId}`);throw Ke.name="NotFoundError",Ke}}class at{constructor(K){Me(this,"apps");var ye,be;this.apps=(be=(ye=K.apps)==null?void 0:ye.map(Ke=>new ot(Ke,K.apiBaseUrl)))!=null?be:[]}async getAllInstallations(){return this.apps.length?(await Promise.all(this.apps.map(ye=>ye.getInstallations()))).flat():[]}async getAppToken(K,ye){if(this.apps.length===0)return;const be=await Promise.all(this.apps.map(Ct=>Ct.getInstallationCredentials(K,ye).then(jt=>({credentials:jt,error:void 0}),jt=>({credentials:void 0,error:jt})))),Ke=be.find(Ct=>Ct.credentials);if(Ke)return Ke.credentials.accessToken;const lt=be.map(Ct=>Ct.error).find(Ct=>Ct.name!=="NotFoundError");if(lt)throw lt}}class ke{constructor(K,ye){this.githubAppCredentialsMux=K,this.token=ye}async getCredentials(K){const ye=parseGitUrl(K.url),be=ye.owner||ye.name,Ke=ye.owner?ye.name:void 0;let ct="app",lt=await this.githubAppCredentialsMux.getAppToken(be,Ke);return lt||(ct="token",lt=this.token),{headers:lt?{Authorization:`Bearer ${lt}`}:void 0,token:lt,type:ct}}}Me(ke,"create",null);class Zt{static fromIntegrations(K){const ye=new Map;return K.github.list().forEach(be=>{const Ke=SingleInstanceGithubCredentialsProvider.create(be.config);ye.set(be.config.host,Ke)}),new Zt(ye)}constructor(K){this.providers=K}async getCredentials(K){const ye=new URL(K.url),be=this.providers.get(ye.host);if(!be)throw new Error(`There is no GitHub integration that matches ${K.url}. Please add a configuration for an integration.`);return be.getCredentials(K)}}const Zn=class{constructor(K){this.integrationConfig=K}get type(){return"github"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(K){return Wt(a(K),"tree")}resolveEditUrl(K){return Wt(K,"edit")}};let $e=Zn;Me($e,"factory",({config:K})=>{var be;const ye=nt((be=K.getOptionalConfigArray("integrations.github"))!=null?be:[]);return s(ye.map(Ke=>new Zn(Ke)),Ke=>Ke.config.host)});function Wt(Oe,K){return Oe.replace(/\/\/([^/]+)\/([^/]+)\/([^/]+)\/(blob|tree|edit)\//,(ye,be,Ke,ct)=>`//${be}/${Ke}/${ct}/${K}/`)}const Kt="gitlab.com",Qe="https://gitlab.com/api/v4";function tt(Oe){const K=Oe.getString("host");let ye=Oe.getOptionalString("apiBaseUrl");const be=Oe.getOptionalString("token");let Ke=Oe.getOptionalString("baseUrl");if(ye?ye=(0,r.trimEnd)(ye,"/"):K===Kt&&(ye=Qe),Ke?Ke=(0,r.trimEnd)(Ke,"/"):Ke=`https://${K}`,i(K)){if(!ye||!d(ye))throw new Error(`Invalid GitLab integration config, '${ye}' is not a valid apiBaseUrl`);if(!d(Ke))throw new Error(`Invalid GitLab integration config, '${Ke}' is not a valid baseUrl`)}else throw new Error(`Invalid GitLab integration config, '${K}' is not a valid host`);return{host:K,token:be,apiBaseUrl:ye,baseUrl:Ke}}function Tt(Oe){const K=Oe.map(tt);return K.some(ye=>ye.host===Kt)||K.push({host:Kt,apiBaseUrl:Qe,baseUrl:`https://${Kt}`}),K}var he=e(10179);async function Ne(Oe,K){if(Oe.includes("/-/blob/")){const ye=await gt(Oe,K);return it(Oe,ye).toString()}return rt(Oe).toString()}function _e(Oe){const{token:K=""}=Oe;return{headers:{"PRIVATE-TOKEN":K}}}function rt(Oe){try{const K=new URL(Oe),ye=K.pathname.split("/").filter(Boolean),be=ye.indexOf("blob",2);if(be<2||be===ye.length-1)throw new InputError("Wrong GitLab URL");const Ke=ye.slice(0,be),ct=ye.slice(be+1);if(!ct.join("/").match(/\.(yaml|yml)$/))throw new InputError("Wrong GitLab URL");return K.pathname=[...Ke,"raw",...ct].join("/"),K}catch(K){throw new InputError(`Incorrect url: ${Oe}, ${K}`)}}function it(Oe,K){try{const ye=new URL(Oe),be=ye.pathname.split("/-/blob/")[1],[Ke,...ct]=be.split("/");return ye.pathname=["/api/v4/projects",K,"repository/files",encodeURIComponent(decodeURIComponent(ct.join("/"))),"raw"].join("/"),ye.search=`?ref=${Ke}`,ye}catch(ye){throw new Error(`Incorrect url: ${Oe}, ${ye}`)}}async function gt(Oe,K){const ye=new URL(Oe);if(!ye.pathname.includes("/-/blob/"))throw new Error("Please provide full path to yaml file from GitLab");try{const be=ye.pathname.split("/-/blob/")[0],Ke=new URL(`${ye.origin}/api/v4/projects/${encodeURIComponent(be.replace(/^\//,""))}`),ct=await fetch(Ke.toString(),_e(K)),lt=await ct.json();if(!ct.ok)throw new Error(`GitLab Error '${lt.error}', ${lt.error_description}`);return Number(lt.id)}catch(be){throw new Error(`Could not get GitLab project ID for: ${Oe}, ${be}`)}}const kn=class{constructor(K){this.integrationConfig=K}get type(){return"gitlab"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(K){return a(K)}resolveEditUrl(K){return Bt(K,"edit")}};let Rt=kn;Me(Rt,"factory",({config:K})=>{var be;const ye=Tt((be=K.getOptionalConfigArray("integrations.gitlab"))!=null?be:[]);return s(ye.map(Ke=>new kn(Ke)),Ke=>Ke.config.host)});function Bt(Oe,K){return Oe.replace(/\/\-\/(blob|tree|edit)\//,`/-/${K}/`)}class Ht{constructor(K){Me(this,"byType");this.byType=K}static fromConfig(K){return new Ht({awsS3:u.factory({config:K}),azure:y.factory({config:K}),bitbucket:B.factory({config:K}),bitbucketCloud:ee.factory({config:K}),bitbucketServer:X.factory({config:K}),gerrit:He.factory({config:K}),github:$e.factory({config:K}),gitlab:Rt.factory({config:K})})}get awsS3(){return this.byType.awsS3}get azure(){return this.byType.azure}get bitbucket(){return this.byType.bitbucket}get bitbucketCloud(){return this.byType.bitbucketCloud}get bitbucketServer(){return this.byType.bitbucketServer}get gerrit(){return this.byType.gerrit}get github(){return this.byType.github}get gitlab(){return this.byType.gitlab}list(){return Object.values(this.byType).flatMap(K=>K.list())}byUrl(K){return Object.values(this.byType).map(ye=>ye.byUrl(K)).find(Boolean)}byHost(K){return Object.values(this.byType).map(ye=>ye.byHost(K)).find(Boolean)}resolveUrl(K){const ye=this.byUrl(K.base);return ye?ye.resolveUrl(K):a(K)}resolveEditUrl(K){const ye=this.byUrl(K);return ye?ye.resolveEditUrl(K):K}}},28981:function(H,l,e){"use strict";e.d(l,{darkTheme:function(){return h},lightTheme:function(){return f},pageTheme:function(){return s}});var t=e(73689),n=e(48032);const r={wave:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`,wave2:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`,round:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`},i={darkGrey:["#171717","#383838"],marineBlue:["#006D8F","#0049A1"],veryBlue:["#0027AF","#270094"],rubyRed:["#98002B","#8D1134"],toastyOrange:["#BE2200","#A41D00"],purpleSky:["#8912CA","#3E00EA"],eveningSea:["#00FFF2","#035355"],teal:["#005B4B"],pinkSea:["#C8077A","#C2297D"]};function d(A,R){const E=`linear-gradient(90deg, ${(A.length===1?[A[0],A[0]]:A).join(", ")})`,C=`${R},  ${E}`;return{colors:A,shape:R,backgroundImage:C}}const s={home:d(i.teal,r.wave),documentation:d(i.pinkSea,r.wave2),tool:d(i.purpleSky,r.round),service:d(i.marineBlue,r.wave),website:d(i.veryBlue,r.wave),library:d(i.rubyRed,r.wave),other:d(i.darkGrey,r.wave),app:d(i.toastyOrange,r.wave),apis:d(i.teal,r.wave2)},a='"Helvetica Neue", Helvetica, Roboto, Arial, sans-serif';function c(A){const{palette:R,fontFamily:y=a,defaultPageTheme:E,pageTheme:C=s}=A;if(!C[E])throw new Error(`${E} is not defined in pageTheme.`);return{palette:R,props:{MuiGrid:{spacing:2},MuiSwitch:{color:"primary"}},typography:{fontFamily:y,h5:{fontWeight:700},h4:{fontWeight:700,fontSize:28,marginBottom:6},h3:{fontSize:32,fontWeight:700,marginBottom:6},h2:{fontSize:40,fontWeight:700,marginBottom:8},h1:{fontSize:54,fontWeight:700,marginBottom:10}},page:C[E],getPageTheme:({themeId:S})=>{var T;return(T=C[S])!=null?T:C[E]}}}function o(A){return{MuiCssBaseline:{"@global":{html:{height:"100%",fontFamily:A.typography.fontFamily},body:{height:"100%",fontFamily:A.typography.fontFamily,"overscroll-behavior-y":"none"},a:{color:"inherit",textDecoration:"none"}}},MuiTableRow:{root:{"&:nth-of-type(odd)":{backgroundColor:A.palette.background.default}},hover:{"&:hover":{cursor:"pointer"}},head:{"&:nth-of-type(odd)":{backgroundColor:A.palette.background.paper}}},MuiTableCell:{root:{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:A.spacing(3,2,3,2.5),borderBottom:0},sizeSmall:{padding:A.spacing(1.5,2,1.5,2.5)},head:{wordBreak:"break-word",overflow:"hidden",color:"rgb(179, 179, 179)",fontWeight:"normal",lineHeight:"1"}},MuiTabs:{root:{minHeight:24}},MuiTab:{root:{color:A.palette.link,minHeight:24,textTransform:"initial",letterSpacing:"0.07em","&:hover":{color:(0,n.darken)(A.palette.link,.3),background:(0,n.lighten)(A.palette.link,.95)},[A.breakpoints.up("md")]:{minWidth:120,fontSize:A.typography.pxToRem(14),fontWeight:500}},textColorPrimary:{color:A.palette.link}},MuiTableSortLabel:{root:{color:"inherit","&:hover":{color:"inherit"},"&:focus":{color:"inherit"}},active:{fontWeight:"bold",color:"inherit"}},MuiListItemText:{dense:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},MuiButton:{text:{padding:void 0}},MuiChip:{root:{backgroundColor:"#D9D9D9",marginRight:A.spacing(1),marginBottom:A.spacing(1),color:A.palette.grey[900]},outlined:{color:A.palette.text.primary},label:{lineHeight:`${A.spacing(2.5)}px`,fontWeight:A.typography.fontWeightMedium,fontSize:`${A.spacing(1.75)}px`},labelSmall:{fontSize:`${A.spacing(1.5)}px`},deleteIcon:{color:A.palette.grey[500],width:`${A.spacing(3)}px`,height:`${A.spacing(3)}px`,margin:`0 ${A.spacing(.75)}px 0 -${A.spacing(.75)}px`},deleteIconSmall:{width:`${A.spacing(2)}px`,height:`${A.spacing(2)}px`,margin:`0 ${A.spacing(.5)}px 0 -${A.spacing(.5)}px`}},MuiCard:{root:{display:"flex",flexDirection:"column"}},MuiCardHeader:{root:{paddingBottom:0}},MuiCardContent:{root:{flexGrow:1,"&:last-child":{paddingBottom:void 0}}},MuiCardActions:{root:{justifyContent:"flex-end"}}}}function g(A){const R=c(A),y=(0,t.Z)(R),E=o(y);return{...y,overrides:E}}var u=e(34505);const f=g({palette:{type:"light",background:{default:"#F8F8F8"},status:{ok:"#1DB954",warning:"#FF9800",error:"#E22134",running:"#2E77D0",pending:"#FFED51",aborted:"#757575"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"},gradient:{linear:"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)"}},primary:{main:"#2E77D0"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000",warning:"#FF9800"},border:"#E6E6E6",textContrast:"#000000",textVerySubtle:"#DDD",textSubtle:"#6E6E6E",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#2196F3",link:"#0A6EBE",gold:u.Z.A700,navigation:{background:"#171717",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF",navItem:{hoverBackground:"#404040"},submenu:{background:"#404040"}},pinSidebarButton:{icon:"#181818",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}},defaultPageTheme:"home",pageTheme:s}),h=g({palette:{type:"dark",background:{default:"#333333"},status:{ok:"#71CF88",warning:"#FFB84D",error:"#F84C55",running:"#3488E3",pending:"#FEF071",aborted:"#9E9E9E"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"},gradient:{linear:"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)"}},primary:{main:"#9CC9FF",dark:"#82BAFD"},secondary:{main:"#FF88B2"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000",warning:"#FF9800"},border:"#E6E6E6",textContrast:"#FFFFFF",textVerySubtle:"#727272",textSubtle:"#CCCCCC",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#82BAFD",link:"#9CC9FF",gold:u.Z.A700,navigation:{background:"#424242",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF",navItem:{hoverBackground:"#404040"},submenu:{background:"#404040"}},pinSidebarButton:{icon:"#404040",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}},defaultPageTheme:"home",pageTheme:s});var p=e(76478)},76478:function(){},76241:function(H,l,e){"use strict";e.d(l,{CT:function(){return s},EI:function(){return o},uW:function(){return i},Vt:function(){return a}});function t(){return typeof window!="undefined"&&window.Math===Math?window:typeof self!="undefined"&&self.Math===Math?self:Function("return this")()}const n=t(),r=g=>`__@backstage/${g}__`;function i(g,u){const f=r(g);let h=n[f];return h||(h=u(),n[f]=h,h)}var d=e(2784);function s(g){return i(g,()=>(0,d.createContext)(void 0))}function a(g){return(0,d.useContext)(s(g))}function c(g){return{set(u){globalThis[`__@backstage/${g}__`]=createContext(createVersionedValueMap(u))},reset(){delete globalThis[`__@backstage/${g}__`]}}}function o(g){return Object.freeze(g),{atVersion(u){return g[u]}}}},18190:function(H,l,e){"use strict";e.d(l,{L:function(){return a},t:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.apacheairflow.service"});var r=e(96279),i=e.n(r),d=e(19126),s=e.n(d);class a{constructor({discoveryApi:o,baseUrl:g="http://localhost:8080"}){Me(this,"discoveryApi");Me(this,"baseUrl");this.discoveryApi=o,this.baseUrl=g.endsWith("/")?g:`${g}/`}async listDags(o={objectsPerRequest:100}){const g=[],u={limit:o.objectsPerRequest,offset:0};for(;;){const f=await this.fetch(`/dags?${s().stringify(u)}`);if(g.push(...f.dags),g.length>=f.total_entries)break;typeof u.offset!="undefined"&&(u.offset+=o.objectsPerRequest)}return g}async updateDag(o,g){const u={method:"PATCH",body:JSON.stringify({is_paused:g})};return await this.fetch(`/dags/${o}`,u)}async getInstanceStatus(){return await this.fetch("/health")}async getInstanceVersion(){return await this.fetch("/version")}async fetch(o,g){const u=`${await this.discoveryApi.getBaseUrl("proxy")}/airflow`,f=await i()(`${u}${o}`,g);if(!f.ok)throw new Error(f.statusText);return await f.json()}}},26671:function(H,l,e){"use strict";e.r(l),e.d(l,{ApiDefinitionCard:function(){return c},ApiTypeTitle:function(){return A},defaultDefinitionWidgets:function(){return p}});var t=e(53479),n=e(99688),r=e(2784),i=e(94968),d=e(16249),s=e(23192),a=e(36964);const c=()=>{var T;const{entity:R}=(0,t.useEntity)(),y=(0,a.useApi)(i.Z),{getApiDefinitionWidget:E}=y;if(!R)return r.createElement(n.Z,{severity:"error"},"Could not fetch the API");const C=E(R),S=(T=R.metadata.title)!=null?T:R.metadata.name;return C?r.createElement(s.TabbedCard,{title:S},r.createElement(s.CardTab,{label:C.title,key:"widget"},C.component(R.spec.definition)),r.createElement(s.CardTab,{label:"Raw",key:"raw"},r.createElement(d.R,{definition:R.spec.definition,language:C.rawLanguage||R.spec.type}))):r.createElement(s.TabbedCard,{title:S,children:[r.createElement(s.CardTab,{label:R.spec.type,key:"raw"},r.createElement(d.R,{definition:R.spec.definition,language:R.spec.type}))]})};var o=e(84694),g=e(17192),u=e(52665),f=e(60364);const h=R=>{const y=(0,f.Z)();return r.createElement(s.CodeSnippet,{customStyle:{backgroundColor:y.palette.background.default},text:R.definition,language:"protobuf",showCopyCodeButton:!0})};function p(){return[{type:"openapi",title:"OpenAPI",rawLanguage:"yaml",component:R=>r.createElement(u.H,{definition:R})},{type:"asyncapi",title:"AsyncAPI",rawLanguage:"yaml",component:R=>r.createElement(o.q,{definition:R})},{type:"graphql",title:"GraphQL",rawLanguage:"graphql",component:R=>r.createElement(g.k,{definition:R})},{type:"grpc",title:"gRPC",component:R=>r.createElement(h,{definition:R})}]}const A=({apiEntity:R})=>{const E=(0,a.useApi)(i.Z).getApiDefinitionWidget(R),C=E?E.title:R.spec.type;return r.createElement("span",null,C)}},16747:function(H,l,e){"use strict";e.r(l),e.d(l,{ApiExplorerIndexPage:function(){return g},DefaultApiExplorerPage:function(){return o}});var t=e(2784),n=e(10289),r=e(23192),i=e(36964),d=e(48711),s=e(53479),a=e(13141);const c=[d.CatalogTable.columns.createNameColumn({defaultKind:"API"}),d.CatalogTable.columns.createSystemColumn(),d.CatalogTable.columns.createOwnerColumn(),d.CatalogTable.columns.createSpecTypeColumn(),d.CatalogTable.columns.createSpecLifecycleColumn(),d.CatalogTable.columns.createMetadataDescriptionColumn(),d.CatalogTable.columns.createTagsColumn()],o=({initiallySelectedFilter:u="all",columns:f,actions:h})=>{var y;const A=`${(y=(0,i.useApi)(i.configApiRef).getOptionalString("organization.name"))!=null?y:"Backstage"} API Explorer`,R=(0,i.useRouteRef)(a.J);return t.createElement(r.PageWithHeader,{themeId:"apis",title:"APIs",subtitle:A,pageTitleOverride:"APIs"},t.createElement(r.Content,null,t.createElement(r.ContentHeader,{title:""},t.createElement(r.CreateButton,{title:"Register Existing API",to:R==null?void 0:R()}),t.createElement(r.SupportButton,null,"All your APIs")),t.createElement(s.EntityListProvider,null,t.createElement(s.CatalogFilterLayout,null,t.createElement(s.CatalogFilterLayout.Filters,null,t.createElement(s.EntityKindPicker,{initialFilter:"api",hidden:!0}),t.createElement(s.EntityTypePicker,null),t.createElement(s.UserListPicker,{initialFilter:u}),t.createElement(s.EntityOwnerPicker,null),t.createElement(s.EntityLifecyclePicker,null),t.createElement(s.EntityTagPicker,null)),t.createElement(s.CatalogFilterLayout.Content,null,t.createElement(d.CatalogTable,{columns:f||c,actions:h}))))))},g=u=>(0,n.pC)()||t.createElement(o,{...u})},68191:function(H,l,e){"use strict";e.r(l),e.d(l,{ConsumedApisCard:function(){return o},HasApisCard:function(){return u},ProvidedApisCard:function(){return f}});var t=e(48023),n=e(90436),r=e(53479),i=e(2784),d=e(26671);function s(){return{title:"Type",field:"spec.type",render:h=>i.createElement(d.ApiTypeTitle,{apiEntity:h})}}const a=[r.EntityTable.columns.createEntityRefColumn({defaultKind:"API"}),r.EntityTable.columns.createSystemColumn(),r.EntityTable.columns.createOwnerColumn(),s(),r.EntityTable.columns.createSpecLifecycleColumn(),r.EntityTable.columns.createMetadataDescriptionColumn()];var c=e(23192);const o=({variant:h="gridItem"})=>{const{entity:p}=(0,r.useEntity)(),{entities:A,loading:R,error:y}=(0,r.useRelatedEntities)(p,{type:t.Dg});return R?i.createElement(c.InfoCard,{variant:h,title:"Consumed APIs"},i.createElement(c.Progress,null)):y||!A?i.createElement(c.InfoCard,{variant:h,title:"Consumed APIs"},i.createElement(c.WarningPanel,{severity:"error",title:"Could not load APIs",message:i.createElement(c.CodeSnippet,{text:`${y}`,language:"text"})})):i.createElement(r.EntityTable,{title:"Consumed APIs",variant:h,emptyContent:i.createElement("div",{style:{textAlign:"center"}},i.createElement(n.Z,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not consume any APIs."),i.createElement(n.Z,{variant:"body2"},i.createElement(c.Link,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:a,entities:A})},g=[r.EntityTable.columns.createEntityRefColumn({defaultKind:"API"}),r.EntityTable.columns.createOwnerColumn(),s(),r.EntityTable.columns.createSpecLifecycleColumn(),r.EntityTable.columns.createMetadataDescriptionColumn()],u=({variant:h="gridItem"})=>{const{entity:p}=(0,r.useEntity)(),{entities:A,loading:R,error:y}=(0,r.useRelatedEntities)(p,{type:t.aS,kind:"API"});return R?i.createElement(c.InfoCard,{variant:h,title:"APIs"},i.createElement(c.Progress,null)):y||!A?i.createElement(c.InfoCard,{variant:h,title:"APIs"},i.createElement(c.WarningPanel,{severity:"error",title:"Could not load APIs",message:i.createElement(c.CodeSnippet,{text:`${y}`,language:"text"})})):i.createElement(r.EntityTable,{title:"APIs",variant:h,emptyContent:i.createElement("div",{style:{textAlign:"center"}},i.createElement(n.Z,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not contain any APIs."),i.createElement(n.Z,{variant:"body2"},i.createElement(c.Link,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api"},"Learn how to change this."))),columns:g,entities:A})},f=({variant:h="gridItem"})=>{const{entity:p}=(0,r.useEntity)(),{entities:A,loading:R,error:y}=(0,r.useRelatedEntities)(p,{type:t.M_});return R?i.createElement(c.InfoCard,{variant:h,title:"Provided APIs"},i.createElement(c.Progress,null)):y||!A?i.createElement(c.InfoCard,{variant:h,title:"Provided APIs"},i.createElement(c.WarningPanel,{severity:"error",title:"Could not load APIs",message:i.createElement(c.CodeSnippet,{text:`${y}`,language:"text"})})):i.createElement(r.EntityTable,{title:"Provided APIs",variant:h,emptyContent:i.createElement("div",{style:{textAlign:"center"}},i.createElement(n.Z,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not provide any APIs."),i.createElement(n.Z,{variant:"body2"},i.createElement(c.Link,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:a,entities:A})}},84694:function(H,l,e){"use strict";e.d(l,{q:function(){return i}});var t=e(23192),n=e(2784);const r=n.lazy(()=>Promise.all([e.e(4778),e.e(9086),e.e(4204)]).then(e.bind(e,44204)).then(d=>({default:d.AsyncApiDefinition}))),i=d=>n.createElement(n.Suspense,{fallback:n.createElement(t.Progress,null)},n.createElement(r,{...d}))},5595:function(H,l,e){"use strict";e.r(l),e.d(l,{ConsumingComponentsCard:function(){return s},ProvidingComponentsCard:function(){return a}});var t=e(48023),n=e(90436),r=e(53479),i=e(2784),d=e(23192);const s=({variant:c="gridItem"})=>{const{entity:o}=(0,r.useEntity)(),{entities:g,loading:u,error:f}=(0,r.useRelatedEntities)(o,{type:t.X9});return u?i.createElement(d.InfoCard,{variant:c,title:"Consumers"},i.createElement(d.Progress,null)):f||!g?i.createElement(d.InfoCard,{variant:c,title:"Consumers"},i.createElement(d.WarningPanel,{severity:"error",title:"Could not load components",message:i.createElement(d.CodeSnippet,{text:`${f}`,language:"text"})})):i.createElement(r.EntityTable,{title:"Consumers",variant:c,emptyContent:i.createElement("div",{style:{textAlign:"center"}},i.createElement(n.Z,{variant:"body1"},"No component consumes this API."),i.createElement(n.Z,{variant:"body2"},i.createElement(d.Link,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:r.EntityTable.componentEntityColumns,entities:g})},a=({variant:c="gridItem"})=>{const{entity:o}=(0,r.useEntity)(),{entities:g,loading:u,error:f}=(0,r.useRelatedEntities)(o,{type:t.Zj});return u?i.createElement(d.InfoCard,{variant:c,title:"Providers"},i.createElement(d.Progress,null)):f||!g?i.createElement(d.InfoCard,{variant:c,title:"Providers"},i.createElement(d.WarningPanel,{severity:"error",title:"Could not load components",message:i.createElement(d.CodeSnippet,{text:`${f}`,language:"text"})})):i.createElement(r.EntityTable,{title:"Providers",variant:c,emptyContent:i.createElement("div",{style:{textAlign:"center"}},i.createElement(n.Z,{variant:"body1"},"No component provides this API."),i.createElement(n.Z,{variant:"body2"},i.createElement(d.Link,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:r.EntityTable.componentEntityColumns,entities:g})}},17192:function(H,l,e){"use strict";e.d(l,{k:function(){return i}});var t=e(23192),n=e(2784);const r=n.lazy(()=>Promise.all([e.e(8033),e.e(3138)]).then(e.bind(e,63138)).then(d=>({default:d.GraphQlDefinition}))),i=d=>n.createElement(n.Suspense,{fallback:n.createElement(t.Progress,null)},n.createElement(r,{...d}))},52665:function(H,l,e){"use strict";e.d(l,{H:function(){return i}});var t=e(23192),n=e(2784);const r=n.lazy(()=>Promise.all([e.e(6637),e.e(8116),e.e(1294)]).then(e.bind(e,81294)).then(d=>({default:d.OpenApiDefinition}))),i=d=>n.createElement(n.Suspense,{fallback:n.createElement(t.Progress,null)},n.createElement(r,{...d}))},16249:function(H,l,e){"use strict";e.d(l,{R:function(){return r}});var t=e(2784),n=e(23192);const r=i=>t.createElement(n.CodeSnippet,{text:i.definition,language:i.language,showCopyCodeButton:!0})},94968:function(H,l,e){"use strict";e.d(l,{Z:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.api-docs.config"})},13141:function(H,l,e){"use strict";e.d(l,{J:function(){return r},r:function(){return n}});var t=e(36964);const n=(0,t.createRouteRef)({id:"api-docs"}),r=(0,t.createExternalRouteRef)({id:"register-component",optional:!0})},12803:function(H,l,e){"use strict";e.d(l,{Q:function(){return t},hD:function(){return n},nm:function(){return i},Mi:function(){return d},mJ:function(){return r},Kt:function(){return a}});var t;(function(c){c[c.None=0]="None";const g=2;c[c.Succeeded=g]="Succeeded";const u=4;c[c.PartiallySucceeded=u]="PartiallySucceeded";const f=8;c[c.Failed=f]="Failed";const h=32;c[c.Canceled=h]="Canceled"})(t||(t={}));var n;(function(c){c[c.None=0]="None";const g=1;c[c.InProgress=g]="InProgress";const u=2;c[c.Completed=u]="Completed";const f=4;c[c.Cancelling=f]="Cancelling";const h=8;c[c.Postponed=h]="Postponed";const p=32;c[c.NotStarted=p]="NotStarted";const A=47;c[c.All=A]="All"})(n||(n={}));var r;(function(c){c[c.NotSet=0]="NotSet";const g=1;c[c.Active=g]="Active";const u=2;c[c.Abandoned=u]="Abandoned";const f=3;c[c.Completed=f]="Completed";const h=4;c[c.All=h]="All"})(r||(r={}));var i;(function(c){c[c.Queued=0]="Queued";const g=1;c[c.Running=g]="Running";const u=2;c[c.Approved=u]="Approved";const f=3;c[c.Rejected=f]="Rejected";const h=4;c[c.NotApplicable=h]="NotApplicable";const p=5;c[c.Broken=p]="Broken"})(i||(i={}));var d;(function(c){const o="Build";c.Build=o;const g="Status";c.Status=g;const u="MinimumReviewers";c.MinimumReviewers=u;const f="Comments";c.Comments=f;const h="RequiredReviewers";c.RequiredReviewers=h;const p="MergeStrategy";c.MergeStrategy=p})(d||(d={}));var s;(function(c){const o="0609b952-1397-4640-95ec-e00a01b2c241";c.Build=o;const g="cbdc66da-9728-4af8-aada-9a5a32e4a226";c.Status=g;const u="fa4e907d-c16b-4a4c-9dfa-4906e5d171dd";c.MinimumReviewers=u;const f="c6a1889d-b943-4856-b76f-9e46bb6b0df2";c.Comments=f;const h="fd2167ab-b0be-447a-8ec8-39368250530e";c.RequiredReviewers=h;const p="fa4e907d-c16b-4a4c-9dfa-4916e5d171ab";c.MergeStrategy=p})(s||(s={}));var a;(function(c){c[c.Approved=10]="Approved";const g=5;c[c.ApprovedWithSuggestions=g]="ApprovedWithSuggestions";const u=0;c[c.NoVote=u]="NoVote";const f=-5;c[c.WaitingForAuthor=f]="WaitingForAuthor";const h=-10;c[c.Rejected=h]="Rejected"})(a||(a={}))},68517:function(H,l,e){"use strict";e.d(l,{k:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.azure-devops.service"})},10704:function(H,l,e){"use strict";e.d(l,{m:function(){return n}});var t=e(10179);class n{constructor(i){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=i.discoveryApi,this.identityApi=i.identityApi}async getRepoBuilds(i,d,s){const a=new URLSearchParams;s!=null&&s.top&&a.append("top",s.top.toString());const c=`repo-builds/${encodeURIComponent(i)}/${encodeURIComponent(d)}?${a}`;return{items:await this.get(c)}}async getGitTags(i,d){const s=`git-tags/${encodeURIComponent(i)}/${encodeURIComponent(d)}`;return{items:await this.get(s)}}async getPullRequests(i,d,s){const a=new URLSearchParams;s!=null&&s.top&&a.append("top",s.top.toString()),s!=null&&s.status&&a.append("status",s.status.toString());const c=`pull-requests/${encodeURIComponent(i)}/${encodeURIComponent(d)}?${a}`;return{items:await this.get(c)}}getDashboardPullRequests(i){return this.get(`dashboard-pull-requests/${i}?top=100`)}getAllTeams(){return this.get("all-teams")}getUserTeamIds(i){return this.get(`users/${i}/team-ids`)}async getBuildRuns(i,d,s,a){const c=new URLSearchParams;d&&c.append("repoName",d),s&&c.append("definitionName",s),a!=null&&a.top&&c.append("top",a.top.toString());const o=`builds/${encodeURIComponent(i)}?${c}`;return{items:await this.get(o)}}async get(i){const d=`${await this.discoveryApi.getBaseUrl("azure-devops")}/`,s=new URL(i,d),{token:a}=await this.identityApi.getCredentials(),c=await fetch(s.toString(),{headers:a?{Authorization:`Bearer ${a}`}:{}});if(!c.ok)throw await t.VL.fromResponse(c);return c.json()}}},43005:function(H,l,e){"use strict";e.d(l,{k:function(){return t.k}});var t=e(68517),n=e(10704)},14139:function(H,l,e){"use strict";e.d(l,{P:function(){return r}});var t=e(72379),n=e(2784);const r=i=>n.createElement(t.Z,{...i,viewBox:"0 0 512 512"},n.createElement("circle",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",cx:"128",cy:"416",r:"48"}),n.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 144v224M288 160l-64-64 64-64"}),n.createElement("circle",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",cx:"128",cy:"96",r:"48"}),n.createElement("circle",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",cx:"384",cy:"416",r:"48"}),n.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M240 96h84a60 60 0 0160 60v212"}))},2120:function(H,l,e){"use strict";e.r(l),e.d(l,{FilterType:function(){return p},PullRequestsPage:function(){return At}});var t=e(23192),n=e(2784),r=e(12803);function i(Le,Te){return new Set(Le).has(Te)}function d(Le,Te,pe=!1){return pe?i(Le.map(Be=>Be==null?void 0:Be.toLocaleLowerCase("en-US")),Te==null?void 0:Te.toLocaleLowerCase("en-US")):i(Le,Te)}function s(Le,Te){return Le.toLocaleLowerCase("en-US")===Te.toLocaleLowerCase("en-US")}var a=e(150);function c(Le){return Te=>{var Be;const pe=(Be=Te.reviewers)==null?void 0:Be.map(ot=>ot.id);return pe?d(pe,Le.teamId,!0):!1}}function o(Le){const Te=Le.teamIds;return pe=>Te?Te.some(Be=>c({type:p.AssignedToTeam,teamId:Be})(pe)):!1}function g(Le){const Te=Le.email;return pe=>{var ot;const Be=(ot=pe.reviewers)==null?void 0:ot.map(at=>at.uniqueName);return!Te||!Be?!1:d(Be,Te,!0)}}function u(Le){return Te=>{var ot,at;const[pe,Be]="teamId"in Le?[(ot=Te.createdBy)==null?void 0:ot.teamIds,Le.teamId]:[(at=Te.createdBy)==null?void 0:at.teamNames,Le.teamName];return pe?d(pe,Be,!0):!1}}function f(Le){return Te=>{if("teamNames"in Le){const Be=Le.teamNames;return Be?Be.some(ot=>u({type:p.CreatedByTeam,teamName:ot})(Te)):!1}const pe=Le.teamIds;return pe?pe.some(Be=>u({type:p.CreatedByTeam,teamId:Be})(Te)):!1}}function h(Le){const Te=Le.email;return pe=>{var ot;const Be=(ot=pe.createdBy)==null?void 0:ot.uniqueName;return!Te||!Be?!1:s(Te,Be)}}var p;(function(Le){const Te="All";Le.All=Te;const pe="AssignedToUser";Le.AssignedToUser=pe;const Be="AssignedToCurrentUser";Le.AssignedToCurrentUser=Be;const ot="AssignedToTeam";Le.AssignedToTeam=ot;const at="AssignedToTeams";Le.AssignedToTeams=at;const ke="AssignedToCurrentUsersTeams";Le.AssignedToCurrentUsersTeams=ke;const Zt="CreatedByUser";Le.CreatedByUser=Zt;const $e="CreatedByCurrentUser";Le.CreatedByCurrentUser=$e;const Wt="CreatedByTeam";Le.CreatedByTeam=Wt;const Kt="CreatedByTeams";Le.CreatedByTeams=Kt;const Qe="CreatedByCurrentUsersTeams";Le.CreatedByCurrentUsersTeams=Qe})(p||(p={}));const A=[p.All,p.AssignedToUser,p.AssignedToCurrentUser,p.AssignedToTeam,p.AssignedToTeams,p.AssignedToCurrentUsersTeams,p.CreatedByUser,p.CreatedByCurrentUser,p.CreatedByTeam,p.CreatedByTeams,p.CreatedByCurrentUsersTeams];function R(){return Le=>!0}function y(Le){const Te=pe=>{switch(pe.type){case p.AssignedToUser:case p.AssignedToCurrentUser:return g(pe);case p.CreatedByUser:case p.CreatedByCurrentUser:return h(pe);case p.AssignedToTeam:return c(pe);case p.CreatedByTeam:return u(pe);case p.AssignedToTeams:case p.AssignedToCurrentUsersTeams:return o(pe);case p.CreatedByTeams:case p.CreatedByCurrentUsersTeams:return f(pe);case p.All:return R();default:return Be=>!1}};return Array.isArray(Le)?Le.length===1?Te(Le[0]):pe=>Le.every(Be=>Te(Be)(pe)):Te(Le)}function E(Le){return Le.voteStatus===r.Kt.NoVote?!!Le.isRequired:!Le.isContainer}function C(Le,Te){const pe=[];for(let Be=0;Be-pe.length<Le.length;Be++){const ot=Be-pe.length,at=Le[ot];Te(at)&&(Le.splice(ot,1),pe.push(at))}return pe}function S(Le,Te){if(!Le)return;const pe=[...Le],Be=[];return Te.forEach(({title:ot,filter:at,simplified:ke})=>{const Zt=C(pe,at);Be.push({title:ot,pullRequests:Zt,simplified:ke})}),Be}function T(Le,Te){return Le.map(pe=>{const Be=Te(pe.filters);return{title:pe.title,filter:y(Be),simplified:pe.simplified}})}var P=e(15459),I=e(27556),Z=e(76600),L=e(90436),D=e(94339),B=e(32552),w=e(24579),V=e(98977),G=e(79692);const M=(0,G.Z)(Le=>({root:Te=>({color:Te.hasAutoComplete?Le.palette.success.main:Le.palette.grey[400]})})),ce=Le=>{const Te=M(Le);return n.createElement(V.Z,{className:Te.root})};var ue=e(96299),le=e(49166),me=e(81285),ge=e(72493);const Ae=(0,P.Z)(Le=>({root:{color:Le.palette.info.main}}),{name:"PolicyRequiredIcon"})(ge.Z),ee=(0,P.Z)(Le=>({root:{color:Le.palette.error.main}}),{name:"PolicyIssueIcon"})(le.Z),Ie=(0,P.Z)(Le=>({root:{color:Le.palette.info.main}}),{name:"PolicyInProgressIcon"})(me.Z);function re(Le){switch(Le.type){case r.Mi.Build:switch(Le.status){case r.nm.Running:return n.createElement(Ie,null);case r.nm.Rejected:return n.createElement(ee,null);case r.nm.Queued:return n.createElement(Ae,null);default:return null}case r.Mi.MinimumReviewers:case r.Mi.RequiredReviewers:return n.createElement(Ae,null);case r.Mi.Status:case r.Mi.Comments:return n.createElement(ee,null);default:return null}}const ne=(0,Z.Z)("div")({display:"flex",alignItems:"center",flexWrap:"wrap"}),_=({policy:Le})=>n.createElement(ne,null,re(Le)," ",n.createElement("span",null,Le.text)),se=({policies:Le,className:Te})=>n.createElement("div",{className:Te},Le.map(pe=>n.createElement(_,{key:pe.id,policy:pe}))),j=({reviewer:Le})=>n.createElement(t.Avatar,{displayName:Le.displayName,picture:Le.imageUrl,customStyles:{width:"2.5rem",height:"2.5rem",fontSize:"1rem",border:"0.3rem solid silver"}}),ae=(0,Z.Z)("div")({"& > *":{marginTop:4,marginBottom:4}}),X=({reviewers:Le})=>n.createElement(ae,null,Le.filter(E).map(Te=>n.createElement(j,{key:Te.id,reviewer:Te}))),z=(0,G.Z)(Le=>({card:{backgroundColor:Le.palette.type==="dark"?Le.palette.grey[700]:Le.palette.common.white},cardHeaderSimplified:{paddingBottom:Le.spacing(2)},cardHeaderAction:{display:"flex",alignSelf:"center",margin:0},content:{display:"flex",flexDirection:"row"},policies:{flex:1}}),{name:"PullRequestCard"}),Q=({pullRequest:Le,simplified:Te})=>{var $e,Wt,Kt,Qe,tt,Tt;const pe=n.createElement(t.Link,{to:($e=Le.link)!=null?$e:"",title:Le.description},Le.title),Be=n.createElement(t.Link,{to:(Kt=(Wt=Le.repository)==null?void 0:Wt.url)!=null?Kt:"",color:"inherit"},(Qe=Le.repository)==null?void 0:Qe.name),ot=Le.creationDate?ue.ou.fromISO(Le.creationDate).toRelative():void 0,at=n.createElement("span",null,Be," \xB7 ",ot),ke=n.createElement(t.Avatar,{displayName:(tt=Le.createdBy)==null?void 0:tt.displayName,picture:(Tt=Le.createdBy)==null?void 0:Tt.imageUrl,customStyles:{width:"2.5rem",height:"2.5rem",fontSize:"1rem"}}),Zt=z();return n.createElement(D.Z,{classes:{root:Zt.card},"data-pull-request-id":Le.pullRequestId},n.createElement(B.Z,{avatar:ke,title:pe,subheader:at,action:n.createElement(ce,{hasAutoComplete:Le.hasAutoComplete}),classes:{...Te&&{root:Zt.cardHeaderSimplified},action:Zt.cardHeaderAction}}),!Te&&n.createElement(w.Z,{className:Zt.content},Le.policies&&n.createElement(se,{policies:Le.policies,className:Zt.policies}),Le.reviewers&&n.createElement(X,{reviewers:Le.reviewers})))},fe=(0,P.Z)(Le=>({root:{display:"flex",flexDirection:"column",flex:1,padding:Le.spacing(2),backgroundColor:Le.palette.type==="dark"?Le.palette.grey[800]:Le.palette.grey[300],height:"100%"}}))(I.Z),q=(0,Z.Z)("div")(({theme:Le})=>({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:Le.spacing(2)})),k=(0,Z.Z)("div")(({theme:Le})=>({display:"flex",flexDirection:"column","& > *":{marginBottom:Le.spacing(2)},"& > :last-of-type":{marginBottom:0}})),b=({pullRequestGroup:Le})=>{const Te=n.createElement(q,null,n.createElement(L.Z,{variant:"h5"},Le.title)),pe=n.createElement(k,null,Le.pullRequests.map(Be=>n.createElement(Q,{key:Be.pullRequestId,pullRequest:Be,simplified:Le.simplified})));return n.createElement(fe,null,Te,pe)},F=(0,Z.Z)("div")(({theme:Le})=>({display:"flex",flexDirection:"row",justifyContent:"space-between","& > *":{marginRight:Le.spacing(2)},"& > :last-of-type":{marginRight:0}})),N=({pullRequestGroups:Le})=>n.createElement(F,null,Le.map((Te,pe)=>n.createElement(b,{key:pe,pullRequestGroup:Te})));var W=e(43005),Ee=e(36964);function Ce(){const Le=useApi(azureDevOpsApiRef),{value:Te,loading:pe,error:Be}=useAsync(()=>Le.getAllTeams(),[Le]);return{teams:Te,loading:pe,error:Be}}var te=e(77446),Re=e(70218);const $=1e4;function ie(Le,Te=$){const pe=(0,Ee.useApi)(W.k),Be=(0,Ee.useApi)(Ee.errorApiRef),ot=(0,n.useCallback)(async()=>{if(!Le)return Promise.reject(new Error("Missing project name"));try{return await pe.getDashboardPullRequests(Le)}catch(Wt){return Wt instanceof Error&&Be.post(Wt),Promise.reject(Wt)}},[Le,pe,Be]),{value:at,loading:ke,error:Zt,retry:$e}=(0,te.Z)(()=>ot(),[ot]);return(0,Re.Z)(()=>$e(),Te),{pullRequests:at,loading:ke,error:Zt}}var de=e(83721);function Pe(Le,Te){const Be={top:Te!=null?Te:AZURE_DEVOPS_DEFAULT_TOP},ot=useApi(azureDevOpsApiRef),{project:at,repo:ke}=useProjectRepoFromEntity(Le),{value:Zt,loading:$e,error:Wt}=useAsync(()=>ot.getRepoBuilds(at,ke,Be),[ot,at,ke,Le]);return{items:Zt==null?void 0:Zt.items,loading:$e,error:Wt}}var He=e(64279);function We(){var pe;const Le=(0,Ee.useApi)(Ee.identityApiRef);return(pe=(0,He.default)(()=>Le.getProfileInfo(),[Le]).value)==null?void 0:pe.email}function Ge(Le){const Te=(0,Ee.useApi)(W.k),{value:pe,loading:Be,error:ot}=(0,He.default)(()=>Le?Te.getUserTeamIds(Le):Promise.resolve(void 0),[Te]);return{teamIds:pe,loading:Be,error:ot}}function Ve(){const Le=We(),{teamIds:Te}=Ge(Le);return pe=>{for(const Be of pe)switch(Be.type){case p.AssignedToCurrentUser:case p.CreatedByCurrentUser:Be.email=Le;break;case p.AssignedToCurrentUsersTeams:case p.CreatedByCurrentUsersTeams:Be.teamIds=Te;break;default:break}return pe}}const ut=({pullRequestGroups:Le,loading:Te,error:pe})=>Te&&(!Le||Le.length<=0)?n.createElement(t.Progress,null):pe?n.createElement(t.ResponseErrorPanel,{error:pe}):n.createElement(N,{pullRequestGroups:Le!=null?Le:[]}),nt=[{title:"Created by me",filters:[{type:p.CreatedByCurrentUser}],simplified:!1},{title:"Other PRs",filters:[{type:p.All}],simplified:!0}],At=({projectName:Le,pollingInterval:Te,defaultColumnConfigs:pe})=>{const{pullRequests:Be,loading:ot,error:at}=ie(Le,Te),[ke]=(0,n.useState)(pe!=null?pe:nt),Zt=Ve(),$e=T(ke,Zt),Wt=S(Be,$e);return n.createElement(t.Page,{themeId:"tool"},n.createElement(t.Header,{title:"Azure Pull Requests"}),n.createElement(t.Content,null,n.createElement(ut,{pullRequestGroups:Wt,loading:ot,error:at})))}},86864:function(H,l,e){"use strict";e.d(l,{Ob:function(){return r},_7:function(){return t},lA:function(){return n},vC:function(){return i}});const t="dev.azure.com/build-definition",n="dev.azure.com/project",r="dev.azure.com/project-repo",i=10},81833:function(H,l,e){"use strict";e.d(l,{l:function(){return n}});var t=e(86864);function n(r){var s,a;const[i,d]=((a=(s=r.metadata.annotations)==null?void 0:s[t.Ob])!=null?a:"").split("/");if(!i&&!d)throw new Error("Value for annotation dev.azure.com/project-repo was not in the correct format: <project-name>/<repo-name>");if(!i)throw new Error("Project Name for annotation dev.azure.com/project-repo was not found; expected format is: <project-name>/<repo-name>");if(!d)throw new Error("Repo Name for annotation dev.azure.com/project-repo was not found; expected format is: <project-name>/<repo-name>");return{project:i,repo:d}}},83721:function(H,l,e){"use strict";e.d(l,{v:function(){return a}});var t=e(12803),n=e(86864),r=e(43005),i=e(36964),d=e(64279),s=e(81833);function a(c,o,g){const u=o!=null?o:n.vC,f=g!=null?g:t.mJ.Active,h={top:u,status:f},p=(0,i.useApi)(r.k),{project:A,repo:R}=(0,s.l)(c),{value:y,loading:E,error:C}=(0,d.default)(()=>p.getPullRequests(A,R,h),[p,A,R,u,f]);return{items:y==null?void 0:y.items,loading:E,error:C}}},150:function(H,l,e){"use strict";e.d(l,{K:function(){return i}});var t=e(96299),n=e(75951),r=e.n(n);const i=(d,s)=>{if(!d||!d&&!s)return"";const a=t.ou.fromISO(d),c=s?t.ou.fromISO(s):t.ou.now(),o=t.Xp.fromDateTimes(a,c).toDuration().valueOf();return r().humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y",mo:()=>"mo",w:()=>"w",d:()=>"d",h:()=>"h",m:()=>"m",s:()=>"s",ms:()=>"ms"}}})(o,{largest:2,round:!0,spacer:""})}},29960:function(H,l,e){"use strict";e.d(l,{h:function(){return i},t:function(){return s}});var t=e(10289),n=e(10179),r=e(48023);class i{constructor(c){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=c.discoveryApi,this.identityApi=c.identityApi}async getEntityBadgeSpecs(c){const o=await this.getEntityBadgeSpecsUrl(c),{token:g}=await this.identityApi.getCredentials(),u=await fetch(o,{headers:g?{Authorization:`Bearer ${g}`}:void 0});if(!u.ok)throw await n.VL.fromResponse(u);return await u.json()}async getEntityBadgeSpecsUrl(c){const o=this.getEntityRouteParams(c),g=(0,t.Gn)(":namespace/:kind/:name",o);return`${await this.discoveryApi.getBaseUrl("badges")}/entity/${g}/badge-specs`}getEntityRouteParams(c){var o,g;return{kind:c.kind.toLocaleLowerCase("en-US"),namespace:(g=(o=c.metadata.namespace)==null?void 0:o.toLocaleLowerCase("en-US"))!=null?g:r.zG,name:c.metadata.name}}}var d=e(36964);const s=(0,d.createApiRef)({id:"plugin.badges.client"})},72415:function(H,l,e){"use strict";e.d(l,{RESOURCE_TYPE_CATALOG_ENTITY:function(){return n},catalogEntityCreatePermission:function(){return i},catalogEntityDeletePermission:function(){return d}});var t=e(40749);const n="catalog-entity",r=(0,t.J$)({name:"catalog.entity.read",attributes:{action:"read"},resourceType:n}),i=(0,t.J$)({name:"catalog.entity.create",attributes:{action:"create"}}),d=(0,t.J$)({name:"catalog.entity.delete",attributes:{action:"delete"},resourceType:n}),s=(0,t.J$)({name:"catalog.entity.refresh",attributes:{action:"update"},resourceType:n}),a=(0,t.J$)({name:"catalog.location.read",attributes:{action:"read"}}),c=(0,t.J$)({name:"catalog.location.create",attributes:{action:"create"}}),o=(0,t.J$)({name:"catalog.location.delete",attributes:{action:"delete"}})},70395:function(H,l,e){"use strict";e.d(l,{vw:function(){return E},Nm:function(){return C},_U:function(){return V}});var t=e(48023),n=e(23192),r=e(36964),i=e(79692),d=e(60364),s=e(4614),a=e(72779),c=e.n(a),o=e(2784),g=e(10368);const u=(0,g.Z)(G=>({text:{fill:G.palette.textContrast},secondary:{fill:G.palette.textSubtle}}));function f({edge:{relations:G}}){const M=u();return o.createElement("text",{className:M.text,textAnchor:"middle"},G.map((ce,ue)=>o.createElement("tspan",{key:ce,className:c()(ue>0&&M.secondary)},ue>0&&o.createElement("tspan",null," / "),ce)))}var h=e(53479),p=e(39412);function A({kind:G,...M}){var le;const ue=(le=(0,r.useApp)().getSystemIcon(`kind:${G.toLocaleLowerCase("en-US")}`))!=null?le:p.Z;return o.createElement(ue,{...M})}const R=(0,i.Z)(G=>({node:{fill:G.palette.grey[300],stroke:G.palette.grey[300],"&.primary":{fill:G.palette.primary.light,stroke:G.palette.primary.light},"&.secondary":{fill:G.palette.secondary.light,stroke:G.palette.secondary.light}},text:{fill:G.palette.getContrastText(G.palette.grey[300]),"&.primary":{fill:G.palette.primary.contrastText},"&.secondary":{fill:G.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}));function y({node:{id:G,kind:M,namespace:ce,name:ue,color:le="default",focused:me,title:ge,onClick:Ae}}){const ee=R(),[Ie,re]=(0,o.useState)(0),[ne,_]=(0,o.useState)(0),se=(0,o.useRef)(null);(0,o.useLayoutEffect)(()=>{if(se.current){let{height:q,width:k}=se.current.getBBox();q=Math.round(q),k=Math.round(k),(q!==ne||k!==Ie)&&(re(k),_(q))}},[Ie,ne]);const j=10,ae=ne,X=M?ae+j:0,z=X+Ie+j*2,Q=ne+j*2,fe=ge!=null?ge:M&&ue&&ce?(0,h.humanizeEntityRef)({kind:M,name:ue,namespace:ce}):G;return o.createElement("g",{onClick:Ae,className:c()(Ae&&ee.clickable)},o.createElement("rect",{className:c()(ee.node,le==="primary"&&"primary",le==="secondary"&&"secondary"),width:z,height:Q,rx:10}),M&&o.createElement(A,{kind:M,y:j,x:j,width:ae,height:ae,className:c()(ee.text,me&&"focused",le==="primary"&&"primary",le==="secondary"&&"secondary")}),o.createElement("text",{ref:se,className:c()(ee.text,me&&"focused",le==="primary"&&"primary",le==="secondary"&&"secondary"),y:Q/2,x:X+(Ie+j*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},fe))}const E=[[t.$1,t.S4],[t.Dg,t.X9],[t.Zj,t.M_],[t.aS,t.cz],[t._b,t.wP],[t.KS,t.hr],[t.nP,t.w$]];var C;(function(G){const M="TB";G.TOP_BOTTOM=M;const ce="BT";G.BOTTOM_TOP=ce;const ue="LR";G.LEFT_RIGHT=ue;const le="RL";G.RIGHT_LEFT=le})(C||(C={}));var S=e(48760),T=e(14162),P=e.n(T),I=e(69294);const Z=P()(10);function L(){const G=(0,r.useApi)(h.catalogApiRef),M=(0,o.useRef)({requestedEntities:new Set,outstandingEntities:new Map,cachedEntities:new Map}),[ce,ue]=(0,o.useState)({}),le=(0,o.useCallback)(()=>{const{cachedEntities:re,requestedEntities:ne}=M.current,_={};ne.forEach(se=>{const j=re.get(se);j&&(_[se]=j)}),ue(_)},[M,ue]),[me,ge]=(0,I.default)(async()=>{const{requestedEntities:re,outstandingEntities:ne,cachedEntities:_}=M.current;await Promise.all(Array.from(re).map(se=>Z(async()=>{if(_.has(se))return;if(ne.has(se)){await ne.get(se);return}const j=G.getEntityByRef(se);ne.set(se,j);try{const ae=await j;ae&&(_.set(se,ae),le())}finally{ne.delete(se)}})))},[M,le]),{loading:Ae,error:ee}=me,Ie=(0,o.useCallback)(re=>{const ne=new Set(re),{requestedEntities:_}=M.current;(ne.size!==_.size||Array.from(ne).some(se=>!_.has(se)))&&(M.current.requestedEntities=ne,ge(),le())},[M,ge,le]);return{entities:ce,loading:Ae,error:ee,requestEntities:Ie}}function D({rootEntityRefs:G,filter:{maxDepth:M=Number.POSITIVE_INFINITY,relations:ce,kinds:ue}={}}){const{entities:le,loading:me,error:ge,requestEntities:Ae}=L();return(0,o.useEffect)(()=>{const ee=new Set([...G]),Ie=new Set;let re=[...G],ne=0;for(;re.length>0&&(!isFinite(M)||ne<M);){const _=re;for(re=[];_.length>0;){const se=_.shift(),j=le[se];if(Ie.add(se),j&&j.relations)for(const ae of j.relations)(!ce||ce.includes(ae.type))&&(!ue||ue.some(X=>ae.targetRef.startsWith(`${X.toLocaleLowerCase("en-US")}:`)))&&(Ie.has(ae.targetRef)||(re.push(ae.targetRef),ee.add(ae.targetRef)))}++ne}Ae([...ee])},[le,G,M,ce,ue,Ae]),{entities:le,loading:me,error:ge}}function B({rootEntityRefs:G,maxDepth:M=Number.POSITIVE_INFINITY,unidirectional:ce=!0,mergeRelations:ue=!0,kinds:le,relations:me,onNodeClick:ge,relationPairs:Ae=E}){const[ee,Ie]=(0,o.useState)({}),{entities:re,loading:ne,error:_}=D({rootEntityRefs:G,filter:{maxDepth:M,kinds:le,relations:me}});return(0,S.Z)(()=>{var z;if(!re||Object.keys(re).length===0){Ie({});return}const se=Object.entries(re).map(([Q,fe])=>{var b,F,N;const q=G.includes(Q),k={id:Q,title:(F=(b=fe.metadata)==null?void 0:b.title)!=null?F:void 0,kind:fe.kind,name:fe.metadata.name,namespace:(N=fe.metadata.namespace)!=null?N:t.zG,focused:q,color:q?"secondary":"primary"};return ge&&(k.onClick=W=>ge(k,W)),k}),j=[],ae=new Set,X=[...G];for(;X.length>0;){const Q=X.pop(),fe=re[Q];ae.add(Q),fe&&((z=fe==null?void 0:fe.relations)==null||z.forEach(q=>{var k;if(!!re[q.targetRef]&&!(me&&!me.includes(q.type))&&!(le&&!le.some(b=>q.targetRef.startsWith(`${b.toLocaleLowerCase("en-US")}:`)))){if(!ce||!ae.has(q.targetRef))if(ue){const b=(k=Ae.find(([N,W])=>N===q.type||W===q.type))!=null?k:[q.type],[F]=b;j.push({from:F===q.type?Q:q.targetRef,to:F===q.type?q.targetRef:Q,relations:b,label:"visible"})}else j.push({from:Q,to:q.targetRef,relations:[q.type],label:"visible"});ae.has(q.targetRef)||(X.push(q.targetRef),ae.add(q.targetRef))}}))}Ie({nodes:se,edges:j})},100,[re,G,le,me,ce,ue,ge,Ae]),{loading:ne,error:_,...ee}}const w=(0,i.Z)(G=>({progress:{position:"absolute",left:"50%",top:"50%",marginLeft:"-20px",marginTop:"-20px"},container:{position:"relative",width:"100%",display:"flex",flexDirection:"column"},graph:{width:"100%",flex:1,"& path[marker-end]":{transition:"filter 0.1s ease-in-out"},"& path[marker-end]:hover":{filter:`drop-shadow(2px 2px 4px ${G.palette.primary.dark});`},"& g[data-testid=label]":{transition:"transform 0s"}}})),V=G=>{const{rootEntityNames:M,maxDepth:ce=Number.POSITIVE_INFINITY,unidirectional:ue=!0,mergeRelations:le=!0,kinds:me,relations:ge,direction:Ae=C.LEFT_RIGHT,onNodeClick:ee,relationPairs:Ie=E,className:re,zoom:ne="enabled",renderNode:_,renderLabel:se}=G,j=(0,d.Z)(),ae=w(),X=(0,o.useMemo)(()=>(Array.isArray(M)?M:[M]).map(b=>(0,t.eE)(b)),[M]),z=(0,r.useApi)(r.errorApiRef),{loading:Q,error:fe,nodes:q,edges:k}=B({rootEntityRefs:X,maxDepth:ce,unidirectional:ue,mergeRelations:le,kinds:me,relations:ge,onNodeClick:ee,relationPairs:Ie});return(0,o.useEffect)(()=>{fe&&z.post(fe)},[z,fe]),o.createElement("div",{className:c()(ae.container,re)},Q&&o.createElement(s.Z,{className:ae.progress}),q&&k&&o.createElement(n.DependencyGraph,{nodes:q,edges:k,renderNode:_||y,renderLabel:se||f,direction:Ae,className:ae.graph,paddingX:j.spacing(4),paddingY:j.spacing(4),labelPosition:n.DependencyGraphTypes.ht.RIGHT,labelOffset:j.spacing(1),zoom:ne}))}},1021:function(H,l,e){"use strict";e.d(l,{H:function(){return n},P:function(){return r}});var t=e(36964);const n=(0,t.createRouteRef)({id:"catalog-graph"}),r=(0,t.createExternalRouteRef)({id:"catalog-entity",params:["namespace","kind","name"],optional:!0})},43736:function(H,l,e){"use strict";e.d(l,{K:function(){return g},h:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.catalog-import.service"});var r=e(46775),i=e(49431),d=e(82717),s=e.n(d);const a=(f,h)=>{const p=f.github.byUrl(h);if(!p)return;const{name:A,owner:R}=s()(h);return{repo:A,owner:R,githubIntegrationConfig:p.config}};var c=e(76635),o=e(81039);class g{constructor(h){Me(this,"discoveryApi");Me(this,"identityApi");Me(this,"scmAuthApi");Me(this,"scmIntegrationsApi");Me(this,"catalogApi");Me(this,"configApi");this.discoveryApi=h.discoveryApi,this.scmAuthApi=h.scmAuthApi,this.identityApi=h.identityApi,this.scmIntegrationsApi=h.scmIntegrationsApi,this.catalogApi=h.catalogApi,this.configApi=h.configApi}async analyzeUrl(h){var R;if(new URL(h).pathname.match(/\.ya?ml$/)||((R=new URL(h).searchParams.get("path"))==null?void 0:R.match(/.ya?ml$/))){const y=await this.catalogApi.addLocation({type:"url",target:h,dryRun:!0});return{type:"locations",locations:[{exists:y.exists,target:y.location.target,entities:y.entities.map(E=>{var C;return{kind:E.kind,namespace:(C=E.metadata.namespace)!=null?C:"default",name:E.metadata.name}})}]}}const p=a(this.scmIntegrationsApi,h);if(!p){const y=this.scmIntegrationsApi.byUrl(h),E=(0,o.V9)(this.configApi);throw y?new Error(`The ${y.title} integration only supports full URLs to ${E} files. Did you try to pass in the URL of a directory instead?`):new Error(`This URL was not recognized as a valid GitHub URL because there was no configured integration that matched the given host name. You could try to paste the full URL to a ${E} file instead.`)}const A=await this.checkGitHubForExistingCatalogInfo({...p,url:h});return A.length>0?{type:"locations",locations:A}:{type:"repository",integrationType:"github",url:h,generatedEntities:await this.generateEntityDefinitions({repo:h})}}async preparePullRequest(){var R;const h=(R=this.configApi.getOptionalString("app.title"))!=null?R:"Backstage",p=this.configApi.getString("app.baseUrl");return{title:`Add ${(0,o.V9)(this.configApi)} config file`,body:`This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${h} software catalog](${p}).

After this pull request is merged, the component will become available.

For more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/software-catalog-overview).`}}async submitPullRequest(h){const{repositoryUrl:p,fileContent:A,title:R,body:y}=h,E=a(this.scmIntegrationsApi,p);if(E)return await this.submitGitHubPrToRepo({...E,repositoryUrl:p,fileContent:A,title:R,body:y});throw new Error("unimplemented!")}async generateEntityDefinitions(h){const{token:p}=await this.identityApi.getCredentials(),A=await fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/analyze-location`,{headers:{"Content-Type":"application/json",...p&&{Authorization:`Bearer ${p}`}},method:"POST",body:JSON.stringify({location:{type:"url",target:h.repo}})}).catch(y=>{throw new Error(`Failed to generate entity definitions, ${y.message}`)});if(!A.ok)throw new Error(`Failed to generate entity definitions. Received http response ${A.status}: ${A.statusText}`);return(await A.json()).generateEntities.map(y=>y.entity)}async checkGitHubForExistingCatalogInfo(h){const{url:p,owner:A,repo:R,githubIntegrationConfig:y}=h,{token:E}=await this.scmAuthApi.getCredentials({url:p}),C=new r.v({auth:E,baseUrl:y.apiBaseUrl}),S=(0,o.V9)(this.configApi),T=`repo:${A}/${R}+filename:${S}`,P=await C.search.code({q:T}).catch(Z=>{throw new Error(u("Couldn't search repository for metadata file.",Z))});if(P.data.total_count>0){const L=(await C.repos.get({owner:A,repo:R}).catch(D=>{throw new Error(u("Couldn't fetch repo data",D))})).data.default_branch;return await Promise.all(P.data.items.map(D=>`${(0,c.trimEnd)(p,"/")}/blob/${L}/${D.path}`).map(async D=>{const B=await this.catalogApi.addLocation({type:"url",target:D,dryRun:!0});return{target:D,exists:B.exists,entities:B.entities.map(w=>{var V;return{kind:w.kind,namespace:(V=w.metadata.namespace)!=null?V:"default",name:w.metadata.name}})}}))}return[]}async submitGitHubPrToRepo(h){const{owner:p,repo:A,title:R,body:y,fileContent:E,repositoryUrl:C,githubIntegrationConfig:S}=h,{token:T}=await this.scmAuthApi.getCredentials({url:C,additionalScope:{repoWrite:!0}}),P=new r.v({auth:T,baseUrl:S.apiBaseUrl}),I=(0,o.Lm)(this.configApi),Z=(0,o.V9)(this.configApi),L=await P.repos.get({owner:p,repo:A}).catch(w=>{throw new Error(u("Couldn't fetch repo data",w))}),D=await P.git.getRef({owner:p,repo:A,ref:`heads/${L.data.default_branch}`}).catch(w=>{throw new Error(u("Couldn't fetch default branch data",w))});return await P.git.createRef({owner:p,repo:A,ref:`refs/heads/${I}`,sha:D.data.object.sha}).catch(w=>{throw new Error(u(`Couldn't create a new branch with name '${I}'`,w))}),await P.repos.createOrUpdateFileContents({owner:p,repo:A,path:Z,message:R,content:i.DS.encode(E),branch:I}).catch(w=>{throw new Error(u(`Couldn't create a commit with ${Z} file added`,w))}),{link:(await P.pulls.create({owner:p,repo:A,title:R,head:I,body:y,base:L.data.default_branch}).catch(w=>{throw new Error(u(`Couldn't create a pull request for ${I} branch`,w))})).data.html_url,location:`https://${S.host}/${p}/${A}/blob/${L.data.default_branch}/${Z}`}}}function u(f,h){return`${f}, received http response status code ${h.status}: ${h.message}`}},49869:function(H,l,e){"use strict";e.d(l,{a:function(){return s},x:function(){return a}});var t=e(77277),n=e(4614),r=e(79692),i=e(2784);const d=(0,r.Z)(c=>({wrapper:{marginTop:c.spacing(1),marginRight:c.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},button:{marginTop:c.spacing(1),marginRight:c.spacing(1)}})),s=c=>{const{loading:o,...g}=c,u=d();return i.createElement("div",{className:u.wrapper},i.createElement(t.Z,{color:"primary",variant:"contained",...g,disabled:c.disabled||c.loading}),c.loading&&i.createElement(n.Z,{size:"1.5rem",className:u.buttonProgress}),c.loading)},a=c=>{const o=d();return i.createElement(t.Z,{variant:"outlined",className:o.button,...c},c.children||"Back")}},9913:function(H,l,e){"use strict";e.d(l,{g:function(){return a}});var t=e(23192),n=e(36964),r=e(60905),i=e(2784),d=e(47403),s=e(76583);const a=()=>{const o=(0,n.useApi)(n.configApiRef).getOptional("app.title")||"Backstage";return i.createElement(t.Page,{themeId:"home"},i.createElement(t.Header,{title:"Register an existing component"}),i.createElement(t.Content,null,i.createElement(t.ContentHeader,{title:`Start tracking your component in ${o}`},i.createElement(t.SupportButton,null,"Start tracking your component in ",o," by adding it to the software catalog.")),i.createElement(r.Z,{container:!0,spacing:2,direction:"row-reverse"},i.createElement(r.Z,{item:!0,xs:12,md:4,lg:6,xl:8},i.createElement(d.Z,null)),i.createElement(r.Z,{item:!0,xs:12,md:8,lg:6,xl:4},i.createElement(s.c,null)))))}},43713:function(H,l,e){"use strict";e.d(l,{$:function(){return y}});var t=e(36964),n=e(53479),r=e(11776),i=e(38402),d=e(86136),s=e(49378),a=e(25859),c=e(61837),o=e(82113),g=e(79692),u=e(84905),f=e(38016),h=e(39412),p=e(2784);const A=(0,g.Z)(E=>({nested:{paddingLeft:E.spacing(4)}}));function R(E){return E.sort((C,S)=>(0,n.humanizeEntityRef)(C).localeCompare((0,n.humanizeEntityRef)(S)))}const y=E=>{const{locations:C,collapsed:S=!1,locationListItemIcon:T,onItemClick:P,firstListItem:I,withLinks:Z=!1}=E,L=(0,t.useApp)(),D=A(),[B,w]=(0,p.useState)([]),V=G=>{w(M=>M.includes(G)?M.filter(ce=>ce!==G):M.concat(G))};return p.createElement(r.Z,null,I,C.map(G=>p.createElement(p.Fragment,{key:G.target},p.createElement(i.Z,{dense:!0,button:Boolean(P),onClick:()=>P==null?void 0:P.call(void 0,G.target)},p.createElement(d.Z,null,T(G.target)),p.createElement(s.Z,{primary:G.target,secondary:`Entities: ${G.entities.length}`}),S&&p.createElement(a.Z,null,p.createElement(c.Z,{edge:"end",onClick:()=>V(G.target)},B.includes(G.target)?p.createElement(u.Z,null):p.createElement(f.Z,null)))),p.createElement(o.Z,{in:!S||B.includes(G.target),timeout:"auto",unmountOnExit:!0},p.createElement(r.Z,{component:"div",disablePadding:!0,dense:!0},R(G.entities).map(M=>{var ue;const ce=(ue=L.getSystemIcon(`kind:${M.kind.toLocaleLowerCase("en-US")}`))!=null?ue:h.Z;return p.createElement(i.Z,{key:(0,n.humanizeEntityRef)(M),className:D.nested,...Z?{component:n.EntityRefLink,entityRef:M,button:Z}:{}},p.createElement(d.Z,null,p.createElement(ce,null)),p.createElement(s.Z,{primary:(0,n.humanizeEntityRef)(M)}))}))))))}},47403:function(H,l,e){"use strict";e.d(l,{Z:function(){return c}});var t=e(23192),n=e(36964),r=e(90436),i=e(7089),d=e(2784),s=e(43736),a=e(58742);const c=o=>{const{exampleLocationUrl:g="https://github.com/backstage/backstage/blob/master/catalog-info.yaml",exampleRepositoryUrl:u="https://github.com/backstage/backstage"}=o,f=(0,n.useApi)(n.configApiRef),h=f.getOptional("app.title")||"Backstage",p=(0,n.useApi)(s.h),R=f.getConfig("integrations").has("github"),y=(0,a.t)();return d.createElement(t.InfoCard,{title:"Register an existing component",titleTypographyProps:{component:"h3"},deepLink:{title:"Learn more about the Software Catalog",link:"https://backstage.io/docs/features/software-catalog/software-catalog-overview"}},d.createElement(r.Z,{variant:"body2",paragraph:!0},"Enter the URL to your source code repository to add it to ",h,"."),d.createElement(r.Z,{component:"h4",variant:"h6"},"Link to an existing entity file"),d.createElement(r.Z,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example: ",d.createElement("code",null,g)),d.createElement(r.Z,{variant:"body2",paragraph:!0},"The wizard analyzes the file, previews the entities, and adds them to the ",h," catalog."),R&&d.createElement(d.Fragment,null,d.createElement(r.Z,{component:"h4",variant:"h6"},"Link to a repository"," ",d.createElement(i.Z,{label:"GitHub only",variant:"outlined",size:"small"})),d.createElement(r.Z,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example: ",d.createElement("code",null,u)),d.createElement(r.Z,{variant:"body2",paragraph:!0},"The wizard discovers all ",d.createElement("code",null,y)," files in the repository, previews the entities, and adds them to the ",h," ","catalog."),p.preparePullRequest&&d.createElement(r.Z,{variant:"body2",paragraph:!0},"If no entities are found, the wizard will prepare a Pull Request that adds an example ",d.createElement("code",null,y)," and prepares the ",h," catalog to load all entities as soon as the Pull Request is merged.")))}},76583:function(H,l,e){"use strict";e.d(l,{c:function(){return re}});var t=e(23192),n=e(36964),r=e(31377),i=e(63115),d=e(31625),s=e(79692),a=e(2784),c=e(43736);function o(ne){return{activeFlow:"unknown",activeState:"analyze",analysisUrl:ne,previousStates:[]}}function g(ne,_){switch(_.type){case"onAnalysis":{if(ne.activeState!=="analyze")return ne;const{activeState:se,previousStates:j}=ne,[ae,X,z,Q]=_.args;return{...ne,analysisUrl:X,activeFlow:ae,analyzeResult:z,prepareResult:Q==null?void 0:Q.prepareResult,activeState:(Q==null?void 0:Q.prepareResult)===void 0?"prepare":"review",previousStates:j.concat(se)}}case"onPrepare":{if(ne.activeState!=="prepare")return ne;const{activeState:se,previousStates:j}=ne,[ae,X]=_.args;return{...ne,prepareResult:ae,activeState:"review",previousStates:X!=null&&X.notRepeatable?[]:j.concat(se)}}case"onReview":{if(ne.activeState!=="review")return ne;const{activeState:se,previousStates:j}=ne,[ae]=_.args;return{...ne,reviewResult:ae,activeState:"finish",previousStates:j.concat(se)}}case"onGoBack":{const{activeState:se,previousStates:j}=ne;return{...ne,activeState:j.length>0?j[j.length-1]:se,previousStates:j.slice(0,j.length-1)}}case"onReset":return{...o(_.initialUrl),prepareResult:ne.prepareResult};default:throw new Error}}const u=ne=>{const[_,se]=(0,a.useReducer)(g,ne==null?void 0:ne.initialUrl,o),{activeFlow:j,activeState:ae,analysisUrl:X,previousStates:z}=_;return{activeFlow:j,activeState:ae,activeStepNumber:["analyze","prepare","review","finish"].indexOf(ae),analysisUrl:X,analyzeResult:_.analyzeResult,prepareResult:_.prepareResult,reviewResult:_.reviewResult,onAnalysis:(Q,fe,q,k)=>se({type:"onAnalysis",args:[Q,fe,q,k]}),onPrepare:(Q,fe)=>se({type:"onPrepare",args:[Q,fe]}),onReview:Q=>se({type:"onReview",args:[Q]}),onGoBack:z.length>0?()=>se({type:"onGoBack"}):void 0,onReset:()=>se({type:"onReset",initialUrl:ne==null?void 0:ne.initialUrl})}};var f=e(34546),h=e(90436),p=e(95544),A=e(86619),R=e(5806),y=e(21324),E=e(74828),C=e(49869),S=e(81039),T=e(60905),P=e(4989),I=e(43713),Z=e(96795),L=e.n(Z);const D=({prepareResult:ne,onReset:_})=>{const se=a.createElement(T.Z,{container:!0,spacing:0},a.createElement(C.x,{onClick:_},"Register another"));if(ne.type==="repository")return a.createElement(a.Fragment,null,a.createElement(h.Z,{paragraph:!0},"The following Pull Request has been opened:"," ",a.createElement(t.Link,{to:ne.pullRequest.url,target:"_blank",rel:"noreferrer"},ne.pullRequest.url)),a.createElement(h.Z,{paragraph:!0},"Your entities will be imported as soon as the Pull Request is merged."),se);const[j,ae]=L()(ne.locations,X=>X.exists);return a.createElement(a.Fragment,null,ae.length>0&&a.createElement(a.Fragment,null,a.createElement(h.Z,null,"The following entities have been added to the catalog:"),a.createElement(I.$,{locations:ae,locationListItemIcon:()=>a.createElement(P.Z,null),withLinks:!0})),j.length>0&&a.createElement(a.Fragment,null,a.createElement(h.Z,null,"A refresh was triggered for the following locations:"),a.createElement(I.$,{locations:j,locationListItemIcon:()=>a.createElement(P.Z,null),withLinks:!0})),se)};var B=e(99259),w=e(92125),V=e(38402),G=e(86136),M=e(49378);const ce=({analyzeResult:ne,prepareResult:_,onPrepare:se,onGoBack:j})=>{const[ae,X]=(0,a.useState)((_==null?void 0:_.locations.map(b=>b.target))||[]),[z,Q]=L()(ne==null?void 0:ne.locations,b=>b.exists),fe=(0,a.useCallback)(async()=>{se({type:"locations",locations:Q.filter(b=>ae.includes(b.target))})},[Q,se,ae]),q=b=>{X(F=>F.includes(b)?F.filter(N=>N!==b):F.concat(b))},k=()=>{X(b=>b.length<Q.length?Q.map(F=>F.target):[])};return a.createElement(a.Fragment,null,Q.length>0&&a.createElement(a.Fragment,null,a.createElement(h.Z,null,"Select one or more locations that are present in your git repository:"),a.createElement(I.$,{firstListItem:a.createElement(V.Z,{dense:!0,button:!0,onClick:k},a.createElement(G.Z,null,a.createElement(y.Z,{edge:"start",checked:ae.length===Q.length,indeterminate:ae.length>0&&ae.length<Q.length,tabIndex:-1,disableRipple:!0})),a.createElement(M.Z,{primary:"Select All"})),onItemClick:q,locations:Q,locationListItemIcon:b=>a.createElement(y.Z,{edge:"start",checked:ae.includes(b),tabIndex:-1,disableRipple:!0}),collapsed:!0})),z.length>0&&a.createElement(a.Fragment,null,a.createElement(h.Z,null,"These locations already exist in the catalog:"),a.createElement(I.$,{locations:z,locationListItemIcon:()=>a.createElement(P.Z,null),withLinks:!0,collapsed:!0})),a.createElement(T.Z,{container:!0,spacing:0},j&&a.createElement(C.x,{onClick:j}),a.createElement(C.a,{disabled:ae.length===0,onClick:fe},"Review")))};var ue=e(53479),le=e(48023),me=e(10179);const ge=({prepareResult:ne,onReview:_,onGoBack:se})=>{const j=(0,n.useApi)(ue.catalogApiRef),X=(0,n.useApi)(n.configApiRef).getOptional("app.title")||"Backstage",[z,Q]=(0,a.useState)(!1),[fe,q]=(0,a.useState)(),k=!!(ne.type==="locations"&&ne.locations.some(F=>F.exists)),b=(0,a.useCallback)(async()=>{Q(!0);try{let F=new Array;ne.type==="locations"&&(F=await Promise.all(ne.locations.filter(W=>W.exists).map(async W=>{var Ce;const Ee=(0,le.eE)((Ce=W.entities[0])!=null?Ce:W);return await j.refreshEntity(Ee),{target:W.target}})));const N=await Promise.all(ne.locations.filter(W=>!W.exists).map(async W=>{const Ee=await j.addLocation({type:"url",target:W.target});return{target:Ee.location.target,entities:Ee.entities}}));_({...ne,refreshed:F,locations:N})}catch(F){(0,me.BD)(F),ne.type==="repository"&&F.message.startsWith("Location was added but has no entities specified yet")?_({...ne,locations:ne.locations.map(N=>({target:N.target,entities:[]}))}):(q(F.message),Q(!1))}},[ne,_,j]);return a.createElement(a.Fragment,null,ne.type==="repository"&&a.createElement(a.Fragment,null,a.createElement(h.Z,{paragraph:!0},"The following Pull Request has been opened:"," ",a.createElement(t.Link,{to:ne.pullRequest.url,target:"_blank",rel:"noopener noreferrer"},ne.pullRequest.url)),a.createElement(h.Z,{paragraph:!0},"You can already import the location and ",X," will fetch the entities as soon as the Pull Request is merged.")),a.createElement(h.Z,null,k?"The following locations already exist in the catalog:":"The following entities will be added to the catalog:"),a.createElement(I.$,{locations:ne.locations,locationListItemIcon:()=>a.createElement(P.Z,null)}),fe&&a.createElement(E.Z,{error:!0},fe),a.createElement(T.Z,{container:!0,spacing:0},se&&a.createElement(C.x,{onClick:se,disabled:z}),a.createElement(C.a,{disabled:z,loading:z,onClick:()=>b()},k?"Refresh":"Import")))};function Ae(ne,_){switch(ne){case"single-location":return{..._,prepare:()=>({stepLabel:a.createElement(f.Z,{optional:a.createElement(h.Z,{variant:"caption"},"Discovered Locations: 1")},"Select Locations"),content:a.createElement(a.Fragment,null)})};case"multiple-locations":return{..._,prepare:(se,j)=>se.analyzeResult.type!=="locations"?_.prepare(se,j):{stepLabel:a.createElement(f.Z,{optional:a.createElement(h.Z,{variant:"caption"},"Discovered Locations: ",se.analyzeResult.locations.length)},"Select Locations"),content:a.createElement(ce,{analyzeResult:se.analyzeResult,prepareResult:se.prepareResult,onPrepare:se.onPrepare,onGoBack:se.onGoBack})}};case"no-location":return{..._,prepare:(se,j)=>se.analyzeResult.type!=="repository"?_.prepare(se,j):{stepLabel:a.createElement(f.Z,null,"Create Pull Request"),content:a.createElement(w.hw,{analyzeResult:se.analyzeResult,onPrepare:se.onPrepare,onGoBack:se.onGoBack,renderFormFields:({values:ae,setValue:X,formState:z,groupsLoading:Q,groups:fe,register:q})=>a.createElement(a.Fragment,null,a.createElement(p.Z,{marginTop:2},a.createElement(h.Z,{variant:"h6"},"Pull Request Details")),a.createElement(A.Z,{...(0,S.dv)(q("title",{required:!0})),label:"Pull Request Title",placeholder:"Add Backstage catalog entity descriptor files",margin:"normal",variant:"outlined",fullWidth:!0,error:Boolean(z.errors.title),required:!0}),a.createElement(A.Z,{...(0,S.dv)(q("body",{required:!0})),label:"Pull Request Body",placeholder:"A describing text with Markdown support",margin:"normal",variant:"outlined",fullWidth:!0,error:Boolean(z.errors.body),multiline:!0,required:!0}),a.createElement(p.Z,{marginTop:2},a.createElement(h.Z,{variant:"h6"},"Entity Configuration")),a.createElement(A.Z,{...(0,S.dv)(q("componentName",{required:!0})),label:"Name of the created component",placeholder:"my-component",margin:"normal",variant:"outlined",fullWidth:!0,error:Boolean(z.errors.componentName),required:!0}),!ae.useCodeowners&&a.createElement(w.nm,{name:"owner",errors:z.errors,options:fe||[],loading:Q,loadingText:"Loading groups\u2026",helperText:"Select an owner from the list or enter a reference to a Group or a User",errorHelperText:"required value",textFieldProps:{label:"Entity Owner",placeholder:"my-group"},rules:{required:!0},required:!0}),a.createElement(R.Z,{control:a.createElement(y.Z,{...(0,S.dv)(q("useCodeowners")),onChange:(k,b)=>{b&&X("owner","")}}),label:a.createElement(a.Fragment,null,"Use ",a.createElement("em",null,"CODEOWNERS")," file as Entity Owner")}),a.createElement(E.Z,null,"WARNING: This may fail if no CODEOWNERS file is found at the target location."))})}};default:return _}}const ee={analyze:(ne,{apis:_})=>({stepLabel:a.createElement(f.Z,null,"Select URL"),content:a.createElement(B.B,{key:"analyze",analysisUrl:ne.analysisUrl,onAnalysis:ne.onAnalysis,disablePullRequest:!_.catalogImportApi.preparePullRequest})}),prepare:ne=>({stepLabel:a.createElement(f.Z,{optional:a.createElement(h.Z,{variant:"caption"},"Optional")},"Import Actions"),content:a.createElement(C.x,{onClick:ne.onGoBack})}),review:ne=>({stepLabel:a.createElement(f.Z,null,"Review"),content:a.createElement(ge,{prepareResult:ne.prepareResult,onReview:ne.onReview,onGoBack:ne.onGoBack})}),finish:ne=>({stepLabel:a.createElement(f.Z,null,"Finish"),content:a.createElement(D,{prepareResult:ne.prepareResult,onReset:ne.onReset})})},Ie=(0,s.Z)(()=>({stepperRoot:{padding:0}})),re=ne=>{const{initialUrl:_,generateStepper:se=Ae,variant:j}=ne,ae=(0,n.useApi)(c.h),X=Ie(),z=u({initialUrl:_}),Q=(0,a.useMemo)(()=>se(z.activeFlow,ee),[se,z.activeFlow]),fe=q=>a.createElement(r.Z,null,q.stepLabel,a.createElement(i.Z,null,q.content));return a.createElement(t.InfoCard,{variant:j},a.createElement(d.Z,{classes:{root:X.stepperRoot},activeStep:z.activeStepNumber,orientation:"vertical"},fe(Q.analyze(z,{apis:{catalogImportApi:ae}})),fe(Q.prepare(z,{apis:{catalogImportApi:ae}})),fe(Q.review(z,{apis:{catalogImportApi:ae}})),fe(Q.finish(z,{apis:{catalogImportApi:ae}}))))}},99259:function(H,l,e){"use strict";e.d(l,{B:function(){return g}});var t=e(36964),n=e(86619),r=e(74828),i=e(60905),d=e(2784),s=e(63955),a=e(43736),c=e(49869),o=e(81039);const g=u=>{const{onAnalysis:f,analysisUrl:h="",disablePullRequest:p=!1,exampleLocationUrl:A="https://github.com/backstage/backstage/blob/master/catalog-info.yaml"}=u,R=(0,t.useApi)(t.errorApiRef),y=(0,t.useApi)(a.h),{register:E,handleSubmit:C,formState:{errors:S},watch:T}=(0,s.cI)({mode:"onTouched",defaultValues:{url:h}}),[P,I]=(0,d.useState)(!1),[Z,L]=(0,d.useState)(void 0),D=(0,d.useCallback)(async({url:B})=>{var w,V,G;I(!0);try{const M=await y.analyzeUrl(B);switch(M.type){case"repository":!p&&M.generatedEntities.length>0?f("no-location",B,M):(L("Couldn't generate entities for your repository"),I(!1));break;case"locations":{M.locations.length===1?f("single-location",B,M,{prepareResult:M}):M.locations.length>1?f("multiple-locations",B,M):(L("There are no entities at this location"),I(!1));break}default:{const ce=`Received unknown analysis result of type ${M.type}. Please contact the support team.`;L(ce),I(!1),R.post(new Error(ce));break}}}catch(M){L((G=(V=(w=M==null?void 0:M.data)==null?void 0:w.error)==null?void 0:V.message)!=null?G:M.message),I(!1)}},[y,p,R,f]);return d.createElement("form",{onSubmit:C(D)},d.createElement(n.Z,{...(0,o.dv)(E("url",{required:!0,validate:{httpsValidator:B=>typeof B=="string"&&B.match(/^http[s]?:\/\//)!==null||"Must start with http:// or https://."}})),fullWidth:!0,id:"url",label:"Repository URL",placeholder:A,helperText:"Enter the full path to your entity file to start tracking your component",margin:"normal",variant:"outlined",error:Boolean(S.url),required:!0}),S.url&&d.createElement(r.Z,{error:!0},S.url.message),Z&&d.createElement(r.Z,{error:!0},Z),d.createElement(i.Z,{container:!0,spacing:0},d.createElement(c.a,{disabled:Boolean(S.url)||!T("url"),loading:P,type:"submit"},"Analyze")))}},92125:function(H,l,e){"use strict";e.d(l,{nm:function(){return s},hw:function(){return M}});var t=e(86619),n=e(4614),r=e(88013),i=e(2784),d=e(63955);const s=ce=>{const{name:ue,options:le,required:me,errors:ge,rules:Ae,loading:ee=!1,loadingText:Ie,helperText:re,errorHelperText:ne,textFieldProps:_={}}=ce;return i.createElement(d.Qr,{name:ue,rules:Ae,render:({field:{onChange:se}})=>i.createElement(r.ZP,{loading:ee,loadingText:Ie,options:le||[],autoSelect:!0,freeSolo:!0,onChange:(j,ae)=>se(ae),renderInput:j=>i.createElement(t.Z,{...j,helperText:(ge==null?void 0:ge[ue])&&ne||re,error:Boolean(ge==null?void 0:ge[ue]),margin:"normal",variant:"outlined",required:me,InputProps:{...j.InputProps,endAdornment:i.createElement(i.Fragment,null,ee?i.createElement(n.Z,{color:"inherit",size:"1em"}):null,j.InputProps.endAdornment)},..._})})})},a=ce=>{const{defaultValues:ue,onSubmit:le,render:me}=ce,ge=(0,d.cI)({mode:"onTouched",defaultValues:ue}),{handleSubmit:Ae,watch:ee,control:Ie,register:re,formState:ne,setValue:_}=ge;return i.createElement(d.RV,{...ge},i.createElement("form",{onSubmit:Ae(le)},me({values:ee(),formState:ne,register:re,control:Ie,setValue:_})))};var c=e(94339),o=e(32552),g=e(24579),u=e(60155),f=e.n(u),h=e(23192),p=e(76635),A=e(58742);const R=ce=>{const{repositoryUrl:ue,entities:le,classes:me}=ce,ge=(0,A.t)();return i.createElement(c.Z,{variant:"outlined",className:me==null?void 0:me.card},i.createElement(o.Z,{title:i.createElement("code",null,`${(0,p.trimEnd)(ue,"/")}/${ge}`)}),i.createElement(g.Z,{className:me==null?void 0:me.cardContent},i.createElement(h.CodeSnippet,{text:le.map(Ae=>f().stringify(Ae)).join(`---
`).trim(),language:"yaml"})))},y=ce=>{const{title:ue,description:le,classes:me}=ce;return i.createElement(c.Z,{variant:"outlined",className:me==null?void 0:me.card},i.createElement(o.Z,{title:ue,subheader:"Create a new Pull Request"}),i.createElement(g.Z,{className:me==null?void 0:me.cardContent},i.createElement(h.MarkdownContent,{content:le})))};var E=e(36964),C=e(10179),S=e(53479),T=e(90436),P=e(95544),I=e(74828),Z=e(60905),L=e(79692),D=e(64279),B=e(43736),w=e(49869);const V=(0,L.Z)(ce=>({previewCard:{marginTop:ce.spacing(1)},previewCardContent:{paddingTop:0}}));function G(ce,ue,le){return ce.map(me=>({...me,apiVersion:me.apiVersion,kind:me.kind,metadata:{...me.metadata,name:ue},spec:{...me.spec,...le?{owner:le}:{}}}))}const M=ce=>{var b,F,N,W,Ee,Ce;const{analyzeResult:ue,onPrepare:le,onGoBack:me,renderFormFields:ge}=ce,Ae=V(),ee=(0,E.useApi)(S.catalogApiRef),Ie=(0,E.useApi)(B.h),re=(0,E.useApi)(E.errorApiRef),[ne,_]=(0,i.useState)(!1),[se,j]=(0,i.useState)(),ae=(0,A.t)(),{loading:X,value:z,error:Q}=(0,D.default)(()=>Ie.preparePullRequest(),[Ie.preparePullRequest]);(0,i.useEffect)(()=>{Q&&re.post(Q)},[Q,re]);const{loading:fe,value:q}=(0,D.default)(async()=>(await ee.getEntities({filter:{kind:"group"}})).items.map(Re=>(0,S.humanizeEntityRef)(Re,{defaultKind:"group"})).sort()),k=(0,i.useCallback)(async te=>{_(!0);try{const Re=await Ie.submitPullRequest({repositoryUrl:ue.url,title:te.title,body:te.body,fileContent:G(ue.generatedEntities,te.componentName,te.owner).map($=>f().stringify($)).join(`---
`)});le({type:"repository",url:ue.url,integrationType:ue.integrationType,pullRequest:{url:Re.link},locations:[{target:Re.location,entities:G(ue.generatedEntities,te.componentName,te.owner).map($=>({kind:$.kind,namespace:$.metadata.namespace,name:$.metadata.name}))}]},{notRepeatable:!0})}catch(Re){(0,C.BD)(Re),j(Re.message),_(!1)}},[ue.generatedEntities,ue.integrationType,ue.url,Ie,le]);return i.createElement(i.Fragment,null,i.createElement(T.Z,null,"You entered a link to a ",ue.integrationType," repository but a"," ",i.createElement("code",null,ae)," could not be found. Use this form to open a Pull Request that creates one."),!X&&i.createElement(a,{onSubmit:k,defaultValues:{title:(b=z==null?void 0:z.title)!=null?b:"",body:(F=z==null?void 0:z.body)!=null?F:"",owner:((W=(N=ue.generatedEntities[0])==null?void 0:N.spec)==null?void 0:W.owner)||"",componentName:((Ce=(Ee=ue.generatedEntities[0])==null?void 0:Ee.metadata)==null?void 0:Ce.name)||"",useCodeowners:!1},render:({values:te,formState:Re,register:$,setValue:ie})=>i.createElement(i.Fragment,null,ge({values:te,formState:Re,register:$,setValue:ie,groups:q!=null?q:[],groupsLoading:fe}),i.createElement(P.Z,{marginTop:2},i.createElement(T.Z,{variant:"h6"},"Preview Pull Request")),i.createElement(y,{title:te.title,description:te.body,classes:{card:Ae.previewCard,cardContent:Ae.previewCardContent}}),i.createElement(P.Z,{marginTop:2,marginBottom:1},i.createElement(T.Z,{variant:"h6"},"Preview Entities")),i.createElement(R,{entities:G(ue.generatedEntities,te.componentName,te.owner),repositoryUrl:ue.url,classes:{card:Ae.previewCard,cardContent:Ae.previewCardContent}}),se&&i.createElement(I.Z,{error:!0},se),i.createElement(Z.Z,{container:!0,spacing:0},me&&i.createElement(w.x,{onClick:me,disabled:ne}),i.createElement(w.a,{type:"submit",disabled:Boolean(Re.errors.title||Re.errors.body||Re.errors.owner),loading:ne},"Create PR")))}))}},81039:function(H,l,e){"use strict";e.d(l,{Lm:function(){return r},V9:function(){return n},dv:function(){return t}});function t(i){const{ref:d,...s}=i;return{inputRef:d,...s}}function n(i){var d;return(d=i.getOptionalString("catalog.import.entityFilename"))!=null?d:"catalog-info.yaml"}function r(i){var d;return(d=i.getOptionalString("catalog.import.pullRequestBranchName"))!=null?d:"backstage-integration"}},58742:function(H,l,e){"use strict";e.d(l,{t:function(){return r}});var t=e(36964),n=e(81039);function r(){const i=(0,t.useApi)(t.configApiRef);return(0,n.V9)(i)}},53479:function(H,l,e){"use strict";e.d(l,{AsyncEntityProvider:function(){return P},CATALOG_FILTER_EXISTS:function(){return t.n3},CatalogFilterLayout:function(){return E},EntityKindFilter:function(){return N},EntityKindPicker:function(){return Te},EntityLifecyclePicker:function(){return Tt},EntityListProvider:function(){return re},EntityOwnerPicker:function(){return rt},EntityRefLink:function(){return b},EntityRefLinks:function(){return F},EntitySearchBar:function(){return dn},EntityTable:function(){return Dn},EntityTagPicker:function(){return pn},EntityTypePicker:function(){return kn},FavoriteEntity:function(){return Ke},InspectEntityDialog:function(){return dr},UnregisterEntityDialog:function(){return Nr},UserListPicker:function(){return $a},catalogApiRef:function(){return r},entityRouteParams:function(){return Q},entityRouteRef:function(){return z},getEntityRelations:function(){return ge},getEntitySourceLocation:function(){return Ae},humanizeEntityRef:function(){return fe},starredEntitiesApiRef:function(){return i},useAsyncEntity:function(){return L},useEntity:function(){return Z},useEntityList:function(){return ne},useEntityOwnership:function(){return nt},useEntityPermission:function(){return Le},useEntityTypeFilter:function(){return ie},useRelatedEntities:function(){return Pe},useStarredEntities:function(){return Ge}});var t=e(90524),n=e(36964);const r=(0,n.createApiRef)({id:"plugin.catalog.service"}),i=(0,n.createApiRef)({id:"catalog-react.starred-entities"});var d=e(82394);class s{constructor(){Me(this,"starredEntities",new Set);Me(this,"subscribers",new Set);Me(this,"observable",new ObservableImpl(Ze=>(Ze.next(new Set(this.starredEntities)),this.subscribers.add(Ze),()=>{this.subscribers.delete(Ze)})))}async toggleStarred(Ze){this.starredEntities.delete(Ze)||this.starredEntities.add(Ze);for(const Ue of this.subscribers)Ue.next(new Set(this.starredEntities))}starredEntitie$(){return this.observable}}var a=e(2784),c=e(41156),o=e(60364),g=e(77277),u=e(4190),f=e(95544),h=e(90436),p=e(60905),A=e(36444);const R=ve=>{const Ze=(0,c.Z)(Je=>Je.breakpoints.down("md")),Ue=(0,o.Z)(),[ze,Ye]=(0,a.useState)(!1);return Ze?a.createElement(a.Fragment,null,a.createElement(g.Z,{style:{marginTop:Ue.spacing(1),marginLeft:Ue.spacing(1)},onClick:()=>Ye(!0),startIcon:a.createElement(A.Z,null)},"Filters"),a.createElement(u.ZP,{open:ze,onClose:()=>Ye(!1),anchor:"left",disableAutoFocus:!0,keepMounted:!0,variant:"temporary"},a.createElement(f.Z,{m:2},a.createElement(h.Z,{variant:"h6",component:"h2",style:{marginBottom:Ue.spacing(1)}},"Filters"),ve.children))):a.createElement(p.Z,{item:!0,lg:2},ve.children)},y=ve=>a.createElement(p.Z,{item:!0,xs:12,lg:10},ve.children),E=ve=>a.createElement(p.Z,{container:!0,style:{position:"relative"}},ve.children);E.Filters=R,E.Content=y;var C=e(99688),S=e(76241);const T=(0,S.CT)("entity-context"),P=({children:ve,entity:Ze,loading:Ue,error:ze,refresh:Ye})=>{const Je={entity:Ze,loading:Ue,error:ze,refresh:Ye};return a.createElement(T.Provider,{value:(0,S.EI)({1:Je})},ve)},I=ve=>React.createElement(P,{entity:ve.entity,loading:!Boolean(ve.entity),error:void 0,refresh:void 0,children:ve.children});function Z(){const ve=(0,S.Vt)("entity-context");if(!ve)throw new Error("Entity context is not available");const Ze=ve.atVersion(1);if(!Ze)throw new Error("EntityContext v1 not available");if(!Ze.entity)throw new Error("useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.");return{entity:Ze.entity}}function L(){const ve=(0,S.Vt)("entity-context");if(!ve)throw new Error("Entity context is not available");const Ze=ve.atVersion(1);if(!Ze)throw new Error("EntityContext v1 not available");const{entity:Ue,loading:ze,error:Ye,refresh:Je}=Ze;return{entity:Ue,loading:ze,error:Ye,refresh:Je}}var D=e(76635),B=e(19126),w=e.n(B),V=e(10289),G=e(69294),M=e(48760),ce=e(90736);function ue(ve){return ve.reduce((Ze,Ue)=>({...Ze,...Ue.getCatalogFilters?Ue.getCatalogFilters():{}}),{})}function le(ve){return Ze=>ve.every(Ue=>!Ue.filterEntity||Ue.filterEntity(Ze))}var me=e(48023);function ge(ve,Ze,Ue){var Ye;let ze=((Ye=ve==null?void 0:ve.relations)==null?void 0:Ye.filter(Je=>Je.type===Ze).map(Je=>(0,me.of)(Je.targetRef)))||[];return Ue!=null&&Ue.kind&&(ze=ze.filter(Je=>Je.kind.toLocaleLowerCase("en-US")===Ue.kind.toLocaleLowerCase("en-US"))),ze}function Ae(ve,Ze){var ze;const Ue=(ze=ve.metadata.annotations)==null?void 0:ze[me.M6];if(!!Ue)try{const Ye=(0,me.Ou)(Ue),Je=Ze.byUrl(Ye.target);return{locationTargetUrl:Ye.target,integrationType:Je==null?void 0:Je.type}}catch{return}}function ee(ve,Ze){const Ue=new Set([...getEntityRelations(ve,RELATION_MEMBER_OF,{kind:"group"}),...ve?[getCompoundEntityRef(ve)]:[]].map(stringifyEntityRef)),ze=getEntityRelations(Ze,RELATION_OWNED_BY).map(stringifyEntityRef);for(const Ye of ze)if(Ue.has(Ye))return!0;return!1}const Ie=(0,a.createContext)(void 0),re=({children:ve})=>{const Ze=(0,ce.default)(),Ue=(0,n.useApi)(r),[ze,Ye]=(0,a.useState)({}),Je=(0,V.TH)(),dt=(0,a.useMemo)(()=>{var Ft;return(Ft=w().parse(Je.search,{ignoreQueryPrefix:!0}).filters)!=null?Ft:{}},[Je]),[yt,xt]=(0,a.useState)(()=>({appliedFilters:{},entities:[],backendEntities:[]})),[{loading:St,error:pt},It]=(0,G.default)(async()=>{var Tn;const Ft=(0,D.compact)(Object.values(ze)),Ot=le(Ft),mn=ue(Ft),yn=ue((0,D.compact)(Object.values(yt.appliedFilters))),da=Object.keys(ze).reduce((Mn,Un)=>{const Nn=ze[Un];return Nn!=null&&Nn.toQueryValue&&(Mn[Un]=Nn.toQueryValue()),Mn},{});if((0,D.isEqual)(yn,mn))xt({appliedFilters:ze,backendEntities:yt.backendEntities,entities:yt.backendEntities.filter(Ot)});else{const Mn=await Ue.getEntities({filter:mn});xt({appliedFilters:ze,backendEntities:Mn.items,entities:Mn.items.filter(Ot)})}if(Ze()){const Mn=w().parse(Je.search,{ignoreQueryPrefix:!0}),Un=w().stringify({...Mn,filters:da},{addQueryPrefix:!0,arrayFormat:"repeat"}),Nn=`${window.location.pathname}${Un}`;(Tn=window.history)==null||Tn.replaceState(null,document.title,Nn)}},[Ue,dt,ze,yt],{loading:!0});(0,M.Z)(It,10,[ze]);const bt=(0,a.useCallback)(Ft=>{Ye(Ot=>{const mn=typeof Ft=="function"?Ft(Ot):Ft;return{...Ot,...mn}})},[]),Yt=(0,a.useMemo)(()=>({filters:yt.appliedFilters,entities:yt.entities,backendEntities:yt.backendEntities,updateFilters:bt,queryParameters:dt,loading:St,error:pt}),[yt,bt,dt,St,pt]);return a.createElement(Ie.Provider,{value:Yt},ve)};function ne(){const ve=(0,a.useContext)(Ie);if(!ve)throw new Error("useEntityList must be used within EntityListProvider");return ve}var _=e(64279),se=e(18149),j=e.n(se),ae=e(829),X=e.n(ae);const z=(0,S.uW)("catalog:entity-route-ref",()=>(0,n.createRouteRef)({id:"catalog:entity",params:["namespace","kind","name"]}));function Q(ve){var Ze,Ue;return{kind:ve.kind.toLocaleLowerCase("en-US"),namespace:(Ue=(Ze=ve.metadata.namespace)==null?void 0:Ze.toLocaleLowerCase("en-US"))!=null?Ue:me.zG,name:ve.metadata.name}}function fe(ve,Ze){const Ue=Ze==null?void 0:Ze.defaultKind;let ze,Ye,Je;return"metadata"in ve?(ze=ve.kind,Ye=ve.metadata.namespace,Je=ve.metadata.name):(ze=ve.kind,Ye=ve.namespace,Je=ve.name),Ye===me.zG&&(Ye=void 0),ze=ze.toLocaleLowerCase("en-US"),ze=Ue&&Ue.toLocaleLowerCase("en-US")===ze?void 0:ze,`${ze?`${ze}:`:""}${Ye?`${Ye}/`:""}${Je}`}var q=e(23192),k=e(80030);const b=(0,a.forwardRef)((ve,Ze)=>{var Ft;const{entityRef:Ue,defaultKind:ze,title:Ye,children:Je,...dt}=ve,yt=(0,n.useRouteRef)(z);let xt,St,pt;if(typeof Ue=="string"){const Ot=(0,me.of)(Ue);xt=Ot.kind,St=Ot.namespace,pt=Ot.name}else"metadata"in Ue?(xt=Ue.kind,St=Ue.metadata.namespace,pt=Ue.metadata.name):(xt=Ue.kind,St=Ue.namespace,pt=Ue.name);xt=xt.toLocaleLowerCase("en-US"),St=(Ft=St==null?void 0:St.toLocaleLowerCase("en-US"))!=null?Ft:me.zG;const It={kind:xt,namespace:St,name:pt},bt=fe({kind:xt,namespace:St,name:pt},{defaultKind:ze}),Yt=a.createElement(q.Link,{...dt,ref:Ze,to:yt(It)},Je,!Je&&(Ye!=null?Ye:bt));return Ye?a.createElement(k.ZP,{title:bt},Yt):Yt});function F(ve){const{entityRefs:Ze,defaultKind:Ue,...ze}=ve;return a.createElement(a.Fragment,null,Ze.map((Ye,Je)=>a.createElement(a.Fragment,{key:Je},Je>0&&", ",a.createElement(b,{...ze,entityRef:Ye,defaultKind:Ue}))))}class N{constructor(Ze){this.value=Ze}getCatalogFilters(){return{kind:this.value}}toQueryValue(){return this.value}}class W{constructor(Ze){this.value=Ze}getTypes(){return Array.isArray(this.value)?this.value:[this.value]}getCatalogFilters(){return{"spec.type":this.getTypes()}}toQueryValue(){return this.getTypes()}}class Ee{constructor(Ze){this.values=Ze}filterEntity(Ze){return this.values.every(Ue=>{var ze;return((ze=Ze.metadata.tags)!=null?ze:[]).includes(Ue)})}toQueryValue(){return this.values}}class Ce{constructor(Ze){this.value=Ze}filterEntity(Ze){var ze;const Ue=this.value.toLocaleUpperCase("en-US");return Ze.metadata.name.toLocaleUpperCase("en-US").includes(Ue)||`${Ze.metadata.title}`.toLocaleUpperCase("en-US").includes(Ue)||((ze=Ze.metadata.tags)==null?void 0:ze.join("").toLocaleUpperCase("en-US").indexOf(Ue))!==-1}}class te{constructor(Ze){this.values=Ze}filterEntity(Ze){return this.values.some(Ue=>ge(Ze,me.S4).some(ze=>fe(ze,{defaultKind:"group"})===Ue))}toQueryValue(){return this.values}}class Re{constructor(Ze){this.values=Ze}filterEntity(Ze){return this.values.some(Ue=>{var ze;return((ze=Ze.spec)==null?void 0:ze.lifecycle)===Ue})}toQueryValue(){return this.values}}class ${constructor(Ze,Ue,ze){this.value=Ze,this.isOwnedEntity=Ue,this.isStarredEntity=ze}filterEntity(Ze){switch(this.value){case"owned":return this.isOwnedEntity(Ze);case"starred":return this.isStarredEntity(Ze);default:return!0}}toQueryValue(){return this.value}}function ie(){var Ot;const ve=(0,n.useApi)(r),{filters:{kind:Ze,type:Ue},queryParameters:{type:ze},updateFilters:Ye}=ne(),Je=(0,a.useMemo)(()=>[ze].flat().filter(Boolean),[ze]),[dt,yt]=(0,a.useState)(Je.length?Je:(Ot=Ue==null?void 0:Ue.getTypes())!=null?Ot:[]);(0,a.useEffect)(()=>{Je.length&&yt(Je)},[Je]);const[xt,St]=(0,a.useState)([]),pt=(0,a.useMemo)(()=>Ze==null?void 0:Ze.value,[Ze]),{error:It,loading:bt,value:Yt}=(0,_.default)(async()=>pt?await ve.getEntityFacets({filter:{kind:pt},facets:["spec.type"]}).then(yn=>yn.facets["spec.type"]||[]):[],[pt,ve]),Ft=(0,a.useRef)(Yt);return(0,a.useEffect)(()=>{const mn=Ft.current;if(Ft.current=Yt,bt||!pt||mn===Yt||!Yt)return;const yn=[...new Set(X()(Yt,Tn=>-Tn.count).map(Tn=>Tn.value.toLocaleLowerCase("en-US")))];St(yn);const da=dt.filter(Tn=>yn.includes(Tn));j()(dt,da)||yt(da)},[bt,pt,dt,yt,Yt]),(0,a.useEffect)(()=>{Ye({type:dt.length?new W(dt):void 0})},[dt,Ye]),{loading:bt,error:It,availableTypes:xt,selectedTypes:dt,setSelectedTypes:yt}}const de=20;function Pe(ve,Ze){var xt,St;const Ue=(xt=Ze==null?void 0:Ze.type)==null?void 0:xt.toLocaleLowerCase("en-US"),ze=(St=Ze==null?void 0:Ze.kind)==null?void 0:St.toLocaleLowerCase("en-US"),Ye=(0,n.useApi)(r),{loading:Je,value:dt,error:yt}=(0,_.default)(async()=>{var Ft;const pt=(Ft=ve.relations)==null?void 0:Ft.map(Ot=>({type:Ot.type,target:(0,me.of)(Ot.targetRef)})).filter(Ot=>(!Ue||Ot.type.toLocaleLowerCase("en-US")===Ue)&&(!ze||Ot.target.kind===ze));if(!pt)return[];const It=Object.values((0,D.groupBy)(pt,({target:Ot})=>`${Ot.kind}:${Ot.namespace}`.toLocaleLowerCase("en-US"))),bt=[];for(const Ot of It)bt.push({kind:Ot[0].target.kind,namespace:Ot[0].target.namespace,nameBatches:(0,D.chunk)(Ot.map(mn=>mn.target.name),de)});return(await Promise.all(bt.flatMap(Ot=>Ot.nameBatches.map(mn=>Ye.getEntities({filter:{kind:Ot.kind,"metadata.namespace":Ot.namespace,"metadata.name":mn}}))))).flatMap(Ot=>Ot.items)},[ve,Ue,ze]);return{entities:dt,loading:Je,error:yt}}var He=e(72164);function We(ve){return typeof ve=="string"?ve:(0,me.eE)(ve)}function Ge(){const ve=(0,n.useApi)(i),Ze=(0,He.Z)(ve.starredEntitie$(),new Set),Ue=(0,a.useCallback)(Ye=>Ze.has(We(Ye)),[Ze]),ze=(0,a.useCallback)(Ye=>ve.toggleStarred(We(Ye)).then(),[ve]);return{starredEntities:Ze,toggleStarredEntity:ze,isStarredEntity:Ue}}function Ve(ve){return typeof ve=="string"?ve:(0,me.eE)(ve)}function ut(ve){const Ze=(0,n.useApi)(i),[Ue,ze]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{const Je=Ze.starredEntitie$().subscribe({next(dt){ze(dt.has(Ve(ve)))}});return()=>{Je.unsubscribe()}},[ve,Ze]),{toggleStarredEntity:(0,a.useCallback)(()=>Ze.toggleStarred(Ve(ve)).then(),[ve,Ze]),isStarredEntity:Ue}}function nt(){const ve=(0,n.useApi)(n.identityApiRef),{loading:Ze,value:Ue}=(0,_.default)(async()=>{const{ownershipEntityRefs:Ye}=await ve.getBackstageIdentity();return Ye},[]),ze=(0,a.useMemo)(()=>{const Ye=new Set(Ue!=null?Ue:[]);return Je=>{const dt=ge(Je,me.S4).map(me.eE);for(const yt of dt)if(Ye.has(yt))return!0;return!1}},[Ue]);return(0,a.useMemo)(()=>({loading:Ze,isOwnedEntity:ze}),[Ze,ze])}var At=e(68099);function Le(ve){const{entity:Ze,loading:Ue,error:ze}=L(),{allowed:Ye,loading:Je,error:dt}=(0,At.gI)({permission:ve,resourceRef:Ze?(0,me.eE)(Ze):void 0});return Ue||Je?{loading:!0,allowed:!1}:ze?{loading:!1,allowed:!1,error:ze}:{loading:!1,allowed:Ye,error:dt}}const Te=ve=>{var dt;const{initialFilter:Ze,hidden:Ue}=ve,{updateFilters:ze,queryParameters:{kind:Ye}}=ne(),[Je]=(0,a.useState)((dt=[Ye].flat()[0])!=null?dt:Ze);return(0,a.useEffect)(()=>{ze({kind:Je?new N(Je):void 0})},[Je,ze]),Ue?null:a.createElement(C.Z,{severity:"warning"},"Kind filter not yet available")};var pe=e(79692),Be=e(5806),ot=e(21324),at=e(86619),ke=e(19996),Zt=e(25505),$e=e(38016),Wt=e(88013);const Kt=(0,pe.Z)({input:{}},{name:"CatalogReactEntityLifecyclePicker"}),Qe=a.createElement(Zt.Z,{fontSize:"small"}),tt=a.createElement(ke.Z,{fontSize:"small"}),Tt=()=>{var St,pt;const ve=Kt(),{updateFilters:Ze,backendEntities:Ue,filters:ze,queryParameters:{lifecycles:Ye}}=ne(),Je=(0,a.useMemo)(()=>[Ye].flat().filter(Boolean),[Ye]),[dt,yt]=(0,a.useState)(Je.length?Je:(pt=(St=ze.lifecycles)==null?void 0:St.values)!=null?pt:[]);(0,a.useEffect)(()=>{Je.length&&yt(Je)},[Je]),(0,a.useEffect)(()=>{Ze({lifecycles:dt.length?new Re(dt):void 0})},[dt,Ze]);const xt=(0,a.useMemo)(()=>[...new Set(Ue.map(It=>{var bt;return(bt=It.spec)==null?void 0:bt.lifecycle}).filter(Boolean))].sort(),[Ue]);return xt.length?a.createElement(f.Z,{pb:1,pt:1},a.createElement(h.Z,{variant:"button",component:"label"},"Lifecycle",a.createElement(Wt.ZP,{multiple:!0,options:xt,value:dt,onChange:(It,bt)=>yt(bt),renderOption:(It,{selected:bt})=>a.createElement(Be.Z,{control:a.createElement(ot.Z,{icon:Qe,checkedIcon:tt,checked:bt}),label:It}),size:"small",popupIcon:a.createElement($e.Z,{"data-testid":"lifecycle-picker-expand"}),renderInput:It=>a.createElement(at.Z,{...It,className:ve.input,variant:"outlined"})}))):null},he=(0,pe.Z)({input:{}},{name:"CatalogReactEntityOwnerPicker"}),Ne=a.createElement(Zt.Z,{fontSize:"small"}),_e=a.createElement(ke.Z,{fontSize:"small"}),rt=()=>{var St,pt;const ve=he(),{updateFilters:Ze,backendEntities:Ue,filters:ze,queryParameters:{owners:Ye}}=ne(),Je=(0,a.useMemo)(()=>[Ye].flat().filter(Boolean),[Ye]),[dt,yt]=(0,a.useState)(Je.length?Je:(pt=(St=ze.owners)==null?void 0:St.values)!=null?pt:[]);(0,a.useEffect)(()=>{Je.length&&yt(Je)},[Je]),(0,a.useEffect)(()=>{Ze({owners:dt.length?new te(dt):void 0})},[dt,Ze]);const xt=(0,a.useMemo)(()=>[...new Set(Ue.flatMap(It=>ge(It,me.S4).map(bt=>fe(bt,{defaultKind:"group"}))).filter(Boolean))].sort(),[Ue]);return xt.length?a.createElement(f.Z,{pb:1,pt:1},a.createElement(h.Z,{variant:"button",component:"label"},"Owner",a.createElement(Wt.ZP,{multiple:!0,options:xt,value:dt,onChange:(It,bt)=>yt(bt),renderOption:(It,{selected:bt})=>a.createElement(Be.Z,{control:a.createElement(ot.Z,{icon:Ne,checkedIcon:_e,checked:bt}),label:It}),size:"small",popupIcon:a.createElement($e.Z,{"data-testid":"owner-picker-expand"}),renderInput:It=>a.createElement(at.Z,{...It,className:ve.input,variant:"outlined"})}))):null};var it=e(15223),gt=e(42494),Rt=e(29611),Bt=e(50581),Ht=e(61837),Gt=e(33375),Qt=e(21853);const Nt=(0,pe.Z)(ve=>({searchToolbar:{paddingLeft:0,paddingRight:0},input:{}}),{name:"CatalogReactEntitySearchBar"}),dn=()=>{var Je,dt;const ve=Nt(),{filters:Ze,updateFilters:Ue}=ne(),[ze,Ye]=(0,a.useState)((dt=(Je=Ze.text)==null?void 0:Je.value)!=null?dt:"");return(0,M.Z)(()=>{Ue({text:ze.length?new Ce(ze):void 0})},250,[ze,Ue]),a.createElement(it.Z,{className:ve.searchToolbar},a.createElement(gt.Z,null,a.createElement(Rt.Z,{"aria-label":"search",id:"input-with-icon-adornment",className:ve.input,placeholder:"Search",autoComplete:"off",onChange:yt=>Ye(yt.target.value),value:ze,startAdornment:a.createElement(Bt.Z,{position:"start"},a.createElement(Qt.Z,null)),endAdornment:a.createElement(Bt.Z,{position:"end"},a.createElement(Ht.Z,{"aria-label":"clear search",onClick:()=>Ye(""),edge:"end",disabled:ze.length===0},a.createElement(Gt.Z,null)))})))},wt=Object.freeze({createEntityRefColumn(ve){const{defaultKind:Ze}=ve;function Ue(ze){var Ye;return((Ye=ze.metadata)==null?void 0:Ye.title)||fe(ze,{defaultKind:Ze})}return{title:"Name",highlight:!0,customFilterAndSearch(ze,Ye){return Ue(Ye).includes(ze)},customSort(ze,Ye){return Ue(ze).localeCompare(Ue(Ye))},render:ze=>{var Ye;return a.createElement(b,{entityRef:ze,defaultKind:Ze,title:(Ye=ze.metadata)==null?void 0:Ye.title})}}},createEntityRelationColumn({title:ve,relation:Ze,defaultKind:Ue,filter:ze}){function Ye(dt){return ge(dt,Ze,ze)}function Je(dt){return Ye(dt).map(yt=>fe(yt,{defaultKind:Ue})).join(", ")}return{title:ve,customFilterAndSearch(dt,yt){return Je(yt).includes(dt)},customSort(dt,yt){return Je(dt).localeCompare(Je(yt))},render:dt=>a.createElement(F,{entityRefs:Ye(dt),defaultKind:Ue})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:me.S4,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:me.cz,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:me.cz,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:ve=>a.createElement(q.OverflowTooltip,{text:ve.metadata.description,placement:"bottom-start",line:2}),width:"auto"}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),tn=[wt.createEntityRefColumn({defaultKind:"system"}),wt.createDomainColumn(),wt.createOwnerColumn(),wt.createMetadataDescriptionColumn()],Jt=[wt.createEntityRefColumn({defaultKind:"component"}),wt.createSystemColumn(),wt.createOwnerColumn(),wt.createSpecTypeColumn(),wt.createSpecLifecycleColumn(),wt.createMetadataDescriptionColumn()],Rn=(0,pe.Z)(ve=>({empty:{padding:ve.spacing(2),display:"flex",justifyContent:"center"}})),Dn=ve=>{const{entities:Ze,title:Ue,emptyContent:ze,variant:Ye="gridItem",columns:Je}=ve,dt=Rn(),yt={minWidth:"0",width:"100%"};return Ye==="gridItem"&&(yt.height="calc(100% - 10px)"),a.createElement(q.Table,{columns:Je,title:Ue,style:yt,emptyContent:ze&&a.createElement("div",{className:dt.empty},ze),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense"},data:Ze})};Dn.columns=wt,Dn.systemEntityColumns=tn,Dn.componentEntityColumns=Jt;const nn=(0,pe.Z)({input:{}},{name:"CatalogReactEntityTagPicker"}),Xt=a.createElement(Zt.Z,{fontSize:"small"}),hn=a.createElement(ke.Z,{fontSize:"small"}),pn=()=>{var St,pt;const ve=nn(),{updateFilters:Ze,filters:Ue,queryParameters:{tags:ze}}=ne(),Ye=(0,n.useApi)(r),{value:Je}=(0,_.default)(async()=>{var Yt;const It="metadata.tags",{facets:bt}=await Ye.getEntityFacets({facets:[It],filter:(Yt=Ue.kind)==null?void 0:Yt.getCatalogFilters()});return bt[It].map(({value:Ft})=>Ft)},[Ue.kind]),dt=(0,a.useMemo)(()=>[ze].flat().filter(Boolean),[ze]),[yt,xt]=(0,a.useState)(dt.length?dt:(pt=(St=Ue.tags)==null?void 0:St.values)!=null?pt:[]);return(0,a.useEffect)(()=>{dt.length&&xt(dt)},[dt]),(0,a.useEffect)(()=>{Ze({tags:yt.length?new Ee(yt):void 0})},[yt,Ze]),Je!=null&&Je.length?a.createElement(f.Z,{pb:1,pt:1},a.createElement(h.Z,{variant:"button",component:"label"},"Tags",a.createElement(Wt.ZP,{multiple:!0,options:Je,value:yt,onChange:(It,bt)=>xt(bt),renderOption:(It,{selected:bt})=>a.createElement(Be.Z,{control:a.createElement(ot.Z,{icon:Xt,checkedIcon:hn,checked:bt}),label:It}),size:"small",popupIcon:a.createElement($e.Z,{"data-testid":"tag-picker-expand"}),renderInput:It=>a.createElement(at.Z,{...It,className:ve.input,variant:"outlined"})}))):null};var qt=e(82108),Zn=e.n(qt);const kn=ve=>{var St;const{hidden:Ze,initialFilter:Ue}=ve,ze=(0,n.useApi)(n.alertApiRef),{error:Ye,availableTypes:Je,selectedTypes:dt,setSelectedTypes:yt}=ie();if((0,a.useEffect)(()=>{Ye&&ze.post({message:"Failed to load entity types",severity:"error"}),Ue&&yt([Ue])},[Ye,ze,Ue,yt]),Je.length===0||Ye)return null;const xt=[{value:"all",label:"All"},...Je.map(pt=>({value:pt,label:Zn()(pt)}))];return Ze?null:a.createElement(f.Z,{pb:1,pt:1},a.createElement(q.Select,{label:"Type",items:xt,selected:(St=xt.length>1?dt[0]:void 0)!=null?St:"all",onChange:pt=>yt(pt==="all"?[]:[String(pt)])}))};var Oe=e(15459),K=e(11640),ye=e(28347);const be=(0,Oe.Z)({root:{color:"#f3ba37"}})(K.Z),Ke=ve=>{const{toggleStarredEntity:Ze,isStarredEntity:Ue}=ut(ve.entity);return a.createElement(Ht.Z,{"aria-label":"favorite",color:"inherit",...ve,onClick:()=>Ze()},a.createElement(k.ZP,{title:Ue?"Remove from favorites":"Add to favorites"},Ue?a.createElement(be,null):a.createElement(ye.Z,null)))};var ct=e(8629),lt=e(79249),Ct=e(38724),jt=e(99152),an=e(6487),Xn=e(49429),rn=e(55999),Us=e(72779),Ra=e.n(Us),ho=e(39412);const Lr=ho.Z;function po(ve,Ze){if(ve)return ve.toLocaleLowerCase("en-US");if(Ze)try{return(0,me.of)(Ze).kind.toLocaleLowerCase("en-US")}catch{return}}function Eo(ve,Ze){const Ue=(0,n.useApp)(),ze=po(ve,Ze);return ze&&Ue.getSystemIcon(`kind:${ze}`)||Lr}function Qa(ve){const{kind:Ze,entityRef:Ue,...ze}=ve,Ye=Eo(Ze,Ue);return a.createElement(Ye,{...ze})}const yo=(0,pe.Z)(ve=>({node:{fill:ve.palette.grey[300],stroke:ve.palette.grey[300],"&.primary":{fill:ve.palette.primary.light,stroke:ve.palette.primary.light},"&.secondary":{fill:ve.palette.secondary.light,stroke:ve.palette.secondary.light}},text:{fill:ve.palette.getContrastText(ve.palette.grey[300]),"&.primary":{fill:ve.palette.primary.contrastText},"&.secondary":{fill:ve.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}));function ir(ve){const Ze=(0,n.useApi)(r),Ue=(0,me.eE)(ve),{loading:ze,error:Ye,value:Je}=(0,_.default)(async()=>{const dt=await Ze.getEntityAncestors({entityRef:Ue}),yt=new Array,xt=new Array;for(const St of dt.items){const pt=(0,me.eE)(St.entity),It=pt===dt.rootEntityRef;yt.push({id:pt,root:It,...St.entity});for(const bt of St.parentEntityRefs)xt.push({from:pt,to:bt})}return{nodes:yt,edges:xt}},[Ue]);return{loading:ze,error:Ye,nodes:(Je==null?void 0:Je.nodes)||[],edges:(Je==null?void 0:Je.edges)||[]}}function vo({node:ve}){const Ze=yo(),Ue=(0,V.s0)(),ze=(0,n.useRouteRef)(z),[Ye,Je]=(0,a.useState)(0),[dt,yt]=(0,a.useState)(0),xt=(0,a.useRef)(null);(0,a.useLayoutEffect)(()=>{if(xt.current){let{height:mn,width:yn}=xt.current.getBBox();mn=Math.round(mn),yn=Math.round(yn),(mn!==dt||yn!==Ye)&&(Je(yn),yt(mn))}},[Ye,dt]);const St=10,pt=dt,It=pt+St,bt=It+Ye+St*2,Yt=dt+St*2,Ft=ve.metadata.title||(ve.kind&&ve.metadata.name&&ve.metadata.namespace?fe({kind:ve.kind,name:ve.metadata.name,namespace:ve.metadata.namespace||""}):ve.id),Ot=()=>{Ue(ze({kind:ve.kind,namespace:ve.metadata.namespace||me.zG,name:ve.metadata.name}))};return a.createElement("g",{onClick:Ot,className:Ze.clickable},a.createElement("rect",{className:Ra()(Ze.node,ve.root?"secondary":"primary"),width:bt,height:Yt,rx:10}),a.createElement(Qa,{kind:ve.kind,y:St,x:St,width:pt,height:pt,className:Ra()(Ze.text,ve.root?"secondary":"primary")}),a.createElement("text",{ref:xt,className:Ra()(Ze.text,ve.root?"secondary":"primary"),y:Yt/2,x:It+(Ye+St*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},Ft))}function Ao(ve){const{loading:Ze,error:Ue,nodes:ze,edges:Ye}=ir(ve.entity);return Ze?a.createElement(q.Progress,null):Ue?a.createElement(q.ResponseErrorPanel,{error:Ue}):a.createElement(a.Fragment,null,a.createElement(rn.Z,{variant:"h2"},"Ancestry"),a.createElement(rn.Z,{gutterBottom:!0},"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where"," ",a.createElement(q.Link,{to:"https://backstage.io/docs/features/software-catalog/life-of-an-entity"},"processors emitted")," ","child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations."),a.createElement(f.Z,{mt:4},a.createElement(q.DependencyGraph,{nodes:ze,edges:Ye,renderNode:vo,direction:q.DependencyGraphTypes.Nm.BOTTOM_TOP,zoom:"enable-on-click"})))}var Pn=e(11776),sa=e(38402),Pa=e(86136),lr=e(49378),br=e(54506),Ea=e(94339),cr=e(24579),Or=e(27685);const Ma=(0,pe.Z)(ve=>({root:{display:"flex",flexDirection:"column"},marginTop:{marginTop:ve.spacing(2)},helpIcon:{marginLeft:ve.spacing(1),color:ve.palette.text.disabled},monospace:{fontFamily:"monospace"}}));function zn(ve){const Ze=Ma();return a.createElement(lr.Z,{...ve,primaryTypographyProps:{className:Ze.monospace},secondaryTypographyProps:{className:Ze.monospace}})}function qn(ve){const Ze=Ma();return a.createElement(br.Z,{className:Ze.monospace},ve.children)}function Fa(ve){return a.createElement(f.Z,{mt:2},a.createElement(Ea.Z,{variant:"outlined"},a.createElement(cr.Z,null,a.createElement(h.Z,{variant:"h6",gutterBottom:!0},ve.title,ve.helpLink&&a.createElement(ka,{to:ve.helpLink})),ve.children)))}function ur(ve){if(ve.match(/^url:https?:\/\//))return ve.slice(4);if(ve.match(/^https?:\/\//))return ve}function ca(ve){const[Ze,Ue]=ve.entry,ze=ur(Ue);return a.createElement(sa.Z,null,ve.indent&&a.createElement(Pa.Z,null),a.createElement(zn,{primary:Ze,secondary:ze?a.createElement(q.Link,{to:ze},Ue):Ue}))}function ka(ve){const Ze=Ma();return a.createElement(q.Link,{to:ve.to,className:Ze.helpIcon},a.createElement(Or.Z,{fontSize:"inherit"}))}const Co=(0,pe.Z)({root:{display:"flex",flexDirection:"column"}});function Dr(ve){var xt,St;const Ze=(0,n.useApi)(r),Ue=(0,me.eE)(ve),ze=(xt=ve.metadata.annotations)==null?void 0:xt[me.P1],Ye=(St=ve.metadata.annotations)==null?void 0:St[me.q1],{loading:Je,error:dt,value:yt}=(0,_.default)(async()=>!ze&&!Ye?[]:(await Ze.getEntities({filter:[...ze?[{[`metadata.annotations.${me.P1}`]:ze}]:[],...Ye?[{[`metadata.annotations.${me.q1}`]:Ye}]:[]]})).items,[ze,Ye]);return{loading:Je,error:dt,location:ze,originLocation:Ye,colocatedEntities:yt==null?void 0:yt.filter(pt=>(0,me.eE)(pt)!==Ue)}}function ua(ve){return a.createElement(Pn.Z,{dense:!0},ve.header&&a.createElement(ca,{key:"header",entry:ve.header}),ve.entities.map(Ze=>a.createElement(sa.Z,{key:(0,me.eE)(Ze)},a.createElement(Pa.Z,null,a.createElement(Qa,{kind:Ze.kind})),a.createElement(zn,{primary:a.createElement(b,{entityRef:Ze})}))))}function ya(ve){const{entity:Ze}=ve,{loading:Ue,error:ze,location:Ye,originLocation:Je,colocatedEntities:dt}=Dr(Ze);if(Ue)return a.createElement(q.Progress,null);if(ze)return a.createElement(q.ResponseErrorPanel,{error:ze});if(!Ye&&!Je)return a.createElement(C.Z,{severity:"warning"},"Entity had no location information.");if(!(dt!=null&&dt.length))return a.createElement(C.Z,{severity:"info"},"There were no other entities on this location.");if(Ye===Je)return a.createElement(ua,{entities:dt});const yt=dt.filter(St=>{var pt;return((pt=St.metadata.annotations)==null?void 0:pt[me.P1])===Ye}),xt=dt.filter(St=>{var pt;return((pt=St.metadata.annotations)==null?void 0:pt[me.q1])===Je});return a.createElement(a.Fragment,null,yt.length>0&&a.createElement(ua,{entities:yt,header:["At the same location",Ye]}),xt.length>0&&a.createElement(ua,{entities:xt,header:["At the same origin",Je]}))}function Ns(ve){const Ze=Co();return a.createElement(a.Fragment,null,a.createElement(rn.Z,{variant:"h2"},"Colocated"),a.createElement(rn.Z,null,"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL)."),a.createElement("div",{className:Ze.root},a.createElement(ya,{entity:ve.entity})))}function Br(ve){return Object.fromEntries([...Object.entries(ve)].sort((Ze,Ue)=>Ze[0]<Ue[0]?-1:1))}function So(ve){return a.createElement(a.Fragment,null,a.createElement(rn.Z,{variant:"h2"},"Entity as JSON"),a.createElement(rn.Z,null,"This is the raw entity data as received from the catalog, on JSON form."),a.createElement(rn.Z,null,a.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},a.createElement(q.CodeSnippet,{text:JSON.stringify(Br(ve.entity),void 0,2),language:"json",showCopyCodeButton:!0}))))}var Ro=e(3440),Po=e.n(Ro);const Mr=(0,pe.Z)({root:{display:"flex",flexDirection:"column"}});function Fr(ve){var St,pt;const Ze=Mr(),{apiVersion:Ue,kind:ze,metadata:Ye,spec:Je,relations:dt=[],status:yt={}}=ve.entity,xt=Po()(X()(dt,It=>It.targetRef),"type");return a.createElement(a.Fragment,null,a.createElement(rn.Z,{variant:"h2"},"Overview"),a.createElement("div",{className:Ze.root},a.createElement(Fa,{title:"Identity"},a.createElement(Pn.Z,{dense:!0},a.createElement(sa.Z,null,a.createElement(zn,{primary:"apiVersion",secondary:Ue})),a.createElement(sa.Z,null,a.createElement(zn,{primary:"kind",secondary:ze})),(Je==null?void 0:Je.type)&&a.createElement(sa.Z,null,a.createElement(zn,{primary:"spec.type",secondary:Je.type})),Ye.uid&&a.createElement(sa.Z,null,a.createElement(zn,{primary:"uid",secondary:Ye.uid})),Ye.etag&&a.createElement(sa.Z,null,a.createElement(zn,{primary:"etag",secondary:Ye.etag})))),a.createElement(Fa,{title:"Metadata"},!!Object.keys(Ye.annotations||{}).length&&a.createElement(Pn.Z,{dense:!0,subheader:a.createElement(qn,null,"Annotations",a.createElement(ka,{to:"https://backstage.io/docs/features/software-catalog/well-known-annotations"}))},Object.entries(Ye.annotations).map(It=>a.createElement(ca,{key:It[0],indent:!0,entry:It}))),!!Object.keys(Ye.labels||{}).length&&a.createElement(Pn.Z,{dense:!0,subheader:a.createElement(qn,null,"Labels")},Object.entries(Ye.labels).map(It=>a.createElement(ca,{key:It[0],indent:!0,entry:It}))),!!((St=Ye.tags)!=null&&St.length)&&a.createElement(Pn.Z,{dense:!0,subheader:a.createElement(qn,null,"Tags")},Ye.tags.map((It,bt)=>a.createElement(sa.Z,{key:`${It}-${bt}`},a.createElement(Pa.Z,null),a.createElement(zn,{primary:It}))))),!!dt.length&&a.createElement(Fa,{title:"Relations",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-relations"},Object.entries(xt).map(([It,bt],Yt)=>a.createElement("div",{key:Yt},a.createElement(Pn.Z,{dense:!0,subheader:a.createElement(qn,null,It)},bt.map(Ft=>a.createElement(sa.Z,{key:Ft.targetRef},a.createElement(Pa.Z,null,a.createElement(Qa,{entityRef:Ft.targetRef})),a.createElement(zn,{primary:a.createElement(b,{entityRef:Ft.targetRef})}))))))),!!((pt=yt.items)!=null&&pt.length)&&a.createElement(Fa,{title:"Status",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-statuses"},yt.items.map((It,bt)=>a.createElement("div",{key:bt},a.createElement(h.Z,null,It.level,": ",It.type),a.createElement(f.Z,{ml:2},It.message))))))}var To=e(60155),Io=e.n(To);function Ua(ve){return a.createElement(a.Fragment,null,a.createElement(rn.Z,{variant:"h2"},"Entity as YAML"),a.createElement(rn.Z,null,"This is the raw entity data as received from the catalog, on YAML form."),a.createElement(rn.Z,null,a.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},a.createElement(q.CodeSnippet,{text:Io().stringify(Br(ve.entity)),language:"yaml",showCopyCodeButton:!0}))))}const Na=(0,pe.Z)(ve=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",backgroundColor:ve.palette.background.paper},tabs:{borderRight:`1px solid ${ve.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"}}));function Ta(ve){const{children:Ze,value:Ue,index:ze,...Ye}=ve,Je=Na();return a.createElement("div",{role:"tabpanel",hidden:Ue!==ze,id:`vertical-tabpanel-${ze}`,"aria-labelledby":`vertical-tab-${ze}`,className:Je.tabContents,...Ye},Ue===ze&&a.createElement(f.Z,{pl:3,pr:3},Ze))}function Ia(ve){return{id:`vertical-tab-${ve}`,"aria-controls":`vertical-tabpanel-${ve}`}}function dr(ve){const Ze=Na(),[Ue,ze]=a.useState(0);return(0,a.useEffect)(()=>{ze(0)},[ve.open]),ve.entity?a.createElement(ct.Z,{fullWidth:!0,maxWidth:"xl",open:ve.open,onClose:ve.onClose,"aria-labelledby":"entity-inspector-dialog-title",PaperProps:{className:Ze.fullHeightDialog}},a.createElement(lt.Z,{id:"entity-inspector-dialog-title"},"Entity Inspector"),a.createElement(Ct.Z,{dividers:!0},a.createElement("div",{className:Ze.root},a.createElement(jt.Z,{orientation:"vertical",variant:"scrollable",value:Ue,onChange:(Ye,Je)=>ze(Je),"aria-label":"Inspector options",className:Ze.tabs},a.createElement(an.Z,{label:"Overview",...Ia(0)}),a.createElement(an.Z,{label:"Ancestry",...Ia(1)}),a.createElement(an.Z,{label:"Colocated",...Ia(2)}),a.createElement(an.Z,{label:"Raw JSON",...Ia(3)}),a.createElement(an.Z,{label:"Raw YAML",...Ia(4)})),a.createElement(Ta,{value:Ue,index:0},a.createElement(Fr,{entity:ve.entity})),a.createElement(Ta,{value:Ue,index:1},a.createElement(Ao,{entity:ve.entity})),a.createElement(Ta,{value:Ue,index:2},a.createElement(Ns,{entity:ve.entity})),a.createElement(Ta,{value:Ue,index:3},a.createElement(So,{entity:ve.entity})),a.createElement(Ta,{value:Ue,index:4},a.createElement(Ua,{entity:ve.entity})))),a.createElement(Xn.Z,null,a.createElement(g.Z,{onClick:ve.onClose,color:"primary"},"Close"))):null}var mr=e(85256);function Bn(ve){var Yt;const Ze=(0,n.useApi)(r),Ue=(Yt=ve.metadata.annotations)==null?void 0:Yt[me.q1],ze=ve.metadata.uid,Ye=Ue==="bootstrap:bootstrap",Je=(0,_.default)(async()=>{const Ft=Ze.getLocationByRef(Ue);let Ot;if(!Ue)Ot=Promise.resolve([]);else{const mn=`metadata.annotations.${me.q1}`;Ot=Ze.getEntities({filter:{[mn]:Ue},fields:["kind","metadata.uid","metadata.name","metadata.namespace"]}).then(yn=>yn.items)}return Promise.all([Ft,Ot]).then(([mn,yn])=>({location:mn,colocatedEntities:yn}))},[Ze,ve]),dt=(0,a.useCallback)(async function(){const{location:Ot}=Je.value;await Ze.removeLocationById(Ot.id)},[Ze,Je]),yt=(0,a.useCallback)(async function(){await Ze.removeEntityByUid(ze)},[Ze,ze]);if(Ye)return{type:"bootstrap",location:Ue,deleteEntity:yt};const{loading:xt,error:St,value:pt}=Je;if(xt)return{type:"loading"};if(St)return{type:"error",error:St};const{location:It,colocatedEntities:bt}=pt;return It?{type:"unregister",location:Ue,colocatedEntities:bt.map(me.iB),unregisterLocation:dt,deleteEntity:yt}:{type:"only-delete",deleteEntity:yt}}var _n=e(10179);const Ur=(0,pe.Z)({advancedButton:{fontSize:"0.7em"}}),xo=({entity:ve,onConfirm:Ze})=>{var Yt;const Ue=(0,n.useApi)(n.alertApiRef),ze=(0,n.useApi)(n.configApiRef),Ye=Ur(),Je=Bn(ve),[dt,yt]=(0,a.useState)(!1),[xt,St]=(0,a.useState)(!1),pt=(Yt=ze.getOptionalString("app.title"))!=null?Yt:"Backstage",It=(0,a.useCallback)(async function(){if("unregisterLocation"in Je){St(!0);try{await Je.unregisterLocation(),Ze()}catch(Ot){(0,_n.BD)(Ot),Ue.post({message:Ot.message})}finally{St(!1)}}},[Ue,Ze,Je]),bt=(0,a.useCallback)(async function(){if("deleteEntity"in Je){St(!0);try{await Je.deleteEntity(),Ze()}catch(Ot){(0,_n.BD)(Ot),Ue.post({message:Ot.message})}finally{St(!1)}}},[Ue,Ze,Je]);return Je.type==="loading"?a.createElement(q.Progress,null):Je.type==="error"?a.createElement(q.ResponseErrorPanel,{error:Je.error}):Je.type==="bootstrap"?a.createElement(a.Fragment,null,a.createElement(C.Z,{severity:"info"},'You cannot unregister this entity, since it originates from a protected Backstage configuration (location "',Je.location,'"). If you believe this is in error, please contact the ',pt," ","integrator."),a.createElement(f.Z,{marginTop:2},!dt&&a.createElement(g.Z,{variant:"text",size:"small",color:"primary",className:Ye.advancedButton,onClick:()=>yt(!0)},"Advanced Options"),dt&&a.createElement(a.Fragment,null,a.createElement(rn.Z,null,"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),a.createElement(g.Z,{variant:"contained",color:"secondary",disabled:xt,onClick:bt},"Delete Entity")))):Je.type==="only-delete"?a.createElement(a.Fragment,null,a.createElement(rn.Z,null,"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog."),a.createElement(g.Z,{variant:"contained",color:"secondary",disabled:xt,onClick:bt},"Delete Entity")):Je.type==="unregister"?a.createElement(a.Fragment,null,a.createElement(rn.Z,null,"This action will unregister the following entities:"),a.createElement(rn.Z,{component:"ul"},Je.colocatedEntities.map(Ft=>a.createElement("li",{key:`${Ft.kind}:${Ft.namespace}/${Ft.name}`},a.createElement(b,{entityRef:Ft})))),a.createElement(rn.Z,null,"Located at the following location:"),a.createElement(rn.Z,{component:"ul"},a.createElement("li",null,Je.location)),a.createElement(rn.Z,null,"To undo, just re-register the entity in ",pt,"."),a.createElement(f.Z,{marginTop:2},a.createElement(g.Z,{variant:"contained",color:"secondary",disabled:xt,onClick:It},"Unregister Location"),!dt&&a.createElement(f.Z,{component:"span",marginLeft:2},a.createElement(g.Z,{variant:"text",size:"small",color:"primary",className:Ye.advancedButton,onClick:()=>yt(!0)},"Advanced Options"))),dt&&a.createElement(a.Fragment,null,a.createElement(f.Z,{paddingTop:4,paddingBottom:4},a.createElement(mr.Z,null)),a.createElement(rn.Z,null,"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),a.createElement(g.Z,{variant:"contained",color:"secondary",disabled:xt,onClick:bt},"Delete Entity"))):a.createElement(C.Z,{severity:"error"},"Internal error: Unknown state")},Nr=ve=>{const{open:Ze,onConfirm:Ue,onClose:ze,entity:Ye}=ve;return a.createElement(ct.Z,{open:Ze,onClose:ze},a.createElement(lt.Z,{id:"responsive-dialog-title"},"Are you sure you want to unregister this entity?"),a.createElement(Ct.Z,null,a.createElement(xo,{entity:Ye,onConfirm:Ue})),a.createElement(Xn.Z,null,a.createElement(g.Z,{onClick:ze,color:"primary"},"Cancel")))};var Zo=e(12231),$r=e(25859),Lo=e(47603);const bo=(0,pe.Z)(ve=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:ve.spacing(1,0,1,0)},title:{margin:ve.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:ve.palette.text.primary},menuItem:{minHeight:ve.spacing(6)},groupWrapper:{margin:ve.spacing(1,1,2,1)}}),{name:"CatalogReactUserListPicker"});function Wr(ve){return[{name:"Personal",items:[{id:"owned",label:"Owned",icon:Lo.Z},{id:"starred",label:"Starred",icon:K.Z}]},{name:ve!=null?ve:"Company",items:[{id:"all",label:"All"}]}]}const $a=ve=>{var jr;const{initialFilter:Ze,availableFilters:Ue}=ve,ze=bo(),Je=(jr=(0,n.useApi)(n.configApiRef).getOptionalString("organization.name"))!=null?jr:"Company",{filters:dt,updateFilters:yt,backendEntities:xt,queryParameters:{kind:St,user:pt},loading:It}=ne(),bt=["starred","all"],Yt=Wr(Je).map(Ln=>({...Ln,items:Ln.items.filter(({id:Fn})=>["group","user"].some(Za=>Za===St)?bt.includes(Fn):!Ue||Ue.includes(Fn))})).filter(({items:Ln})=>!!Ln.length),{isStarredEntity:Ft}=Ge(),{isOwnedEntity:Ot,loading:mn}=nt(),yn=It||mn,da=(0,a.useMemo)(()=>new $("owned",Ot,Ft),[Ot,Ft]),Tn=(0,a.useMemo)(()=>new $("starred",Ot,Ft),[Ot,Ft]),Mn=(0,a.useMemo)(()=>[pt].flat()[0],[pt]),[Un,Nn]=(0,a.useState)(Mn!=null?Mn:Ze),Wa=(0,a.useMemo)(()=>xt.filter(le((0,D.compact)(Object.values({...dt,user:void 0})))),[dt,xt]),xa=(0,a.useMemo)(()=>({all:Wa.length,starred:Wa.filter(Ln=>Tn.filterEntity(Ln)).length,owned:Wa.filter(Ln=>da.filterEntity(Ln)).length}),[Wa,Tn,da]);return(0,a.useEffect)(()=>{Mn&&Nn(Mn)},[Mn]),(0,a.useEffect)(()=>{!yn&&!!Un&&Un!=="all"&&xa[Un]===0&&Nn("all")},[yn,xa,Un,Nn]),(0,a.useEffect)(()=>{yt({user:Un?new $(Un,Ot,Ft):void 0})},[Un,Ot,Ft,yt]),a.createElement(Ea.Z,{className:ze.root},Yt.map(Ln=>a.createElement(a.Fragment,{key:Ln.name},a.createElement(h.Z,{variant:"subtitle2",component:"span",className:ze.title},Ln.name),a.createElement(Ea.Z,{className:ze.groupWrapper},a.createElement(Pn.Z,{disablePadding:!0,dense:!0,role:"menu","aria-label":Ln.name},Ln.items.map(Fn=>{var Za,gr;return a.createElement(Zo.Z,{role:"none presentation",key:Fn.id,button:!0,divider:!0,onClick:()=>Nn(Fn.id),selected:Fn.id===((Za=dt.user)==null?void 0:Za.value),className:ze.menuItem,disabled:xa[Fn.id]===0,"data-testid":`user-picker-${Fn.id}`,tabIndex:0,ContainerProps:{role:"menuitem"}},Fn.icon&&a.createElement(Pa.Z,{className:ze.listIcon},a.createElement(Fn.icon,{fontSize:"small"})),a.createElement(lr.Z,null,a.createElement(h.Z,{variant:"body1"},Fn.label," ")),a.createElement($r.Z,null,(gr=xa[Fn.id])!=null?gr:"-"))}))))))},Fl=({children:ve,value:Ze})=>{var yt;const[Ue,ze]=useState((yt=Ze==null?void 0:Ze.filters)!=null?yt:{}),Ye=useCallback(xt=>{ze(St=>{const pt=typeof xt=="function"?xt(St):xt;return{...St,...pt}})},[]),Je=useMemo(()=>({entities:[],backendEntities:[],queryParameters:{}}),[]),dt=useMemo(()=>{var xt,St,pt,It,bt;return{entities:(xt=Ze==null?void 0:Ze.entities)!=null?xt:Je.entities,backendEntities:(St=Ze==null?void 0:Ze.backendEntities)!=null?St:Je.backendEntities,updateFilters:(pt=Ze==null?void 0:Ze.updateFilters)!=null?pt:Ye,filters:Ue,loading:(It=Ze==null?void 0:Ze.loading)!=null?It:!1,queryParameters:(bt=Ze==null?void 0:Ze.queryParameters)!=null?bt:Je.queryParameters,error:Ze==null?void 0:Ze.error}},[Ze,Je,Ue,Ye]);return React.createElement(EntityListContext.Provider,{value:dt},ve)}},39398:function(H,l,e){"use strict";e.r(l),e.d(l,{AboutCard:function(){return L},AboutContent:function(){return I},AboutField:function(){return T}});var t=e(48023),n=e(23192),r=e(36964),i=e(36356),d=e(53479),s=e(79692),a=e(94339),c=e(32552),o=e(61837),g=e(85256),u=e(24579),f=e(52866),h=e(30254),p=e(27604),A=e(2784),R=e(47851),y=e(60905),E=e(90436),C=e(7089);const S=(0,s.Z)(D=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:D.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}}));function T(D){const{label:B,value:w,gridSizes:V,children:G}=D,M=S(),ce=(0,r.useElementFilter)(G,le=>le.getElements()),ue=ce.length>0?ce:A.createElement(E.Z,{variant:"body2",className:M.value},w||"unknown");return A.createElement(y.Z,{item:!0,...V},A.createElement(E.Z,{variant:"h2",className:M.label},B),ue)}const P=(0,s.Z)({description:{wordBreak:"break-word"}});function I(D){var re,ne,_,se,j,ae;const{entity:B}=D,w=P(),V=B.kind.toLocaleLowerCase("en-US")==="system",G=B.kind.toLocaleLowerCase("en-US")==="resource",M=B.kind.toLocaleLowerCase("en-US")==="component",ce=B.kind.toLocaleLowerCase("en-US")==="api",ue=B.kind.toLocaleLowerCase("en-US")==="template",le=B.kind.toLocaleLowerCase("en-US")==="location",me=B.kind.toLocaleLowerCase("en-US")==="group",ge=(0,d.getEntityRelations)(B,t.cz,{kind:"system"}),Ae=(0,d.getEntityRelations)(B,t.cz,{kind:"component"}),ee=(0,d.getEntityRelations)(B,t.cz,{kind:"domain"}),Ie=(0,d.getEntityRelations)(B,t.S4);return A.createElement(y.Z,{container:!0},A.createElement(T,{label:"Description",gridSizes:{xs:12}},A.createElement(E.Z,{variant:"body2",paragraph:!0,className:w.description},((re=B==null?void 0:B.metadata)==null?void 0:re.description)||"No description")),A.createElement(T,{label:"Owner",value:"No Owner",gridSizes:{xs:12,sm:6,lg:4}},Ie.length>0&&A.createElement(d.EntityRefLinks,{entityRefs:Ie,defaultKind:"group"})),(V||ee.length>0)&&A.createElement(T,{label:"Domain",value:"No Domain",gridSizes:{xs:12,sm:6,lg:4}},ee.length>0&&A.createElement(d.EntityRefLinks,{entityRefs:ee,defaultKind:"domain"})),(ce||M||G||ge.length>0)&&A.createElement(T,{label:"System",value:"No System",gridSizes:{xs:12,sm:6,lg:4}},ge.length>0&&A.createElement(d.EntityRefLinks,{entityRefs:ge,defaultKind:"system"})),M&&Ae.length>0&&A.createElement(T,{label:"Parent Component",value:"No Parent Component",gridSizes:{xs:12,sm:6,lg:4}},A.createElement(d.EntityRefLinks,{entityRefs:Ae,defaultKind:"component"})),(ce||M||G||ue||me||le||typeof((ne=B==null?void 0:B.spec)==null?void 0:ne.type)=="string")&&A.createElement(T,{label:"Type",value:(_=B==null?void 0:B.spec)==null?void 0:_.type,gridSizes:{xs:12,sm:6,lg:4}}),(ce||M||typeof((se=B==null?void 0:B.spec)==null?void 0:se.lifecycle)=="string")&&A.createElement(T,{label:"Lifecycle",value:(j=B==null?void 0:B.spec)==null?void 0:j.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),A.createElement(T,{label:"Tags",value:"No Tags",gridSizes:{xs:12,sm:6,lg:4}},(((ae=B==null?void 0:B.metadata)==null?void 0:ae.tags)||[]).map(X=>A.createElement(C.Z,{key:X,size:"small",label:X}))))}const Z=(0,s.Z)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},fullHeightCard:{display:"flex",flexDirection:"column",height:"100%"},gridItemCardContent:{flex:1},fullHeightCardContent:{flex:1}});function L(D){var se,j,ae;const{variant:B}=D,w=Z(),{entity:V}=(0,d.useEntity)(),G=(0,r.useApi)(i.q3),M=(0,r.useApi)(d.catalogApiRef),ce=(0,r.useApi)(r.alertApiRef),ue=(0,r.useRouteRef)(R.jU),le=(0,d.getEntitySourceLocation)(V,G),me=(se=V.metadata.annotations)==null?void 0:se[t.Tf],ge={label:"View Source",disabled:!le,icon:A.createElement(i.nW,{type:le==null?void 0:le.integrationType}),href:le==null?void 0:le.locationTargetUrl},Ae={label:"View TechDocs",disabled:!((j=V.metadata.annotations)!=null&&j["backstage.io/techdocs-ref"])||!ue,icon:A.createElement(h.Z,null),href:ue&&ue({namespace:V.metadata.namespace||t.zG,kind:V.kind,name:V.metadata.name})};let ee="";B==="gridItem"?ee=w.gridItemCard:B==="fullHeight"&&(ee=w.fullHeightCard);let Ie="";B==="gridItem"?Ie=w.gridItemCardContent:B==="fullHeight"&&(Ie=w.fullHeightCardContent);const re=(ae=V.metadata.annotations)==null?void 0:ae[t.P1],ne=(re==null?void 0:re.startsWith("url:"))||(re==null?void 0:re.startsWith("file:")),_=(0,A.useCallback)(async()=>{await M.refreshEntity((0,t.eE)(V)),ce.post({message:"Refresh scheduled",severity:"info"})},[M,ce,V]);return A.createElement(a.Z,{className:ee},A.createElement(c.Z,{title:"About",action:A.createElement(A.Fragment,null,ne&&A.createElement(o.Z,{"aria-label":"Refresh",title:"Schedule entity refresh",onClick:_},A.createElement(f.Z,null)),A.createElement(o.Z,{component:n.Link,"aria-label":"Edit",disabled:!me,title:"Edit Metadata",to:me!=null?me:"#"},A.createElement(p.Z,null))),subheader:A.createElement(n.HeaderIconLinkRow,{links:[ge,Ae]})}),A.createElement(g.Z,null),A.createElement(u.Z,{className:Ie},A.createElement(I,{entity:V})))}},49782:function(H,l,e){"use strict";e.d(l,{K:function(){return f}});var t=e(2784),n=e(79692),r=e(12420),i=e(97580),d=e(73698),s=e(74603),a=e(12231),c=e(53479),o=e(64279),g=e(36964);const u=(0,n.Z)(h=>(0,r.Z)({root:{...h.typography.h4}}));function f(h){var D;const{initialFilter:p="component",allowedKinds:A}=h,R=u(),y=(0,g.useApi)(c.catalogApiRef),{value:E}=(0,o.default)(async()=>await y.getEntityFacets({facets:["kind"]}).then(B=>{var w;return((w=B.facets.kind)==null?void 0:w.map(V=>V.value).sort())||[]})),{updateFilters:C,queryParameters:{kind:S}}=(0,c.useEntityList)(),T=(0,t.useMemo)(()=>{var B;return(B=[S].flat()[0])==null?void 0:B.toLocaleLowerCase("en-US")},[S]),[P,I]=(0,t.useState)(T!=null?T:p);(0,t.useEffect)(()=>{C({kind:P?new c.EntityKindFilter(P):void 0})},[P,C]),(0,t.useEffect)(()=>{T&&I(T)},[T]);const L=[(0,i.Z)(P)].concat((D=E==null?void 0:E.filter(B=>A?A.some(w=>w.toLocaleLowerCase("en-US")===B.toLocaleLowerCase("en-US")):!0))!=null?D:[]).sort().reduce((B,w)=>(B[w.toLocaleLowerCase("en-US")]=w,B),{});return t.createElement(d.Z,{input:t.createElement(s.Z,{value:P}),value:P,onChange:B=>I(B.target.value),classes:R},Object.keys(L).map(B=>t.createElement(a.Z,{value:B,key:B},`${L[B]}s`)))}},30097:function(H,l,e){"use strict";e.d(l,{E:function(){return A}});var t=e(48023),n=e(53479),r=e(27604),i=e(2997),d=e(76635),s=e(2784),a=e(7089),c=e(23192);const o=Object.freeze({createNameColumn(R){function y(E){var C;return((C=E.metadata)==null?void 0:C.title)||(0,n.humanizeEntityRef)(E,{defaultKind:R==null?void 0:R.defaultKind})}return{title:"Name",field:"resolved.name",highlight:!0,customSort({entity:E},{entity:C}){return y(E).localeCompare(y(C))},render:({entity:E})=>{var C;return s.createElement(n.EntityRefLink,{entityRef:E,defaultKind:(R==null?void 0:R.defaultKind)||"Component",title:(C=E.metadata)==null?void 0:C.title})}}},createSystemColumn(){return{title:"System",field:"resolved.partOfSystemRelationTitle",render:({resolved:R})=>s.createElement(n.EntityRefLinks,{entityRefs:R.partOfSystemRelations,defaultKind:"system"})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:R})=>s.createElement(n.EntityRefLinks,{entityRefs:R.ownedByRelations,defaultKind:"group"})}},createSpecTypeColumn(){return{title:"Type",field:"entity.spec.type",hidden:!0}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"entity.spec.lifecycle"}},createMetadataDescriptionColumn(){return{title:"Description",field:"entity.metadata.description",render:({entity:R})=>s.createElement(c.OverflowTooltip,{text:R.metadata.description,placement:"bottom-start"}),width:"auto"}},createTagsColumn(){return{title:"Tags",field:"entity.metadata.tags",cellStyle:{padding:"0px 16px 0px 20px"},render:({entity:R})=>s.createElement(s.Fragment,null,R.metadata.tags&&R.metadata.tags.map(y=>s.createElement(a.Z,{key:y,label:y,size:"small",variant:"outlined",style:{marginBottom:"0px"}})))}}});var g=e(28347),u=e(15459),f=e(11640),h=e(90436);const p=(0,u.Z)({root:{color:"#f3ba37"}})(f.Z),A=R=>{var ue,le,me;const{columns:y,actions:E,tableOptions:C}=R,{isStarredEntity:S,toggleStarredEntity:T}=(0,n.useStarredEntities)(),{loading:P,error:I,entities:Z,filters:L}=(0,n.useEntityList)(),D=(0,s.useMemo)(()=>{var Ae;return[o.createNameColumn({defaultKind:(Ae=L.kind)==null?void 0:Ae.value}),...ge(),o.createMetadataDescriptionColumn(),o.createTagsColumn()];function ge(){var ee;switch((ee=L.kind)==null?void 0:ee.value){case"user":return[];case"domain":case"system":return[o.createOwnerColumn()];case"group":case"location":case"template":return[o.createSpecTypeColumn()];default:return[o.createSystemColumn(),o.createOwnerColumn(),o.createSpecTypeColumn(),o.createSpecLifecycleColumn()]}}},[(ue=L.kind)==null?void 0:ue.value]),B=L.type===void 0,w=(0,d.capitalize)((me=(le=L.user)==null?void 0:le.value)!=null?me:"all");if(I)return s.createElement("div",null,s.createElement(c.WarningPanel,{severity:"error",title:"Could not fetch catalog entities."},s.createElement(c.CodeSnippet,{language:"text",text:I.toString()})));const V=[({entity:ge})=>{var Ie;const Ae=(Ie=ge.metadata.annotations)==null?void 0:Ie[t.l2],ee="View";return{icon:()=>s.createElement(s.Fragment,null,s.createElement(h.Z,{variant:"srOnly"},ee),s.createElement(i.Z,{fontSize:"small"})),tooltip:ee,disabled:!Ae,onClick:()=>{!Ae||window.open(Ae,"_blank")}}},({entity:ge})=>{var Ie;const Ae=(Ie=ge.metadata.annotations)==null?void 0:Ie[t.Tf],ee="Edit";return{icon:()=>s.createElement(s.Fragment,null,s.createElement(h.Z,{variant:"srOnly"},ee),s.createElement(r.Z,{fontSize:"small"})),tooltip:ee,disabled:!Ae,onClick:()=>{!Ae||window.open(Ae,"_blank")}}},({entity:ge})=>{const Ae=S(ge),ee=Ae?"Remove from favorites":"Add to favorites";return{cellStyle:{paddingLeft:"1em"},icon:()=>s.createElement(s.Fragment,null,s.createElement(h.Z,{variant:"srOnly"},ee),Ae?s.createElement(p,null):s.createElement(g.Z,null)),tooltip:ee,onClick:()=>T(ge)}}],G=Z.map(ge=>{const Ae=(0,n.getEntityRelations)(ge,t.cz,{kind:"system"}),ee=(0,n.getEntityRelations)(ge,t.S4);return{entity:ge,resolved:{name:(0,n.humanizeEntityRef)(ge,{defaultKind:"Component"}),ownedByRelationsTitle:ee.map(Ie=>(0,n.humanizeEntityRef)(Ie,{defaultKind:"group"})).join(", "),ownedByRelations:ee,partOfSystemRelationTitle:Ae.map(Ie=>(0,n.humanizeEntityRef)(Ie,{defaultKind:"system"})).join(", "),partOfSystemRelations:Ae}}}),M=(y||D).find(ge=>ge.title==="Type");M&&(M.hidden=!B);const ce=G.length>20;return s.createElement(c.Table,{isLoading:P,columns:y||D,options:{paging:ce,pageSize:20,actionsColumnIndex:-1,loadingType:"linear",showEmptyDataSourceMessage:!P,padding:"dense",pageSizeOptions:[20,50,100],...C},title:`${w} (${Z.length})`,data:G,actions:E||V})};A.columns=o},48711:function(H,l,e){"use strict";e.d(l,{CatalogEntityPage:function(){return Le},CatalogIndexPage:function(){return At},CatalogSearchResultListItem:function(){return C},CatalogTable:function(){return S.E},EntityAboutCard:function(){return Te},EntityDependsOnComponentsCard:function(){return Zt},EntityDependsOnResourcesCard:function(){return Wt},EntityHasComponentsCard:function(){return ot},EntityHasResourcesCard:function(){return ke},EntityHasSubcomponentsCard:function(){return at},EntityHasSystemsCard:function(){return Be},EntityLayout:function(){return ne},EntityLinksCard:function(){return pe},EntityOrphanWarning:function(){return q},EntityProcessingErrorsPanel:function(){return Ee},EntitySwitch:function(){return Re},catalogPlugin:function(){return nt},hasCatalogProcessingErrors:function(){return W},isComponentType:function(){return He},isKind:function(){return Pe},isOrphan:function(){return fe}});var t=e(82394),n=e.n(t),r=e(48023),i=e(76635);async function d({storageApi:Qe}){var _e;const tt=Qe.forBucket("settings"),Tt=Qe.forBucket("starredEntities"),he=tt.snapshot("starredEntities").value;if(!(0,i.isArray)(he))return;const Ne=new Set((_e=Tt.snapshot("entityRefs").value)!=null?_e:[]);he.filter(i.isString).map(rt=>rt.split(":")).filter(rt=>rt.length===4&&rt[0]==="entity").map(([rt,it,gt,Rt])=>(0,r.eE)({kind:it,namespace:gt,name:Rt})).forEach(rt=>Ne.add(rt)),await Tt.set("entityRefs",Array.from(Ne)),await tt.remove("starredEntities")}class s{constructor(tt){Me(this,"settingsStore");Me(this,"starredEntities");Me(this,"subscribers",new Set);Me(this,"observable",new(n())(tt=>(tt.next(new Set(this.starredEntities)),this.subscribers.add(tt),()=>{this.subscribers.delete(tt)})));var Tt;d(tt).then(),this.settingsStore=tt.storageApi.forBucket("starredEntities"),this.starredEntities=new Set((Tt=this.settingsStore.snapshot("entityRefs").value)!=null?Tt:[]),this.settingsStore.observe$("entityRefs").subscribe({next:he=>{var Ne;this.starredEntities=new Set((Ne=he.value)!=null?Ne:[]),this.notifyChanges()}})}async toggleStarred(tt){this.starredEntities.has(tt)?this.starredEntities.delete(tt):this.starredEntities.add(tt),await this.settingsStore.set("entityRefs",Array.from(this.starredEntities))}starredEntitie$(){return this.observable}notifyChanges(){for(const tt of this.subscribers)tt.next(new Set(this.starredEntities))}}var a=e(39398),c=e(49782),o=e(2784),g=e(79692),u=e(38402),f=e(49378),h=e(95544),p=e(7089),A=e(85256),R=e(23192),y=e(73624);const E=(0,g.Z)({flexContainer:{flexWrap:"wrap"},itemText:{width:"100%",wordBreak:"break-all",marginBottom:"1rem"}});function C(Qe){var he,Ne;const tt=Qe.result,Tt=E();return o.createElement(R.Link,{to:tt.location},o.createElement(u.Z,{alignItems:"flex-start",className:Tt.flexContainer},o.createElement(f.Z,{className:Tt.itemText,primaryTypographyProps:{variant:"h6"},primary:(he=Qe.highlight)!=null&&he.fields.title?o.createElement(y.FA,{text:Qe.highlight.fields.title,preTag:Qe.highlight.preTag,postTag:Qe.highlight.postTag}):tt.title,secondary:(Ne=Qe.highlight)!=null&&Ne.fields.text?o.createElement(y.FA,{text:Qe.highlight.fields.text,preTag:Qe.highlight.preTag,postTag:Qe.highlight.postTag}):tt.text}),o.createElement(h.Z,null,tt.kind&&o.createElement(p.Z,{label:`Kind: ${tt.kind}`,size:"small"}),tt.lifecycle&&o.createElement(p.Z,{label:`Lifecycle: ${tt.lifecycle}`,size:"small"}))),o.createElement(A.Z,{component:"li"}))}var S=e(30097),T=e(36964),P=e(53479),I=e(99688),Z=e(10289),L=e(12231),D=e(86136),B=e(61837),w=e(79784),V=e(50758),G=e(49166),M=e(31654),ce=e(43054),ue=e(72415);const le=(0,g.Z)({button:{color:"white"}});function me(Qe){var Qt;const{UNSTABLE_extraContextMenuItems:tt,UNSTABLE_contextMenuOptions:Tt,onUnregisterEntity:he,onInspectEntity:Ne}=Qe,[_e,rt]=(0,o.useState)(),it=le(),gt=(0,P.useEntityPermission)(ue.catalogEntityDeletePermission),Rt=Nt=>{rt(Nt.currentTarget)},Bt=()=>{rt(void 0)},Ht=tt&&[...tt.map(Nt=>o.createElement(L.Z,{key:Nt.title,onClick:()=>{Bt(),Nt.onClick()}},o.createElement(D.Z,null,o.createElement(Nt.Icon,{fontSize:"small"})),o.createElement(f.Z,{primary:Nt.title}))),o.createElement(A.Z,{key:"the divider is here!"})],Gt=(Qt=!gt.allowed||(Tt==null?void 0:Tt.disableUnregister))!=null?Qt:!1;return o.createElement(o.Fragment,null,o.createElement(B.Z,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true","aria-expanded":!!_e,role:"button",onClick:Rt,"data-testid":"menu-button",className:it.button,id:"long-menu"},o.createElement(ce.Z,null)),o.createElement(w.ZP,{open:Boolean(_e),onClose:Bt,anchorEl:_e,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},"aria-labelledby":"long-menu"},o.createElement(V.Z,null,Ht,o.createElement(L.Z,{onClick:()=>{Bt(),he()},disabled:Gt},o.createElement(D.Z,null,o.createElement(G.Z,{fontSize:"small"})),o.createElement(f.Z,{primary:"Unregister entity"})),o.createElement(L.Z,{onClick:()=>{Bt(),Ne()}},o.createElement(D.Z,null,o.createElement(M.Z,{fontSize:"small"})),o.createElement(f.Z,{primary:"Inspect entity"})))))}const ge="plugin.catalog.entityLayoutRoute",Ae=()=>null;(0,T.attachComponentData)(Ae,ge,!0),(0,T.attachComponentData)(Ae,"core.gatherMountPoints",!0);function ee(Qe){const{entity:tt,title:Tt}=Qe;return o.createElement(h.Z,{display:"inline-flex",alignItems:"center",height:"1em",maxWidth:"100%"},o.createElement(h.Z,{component:"span",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},Tt),tt&&o.createElement(P.FavoriteEntity,{entity:tt}))}function Ie(Qe,tt,Tt,he){var it,gt,Rt,Bt,Ht;const Ne=(it=Qe!=null?Qe:he==null?void 0:he.kind)!=null?it:"",_e=(gt=tt!=null?tt:he==null?void 0:he.metadata.namespace)!=null?gt:"";return{headerTitle:`${(Ht=(Bt=(Rt=he==null?void 0:he.metadata.title)!=null?Rt:Tt)!=null?Bt:he==null?void 0:he.metadata.name)!=null?Ht:""}${_e&&_e!==r.zG?` in ${_e}`:""}`,headerType:(()=>{let Gt=Ne.toLocaleLowerCase("en-US");return he&&he.spec&&"type"in he.spec&&(Gt+=" \u2014 ",Gt+=he.spec.type.toLocaleLowerCase("en-US")),Gt})()}}function re(Qe){var he;const{entity:tt}=Qe,Tt=(0,P.getEntityRelations)(tt,r.S4);return o.createElement(o.Fragment,null,Tt.length>0&&o.createElement(R.HeaderLabel,{label:"Owner",value:o.createElement(P.EntityRefLinks,{entityRefs:Tt,defaultKind:"Group",color:"inherit"})}),((he=tt.spec)==null?void 0:he.lifecycle)&&o.createElement(R.HeaderLabel,{label:"Lifecycle",value:tt.spec.lifecycle}))}const ne=Qe=>{var nn,Xt,hn;const{UNSTABLE_extraContextMenuItems:tt,UNSTABLE_contextMenuOptions:Tt,children:he,NotFoundComponent:Ne}=Qe,{kind:_e,namespace:rt,name:it}=(0,T.useRouteRefParams)(P.entityRouteRef),{entity:gt,loading:Rt,error:Bt}=(0,P.useAsyncEntity)(),Ht=(0,Z.TH)(),Gt=(0,T.useElementFilter)(he,pn=>pn.selectByComponentData({key:ge,withStrictError:"Child of EntityLayout must be an EntityLayout.Route"}).getElements().flatMap(({props:qt})=>{if(gt){if(qt.if&&!qt.if(gt))return[]}else return[];return[{path:qt.path,title:qt.title,children:qt.children,tabProps:qt.tabProps}]}),[gt]),{headerTitle:Qt,headerType:Nt}=Ie(_e,rt,it,gt),[dn,wt]=(0,o.useState)(!1),[tn,Jt]=(0,o.useState)(!1),Rn=(0,Z.s0)(),Dn=async()=>{wt(!1),Jt(!1),Rn("/")};return(0,o.useEffect)(()=>{wt(!1),Jt(!1)},[Ht.pathname]),o.createElement(R.Page,{themeId:(hn=(Xt=(nn=gt==null?void 0:gt.spec)==null?void 0:nn.type)==null?void 0:Xt.toString())!=null?hn:"home"},o.createElement(R.Header,{title:o.createElement(ee,{title:Qt,entity:gt}),pageTitleOverride:Qt,type:Nt},gt&&o.createElement(o.Fragment,null,o.createElement(re,{entity:gt}),o.createElement(me,{UNSTABLE_extraContextMenuItems:tt,UNSTABLE_contextMenuOptions:Tt,onUnregisterEntity:()=>wt(!0),onInspectEntity:()=>Jt(!0)}))),Rt&&o.createElement(R.Progress,null),gt&&o.createElement(R.RoutedTabs,{routes:Gt}),Bt&&o.createElement(R.Content,null,o.createElement(I.Z,{severity:"error"},Bt.toString())),!Rt&&!Bt&&!gt&&o.createElement(R.Content,null,Ne||o.createElement(R.WarningPanel,{title:"Entity not found"},"There is no ",_e," with the requested"," ",o.createElement(R.Link,{to:"https://backstage.io/docs/features/software-catalog/references"},"kind, namespace, and name"),".")),o.createElement(P.UnregisterEntityDialog,{open:dn,entity:gt,onConfirm:Dn,onClose:()=>wt(!1)}),o.createElement(P.InspectEntityDialog,{open:tn,entity:gt,onClose:()=>Jt(!1)}))};ne.Route=Ae;var _=e(8629),se=e(79249),j=e(49429),ae=e(77277),X=e(10179);function z(Qe){const{open:tt,onClose:Tt,onConfirm:he,entity:Ne}=Qe,[_e,rt]=(0,o.useState)(!1),it=(0,T.useApi)(P.catalogApiRef),gt=(0,T.useApi)(T.alertApiRef),Rt=async()=>{rt(!0);try{const Bt=Ne.metadata.uid;await it.removeEntityByUid(Bt),he()}catch(Bt){(0,X.BD)(Bt),gt.post({message:Bt.message})}finally{rt(!1)}};return o.createElement(_.Z,{open:tt,onClose:Tt},o.createElement(se.Z,{id:"responsive-dialog-title"},"Are you sure you want to delete this entity?"),o.createElement(j.Z,null,o.createElement(ae.Z,{variant:"contained",color:"secondary",disabled:_e,onClick:Rt},"Delete"),o.createElement(ae.Z,{onClick:Tt,color:"primary"},"Cancel")))}var Q=e(47851);function fe(Qe){var tt,Tt;return((Tt=(tt=Qe==null?void 0:Qe.metadata)==null?void 0:tt.annotations)==null?void 0:Tt["backstage.io/orphan"])==="true"}function q(){const Qe=(0,Z.s0)(),tt=(0,T.useRouteRef)(Q._Z),[Tt,he]=(0,o.useState)(!1),{entity:Ne}=(0,P.useEntity)(),_e=async()=>{he(!1),Qe(tt())};return o.createElement(o.Fragment,null,o.createElement(I.Z,{severity:"warning",onClick:()=>he(!0)},"This entity is not referenced by any location and is therefore not receiving updates. Click here to delete."),o.createElement(z,{open:Tt,entity:Ne,onConfirm:_e,onClose:()=>he(!1)}))}var k=e(90524),b=e(64279);const F=Qe=>Qe.error&&Qe.level==="error"&&Qe.type===k.mk;async function N(Qe,tt){return{items:(await tt.getEntityAncestors({entityRef:Qe})).items.map(Ne=>{var it,gt;return{errors:((gt=(it=Ne.entity.status)==null?void 0:it.items)!=null?gt:[]).filter(F).map(Rt=>Rt.error).filter(Rt=>Boolean(Rt)),entity:Ne.entity}}).filter(Ne=>Ne.errors.length>0)}}async function W(Qe,tt){const Tt=tt.apis.get(P.catalogApiRef);if(!Tt)throw new Error(`No implementation available for ${P.catalogApiRef}`);return(await N((0,r.eE)(Qe),Tt)).items.length>0}function Ee(){const{entity:Qe}=(0,P.useEntity)(),tt=(0,r.eE)(Qe),Tt=(0,T.useApi)(P.catalogApiRef),{loading:he,error:Ne,value:_e}=(0,b.default)(async()=>N(tt,Tt),[tt,Tt]);return Ne?o.createElement(h.Z,{mb:1},o.createElement(R.ResponseErrorPanel,{error:Ne})):he||!_e?null:o.createElement(o.Fragment,null,_e.items.map((rt,it)=>o.createElement(h.Z,{key:it,mb:1},(0,r.eE)(Qe)!==(0,r.eE)(rt.entity)&&o.createElement(h.Z,{p:1},"The error below originates from"," ",o.createElement(P.EntityRefLink,{entityRef:rt.entity})),rt.errors.map((gt,Rt)=>o.createElement(R.ResponseErrorPanel,{key:Rt,error:gt})))))}const Ce="core.backstage.entitySwitch",te=Qe=>null;(0,T.attachComponentData)(te,Ce,!0);const Re=Qe=>{var rt,it;const{entity:tt,loading:Tt}=(0,P.useAsyncEntity)(),he=(0,T.useApiHolder)(),Ne=(0,T.useElementFilter)(Qe.children,gt=>gt.selectByComponentData({key:Ce,withStrictError:"Child of EntitySwitch is not an EntitySwitch.Case"}).getElements().flatMap(Rt=>{var Gt;if(Tt)return[];const{if:Bt,children:Ht}=Rt.props;return tt?[{if:(Gt=Bt==null?void 0:Bt(tt,{apis:he}))!=null?Gt:!0,children:Ht}]:[{if:Bt===void 0,children:Ht}]}),[he,tt,Tt]);return Ne.some(gt=>typeof gt.if=="object"&&"then"in gt.if)?o.createElement($,{results:Ne}):(it=(rt=Ne.find(gt=>gt.if))==null?void 0:rt.children)!=null?it:null};function $({results:Qe}){const{loading:tt,value:Tt}=(0,b.default)(async()=>{var Ne;const he=Qe.map(async({if:_e,children:rt})=>{try{if(await _e)return rt}catch{}return null});return(Ne=(await Promise.all(he)).find(Boolean))!=null?Ne:null},[Qe]);return tt||!Tt?null:Tt}Re.Case=te;function ie(Qe,tt){return Boolean(Qe&&(Qe==null?void 0:Qe.toLocaleLowerCase("en-US"))===(tt==null?void 0:tt.toLocaleLowerCase("en-US")))}function de(Qe,tt){return typeof tt=="string"?ie(Qe,tt):tt.some(Tt=>ie(Qe,Tt))}function Pe(Qe){return tt=>de(tt.kind,Qe)}function He(Qe){return tt=>ie(tt.kind,"component")?de(tt.spec.type,Qe):!1}function We(Qe){return tt=>{var Tt;return de((Tt=tt.metadata)==null?void 0:Tt.namespace,Qe)}}const Ge=null,Ve=P.CatalogFilterLayout.Filters,ut=P.CatalogFilterLayout.Content,nt=(0,T.createPlugin)({id:"catalog",apis:[(0,T.createApiFactory)({api:P.catalogApiRef,deps:{discoveryApi:T.discoveryApiRef,fetchApi:T.fetchApiRef},factory:({discoveryApi:Qe,fetchApi:tt})=>new k.MS({discoveryApi:Qe,fetchApi:tt})}),(0,T.createApiFactory)({api:P.starredEntitiesApiRef,deps:{storageApi:T.storageApiRef},factory:({storageApi:Qe})=>new s({storageApi:Qe})})],routes:{catalogIndex:Q._Z,catalogEntity:P.entityRouteRef},externalRoutes:{createComponent:Q.yw,viewTechDoc:Q.jU}}),At=nt.provide((0,T.createRoutableExtension)({name:"CatalogIndexPage",component:()=>e.e(7758).then(e.bind(e,7758)).then(Qe=>Qe.CatalogPage),mountPoint:Q._Z})),Le=nt.provide((0,T.createRoutableExtension)({name:"CatalogEntityPage",component:()=>e.e(6583).then(e.bind(e,96583)).then(Qe=>Qe.CatalogEntityPage),mountPoint:P.entityRouteRef})),Te=nt.provide((0,T.createComponentExtension)({name:"EntityAboutCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,39398)).then(Qe=>Qe.AboutCard)}})),pe=nt.provide((0,T.createComponentExtension)({name:"EntityLinksCard",component:{lazy:()=>e.e(1959).then(e.bind(e,81959)).then(Qe=>Qe.EntityLinksCard)}})),Be=nt.provide((0,T.createComponentExtension)({name:"EntityHasSystemsCard",component:{lazy:()=>e.e(390).then(e.bind(e,60390)).then(Qe=>Qe.HasSystemsCard)}})),ot=nt.provide((0,T.createComponentExtension)({name:"EntityHasComponentsCard",component:{lazy:()=>e.e(4022).then(e.bind(e,4022)).then(Qe=>Qe.HasComponentsCard)}})),at=nt.provide((0,T.createComponentExtension)({name:"EntityHasSubcomponentsCard",component:{lazy:()=>e.e(8792).then(e.bind(e,38792)).then(Qe=>Qe.HasSubcomponentsCard)}})),ke=nt.provide((0,T.createComponentExtension)({name:"EntityHasResourcesCard",component:{lazy:()=>e.e(1553).then(e.bind(e,11553)).then(Qe=>Qe.HasResourcesCard)}})),Zt=nt.provide((0,T.createComponentExtension)({name:"EntityDependsOnComponentsCard",component:{lazy:()=>e.e(8061).then(e.bind(e,48061)).then(Qe=>Qe.DependsOnComponentsCard)}})),$e=nt.provide((0,T.createComponentExtension)({name:"EntityDependencyOfComponentsCard",component:{lazy:()=>e.e(6235).then(e.bind(e,56235)).then(Qe=>Qe.DependencyOfComponentsCard)}})),Wt=nt.provide((0,T.createComponentExtension)({name:"EntityDependsOnResourcesCard",component:{lazy:()=>e.e(9028).then(e.bind(e,59028)).then(Qe=>Qe.DependsOnResourcesCard)}})),Kt=nt.provide((0,T.createComponentExtension)({name:"RelatedEntitiesCard",component:{lazy:()=>e.e(2426).then(e.bind(e,62426)).then(Qe=>Qe.RelatedEntitiesCard)}}))},47851:function(H,l,e){"use strict";e.d(l,{_Z:function(){return i},jU:function(){return r},yw:function(){return n}});var t=e(36964);const n=(0,t.createExternalRouteRef)({id:"create-component",optional:!0}),r=(0,t.createExternalRouteRef)({id:"view-techdoc",optional:!0,params:["namespace","kind","name"]}),i=(0,t.createRouteRef)({id:"catalog"})},16988:function(H,l,e){"use strict";e.d(l,{XA:function(){return d},Gm:function(){return r}});var t=e(76666),n=e(36964);const r=(0,n.createApiRef)({id:"plugin.circleci.service"}),i="/circleci/api";class d{constructor(a){Me(this,"discoveryApi");Me(this,"proxyPath");var c;this.discoveryApi=a.discoveryApi,this.proxyPath=(c=a.proxyPath)!=null?c:i}async retry(a,c){return(0,t.postBuildActions)("",a,t.BuildAction.RETRY,{circleHost:await this.getApiUrl(),...c.vcs})}async getBuilds({limit:a=10,offset:c=0},o){return(0,t.getBuildSummaries)("",{options:{limit:a,offset:c},vcs:{},circleHost:await this.getApiUrl(),...o})}async getUser(a){return(0,t.getMe)("",{circleHost:await this.getApiUrl(),...a})}async getBuild(a,c){return(0,t.getFullBuild)("",a,{circleHost:await this.getApiUrl(),...c.vcs})}async getApiUrl(){return await this.discoveryApi.getBaseUrl("proxy")+this.proxyPath}}},40388:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return Re},isCircleCIAvailable:function(){return te}});var t=e(2784),n=e(10289),r=e(92617),i=e(61837),d=e(95544),s=e(90436),a=e(60905),c=e(79692),o=e(23192),g=e(27616),u=e(8284),f=e(70660),h=e(38016),p=e(96299),A=e(75951),R=e.n(A);function y($){return $?p.ou.fromISO($).toRelative():""}function E($,ie){if(!$||!ie)return"";const de=p.ou.fromISO($),Pe=p.ou.fromISO(ie),He=p.Xp.fromDateTimes(de,Pe).toDuration();return R()(He.as("milliseconds"),{largest:1})}const C=(0,c.Z)({accordionDetails:{padding:0},button:{order:-1,marginRight:0,marginLeft:"-20px"}}),S=({url:$,name:ie,className:de,action:Pe})=>{const He=C(),[We,Ge]=(0,t.useState)([]);(0,t.useEffect)(()=>{fetch($).then(ut=>ut.json()).then(ut=>{typeof ut!="undefined"&&Ge(ut.map(({message:nt})=>nt))})},[$]);const Ve=E(Pe.start_time,Pe.end_time);return t.createElement(g.Z,{TransitionProps:{unmountOnExit:!0},className:de},t.createElement(u.Z,{expandIcon:t.createElement(h.Z,null),"aria-controls":`panel-${ie}-content`,id:`panel-${ie}-header`,IconButtonProps:{className:He.button}},t.createElement(s.Z,{variant:"button"},ie," (",Ve,")")),t.createElement(f.Z,{className:He.accordionDetails},We.length===0?"Nothing here...":t.createElement("div",{style:{height:"20vh",width:"100%"}},t.createElement(o.LogViewer,{text:We.join(`
`)}))))};var T=e(69001),P=e(77446),I=e(16988);const Z=($,ie)=>{const de=(0,t.useRef)(!1);return{startPolling:async()=>{if(de.current!==!0)for(de.current=!0;de.current===!0;)await $(),await new Promise(We=>setTimeout(We,ie))},stopPolling:()=>{de.current=!1}}};var L=e(53479),D=e(76666),B=e(90193);const w="circleci.com/project-slug";var V=e(36964);const G=$=>$?{retried:"Retried",canceled:"Canceled",infrastructure_fail:"Infra fail",timedout:"Timedout",not_run:"Not run",running:"Running",failed:"Failed",queued:"Queued",scheduled:"Scheduled",not_running:"Not running",no_tests:"No tests",fixed:"Fixed",success:"Success"}[$]:"",M=$=>{const{workflows:ie}=$!=null?$:{};return{id:ie==null?void 0:ie.workflow_id,url:`${$.build_url}/workflows/${ie==null?void 0:ie.workflow_id}`,jobName:ie==null?void 0:ie.job_name,name:ie==null?void 0:ie.workflow_name}},ce=$=>{const ie=(0,B.getOr)({},"all_commit_details[0]",$);return{branchName:String($.branch),commit:{hash:String($.vcs_revision),shortHash:String($.vcs_revision).substr(0,7),committerName:$.committer_name,url:ie.commit_url}}},ue=$=>{var ie,de,Pe,He;return{isUser:((ie=$==null?void 0:$.user)==null?void 0:ie.is_user)||!1,login:((de=$==null?void 0:$.user)==null?void 0:de.login)||"none",name:(Pe=$==null?void 0:$.user)==null?void 0:Pe.name,avatarUrl:(He=$==null?void 0:$.user)==null?void 0:He.avatar_url}},le=($,ie)=>$.map(de=>({id:String(de.build_num),buildName:de.subject?de.subject+(de.retry_of?` (retry of #${de.retry_of})`:""):"",startTime:de.start_time,stopTime:de.stop_time,onRestartClick:()=>typeof de.build_num!="undefined"&&ie(de.build_num),source:ce(de),workflow:M(de),user:ue(de),status:G(de.status),buildUrl:de.build_url})),me=()=>{var He,We;const{entity:$}=(0,L.useEntity)(),[ie,de,Pe]=((We=(He=$.metadata.annotations)==null?void 0:He[w])!=null?We:"").split("/");return{vcs:ie,owner:de,repo:Pe}};function ge($){switch($){case"gh":case"github":return D.GitType.GITHUB;default:return D.GitType.BITBUCKET}}function Ae(){const{repo:$,owner:ie,vcs:de}=me(),Pe=(0,V.useApi)(I.Gm),He=(0,V.useApi)(V.errorApiRef),[We,Ge]=(0,t.useState)(0),[Ve,ut]=(0,t.useState)(0),[nt,At]=(0,t.useState)(10),Le=(0,t.useCallback)(async({limit:ke,offset:Zt})=>{if(ie===""||$===""||de==="")return Promise.reject("No credentials provided");try{return await Pe.getBuilds({limit:ke,offset:Zt},{vcs:{owner:ie,repo:$,type:ge(de)}})}catch($e){return He.post($e),Promise.reject($e)}},[$,ie,de,Pe,He]),Te=async ke=>{try{await Pe.retry(ke,{vcs:{owner:ie,repo:$,type:ge(de)}})}catch(Zt){He.post(Zt)}};(0,t.useEffect)(()=>{Le({limit:1,offset:0}).then(ke=>Ge(ke==null?void 0:ke[0].build_num))},[$,Le]);const{loading:pe,value:Be,retry:ot}=(0,P.Z)(()=>Le({offset:Ve*nt,limit:nt}).then(ke=>le(ke!=null?ke:[],Te)),[Ve,nt,Le]),at=`${ie}/${$}`;return[{page:Ve,pageSize:nt,loading:pe,value:Be,projectName:at,total:We},{getBuilds:Le,setPage:ut,setPageSize:At,restartBuild:Te,retry:ot}]}const ee=1500;function Ie($){const{vcs:ie,repo:de,owner:Pe}=me(),He=(0,V.useApi)(I.Gm),We=(0,V.useApi)(V.errorApiRef),Ge=(0,t.useMemo)(()=>({owner:Pe,repo:de,type:ge(ie)}),[Pe,de,ie]),Ve=(0,t.useCallback)(async()=>{if(Pe===""||de===""||ie==="")return Promise.reject("No credentials provided");try{const Be={vcs:Ge},ot=await He.getBuild($,Be);return Promise.resolve(ot)}catch(Be){return We.post(Be),Promise.reject(Be)}},[Ge,$,He,We]),ut=async()=>{try{await He.retry($,{vcs:Ge})}catch(Be){We.post(Be)}},{loading:nt,value:At,retry:Le}=(0,P.Z)(()=>Ve(),[Ve]),{startPolling:Te,stopPolling:pe}=Z(Ve,ee);return[{loading:nt,value:At,retry:Le},{restartBuild:ut,getBuildWithSteps:Ve,startPolling:Te,stopPolling:pe}]}const re=i.Z,ne=({build:$})=>t.createElement(d.Z,{display:"flex",alignItems:"center"},"#",$==null?void 0:$.build_num," - ",$==null?void 0:$.subject,t.createElement(re,{href:$==null?void 0:$.build_url,target:"_blank"},t.createElement(T.Z,null))),_=(0,c.Z)($=>({neutral:{},failed:{position:"relative","&:after":{pointerEvents:"none",content:'""',position:"absolute",top:0,right:0,left:0,bottom:0,boxShadow:`inset 4px 0px 0px ${$.palette.error.main}`}},running:{position:"relative","&:after":{pointerEvents:"none",content:'""',position:"absolute",top:0,right:0,left:0,bottom:0,boxShadow:`inset 4px 0px 0px ${$.palette.info.main}`}},cardContent:{backgroundColor:$.palette.background.default},success:{position:"relative","&:after":{pointerEvents:"none",content:'""',position:"absolute",top:0,right:0,left:0,bottom:0,boxShadow:`inset 4px 0px 0px ${$.palette.success.main}`}}})),se=($,ie={})=>ie.failed?$.failed:["running","queued"].includes(ie.status)?$.running:ie.status==="success"?$.success:$.neutral,j=({actions:$})=>{const ie=_();return t.createElement(t.Fragment,null,$.map(de=>t.createElement(S,{className:de.failed?ie.failed:ie.success,action:de,name:de.name,url:de.output_url||""})))},ae=({build:$})=>t.createElement(d.Z,null,$&&$.steps&&$.steps.map(({name:ie,actions:de})=>t.createElement(j,{key:ie,name:ie,actions:de}))),X=()=>{const{buildId:$=""}=(0,n.UO)(),ie=_(),[{loading:de,value:Pe},{startPolling:He,stopPolling:We}]=Ie(parseInt($,10));return(0,t.useEffect)(()=>(He(),()=>We()),[$,He,We]),t.createElement(t.Fragment,null,t.createElement(d.Z,{mb:3},t.createElement(o.Breadcrumbs,{"aria-label":"breadcrumb"},t.createElement(o.Link,{to:".."},"All builds"),t.createElement(s.Z,null,"Build details"))),t.createElement(a.Z,{container:!0,spacing:3,direction:"column"},t.createElement(a.Z,{item:!0},t.createElement(o.InfoCard,{className:se(ie,Pe),title:t.createElement(ne,{build:Pe}),cardClassName:ie.cardContent},de?t.createElement(o.Progress,null):t.createElement(ae,{build:Pe})))))};var z=e(43434),Q=e(43266),fe=e(58838),q=e(62833);const k=($="")=>{switch($.toLocaleLowerCase("en-US")){case"queued":case"scheduled":return t.createElement(o.StatusPending,null);case"running":return t.createElement(o.StatusRunning,null);case"failed":return t.createElement(o.StatusError,null);case"success":return t.createElement(o.StatusOK,null);case"canceled":default:return t.createElement(o.StatusWarning,null)}},b=(0,c.Z)($=>({root:{display:"flex","& > *":{margin:$.spacing(1),verticalAlign:"center"}},small:{width:$.spacing(3),height:$.spacing(3)}})),F=({build:$})=>{var He,We;const ie=b(),{user:de,source:Pe}=$;return t.createElement(d.Z,{display:"flex",alignItems:"center",className:ie.root},t.createElement(z.Z,{alt:de.name,src:de.avatarUrl,className:ie.small}),t.createElement(d.Z,null,t.createElement(s.Z,{variant:"button"},Pe==null?void 0:Pe.branchName),t.createElement(s.Z,{variant:"body1"},((He=Pe==null?void 0:Pe.commit)==null?void 0:He.url)!==void 0?t.createElement(o.Link,{to:(We=Pe==null?void 0:Pe.commit)==null?void 0:We.url},Pe==null?void 0:Pe.commit.shortHash):Pe==null?void 0:Pe.commit.shortHash)))},N=[{title:"ID",field:"id",type:"numeric",width:"80px"},{title:"Build",field:"buildName",highlight:!0,width:"20%",render:$=>{const ie=()=>{var Pe;const de=(0,V.useRouteRef)(r.M);return t.createElement(o.Link,{component:q.rU,to:`${de({buildId:$.id})}`},$.buildName?$.buildName:(Pe=$==null?void 0:$.workflow)==null?void 0:Pe.name)};return t.createElement(ie,null)}},{title:"Job",field:"buildName",highlight:!0,render:$=>{var ie,de;return t.createElement(o.Link,{to:(ie=$==null?void 0:$.buildUrl)!=null?ie:""},t.createElement(d.Z,{display:"flex",alignItems:"center"},t.createElement(T.Z,{fontSize:"small",color:"disabled"}),t.createElement(d.Z,{mr:1}),(de=$==null?void 0:$.workflow)==null?void 0:de.jobName))}},{title:"Source",field:"source.commit.hash",highlight:!0,render:$=>t.createElement(F,{build:$})},{title:"Status",field:"status",render:$=>t.createElement(d.Z,{display:"flex",alignItems:"center"},k($.status),t.createElement(d.Z,{mr:1}),t.createElement(s.Z,{variant:"button"},$.status))},{title:"Time",field:"startTime",render:$=>t.createElement(t.Fragment,null,t.createElement(s.Z,{variant:"body2"},"run ",y($==null?void 0:$.startTime)),t.createElement(s.Z,{variant:"body2"},"took ",E($==null?void 0:$.startTime,$==null?void 0:$.stopTime)))},{title:"Workflow",field:"workflow.name"},{title:"Actions",width:"10%",render:$=>t.createElement(i.Z,{onClick:$.onRestartClick},t.createElement(Q.Z,null))}],W=({projectName:$,loading:ie,pageSize:de,page:Pe,retry:He,builds:We,onChangePage:Ge,onChangePageSize:Ve,total:ut})=>t.createElement(o.Table,{isLoading:ie,options:{paging:!0,pageSize:de,padding:"dense",pageSizeOptions:[10,20,50]},totalCount:ut,page:Pe,actions:[{icon:()=>t.createElement(Q.Z,null),tooltip:"Refresh Data",isFreeAction:!0,onClick:()=>He()}],data:We,onPageChange:Ge,onRowsPerPageChange:Ve,title:t.createElement(d.Z,{display:"flex",alignItems:"center"},t.createElement(fe.Z,null),t.createElement(d.Z,{mr:1}),t.createElement(s.Z,{variant:"h6"},$)),columns:N}),Ee=()=>{const[{total:$,loading:ie,value:de,projectName:Pe,page:He,pageSize:We},{setPage:Ge,retry:Ve,setPageSize:ut}]=Ae();return t.createElement(W,{total:$,loading:ie,retry:Ve,builds:de!=null?de:[],projectName:Pe,page:He,onChangePage:Ge,pageSize:We,onChangePageSize:ut})},Ce=()=>t.createElement(a.Z,{container:!0,spacing:3,direction:"column"},t.createElement(a.Z,{item:!0},t.createElement(Ee,null))),te=$=>{var ie;return Boolean((ie=$.metadata.annotations)==null?void 0:ie[w])},Re=()=>{const{entity:$}=(0,L.useEntity)();return te($)?t.createElement(n.Z5,null,t.createElement(n.AW,{path:"/",element:t.createElement(Ce,null)}),t.createElement(n.AW,{path:`${r.M.path}`,element:t.createElement(X,null)})):t.createElement(o.MissingAnnotationEmptyState,{annotation:w})}},92617:function(H,l,e){"use strict";e.d(l,{B:function(){return n},M:function(){return r}});var t=e(36964);const n=(0,t.createRouteRef)({id:"circle-ci"}),r=(0,t.createSubRouteRef)({id:"circle-ci/build",parent:n,path:"/:buildId"})},89932:function(H,l,e){"use strict";e.d(l,{K:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.cloudbuild.service"})},66051:function(H,l,e){"use strict";e.d(l,{CloudbuildClient:function(){return n},cloudbuildApiRef:function(){return t.K}});var t=e(89932);class n{constructor(i){this.googleAuthApi=i}async reRunWorkflow({projectId:i,runId:d}){await fetch(`https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(i)}/builds/${encodeURIComponent(d)}:retry`,{headers:new Headers({Accept:"*/*",Authorization:`Bearer ${await this.getToken()}`})})}async listWorkflowRuns({projectId:i}){return await(await fetch(`https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(i)}/builds`,{headers:new Headers({Accept:"*/*",Authorization:`Bearer ${await this.getToken()}`})})).json()}async getWorkflow({projectId:i,id:d}){return await(await fetch(`https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(i)}/builds/${encodeURIComponent(d)}`,{headers:new Headers({Accept:"*/*",Authorization:`Bearer ${await this.getToken()}`})})).json()}async getWorkflowRun({projectId:i,id:d}){return await(await fetch(`https://cloudbuild.googleapis.com/v1/projects/${encodeURIComponent(i)}/builds/${encodeURIComponent(d)}`,{headers:new Headers({Accept:"*/*",Authorization:`Bearer ${await this.getToken()}`})})).json()}async getToken(){return this.googleAuthApi.getAccessToken("https://www.googleapis.com/auth/cloud-platform")}}},93791:function(H,l,e){"use strict";e.r(l),e.d(l,{LatestWorkflowRunCard:function(){return p},LatestWorkflowsForBranchCard:function(){return A}});var t=e(2784),n=e(4185),r=e(723),i=e(53479),d=e(79079),s=e(79692),a=e(67358),c=e(69001),o=e(80457),g=e(23192),u=e(36964);const f=(0,s.Z)({externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}}),h=({error:R,loading:y,lastRun:E,branch:C})=>{var T;const S=f();return R?t.createElement(g.WarningPanel,null,"Couldn't fetch latest ",C," run"):y?t.createElement(a.Z,null):t.createElement(g.StructuredMetadataTable,{metadata:{status:t.createElement(t.Fragment,null,t.createElement(d.L,{status:E.status})),message:E.message,url:t.createElement(g.Link,{to:(T=E.googleUrl)!=null?T:""},"See more on Google"," ",t.createElement(c.Z,{className:S.externalLinkIcon}))}})},p=({branch:R="master"})=>{var Z,L;const{entity:y}=(0,i.useEntity)(),E=(0,u.useApi)(u.errorApiRef),C=((Z=y==null?void 0:y.metadata.annotations)==null?void 0:Z[o.P])||"",[{runs:S,loading:T,error:P}]=(0,n.x)({projectId:C}),I=(L=S==null?void 0:S[0])!=null?L:{};return(0,t.useEffect)(()=>{P&&E.post(P)},[P,E]),t.createElement(g.InfoCard,{title:`Last ${R} build`},t.createElement(h,{error:P,loading:T,branch:R,lastRun:I}))},A=({branch:R="master"})=>{const{entity:y}=(0,i.useEntity)();return t.createElement(g.InfoCard,{title:`Last ${R} build`},t.createElement(r.y,{entity:y}))}},38895:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return G},isCloudbuildAvailable:function(){return V}});var t=e(2784),n=e(53479),r=e(10289),i=e(68900),d=e(79692),s=e(67358),a=e(95544),c=e(90436),o=e(91256),g=e(27556),u=e(37390),f=e(97485),h=e(89571),p=e(15584),A=e(86689),R=e(69001),y=e(19126),E=e.n(y),C=e(80457),S=e(79079),T=e(64279),P=e(66051),I=e(36964);const Z=M=>{const ce=(0,I.useApi)(P.cloudbuildApiRef),{id:ue}=(0,r.UO)();return(0,T.default)(async()=>M?ce.getWorkflowRun({projectId:M,id:ue}):Promise.reject("No projectId provided"),[M,ue])};var L=e(23192);const D=(0,d.Z)(M=>({root:{maxWidth:720,margin:M.spacing(2)},title:{padding:M.spacing(1,0,2,0)},table:{padding:M.spacing(1)},accordionDetails:{padding:0},button:{order:-1,marginRight:0,marginLeft:"-20px"},externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}})),B=({entity:M})=>{var Ie,re,ne,_,se,j,ae;const{value:ce,loading:ue,error:le}=(0,C.S)(M),[me]=(ce!=null?ce:"/").split("/"),ge=Z(me),Ae=D();if(le)return t.createElement(L.WarningPanel,{title:"Error:"},"Failed to load build, ",le.message,".");if(ue)return t.createElement(s.Z,null);if(((Ie=ge.value)==null?void 0:Ie.logUrl)===void 0)return t.createElement(s.Z,null);const ee=E().parse(new URL((re=ge.value)==null?void 0:re.logUrl).search,{ignoreQueryPrefix:!0}).project;return t.createElement("div",{className:Ae.root},t.createElement(a.Z,{mb:3},t.createElement(L.Breadcrumbs,{"aria-label":"breadcrumb"},t.createElement(L.Link,{to:".."},"Build history"),t.createElement(c.Z,null,"Build details"))),t.createElement(o.Z,{component:g.Z,className:Ae.table},t.createElement(u.Z,null,t.createElement(f.Z,null,t.createElement(h.Z,null,t.createElement(p.Z,null,t.createElement(c.Z,{noWrap:!0},"Branch")),t.createElement(p.Z,null,(ne=ge.value)==null?void 0:ne.substitutions.BRANCH_NAME)),t.createElement(h.Z,null,t.createElement(p.Z,null,t.createElement(c.Z,{noWrap:!0},"Message")),t.createElement(p.Z,null,(_=ge.value)==null?void 0:_.substitutions.REPO_NAME)),t.createElement(h.Z,null,t.createElement(p.Z,null,t.createElement(c.Z,{noWrap:!0},"Commit ID")),t.createElement(p.Z,null,(se=ge.value)==null?void 0:se.substitutions.COMMIT_SHA)),t.createElement(h.Z,null,t.createElement(p.Z,null,t.createElement(c.Z,{noWrap:!0},"Status")),t.createElement(p.Z,null,t.createElement(S.L,{status:(j=ge.value)==null?void 0:j.status}))),t.createElement(h.Z,null,t.createElement(p.Z,null,t.createElement(c.Z,{noWrap:!0},"Service Account")),t.createElement(p.Z,null,`${ee}`,"@cloudbuild.gserviceaccount.com")),t.createElement(h.Z,null,t.createElement(p.Z,null,t.createElement(c.Z,{noWrap:!0},"Links")),t.createElement(p.Z,null,((ae=ge.value)==null?void 0:ae.logUrl)&&t.createElement(A.Z,{target:"_blank",href:ge.value.logUrl},"Workflow runs on Google"," ",t.createElement(R.Z,{className:Ae.externalLinkIcon}))))))))};var w=e(723);const V=M=>{var ce;return Boolean((ce=M.metadata.annotations)==null?void 0:ce[C.P])},G=()=>{const{entity:M}=(0,n.useEntity)();return V(M)?t.createElement(r.Z5,null,t.createElement(r.AW,{path:"/",element:t.createElement(w.y,{entity:M})}),t.createElement(r.AW,{path:`${i.L.path}`,element:t.createElement(B,{entity:M})})):t.createElement(L.MissingAnnotationEmptyState,{annotation:C.P})}},79079:function(H,l,e){"use strict";e.d(l,{L:function(){return r}});var t=e(2784),n=e(23192);const r=({status:i})=>{if(i===void 0)return null;switch(i.toLocaleLowerCase("en-US")){case"queued":return t.createElement(t.Fragment,null,t.createElement(n.StatusPending,null)," Queued");case"working":return t.createElement(t.Fragment,null,t.createElement(n.StatusRunning,null)," In progress");case"success":return t.createElement(t.Fragment,null,t.createElement(n.StatusOK,null)," Completed");case"cancelled":return t.createElement(t.Fragment,null,t.createElement(n.StatusAborted,null)," Cancelled");case"failure":return t.createElement(t.Fragment,null,t.createElement(n.StatusError,null)," Failed");default:return t.createElement(t.Fragment,null,t.createElement(n.StatusPending,null)," Pending")}}},723:function(H,l,e){"use strict";e.d(l,{y:function(){return S}});var t=e(2784),n=e(95544),r=e(90436),i=e(86689),d=e(80030),s=e(61837),a=e(43266),c=e(35775),o=e(62833),g=e(4185),u=e(79079),f=e(26883),h=e(80457),p=e(68900),A=e(96299),R=e(23192),y=e(36964);const E=[{title:"Status",width:"150px",render:T=>t.createElement(n.Z,{display:"flex",alignItems:"center"},t.createElement(u.L,{status:T.status}))},{title:"Build",field:"id",type:"numeric",width:"150px",render:T=>{var P;return t.createElement(r.Z,{variant:"body2",noWrap:!0},(P=T.id)==null?void 0:P.substring(0,8))}},{title:"Source",field:"source",highlight:!0,width:"200px",render:T=>{const P=()=>{const I=(0,y.useRouteRef)(p.L);return t.createElement(i.Z,{component:o.rU,"data-testid":"cell-source",to:I({id:T.id})},T.message)};return t.createElement(P,null)}},{title:"Ref",render:T=>{var P;return t.createElement(r.Z,{variant:"body2",noWrap:!0},(P=T.substitutions)==null?void 0:P.BRANCH_NAME)}},{title:"Commit",render:T=>{var P;return t.createElement(r.Z,{variant:"body2",noWrap:!0},(P=T.substitutions)==null?void 0:P.SHORT_SHA)}},{title:"Created",render:T=>{var P;return t.createElement(r.Z,{"data-testid":"cell-created",variant:"body2",noWrap:!0},A.ou.fromISO((P=T.createTime)!=null?P:A.ou.now().toISO()).toFormat("dd-MM-yyyy hh:mm:ss"))}},{title:"Actions",render:T=>t.createElement(d.ZP,{title:"Rerun workflow"},t.createElement(s.Z,{"data-testid":"action-rerun",onClick:T.rerun},t.createElement(a.Z,null))),width:"10%"}],C=({projectName:T,loading:P,pageSize:I,page:Z,retry:L,runs:D,onChangePage:B,onChangePageSize:w,total:V})=>t.createElement(R.Table,{isLoading:P,options:{paging:!0,pageSize:I,padding:"dense"},totalCount:V,page:Z,actions:[{icon:()=>t.createElement(f.Z,null),tooltip:"Reload workflow runs",isFreeAction:!0,onClick:()=>L()}],data:D!=null?D:[],onPageChange:B,onRowsPerPageChange:w,style:{width:"100%"},title:t.createElement(n.Z,{display:"flex",alignItems:"center"},t.createElement(c.Z,null),t.createElement(n.Z,{mr:1}),t.createElement(r.Z,{variant:"h6"},T)),columns:E}),S=({entity:T})=>{const{value:P,loading:I}=(0,h.S)(T),[Z]=(P!=null?P:"/").split("/"),[L,{retry:D,setPage:B,setPageSize:w}]=(0,g.x)({projectId:Z});return t.createElement(C,{...L,loading:I||L.loading,retry:D,onChangePageSize:w,onChangePage:B})}},80457:function(H,l,e){"use strict";e.d(l,{P:function(){return n},S:function(){return r}});var t=e(64279);const n="google.com/cloudbuild-project-slug",r=i=>{const{value:d,loading:s,error:a}=(0,t.default)(async()=>{var c,o;return(o=(c=i==null?void 0:i.metadata.annotations)==null?void 0:c[n])!=null?o:""});return{value:d,loading:s,error:a}}},4185:function(H,l,e){"use strict";e.d(l,{x:function(){return d}});var t=e(2784),n=e(77446),r=e(89932),i=e(36964);function d({projectId:s}){const a=(0,i.useApi)(r.K),c=(0,i.useApi)(i.errorApiRef),[o,g]=(0,t.useState)(0),[u,f]=(0,t.useState)(0),[h,p]=(0,t.useState)(5),{loading:A,value:R,retry:y,error:E}=(0,n.Z)(async()=>a.listWorkflowRuns({projectId:s}).then(C=>(g(C.builds.length),C.builds.map(S=>({message:S.substitutions.REPO_NAME,id:S.id,rerun:async()=>{try{await a.reRunWorkflow({projectId:s,runId:S.id})}catch(T){c.post(T)}},substitutions:S.substitutions,source:{branchName:S.substitutions.REPO_NAME,commit:{hash:S.substitutions.COMMIT_SHA,url:S.substitutions.REPO_NAME}},status:S.status,url:S.logUrl,googleUrl:S.logUrl,createTime:S.createTime})))),[u,h,s]);return[{page:u,pageSize:h,loading:A,runs:R,projectName:`${s}`,total:o,error:E},{runs:R,setPage:f,setPageSize:p,retry:y}]}},68900:function(H,l,e){"use strict";e.d(l,{L:function(){return r},_:function(){return n}});var t=e(36964);const n=(0,t.createRouteRef)({id:"cloudbuild"}),r=(0,t.createSubRouteRef)({id:"cloudbuild/run",path:"/:id",parent:n})},94051:function(H,l,e){"use strict";e.d(l,{F:function(){return i},Q:function(){return d}});var t=e(48023),n=e(10179),r=e(36964);const i=(0,r.createApiRef)({id:"plugin.code-coverage.service"});class d{constructor(a){Me(this,"url","");this.discovery=a}async fetch(a,c){var g;this.url||(this.url=await this.discovery.getBaseUrl("code-coverage"));const o=await fetch(`${this.url}${a}`,c);if(!o.ok)throw await n.VL.fromResponse(o);return(g=o.headers.get("content-type"))!=null&&g.includes("application/json")?await o.json():await o.text()}async getCoverageForEntity(a){const c=encodeURIComponent((0,t.eE)(a));return await this.fetch(`/report?entity=${c}`)}async getFileContentFromEntity(a,c){const o=encodeURIComponent((0,t.eE)(a));return await this.fetch(`/file-content?entity=${o}&path=${encodeURI(c)}`)}async getCoverageHistoryForEntity(a,c){const o=encodeURIComponent((0,t.eE)(a)),g=c&&c>0;return await this.fetch(`/history?entity=${o}${g?`&limit=${encodeURIComponent(String(c))}`:""}`)}}},10136:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return se},isCodeCoverageAvailable:function(){return _}});var t=e(2784),n=e(53479),r=e(79692),i=e(94339),d=e(32552),s=e(24579),a=e(95544),c=e(90436),o=e(60377),g=e(6952),u=e(72643),f=e(99688),h=e(64279),p=e(29494),A=e(94051),R=e(23192),y=e(36964),E=e(96299);const C=(0,r.Z)(j=>({trendDown:{color:j.palette.status.warning},trendUp:{color:j.palette.status.ok}})),S=(j,ae)=>{switch(!0){case j>0:return t.createElement(u.Z,{className:ae.trendUp});case j<0:return t.createElement(o.Z,{className:ae.trendDown});case j===0:default:return t.createElement(g.Z,null)}};function T(j){return E.ou.fromMillis(Number(j)).toLocaleString(E.ou.DATETIME_MED)}const P=()=>{const{entity:j}=(0,n.useEntity)(),ae=(0,y.useApi)(A.F),{loading:X,error:z,value:Q}=(0,h.default)(async()=>await ae.getCoverageHistoryForEntity({kind:j.kind,namespace:j.metadata.namespace||"default",name:j.metadata.name})),fe=C();if(X)return t.createElement(R.Progress,null);if(z)return t.createElement(R.ResponseErrorPanel,{error:z});if(!Q)return t.createElement(f.Z,{severity:"warning"},"No history found.");if(!Q.history.length)return t.createElement(i.Z,null,t.createElement(d.Z,{title:"History"}),t.createElement(s.Z,null,"No coverage history found"));const q=Q.history[0],[k]=Q.history.slice(-1),b=W=>q[W].percentage?(k[W].percentage-q[W].percentage)/q[W].percentage*100:0,F=b("line"),N=b("branch");return t.createElement(i.Z,null,t.createElement(d.Z,{title:"History"}),t.createElement(s.Z,null,t.createElement(a.Z,{px:6,display:"flex"},t.createElement(a.Z,{display:"flex",mr:4},S(F,fe),t.createElement(c.Z,null,"Current line: ",k.line.percentage,"%",t.createElement("br",null),"(",Math.floor(F),"% change over ",Q.history.length," ","builds)")),t.createElement(a.Z,{display:"flex"},S(N,fe),t.createElement(c.Z,null,"Current branch: ",k.branch.percentage,"%",t.createElement("br",null),"(",Math.floor(N),"% change over"," ",Q.history.length," builds)"))),t.createElement(p.h2,{width:"100%",height:300},t.createElement(p.wW,{data:Q.history,margin:{right:48,top:32}},t.createElement(p.q3,{strokeDasharray:"3 3"}),t.createElement(p.Kc,{dataKey:"timestamp",tickFormatter:T,reversed:!0}),t.createElement(p.B2,{dataKey:"line.percentage"}),t.createElement(p.B2,{dataKey:"branch.percentage"}),t.createElement(p.u,{labelFormatter:T}),t.createElement(p.De,null),t.createElement(p.x1,{type:"monotone",dataKey:"branch.percentage",stroke:"#8884d8"}),t.createElement(p.x1,{type:"monotone",dataKey:"line.percentage",stroke:"#82ca9d"})))))};var I=e(80030),Z=e(35111),L=e(30254),D=e(27556);const B=(0,r.Z)(j=>({lineNumberCell:{color:`${j.palette.grey[500]}`,fontSize:"90%",borderRight:`1px solid ${j.palette.grey[500]}`,paddingRight:j.spacing(1),textAlign:"right"},hitCountCell:{width:"50px",borderRight:`1px solid ${j.palette.grey[500]}`,textAlign:"center",color:"white",paddingLeft:j.spacing(1),paddingRight:j.spacing(1)},countRoundedRectangle:{borderRadius:"45px",fontSize:"90%",padding:"1px 3px 1px 3px",width:"50px"},hitCountRoundedRectangle:{backgroundColor:`${j.palette.success.main}`},notHitCountRoundedRectangle:{backgroundColor:`${j.palette.error.main}`},codeLine:{paddingLeft:`${j.spacing(1)}`,whiteSpace:"pre",fontSize:"90%"},hitCodeLine:{backgroundColor:`${j.palette.success.main}`},notHitCodeLine:{backgroundColor:`${j.palette.error.main}`}})),w=({lineNumber:j,lineContent:ae,lineHits:X=null})=>{const z=B(),Q=[z.countRoundedRectangle],fe=[z.codeLine];let q=null;return X!==null&&(X>0?(Q.push(z.hitCountRoundedRectangle),fe.push(z.hitCodeLine)):(Q.push(z.notHitCountRoundedRectangle),fe.push(z.notHitCodeLine)),q=t.createElement("div",{className:Q.join(" ")},X)),t.createElement("tr",null,t.createElement("td",{className:z.lineNumberCell},j),t.createElement("td",{className:z.hitCountCell},q),t.createElement("td",{className:fe.join(" "),dangerouslySetInnerHTML:{__html:ae}}))};var V=e(36811),G=e.n(V);const M=(j,ae)=>{const X=[];let z,Q=j;return j==="m"&&(Q="objectivec"),j==="tsx"&&(Q="typescript"),j==="jsx"&&(Q="javascript"),j==="kt"&&(Q="kotlin"),ae.forEach(fe=>{const q=G().highlight(Q,fe,!0,z);z=q.top,X.push(q.value)}),X},ce=(0,r.Z)(j=>({paper:{margin:"auto",top:"2em",width:"80%",border:"2px solid #000",boxShadow:j.shadows[5],padding:j.spacing(2,4,3),overflow:"scroll"},coverageFileViewTable:{borderSpacing:"0px",width:"80%",marginTop:j.spacing(2)}})),ue=({highlightedLines:j,lineHits:ae})=>t.createElement(t.Fragment,null,j.map((X,z)=>{const Q=z+1;return t.createElement(w,{key:Q,lineNumber:Q,lineContent:X,lineHits:ae[Q]})})),le=({filename:j,coverage:ae})=>{const{entity:X}=(0,n.useEntity)(),z=(0,y.useApi)(A.F),{loading:Q,error:fe,value:q}=(0,h.default)(async()=>await z.getFileContentFromEntity({kind:X.kind,namespace:X.metadata.namespace||"default",name:X.metadata.name},j),[X]),k=ce();if(Q)return t.createElement(R.Progress,null);if(fe)return t.createElement(R.ResponseErrorPanel,{error:fe});if(!q)return t.createElement(f.Z,{severity:"warning"},"Unable to retrieve file content for ",j);const[b]=j.split(".").slice(-1),F=M(b,q.split(`
`)),N=Object.entries(ae.lineHits).reduce((W,Ee)=>(W[Ee[0]]=Ee[1],W),{});return t.createElement(D.Z,{variant:"outlined",className:k.paper},t.createElement("table",{className:k.coverageFileViewTable},t.createElement("tbody",null,t.createElement(ue,{highlightedLines:F,lineHits:N}))))},me=j=>{const ae={};return j.forEach(X=>{const z=X.filename;if(!X.filename)return;const Q=z==null?void 0:z.split("/").filter(fe=>fe!=="");Q&&(ae.hasOwnProperty(Q[0])||(ae[Q[0]]=[]),ae[Q[0]].push(X))}),ae},ge=(j,ae)=>j.map(X=>{var z;return{...X,filename:X.filename?X.filename.substring(((z=X.filename)==null?void 0:z.indexOf(ae))+ae.length+1):X.filename}}),Ae=j=>{const ae=me(j.files);return j.files=Object.keys(ae).map(X=>Ae({path:X,files:ae.hasOwnProperty("files")?ge(ae.files,X):ge(ae[X],X),coverage:ae[X].reduce((z,Q)=>z+Q.coverage,0)/ae[X].length,missing:ae[X].reduce((z,Q)=>z+Q.missing,0),tracked:ae[X].reduce((z,Q)=>z+Q.tracked,0)})),j},ee=j=>Ae({path:"",coverage:j.aggregate.line.percentage,missing:j.aggregate.line.missed,tracked:j.aggregate.line.available,files:j.files.map(ae=>({path:"",filename:ae.filename,coverage:Math.floor(Object.values(ae.lineHits).filter(X=>X>0).length/Object.values(ae.lineHits).length*100),missing:Object.values(ae.lineHits).filter(X=>!X).length,tracked:Object.values(ae.lineHits).length}))}),Ie=(j,ae)=>{var z;let X=j==null?void 0:j.files;for(const Q of ae)X=(z=X==null?void 0:X.find(fe=>fe.path===Q))==null?void 0:z.files;return X},re=()=>{const{entity:j}=(0,n.useEntity)(),[ae,X]=(0,t.useState)(),[z,Q]=(0,t.useState)(),[fe,q]=(0,t.useState)(""),[k,b]=(0,t.useState)(!1),[F,N]=(0,t.useState)(""),W=(0,y.useApi)(A.F),{loading:Ee,error:Ce,value:te}=(0,h.default)(async()=>await W.getCoverageForEntity({kind:j.kind,namespace:j.metadata.namespace||"default",name:j.metadata.name}));if((0,t.useEffect)(()=>{if(!te)return;const We=ee(te);X(We),We.files&&Q(We.files)},[te]),Ee)return t.createElement(R.Progress,null);if(Ce)return t.createElement(R.ResponseErrorPanel,{error:Ce});if(!te)return t.createElement(f.Z,{severity:"warning"},"No code coverage found for $",j);const Re=We=>{const Ge=z.find(Ve=>Ve.path===We);Ge&&Ge.files&&Q(Ge.files)},$=We=>{const Ge=fe.split("/").slice(0,We+1);q(Ge.join("/")),Q(Ie(ae,Ge.slice(1)))},ie=[{title:"Path",type:"string",field:"path",render:We=>{var Ge;return(Ge=We.files)!=null&&Ge.length?t.createElement("div",{role:"button",tabIndex:We.tableData.id,style:{color:"lightblue",cursor:"pointer"},onKeyDown:()=>{q(`${fe}/${We.path}`),Re(We.path)},onClick:()=>{q(`${fe}/${We.path}`),Re(We.path)}},We.path):t.createElement(a.Z,{display:"flex",alignItems:"center"},We.path,t.createElement(I.ZP,{title:"View file content"},t.createElement(L.Z,{fontSize:"small",style:{color:"lightblue",cursor:"pointer"},onClick:()=>{N(`${fe.slice(1)}/${We.path}`),b(!0)}})))}},{title:"Coverage",type:"numeric",field:"coverage",render:We=>`${We.coverage.toFixed(2)}%`},{title:"Missing lines",type:"numeric",field:"missing"},{title:"Tracked lines",type:"numeric",field:"tracked"}],de=fe.split("/"),Pe=de.length-1,He=te.files.find(We=>We.filename.endsWith(F));return He?t.createElement(i.Z,null,t.createElement(d.Z,{title:"Explore Files"}),t.createElement(s.Z,null,t.createElement(a.Z,{mb:2,display:"flex"},de.map((We,Ge)=>t.createElement(t.Fragment,{key:We||"root"},t.createElement("div",{role:"button",tabIndex:Ge,style:{color:`${Ge!==Pe&&"lightblue"}`,cursor:`${Ge!==Pe&&"pointer"}`},onKeyDown:()=>$(Ge),onClick:()=>$(Ge)},We||"root"),t.createElement("div",null,"\xA0/\xA0")))),t.createElement(R.Table,{emptyContent:t.createElement(t.Fragment,null,"No files found"),data:z||[],columns:ie}),t.createElement(Z.Z,{open:k,onClick:We=>We.stopPropagation(),onClose:()=>b(!1),style:{overflow:"scroll"}},t.createElement(le,{filename:F,coverage:He})))):null},ne=()=>t.createElement(R.Page,{themeId:"tool"},t.createElement(R.Content,null,t.createElement(R.ContentHeader,{title:"Code coverage"}),t.createElement(P,null),t.createElement(re,null))),_=j=>{var ae;return Boolean((ae=j.metadata.annotations)==null?void 0:ae["backstage.io/code-coverage"])},se=()=>{const{entity:j}=(0,n.useEntity)();return _(j)?t.createElement(ne,null):t.createElement(R.MissingAnnotationEmptyState,{annotation:"backstage.io/code-coverage"})}},29777:function(H,l,e){"use strict";e.d(l,{R:function(){return r},_:function(){return d}});var t=e(2784),n=e(57600);class r{constructor(a){Me(this,"data");this.data=a}get url(){return"/cost-insights/investigating-growth"}get title(){return`Investigate cost growth in project ${this.data.project}`}get subtitle(){return"Cost growth outpacing business growth is unsustainable long-term."}get element(){return t.createElement(n.p,{alert:this.data})}}var i=e(25180);class d{constructor(a){Me(this,"data");Me(this,"status");this.data=a}get url(){return"/cost-insights/labeling-jobs"}get title(){return"Add labels to workflows"}get subtitle(){return"Labels show in billing data, enabling cost insights for each workflow."}get element(){return t.createElement(i.O,{alert:this.data})}}},83171:function(H,l,e){"use strict";e.d(l,{C:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.costinsights.service"})},91471:function(H,l,e){"use strict";e.d(l,{e:function(){return E},p:function(){return T}});var t=e(2784),n=e(80030),r=e(61837),i=e(26739),d=e(27556),s=e(43434),a=e(85256),c=e(95544),o=e(84560),g=e(98281),u=e(22983),f=e(72779),h=e.n(f),p=e(94339),A=e(32552),R=e(70590),y=e(10942);const E=({alert:P,avatar:I,number:Z,disableScroll:L=!1})=>{const D=(0,y.s3)(),B=h()(D.root,{[D.activeRoot]:!L}),[,w]=(0,R.vO)(),V=()=>{!L&&Z&&w(`alert-${Z}`)};return t.createElement(p.Z,{className:D.card,raised:!1,onClick:V},t.createElement(A.Z,{classes:{root:B,action:D.action,title:D.title},title:P.title,subheader:P.subtitle,avatar:I}))};var C=e(22892);const S=({title:P,amount:I,icon:Z,onClick:L,...D})=>t.createElement(n.ZP,{title:P},t.createElement(r.Z,{onClick:L,role:"button","aria-hidden":!1,...D},t.createElement(i.Z,{badgeContent:I},Z))),T=({active:P,snoozed:I,accepted:Z,dismissed:L})=>{const D=(0,y.s3)(),[,B]=(0,R.vO)(),w=!!I.length,V=!!Z.length,G=!!L.length,M=!!P.length,ce=()=>B(R.g4.AlertSummary);return t.createElement(t.Fragment,null,t.createElement(d.Z,null,P.map((ue,le)=>t.createElement(t.Fragment,{key:`alert-${le}`},t.createElement(E,{alert:ue,number:le+1,avatar:t.createElement(s.Z,{className:D.avatar},le+1)}),le<P.length-1&&t.createElement(a.Z,null)))),M&&t.createElement(c.Z,{display:"flex",justifyContent:"flex-end",mt:2},V&&t.createElement(S,{title:"Accepted","aria-label":C.AlertStatus.Accepted,icon:t.createElement(g.Z,null),amount:Z.length,onClick:ce}),w&&t.createElement(S,{title:"Snoozed","aria-label":C.AlertStatus.Snoozed,amount:I.length,icon:t.createElement(o.Z,null),onClick:ce}),G&&t.createElement(S,{title:"Dismissed","aria-label":C.AlertStatus.Dismissed,icon:t.createElement(u.Z,null),amount:L.length,onClick:ce})))}},56389:function(H,l,e){"use strict";e.d(l,{o:function(){return se}});var t=e(2784),n=e(19928),r=e.n(n),i=e(60905),d=e(95544),s=e(37265),a=e(99688),c=e(8629),o=e(61837),g=e(38724),u=e(90436),f=e(97580),h=e(85256),p=e(49429),A=e(77277),R=e(87685),y=e(10942),E=e(22896);const C="alert-form",S=({open:j,group:ae,alert:X,status:z,onClose:Q,onSubmit:fe})=>{const q=(0,y.rl)(),[k,b]=(0,t.useState)(!0),F=(0,t.useRef)(null);(0,t.useEffect)(()=>{b(j)},[j]);function N($){b($)}function W(){Q(),b(!0)}const[Ee,Ce]=(0,E.RN)(z,[["snooze","snoozed"],["accept","accepted"],["dismiss","dismissed"]],["",""]),te={mountOnEnter:!0,unmountOnExit:!0,onEntered(){F.current&&(F.current.id=C)}},Re=(0,E.IO)(X,z);return t.createElement(c.Z,{open:j,onClose:W,scroll:"body",maxWidth:"lg",TransitionProps:te},t.createElement(d.Z,{display:"flex",justifyContent:"flex-end"},t.createElement(o.Z,{className:q.icon,disableRipple:!0,"aria-label":"Close",onClick:W},t.createElement(R.Z,null))),t.createElement(g.Z,{className:q.content},t.createElement(d.Z,{mb:1.5},t.createElement(u.Z,{variant:"h5"},t.createElement("b",null,(0,f.Z)(Ee)," this action item?")),t.createElement(u.Z,{variant:"h6",color:"textSecondary"},t.createElement("b",null,"This action item will be ",Ce," for all of ",ae,"."))),t.createElement(d.Z,{display:"flex",flexDirection:"column",bgcolor:"alertBackground",p:2,mb:1.5,borderRadius:4},t.createElement(u.Z,null,t.createElement("b",null,X==null?void 0:X.title)),t.createElement(u.Z,{color:"textSecondary"},X==null?void 0:X.subtitle)),Re&&t.createElement(Re,{ref:F,alert:X,onSubmit:fe,disableSubmit:N})),t.createElement(h.Z,null),t.createElement(p.Z,{className:q.actions,disableSpacing:!0},Re?t.createElement(A.Z,{type:"submit",color:"primary",variant:"contained","aria-label":Ee,form:C,disabled:k},(0,f.Z)(Ee)):t.createElement(A.Z,{type:"button",color:"primary",variant:"contained","aria-label":Ee,onClick:()=>fe(null)},(0,f.Z)(Ee))))};var T=e(80030),P=e(43434),I=e(82113),Z=e(98281),L=e(22983),D=e(84560),B=e(91471),w=e(22892);const V=({alerts:j,status:ae,title:X,icon:z})=>{const Q=(0,y.s3)();return t.createElement(d.Z,{p:1},j.map((fe,q)=>t.createElement(t.Fragment,{key:`alert-${ae}-${q}`},t.createElement(B.e,{disableScroll:!0,alert:fe,avatar:t.createElement(T.ZP,{title:X},t.createElement(P.Z,{className:Q.avatar},z))}),q<j.length-1&&t.createElement(h.Z,null))))},G=({open:j,snoozed:ae,accepted:X,dismissed:z})=>{const Q=!!ae.length,fe=!!X.length,q=!!z.length;return t.createElement(I.Z,{in:j},fe&&t.createElement(V,{title:"Accepted",alerts:X,status:w.AlertStatus.Accepted,icon:t.createElement(Z.Z,{role:"img","aria-hidden":!1,"aria-label":w.AlertStatus.Accepted})}),Q&&t.createElement(V,{title:"Snoozed",alerts:ae,status:w.AlertStatus.Snoozed,icon:t.createElement(D.Z,{role:"img","aria-hidden":!1,"aria-label":w.AlertStatus.Snoozed})}),q&&t.createElement(V,{title:"Dismissed",alerts:z,status:w.AlertStatus.Dismissed,icon:t.createElement(L.Z,{role:"img","aria-hidden":!1,"aria-label":w.AlertStatus.Dismissed})}))};var M=e(72779),ce=e.n(M),ue=e(38016);const le=({children:j,onClick:ae})=>{const X=(0,y.iB)(),[z,Q]=(0,t.useState)(!1),fe=ce()(X.icon,{[X.clicked]:z}),q=k=>{Q(b=>!b),ae(k)};return t.createElement(A.Z,{variant:"text",color:"primary",disableElevation:!0,"aria-label":"expand",endIcon:t.createElement(ue.Z,{className:fe}),onClick:q},j)};var me=e(99539),ge=e(53317);const Ae=({title:j,subtitle:ae})=>{const X=(0,y.Uq)();return t.createElement(d.Z,{mb:6,position:"relative"},t.createElement(me.x,{id:ge.Ls.AlertInsightsHeader}),t.createElement(u.Z,{variant:"h4",align:"center"},j," ",t.createElement("span",{role:"img","aria-label":"direct-hit"},"\u{1F3AF}")),t.createElement(u.Z,{className:X.h6Subtle,align:"center",gutterBottom:!0},ae))},ee=({alert:j,number:ae})=>{const X=(0,y.gV)(),z=!!j.url;return t.createElement(d.Z,{position:"relative",mb:3,textAlign:"left"},t.createElement(me.x,{id:`alert-${ae}`}),t.createElement(i.Z,{container:!0,spacing:2,justifyContent:"space-between",alignItems:"center"},t.createElement(i.Z,{item:!0},t.createElement(d.Z,{display:"flex",alignItems:"center"},t.createElement(d.Z,{mr:2},t.createElement(P.Z,{className:X.button},ae)),t.createElement(d.Z,null,t.createElement(u.Z,{variant:"h5"},j.title),t.createElement(u.Z,{gutterBottom:!0},j.subtitle)))),z&&t.createElement(i.Z,{item:!0},t.createElement(A.Z,{variant:"text",color:"primary",href:j.url},j.buttonText||"View Instructions"))))},Ie=({alert:j,number:ae,onSnooze:X,onAccept:z,onDismiss:Q})=>{const fe=(0,E.PW)(j),q=(0,E.vT)(j),k=(0,E.u_)(j),b=fe||q||k;return t.createElement(d.Z,{display:"flex",flexDirection:"column",mb:6},t.createElement(ee,{alert:j,number:ae}),b&&t.createElement(d.Z,{display:"flex",alignItems:"center",mb:4},q&&t.createElement(d.Z,{mr:1},t.createElement(A.Z,{color:"primary",variant:"contained","aria-label":"accept",onClick:()=>z(j),startIcon:t.createElement(Z.Z,null)},"Accept")),fe&&t.createElement(d.Z,{mr:1},t.createElement(A.Z,{color:"default",variant:"outlined","aria-label":"snooze",disableElevation:!0,onClick:()=>X(j),startIcon:t.createElement(D.Z,null)},"Snooze")),k&&t.createElement(A.Z,{color:"secondary",variant:"outlined","aria-label":"dismiss",disableElevation:!0,onClick:()=>Q(j),startIcon:t.createElement(L.Z,null)},"Dismiss")),j.element)};var re=e(70590),ne=e(6740);const _=({dispatch:j})=>ae=>j({[ne.ss.CostInsightsAlerts]:ae}),se=({group:j,active:ae,snoozed:X,accepted:z,dismissed:Q,onChange:fe})=>{const[q]=(0,re.vO)(),[k,b]=(0,t.useState)(null),F=(0,re.r$)(_),[N,W]=(0,t.useState)(null),[Ee,Ce]=(0,t.useState)(void 0),[te,Re]=(0,t.useState)(null),[$,ie]=(0,t.useState)(!1),[de,Pe]=(0,t.useState)(!1),[He,We]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var Kt,Qe,tt;async function at(Tt,he){b(null),W(null),Ce(void 0),ie(!1),F(!0);try{const Ne=await he(Tt);fe(Ne)}catch(Ne){Re(Ne)}finally{F(!1)}}const ke={data:Ee,group:j},Zt=(Kt=k==null?void 0:k.onSnoozed)==null?void 0:Kt.bind(k),$e=(Qe=k==null?void 0:k.onAccepted)==null?void 0:Qe.bind(k),Wt=(tt=k==null?void 0:k.onDismissed)==null?void 0:tt.bind(k);Ee!==void 0&&((0,E.Ub)(N)&&Zt?at(ke,Zt):(0,E.yy)(N)&&$e?at(ke,$e):(0,E.Tl)(N)&&Wt&&at(ke,Wt))},[j,Ee,k,N,fe,F]),(0,t.useEffect)(()=>{q===re.g4.AlertSummary&&Pe(!0)},[q]),(0,t.useEffect)(()=>{ie(!!N)},[N]),(0,t.useEffect)(()=>{We(!!te)},[te]);function Ge(at){b(at),W(w.AlertStatus.Snoozed)}function Ve(at){b(at),W(w.AlertStatus.Accepted)}function ut(at){b(at),W(w.AlertStatus.Dismissed)}function nt(){Re(null)}function At(){b(null),W(null)}function Le(at){Ce(at)}function Te(){Pe(at=>!at)}const pe=[z,X,Q].reduce(E.Al,0),Be=!!pe,ot=!!ae.length;return t.createElement(i.Z,{container:!0,direction:"column",spacing:2},t.createElement(i.Z,{item:!0},t.createElement(Ae,{title:"Your team's action items",subtitle:ot?"This section outlines suggested action items your team can address to improve cloud costs.":"All of your team's action items are hidden. Maybe it's time to give them another look?"})),ot&&t.createElement(i.Z,{item:!0,container:!0,direction:"column",spacing:4},ae.map((at,ke)=>t.createElement(i.Z,{item:!0,key:`alert-insights-section-${ke}`},t.createElement(Ie,{alert:at,number:ke+1,onSnooze:Ge,onAccept:Ve,onDismiss:ut})))),Be&&t.createElement(i.Z,{item:!0},t.createElement(d.Z,{position:"relative",display:"flex",justifyContent:"flex-end"},t.createElement(me.x,{id:re.g4.AlertSummary}),t.createElement(le,{onClick:Te},r()("Hidden Action Item",pe))),t.createElement(G,{open:de,snoozed:X,accepted:z,dismissed:Q})),t.createElement(S,{group:j,open:$,alert:k,status:N,onClose:At,onSubmit:Le}),t.createElement(s.Z,{open:He,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:nt},t.createElement(a.Z,{onClose:nt,severity:"error"},te==null?void 0:te.message)))}},11021:function(H,l,e){"use strict";e.d(l,{R:function(){return u}});var t=e(2784),n=e(79692),r=e(77611),i=e(95544),d=e(77277),s=e(48049),a=e(81678),c=e(70590),o=e(23192);const g=(0,n.Z)(f=>({root:{gridArea:"pageContent",padding:f.spacing(4)}})),u=({title:f,children:h})=>{const p=g();return t.createElement(a.S,null,t.createElement(c.iV,null,t.createElement(c.T3,null,t.createElement(o.Page,{themeId:"tool"},t.createElement(o.Header,{title:"Cost Insights",pageTitleOverride:f,type:"Tool"}),t.createElement(r.Z,{maxWidth:"md",disableGutters:!0,className:p.root},t.createElement(i.Z,{mb:3},t.createElement(d.Z,{variant:"outlined",startIcon:t.createElement(s.Z,null),href:"/cost-insights"},"Back to Cost Insights")),h)))))}},47994:function(H,l,e){"use strict";e.d(l,{vz:function(){return V},mR:function(){return M},Nx:function(){return S},Yg:function(){return P}});var t=e(2784),n=e(29494),r=e(60364),i=e(95544),d=e(90436),s=e(10942);const a=({x:ce,y:ue,height:le,width:me,details:ge,children:Ae})=>{const ee=(0,s.N4)(),Ie=me*-.5;return t.createElement("foreignObject",{className:ee.foreignObject,style:{transform:`translateX(${Ie}px)`},x:ce,y:ue,height:le,width:me},t.createElement(i.Z,{display:"flex",flexDirection:"column",justifyContent:"center"},t.createElement(d.Z,{className:ee.label,gutterBottom:!0},Ae),ge))},c=({x:ce,y:ue,height:le,width:me,payload:ge,visibleTicksCount:Ae,details:ee})=>{const re=me/Ae-10;return t.createElement(a,{x:ce,y:ue,height:le,width:re,details:ee},ge.value?ge.value:"Unlabeled")};var o=e(27556),g=e(62339),u=e(48049),f=e(51209),h=e(43805);const p=(0,t.forwardRef)(({name:ce,children:ue,...le},me)=>{const ge=(0,s.nX)();return t.createElement(h.Z,{ref:me,classes:ge,disableRipple:!0,"data-testid":`bar-chart-stepper-button-${ce}`,...le},ue)}),A=({steps:ce,activeStep:ue,onClick:le})=>{const me=(0,s.OX)(),ge=Ae=>ee=>{ee.preventDefault(),le(Ae)};return t.createElement("div",{className:me.steps},[...new Array(ce)].map((Ae,ee)=>t.createElement(h.Z,{key:ee,centerRipple:!0,onClick:ge(ee)},t.createElement("div",{"data-testid":"bar-chart-step",className:`${me.step} ${ee===ue?me.stepActive:""}`}))))},R=({steps:ce,disableScroll:ue,onChange:le})=>{const me=(0,s.OX)(),[ge,Ae]=(0,t.useState)(0),ee=ce%10,Ie=ce-ge<=ee?ee:ce,re=ge%10;(0,t.useEffect)(()=>{le(ge)},[ge,le]);const ne=()=>{Ae(j=>j+1)},_=()=>{Ae(j=>j-1)},se=j=>{Ae(ae=>{const X=j-ae%10;return ae+X})};return t.createElement(o.Z,{"data-testid":"bar-chart-stepper",square:!0,elevation:0,className:me.paper},t.createElement(g.Z,{direction:"right",in:!ue&&ge!==0,mountOnEnter:!0,unmountOnExit:!0},t.createElement(p,{name:"back",className:me.backButton,onClick:_},t.createElement(u.Z,null))),t.createElement(A,{steps:Math.min(10,Ie),activeStep:re,onClick:se}),t.createElement(g.Z,{direction:"left",in:!ue&&ge<ce-1,mountOnEnter:!0,unmountOnExit:!0},t.createElement(p,{name:"next",className:me.nextButton,onClick:ne},t.createElement(f.Z,null))))};var y=e(72779),E=e.n(y),C=e(85256);const S=({title:ce,content:ue,subtitle:le,topRight:me,actions:ge,children:Ae})=>{const ee=(0,s.tI)(),Ie=E()(ee.truncate,{[ee.maxWidth]:me===void 0});return t.createElement(i.Z,{className:ee.tooltip,display:"flex",flexDirection:"column"},t.createElement(i.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",px:2,pt:2},t.createElement(i.Z,{display:"flex",flexDirection:"column"},t.createElement(d.Z,{className:Ie,variant:"h6"},ce),le&&t.createElement(d.Z,{className:ee.subtitle,variant:"subtitle1"},le)),me&&t.createElement(i.Z,{ml:2},me)),ue&&t.createElement(i.Z,{px:2,pt:2,className:ee.maxWidth},t.createElement(d.Z,{variant:"body1",paragraph:!0},ue)),t.createElement(i.Z,{display:"flex",flexDirection:"column",p:2},Ae),ge&&t.createElement(t.Fragment,null,t.createElement(C.Z,{className:ee.divider,variant:"fullWidth"}),t.createElement(i.Z,{display:"flex",flexDirection:"column",p:2},ge)))};var T=e(94941);const P=({item:ce})=>{const ue=(0,s.tI)();return t.createElement(i.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:25},t.createElement(i.Z,{display:"flex",alignContent:"center",marginRight:".5em"},t.createElement(i.Z,{display:"flex",alignItems:"center",marginRight:".5em"},t.createElement(T.Z,{className:ue.lensIcon,style:{fill:ce.fill}})),t.createElement(d.Z,null,ce.label)),t.createElement(d.Z,{display:"block"},ce.value))};var I=e(44241),Z=e(22892),L=e(92181),D=e(20336),B=e(27114);const w=({label:ce,payload:ue=[]})=>{if((0,B.wp)({label:ce,payload:ue}))return null;const le=(0,B.z4)(ce),me=ue.map(B.wy).filter(L.Dw);return t.createElement(S,{title:le},me.map((ge,Ae)=>t.createElement(P,{key:`${ge.label}-${Ae}`,item:ge})))},V=({resources:ce,responsive:ue=!0,displayAmount:le=6,options:me={},tooltip:ge=w,onClick:Ae,onMouseMove:ee})=>{const Ie=(0,r.Z)(),re=(0,s.ZV)(Ie),[ne,_]=(0,t.useState)(!1),[se,j]=(0,t.useState)(()=>[0,le]),ae=Object.assign({previousFill:Ie.palette.lightBlue,currentFill:Ie.palette.darkBlue,previousName:"Previous",currentName:"Current"},me),[X,z]=se,Q=Math.ceil(ce.length/le),fe=ce.length<=le,q=ce.sort(D.sZ).slice(X,z),k=ce.reduce((F,N)=>Math.max(F,N.current,N.previous),0),b=(0,t.useCallback)(F=>{const N=F*le,W=N+le;W>ce.length?j([N,ce.length]):j([N,W])},[j,ce,le]);return t.createElement(i.Z,{position:"relative",onMouseLeave:()=>_(!1),onMouseEnter:()=>_(!0),"data-testid":"bar-chart-wrapper"},t.createElement(n.h2,{height:re.container.height,width:ue?"100%":re.container.width},t.createElement(n.vz,{style:{cursor:Ae?"pointer":null},onClick:Ae,onMouseMove:ee,data:q,margin:re.barChart.margin,barSize:45,"data-testid":"bar-chart"},ge&&t.createElement(n.u,{filterNull:!0,cursor:re.cursor,animationDuration:100,content:ge}),t.createElement(n.q3,{vertical:!1,stroke:re.cartesianGrid.stroke}),t.createElement(n.Kc,{dataKey:Z.DataKey.Name,tickLine:!1,interval:0,height:re.xAxis.height,tick:c}),t.createElement(n.B2,{tickFormatter:I.oB.format,domain:[()=>0,k],tick:re.axis}),t.createElement(n.$Q,{dataKey:Z.DataKey.Previous,name:ae.previousName,fill:ae.previousFill,isAnimationActive:!1}),t.createElement(n.$Q,{dataKey:Z.DataKey.Current,name:ae.currentName,fill:ae.currentFill,isAnimationActive:!1}))),!fe&&t.createElement(R,{steps:Q,disableScroll:!ne,onChange:b}))};var G=e(39140);const M=({costStart:ce,costEnd:ue,options:le={},children:me})=>{const ge=(0,r.Z)(),Ae=(0,s.SY)(),ee=Object.assign({previousName:"Previous",previousFill:ge.palette.lightBlue,currentName:"Current",currentFill:ge.palette.darkBlue},le);return t.createElement(i.Z,{className:Ae.legend,display:"flex",flexDirection:"row"},t.createElement(i.Z,{marginRight:2},t.createElement(G.Y,{title:ee.previousName,markerColor:le.hideMarker?void 0:ee.previousFill},I.oB.format(ce))),t.createElement(i.Z,{marginRight:2},t.createElement(G.Y,{title:ee.currentName,markerColor:le.hideMarker?void 0:ee.currentFill},I.oB.format(ue))),me)}},98519:function(H,l,e){"use strict";e.d(l,{c:function(){return g}});var t=e(2784),n=e(10289),r=e(95074),i=e(80030),d=e(61837),s=e(93442),a=e(15858),c=e(22674);const o={default:"Copy URL to clipboard",success:"Copied!",error:"Couldn't copy to clipboard"},g=()=>{const u=(0,n.TH)(),[f,h]=(0,r.Z)(),[p,A]=(0,t.useState)(!1),R=window.location.origin,y=u.pathname,E=u.search,C=`${R}${y}${E}`;(0,t.useEffect)(()=>{f.error?A(!1):f.value&&(A(!0),setTimeout(A,1500,!1))},[f]);let S=o.default,T=s.Z;return f.error?(S=o.error,T=c.Z):p&&(S=o.success,T=a.Z),t.createElement(i.ZP,{title:S,arrow:!0},t.createElement(d.Z,{onClick:()=>h(C)},t.createElement(T,null)))}},80052:function(H,l,e){"use strict";e.d(l,{y:function(){return h},m:function(){return y}});var t=e(2784),n=e(72779),r=e.n(n),i=e(22892),d=e(36263),s=e(96426),a=e(10942),c=e(44241);const o={a:"A",e:"E",i:"I",o:"O",u:"U"},g=(E,C)=>C.charAt(0).toLocaleLowerCase("en-US")in o?`${E[1]} ${C}`:`${E[0]} ${C}`;var u=e(70590),f=e(92181);const h=({change:E,duration:C})=>{var G,M;const S=(0,a.sO)(),{engineerCost:T}=(0,u.ZR)(),[P]=(0,u.U8)(),I=Math.abs(E.amount),Z=Math.abs((G=E.ratio)!=null?G:NaN),L=(0,d.J)(T,C),D=I/L,B=I/((M=P.rate)!=null?M:L),w=(0,f.Dw)(E.ratio)?(0,s.XY)({ratio:E.ratio,amount:D}):null,V=r()({[S.excess]:w===i.GrowthType.Excess,[S.savings]:w===i.GrowthType.Savings});return D<i.EngineerThreshold?t.createElement("span",{className:V},"Negligible"):P.kind===i.CurrencyType.USD?isNaN(Z)?t.createElement("span",{className:V},"~",P.prefix,(0,c.xG)(B)):t.createElement("span",{className:V},(0,c.T3)(Z)," or ~",P.prefix,(0,c.xG)(B)):I<1?t.createElement("span",{className:V},"less than ",g(["a","an"],P.unit)):isNaN(Z)?t.createElement("span",{className:V},"~",(0,c.xG)(B,P.unit)):t.createElement("span",{className:V},(0,c.T3)(Z)," or ~",(0,c.xG)(B,P.unit))};var p=e(90436),A=e(59797),R=e(83543);const y=({change:E,formatter:C,className:S,...T})=>{const P=(0,a.sO)(),I=(0,s.XY)(E),Z=r()(P.indicator,S,{[P.excess]:I===i.GrowthType.Excess,[P.savings]:I===i.GrowthType.Savings});return t.createElement(p.Z,{className:Z,component:"span",...T},C?C(E):E.ratio,I===i.GrowthType.Excess&&t.createElement(A.Z,{"aria-label":"excess"}),I===i.GrowthType.Savings&&t.createElement(R.Z,{"aria-label":"savings"}))}},94403:function(H,l,e){"use strict";e.d(l,{V:function(){return u},X:function(){return g}});var t=e(2784),n=e(90436),r=e(64279),i=e(10942),d=e(36964);function s(){var p;const f=(0,d.useApi)(d.identityApiRef),h=(0,r.default)(()=>f.getProfileInfo(),[f]);return h.loading?"":((p=h.value)==null?void 0:p.displayName)||"Mysterious Stranger"}const a=({owner:f,groups:h})=>{const p=s(),A=(0,i.Uq)(),R=h.length>1;return t.createElement(t.Fragment,null,t.createElement(n.Z,{variant:"h4",align:"center",gutterBottom:!0},t.createElement("span",{role:"img","aria-label":"flushed-face"},"\u{1F633}")," ","Well this is awkward"),t.createElement(n.Z,{className:A.h6Subtle,align:"center",gutterBottom:!0},t.createElement("b",null,"Hey, ",p,"!")," ",t.createElement("b",null,f)," doesn't seem to have any cloud costs."),R&&t.createElement(n.Z,{align:"center",gutterBottom:!0},"Maybe we picked the wrong team, choose another from the menu above?"))},c=({owner:f,alerts:h})=>{const p=s(),A=(0,i.Uq)();return t.createElement(t.Fragment,null,t.createElement(n.Z,{variant:"h4",align:"center",gutterBottom:!0},t.createElement("span",{role:"img","aria-label":"magnifying-glass"},"\u{1F50E}")," ","You have ",h," thing",h>1&&"s"," to look into"),t.createElement(n.Z,{className:A.h6Subtle,align:"center",gutterBottom:!0},t.createElement("b",null,"Hey, ",p,"!")," We've identified"," ",h>1?"a few things ":"one thing ",t.createElement("b",null,f)," should look into next."))},o=({owner:f})=>{const h=s(),p=(0,i.Uq)();return t.createElement(t.Fragment,null,t.createElement(n.Z,{variant:"h4",gutterBottom:!0,align:"center"},t.createElement("span",{role:"img","aria-label":"thumbs-up"},"\u{1F44D}")," ","Your team is doing great"),t.createElement(n.Z,{className:p.h6Subtle,align:"center",gutterBottom:!0},t.createElement("b",null,"Hey, ",h,"!")," ",t.createElement("b",null,f)," is doing well. No major changes this month."))},g=()=>{const f=s(),h=(0,i.Uq)();return t.createElement(t.Fragment,null,t.createElement(n.Z,{variant:"h4",align:"center",gutterBottom:!0},t.createElement("span",{role:"img","aria-label":"flushed-face"},"\u{1F633}")," ","Well this is awkward"),t.createElement(n.Z,{className:h.h6Subtle,align:"center",gutterBottom:!0},t.createElement("b",null,"Hey, ",f,"!")," It doesn't look like you belong to any teams."))},u=f=>f.hasCostData?f.alerts?t.createElement(c,{...f}):t.createElement(o,{...f}):t.createElement(a,{...f})},96749:function(H,l,e){"use strict";e.d(l,{d:function(){return s}});var t=e(2784),n=e(79692),r=e(75488),i=e(23192);const d=(0,n.Z)(a=>({root:{gridArea:"pageContent"},header:{boxShadow:"none"},content:{padding:a.spacing(4)}})),s=({groups:a,children:c})=>{const o=d();return t.createElement(i.Page,{themeId:"tool"},t.createElement(i.Header,{style:{boxShadow:"none"},title:"Cost Insights",pageTitleOverride:"Cost Insights",type:"Tool"}),t.createElement("div",{className:o.root},t.createElement(r.A,{groups:a}),t.createElement("div",{className:o.content},c)))}},16325:function(H,l,e){"use strict";e.d(l,{P:function(){return p}});var t=e(2784),n=e(12231),r=e(86136),i=e(49378),d=e(90436),s=e(50758),a=e(26739),c=e(82113),o=e(10942),g=e(70590),u=e(92181),f=e(53317);const h=({navigation:A,icon:R,title:y})=>{const E=(0,o.Bk)(),[,C]=(0,g.vO)();return t.createElement(n.Z,{button:!0,"data-testid":`menu-item-${A}`,className:E.menuItem,onClick:()=>C(A)},t.createElement(r.Z,{className:E.listItemIcon},R),t.createElement(i.Z,{primary:t.createElement(d.Z,{className:E.title},y)}))},p=t.memo(({alerts:A,products:R})=>{var I;const y=(0,o.Bk)(),{icons:E}=(0,g.ZR)(),[C,S]=(0,t.useState)(!1),T=(0,f.Pp)(A),P=(I=R==null?void 0:R.map(Z=>({title:Z.name,navigation:Z.kind,icon:(0,u.cZ)(E,L=>L.kind===Z.kind).component})))!=null?I:[];return(0,t.useEffect)(function(){R!=null&&R.length?S(!0):S(!1)},[R]),t.createElement(s.Z,{className:y.menuList},T.map(Z=>t.createElement(h,{key:`navigation-menu-item-${Z.navigation}`,navigation:Z.navigation,title:Z.title,icon:Z.navigation===f.Ls.AlertInsightsHeader?t.createElement(a.Z,{badgeContent:A,color:"secondary"},t.cloneElement(Z.icon,{className:y.navigationIcon})):t.cloneElement(Z.icon,{className:y.navigationIcon})})),t.createElement(c.Z,{in:C,timeout:850},P.map(Z=>t.createElement(h,{key:`navigation-menu-item-${Z.navigation}`,navigation:Z.navigation,icon:t.cloneElement(Z.icon,{className:y.navigationIcon}),title:Z.title}))))})},81678:function(H,l,e){"use strict";e.d(l,{S:function(){return d}});var t=e(2784),n=e(41547),r=e(73689),i=e(10942);const d=({children:s})=>t.createElement(n.Z,{theme:a=>(0,r.Z)({...a,palette:{...a.palette,...a.palette.type==="dark"?i.JV.palette:i.FA.palette}})},s)},49891:function(H,l,e){"use strict";e.r(l),e.d(l,{CostInsightsPage:function(){return ee}});var t=e(2784),n=e(95544),r=e(77611),i=e(85256),d=e(90436),s=e(60905),a=e(82113),c=e(99688),o=e(83171),g=e(91471),u=e(56389),f=e(96749),h=e(98519),p=e(45827),A=e(3567),R=e(94403),y=e(16325),E=e(11550),C=e(82585),S=e(70590),T=e(6740);const P=({state:Ie,actions:re,dispatch:ne})=>({loadingActions:re,loadingGroups:Ie[T.ss.UserGroups],loadingBillingDate:Ie[T.ss.LastCompleteBillingDate],loadingInitial:Ie[T.ss.CostInsightsInitial],dispatchInitial:_=>ne({[T.ss.CostInsightsInitial]:_}),dispatchInsights:_=>ne({[T.ss.CostInsightsPage]:_}),dispatchNone:_=>ne((0,T.Li)(_)),dispatchReset:_=>ne((0,T.jv)(_))});var I=e(9110),Z=e(88343),L=e(10942),D=e(22896),B=e(23192),w=e(36964);const V=()=>{const Ie=(0,L.J1)(),re=(0,w.useApi)(o.C),ne=(0,S.ZR)(),_=(0,S.XY)(),se=(0,S.rr)(),[j,ae]=(0,t.useState)([]),[X,z]=(0,S.U8)(),[Q,fe]=(0,t.useState)(null),[q,k]=(0,t.useState)(null),[b,F]=(0,t.useState)(null),[N,W]=(0,t.useState)(null),[Ee,Ce]=(0,t.useState)(null),{pageFilters:te,setPageFilters:Re}=(0,S.mN)(Kt=>Kt),$=(0,t.useMemo)(()=>j.filter(D.fl),[j]),ie=(0,t.useMemo)(()=>j.filter(D.uN),[j]),de=(0,t.useMemo)(()=>j.filter(D.dk),[j]),Pe=(0,t.useMemo)(()=>j.filter(D.KK),[j]),He=!!$.length,We=!!j.length,{loadingActions:Ge,loadingGroups:Ve,loadingBillingDate:ut,loadingInitial:nt,dispatchInitial:At,dispatchInsights:Le,dispatchNone:Te,dispatchReset:pe}=(0,S.r$)(P),Be=(0,t.useCallback)(At,[]),ot=(0,t.useCallback)(Le,[]),at=(0,t.useCallback)(Te,[]),ke=(0,t.useCallback)(pe,[]),Zt=Kt=>Re({...te,project:Kt==="all"?null:Kt});if((0,t.useEffect)(()=>{async function Kt(){Ce(null);try{if(te.group){ot(!0);const Qe=(0,Z.b5)(te.duration,se),[tt,Tt,he,Ne]=await Promise.all([re.getGroupProjects(te.group),re.getAlerts(te.group),te.metric?re.getDailyMetricData(te.metric,Qe):null,te.project?re.getProjectDailyCost(te.project,Qe):re.getGroupDailyCost(te.group,Qe)]);fe(tt),ae(Tt),W(he),F(Ne)}else at(Ge)}catch(Qe){Ce(Qe),at(Ge)}finally{Be(!1),ot(!1)}}Ve&&ut||Kt()},[re,te,Ge,Ve,ut,ot,Be,at,se]),nt)return t.createElement(B.Progress,null);if(Ee)return t.createElement(c.Z,{severity:"error"},Ee.message);if(!te.group)return t.createElement(f.d,{groups:_},t.createElement(n.Z,{textAlign:"right"},t.createElement(h.c,null)),t.createElement(r.Z,{maxWidth:"lg"},t.createElement(R.X,null)),t.createElement(i.Z,null),t.createElement(r.Z,{maxWidth:"lg"},t.createElement(A.w,null)));if(!b)return t.createElement(c.Z,{severity:"error"},`Error: Could not fetch cost insights data for team ${te.group}`);const $e=Kt=>{Zt(Kt),ke(Ge)},Wt=()=>t.createElement(n.Z,{px:3,pt:6,display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:40},t.createElement(n.Z,null,t.createElement(d.Z,{variant:"h4"},"Cost Overview"),t.createElement(d.Z,{classes:Ie},"Billing data as of ",se)),t.createElement(n.Z,{display:"flex"},t.createElement(n.Z,{mr:1},t.createElement(p.V,{currency:X,currencies:ne.currencies,onSelect:z})),t.createElement(I.y,{project:te.project,projects:Q||[],onSelect:$e})));return t.createElement(f.d,{groups:_},t.createElement(s.Z,{container:!0,wrap:"nowrap"},t.createElement(s.Z,{item:!0},t.createElement(n.Z,{position:"sticky",top:20},t.createElement(y.P,{products:q,alerts:$.length}))),t.createElement(s.Z,{item:!0,xs:!0},t.createElement(n.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end",mb:2},t.createElement(h.c,null)),t.createElement(r.Z,{maxWidth:"lg",disableGutters:!0},t.createElement(s.Z,{container:!0,direction:"column"},t.createElement(s.Z,{item:!0,xs:!0},t.createElement(R.V,{owner:te.group,groups:_,hasCostData:!!b.aggregation.length,alerts:$.length})),t.createElement(a.Z,{in:He,enter:!1},t.createElement(s.Z,{item:!0,xs:!0},t.createElement(n.Z,{px:3,py:6},t.createElement(g.p,{active:$,snoozed:ie,accepted:de,dismissed:Pe}))),t.createElement(i.Z,null)),t.createElement(s.Z,{item:!0,xs:!0},t.createElement(Wt,null)),t.createElement(s.Z,{item:!0,xs:!0},t.createElement(n.Z,{px:3,py:6},!!b.aggregation.length&&t.createElement(E.X,{dailyCostData:b,metricData:N}),t.createElement(A.w,null))),t.createElement(a.Z,{in:We,enter:!1},t.createElement(s.Z,{item:!0,xs:!0},t.createElement(n.Z,{px:6,py:6,mx:-3,bgcolor:"alertBackground"},t.createElement(u.o,{group:te.group,active:$,snoozed:ie,accepted:de,dismissed:Pe,onChange:ae})))),!We&&t.createElement(i.Z,null),t.createElement(s.Z,{item:!0,xs:!0},t.createElement(n.Z,{px:3,py:6},t.createElement(C.U,{group:te.group,project:te.project,products:ne.products,onLoaded:k}))))))))};var G=e(55689),M=e(65220),ce=e(79780),ue=e(9121),le=e(73750),me=e(61654),ge=e(40241),Ae=e(81678);const ee=()=>t.createElement(Ae.S,null,t.createElement(me.iV,null,t.createElement(M.PK,null,t.createElement(ce.pr,null,t.createElement(ge.p3,null,t.createElement(G.hz,null,t.createElement(le.ID,null,t.createElement(ue.T3,null,t.createElement(V,null)))))))))},75488:function(H,l,e){"use strict";e.d(l,{A:function(){return h}});var t=e(2784),n=e(90436),r=e(99152),i=e(6487),d=e(48348),s=e(12231),a=e(38016),c=e(6740);const o=({pageFilters:p,setPageFilters:A})=>({...p,setGroup:R=>A({...p,group:R.id,project:null})}),g=({actions:p,dispatch:A})=>({loadingActions:p,dispatchReset:R=>A((0,c.jv)(R))});var u=e(70590),f=e(10942);const h=({groups:p})=>{const A=(0,f.l$)(),[R]=(0,t.useState)(0),[y,E]=(0,t.useState)(null),{group:C,setGroup:S}=(0,u.mN)(o),{loadingActions:T,dispatchReset:P}=(0,u.r$)(g),I=w=>E(w.currentTarget),Z=()=>E(null),L=w=>()=>{P(T),Z(),S(w)},D=()=>t.createElement("div",{className:A.tabLabel},t.createElement(n.Z,{className:A.tabLabelText,variant:"overline"},`${p.length} teams`),t.createElement(a.Z,{fontSize:"small"}));return p.length>=2?t.createElement(t.Fragment,null,t.createElement(r.Z,{className:`cost-insights-tabs ${A.tabs}`,"data-testid":"cost-insights-tabs",classes:{indicator:A.indicator},value:R},t.createElement(i.Z,{className:A.tab,"data-testid":"cost-insights-groups-tab",key:"cost-insights-groups-tab",label:D(),onClick:I,component:"button"})),t.createElement(d.Z,{id:"group-menu","data-testid":"group-menu",className:A.menu,getContentAnchorEl:null,anchorEl:y,keepMounted:!0,open:Boolean(y),onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},p.map(w=>t.createElement(s.Z,{className:A.menuItem,classes:{selected:A.menuItemSelected},selected:w.id===C,key:w.id,"data-testid":w.id,onClick:L(w)},w.id)))):null}},11550:function(H,l,e){"use strict";e.d(l,{X:function(){return ne}});var t=e(2784),n=e(60364),r=e(97580),i=e(99152),d=e(6487),s=e(94339),a=e(24579),c=e(85256),o=e(95544),g=e(96299),u=e(29494),f=e(22892),h=e(47994),p=e(27114),A=e(10942);function R(_,se){return _.slope*(se/1e3)+_.intercept}function y(_,se){return{..._,[se.date]:se.amount}}function E(_,se){return _.dailyCost>se.dailyCost?_:se}function C(_,se){return se.reduce(E).dailyCost/Math.abs(se[0].trend)*se[0][_]}var S=e(20336),T=e(39140),P=e(70590),I=e(96426);const Z=({pageFilters:_,setPageFilters:se})=>({..._,project:_.project||"all",setDuration:j=>se({..._,duration:j}),setProject:j=>se({..._,project:j==="all"?null:j}),setMetric:j=>se({..._,metric:j})});var L=e(44241),D=e(80052);const B=({dailyCostData:_,metric:se,metricData:j})=>{const ae=(0,n.Z)(),{duration:X}=(0,P.mN)(Z),z=(0,P.rr)(),Q=j?(0,I.rs)(_,j,X,z):null;return t.createElement(o.Z,{display:"flex",flexDirection:"row"},_.change&&t.createElement(o.Z,{mr:2},t.createElement(T.Y,{title:"Cost Trend",markerColor:ae.palette.blue},(0,L.X6)(_.change))),j&&se&&Q&&t.createElement(t.Fragment,null,t.createElement(o.Z,{mr:2},t.createElement(T.Y,{title:`${se.name} Trend`,markerColor:ae.palette.magenta},(0,L.X6)(j.change))),t.createElement(T.Y,{title:(0,I.RN)(["Your Savings","Your Excess"],Q)},t.createElement(D.y,{change:Q,duration:X}))))},w=({dailyCostData:_,metric:se,metricData:j,responsive:ae=!0})=>{var b,F,N;const X=(0,n.Z)(),z=(0,A.TP)(X),Q={dailyCost:{dataKey:"dailyCost",name:"Daily Cost",format:"currency",data:_},metric:{dataKey:(b=se==null?void 0:se.kind)!=null?b:"Unknown",name:(F=se==null?void 0:se.name)!=null?F:"Unknown",format:(N=j==null?void 0:j.format)!=null?N:"number",data:j}},fe=Q.metric.data?Q.metric.data.aggregation.reduce(y,{}):{},q=Q.dailyCost.data.aggregation.slice().sort(S.OQ).map(W=>({date:Date.parse(W.date),trend:R(Q.dailyCost.data.trendline,Date.parse(W.date)),dailyCost:W.amount,...se&&Q.metric.data?{[Q.metric.dataKey]:fe[`${W.date}`]}:{}})),k=({label:W,payload:Ee=[]})=>{if((0,p.wp)({label:W,payload:Ee}))return null;const Ce=[Q.dailyCost.dataKey,Q.metric.dataKey],Re=(typeof W=="number"?g.ou.fromMillis(W):g.ou.fromISO(W)).toUTC().toFormat(f.DEFAULT_DATE_FORMAT),$=Ee.filter(ie=>Ce.includes(ie.dataKey)).map(ie=>({label:ie.dataKey===Q.dailyCost.dataKey?Q.dailyCost.name:Q.metric.name,value:ie.dataKey===Q.dailyCost.dataKey?(0,p.RI)(ie.value,Q.dailyCost.format):(0,p.RI)(ie.value,Q.metric.format),fill:ie.dataKey===Q.dailyCost.dataKey?X.palette.blue:X.palette.magenta}));return t.createElement(h.Nx,{title:Re},$.map((ie,de)=>t.createElement(h.Yg,{key:`${ie.label}-${de}`,item:ie})))};return t.createElement(o.Z,{display:"flex",flexDirection:"column"},t.createElement(B,{dailyCostData:_,metric:se,metricData:j}),t.createElement(u.h2,{width:ae?"100%":z.container.width,height:z.container.height,className:"cost-overview-chart"},t.createElement(u.cI,{margin:z.chart.margin,data:q},t.createElement(u.q3,{stroke:z.cartesianGrid.stroke}),t.createElement(u.Kc,{dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:p.dR,tickCount:6,type:"number",stroke:z.axis.fill}),t.createElement(u.B2,{domain:[()=>0,"dataMax"],tick:{fill:z.axis.fill},tickFormatter:p.RI,width:z.yAxis.width,yAxisId:Q.dailyCost.dataKey}),se&&t.createElement(u.B2,{hide:!0,domain:[()=>0,C(Q.metric.dataKey,q)],width:z.yAxis.width,yAxisId:Q.metric.dataKey}),t.createElement(u.uN,{dataKey:Q.dailyCost.dataKey,isAnimationActive:!1,fill:X.palette.blue,fillOpacity:.4,stroke:"none",yAxisId:Q.dailyCost.dataKey}),t.createElement(u.x1,{activeDot:!1,dataKey:"trend",dot:!1,isAnimationActive:!1,label:!1,strokeWidth:2,stroke:X.palette.blue,yAxisId:Q.dailyCost.dataKey}),se&&t.createElement(u.x1,{dataKey:Q.metric.dataKey,dot:!1,isAnimationActive:!1,label:!1,strokeWidth:2,stroke:X.palette.magenta,yAxisId:Q.metric.dataKey}),t.createElement(u.u,{content:k,animationDuration:100}))))};var V=e(41128),G=e(90436),M=e(29103);const ce=_=>_.reduce((se,j)=>se+j.amount,0),ue=.1,le=({costBreakdown:_})=>{const se=(0,n.Z)(),j=(0,A.TP)(se),ae=(0,P.rr)(),{duration:X}=(0,P.mN)(Z),[z,Q]=(0,t.useState)(!1);if(!_)return null;const fe=_.map(ie=>ie.aggregation).flat(),q=ce(fe),k=(0,I.HS)(fe,X,ae),b=q-k,F=_.length>=8,N=[],W=_.reduce((ie,de)=>{const Pe=ce(de.aggregation),He=F&&Pe<q*ue,We={...ie};return He&&N.push(de.id),de.aggregation.forEach(Ge=>{const Ve=We[Ge.date]||{};We[Ge.date]={...Ve,[de.id]:(Ve[de.id]||0)+Ge.amount}}),We},{}),Ee=Object.keys(W).map(ie=>({...Object.keys(W[ie]).reduce((Pe,He)=>{const We=W[ie][He],Ge=!z&&N.includes(He)?{Other:(Pe.Other||0)+We}:{[He]:We};return{...Pe,...Ge}},{}),date:Date.parse(ie)})),Ce=_.sort((ie,de)=>ce(ie.aggregation)-ce(de.aggregation)),te=()=>{const ie=Ce.filter(Pe=>Pe.id!=="Other"&&!N.includes(Pe.id)).map(Pe=>Pe.id),de=z?Ce.map(Pe=>Pe.id):["Other",...ie];return de.map((Pe,He)=>{const We=se.palette.dataViz[(de.length-1-He)%(se.palette.dataViz.length-1)];return t.createElement(u.uN,{key:Pe,dataKey:Pe,isAnimationActive:!1,stackId:"1",stroke:We,fill:We,onClick:()=>Q(!0),style:{cursor:Pe==="Other"&&!z?"pointer":null}})})},Re=({label:ie,payload:de=[]})=>{if((0,p.wp)({label:ie,payload:de}))return null;const He=(typeof ie=="number"?g.ou.fromMillis(ie):g.ou.fromISO(ie)).toUTC().toFormat(f.DEFAULT_DATE_FORMAT),We=de.map(Ve=>({label:Ve.dataKey,value:(0,p.RI)(Ve.value),fill:Ve.fill})),Ge=t.createElement(o.Z,null,t.createElement(c.Z,{style:{backgroundColor:(0,V._4)(se.palette.divider,1),margin:"10px 0"}}),t.createElement(o.Z,{display:"flex",justifyContent:"space-between",alignItems:"center"},t.createElement(M.Z,null),t.createElement(G.Z,null,"Click to expand")));return t.createElement(h.Nx,{title:He},We.reverse().map((Ve,ut)=>t.createElement(h.Yg,{key:`${Ve.label}-${ut}`,item:Ve})),F&&!z?Ge:null)},$={previousName:(0,L.Iu)(X,ae,!1),currentName:(0,L.Iu)(X,ae,!0),hideMarker:!0};return t.createElement(o.Z,{display:"flex",flexDirection:"column"},t.createElement(o.Z,{display:"flex",flexDirection:"row"},t.createElement(h.mR,{costStart:k,costEnd:b,options:$})),t.createElement(u.h2,{width:j.container.width,height:j.container.height},t.createElement(u.TH,{data:Ee,margin:{top:16,right:30,bottom:40}},t.createElement(u.q3,{stroke:j.cartesianGrid.stroke}),t.createElement(u.Kc,{dataKey:"date",domain:["dataMin","dataMax"],tickFormatter:p.dR,tickCount:6,type:"number",stroke:j.axis.fill}),t.createElement(u.B2,{domain:[()=>0,"dataMax"],tick:{fill:j.axis.fill},tickFormatter:p.RI,width:j.yAxis.width}),te(),t.createElement(u.u,{content:Re,animationDuration:100}))))},me=({title:_,subtitle:se,children:j})=>t.createElement(o.Z,{mt:2,ml:1,mb:1,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},t.createElement(o.Z,{minHeight:40,paddingRight:5},t.createElement(G.Z,{variant:"h5",gutterBottom:!0},_),!!se&&t.createElement(G.Z,{variant:"subtitle2",color:"textSecondary",component:"div"},se)),t.createElement(o.Z,{minHeight:40,maxHeight:60,display:"flex"},j));var ge=e(20460),Ae=e(90254),ee=e(53317),Ie=e(92181),re=e(99539);const ne=({dailyCostData:_,metricData:se})=>{var Re;const j=(0,n.Z)(),ae=(0,A.tY)(j),X=(0,P.ZR)(),[z,Q]=(0,t.useState)(0),{setDuration:fe,setProject:q,setMetric:k,...b}=(0,P.mN)(Z);(0,t.useEffect)(()=>{var ie;const $=Object.keys((ie=_.groupedCosts)!=null?ie:{}).length;z>$&&Q(0)},[_,z,Q]);const F=b.metric?(0,Ie.cZ)(X.metrics,$=>$.kind===b.metric):null,N=Object.keys((Re=_.groupedCosts)!=null?Re:{}).map($=>({id:$,label:`Breakdown by ${$}`,title:`Cloud Cost By ${(0,r.Z)($)}`})),W=[{id:"overview",label:"Total cost",title:"Cloud Cost"}].concat(N),Ee=z>W.length-1?0:z,Ce=()=>t.createElement(t.Fragment,null,t.createElement(i.Z,{indicatorColor:"primary",onChange:($,ie)=>Q(ie),value:Ee},W.map(($,ie)=>t.createElement(d.Z,{className:ae.default,label:$.label,key:$.id,value:ie,classes:{selected:ae.selected}})))),te=X.metrics.length&&Ee===0;return t.createElement(s.Z,{style:{position:"relative",overflow:"visible"}},t.createElement(re.x,{id:ee.Ls.CostOverviewCard}),t.createElement(a.Z,null,_.groupedCosts&&t.createElement(Ce,null),t.createElement(me,{title:W[Ee].title},t.createElement(Ae.$,{duration:b.duration,onSelect:fe})),t.createElement(c.Z,null),t.createElement(o.Z,{ml:2,my:1,display:"flex",flexDirection:"column"},Ee===0?t.createElement(w,{dailyCostData:_,metric:F,metricData:se}):t.createElement(le,{costBreakdown:_.groupedCosts[W[Ee].id]})),t.createElement(o.Z,{display:"flex",justifyContent:"flex-end",alignItems:"center"},te&&t.createElement(ge.k,{metric:b.metric,metrics:X.metrics,onSelect:k}))))}},45827:function(H,l,e){"use strict";e.d(l,{V:function(){return o}});var t=e(2784),n=e(42494),r=e(56939),i=e(73698),d=e(12231),s=e(92181),a=e(10942);const c="engineers",o=({currency:g,currencies:u,onSelect:f})=>{const h=(0,a.$B)(),p=y=>{const E=y===c?null:y;return(0,s.cZ)(u,C=>C.kind===E)},A=y=>{const E=p(y.target.value);f(E)},R=y=>{const E=p(y);return t.createElement("b",null,E.label)};return t.createElement(n.Z,{variant:"outlined"},t.createElement(r.Z,{shrink:!0},"Convert to:"),t.createElement(i.Z,{className:h.select,variant:"outlined",labelWidth:100,onChange:A,value:g.kind||c,renderValue:R},u.map(y=>t.createElement(d.Z,{className:h.menuItem,key:y.kind||c,value:y.kind||c},t.createElement("span",{role:"img","aria-label":y.label},y.label)))))}},86467:function(H,l,e){"use strict";e.r(l),e.d(l,{LabelDataflowInstructionsPage:function(){return s}});var t=e(2784),n=e(90436),r=e(95544),i=e(11021),d=e(23192);const s=()=>t.createElement(i.R,{title:"Investigating Growth"},t.createElement(n.Z,{variant:"h1"},"Labeling Dataflow Jobs"),t.createElement(n.Z,{paragraph:!0},"Labels in Google Cloud Platform are key-value pairs that can be added to most types of cloud resources. Since these labels are also exported in billing data, adding labels allows a granular breakdown of cloud cost by software entity."),t.createElement(n.Z,{paragraph:!0},"In Cloud Dataflow, labels can be added to a job either programmatically or via the command-line when launching a job. Note that GCP has"," ",t.createElement(d.Link,{to:"https://cloud.google.com/compute/docs/labeling-resources#restrictions"},"restrictions")," ","on the length and characters that can be used in labels."),t.createElement(n.Z,{paragraph:!0},"Labels are not retroactive, so cost tracking is only possible from when the labels are first added to a Dataflow job."),t.createElement(r.Z,{mt:4},t.createElement(n.Z,{variant:"h3"},"DataflowPipelineOptions"),t.createElement(n.Z,{paragraph:!0},"Dataflow jobs using Beam's"," ",t.createElement(d.Link,{to:"https://beam.apache.org/releases/javadoc/2.3.0/org/apache/beam/runners/dataflow/options/DataflowPipelineOptions.html"},"DataflowPipelineOptions")," ","directly can use the ",t.createElement("b",null,"setLabels")," function to add one or more labels:",t.createElement(d.CodeSnippet,{language:"java",text:`private DataflowPipelineOptions options = PipelineOptionsFactory.fromArgs(args).as(DataflowPipelineOptionsImpl.class); 
options.setLabels(ImmutableMap.of("job-id", "my-dataflow-job"));`})),t.createElement(n.Z,{paragraph:!0},"Dataflow jobs using Scio can similarly set options on the ScioContext:",t.createElement(d.CodeSnippet,{language:"scala",text:`val (sc: ScioContext, args: Args) = ContextAndArgs(cmdLineArgs)
sc.optionsAs[DataflowPipelineOptions].setLabels(Map("job-id" -> "my-dataflow-job").asJava)`}))),t.createElement(r.Z,{mt:4},t.createElement(n.Z,{variant:"h3"},"Command-line"),t.createElement(n.Z,{paragraph:!0},"Dataflow jobs launched from the command-line can add labels as an argument:",t.createElement(d.CodeSnippet,{language:"shell",text:'--labels={"job-id": "my-dataflow-job", "date-argument": "2020-09-16"}'})),t.createElement(n.Z,{paragraph:!0},"For more information on specifying options, see the"," ",t.createElement(d.Link,{to:"https://cloud.google.com/dataflow/docs/guides/specifying-exec-params"},"Dataflow documentation")," ","or"," ",t.createElement(d.Link,{to:"https://spotify.github.io/scio/api/com/spotify/scio/ScioContext.html"},"Scio Scaladoc"),".")))},39140:function(H,l,e){"use strict";e.d(l,{Y:function(){return c}});var t=e(2784),n=e(95544),r=e(90436),i=e(80030),d=e(94941),s=e(76399),a=e(10942);const c=({title:o,tooltipText:g,markerColor:u,children:f})=>{const h=(0,a.Yp)();return t.createElement(n.Z,{display:"flex",flexDirection:"column"},t.createElement(n.Z,{minHeight:25,display:"flex",flexDirection:"row",alignItems:"center"},u&&t.createElement("div",{className:h.marker},t.createElement(d.Z,{style:{fontSize:"1em",fill:u}})),t.createElement(r.Z,{className:h.title,variant:"overline"},o),g&&t.createElement(i.ZP,{classes:{tooltip:h.tooltip},title:t.createElement(r.Z,{className:h.tooltipText},g),placement:"top-start"},t.createElement("span",{role:"img","aria-label":"help",className:h.helpIcon},t.createElement(s.Z,{fontSize:"small"})))),t.createElement(n.Z,{marginLeft:u?"1.5em":0},t.createElement(r.Z,{className:h.h5,variant:"h5"},f)))}},20460:function(H,l,e){"use strict";e.d(l,{k:function(){return a}});var t=e(2784),n=e(42494),r=e(56939),i=e(73698),d=e(12231),s=e(10942);const a=({metric:c,metrics:o,onSelect:g})=>{const u=(0,s.$B)();function f(h){h.target.value==="none"?g(null):g(h.target.value)}return t.createElement(n.Z,{variant:"outlined"},t.createElement(r.Z,{shrink:!0,id:"metric-select-label"},"Compare to:"),t.createElement(i.Z,{id:"metric-select",labelId:"metric-select-label",labelWidth:100,className:u.select,value:c!=null?c:"none",onChange:f},t.createElement(d.Z,{className:u.menuItem,key:"none",value:"none"},t.createElement("em",null,"None")),o.map(h=>t.createElement(d.Z,{className:u.menuItem,key:h.kind,value:h.kind},t.createElement("b",null,h.name)))))}},90254:function(H,l,e){"use strict";e.d(l,{$:function(){return g}});var t=e(2784),n=e(73698),r=e(12231),i=e(22892),d=e(44241),s=e(92181),a=e(10942),c=e(70590);function o(u){return[{value:i.Duration.P90D,label:"Past 6 Months"},{value:i.Duration.P30D,label:"Past 60 Days"},{value:i.Duration.P3M,label:(0,d.DU)(u)}]}const g=({duration:u,onSelect:f,options:h})=>{const p=(0,a.$B)(),A=(0,c.rr)(),R=h!=null?h:o(A),y=C=>{f(C.target.value)},E=C=>{const S=(0,s.cZ)(R,T=>T.value===C);return t.createElement("b",null,S.label)};return t.createElement(n.Z,{className:p.select,variant:"outlined",onChange:y,value:u,renderValue:E,"data-testid":"period-select"},R.map(C=>t.createElement(r.Z,{className:p.menuItem,key:C.value,value:C.value,"data-testid":`period-select-option-${C.value}`},C.label)))}},82585:function(H,l,e){"use strict";e.d(l,{U:function(){return R}});var t=e(2784),n=e(95544),r=e(90436),i=e(99688),d=e(83171),s=e(4614),a=e(82113),c=e(44601);const o=({initialStates:y,onSelectAsync:E})=>y.length?t.createElement(a.Z,{in:!0,timeout:1e3},y.map(({product:C,entity:S,duration:T})=>t.createElement(n.Z,{key:C.kind,mb:6,position:"relative","data-testid":`product-list-item-${C.kind}`},t.createElement(c.E,{product:C,onSelectAsync:E,initialState:{entity:S,duration:T}})))):t.createElement(n.Z,{display:"flex",justifyContent:"space-around",alignItems:"center"},t.createElement(s.Z,null));var g=e(88343),u=e(6740),f=e(20336),h=e(70590),p=e(36964);const A=({dispatch:y})=>E=>y({[u.ss.CostInsightsProducts]:E}),R=({group:y,project:E,products:C,onLoaded:S})=>{const T=(0,p.useApi)(d.C),P=(0,t.useRef)(!1),[I,Z]=(0,t.useState)([]),[L,D]=(0,t.useState)(null),B=(0,h.rr)(),w=(0,h.r$)(A),V=(0,t.useCallback)(w,[]),G=(0,t.useCallback)(async function(ce,ue){return T.getProductInsights({group:y,project:E,product:ce.kind,intervals:(0,g.b5)(ue,B)})},[T,y,E,B]);return(0,t.useEffect)(()=>{async function M(){try{V(!0);const ce=await Promise.allSettled(C.map(le=>T.getProductInsights({group:y,project:E,product:le.kind,intervals:(0,g.b5)(g.NA,B)}))).then(u.Pi),ue=(0,u.DP)(C,ce).sort(f.o8);Z(ue)}catch(ce){D(ce)}finally{V(!1)}}M()},[T,y,E,C,B,V]),(0,t.useEffect)(function(){if(P.current){const ce=I.map(ue=>ue.product);S(ce)}else P.current=!0},[I,S]),t.createElement(n.Z,{px:3,py:6},t.createElement(n.Z,{mt:0,mb:5,textAlign:"center"},t.createElement(r.Z,{variant:"h4",gutterBottom:!0},"Your team's product usage")),L?t.createElement(i.Z,{severity:"error"},L.message):t.createElement(o,{initialStates:I,onSelectAsync:G}))}},44601:function(H,l,e){"use strict";e.d(l,{E:function(){return A}});var t=e(2784),n=e(19928),r=e.n(n),i=e(90436),d=e(99688),s=e(90254),a=e(54954),c=e(10942),o=e(6740),g=e(70590),u=e(92181),f=e(99539),h=e(23192);const p=({dispatch:R})=>y=>R({[o.ss.CostInsightsProducts]:y}),A=({initialState:R,product:y,onSelectAsync:E})=>{const C=(0,c.VL)(),S=(0,t.useRef)(!1),[T,P]=(0,t.useState)(null),I=(0,g.r$)(p),Z=(0,g.rr)(),[L,D]=(0,t.useState)(R.entity),[B,w]=(0,t.useState)(R.duration),V=(0,t.useCallback)(I,[]);(0,t.useEffect)(()=>{async function le(){V(!0);try{const me=await E(y,B);D(me)}catch(me){D(null),P(me)}finally{V(!1)}}S.current?le():S.current=!0},[y,B,E,V]);const G=(0,u.De)(L==null?void 0:L.entities),M=G?L.entities[G]:[],ce=G&&M.length?`${r()(G,M.length,!0)}, sorted by cost`:null,ue={classes:C,action:t.createElement(s.$,{duration:B,onSelect:w})};return T||!L?t.createElement(h.InfoCard,{title:y.name,headerProps:ue},t.createElement(f.x,{id:y.kind}),t.createElement(d.Z,{severity:"error"},T?T.message:`Error: Could not fetch product insights for ${y.name}`)):t.createElement(h.InfoCard,{title:y.name,subheader:ce,headerProps:ue},t.createElement(f.x,{id:y.kind}),M.length?t.createElement(a.R,{entity:L,duration:B,billingDate:Z}):t.createElement(i.Z,null,"There are no ",y.name," costs within this time frame for your team's projects."))}},54954:function(H,l,e){"use strict";e.d(l,{R:function(){return L}});var t=e(2784),n=e(19928),r=e.n(n),i=e(95544),d=e(90436),s=e(29103),a=e(39140),c=e(8629),o=e(61837),g=e(87685),u=e(10942),f=e(72779),h=e.n(f),p=e(44241),A=e(80052),R=e(23192);function y(D,B){return function(V){const G=V,M=h()(B.row,{[B.rowTotal]:G.id==="total",[B.colFirst]:D==="label",[B.colLast]:D==="change"});switch(D){case"previous":case"current":return t.createElement(d.Z,{className:M},p.CT.format(G[D]));case"change":return t.createElement(A.m,{className:M,change:G.change,formatter:p.X6});default:return t.createElement(d.Z,{className:M},G.label)}}}function E(D){return function(w,V){const G=w,M=V;return G.id==="total"||M.id==="total"?1:D==="label"?G.label.localeCompare(M.label):D==="change"?(0,p.X6)(G[D])==="\u221E"||(0,p.X6)(M[D])==="-\u221E"?1:(0,p.X6)(G[D])==="-\u221E"||(0,p.X6)(M[D])==="\u221E"?-1:G[D].ratio-M[D].ratio:M.previous+M.current-(G.previous+G.current)}}const C=({entityLabel:D,entity:B,options:w})=>{const V=(0,u.jJ)(),G=B.entities[D],M=Object.assign({previousName:"Previous",currentName:"Current"},w),ce=h()(V.column,V.colFirst),ue=h()(V.column,V.colLast),le=[{field:"label",title:t.createElement(d.Z,{className:ce},D),render:y("label",V),customSort:E("label"),width:"33.33%"},{field:"previous",title:t.createElement(d.Z,{className:V.column},M.previousName),align:"right",render:y("previous",V),customSort:E("previous")},{field:"current",title:t.createElement(d.Z,{className:V.column},M.currentName),align:"right",render:y("current",V),customSort:E("current")},{field:"change",title:t.createElement(d.Z,{className:ue},"Change"),align:"right",render:y("change",V),customSort:E("change")}],me=G.map(ge=>({id:ge.id||"Unknown",label:ge.id||"Unknown",previous:ge.aggregation[0],current:ge.aggregation[1],change:ge.change})).concat({id:"total",label:"Total",previous:B.aggregation[0],current:B.aggregation[1],change:B.change}).sort(E());return t.createElement(R.Table,{columns:le,data:me,title:B.id||"Unlabeled",options:{paging:!1,search:!1,hideFilterIcons:!0}})};var S=e(92181);const T=({open:D,entity:B,options:w={},onClose:V})=>{const G=(0,u.jJ)(),M=Object.keys(B.entities),[ce,ue]=(0,t.useState)((0,S.cZ)(M,me=>!0)),le=M.map((me,ge)=>({id:ge.toString(),label:`Breakdown by ${me}`}));return t.createElement(c.Z,{open:D,onClose:V,scroll:"body",fullWidth:!0,maxWidth:"lg"},t.createElement(o.Z,{className:G.closeButton,onClick:V},t.createElement(g.Z,null)),t.createElement(R.HeaderTabs,{tabs:le,onChange:me=>ue(M[me])}),t.createElement(C,{entityLabel:ce,entity:B,options:w}))};var P=e(47994),I=e(27114),Z=e(96426);const L=({billingDate:D,entity:B,duration:w})=>{const V=(0,u.yZ)(),G=(0,u.SY)(),M=(0,t.useMemo)(()=>{var z;const X=(0,S.tN)((0,S.De)(B.entities));return(z=B.entities[X])!=null?z:[]},[B]),[ce,ue]=(0,t.useState)(),[le,me]=(0,t.useState)(),ge=(0,t.useMemo)(()=>!(0,S.o8)(le),[le]),Ae=(0,t.useMemo)(()=>{var z,Q;return Object.keys((Q=(z=M.find(fe=>fe.id===ce))==null?void 0:z.entities)!=null?Q:{}).length>0},[M,ce]),ee=B.aggregation[0],Ie=B.aggregation[1],re=M.map(I.ix),ne={previousName:(0,p.Iu)(w,D,!1),currentName:(0,p.Iu)(w,D,!0)},_=X=>{(0,I.cs)(X)?ue(X.activeLabel):(0,I._R)(X)?ue(null):ue(void 0)},se=X=>{(0,I.cs)(X)?me(X.activeLabel):(0,I._R)(X)?me(null):me(void 0)},j=({label:X,payload:z=[]})=>{if((0,I.wp)({label:X,payload:z}))return null;const Q=X===""?null:X,fe=(0,I.z4)(X),q=z.map(I.wy).filter(S.Dw),k=(0,S.cZ)(M,F=>F.id===Q),b=Object.keys(k.entities);if(b.length){const F=b.map(N=>r()(N,k.entities[N].length,!0)).join(", ");return t.createElement(P.Nx,{title:fe,subtitle:F,topRight:!!k.change.ratio&&t.createElement(A.m,{formatter:p.X6,change:k.change,className:V.indicator}),actions:t.createElement(i.Z,{className:V.actions},t.createElement(s.Z,null),t.createElement(d.Z,null,"Click for breakdown"))},q.map((N,W)=>t.createElement(P.Yg,{key:`${N.label}-${W}`,item:N})))}return t.createElement(P.Nx,{title:fe,topRight:!!k.change.ratio&&t.createElement(A.m,{formatter:p.X6,change:k.change,className:V.indicator}),content:Q?null:"This product has costs that are not labeled and therefore can't be attributed to a specific entity."},q.map((F,N)=>t.createElement(P.Yg,{key:`${F.label}-${N}`,item:F})))},ae=Ae?{onClick:se}:{};return t.createElement(i.Z,{className:G.wrapper},t.createElement(P.mR,{costStart:ee,costEnd:Ie,options:ne},t.createElement(a.Y,{title:(0,Z.RN)(["Cost Savings","Cost Excess"],B.change)},t.createElement(A.y,{change:B.change,duration:w}))),t.createElement(P.vz,{resources:re,tooltip:j,onMouseMove:_,options:ne,...ae}),ge&&M.length&&t.createElement(T,{open:ge,onClose:()=>me(void 0),entity:(0,S.cZ)(M,X=>X.id===le),options:ne}))}},46121:function(H,l,e){"use strict";e.d(l,{R:function(){return n.R}});var t=e(44601),n=e(54954)},57600:function(H,l,e){"use strict";e.d(l,{p:function(){return p}});var t=e(2784),n=e(19928),r=e.n(n),i=e(96299),d=e(95544),s=e(47994),a=e(39140),c=e(80052),o=e(22892),g=e(10942),u=e(27114);const f=({alert:A})=>{const R=(0,g.SY)(),y=A.aggregation[0],E=A.aggregation[1],C=A.products.map(u.ix),S={previousName:i.ou.fromFormat(A.periodStart,"yyyy-'Q'q").toFormat("'Q'q yyyy"),currentName:i.ou.fromFormat(A.periodEnd,"yyyy-'Q'q").toFormat("'Q'q yyyy")};return t.createElement(d.Z,{className:R.wrapper},t.createElement(s.mR,{costStart:y,costEnd:E,options:S},t.createElement(a.Y,{title:"Cost Growth"},t.createElement(c.y,{change:A.change,duration:o.Duration.P3M}))),t.createElement(s.vz,{resources:C,options:S}))};var h=e(23192);const p=({alert:A})=>{const R=`
    ${r()("product",A.products.length,!0)}${A.products.length>1?", sorted by cost":""}`;return t.createElement(h.InfoCard,{title:`Project growth for ${A.project}`,subheader:R},t.createElement(f,{alert:A}))}},48138:function(H,l,e){"use strict";e.r(l),e.d(l,{ProjectGrowthInstructionsPage:function(){return u}});var t=e(2784),n=e(96299),r=e(90436),i=e(95544),d=e(11021),s=e(46121),a=e(22892),c=e(29777),o=e(23192);const g=n.ou.now().toFormat(a.DEFAULT_DATE_FORMAT),u=()=>{const f={project:"example-project",periodStart:"Q1 2020",periodEnd:"Q2 2020",aggregation:[6e4,12e4],change:{ratio:1,amount:6e4},products:[{id:"Compute Engine",aggregation:[58e3,118e3]},{id:"Cloud Dataflow",aggregation:[1200,1500]},{id:"Cloud Storage",aggregation:[800,500]}]},h=new c.R(f),p={kind:"ComputeEngine",name:"Compute Engine"},A={id:"example-id",aggregation:[2e4,6e4],change:{ratio:3,amount:4e4},entities:{service:[{id:"service-one",aggregation:[18200,58500],entities:{},change:{ratio:2.21,amount:40300}},{id:"service-two",aggregation:[1200,1300],entities:{},change:{ratio:.083,amount:100}},{id:"service-three",aggregation:[600,200],entities:{},change:{ratio:-.666,amount:-400}}]}};return t.createElement(d.R,{title:"Investigating Growth"},t.createElement(r.Z,{variant:"h1"},"Investigating cloud cost growth"),t.createElement(r.Z,{paragraph:!0},"Cost Insights shows an alert when costs for a particular billing entity, such as a GCP project, have grown at a rate faster than our alerting threshold. The responsible team should follow this guide to decide whether this warrants further investigation."),t.createElement(i.Z,{mt:4},t.createElement(r.Z,{variant:"h3"},"Is the growth expected?"),t.createElement(r.Z,{paragraph:!0},"The first question to ask is whether growth is expected. Perhaps a new product has been deployed, or additional regions added for reliability."),t.createElement(r.Z,{paragraph:!0},"Many services increase cost linearly with load. Has the demand increased? This may happen as you open new markets, or run marketing offers. Costs should be compared against a business metric, such as daily users, to normalize natural increases from business growth."),t.createElement(r.Z,{paragraph:!0},"Seasonal variance may also cause cost growth; yearly campaigns, an increase in demand during certain times of year."),t.createElement(r.Z,{paragraph:!0},"Cloud costs will often go up before they go down, in the case of migrations. Teams moving to new infrastructure may run in both the old and new environment during the migration.")),t.createElement(i.Z,{mt:4},t.createElement(r.Z,{variant:"h3"},"Is the growth significant?"),t.createElement(r.Z,{paragraph:!0},"Next, evaluate whether the growth is significant. This helps avoid premature optimization, where cost in engineering time is more than would be saved from the optimization over a reasonable time frame."),t.createElement(r.Z,{paragraph:!0},"We recommend reframing the cost growth itself in terms of engineering time. How much engineering time, for an ",t.createElement("i",null,"average")," fully-loaded engineer cost at the company, is being overspent each month? Compare this to expected engineering time for optimization to decide whether the optimization is worthwhile.")),t.createElement(i.Z,{mt:4},t.createElement(r.Z,{variant:"h3"},"Identifying which cloud product contributed most"),t.createElement(r.Z,{paragraph:!0},"For projects meeting the alert threshold, Cost Insights shows a cost comparison of cloud products over the examined time period:"),t.createElement(i.Z,{mt:2,mb:2},h.element),t.createElement(r.Z,{paragraph:!0},"This allows you to quickly see which cloud products contributed to the growth in cloud costs.")),t.createElement(i.Z,{mt:4},t.createElement(r.Z,{variant:"h3"},"Identifying the responsible workload"),t.createElement(r.Z,{paragraph:!0},"After identifying the cloud product, use the corresponding product panel in Cost Insights to find a particular workload (or ",t.createElement("i",null,"entity"),") that has grown in cost:"),t.createElement(i.Z,{mt:2,mb:2},t.createElement(o.InfoCard,{title:p.name,subheader:"3 entities, sorted by cost"},t.createElement(s.R,{billingDate:g,duration:a.Duration.P3M,entity:A}))),t.createElement(r.Z,{paragraph:!0},"From here, you can dig into commit history or deployment logs to find probable causes of an unexpected spike in cost.")),t.createElement(i.Z,{mt:4},t.createElement(r.Z,{variant:"h3"},"Optimizing the workload"),t.createElement(r.Z,{paragraph:!0},"Workload optimization varies between cloud products, but there are a few general optimization areas to consider:"),t.createElement(r.Z,{variant:"h5"},"Retention"),t.createElement(r.Z,{paragraph:!0},"Is the workload or storage necessary? Truly idle or unused resources can be cleaned up for immediate cost savings. For storage, how long do we need the data? Many cloud products support retention policies to automatically delete data after a certain time period."),t.createElement(r.Z,{variant:"h5"},"Efficiency"),t.createElement(r.Z,{paragraph:!0},"Is the workload using cloud resources efficiently? For compute resources, do the utilization metrics look reasonable? Autoscaling infrastructure, such as Kubernetes, can run workloads more efficiently without compromising reliability."),t.createElement(r.Z,{variant:"h5"},"Lifecycle"),t.createElement(r.Z,{paragraph:!0},"Is the workload using an optimal pricing model? Some cloud products offer better pricing for data that is accessed less frequently.")))}},9110:function(H,l,e){"use strict";e.d(l,{y:function(){return d}});var t=e(2784),n=e(73698),r=e(12231),i=e(10942);const d=({project:s,projects:a,onSelect:c})=>{const o=(0,i.$B)(),g=a.filter(h=>h.id).sort((h,p)=>{var A,R;return((A=h.name)!=null?A:h.id).localeCompare((R=p.name)!=null?R:p.id)}),u=h=>{c(h.target.value)},f=h=>{var R;const p=h,A=a.find(y=>y.id===p);return t.createElement("b",{"data-testid":`selected-${p}`},p==="all"?"All Projects":(R=A==null?void 0:A.name)!=null?R:p)};return t.createElement(n.Z,{className:o.select,variant:"outlined",value:s!=null?s:"all",renderValue:f,onChange:u,"data-testid":"project-filter-select"},[{id:"all"},...g].map(h=>{var p;return t.createElement(r.Z,{className:`${o.menuItem} compact`,key:h.id,value:h.id,"data-testid":`option-${h.id}`},h.id==="all"?"All Projects":(p=h.name)!=null?p:h.id)}))}},25180:function(H,l,e){"use strict";e.d(l,{O:function(){return c}});var t=e(2784),n=e(19928),r=e.n(n),i=e(95544),d=e(47994),s=e(10942),a=e(23192);const c=({alert:o})=>{const g=(0,s.SY)(),f=`
    Showing costs from ${r()("project",o.projects.length,!0)} with unlabeled Dataflow jobs in the last 30 days.
  `,h={previousName:"Unlabeled Cost",currentName:"Labeled Cost"},p=o.projects.map(A=>({name:A.id,previous:A.unlabeledCost,current:A.labeledCost}));return t.createElement(a.InfoCard,{title:"Label Dataflow",subheader:f},t.createElement(i.Z,{className:g.wrapper},t.createElement(d.mR,{costStart:o.unlabeledCost,costEnd:o.labeledCost,options:h}),t.createElement(d.vz,{resources:p,options:h})))}},3567:function(H,l,e){"use strict";e.d(l,{w:function(){return a}});var t=e(2784),n=e(95544),r=e(77611),i=e(90436),d=e(60905),s=e(85256);const a=()=>t.createElement(n.Z,{mt:10,mb:4},t.createElement(r.Z,{maxWidth:"md"},t.createElement(n.Z,{mt:2,mb:2},t.createElement(i.Z,{variant:"h5",align:"center",gutterBottom:!0},"Why cloud costs matter")),t.createElement(d.Z,{container:!0,alignContent:"space-around",spacing:3,wrap:"nowrap"},t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"h6"},"Sustainability"," ",t.createElement("span",{role:"img","aria-label":"globe"},"\u{1F30E}")),t.createElement(i.Z,null,"Reducing cloud usage improves our carbon footprint.")),t.createElement(d.Z,{item:!0},t.createElement(s.Z,{orientation:"vertical"})),t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"h6"},"Revenue"," ",t.createElement("span",{role:"img","aria-label":"money-with-wings"},"\u{1F4B8}")),t.createElement(i.Z,null,"Keeping cloud costs well-tuned prevents infrastructure from eating into revenue.")),t.createElement(d.Z,{item:!0},t.createElement(s.Z,{orientation:"vertical"})),t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"h6"},"Innovation"," ",t.createElement("span",{role:"img","aria-label":"medal"},"\u{1F947}")),t.createElement(i.Z,null,"The more we save, the more we can reinvest in speed and innovation.")))))},70590:function(H,l,e){"use strict";e.d(l,{T3:function(){return n.T3},U8:function(){return n.U8},XY:function(){return i.XY},ZR:function(){return t.ZR},g4:function(){return s.g4},iV:function(){return t.iV},mN:function(){return r.mN},r$:function(){return d.r$},rr:function(){return a.rr},vO:function(){return s.vO}});var t=e(61654),n=e(9121),r=e(55689),i=e(79780),d=e(65220),s=e(73750),a=e(40241)},61654:function(H,l,e){"use strict";e.d(l,{iV:function(){return o},ZR:function(){return g}});var t=e(2784),n=e(53317);function r(f){const h=f.filter(p=>p.default);if(h.length>1)throw new Error(`Only one default metric can be set at a time. Found ${h.length}`)}function i(f){const h=f.filter(p=>p.kind===null);if(h.length>1)throw new Error(`Only one currency can be without kind. Found ${h.length}`)}var d=e(36263),s=e(36964);const a=(0,t.createContext)(void 0),c={metrics:[],products:[],icons:[],engineerCost:0,currencies:d.V},o=({children:f})=>{const h=(0,s.useApi)(s.configApiRef),[p,A]=(0,t.useState)(c),[R,y]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{function E(){const Z=h.getConfig("costInsights.products");return Z.keys().map(L=>({kind:L,name:Z.getString(`${L}.name`),aggregation:[0,0]}))}function C(){const Z=h.getOptionalConfig("costInsights.metrics");return Z?Z.keys().map(L=>{var D;return{kind:L,name:Z.getString(`${L}.name`),default:(D=Z.getOptionalBoolean(`${L}.default`))!=null?D:!1}}):[]}function S(){const Z=h.getOptionalConfig("costInsights.currencies");return Z?Z.keys().map(L=>({label:Z.getString(`${L}.label`),unit:Z.getString(`${L}.unit`),kind:Z.getOptionalString(`${L}.kind`)||null,prefix:Z.getOptionalString(`${L}.prefix`),rate:Z.getOptionalNumber(`${L}.rate`)})):d.V}function T(){const Z=h.getConfig("costInsights.products");return Z.keys().map(D=>({kind:D,component:(0,n.q7)(Z.getOptionalString(`${D}.icon`))}))}function P(){return h.getNumber("costInsights.engineerCost")}function I(){const Z=E(),L=C(),D=P(),B=T(),w=S();r(L),i(w),A(V=>({...V,metrics:L,products:Z,engineerCost:D,icons:B,currencies:w})),y(!1)}I()},[]),R?null:t.createElement(a.Provider,{value:p},f)};function g(){const f=(0,t.useContext)(a);return f||u()}function u(){throw new Error("Cannot use useConfig outside of ConfigProvider")}},9121:function(H,l,e){"use strict";e.d(l,{T3:function(){return i},U8:function(){return d}});var t=e(2784),n=e(61654);const r=t.createContext(void 0),i=({children:a})=>{const o=(0,n.ZR)().currencies,g=o.find(h=>h.kind===null),[u,f]=(0,t.useState)(g||o[0]);return t.createElement(r.Provider,{value:{currency:u,setCurrency:f}},a)};function d(){const a=(0,t.useContext)(r);return a||s(),[a.currency,a.setCurrency]}function s(){throw Error("Cannot use useCurrency outside of CurrencyProvider")}},55689:function(H,l,e){"use strict";e.d(l,{hz:function(){return E},mN:function(){return C}});var t=e(2784),n=e(99688),r=e(10289),i=e(19126),d=e.n(i),s=e(9699),a=e(22892);function c(T){return{group:T.length?T[0].id:null,project:null,duration:a.Duration.P90D,metric:null}}const o=s.Ry().shape({group:s.Z_().nullable(),project:s.Z_().nullable()}).required(),g=T=>d().stringify(T,{strictNullHandling:!0}),u=T=>d().parse(T,{ignoreQueryPrefix:!0,strictNullHandling:!0}),f=T=>o.validate(u(T),{stripUnknown:!0,strict:!0}),h=(T,P={})=>({...c(T),...P.project?{project:P.project}:{},...P.group?{group:P.group}:{}}),p=T=>T.products.map(P=>({productType:P.kind,duration:a.Duration.P30D}));var A=e(79780),R=e(61654);const y=t.createContext(void 0),E=({children:T})=>{const P=(0,R.ZR)(),I=(0,r.s0)(),Z=(0,r.TH)(),L=(0,A.XY)(),[D,B]=(0,t.useState)(null),[w,V]=(0,t.useState)(null),[G,M]=(0,t.useState)(null);return(0,t.useEffect)(()=>{async function ce(){var ue,le;try{const me=await f(Z.search),ge=(le=(ue=P.metrics.find(Ie=>Ie.default))==null?void 0:ue.kind)!=null?le:null,Ae=h(L,me),ee=p(P);M(ee),V({...Ae,metric:ge})}catch(me){B(me)}}ce()},[L]),(0,t.useEffect)(()=>{function ce(ue){const le=g({group:ue.group,...ue.project?{project:ue.project}:{}});I({...Z,search:`?${le}`})}w&&ce(w)},[w]),D?t.createElement(n.Z,{severity:"error"},D.message):!w||!G?null:t.createElement(y.Provider,{value:{pageFilters:w,productFilters:G,setPageFilters:V,setProductFilters:M}},T)};function C(T){const P=(0,t.useContext)(y);return P?T(P):S()}function S(){throw Error("Cannot use useFilters outside of FilterProvider")}},79780:function(H,l,e){"use strict";e.d(l,{XY:function(){return u},pr:function(){return g}});var t=e(2784),n=e(99688),r=e(83171),i=e(65220),d=e(6740),s=e(36964),a=e(48023);const c=({dispatch:h})=>({dispatchLoadingGroups:p=>h({[d.ss.UserGroups]:p})}),o=t.createContext(void 0),g=({children:h})=>{const p=(0,s.useApi)(s.identityApiRef),A=(0,s.useApi)(r.C),[R,y]=(0,t.useState)(null),{dispatchLoadingGroups:E}=(0,i.r$)(c),[C,S]=(0,t.useState)(null);return(0,t.useEffect)(()=>{E(!0);async function T(){try{const{userEntityRef:P}=await p.getBackstageIdentity(),{name:I}=(0,a.of)(P,{defaultKind:"User",defaultNamespace:a.zG}),Z=await A.getUserGroups(I);S(Z)}catch(P){y(P)}finally{E(!1)}}T()},[A]),R?t.createElement(n.Z,{severity:"error"},R.message):C?t.createElement(o.Provider,{value:{groups:C}},h):null};function u(){const h=(0,t.useContext)(o);return h?h.groups:f()}function f(){throw Error("Cannot use useGroups outside of GroupsProvider")}},40241:function(H,l,e){"use strict";e.d(l,{p3:function(){return f},rr:function(){return h}});var t=e(2784),n=e(9699),r=e(99688),i=e(83171),d=e(65220),s=e(6740),a=e(36964);const c=({dispatch:A})=>({dispatchLoadingBillingDate:R=>A({[s.ss.LastCompleteBillingDate]:R})}),o=t.createContext(void 0),g=/^\d{4}-\d{2}-\d{2}$/,u=n.Z_().matches(g,{message:"Unsupported billing date format: ${value}. Date should be in YYYY-MM-DD format.",excludeEmptyString:!0}),f=({children:A})=>{const R=(0,a.useApi)(i.C),[y,E]=(0,t.useState)(null),{dispatchLoadingBillingDate:C}=(0,d.r$)(c),[S,T]=(0,t.useState)(null);return(0,t.useEffect)(()=>{C(!0);async function P(){try{const I=await R.getLastCompleteBillingDate(),Z=await u.validate(I);Z&&T(Z)}catch(I){E(I)}finally{C(!1)}}P()},[R]),y?t.createElement(r.Z,{severity:"error"},y.message):S?t.createElement(o.Provider,{value:{lastCompleteBillingDate:S}},A):null};function h(){const A=(0,t.useContext)(o);return A?A.lastCompleteBillingDate:p()}function p(){throw Error("Cannot use useLastCompleteBillingDate outside of BillingDateProvider")}},65220:function(H,l,e){"use strict";e.d(l,{PK:function(){return c},r$:function(){return o}});var t=e(2784),n=e(41262),r=e(4614),i=e(6740),d=e(10942);const s=(0,t.createContext)(void 0);function a(u,f){return{...u,...f}}const c=({children:u})=>{const f=(0,d.qd)(),h=i.yz,[p,A]=(0,t.useReducer)(a,(0,i.mg)(h)),[R,y]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{function E(){y(!p[i.ss.CostInsightsInitial]&&Object.values(p).some(C=>C))}E()},[p,y]),t.createElement(s.Provider,{value:{state:p,actions:h,dispatch:A}},u,t.createElement(n.Z,{open:R,classes:f},t.createElement(r.Z,null)))};function o(u){const f=(0,t.useContext)(s);return f||g(),u({state:f.state,actions:f.actions,dispatch:f.dispatch})}function g(){throw Error("useLoading cannot be used outside of LoadingProvider")}},73750:function(H,l,e){"use strict";e.d(l,{ID:function(){return r},g4:function(){return i},vO:function(){return d}});var t=e(2784);const n=t.createContext(void 0),r=({children:a})=>{const[c,o]=(0,t.useState)(null);return t.createElement(n.Provider,{value:{scroll:c,setScroll:o}},a)};var i;(function(a){const c="alert-status-summary";a.AlertSummary=c})(i||(i={}));function d(){const a=(0,t.useContext)(n);return a||s(),[a.scroll,a.setScroll]}function s(){throw new Error("Cannot use useScroll outside ScrollProvider")}},51664:function(){},99021:function(){},29079:function(){},1605:function(){},22892:function(H,l,e){"use strict";e.d(l,{AlertDismissOptions:function(){return d},AlertDismissReason:function(){return i},AlertSnoozeOptions:function(){return s},AlertStatus:function(){return r},ChangeThreshold:function(){return o},CurrencyType:function(){return p},DEFAULT_DATE_FORMAT:function(){return n},DataKey:function(){return a},Duration:function(){return t},EngineerThreshold:function(){return c},GrowthType:function(){return g},IconType:function(){return R}});var t;(function(y){const E="P7D";y.P7D=E;const C="P30D";y.P30D=C;const S="P90D";y.P90D=S;const T="P3M";y.P3M=T})(t||(t={}));const n="yyyy-LL-dd";var r;(function(y){const E="snoozed";y.Snoozed=E;const C="accepted";y.Accepted=C;const S="dismissed";y.Dismissed=S})(r||(r={}));var i;(function(y){const E="other";y.Other=E;const C="resolved";y.Resolved=C;const S="expected";y.Expected=S;const T="seasonal";y.Seasonal=T;const P="migration";y.Migration=P;const I="not-applicable";y.NotApplicable=I})(i||(i={}));const d=[{reason:i.Resolved,label:"This action item is now resolved."},{reason:i.Seasonal,label:"This is an expected increase at this time of year."},{reason:i.Migration,label:"This increase is from a migration in process."},{reason:i.Expected,label:"This is an expected increase due to our team\u2019s priorities."},{reason:i.NotApplicable,label:"This action item doesn\u2019t make sense for my team."},{reason:i.Other,label:"Other (please specify)"}],s=[{duration:t.P7D,label:"1 Week"},{duration:t.P30D,label:"1 Month"},{duration:t.P90D,label:"1 Quarter"}];var a;(function(y){const E="previous";y.Previous=E;const C="current";y.Current=C;const S="name";y.Name=S})(a||(a={}));const c=.5;var o;(function(y){y[y.upper=.05]="upper";const C=-.05;y[y.lower=C]="lower"})(o||(o={}));var g;(function(y){y[y.Negligible=0]="Negligible";const C=0+1;y[y.Savings=C]="Savings";const S=C+1;y[y.Excess=S]="Excess"})(g||(g={}));var u=e(51664),f=e(99021),h=e(29079),p;(function(y){const E="USD";y.USD=E;const C="CARBON_OFFSET_TONS";y.CarbonOffsetTons=C;const S="BEERS";y.Beers=S;const T="PINTS_OF_ICE_CREAM";y.IceCream=T})(p||(p={}));var A=e(1605),R;(function(y){const E="compute";y.Compute=E;const C="data";y.Data=C;const S="database";y.Database=S;const T="storage";y.Storage=T;const P="search";y.Search=P;const I="ml";y.ML=I})(R||(R={}))},22896:function(H,l,e){"use strict";e.d(l,{RN:function(){return Ae},IO:function(){return ge},vT:function(){return V},dk:function(){return T},fl:function(){return C},KK:function(){return P},uN:function(){return S},u_:function(){return G},PW:function(){return w},yy:function(){return L},Tl:function(){return D},Ub:function(){return Z},Al:function(){return Ie}});var t=e(22892),n=e(2784),r=e(42494),i=e(5806),d=e(21324);const s=(0,n.forwardRef)(({onSubmit:re,disableSubmit:ne},_)=>{const[se,j]=(0,n.useState)(!1),ae=z=>{z.preventDefault(),re(null)},X=(z,Q)=>{j(Q),ne(!Q)};return n.createElement("form",{ref:_,onSubmit:ae},n.createElement(r.Z,{component:"fieldset",fullWidth:!0},n.createElement(i.Z,{label:"My team can commit to making this change soon, or has already.",value:se,control:n.createElement(d.Z,{color:"primary",checked:se,onChange:X})})))});var a=e(96299),c=e(90436),o=e(95544),g=e(2682),u=e(44962),f=e(10942),h=e(88343);const p=(0,n.forwardRef)(({onSubmit:re,disableSubmit:ne},_)=>{const se=(0,f.rl)(),[j,ae]=(0,n.useState)(t.Duration.P7D);(0,n.useEffect)(()=>ne(!1),[ne]);const X=Q=>{if(Q.preventDefault(),j){const q=a.ou.now().toFormat(t.DEFAULT_DATE_FORMAT);re({intervals:(0,h.b5)(j,q,1)})}},z=(Q,fe)=>{ae(fe)};return n.createElement("form",{ref:_,onSubmit:X},n.createElement(r.Z,{component:"fieldset",fullWidth:!0},n.createElement(c.Z,{color:"textPrimary"},n.createElement("b",null,"For how long?")),n.createElement(o.Z,{mb:1},n.createElement(g.Z,{name:"snooze-alert-options",value:j,onChange:z},t.AlertSnoozeOptions.map(Q=>n.createElement(i.Z,{key:`snooze-alert-option-${Q.duration}`,label:Q.label,value:Q.duration,control:n.createElement(u.Z,{className:se.radio})}))))))});var A=e(82113),R=e(86619);const y=(0,n.forwardRef)(({onSubmit:re,disableSubmit:ne},_)=>{const se=(0,f.rl)(),[j,ae]=(0,n.useState)(null),[X,z]=(0,n.useState)(null),[Q,fe]=(0,n.useState)(t.AlertDismissReason.Resolved),q=N=>{N.preventDefault(),Q&&re({other:j,reason:Q,feedback:X})},k=(N,W)=>{j&&ae(null),fe(W)},b=N=>N.target.value?ae(N.target.value):ae(null),F=N=>N.target.value?z(N.target.value):z(null);return(0,n.useEffect)(()=>{function N(){Q===t.AlertDismissReason.Other?ne(!j):ne(!Q)}N()},[Q,j,ne]),n.createElement("form",{ref:_,onSubmit:q},n.createElement(r.Z,{component:"fieldset",fullWidth:!0},n.createElement(c.Z,{color:"textPrimary"},n.createElement("b",null,"Reason for dismissing?")),n.createElement(o.Z,{mb:1},n.createElement(g.Z,{name:"dismiss-alert-reasons",value:Q,onChange:k},t.AlertDismissOptions.map(N=>n.createElement(i.Z,{key:`dismiss-alert-option-${N.reason}`,label:N.label,value:N.reason,control:n.createElement(u.Z,{className:se.radio})}))),n.createElement(A.Z,{in:Q===t.AlertDismissReason.Other},n.createElement(o.Z,{ml:4},n.createElement(R.Z,{id:"dismiss-alert-option-other",variant:"outlined",multiline:!0,fullWidth:!0,rows:4,value:j!=null?j:"",onChange:b})))),n.createElement(c.Z,{gutterBottom:!0},n.createElement("b",null,"Any other feedback you can provide?")),n.createElement(R.Z,{id:"dismiss-alert-feedback",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,value:X!=null?X:"",onChange:F})))}),E=re=>ne=>ne.status===re,C=re=>!ee(re,"status"),S=E(t.AlertStatus.Snoozed),T=E(t.AlertStatus.Accepted),P=E(t.AlertStatus.Dismissed),I=re=>ne=>ne===re,Z=I(t.AlertStatus.Snoozed),L=I(t.AlertStatus.Accepted),D=I(t.AlertStatus.Dismissed),B=re=>ne=>ee(ne,re),w=B("onSnoozed"),V=B("onAccepted"),G=B("onDismissed"),M=re=>ne=>{if(!ne||ne[re]===null)return!1;switch(re){case"SnoozeForm":return w(ne);case"AcceptForm":return V(ne);case"DismissForm":return G(ne);default:return!1}},ce=M("SnoozeForm"),ue=M("AcceptForm"),le=M("DismissForm"),me=(re,ne)=>{switch(ne){case AlertStatus.Snoozed:return(re==null?void 0:re.SnoozeForm)===null;case AlertStatus.Accepted:return(re==null?void 0:re.AcceptForm)===null;case AlertStatus.Dismissed:return(re==null?void 0:re.DismissForm)===null;default:return!1}};function ge(re,ne){var _,se,j;switch(ne){case t.AlertStatus.Snoozed:{const ae=(_=re==null?void 0:re.SnoozeForm)!=null?_:p;return ce(re)?ae:null}case t.AlertStatus.Accepted:{const ae=(se=re==null?void 0:re.AcceptForm)!=null?se:s;return ue(re)?ae:null}case t.AlertStatus.Dismissed:{const ae=(j=re==null?void 0:re.DismissForm)!=null?j:y;return le(re)?ae:null}default:return null}}function Ae(re,ne,_){switch(re){case t.AlertStatus.Snoozed:return ne[0];case t.AlertStatus.Accepted:return ne[1];case t.AlertStatus.Dismissed:return ne[2];default:return _}}function ee(re,ne){return ne in(re!=null?re:{})}const Ie=(re,ne)=>re+ne.length},92181:function(H,l,e){"use strict";e.d(l,{De:function(){return a},Dw:function(){return t},cZ:function(){return s},o8:function(){return n},tN:function(){return d},vE:function(){return i}});function t(c){return!r(c)&&!n(c)}function n(c){return c===void 0}function r(c){return c===null}function i(c){throw new Error(`Exhaustiveness check failed: ${c}`)}function d(c){if(c===void 0)throw new TypeError("Expected to always find a value but received undefined");return c}function s(c,o){return d(c.find(o))}function a(c){return Object.keys(c!=null?c:{}).find(o=>!0)}},96426:function(H,l,e){"use strict";e.d(l,{HS:function(){return a},RN:function(){return c},XY:function(){return d},rs:function(){return s}});var t=e(22892),n=e(96299),r=e(88343),i=e(92181);function d(o){const g=Math.abs(o.amount)>=t.EngineerThreshold;if((0,i.Dw)(o.ratio)){if(g&&o.ratio>=t.ChangeThreshold.upper)return t.GrowthType.Excess;if(g&&o.ratio<=t.ChangeThreshold.lower)return t.GrowthType.Savings}else{if(g&&o.amount>0)return t.GrowthType.Excess;if(g&&o.amount<0)return t.GrowthType.Savings}return t.GrowthType.Negligible}function s(o,g,u,f){var R,y;const h=(R=o.change)==null?void 0:R.ratio,p=(y=g.change)==null?void 0:y.ratio,A=a(o.aggregation,u,f);return!(0,i.Dw)(h)||!(0,i.Dw)(p)?{amount:A}:{ratio:h-p,amount:A*(h-p)}}function a(o,g,u){const f=n.nL.fromISO(g),h=(0,r.pc)(g,u),p=n.ou.fromISO(h).plus(f);return o.reduce((A,R)=>n.ou.fromISO(R.date)<p?A+R.amount:A,0)}function c([o,g],u){var h;return((h=u.ratio)!=null?h:u.amount)<=0?o:g}},36263:function(H,l,e){"use strict";e.d(l,{J:function(){return r},V:function(){return i}});var t=e(22892),n=e(92181);const r=(d,s)=>{switch(s){case t.Duration.P30D:return d/12;case t.Duration.P7D:case t.Duration.P90D:case t.Duration.P3M:return d/4;default:return(0,n.vE)(s)}},i=[{kind:null,label:"Engineers \u{1F6E0}",unit:"engineer"},{kind:t.CurrencyType.USD,label:"US Dollars \u{1F4B5}",unit:"dollar",prefix:"$",rate:1},{kind:t.CurrencyType.CarbonOffsetTons,label:"Carbon Offset Tons \u267B\uFE0F\u2696\uFE0Fs",unit:"carbon offset ton",rate:3.5},{kind:t.CurrencyType.Beers,label:"Beers \u{1F37A}",unit:"beer",rate:4.5},{kind:t.CurrencyType.IceCream,label:"Pints of Ice Cream \u{1F366}",unit:"ice cream pint",rate:5.5}]},88343:function(H,l,e){"use strict";e.d(l,{NA:function(){return i},b5:function(){return c},pc:function(){return d},qp:function(){return a}});var t=e(96299),n=e(22892),r=e(92181);const i=n.Duration.P30D;function d(g,u){switch(g){case n.Duration.P7D:case n.Duration.P30D:case n.Duration.P90D:return t.ou.fromISO(u).minus(t.nL.fromISO(g).plus(t.nL.fromISO(g))).toFormat(n.DEFAULT_DATE_FORMAT);case n.Duration.P3M:return t.ou.fromISO(u).startOf("quarter").minus(t.nL.fromISO(g).plus(t.nL.fromISO(g))).toFormat(n.DEFAULT_DATE_FORMAT);default:return(0,r.vE)(g)}}function s(g,u){switch(g){case n.Duration.P7D:case n.Duration.P30D:case n.Duration.P90D:return t.ou.fromISO(u).plus({days:1}).toFormat(n.DEFAULT_DATE_FORMAT);case n.Duration.P3M:return t.ou.fromISO(o(u)).plus({days:1}).toFormat(n.DEFAULT_DATE_FORMAT);default:return(0,r.vE)(g)}}function a(g,u){return t.ou.fromISO(s(g,u)).minus({days:1}).toFormat(n.DEFAULT_DATE_FORMAT)}function c(g,u,f=2){return`R${f}/${g}/${s(g,u)}`}function o(g){const u=t.ou.fromISO(g);return u.endOf("quarter").toFormat(n.DEFAULT_DATE_FORMAT)===g?u.toFormat(n.DEFAULT_DATE_FORMAT):u.startOf("quarter").minus({days:1}).toFormat(n.DEFAULT_DATE_FORMAT)}},44241:function(H,l,e){"use strict";e.d(l,{CT:function(){return a},DU:function(){return E},Iu:function(){return S},Lo:function(){return o},QI:function(){return h},T3:function(){return y},X6:function(){return R},oB:function(){return c},vh:function(){return f},xG:function(){return A}});var t=e(96299),n=e(19928),r=e.n(n),i=e(22892),d=e(88343),s=e(92181);const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),c=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),o=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,minimumSignificantDigits:2,maximumSignificantDigits:2}),g=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),u=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",month:"long",year:"numeric"}),f=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",day:"numeric",month:"short"}),h=T=>u.format(Date.parse(T)),p=T=>(t.ou.fromISO(T).isValid?t.ou.fromISO(T):t.ou.fromFormat(T,"yyyy-'Q'q")).toFormat("'Q'q yyyy");function A(T,P){const I=Math.round(T),Z=g.format(I);return P?`${Z} ${r()(P,I)}`:Z}function R(T){return(0,s.Dw)(T.ratio)?y(Math.abs(T.ratio)):T.amount>=0?"\u221E":"-\u221E"}function y(T){return isNaN(T)||Math.abs(T)<.01?"0%":Math.abs(T)>10?">1000%":`${(T*100).toFixed(0)}%`}function E(T){const P=t.ou.fromISO((0,d.pc)(i.Duration.P3M,T)).toFormat("'Q'q yyyy"),I=t.ou.fromISO((0,d.qp)(i.Duration.P3M,T)).toFormat("'Q'q yyyy");return`${P} vs ${I}`}const C=(T,P,I)=>{const Z=I?(0,d.pc)(T,P):P,L=I?P:(0,d.qp)(T,P),D=t.nL.fromISO(T).days;if(![Z,L].includes(P))throw new Error(`Invalid relative date ${P} for duration ${T}`);return P===Z?`First ${D} Days`:`Last ${D} Days`};function S(T,P,I){switch(T){case i.Duration.P3M:return p(I?(0,d.qp)(T,P):(0,d.pc)(T,P));default:return C(T,P,I)}}},27114:function(H,l,e){"use strict";e.d(l,{RI:function(){return r},_R:function(){return g},cs:function(){return o},dR:function(){return i},ix:function(){return s},wp:function(){return c},wy:function(){return d},z4:function(){return a}});var t=e(22892),n=e(44241);function r(u,f){return f==="number"?u.toLocaleString():u<1?n.Lo.format(u):n.oB.format(u)}const i=u=>typeof u=="number"?n.vh.format(u):u,d=u=>{const f=typeof u.value=="number"?n.oB.format(u.value):u.value,h=u.fill;switch(u.dataKey){case t.DataKey.Current:case t.DataKey.Previous:return{label:u.name,value:f,fill:h};default:return null}},s=u=>({name:u.id,previous:u.aggregation[0],current:u.aggregation[1]}),a=u=>u?String(u):"Unlabeled",c=({label:u,payload:f})=>u===void 0||!f||!f.length,o=u=>(u==null?void 0:u.activeLabel)&&(u==null?void 0:u.activeLabel)!=="",g=u=>(u==null?void 0:u.activeLabel)===""},6740:function(H,l,e){"use strict";e.d(l,{DP:function(){return c},Li:function(){return d},Pi:function(){return a},jv:function(){return s},mg:function(){return i},ss:function(){return n},yz:function(){return r}});var t=e(88343),n;(function(o){const g="user-groups";o.UserGroups=g;const u="billing-date";o.LastCompleteBillingDate=u;const f="cost-insights-initial";o.CostInsightsInitial=f;const h="cost-insights-page";o.CostInsightsPage=h;const p="cost-insights-products";o.CostInsightsProducts=p;const A="cost-insights-alerts";o.CostInsightsAlerts=A})(n||(n={}));const r=[n.UserGroups,n.CostInsightsInitial,n.CostInsightsProducts],i=o=>o.reduce((g,u)=>({...g,[u]:!0}),{}),d=o=>o.reduce((g,u)=>({...g,[u]:!1}),{}),s=o=>o.reduce((g,u)=>{const f=!r.includes(u);return{...g,[u]:f}},{}),a=o=>o.map(g=>g.status==="fulfilled"?g.value:null),c=(o,g)=>o.map((u,f)=>({entity:g[f],product:u,duration:t.NA}))},53317:function(H,l,e){"use strict";e.d(l,{Ls:function(){return f},Pp:function(){return h},q7:function(){return p}});var t=e(2784),n=e(10618),r=e(64700),i=e(47603),d=e(73655),s=e(62607),a=e(21853),c=e(69693),o=e(88097),g=e(80195),u=e(22892),f;(function(A){const R="cost-overview-card";A.CostOverviewCard=R;const y="alert-insights-header";A.AlertInsightsHeader=y})(f||(f={}));const h=A=>{const R=[{navigation:f.CostOverviewCard,icon:t.createElement(n.Z,null),title:"Cost Overview"}];return A>0&&R.push({navigation:f.AlertInsightsHeader,icon:t.createElement(r.Z,null),title:"Action Items"}),R};function p(A){switch(A){case u.IconType.Compute:return t.createElement(i.Z,null);case u.IconType.Data:return t.createElement(d.Z,null);case u.IconType.Database:return t.createElement(g.Z,null);case u.IconType.Storage:return t.createElement(s.Z,null);case u.IconType.Search:return t.createElement(a.Z,null);case u.IconType.ML:return t.createElement(o.Z,null);default:return t.createElement(c.Z,null)}}},99539:function(H,l,e){"use strict";e.d(l,{x:function(){return r}});var t=e(2784),n=e(73750);const r=({id:i,left:d=0,top:s=-20,block:a="start",inline:c="nearest",behavior:o="smooth"})=>{const g=(0,t.useRef)(null),[u,f]=(0,n.vO)();return(0,t.useEffect)(()=>{function h(){g.current&&u===i&&(g.current.scrollIntoView({block:a,inline:c,behavior:o}),f(null))}h()},[u,f,i,o,a,c]),t.createElement("div",{ref:g,style:{position:"absolute",height:0,width:0,top:s,left:d},"data-testid":`scroll-test-${i}`})}},20336:function(H,l,e){"use strict";e.d(l,{OQ:function(){return t},o8:function(){return r},sZ:function(){return n}});const t=(i,d)=>i.date.localeCompare(d.date),n=(i,d)=>d.previous+d.current-(i.previous+i.current);function r(i,d){var g,u,f,h;const[s,a]=(u=(g=i.entity)==null?void 0:g.aggregation)!=null?u:[0,0],[c,o]=(h=(f=d.entity)==null?void 0:f.aggregation)!=null?h:[0,0];return c+o-(s+a)}},10942:function(H,l,e){"use strict";e.d(l,{$B:function(){return P},Bk:function(){return C},FA:function(){return i},J1:function(){return B},JV:function(){return d},N4:function(){return f},OX:function(){return E},SY:function(){return g},TP:function(){return a},Uq:function(){return h},VL:function(){return Z},Yp:function(){return y},ZV:function(){return o},gV:function(){return T},iB:function(){return G},jJ:function(){return w},l$:function(){return p},nX:function(){return u},qd:function(){return D},rl:function(){return V},s3:function(){return I},sO:function(){return R},tI:function(){return S},tY:function(){return c},yZ:function(){return L}});var t=e(41128),n=e(79692),r=e(12420);const i={palette:{blue:"#509AF5",lightBlue:"#9BF0E1",darkBlue:"#4101F5",magenta:"#DC148C",yellow:"#FFC864",tooltip:{background:"#171717",color:"#DDD"},navigationText:"#b5b5b5",alertBackground:"rgba(219, 219, 219, 0.13)",dataViz:["#509BF5","#4B917D","#FF6437","#F573A0","#F59B23","#B49BC8","#C39687","#A0C3D2","#FFC864","#BABABA"]}},d={palette:{blue:"#77b8f9",lightBlue:"#d8f9f4",darkBlue:"#b595fd",magenta:"#ee93cd",yellow:"#fff2da",tooltip:{background:"#EEE",color:"#424242"},navigationText:"#b5b5b5",alertBackground:"rgba(32, 32, 32, 0.13)",dataViz:["#8accff","#7bc2ac","#ff9664","#ffa5d1","#ffcc57","#e6ccfb","#f7c7b7","#d2f6ff","#fffb94","#ececec"]}};function s(M,ce=.2){return(0,t.H3)(M)>.5?(0,t.$n)(M,ce):(0,t._j)(M,ce)}const a=M=>({axis:{fill:M.palette.text.primary},container:{height:450,width:1200},cartesianGrid:{stroke:M.palette.textVerySubtle},chart:{margin:{right:30,top:16}},yAxis:{width:75}}),c=(0,n.Z)(M=>({default:{padding:M.spacing(2),fontWeight:M.typography.fontWeightBold,color:M.palette.text.secondary,textTransform:"uppercase"},selected:{color:M.palette.text.primary}})),o=M=>({axis:{fill:M.palette.text.primary},barChart:{margin:{left:16,right:16}},cartesianGrid:{stroke:M.palette.textVerySubtle},cursor:{fill:M.palette.textVerySubtle,fillOpacity:.3},container:{height:400,width:1200},infoIcon:{marginLeft:2,fontSize:"1.25em"},xAxis:{height:50}}),g=(0,n.Z)(M=>(0,r.Z)({wrapper:{display:"flex",flexDirection:"column"},legend:{paddingBottom:M.spacing(2)}})),u=(0,n.Z)(M=>(0,r.Z)({root:{...M.typography.button,boxSizing:"border-box",transition:M.transitions.create(["background-color","box-shadow","border"],{duration:M.transitions.duration.short}),borderRadius:"50%",padding:0,width:40,height:40,boxShadow:M.shadows[6],"&:active":{boxShadow:M.shadows[12]},color:M.palette.text.primary,backgroundColor:(0,t.$n)(M.palette.background.default,.1),"&:hover":{backgroundColor:(0,t.$n)(M.palette.background.default,.2),textDecoration:"none"}}})),f=(0,n.Z)(M=>(0,r.Z)({foreignObject:{textAlign:"center"},label:{fontWeight:M.typography.fontWeightBold,display:"block",textDecoration:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},infoIcon:{marginLeft:2,fontSize:"1.25em"},button:{textTransform:"none",fontWeight:M.typography.fontWeightBold,fontSize:M.typography.fontSize}})),h=(0,n.Z)(M=>({h6Subtle:{...M.typography.h6,fontWeight:"normal",color:M.palette.textSubtle}})),p=(0,n.Z)(M=>({tabs:{borderBottom:`1px solid ${M.palette.textVerySubtle}`,backgroundColor:s(M.palette.background.default),padding:M.spacing(0,4)},tab:{minHeight:68,minWidth:180,padding:M.spacing(1,4),"&:hover":{color:"inherit",backgroundColor:"inherit"}},indicator:{backgroundColor:M.palette.navigation.indicator,height:4},tabLabel:{display:"flex",alignItems:"center"},tabLabelText:{fontSize:M.typography.fontSize,fontWeight:M.typography.fontWeightBold},menuItem:{display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:180,padding:M.spacing(2,2)},menuItemSelected:{backgroundColor:(0,t.$n)(M.palette.background.default,.3)}})),A=(0,n.Z)(M=>(0,r.Z)({root:{paddingBottom:M.spacing(2),borderRadius:"unset"},title:{fontSize:M.typography.fontSize,fontWeight:M.typography.fontWeightBold,lineHeight:1.5},action:{margin:0}})),R=(0,n.Z)(M=>(0,r.Z)({excess:{color:M.palette.status.error},savings:{color:M.palette.status.ok},indicator:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}})),y=(0,n.Z)(M=>({h5:{...M.typography.h5,fontWeight:500,padding:0},marker:{display:"inherit",marginRight:M.spacing(1)},helpIcon:{display:"inherit"},title:{...M.typography.overline,fontWeight:500,lineHeight:0,marginRight:M.spacing(1),color:M.palette.textSubtle},tooltip:{display:"block",padding:M.spacing(1),backgroundColor:M.palette.navigation.background},tooltipText:{color:M.palette.background.default,fontSize:M.typography.fontSize,lineHeight:1.5}})),E=(0,n.Z)(M=>(0,r.Z)({paper:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",background:"transparent",padding:8},step:{backgroundColor:M.palette.action.disabled,borderRadius:"50%",width:9,height:9,margin:"0 2px"},stepActive:{backgroundColor:M.palette.primary.main},steps:{display:"flex",flexDirection:"row"},backButton:{position:"absolute",left:0,top:"calc(50% - 60px)",zIndex:100},nextButton:{position:"absolute",right:0,top:"calc(50% - 60px)",zIndex:100}})),C=(0,n.Z)(M=>(0,r.Z)({menuList:{borderRadius:M.shape.borderRadius,backgroundColor:M.palette.navigation.background,minWidth:250},menuItem:{background:"transparent",border:0,textTransform:"none",width:"100%",minHeight:M.spacing(6),margin:M.spacing(.5,2,.5,0)},listItemIcon:{minWidth:40},navigationIcon:{fill:M.palette.navigationText},title:{whiteSpace:"nowrap",lineHeight:1,color:M.palette.navigationText,fontWeight:M.typography.fontWeightBold}})),S=(0,n.Z)(M=>(0,r.Z)({tooltip:{backgroundColor:M.palette.tooltip.background,borderRadius:M.shape.borderRadius,boxShadow:M.shadows[1],color:M.palette.tooltip.color,fontSize:M.typography.fontSize,minWidth:300},maxWidth:{maxWidth:300},actions:{padding:M.spacing(2)},header:{padding:M.spacing(2)},content:{padding:M.spacing(2)},lensIcon:{fontSize:".75rem"},divider:{backgroundColor:(0,t._4)(M.palette.divider,1)},truncate:{maxWidth:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},subtitle:{fontStyle:"italic"}})),T=(0,n.Z)(M=>(0,r.Z)({button:{backgroundColor:M.palette.textVerySubtle,color:M.palette.text.primary}})),P=(0,n.Z)(M=>(0,r.Z)({select:{minWidth:200,textAlign:"start",backgroundColor:M.palette.background.paper},menuItem:{minWidth:200,padding:M.spacing(2),"&.compact":{padding:M.spacing(1,2)}}})),I=(0,n.Z)(M=>(0,r.Z)({card:{boxShadow:"none"},avatar:{backgroundColor:M.palette.textVerySubtle,color:M.palette.text.primary},root:{minHeight:80,paddingBottom:M.spacing(2),borderRadius:M.shape.borderRadius},activeRoot:{cursor:"pointer",transition:M.transitions.create("background",{duration:M.transitions.duration.short}),"&:hover":{background:M.palette.alertBackground}},action:{margin:0},title:{fontSize:M.typography.fontSize,fontWeight:M.typography.fontWeightBold}})),Z=(0,n.Z)(M=>(0,r.Z)({root:{padding:M.spacing(2,2,2,2.5)},action:{margin:0}})),L=(0,n.Z)(M=>(0,r.Z)({indicator:{fontWeight:M.typography.fontWeightBold,fontSize:"1.25rem"},actions:{display:"flex",justifyContent:"space-between",alignItems:"center"}})),D=(0,n.Z)(M=>(0,r.Z)({root:{zIndex:M.zIndex.modal}})),B=(0,n.Z)(M=>(0,r.Z)({root:{color:M.palette.textSubtle}})),w=(0,n.Z)(M=>(0,r.Z)({dialogContent:{padding:0},dialogTitle:{padding:0},closeButton:{position:"absolute",right:M.spacing(1),top:M.spacing(1),color:M.palette.grey[500],zIndex:100},row:{fontSize:M.typography.fontSize*1.25},rowTotal:{fontWeight:M.typography.fontWeightBold},colFirst:{paddingLeft:M.spacing(2)},colLast:{paddingRight:M.spacing(2)},column:{fontWeight:M.typography.fontWeightBold},growth:{display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"flex-end"}})),V=(0,n.Z)(M=>(0,r.Z)({content:{padding:M.spacing(0,5,2,5)},actions:{padding:M.spacing(2,5)},radio:{margin:M.spacing(-.5,0,-.5,0)},icon:{color:M.palette.primary.dark,margin:M.spacing(2.5,2.5,0,0),padding:0}})),G=(0,n.Z)(()=>({icon:{transform:"transform 5s"},clicked:{transform:"rotate(180deg)"}}))},56726:function(H,l,e){"use strict";e.d(l,{T:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.explore.toolsconfig"})},60562:function(H,l,e){"use strict";e.d(l,{w:function(){return f}});var t=e(48023),n=e(53479),r=e(94339),i=e(16111),d=e(24579),s=e(95544),a=e(7089),c=e(14503),o=e(2784),g=e(23192),u=e(36964);const f=({entity:h})=>{var E;const p=(0,u.useRouteRef)(n.entityRouteRef),A=(0,n.getEntityRelations)(h,t.S4),R=p((0,n.entityRouteParams)(h)),y=o.createElement(n.EntityRefLinks,{entityRefs:A,defaultKind:"group",color:"inherit"});return o.createElement(r.Z,null,o.createElement(i.Z,null,o.createElement(g.ItemCardHeader,{title:h.metadata.name,subtitle:y})),o.createElement(d.Z,null,(E=h.metadata.tags)!=null&&E.length?o.createElement(s.Z,null,h.metadata.tags.map(C=>o.createElement(a.Z,{size:"small",label:C,key:C}))):null,h.metadata.description),o.createElement(c.Z,null,o.createElement(g.Button,{to:R,color:"primary"},"Explore")))}},81e3:function(H,l,e){"use strict";e.d(l,{$:function(){return s}});var t=e(23192),n=e(36964),r=e(2784);const i="plugin.explore.exploreLayoutRoute",d=()=>null;(0,n.attachComponentData)(d,i,!0),(0,n.attachComponentData)(d,"core.gatherMountPoints",!0);const s=({title:a,subtitle:c,children:o})=>{const g=(0,n.useElementFilter)(o,u=>u.selectByComponentData({key:i,withStrictError:"Child of ExploreLayout must be an ExploreLayout.Route"}).getElements().map(f=>f.props));return r.createElement(t.Page,{themeId:"home"},r.createElement(t.Header,{title:a!=null?a:"Explore our ecosystem",subtitle:c!=null?c:"Discover solutions available in our ecosystem"}),r.createElement(t.RoutedTabs,{routes:g}))};s.Route=d},17986:function(H,l,e){"use strict";e.d(l,{Ls:function(){return i},Mx:function(){return d},M:function(){return r}});var t=e(36964),n=e(10179);const r=(0,t.createApiRef)({id:"plugin.gcalendar.service"});class i{constructor(a){Me(this,"authApi");Me(this,"fetchApi");this.authApi=a.authApi,this.fetchApi=a.fetchApi}async get(a,c){const o=new URLSearchParams(c),g=new URL(`${a}?${o.toString()}`,"https://www.googleapis.com"),u=await this.authApi.getAccessToken(),f=await this.fetchApi.fetch(g.toString(),{headers:u?{Authorization:`Bearer ${u}`}:{}});if(!f.ok)throw await n.VL.fromResponse(f);return f.json()}async getCalendars(a){return this.get("/calendar/v3/users/me/calendarList",a)}async getEvents(a,c){return this.get(`/calendar/v3/calendars/${encodeURIComponent(a)}/events`,c)}}var d;(function(s){const a="needsAction";s.needsAction=a;const c="accepted";s.accepted=c;const o="declined";s.declined=o;const g="tentative";s.maybe=g})(d||(d={}))},59592:function(H,l,e){"use strict";e.d(l,{X:function(){return d},M:function(){return i}});var t=e(36964),n=e(17986);const r=(0,t.createRouteRef)({id:"gcalendar"}),i=(0,t.createPlugin)({id:"gcalendar",routes:{root:r},apis:[(0,t.createApiFactory)({api:n.M,deps:{authApi:t.googleAuthApiRef,fetchApi:t.fetchApiRef},factory(s){return new n.Ls(s)}})]}),d=i.provide((0,t.createComponentExtension)({name:"HomePageCalendar",component:{lazy:()=>Promise.all([e.e(8777),e.e(6720)]).then(e.bind(e,38479)).then(s=>s.HomePageCalendar)}}))},31846:function(H,l,e){"use strict";e.d(l,{GcpClient:function(){return i},gcpApiRef:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.gcpprojects.service"}),r="https://content-cloudresourcemanager.googleapis.com/v1/projects";class i{constructor(s){this.googleAuthApi=s}async listProjects(){const s=await fetch(r,{headers:{Accept:"*/*",Authorization:`Bearer ${await this.getToken()}`}});if(!s.ok)throw new Error(`List request failed to ${r} with ${s.status} ${s.statusText}`);const{projects:a}=await s.json();return a}async getProject(s){const a=`${r}/${s}`,c=await fetch(a,{headers:{Authorization:`Bearer ${await this.getToken()}`}});if(!c.ok)throw new Error(`Get request failed to ${a} with ${c.status} ${c.statusText}`);return await c.json()}async createProject(s){const a={name:s.projectName,projectId:s.projectId},c=await fetch(r,{method:"POST",headers:{Accept:"*/*",Authorization:`Bearer ${await this.getToken()}`},body:JSON.stringify(a)});if(!c.ok)throw new Error(`Create request failed to ${r} with ${c.status} ${c.statusText}`);return await c.json()}async getToken(){return this.googleAuthApi.getAccessToken("https://www.googleapis.com/auth/cloud-platform")}}},79623:function(H,l,e){"use strict";e.d(l,{_Z:function(){return n}});var t=e(36964);const n=(0,t.createRouteRef)({id:"gcp-projects"}),r=(0,t.createRouteRef)({id:"gcp-projects:project"}),i=(0,t.createRouteRef)({id:"gcp-projects:new"})},40556:function(H,l,e){"use strict";e.d(l,{a:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.githubactions.service"})},45177:function(H,l,e){"use strict";e.d(l,{U3:function(){return i},a$:function(){return t.a}});var t=e(40556),n=e(68370),r=e(84028);class i{constructor(a){Me(this,"configApi");Me(this,"githubAuthApi");this.configApi=a.configApi,this.githubAuthApi=a.githubAuthApi}async getOctokit(a){var f;const c=await this.githubAuthApi.getAccessToken(["repo"]),g=(0,n.E8)((f=this.configApi.getOptionalConfigArray("integrations.github"))!=null?f:[]).find(h=>h.host===a),u=g==null?void 0:g.apiBaseUrl;return new r.v({auth:c,baseUrl:u})}async reRunWorkflow({hostname:a,owner:c,repo:o,runId:g}){return(await this.getOctokit(a)).actions.reRunWorkflow({owner:c,repo:o,run_id:g})}async listWorkflowRuns({hostname:a,owner:c,repo:o,pageSize:g=100,page:u=0,branch:f}){return(await(await this.getOctokit(a)).actions.listWorkflowRunsForRepo({owner:c,repo:o,per_page:g,page:u,...f?{branch:f}:{}})).data}async getWorkflow({hostname:a,owner:c,repo:o,id:g}){return(await(await this.getOctokit(a)).actions.getWorkflow({owner:c,repo:o,workflow_id:g})).data}async getWorkflowRun({hostname:a,owner:c,repo:o,id:g}){return(await(await this.getOctokit(a)).actions.getWorkflowRun({owner:c,repo:o,run_id:g})).data}async listJobsForWorkflowRun({hostname:a,owner:c,repo:o,id:g,pageSize:u=100,page:f=0}){return(await(await this.getOctokit(a)).actions.listJobsForWorkflowRun({owner:c,repo:o,run_id:g,per_page:u,page:f})).data}async downloadJobLogsForWorkflowRun({hostname:a,owner:c,repo:o,runId:g}){return(await(await this.getOctokit(a)).actions.downloadJobLogsForWorkflowRun({owner:c,repo:o,job_id:g})).data}}var d;(function(s){s[s.success=0]="success";const c=0+1;s[s.failure=c]="failure";const o=c+1;s[s.pending=o]="pending";const g=o+1;s[s.running=g]="running"})(d||(d={}))},12816:function(H,l,e){"use strict";e.r(l),e.d(l,{LatestWorkflowRunCard:function(){return R},LatestWorkflowsForBranchCard:function(){return y},RecentWorkflowRunsCard:function(){return T}});var t=e(68370),n=e(53479),r=e(79692),i=e(90436),d=e(67358),s=e(69001),a=e(2784),c=e(75914),o=e(98766),g=e(53870),u=e(28458),f=e(36964),h=e(23192);const p=(0,r.Z)({externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}}),A=({error:P,loading:I,lastRun:Z,branch:L})=>{var B;const D=p();return P?a.createElement(i.Z,null,"Couldn't fetch latest ",L," run"):I?a.createElement(d.Z,null):a.createElement(h.StructuredMetadataTable,{metadata:{status:a.createElement(a.Fragment,null,a.createElement(u.L,{status:Z.status,conclusion:Z.conclusion})),message:Z.message,url:a.createElement(h.Link,{to:(B=Z.githubUrl)!=null?B:""},"See more on GitHub"," ",a.createElement(s.Z,{className:D.externalLinkIcon}))}})},R=({branch:P="master",variant:I})=>{var le,me,ge,Ae;const{entity:Z}=(0,n.useEntity)(),L=(0,f.useApi)(f.configApiRef),D=(0,f.useApi)(f.errorApiRef),B=(0,t.E8)((le=L.getOptionalConfigArray("integrations.github"))!=null?le:[])[0].host,[w,V]=((ge=(me=Z==null?void 0:Z.metadata.annotations)==null?void 0:me[c.B])!=null?ge:"/").split("/"),[{runs:G,loading:M,error:ce}]=(0,o.x)({hostname:B,owner:w,repo:V,branch:P}),ue=(Ae=G==null?void 0:G[0])!=null?Ae:{};return(0,a.useEffect)(()=>{ce&&D.post(ce)},[ce,D]),a.createElement(h.InfoCard,{title:`Last ${P} build`,variant:I},a.createElement(A,{error:ce,loading:M,branch:P,lastRun:ue}))},y=({branch:P="master",variant:I})=>{const{entity:Z}=(0,n.useEntity)();return a.createElement(h.InfoCard,{title:`Last ${P} build`,variant:I},a.createElement(g.y,{branch:P,entity:Z}))};var E=e(62833),C=e(10289);const S=P=>P.split(`
`)[0],T=({branch:P,dense:I=!1,limit:Z=5,variant:L})=>{var ge,Ae,ee;const{entity:D}=(0,n.useEntity)(),B=(0,f.useApi)(f.configApiRef),w=(0,f.useApi)(f.errorApiRef),V=(0,t.E8)((ge=B.getOptionalConfigArray("integrations.github"))!=null?ge:[])[0].host,[G,M]=((ee=(Ae=D==null?void 0:D.metadata.annotations)==null?void 0:Ae[c.B])!=null?ee:"/").split("/"),[{runs:ce=[],loading:ue,error:le}]=(0,o.x)({hostname:V,owner:G,repo:M,branch:P,initialPageSize:Z});(0,a.useEffect)(()=>{le&&w.post(le)},[le,w]);const me=V||"github.com";return a.createElement(h.InfoCard,{title:"Recent Workflow Runs",subheader:P?`Branch: ${P}`:"All Branches",noPadding:!0,variant:L},ce.length?a.createElement(h.Table,{isLoading:ue,options:{search:!1,paging:!1,padding:I?"dense":"default",toolbar:!1},columns:[{title:"Commit Message",field:"message",render:Ie=>a.createElement(h.Link,{component:E.rU,to:(0,C.Gn)("./ci-cd/:id",{id:Ie.id})},S(Ie.message))},{title:"Branch",field:"source.branchName"},{title:"Status",field:"status",render:u.L}],data:ce}):a.createElement("div",{style:{textAlign:"center"}},a.createElement(i.Z,{variant:"body1"},"This component has GitHub Actions enabled, but no workflows were found."),a.createElement(i.Z,{variant:"body2"},a.createElement(h.Link,{to:`https://${me}/${G}/${M}/actions/new`},"Create a new workflow"))))}},61359:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return fe},isGithubActionsAvailable:function(){return Q}});var t=e(2784),n=e(53479),r=e(10289),i=e(66316),d=e(68370),s=e(79692),a=e(89571),c=e(15584),o=e(49378),g=e(27616),u=e(8284),f=e(90436),h=e(70660),p=e(91256),A=e(37390),R=e(95544),y=e(67358),E=e(27556),C=e(97485),S=e(86689),T=e(4614),P=e(38016),I=e(69001),Z=e(96299),L=e(75914),D=e(28458),B=e(64279),w=e(45177),V=e(36964);const G=({hostname:q,owner:k,repo:b})=>{const F=(0,V.useApi)(w.a$),{id:N}=(0,V.useRouteRefParams)(i.L);return(0,B.default)(async()=>b&&k?F.listJobsForWorkflowRun({hostname:q,owner:k,repo:b,id:parseInt(N,10)}):Promise.reject(new Error("No repo/owner provided")),[b,k,N])},M=({hostname:q,owner:k,repo:b})=>{const F=(0,V.useApi)(w.a$),{id:N}=(0,V.useRouteRefParams)(i.L);return(0,B.default)(async()=>b&&k?F.getWorkflowRun({hostname:q,owner:k,repo:b,id:parseInt(N,10)}):Promise.reject(new Error("No repo/owner provided")),[b,k,N])};var ce=e(23192),ue=e(80030),le=e(69087),me=e(35111),ge=e(14498),Ae=e(30254);const ee=({hostname:q,owner:k,repo:b,id:F})=>{const N=(0,V.useApi)(w.a$);return(0,B.default)(async()=>b&&k?N.downloadJobLogsForWorkflowRun({hostname:q,owner:k,repo:b,runId:F}):Promise.reject("No repo/owner provided"),[b,k,F])},Ie=(0,s.Z)(q=>({button:{order:-1,marginRight:0,marginLeft:"-20px"},modal:{display:"flex",alignItems:"center",width:"85%",height:"85%",justifyContent:"center",margin:"auto"},normalLogContainer:{height:"75vh",width:"100%"},modalLogContainer:{height:"100%",width:"100%"},log:{background:q.palette.background.default}})),re=({entity:q,runId:k,inProgress:b})=>{var We;const F=(0,V.useApi)(V.configApiRef),N=Ie(),W=(0,L.x)(q),Ee=(0,d.E8)((We=F.getOptionalConfigArray("integrations.github"))!=null?We:[])[0].host,[Ce,te]=W&&W.split("/")||[],Re=ee({hostname:Ee,owner:Ce,repo:te,id:k}),$=Re.value?String(Re.value):void 0,[ie,de]=t.useState(!1),Pe=()=>{de(!0)},He=()=>{de(!1)};return t.createElement(g.Z,{TransitionProps:{unmountOnExit:!0},disabled:b},t.createElement(u.Z,{expandIcon:t.createElement(P.Z,null),"aria-controls":`panel-${name}-content`,id:`panel-${name}-header`,IconButtonProps:{className:N.button}},t.createElement(f.Z,{variant:"button"},Re.loading?t.createElement(T.Z,null):"Job Log"),t.createElement(ue.ZP,{title:"Open Log",TransitionComponent:le.Z,arrow:!0},t.createElement(Ae.Z,{onClick:Ge=>{Ge.stopPropagation(),Pe()},style:{marginLeft:"auto"}})),t.createElement(me.Z,{className:N.modal,onClick:Ge=>Ge.stopPropagation(),open:ie,onClose:He},t.createElement(ge.Z,{in:ie},t.createElement("div",{className:N.modalLogContainer},t.createElement(ce.LogViewer,{text:$!=null?$:"No Values Found",classes:{root:N.log}}))))),$&&t.createElement("div",{className:N.normalLogContainer},t.createElement(ce.LogViewer,{text:$,classes:{root:N.log}})))},ne=(0,s.Z)(q=>({root:{maxWidth:720,margin:q.spacing(2)},title:{padding:q.spacing(1,0,2,0)},table:{padding:q.spacing(1)},accordionDetails:{padding:0},button:{order:-1,marginRight:0,marginLeft:"-20px"},externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}})),_=(q,k)=>{const b=Z.ou.fromISO(q);return(k?Z.ou.fromISO(k):Z.ou.now()).diff(b).toFormat("m 'minutes' s 'seconds'")},se=({step:q})=>{var k;return t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(o.Z,{primary:q.name,secondary:_(q.started_at,q.completed_at)})),t.createElement(c.Z,null,t.createElement(D.L,{status:q.status.toLocaleUpperCase("en-US"),conclusion:(k=q.conclusion)==null?void 0:k.toLocaleUpperCase("en-US")})))},j=({job:q,className:k,entity:b})=>{const F=ne();return t.createElement(g.Z,{TransitionProps:{unmountOnExit:!0},className:k},t.createElement(u.Z,{expandIcon:t.createElement(P.Z,null),"aria-controls":`panel-${name}-content`,id:`panel-${name}-header`,IconButtonProps:{className:F.button}},t.createElement(f.Z,{variant:"button"},q.name," (",_(q.started_at,q.completed_at),")")),t.createElement(h.Z,{className:F.accordionDetails},t.createElement(p.Z,null,t.createElement(A.Z,null,q.steps.map(N=>t.createElement(se,{key:N.number,step:N}))))),q.status==="queued"||q.status==="in_progress"?t.createElement(re,{runId:q.id,inProgress:!0,entity:b}):t.createElement(re,{runId:q.id,inProgress:!1,entity:b}))},ae=({jobs:q,entity:k})=>{const b=ne();return t.createElement(R.Z,null,q&&q.total_count>0&&q.jobs.map(F=>t.createElement(j,{key:F.id,job:F,className:F.status!=="success"?b.failed:b.success,entity:k})))},X=({entity:q})=>{var Re,$,ie,de,Pe,He,We,Ge,Ve,ut,nt,At,Le,Te,pe,Be;const k=(0,V.useApi)(V.configApiRef),b=(0,L.x)(q),F=(0,d.E8)((Re=k.getOptionalConfigArray("integrations.github"))!=null?Re:[])[0].host,[N,W]=b&&b.split("/")||[],Ee=M({hostname:F,owner:N,repo:W}),Ce=G({hostname:F,owner:N,repo:W}),te=ne();return Ee.error&&Ee.error.message?t.createElement(f.Z,{variant:"h6",color:"error"},"Failed to load build, ",Ee.error.message):Ee.loading?t.createElement(y.Z,null):t.createElement("div",{className:te.root},t.createElement(R.Z,{mb:3},t.createElement(ce.Breadcrumbs,{"aria-label":"breadcrumb"},t.createElement(ce.Link,{to:".."},"Workflow runs"),t.createElement(f.Z,null,"Workflow run details"))),t.createElement(p.Z,{component:E.Z,className:te.table},t.createElement(A.Z,null,t.createElement(C.Z,null,t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(f.Z,{noWrap:!0},"Branch")),t.createElement(c.Z,null,($=Ee.value)==null?void 0:$.head_branch)),t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(f.Z,{noWrap:!0},"Message")),t.createElement(c.Z,null,(de=(ie=Ee.value)==null?void 0:ie.head_commit)==null?void 0:de.message)),t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(f.Z,{noWrap:!0},"Commit ID")),t.createElement(c.Z,null,(He=(Pe=Ee.value)==null?void 0:Pe.head_commit)==null?void 0:He.id)),t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(f.Z,{noWrap:!0},"Workflow")),t.createElement(c.Z,null,(We=Ee.value)==null?void 0:We.name)),t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(f.Z,{noWrap:!0},"Status")),t.createElement(c.Z,null,t.createElement(D.L,{status:((Ge=Ee.value)==null?void 0:Ge.status)||void 0,conclusion:((Ve=Ee.value)==null?void 0:Ve.conclusion)||void 0}))),t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(f.Z,{noWrap:!0},"Author")),t.createElement(c.Z,null,`${(At=(nt=(ut=Ee.value)==null?void 0:ut.head_commit)==null?void 0:nt.author)==null?void 0:At.name} (${(pe=(Te=(Le=Ee.value)==null?void 0:Le.head_commit)==null?void 0:Te.author)==null?void 0:pe.email})`)),t.createElement(a.Z,null,t.createElement(c.Z,null,t.createElement(f.Z,{noWrap:!0},"Links")),t.createElement(c.Z,null,((Be=Ee.value)==null?void 0:Be.html_url)&&t.createElement(S.Z,{target:"_blank",href:Ee.value.html_url},"Workflow runs on GitHub"," ",t.createElement(I.Z,{className:te.externalLinkIcon})))),t.createElement(a.Z,null,t.createElement(c.Z,{colSpan:2},t.createElement(f.Z,{noWrap:!0},"Jobs"),Ce.loading?t.createElement(T.Z,null):t.createElement(ae,{jobs:Ce.value,entity:q})))))))};var z=e(53870);const Q=q=>{var k;return Boolean((k=q.metadata.annotations)==null?void 0:k[L.B])},fe=()=>{const{entity:q}=(0,n.useEntity)();return Q(q)?t.createElement(r.Z5,null,t.createElement(r.AW,{path:"/",element:t.createElement(z.y,{entity:q})}),t.createElement(r.AW,{path:`${i.L.path}`,element:t.createElement(X,{entity:q})}),")"):t.createElement(ce.MissingAnnotationEmptyState,{annotation:L.B})}},28458:function(H,l,e){"use strict";e.d(l,{L:function(){return r}});var t=e(2784),n=e(23192);const r=({status:i,conclusion:d})=>{if(i===void 0)return null;switch(i.toLocaleLowerCase("en-US")){case"queued":return t.createElement(t.Fragment,null,t.createElement(n.StatusPending,null)," Queued");case"in_progress":return t.createElement(t.Fragment,null,t.createElement(n.StatusRunning,null)," In progress");case"completed":switch(d==null?void 0:d.toLocaleLowerCase("en-US")){case"skipped":return t.createElement(t.Fragment,null,t.createElement(n.StatusAborted,null)," Aborted");case"timed_out":return t.createElement(t.Fragment,null,t.createElement(n.StatusWarning,null)," Timed out");case"failure":return t.createElement(t.Fragment,null,t.createElement(n.StatusError,null)," Error");default:return t.createElement(t.Fragment,null,t.createElement(n.StatusOK,null)," Completed")}default:return t.createElement(t.Fragment,null,t.createElement(n.StatusPending,null)," Pending")}}},53870:function(H,l,e){"use strict";e.d(l,{y:function(){return T}});var t=e(2784),n=e(86689),r=e(90436),i=e(95544),d=e(80030),s=e(61837),a=e(77277),c=e(43266),o=e(58838),g=e(62833),u=e(98766),f=e(28458),h=e(26883),p=e(66316),A=e(75914),R=e(68370),y=e(23192),E=e(36964);const C=[{title:"ID",field:"id",type:"numeric",width:"150px"},{title:"Message",field:"message",highlight:!0,render:P=>{const I=()=>{const Z=(0,E.useRouteRef)(p.L);return t.createElement(n.Z,{component:g.rU,to:Z({id:P.id})},P.message)};return t.createElement(I,null)}},{title:"Source",render:P=>{var I,Z;return t.createElement(r.Z,{variant:"body2",noWrap:!0},t.createElement("p",null,(I=P.source)==null?void 0:I.branchName),t.createElement("p",null,(Z=P.source)==null?void 0:Z.commit.hash))}},{title:"Workflow",field:"workflowName"},{title:"Status",width:"150px",render:P=>t.createElement(i.Z,{display:"flex",alignItems:"center"},t.createElement(f.L,{status:P.status,conclusion:P.conclusion}))},{title:"Actions",render:P=>t.createElement(d.ZP,{title:"Rerun workflow"},t.createElement(s.Z,{onClick:P.onReRunClick},t.createElement(c.Z,null))),width:"10%"}],S=({projectName:P,loading:I,pageSize:Z,page:L,retry:D,runs:B,onChangePage:w,onChangePageSize:V,total:G})=>t.createElement(y.Table,{isLoading:I,options:{paging:!0,pageSize:Z,padding:"dense"},totalCount:G,page:L,actions:[{icon:()=>t.createElement(h.Z,null),tooltip:"Reload workflow runs",isFreeAction:!0,onClick:()=>D()}],data:B!=null?B:[],onPageChange:w,onRowsPerPageChange:V,style:{width:"100%"},title:t.createElement(i.Z,{display:"flex",alignItems:"center"},t.createElement(o.Z,null),t.createElement(i.Z,{mr:1}),t.createElement(r.Z,{variant:"h6"},P)),columns:C}),T=({entity:P,branch:I})=>{var ge;const Z=(0,E.useApi)(E.configApiRef),L=(0,A.x)(P),D=(0,R.E8)((ge=Z.getOptionalConfigArray("integrations.github"))!=null?ge:[])[0].host,[B,w]=(L!=null?L:"/").split("/"),[{runs:V,...G},{retry:M,setPage:ce,setPageSize:ue}]=(0,u.x)({hostname:D,owner:B,repo:w,branch:I}),le=D||"github.com";return!G.loading&&!V?t.createElement(y.EmptyState,{missing:"data",title:"No Workflow Data",description:"This component has GitHub Actions enabled, but no data was found. Have you created any Workflows? Click the button below to create a new Workflow.",action:t.createElement(a.Z,{variant:"contained",color:"primary",href:`https://${le}/${L}/actions/new`},"Create new Workflow")}):t.createElement(S,{...G,runs:V,loading:G.loading,retry:M,onChangePageSize:ue,onChangePage:ce})}},75914:function(H,l,e){"use strict";e.d(l,{B:function(){return t},x:function(){return n}});const t="github.com/project-slug",n=r=>{var i,d;return(d=(i=r==null?void 0:r.metadata.annotations)==null?void 0:i[t])!=null?d:""}},98766:function(H,l,e){"use strict";e.d(l,{x:function(){return d}});var t=e(2784),n=e(77446),r=e(40556),i=e(36964);function d({hostname:s,owner:a,repo:c,branch:o,initialPageSize:g=5}){const u=(0,i.useApi)(r.a),f=(0,i.useApi)(i.errorApiRef),[h,p]=(0,t.useState)(0),[A,R]=(0,t.useState)(0),[y,E]=(0,t.useState)(g),{loading:C,value:S,retry:T,error:P}=(0,n.Z)(async()=>{const I=await u.listWorkflowRuns({hostname:s,owner:a,repo:c,pageSize:y,page:A+1,branch:o});return p(I.total_count),I.workflow_runs.map(Z=>{var L,D;return{workflowName:Z.name,message:Z.head_commit.message,id:`${Z.id}`,onReRunClick:async()=>{try{await u.reRunWorkflow({hostname:s,owner:a,repo:c,runId:Z.id})}catch(B){f.post(B)}},source:{branchName:Z.head_branch,commit:{hash:Z.head_commit.id,url:(D=(L=Z.head_repository)==null?void 0:L.branches_url)==null?void 0:D.replace("{/branch}",Z.head_branch)}},status:Z.status,conclusion:Z.conclusion,url:Z.url,githubUrl:Z.html_url}})},[A,y,c,a]);return[{page:A,pageSize:y,loading:C,runs:S,projectName:`${a}/${c}`,total:h,error:P},{runs:S,setPage:R,setPageSize:E,retry:T}]}},66316:function(H,l,e){"use strict";e.d(l,{L:function(){return r},_:function(){return n}});var t=e(36964);const n=(0,t.createRouteRef)({id:"github-actions"}),r=(0,t.createSubRouteRef)({id:"github-actions/build",path:"/:id",parent:n})},33850:function(H,l,e){"use strict";e.r(l),e.d(l,{GOCD_PIPELINES_ANNOTATION:function(){return se},GoCdBuildsComponent:function(){return ae},isGoCdAvailable:function(){return j}});var t=e(2784),n=e(53479),r=e(23192),i=e(36964),d=e(64279),s=e(20179),a=e(48023),c=e(99688),o=e(77277),g=e(58838),u;(function(X){X[X.running=0]="running";const Q=0+1;X[X.successful=Q]="successful";const fe=Q+1;X[X.warning=fe]="warning";const q=fe+1;X[X.aborted=q]="aborted";const k=q+1;X[X.error=k]="error";const b=k+1;X[X.pending=b]="pending"})(u||(u={}));const f=X=>{switch(X.toLocaleLowerCase("en-US")){case"passed":return u.successful;case"failed":return u.error;case"aborted":return u.aborted;case"building":return u.running;case"pending":return u.pending;default:return u.aborted}};var h=e(96299);const p=X=>{const z=t.createElement(t.Fragment,null,X.pipeline,t.createElement("br",null),X.author);return t.createElement(r.SubvalueCell,{value:X.message,subvalue:z})},A=X=>X.stages.map(z=>{switch(z.status){case u.successful:return t.createElement(t.Fragment,null,t.createElement(r.StatusOK,null,z.text),t.createElement("br",null),t.createElement("br",null));case u.error:return t.createElement(t.Fragment,null,t.createElement(r.StatusError,null,z.text),t.createElement("br",null),t.createElement("br",null));case u.running:return t.createElement(t.Fragment,null,t.createElement(r.StatusRunning,null,z.text),t.createElement("br",null),t.createElement("br",null));case u.aborted:return t.createElement(t.Fragment,null,t.createElement(r.StatusAborted,null,z.text),t.createElement("br",null),t.createElement("br",null));case u.pending:return t.createElement(t.Fragment,null,t.createElement(r.StatusPending,null,z.text),t.createElement("br",null),t.createElement("br",null));default:return t.createElement(t.Fragment,null,t.createElement(r.StatusWarning,null,z.text),t.createElement("br",null),t.createElement("br",null))}}),R=X=>t.createElement(o.Z,{href:X.source,target:"_blank",rel:"noreferrer",startIcon:t.createElement(g.Z,null)},X.commitHash),y=(X,z)=>{const Q=`${X}/go/pipelines/value_stream_map/${z.buildSlug}`;return t.createElement(r.SubvalueCell,{value:t.createElement(r.Link,{to:Q,target:"_blank",rel:"noreferrer"},z.id),subvalue:z.triggerTime&&h.ou.fromMillis(z.triggerTime).toLocaleString(h.ou.DATETIME_MED)})},E=X=>t.createElement(c.Z,{severity:"error"},X.message),C=(X,z)=>{const Q=(0,a.CV)(X).target.split("/tree")[0];return z.map(fe=>{var q,k,b,F,N,W,Ee;return{id:fe.counter,source:`${Q}/commit/${(k=(q=fe.build_cause)==null?void 0:q.material_revisions[0])==null?void 0:k.modifications[0].revision}`,stages:fe.stages.map(Ce=>({status:f(Ce.status),text:Ce.name})),buildSlug:`${fe.name}/${fe.counter}`,message:(N=(F=(b=fe.build_cause)==null?void 0:b.material_revisions[0])==null?void 0:F.modifications[0].comment)!=null?N:"",pipeline:fe.name,author:(Ee=(W=fe.build_cause)==null?void 0:W.material_revisions[0])==null?void 0:Ee.modifications[0].user_name,commitHash:fe.label,triggerTime:fe.scheduled_date}})},S=X=>{const{pipelineHistory:z,loading:Q,error:fe}=X,{entity:q}=(0,n.useEntity)(),[,k]=(0,t.useState)(""),b=[{title:"ID",field:"id",highlight:!0,render:F=>y(X.goCdBaseUrl,F)},{title:"Trigger",customFilterAndSearch:(F,N)=>`${N.message} ${N.pipeline} ${N.author}`.toLocaleUpperCase("en-US").includes(F.toLocaleUpperCase("en-US")),field:"message",highlight:!0,render:F=>p(F)},{title:"Stages",field:"status",render:F=>A(F)},{title:"Source",field:"source",render:F=>R(F)}];return t.createElement(t.Fragment,null,fe&&E(fe),!fe&&t.createElement(r.Table,{title:"GoCD builds",isLoading:Q,options:{search:!0,searchAutoFocus:!0,debounceInterval:800,paging:!0,padding:"dense",pageSizeOptions:[5,10,20,50],showFirstLastPageButtons:!1,pageSize:20},columns:b,data:z?C(q,z.pipelines)||[]:[],onSearchChange:F=>k(F)}))};var T=e(76635),P=e(95544),I=e(60905),Z=e(80030),L=e(94339),D=e(24579),B=e(90436);function w(X){const z=h.ou.now().minus({month:1});return`${X.pipelines.map(fe=>fe.scheduled_date).filter(fe=>!!fe).map(fe=>h.ou.fromMillis(fe)).filter(fe=>fe>z).length} last month`}function V(X){const z=[];for(let Q=1;Q<X.length;Q++){const fe=X[Q];if(!!fe.result&&f(fe.result)===u.error){let q=null;for(let N=Q-1;N>=0;N--){const W=X[N];if(!!W.result&&f(W.result)===u.error){q=W;break}}if(!q||!fe.scheduled_date||!q.scheduled_date)continue;const k=h.ou.fromMillis(fe.scheduled_date),b=h.ou.fromMillis(q.scheduled_date),F=k.diff(b);z.push(F)}}return M(z)}function G(X){const z=[];for(let Q=0;Q<X.length;Q++){const fe=X[Q];if(!!fe.result&&f(fe.result)===u.error){let q=null;for(let N=Q+1;N<X.length;N++){const W=X[N];if(!!W.result&&f(W.result)===u.successful){q=W;break}}if(!q||!fe.scheduled_date||!q.scheduled_date)continue;const k=h.ou.fromMillis(fe.scheduled_date),F=h.ou.fromMillis(q.scheduled_date).diff(k);z.push(F)}}return M(z)}function M(X){return X.length===0?"N/A":h.nL.fromMillis((0,T.mean)(X.map(Q=>Q.milliseconds))).toFormat("d'd' h'h' m'm' s's'")}function ce(X){const z=new Map(Object.entries((0,T.groupBy)(X,"result")).map(([F,N])=>[f(F),N.flat()])),Q=z.get(u.error);if(!Q)return{title:"0",subtitle:"(no failed jobs found)"};z.delete(u.error);const fe=Array.from(z.values()).flat(),q=Q.length+fe.length,k=Q.length/q*100;return{title:`${(Math.round(k*100)/100).toFixed(2)}%`,subtitle:`(${Q.length} out of ${q} jobs)`}}const ue=X=>{const{pipelineHistory:z,loading:Q,error:fe}=X;if(Q||fe||!z)return t.createElement(t.Fragment,null);const k=z.pipelines.slice().reverse().map(F=>F.stages).flat().map(F=>F.jobs).flat(),b=ce(k);return t.createElement(P.Z,{"data-testid":"GoCdBuildsInsightsBox",sx:{mb:1}},t.createElement(I.Z,{container:!0,spacing:1},t.createElement(I.Z,{item:!0,xs:6,sm:3},t.createElement(Z.ZP,{title:"What is your deployment frequency?"},t.createElement(L.Z,null,t.createElement(D.Z,null,t.createElement(B.Z,{variant:"body2"},"Run Frequency"),t.createElement(B.Z,{variant:"h4"},w(z)))))),t.createElement(I.Z,{item:!0,xs:6,sm:3},t.createElement(Z.ZP,{title:"How long does it take to fix a failure?"},t.createElement(L.Z,null,t.createElement(D.Z,null,t.createElement(B.Z,{variant:"body2"},"Mean Time to Recovery"),t.createElement(B.Z,{variant:"h4"},G(k)))))),t.createElement(I.Z,{item:!0,xs:6,sm:3},t.createElement(Z.ZP,{title:"How often do changes fail?"},t.createElement(L.Z,null,t.createElement(D.Z,null,t.createElement(B.Z,{variant:"body2"},"Mean Time Between Failures"),t.createElement(B.Z,{variant:"h4"},V(k)))))),t.createElement(I.Z,{item:!0,xs:6,sm:3},t.createElement(Z.ZP,{title:"What percentage of changes result in a failure?"},t.createElement(L.Z,null,t.createElement(D.Z,null,t.createElement(B.Z,{variant:"body2"},"Failure Rate"),t.createElement(B.Z,{variant:"h4"},b.title),t.createElement(B.Z,{variant:"body2"},b.subtitle)))))))};var le=e(42494),me=e(56939),ge=e(12231),Ae=e(73698),ee=e(79692),Ie=e(12420);const re=(0,ee.Z)(X=>(0,Ie.Z)({formControl:{margin:X.spacing(1),minWidth:120},selectEmpty:{marginTop:X.spacing(2)}})),ne=X=>X.map(z=>t.createElement(ge.Z,{value:z.value,key:z.label},z.label)),_=({value:X,items:z,label:Q,onChange:fe})=>{const q=re(),k=b=>{const F=b.target.value;fe(F)};return t.createElement(le.Z,{variant:"outlined",className:q.formControl,disabled:z.length===0},t.createElement(me.Z,null,Q),t.createElement(Ae.Z,{label:Q,value:X,onChange:k},ne(z)))},se="gocd.org/pipelines",j=X=>{var z;return Boolean((z=X.metadata.annotations)==null?void 0:z[se])},ae=()=>{var te,Re;const{entity:X}=(0,n.useEntity)(),z=(0,i.useApi)(i.configApiRef),Q=(Re=(te=X.metadata.annotations)==null?void 0:te[se])==null?void 0:Re.split(",").map($=>$.trim()),fe=(0,i.useApi)(s.z),[q,k]=(0,t.useState)(Q?Q[0]:""),{value:b,loading:F,error:N}=(0,d.default)(async()=>await fe.getPipelineHistory(q),[q]),W=$=>{k($)},Ee=$=>$.map(ie=>({label:ie,value:ie}));function Ce($){return($==null?void 0:$.message)!==void 0}return Q?Ce(b)?t.createElement(r.EmptyState,{title:"GoCD pipelines",description:`Could not fetch pipelines defined for entity ${X.metadata.name}. Error: ${b.message}`,missing:"content"}):!F&&!b?t.createElement(r.EmptyState,{title:"GoCD pipelines",description:`We could not find pipelines defined for entity ${X.metadata.name}.`,missing:"data"}):t.createElement(r.Page,{themeId:"tool"},t.createElement(r.Content,{noPadding:!0},t.createElement(r.ContentHeader,{title:X.metadata.name},t.createElement(_,{value:q,onChange:$=>W($),label:"Pipeline",items:Ee(Q)})),t.createElement(ue,{pipelineHistory:b,loading:F,error:N}),t.createElement(S,{goCdBaseUrl:z.getString("gocd.baseUrl"),pipelineHistory:b,loading:F,error:N}))):t.createElement(r.MissingAnnotationEmptyState,{annotation:se})}},20179:function(H,l,e){"use strict";e.d(l,{z:function(){return d},O:function(){return s}});var t=e(10179);const n=100;class r{constructor(c){this.discoveryApi=c}async getPipelineHistory(c){const o=await this.discoveryApi.getBaseUrl("proxy"),g=await fetch(`${o}/gocd/pipelines/${c}/history?page_size=${n}`,{headers:{Accept:"application/vnd.go.cd+json"}});if(!g.ok)throw await t.VL.fromResponse(g);return await g.json()}}var i=e(36964);const d=(0,i.createApiRef)({id:"plugin.gocd.service"}),s=(0,i.createPlugin)({id:"gocd",apis:[(0,i.createApiFactory)({api:d,deps:{discoveryApi:i.discoveryApiRef},factory:({discoveryApi:a})=>new r(a)})]})},98259:function(H,l,e){"use strict";e.r(l),e.d(l,{GraphiQLBrowser:function(){return p},GraphiQLPage:function(){return A}});var t=e(2784),n=e(36964),r=e(64279),i=e(33),d=e(79692),s=e(90436),a=e(99152),c=e(6487),o=e(85256);const R=class{static forStorage(E,C){const S=new R(E,C);return new Proxy(S,R.noPropAccessProxyHandler)}static forLocalStorage(E){return R.forStorage(localStorage,E)}constructor(E,C){this.storage=E,this.bucket=C}get length(){throw new Error("Method not implemented.")}clear(){this.storage.removeItem(this.bucket)}getItem(E){var C,S;return(S=(C=this.read())==null?void 0:C[E])!=null?S:null}key(){throw new Error("Method not implemented.")}removeItem(E){const C=this.read();!C||E in C&&(delete C[E],this.write(C))}setItem(E,C){var T;const S=(T=this.read())!=null?T:{};S[E]=C,this.write(S)}read(){const E=this.storage.getItem(this.bucket);if(!!E)try{return JSON.parse(E)}catch{return}}write(E){this.storage.setItem(this.bucket,JSON.stringify(E))}};let g=R;Me(g,"noPropAccessProxyHandler",{get(E,C){if(C in E)return E[C];throw new Error("Direct property access is not allowed for StorageBuckets")},set(){throw new Error("Direct property access is not allowed for StorageBuckets")}});var u=e(23192);const f=t.lazy(()=>e.e(8033).then(e.bind(e,38033))),h=(0,d.Z)(y=>({root:{height:"100%",display:"flex",flexFlow:"column nowrap"},tabs:{background:y.palette.background.paper},graphiQlWrapper:{flex:1,"@global":{".graphiql-container":{boxSizing:"initial"}}}})),p=y=>{const{endpoints:E}=y,C=h(),[S,T]=(0,t.useState)(0);if(!E.length)return t.createElement(s.Z,{variant:"h4"},"No endpoints available");const{id:P,fetcher:I}=E[S],Z=g.forLocalStorage(`plugin/graphiql/data/${P}`);return t.createElement("div",{className:C.root},t.createElement(t.Suspense,{fallback:t.createElement(u.Progress,null)},t.createElement(a.Z,{classes:{root:C.tabs},value:S,onChange:(L,D)=>T(D),indicatorColor:"primary"},E.map(({title:L},D)=>t.createElement(c.Z,{key:D,label:L,value:D}))),t.createElement(o.Z,null),t.createElement("div",{className:C.graphiQlWrapper},t.createElement(f,{headerEditorEnabled:!0,key:S,fetcher:I,storage:Z}))))},A=()=>{const y=(0,n.useApi)(i.N),E=(0,r.default)(()=>y.getEndpoints());let C;return E.loading?C=t.createElement(u.Content,null,t.createElement(u.Progress,null)):E.error?C=t.createElement(u.Content,null,t.createElement(s.Z,{variant:"h4",color:"error"},"Failed to load GraphQL endpoints, ",String(E.error))):C=t.createElement(u.Content,{noPadding:!0},t.createElement(p,{endpoints:E.value})),t.createElement(u.Page,{themeId:"tool"},t.createElement(u.Header,{title:"GraphiQL"},t.createElement(u.HeaderLabel,{label:"Owner",value:"Spotify"}),t.createElement(u.HeaderLabel,{label:"Lifecycle",value:"Alpha"})),C)}},33:function(H,l,e){"use strict";e.d(l,{O:function(){return t},N:function(){return r}});class t{static create(d){const{id:s,title:a,url:c,method:o="POST"}=d;return{id:s,title:a,fetcher:async(g,u={})=>{const f=JSON.stringify(g),h={"Content-Type":"application/json",...d.headers,...u.headers};return(await fetch(c,{method:o,headers:h,body:f})).json()}}}static github(d){const{id:s,title:a,url:c="https://api.github.com/graphql",errorApi:o,githubAuthApi:g}=d;return{id:s,title:a,fetcher:async(u,f={})=>{let h=!1;const p=async()=>{const A=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await g.getAccessToken()}`,...f.headers},body:JSON.stringify(u)});if(!A.ok)throw new Error(`Request failed with status ${A.status} ${A.statusText}`);const R=await A.json();if(!R.errors||h)return R;h=!0;const y=R.errors.filter(({type:E})=>E==="INSUFFICIENT_SCOPES").flatMap(({message:E})=>{const C=E.match(/one of the following scopes: (\[.*?\])/);if(!C)return[];try{return JSON.parse(C[1].replace(/'/g,'"'))}catch(S){return o&&o.post(new Error(`Failed to parse scope string "${C[1]}", ${S}`)),[]}});return await g.getAccessToken(y),p()};return await p()}}}static from(d){return new t(d)}constructor(d){this.endpoints=d}async getEndpoints(){return this.endpoints}}var n=e(36964);const r=(0,n.createApiRef)({id:"plugin.graphiql.browse"})},47039:function(H,l,e){"use strict";e.r(l),e.d(l,{HeaderWorldClock:function(){return h},HomepageCompositionRoot:function(){return r},SettingsModal:function(){return o}});var t=e(2784),n=e(10289);const r=p=>{var y;const A=(0,n.pC)(),R=(y=p.children)!=null?y:A;return t.createElement(t.Fragment,null,R)};var i=e(8629),d=e(79249),s=e(38724),a=e(49429),c=e(77277);const o=p=>{const{open:A,close:R,componentName:y,children:E}=p;return t.createElement(i.Z,{open:A,onClose:()=>R()},t.createElement(d.Z,null,"Settings - ",y),t.createElement(s.Z,null,E),t.createElement(a.Z,null,t.createElement(c.Z,{onClick:()=>R(),color:"primary",variant:"contained"},"Close")))};var g=e(23192);const u={hour:"2-digit",minute:"2-digit"};function f(p){const A=new Date,R=window.navigator.language,y=[];if(!p)return y;for(const E of p){let C=E.label;const S={timeZone:E.timeZone,...u};try{new Date().toLocaleString(R,S)}catch{console.warn(`The timezone ${S.timeZone} is invalid. Defaulting to GMT`),S.timeZone="GMT",C="GMT"}const T=A.toLocaleTimeString(R,S);y.push({time:T,label:C})}return y}const h=p=>{const{clockConfigs:A}=p,R=[],[y,E]=t.useState(R);return t.useEffect(()=>{E(f(A));const C=setInterval(()=>{E(f(A))},1e3);return()=>{clearInterval(C)}},[A]),y.length!==0?t.createElement(t.Fragment,null,y.map(C=>t.createElement(g.HeaderLabel,{label:C.label,value:C.time,key:C.label}))):null}},46727:function(H,l,e){"use strict";e.d(l,{v:function(){return i},B:function(){return r}});var t=e(36964),n=e(10179);const r=(0,t.createApiRef)({id:"plugin.jenkins.service2"});class i{constructor(s){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=s.discoveryApi,this.identityApi=s.identityApi}async getProjects(s){var f;const{entity:a,filter:c}=s,o=new URL(`${await this.discoveryApi.getBaseUrl("jenkins")}/v1/entity/${encodeURIComponent(a.namespace)}/${encodeURIComponent(a.kind)}/${encodeURIComponent(a.name)}/projects`);c.branch&&o.searchParams.append("branch",c.branch);const g=await this.getToken();return((f=(await(await fetch(o.href,{method:"GET",headers:{...g&&{Authorization:`Bearer ${g}`}}})).json()).projects)==null?void 0:f.map(h=>({...h,onRestartClick:()=>this.retry({entity:a,jobFullName:h.fullName,buildNumber:String(h.lastBuild.number)})})))||[]}async getBuild(s){const{entity:a,jobFullName:c,buildNumber:o}=s,g=`${await this.discoveryApi.getBaseUrl("jenkins")}/v1/entity/${encodeURIComponent(a.namespace)}/${encodeURIComponent(a.kind)}/${encodeURIComponent(a.name)}/job/${encodeURIComponent(c)}/${encodeURIComponent(o)}`,u=await this.getToken();return(await(await fetch(g,{method:"GET",headers:{...u&&{Authorization:`Bearer ${u}`}}})).json()).build}async retry(s){const{entity:a,jobFullName:c,buildNumber:o}=s,g=`${await this.discoveryApi.getBaseUrl("jenkins")}/v1/entity/${encodeURIComponent(a.namespace)}/${encodeURIComponent(a.kind)}/${encodeURIComponent(a.name)}/job/${encodeURIComponent(c)}/${encodeURIComponent(o)}:rebuild`,u=await this.getToken(),f=await fetch(g,{method:"POST",headers:{...u&&{Authorization:`Bearer ${u}`}}});if(!f.ok)throw await n.VL.fromResponse(f)}async getToken(){const{token:s}=await this.identityApi.getCredentials();return s}}},6208:function(H,l,e){"use strict";e.d(l,{B:function(){return r}});var t=e(2784),n=e(23192);const r=({status:i})=>{if(i===void 0)return null;switch(i.toLocaleLowerCase("en-US")){case"queued":case"scheduled":return t.createElement(t.Fragment,null,t.createElement(n.StatusPending,null)," Queued");case"running":return t.createElement(t.Fragment,null,t.createElement(n.StatusRunning,null)," In progress");case"unstable":return t.createElement(t.Fragment,null,t.createElement(n.StatusWarning,null)," Unstable");case"failure":return t.createElement(t.Fragment,null,t.createElement(n.StatusError,null)," Failed");case"success":return t.createElement(t.Fragment,null,t.createElement(n.StatusOK,null)," Completed");case"aborted":return t.createElement(t.Fragment,null,t.createElement(n.StatusAborted,null)," Aborted");default:return t.createElement(t.Fragment,null,t.createElement(n.StatusWarning,null)," ",i)}}},63966:function(H,l,e){"use strict";e.r(l),e.d(l,{LatestRunCard:function(){return f}});var t=e(79692),n=e(67358),r=e(69001),i=e(96299),d=e(2784),s=e(6208),a=e(17337),c=e(23192);const o=(0,t.Z)({externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}}),g=({loading:h,latestRun:p})=>{var E;const A=o();if(h||!p)return d.createElement(n.Z,null);const R=i.ou.fromMillis(p.lastBuild.timestamp).toRelative(),y=(p.lastBuild.building?"Running for ":"")+((E=i.ou.local().minus(i.nL.fromMillis(p.lastBuild.duration)).toRelative({locale:"en"}))==null?void 0:E.replace(" ago",""));return d.createElement(c.StructuredMetadataTable,{metadata:{status:d.createElement(d.Fragment,null,d.createElement(s.B,{status:p.lastBuild.status})),build:p.fullDisplayName,"latest run":R,duration:y,link:d.createElement(c.Link,{to:p.lastBuild.url},"See more on Jenkins"," ",d.createElement(r.Z,{className:A.externalLinkIcon}))}})},u=({message:h,errorType:p})=>{let A;return p===a.N.CONNECTION_ERROR?A="Can't connect to Jenkins":p===a.N.NOT_FOUND&&(A="Can't find Jenkins project"),d.createElement(c.WarningPanel,{severity:"error",title:A,message:h})},f=({branch:h="master",variant:p})=>{const[{projects:A,loading:R,error:y}]=(0,a.V)({branch:h}),E=A==null?void 0:A[0];return d.createElement(c.InfoCard,{title:`Latest ${h} build`,variant:p},y?d.createElement(u,{message:y.message,errorType:y.errorType}):d.createElement(g,{loading:R,branch:h,latestRun:E}))}},49623:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return X},isJenkinsAvailable:function(){return ae}});var t=e(23192),n=e(53479),r=e(2784),i=e(10289);const d="jenkins.io/job-full-name",s="jenkins.io/github-folder";var a=e(41351),c=e(36964),o=e(95544),g=e(80030),u=e(61837),f=e(90436),h=e(43266),p=e.p+"static/JenkinsLogo.e154121e..svg",A=e(17337),R=e(6208),y=e(72415),E=e(40749);const C=(0,E.J$)({name:"jenkins.execute",attributes:{action:"update"},resourceType:y.RESOURCE_TYPE_CATALOG_ENTITY}),S=({count:z})=>z!==0?r.createElement(r.Fragment,null,z," failed"):null,T=({count:z})=>z!==0?r.createElement(r.Fragment,null,z," skipped"):null,P=({skipped:z,failed:Q})=>z===0&&Q===0?null:z!==0&&Q!==0?r.createElement(r.Fragment,null," ","(",r.createElement(S,{count:Q}),", ",r.createElement(T,{count:z}),")"):Q!==0?r.createElement(r.Fragment,null," ","(",r.createElement(S,{count:Q}),")"):z!==0?r.createElement(r.Fragment,null," ","(",r.createElement(T,{count:z}),")"):null,I=[{title:"Timestamp",defaultSort:"desc",hidden:!0,field:"lastBuild.timestamp"},{title:"Build",field:"fullName",highlight:!0,render:z=>{const Q=()=>{var q,k;const fe=(0,c.useRouteRef)(a.LT);return!z.fullName||!((q=z.lastBuild)!=null&&q.number)?r.createElement(r.Fragment,null,z.fullName||z.fullDisplayName||z.displayName||"Unknown"):r.createElement(t.Link,{to:fe({jobFullName:encodeURIComponent(z.fullName),buildNumber:String((k=z.lastBuild)==null?void 0:k.number)})},z.fullDisplayName)};return r.createElement(Q,null)}},{title:"Source",field:"lastBuild.source.branchName",render:z=>{var Q,fe,q,k,b,F,N,W;return r.createElement(r.Fragment,null,r.createElement("p",null,r.createElement(t.Link,{to:(q=(fe=(Q=z.lastBuild)==null?void 0:Q.source)==null?void 0:fe.url)!=null?q:""},(b=(k=z.lastBuild)==null?void 0:k.source)==null?void 0:b.branchName)),r.createElement("p",null,(W=(N=(F=z.lastBuild)==null?void 0:F.source)==null?void 0:N.commit)==null?void 0:W.hash))}},{title:"Status",field:"status",render:z=>r.createElement(o.Z,{display:"flex",alignItems:"center"},r.createElement(R.B,{status:z.status}))},{title:"Tests",sorting:!1,render:z=>{var Q,fe,q,k,b,F,N,W;return r.createElement(r.Fragment,null,r.createElement("p",null,((Q=z.lastBuild)==null?void 0:Q.tests)&&r.createElement(t.Link,{to:(q=(fe=z.lastBuild)==null?void 0:fe.tests.testUrl)!=null?q:""},(k=z.lastBuild)==null?void 0:k.tests.passed," / ",(b=z.lastBuild)==null?void 0:b.tests.total," ","passed",r.createElement(P,{skipped:(F=z.lastBuild)==null?void 0:F.tests.skipped,failed:(N=z.lastBuild)==null?void 0:N.tests.failed})),!((W=z.lastBuild)!=null&&W.tests)&&"n/a"))}},{title:"Actions",sorting:!1,render:z=>{const Q=()=>{const[fe,q]=(0,r.useState)(!1),{allowed:k,loading:b}=(0,n.useEntityPermission)(C),F=(0,c.useApi)(c.alertApiRef),N=async()=>{if(z.onRestartClick){q(!0);try{await z.onRestartClick(),F.post({message:"Jenkins re-build has successfully executed",severity:"success"})}catch(W){F.post({message:`Jenkins re-build has failed. Error: ${W.message}`,severity:"error"})}finally{q(!1)}}};return r.createElement(g.ZP,{title:"Rerun build"},r.createElement(r.Fragment,null,fe&&r.createElement(t.Progress,null),!fe&&r.createElement(u.Z,{onClick:N,disabled:b||!k},r.createElement(h.Z,null))))};return r.createElement(Q,null)},width:"10%"}],Z=({loading:z,pageSize:Q,page:fe,retry:q,projects:k,onChangePage:b,onChangePageSize:F,total:N})=>{const W=k==null?void 0:k.slice(fe*Q,Math.min(k.length,(fe+1)*Q));return r.createElement(t.Table,{isLoading:z,options:{paging:!0,pageSize:Q,padding:"dense"},totalCount:N,page:fe,actions:[{icon:()=>r.createElement(h.Z,null),tooltip:"Refresh Data",isFreeAction:!0,onClick:()=>q()}],data:W!=null?W:[],onPageChange:b,onRowsPerPageChange:F,title:r.createElement(o.Z,{display:"flex",alignItems:"center"},r.createElement("img",{src:p,alt:"Jenkins logo",height:"50px"}),r.createElement(o.Z,{mr:2}),r.createElement(f.Z,{variant:"h6"},"Projects")),columns:I})},L=()=>{const[z,{setPage:Q,retry:fe,setPageSize:q}]=(0,A.V)();return r.createElement(Z,{...z,retry:fe,onChangePageSize:q,onChangePage:Q})};var D=e(91256),B=e(27556),w=e(37390),V=e(97485),G=e(89571),M=e(15584),ce=e(86689),ue=e(79692),le=e(69001),me=e(77446),ge=e(46727);const Ae=(z,Q)=>{const fe=(0,r.useRef)(!1);return{startPolling:async()=>{if(fe.current!==!0)for(fe.current=!0;fe.current===!0;)await z(),await new Promise(b=>setTimeout(b,Q))},stopPolling:()=>{fe.current=!1}}};var ee=e(48023);const Ie=1500;function re({jobFullName:z,buildNumber:Q}){const fe=(0,c.useApi)(ge.B),q=(0,c.useApi)(c.errorApiRef),{entity:k}=(0,n.useEntity)(),b=(0,r.useCallback)(async()=>{try{const te=await(0,ee.iB)(k);return fe.getBuild({entity:te,jobFullName:z,buildNumber:Q})}catch(te){return q.post(te),Promise.reject(te)}},[Q,z,k,fe,q]),{loading:F,value:N,retry:W}=(0,me.Z)(()=>b(),[b]),{startPolling:Ee,stopPolling:Ce}=Ae(b,Ie);return[{loading:F,value:N,retry:W},{getBuildWithSteps:b,startPolling:Ee,stopPolling:Ce}]}const ne=(0,ue.Z)(z=>({root:{maxWidth:720},table:{padding:z.spacing(1)},externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}})),_=()=>{var k,b,F,N,W,Ee;const{jobFullName:z,buildNumber:Q}=(0,c.useRouteRefParams)(a.LT),fe=ne(),[{value:q}]=re({jobFullName:z,buildNumber:Q});return r.createElement("div",{className:fe.root},r.createElement(t.Breadcrumbs,{"aria-label":"breadcrumb"},r.createElement(t.Link,{to:"../../.."},"Projects"),r.createElement(f.Z,null,"Run")),r.createElement(o.Z,{m:2}),r.createElement(D.Z,{component:B.Z,className:fe.table},r.createElement(w.Z,null,r.createElement(V.Z,null,r.createElement(G.Z,null,r.createElement(M.Z,null,r.createElement(f.Z,{noWrap:!0},"Branch")),r.createElement(M.Z,null,(k=q==null?void 0:q.source)==null?void 0:k.branchName)),r.createElement(G.Z,null,r.createElement(M.Z,null,r.createElement(f.Z,{noWrap:!0},"Message")),r.createElement(M.Z,null,(b=q==null?void 0:q.source)==null?void 0:b.displayName)),r.createElement(G.Z,null,r.createElement(M.Z,null,r.createElement(f.Z,{noWrap:!0},"Commit ID")),r.createElement(M.Z,null,(N=(F=q==null?void 0:q.source)==null?void 0:F.commit)==null?void 0:N.hash)),r.createElement(G.Z,null,r.createElement(M.Z,null,r.createElement(f.Z,{noWrap:!0},"Status")),r.createElement(M.Z,null,r.createElement(R.B,{status:q==null?void 0:q.status}))),r.createElement(G.Z,null,r.createElement(M.Z,null,r.createElement(f.Z,{noWrap:!0},"Author")),r.createElement(M.Z,null,(W=q==null?void 0:q.source)==null?void 0:W.author)),r.createElement(G.Z,null,r.createElement(M.Z,null,r.createElement(f.Z,{noWrap:!0},"Jenkins")),r.createElement(M.Z,null,r.createElement(ce.Z,{target:"_blank",href:q==null?void 0:q.url},"View on Jenkins"," ",r.createElement(le.Z,{className:fe.externalLinkIcon})))),r.createElement(G.Z,null,r.createElement(M.Z,null,r.createElement(f.Z,{noWrap:!0},"GitHub")),r.createElement(M.Z,null,r.createElement(ce.Z,{target:"_blank",href:(Ee=q==null?void 0:q.source)==null?void 0:Ee.url},"View on GitHub"," ",r.createElement(le.Z,{className:fe.externalLinkIcon}))))))))};var j=()=>r.createElement(t.Content,null,r.createElement(_,null));const ae=z=>{var Q,fe;return Boolean((Q=z.metadata.annotations)==null?void 0:Q[d])||Boolean((fe=z.metadata.annotations)==null?void 0:fe[s])},X=z=>{const{entity:Q}=(0,n.useEntity)();return ae(Q)?r.createElement(i.Z5,null,r.createElement(i.AW,{path:"/",element:r.createElement(L,null)}),r.createElement(i.AW,{path:`/${a.LT.path}`,element:r.createElement(j,null)})):r.createElement(t.MissingAnnotationEmptyState,{annotation:d})}},17337:function(H,l,e){"use strict";e.d(l,{N:function(){return a},V:function(){return c}});var t=e(2784),n=e(77446),r=e(46727),i=e(36964),d=e(53479),s=e(48023),a;(function(o){o[o.CONNECTION_ERROR=0]="CONNECTION_ERROR";const u=0+1;o[o.NOT_FOUND=u]="NOT_FOUND"})(a||(a={}));function c({branch:o}={}){const{entity:g}=(0,d.useEntity)(),u=(0,s.iB)(g),f=(0,i.useApi)(r.B),h=(0,i.useApi)(i.errorApiRef),[p,A]=(0,t.useState)(0),[R,y]=(0,t.useState)(0),[E,C]=(0,t.useState)(5),[S,T]=(0,t.useState)(),P=async(D,B)=>{try{await f.retry({entity:u,jobFullName:D,buildNumber:B})}catch(w){h.post(w)}},{loading:I,value:Z,retry:L}=(0,n.Z)(async()=>{try{const D=await f.getProjects({entity:(0,s.iB)(g),filter:{branch:o}});return A(D.length),D}catch(D){const B=D.notFound?a.NOT_FOUND:a.CONNECTION_ERROR;throw T({message:D.message,errorType:B}),D}},[f,h,g,o]);return[{page:R,pageSize:E,loading:I,projects:Z,total:p,error:S},{setPage:y,setPageSize:C,restartBuild:P,retry:L}]}},41351:function(H,l,e){"use strict";e.d(l,{LT:function(){return i},eY:function(){return s},o2:function(){return a}});var t=e(36964),n=e(46727);const r=(0,t.createRouteRef)({id:"jenkins"}),i=(0,t.createSubRouteRef)({id:"jenkins/builds",path:"/builds/:jobFullName/:buildNumber",parent:r}),d=(0,t.createPlugin)({id:"jenkins",apis:[(0,t.createApiFactory)({api:n.B,deps:{discoveryApi:t.discoveryApiRef,identityApi:t.identityApiRef},factory:({discoveryApi:c,identityApi:o})=>new n.v({discoveryApi:c,identityApi:o})})],routes:{entityContent:r}}),s=d.provide((0,t.createRoutableExtension)({name:"EntityJenkinsContent",component:()=>Promise.resolve().then(e.bind(e,49623)).then(c=>c.Router),mountPoint:r})),a=d.provide((0,t.createComponentExtension)({name:"EntityLatestJenkinsRunCard",component:{lazy:()=>Promise.resolve().then(e.bind(e,63966)).then(c=>c.LatestRunCard)}}))},9163:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return C},isPluginApplicableToEntity:function(){return E}});var t=e(2784),n=e(10289),r=e(53479);const i="kafka.apache.org/consumer-groups";var d=e(95544),s=e(90436),a=e(60905),c=e(43266),o=e(77446),g=e(44536);const u=()=>{var I,Z;const{entity:S}=(0,r.useEntity)(),T=(Z=(I=S.metadata.annotations)==null?void 0:I[i])!=null?Z:"";return(0,t.useMemo)(()=>T.split(",").map(L=>{const[D,B]=L.split("/");if(!D||!B)throw new Error(`Failed to parse kafka consumer group annotation: got "${T}"`);return{clusterId:D.trim(),consumerGroup:B.trim()}}),[T])};var f=e(36964);const h=()=>{const S=u(),T=(0,f.useApi)(g.L),P=(0,f.useApi)(f.errorApiRef),{loading:I,value:Z,retry:L}=(0,o.Z)(async()=>{try{return await Promise.all(S.map(async({clusterId:D,consumerGroup:B})=>{const w=await T.getConsumerGroupOffsets(D,B);return{clusterId:D,consumerGroup:B,topics:w.offsets}}))}catch(D){throw P.post(D),D}},[S,T,P]);return[{loading:I,consumerGroupsTopics:Z},{retry:L}]};var p=e(23192);const A=[{title:"Topic",field:"topic",highlight:!0,render:S=>{var T;return t.createElement(t.Fragment,null,(T=S.topic)!=null?T:"")}},{title:"Partition",field:"partitionId",render:S=>{var T;return t.createElement(t.Fragment,null,(T=S.partitionId)!=null?T:"")}},{title:"Topic Offset",field:"topicOffset",render:S=>{var T;return t.createElement(t.Fragment,null,(T=S.topicOffset)!=null?T:"")}},{title:"Group Offset",field:"groupOffset",render:S=>{var T;return t.createElement(t.Fragment,null,(T=S.groupOffset)!=null?T:"")}},{title:"Lag",field:"lag",render:S=>{let T;return S.topicOffset&&S.groupOffset&&(T=+S.topicOffset-+S.groupOffset),t.createElement(t.Fragment,null,T!=null?T:"")}}],R=({loading:S,topics:T,clusterId:P,consumerGroup:I,retry:Z})=>t.createElement(p.Table,{isLoading:S,actions:[{icon:()=>t.createElement(c.Z,null),tooltip:"Refresh Data",isFreeAction:!0,onClick:()=>Z()}],data:T!=null?T:[],title:t.createElement(d.Z,{display:"flex",alignItems:"center"},t.createElement(s.Z,{variant:"h6"},"Consumed Topics for ",I," (",P,")")),columns:A}),y=()=>{var P;const[S,{retry:T}]=h();return t.createElement(a.Z,null,(P=S.consumerGroupsTopics)==null?void 0:P.map(I=>t.createElement(R,{...I,loading:S.loading,retry:T})))},E=S=>{var T;return Boolean((T=S.metadata.annotations)==null?void 0:T[i])},C=S=>{const{entity:T}=(0,r.useEntity)();return E(T)?t.createElement(n.Z5,null,t.createElement(n.AW,{path:"/",element:t.createElement(y,null)})):t.createElement(p.MissingAnnotationEmptyState,{annotation:i})}},44536:function(H,l,e){"use strict";e.d(l,{L:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.kafka.service"})},97660:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return g},isKubernetesAvailable:function(){return o}});var t=e(2784),n=e(53479),r=e(10289),i=e(45625),d=e(77277),s=e(23192);const a="backstage.io/kubernetes-id",c="backstage.io/kubernetes-label-selector",o=u=>{var f,h;return Boolean((f=u.metadata.annotations)==null?void 0:f[a])||Boolean((h=u.metadata.annotations)==null?void 0:h[c])},g=u=>{var A,R;const{entity:f}=(0,n.useEntity)(),h=(A=f.metadata.annotations)==null?void 0:A[a],p=(R=f.metadata.annotations)==null?void 0:R[c];return h||p?t.createElement(r.Z5,null,t.createElement(r.AW,{path:"/",element:t.createElement(i.w,{entity:f,refreshIntervalMs:u.refreshIntervalMs})})):t.createElement(t.Fragment,null,t.createElement(s.MissingAnnotationEmptyState,{annotation:a}),t.createElement("h1",null,"Or use a label selector query, which takes precedence over the previous annotation."),t.createElement(d.Z,{variant:"contained",color:"primary",href:"https://backstage.io/docs/features/kubernetes/configuration#surfacing-your-kubernetes-components-as-part-of-an-entity"},"Read Kubernetes Plugin Docs"))}},61057:function(H,l,e){"use strict";e.d(l,{H:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.kubernetes.service"})},42835:function(H,l,e){"use strict";e.d(l,{v:function(){return ue}});var t=e(2784),n=e(60905),r=e(90436),i=e(85256),d=e(27616),s=e(8284),a=e(70660),c=e(38016),o=e(51582),g=e(40097),u=e(88186),f=e(7089);const h=({deployment:le,expanded:me})=>{var Ae,ee,Ie;const ge=(Ae=le.metadata)==null?void 0:Ae.namespace;return t.createElement(g.v,{object:le,expanded:me,kind:"Deployment",renderObject:re=>{var _,se,j,ae,X,z,Q,fe;const ne=((se=(_=re.status)==null?void 0:_.conditions)!=null?se:[]).map(u.NJ).reduce((q,k)=>(q[k[0]]=k[1],q),{});return{strategy:(ae=(j=re.spec)==null?void 0:j.strategy)!=null?ae:"???",minReadySeconds:(z=(X=re.spec)==null?void 0:X.minReadySeconds)!=null?z:"???",progressDeadlineSeconds:(fe=(Q=re.spec)==null?void 0:Q.progressDeadlineSeconds)!=null?fe:"???",...ne}}},t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"h5"},(Ie=(ee=le.metadata)==null?void 0:ee.name)!=null?Ie:"unknown object")),t.createElement(n.Z,{item:!0},t.createElement(r.Z,{color:"textSecondary",variant:"body1"},"Deployment")),ge&&t.createElement(n.Z,{item:!0},t.createElement(f.Z,{size:"small",label:`namespace: ${ge}`}))))};var p=e(8834),A=e(23100),R=e(81497),y=e(23192),E=e(50206);const C=({deployment:le,numberOfCurrentPods:me,numberOfPodsWithErrors:ge,hpa:Ae})=>{var ee,Ie,re,ne,_,se,j,ae;return t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(n.Z,{xs:3,item:!0},t.createElement(h,{deployment:le})),t.createElement(n.Z,{item:!0,xs:1},t.createElement(i.Z,{style:{height:"5em"},orientation:"vertical"})),Ae&&t.createElement(n.Z,{item:!0,xs:3},t.createElement(p.$,{hpa:Ae},t.createElement(n.Z,{item:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"subtitle2"},"min replicas ",(Ie=(ee=Ae.spec)==null?void 0:ee.minReplicas)!=null?Ie:"?"," / max replicas"," ",(ne=(re=Ae.spec)==null?void 0:re.maxReplicas)!=null?ne:"?")),t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"subtitle2"},"current CPU usage:"," ",(se=(_=Ae.status)==null?void 0:_.currentCPUUtilizationPercentage)!=null?se:"?","%")),t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"subtitle2"},"target CPU usage:"," ",(ae=(j=Ae.spec)==null?void 0:j.targetCPUUtilizationPercentage)!=null?ae:"?","%"))))),t.createElement(n.Z,{item:!0,container:!0,xs:3,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(n.Z,{item:!0},t.createElement(y.StatusOK,null,me," pods")),t.createElement(n.Z,{item:!0},ge>0?t.createElement(y.StatusError,null,ge," pod",ge>1?"s":""," with errors"):t.createElement(y.StatusOK,null,"No pods with errors"))))},S=({deployment:le,ownedPods:me,matchingHpa:ge})=>{const Ae=(0,t.useContext)(R.yv),ee=me.filter(Ie=>{var re,ne;return Ae.has((ne=(re=Ie.metadata)==null?void 0:re.name)!=null?ne:"")});return t.createElement(d.Z,{TransitionProps:{unmountOnExit:!0}},t.createElement(s.Z,{expandIcon:t.createElement(c.Z,null)},t.createElement(C,{deployment:le,numberOfCurrentPods:me.length,numberOfPodsWithErrors:ee.length,hpa:ge})),t.createElement(a.Z,null,t.createElement(o.e,{pods:me,extraColumns:[E.Q9,E.is]})))},T=({})=>{const le=(0,t.useContext)(R.T3);return t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},le.deployments.map((me,ge)=>{var Ae,ee;return t.createElement(n.Z,{container:!0,item:!0,key:ge,xs:!0},t.createElement(n.Z,{item:!0,xs:!0},t.createElement(S,{matchingHpa:(0,A.LI)({name:(Ae=me.metadata)==null?void 0:Ae.name,namespace:(ee=me.metadata)==null?void 0:ee.namespace,kind:"deployment"},le.horizontalPodAutoscalers),ownedPods:(0,A.kJ)(me,le.replicaSets,le.pods),deployment:me})))}))},P=({statefulset:le,expanded:me})=>{var Ae,ee,Ie;const ge=(Ae=le.metadata)==null?void 0:Ae.namespace;return t.createElement(g.v,{object:le,expanded:me,kind:"StatefulSet",renderObject:re=>{var _,se,j,ae,X,z,Q,fe,q,k,b,F;const ne=((se=(_=re.status)==null?void 0:_.conditions)!=null?se:[]).map(u.NJ).reduce((N,W)=>(N[W[0]]=W[1],N),{});return{updateStrategy:(ae=(j=le.spec)==null?void 0:j.updateStrategy)!=null?ae:"???",podManagementPolicy:(z=(X=le.spec)==null?void 0:X.podManagementPolicy)!=null?z:"???",serviceName:(fe=(Q=le.spec)==null?void 0:Q.serviceName)!=null?fe:"???",selector:(k=(q=le.spec)==null?void 0:q.selector)!=null?k:"???",revisionHistoryLimit:(F=(b=le.spec)==null?void 0:b.revisionHistoryLimit)!=null?F:"???",...ne}}},t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"h5"},(Ie=(ee=le.metadata)==null?void 0:ee.name)!=null?Ie:"unknown object")),t.createElement(n.Z,{item:!0},t.createElement(r.Z,{color:"textSecondary",variant:"body1"},"Stateful Set")),ge&&t.createElement(n.Z,{item:!0},t.createElement(f.Z,{size:"small",label:`namespace: ${ge}`}))))},I=({statefulset:le,numberOfCurrentPods:me,numberOfPodsWithErrors:ge,hpa:Ae})=>{var ee,Ie,re,ne,_,se,j,ae;return t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(n.Z,{xs:3,item:!0},t.createElement(P,{statefulset:le})),t.createElement(n.Z,{item:!0,xs:1},t.createElement(i.Z,{style:{height:"5em"},orientation:"vertical"})),Ae&&t.createElement(n.Z,{item:!0,xs:3},t.createElement(p.$,{hpa:Ae},t.createElement(n.Z,{item:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"subtitle2"},"min replicas ",(Ie=(ee=Ae.spec)==null?void 0:ee.minReplicas)!=null?Ie:"?"," / max replicas"," ",(ne=(re=Ae.spec)==null?void 0:re.maxReplicas)!=null?ne:"?")),t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"subtitle2"},"current CPU usage:"," ",(se=(_=Ae.status)==null?void 0:_.currentCPUUtilizationPercentage)!=null?se:"?","%")),t.createElement(n.Z,{item:!0},t.createElement(r.Z,{variant:"subtitle2"},"target CPU usage:"," ",(ae=(j=Ae.spec)==null?void 0:j.targetCPUUtilizationPercentage)!=null?ae:"?","%"))))),t.createElement(n.Z,{item:!0,container:!0,xs:3,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(n.Z,{item:!0},t.createElement(y.StatusOK,null,me," pods")),t.createElement(n.Z,{item:!0},ge>0?t.createElement(y.StatusError,null,ge," pod",ge>1?"s":""," with errors"):t.createElement(y.StatusOK,null,"No pods with errors"))))},Z=({statefulset:le,ownedPods:me,matchingHpa:ge})=>{const Ae=(0,t.useContext)(R.yv),ee=me.filter(Ie=>{var re,ne;return Ae.has((ne=(re=Ie.metadata)==null?void 0:re.name)!=null?ne:"")});return t.createElement(d.Z,{TransitionProps:{unmountOnExit:!0}},t.createElement(s.Z,{expandIcon:t.createElement(c.Z,null)},t.createElement(I,{statefulset:le,numberOfCurrentPods:me.length,numberOfPodsWithErrors:ee.length,hpa:ge})),t.createElement(a.Z,null,t.createElement(o.e,{pods:me,extraColumns:[E.Q9,E.is]})))},L=({})=>{const le=(0,t.useContext)(R.T3);return t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},le.statefulsets.map((me,ge)=>{var Ae,ee;return t.createElement(n.Z,{container:!0,item:!0,key:ge,xs:!0},t.createElement(n.Z,{item:!0,xs:!0},t.createElement(Z,{matchingHpa:(0,A.LI)({name:(Ae=me.metadata)==null?void 0:Ae.name,namespace:(ee=me.metadata)==null?void 0:ee.namespace,kind:"statefulset"},le.horizontalPodAutoscalers),ownedPods:(0,A._6)(me,le.pods),statefulset:me})))}))};var D=e(44396),B=e(6581),w=e(22032),V=e(83631),G=e(14188),M=e(53503);const ce=({clusterName:le,totalNumberOfPods:me,numberOfPodsWithErrors:ge})=>t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(n.Z,{xs:4,item:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0,xs:!0},t.createElement(r.Z,{variant:"h3"},le),t.createElement(r.Z,{color:"textSecondary",variant:"body1"},"Cluster"))),t.createElement(n.Z,{item:!0,xs:1},t.createElement(i.Z,{style:{height:"4em"},orientation:"vertical"})),t.createElement(n.Z,{item:!0,container:!0,xs:3,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(n.Z,{item:!0},t.createElement(y.StatusOK,null,me," pods")),t.createElement(n.Z,{item:!0},ge>0?t.createElement(y.StatusError,null,ge," pods with errors"):t.createElement(y.StatusOK,null,"No pods with errors")))),ue=({clusterObjects:le,podsWithErrors:me})=>{const ge=(0,D.i)(le.resources),Ae=le.podMetrics.flat().reduce((ee,Ie)=>{var ne;const re=(ne=Ie.pod.metadata)==null?void 0:ne.name;return re!==void 0&&ee.set(re,Ie),ee},new Map);return t.createElement(R.Dq.Provider,{value:le.cluster},t.createElement(R.T3.Provider,{value:ge},t.createElement(M.M.Provider,{value:Ae},t.createElement(R.yv.Provider,{value:me},t.createElement(d.Z,{TransitionProps:{unmountOnExit:!0}},t.createElement(s.Z,{expandIcon:t.createElement(c.Z,null)},t.createElement(ce,{clusterName:le.cluster.name,totalNumberOfPods:ge.pods.length,numberOfPodsWithErrors:me.size})),t.createElement(a.Z,null,t.createElement(n.Z,{container:!0,direction:"column"},t.createElement(n.Z,{item:!0},t.createElement(G.I,null)),t.createElement(n.Z,{item:!0},t.createElement(T,null)),t.createElement(n.Z,{item:!0},t.createElement(L,null)),t.createElement(n.Z,{item:!0},t.createElement(B.E,null)),t.createElement(n.Z,{item:!0},t.createElement(w.G,null)),t.createElement(n.Z,{item:!0},t.createElement(V.J,null)))))))))}},83631:function(H,l,e){"use strict";e.d(l,{J:function(){return S}});var t=e(2784),n=e(60905),r=e(85256),i=e(90436),d=e(27616),s=e(8284),a=e(70660),c=e(38016),o=e(85433),g=e(40097),u=e(7089);const f=({cronJob:T,expanded:P})=>{var Z,L,D;const I=(Z=T.metadata)==null?void 0:Z.namespace;return t.createElement(g.v,{object:T,expanded:P,kind:"CronJob",renderObject:B=>{var w,V,G,M,ce,ue,le,me;return{schedule:(V=(w=B.spec)==null?void 0:w.schedule)!=null?V:"???",startingDeadlineSeconds:(M=(G=B.spec)==null?void 0:G.startingDeadlineSeconds)!=null?M:"???",concurrencyPolicy:(ue=(ce=B.spec)==null?void 0:ce.concurrencyPolicy)!=null?ue:"???",lastScheduleTime:(me=(le=B.status)==null?void 0:le.lastScheduleTime)!=null?me:"???"}}},t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(i.Z,{variant:"h5"},(D=(L=T.metadata)==null?void 0:L.name)!=null?D:"unknown object")),t.createElement(n.Z,{item:!0},t.createElement(i.Z,{color:"textSecondary",variant:"body1"},"CronJob")),I&&t.createElement(n.Z,{item:!0},t.createElement(u.Z,{size:"small",label:`namespace: ${I}`}))))};var h=e(23100),p=e(81497),A=e(23192),R=e(32714),y=e.n(R);const E=({cronJob:T})=>{var P,I;return t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(n.Z,{xs:3,item:!0},t.createElement(f,{cronJob:T})),t.createElement(n.Z,{item:!0,xs:1},t.createElement(r.Z,{style:{height:"5em"},orientation:"vertical"})),t.createElement(n.Z,{item:!0,container:!0,xs:5,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(n.Z,{item:!0},(P=T.spec)!=null&&P.suspend?t.createElement(A.StatusError,null,"Suspended"):t.createElement(A.StatusOK,null,"Active")),t.createElement(n.Z,{item:!0},t.createElement(i.Z,{variant:"body1"},"Schedule:"," ",(I=T.spec)!=null&&I.schedule?`${T.spec.schedule} (${y().toString(T.spec.schedule)})`:"N/A"))))},C=({cronJob:T,ownedJobs:P})=>t.createElement(d.Z,{TransitionProps:{unmountOnExit:!0}},t.createElement(s.Z,{expandIcon:t.createElement(c.Z,null)},t.createElement(E,{cronJob:T})),t.createElement(a.Z,null,t.createElement(o.j,{jobs:P.reverse()}))),S=({})=>{const T=(0,t.useContext)(p.T3);return t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},T.cronJobs.map((P,I)=>t.createElement(n.Z,{container:!0,item:!0,key:I,xs:!0},t.createElement(n.Z,{item:!0,xs:!0},t.createElement(C,{ownedJobs:(0,h._6)(P,T.jobs),cronJob:P})))))}},14188:function(H,l,e){"use strict";e.d(l,{I:function(){return ne}});var t=e(2784),n=e(76635),r=e.n(n),i=e(90436),d=e(60905),s=e(85256),a=e(27616),c=e(8284),o=e(70660),g=e(38016),u=e(51582),f=e(8834),h=e(40097);const p=({rollout:_,expanded:se})=>{var j,ae;return t.createElement(h.v,{object:_,expanded:se,kind:"Rollout",renderObject:()=>({})},t.createElement(d.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"h5"},(ae=(j=_.metadata)==null?void 0:j.name)!=null?ae:"unknown object")),t.createElement(d.Z,{item:!0},t.createElement(i.Z,{color:"textSecondary",variant:"body1"},"Rollout"))))};var A=e(99264),R=e(91750),y=e(96299),E=e(31625),C=e(31377),S=e(34546);const T=_=>_.hasOwnProperty("setWeight"),P=_=>_.hasOwnProperty("pause"),I=_=>_.hasOwnProperty("analysis"),Z=_=>T(_)?`setWeight ${_.setWeight}%`:P(_)?_.pause.duration===void 0?"infinite pause":`pause for ${_.pause.duration}`:I(_)?t.createElement("div",null,t.createElement("p",null,"analysis templates:"),_.analysis.templates.map((se,j)=>t.createElement("p",{key:j},`${se.templateName}${se.clusterScope?" (cluster scoped)":""}`))):"unknown step",L=({currentStepIndex:_,aborted:se,steps:j})=>{const ae=_>=j.length?_+1:_;return t.createElement(E.Z,{activeStep:se?-1:ae,alternativeLabel:!0},j.map((X,z)=>t.createElement(C.Z,{key:z},t.createElement(S.Z,{"data-testid":`step-${z}`},Z(X)))).concat(t.createElement(C.Z,{key:"-1"},t.createElement(S.Z,{"data-testid":"step--1"},"Canary promoted"))))};var D=e(81497),B=e(23100),w=e(23192),V=e(50206);const G=t.createElement("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},t.createElement(R.Z,null),t.createElement(i.Z,{variant:"subtitle1"},"Aborted")),M=_=>{var se,j,ae;return(ae=(j=(se=_.status)==null?void 0:se.conditions)==null?void 0:j.find(X=>X.type==="Progressing"&&X.status==="False"&&X.reason==="RolloutAborted"))==null?void 0:ae.message},ce=({rollout:_,numberOfCurrentPods:se,numberOfPodsWithErrors:j,hpa:ae})=>{var Q,fe,q,k,b,F,N,W,Ee,Ce,te;const X=(q=(fe=(Q=_.status)==null?void 0:Q.pauseConditions)==null?void 0:fe.find(Re=>Re.reason==="CanaryPauseStep"))==null?void 0:q.startTime,z=M(_);return t.createElement(d.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(d.Z,{xs:3,item:!0},t.createElement(p,{rollout:_})),t.createElement(d.Z,{item:!0,xs:1},t.createElement(s.Z,{style:{height:"5em"},orientation:"vertical"})),ae&&t.createElement(d.Z,{item:!0,xs:3},t.createElement(f.$,{hpa:ae},t.createElement(d.Z,{item:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"subtitle2"},"min replicas ",(b=(k=ae.spec)==null?void 0:k.minReplicas)!=null?b:"?"," / max replicas"," ",(N=(F=ae.spec)==null?void 0:F.maxReplicas)!=null?N:"?")),t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"subtitle2"},"current CPU usage:"," ",(Ee=(W=ae.status)==null?void 0:W.currentCPUUtilizationPercentage)!=null?Ee:"?","%")),t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"subtitle2"},"target CPU usage:"," ",(te=(Ce=ae.spec)==null?void 0:Ce.targetCPUUtilizationPercentage)!=null?te:"?","%"))))),t.createElement(d.Z,{item:!0,container:!0,xs:3,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(d.Z,{item:!0},t.createElement(w.StatusOK,null,se," pods")),t.createElement(d.Z,{item:!0},j>0?t.createElement(w.StatusError,null,j," pod",j>1?"s":""," with errors"):t.createElement(w.StatusOK,null,"No pods with errors"))),X&&t.createElement(d.Z,{item:!0,xs:3},t.createElement("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},t.createElement(A.Z,null),t.createElement(i.Z,{variant:"subtitle1"},"Paused (",y.ou.fromISO(X).toRelative({locale:"en"}),")"))),z&&t.createElement(d.Z,{item:!0,xs:3},G))},ue=({rollout:_,ownedPods:se,matchingHpa:j,defaultExpanded:ae})=>{var q,k,b,F,N,W;const X=(0,t.useContext)(D.yv),z=se.filter(Ee=>{var Ce,te;return X.has((te=(Ce=Ee.metadata)==null?void 0:Ce.name)!=null?te:"")}),Q=(k=(q=_.status)==null?void 0:q.currentStepIndex)!=null?k:0,fe=M(_);return t.createElement(a.Z,{defaultExpanded:ae,TransitionProps:{unmountOnExit:!0}},t.createElement(c.Z,{expandIcon:t.createElement(g.Z,null)},t.createElement(ce,{rollout:_,numberOfCurrentPods:se.length,numberOfPodsWithErrors:z.length,hpa:j})),t.createElement(o.Z,null,t.createElement("div",{style:{width:"100%"}},t.createElement("div",null,t.createElement(i.Z,{variant:"h6"},"Rollout status")),t.createElement("div",{style:{margin:"1rem"}},fe&&t.createElement(t.Fragment,null,G,t.createElement(i.Z,{variant:"subtitle2"},fe)),t.createElement(L,{aborted:fe!==void 0,steps:(W=(N=(F=(b=_.spec)==null?void 0:b.strategy)==null?void 0:F.canary)==null?void 0:N.steps)!=null?W:[],currentStepIndex:Q})),t.createElement("div",null,t.createElement(u.e,{pods:se,extraColumns:[V.Q9,V.is]})))))},le=({rollouts:_,defaultExpanded:se=!1})=>{const j=(0,t.useContext)(D.T3);return t.createElement(d.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},_.map((ae,X)=>{var z,Q;return t.createElement(d.Z,{container:!0,item:!0,key:X,xs:!0},t.createElement(d.Z,{item:!0,xs:!0},t.createElement(ue,{defaultExpanded:se,matchingHpa:(0,B.LI)({name:(z=ae.metadata)==null?void 0:z.name,namespace:(Q=ae.metadata)==null?void 0:Q.namespace,kind:"rollout"},j.horizontalPodAutoscalers),ownedPods:(0,B.kJ)(ae,j.replicaSets,j.pods),rollout:ae})))}))},me=_=>_.charAt(0).toLocaleUpperCase("en-US")+_.slice(1),ge=({customResource:_,customResourceName:se,expanded:j})=>{var X,z;const ae=me(se);return t.createElement(h.v,{object:_,expanded:j,kind:ae,renderObject:Q=>Q},t.createElement(d.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(d.Z,{item:!0},t.createElement(i.Z,{variant:"h5"},(z=(X=_.metadata)==null?void 0:X.name)!=null?z:"unknown object")),t.createElement(d.Z,{item:!0},t.createElement(i.Z,{color:"textSecondary",variant:"body1"},ae))))},Ae=({customResource:_,customResourceName:se})=>t.createElement(d.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(d.Z,{xs:3,item:!0},t.createElement(ge,{customResource:_,customResourceName:se})),t.createElement(d.Z,{item:!0,xs:1},t.createElement(s.Z,{style:{height:"5em"},orientation:"vertical"}))),ee=({customResource:_,customResourceName:se,defaultExpanded:j})=>t.createElement(a.Z,{defaultExpanded:j,TransitionProps:{unmountOnExit:!0}},t.createElement(c.Z,{expandIcon:t.createElement(g.Z,null)},t.createElement(Ae,{customResource:_,customResourceName:se})),t.createElement(o.Z,null,_.hasOwnProperty("status")&&t.createElement(w.StructuredMetadataTable,{metadata:_.status}))),Ie=({customResources:_,customResourceName:se,defaultExpanded:j=!1})=>t.createElement(d.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},_.map((ae,X)=>t.createElement(d.Z,{container:!0,item:!0,key:X,xs:!0},t.createElement(d.Z,{item:!0,xs:!0},t.createElement(ee,{defaultExpanded:j,customResource:ae,customResourceName:se}))))),re=_=>r().groupBy(_,se=>se.kind),ne=({})=>{const _=(0,t.useContext)(D.T3),se=re(_.customResources);return t.createElement(t.Fragment,null,Object.entries(se).map(([j,ae],X)=>{switch(j){case"Rollout":return t.createElement(le,{key:X,rollouts:ae});default:return t.createElement(Ie,{key:X,customResources:ae,customResourceName:j})}}))}},40732:function(H,l,e){"use strict";e.d(l,{y:function(){return d}});var t=e(2784),n=e(90436),r=e(23192);const i=s=>s.map((a,c)=>t.createElement("div",{key:c},t.createElement(n.Z,{variant:"body2"},`Cluster: ${a.cluster.name}`),a.errors.map((o,g)=>t.createElement(n.Z,{variant:"body2",key:g},`Error fetching Kubernetes resource: '${o.resourcePath}', error: ${o.errorType}, status code: ${o.statusCode}`)),t.createElement("br",null))),d=({entityName:s,errorMessage:a,clustersWithErrors:c})=>t.createElement(r.WarningPanel,{title:"There was a problem retrieving Kubernetes objects",message:`There was a problem retrieving some Kubernetes resources for the entity: ${s}. This could mean that the Error Reporting card is not completely accurate.`},c&&t.createElement("div",null,"Errors: ",i(c)),a&&t.createElement(n.Z,{variant:"body2"},"Errors: ",a))},43883:function(H,l,e){"use strict";e.d(l,{n:function(){return g}});var t=e(2784),n=e(7089),r=e(60905),i=e(90436),d=e(77423),s=e(23192);const a=[{title:"cluster",width:"15%",render:u=>u.cluster},{title:"kind",width:"15%",render:u=>u.kind},{title:"name",width:"30%",render:u=>{const f=u.names.length;if(f===0)return null;const h=u.names[0],p=f-1;return t.createElement(t.Fragment,null,h," ",p>0&&t.createElement(n.Z,{label:`+ ${p} other${p>1?"s":""}`,size:"small"}))}},{title:"messages",width:"40%",render:u=>t.createElement(t.Fragment,null,u.message.map((f,h)=>t.createElement("div",{key:h},f)))}],c=(u,f)=>u.severity<f.severity?1:f.severity<u.severity?-1:0,o=()=>t.createElement(r.Z,{container:!0,justifyContent:"space-around",direction:"row",alignItems:"center",spacing:2},t.createElement(r.Z,{item:!0,xs:4},t.createElement(i.Z,{variant:"h5"},"Nice! There are no errors to report!")),t.createElement(r.Z,{item:!0,xs:4},t.createElement("img",{src:d,alt:"EmptyState","data-testid":"emptyStateImg"}))),g=({detectedErrors:u})=>{const f=Array.from(u.values()).flat().sort(c);return t.createElement(t.Fragment,null,f.length===0?t.createElement(s.InfoCard,{title:"Error Reporting"},t.createElement(o,null)):t.createElement(s.Table,{title:"Error Reporting",data:f,columns:a,options:{paging:!0,search:!1}}))}},8834:function(H,l,e){"use strict";e.d(l,{$:function(){return r}});var t=e(2784),n=e(40097);const r=({hpa:i,expanded:d,children:s})=>t.createElement(n.v,{kind:"HorizontalPodAutoscaler",object:i,expanded:d,renderObject:a=>{var c,o,g,u,f,h;return{targetCPUUtilizationPercentage:(c=a.spec)==null?void 0:c.targetCPUUtilizationPercentage,currentCPUUtilizationPercentage:(o=a.status)==null?void 0:o.currentCPUUtilizationPercentage,minReplicas:(g=a.spec)==null?void 0:g.minReplicas,maxReplicas:(u=a.spec)==null?void 0:u.maxReplicas,currentReplicas:(f=a.status)==null?void 0:f.currentReplicas,desiredReplicas:(h=a.status)==null?void 0:h.desiredReplicas}}},s)},6581:function(H,l,e){"use strict";e.d(l,{E:function(){return R}});var t=e(2784),n=e(60905),r=e(85256),i=e(27616),d=e(8284),s=e(70660),a=e(38016),c=e(40097),o=e(90436);const g=({ingress:y,expanded:E})=>{var C,S;return t.createElement(c.v,{object:y,expanded:E,kind:"Ingress",renderObject:T=>T.spec||{}},t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(o.Z,{variant:"h5"},(S=(C=y.metadata)==null?void 0:C.name)!=null?S:"unknown object")),t.createElement(n.Z,{item:!0},t.createElement(o.Z,{color:"textSecondary",variant:"body1"},"Ingress"))))};var u=e(81497),f=e(23192);const h=({ingress:y})=>t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(n.Z,{xs:3,item:!0},t.createElement(g,{ingress:y})),t.createElement(n.Z,{item:!0,xs:1},t.createElement(r.Z,{style:{height:"5em"},orientation:"vertical"}))),p=({ingress:y})=>t.createElement(f.StructuredMetadataTable,{metadata:{...y.spec}}),A=({ingress:y})=>t.createElement(i.Z,{TransitionProps:{unmountOnExit:!0}},t.createElement(d.Z,{expandIcon:t.createElement(a.Z,null)},t.createElement(h,{ingress:y})),t.createElement(s.Z,null,t.createElement(p,{ingress:y}))),R=({})=>{const y=(0,t.useContext)(u.T3);return t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start"},y.ingresses.map((E,C)=>t.createElement(n.Z,{item:!0,key:C,xs:!0},t.createElement(A,{ingress:E}))))}},85433:function(H,l,e){"use strict";e.d(l,{j:function(){return y}});var t=e(2784),n=e(60905),r=e(85256),i=e(27616),d=e(8284),s=e(70660),a=e(38016),c=e(51582),o=e(40097),g=e(90436);const u=({job:E,expanded:C})=>{var S,T;return t.createElement(o.v,{object:E,expanded:C,kind:"Job",renderObject:P=>{var I,Z,L,D,B,w,V,G;return{parallelism:(Z=(I=P.spec)==null?void 0:I.parallelism)!=null?Z:"???",completions:(D=(L=P.spec)==null?void 0:L.completions)!=null?D:"???",backoffLimit:(w=(B=P.spec)==null?void 0:B.backoffLimit)!=null?w:"???",startTime:(G=(V=P.status)==null?void 0:V.startTime)!=null?G:"???"}}},t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(g.Z,{variant:"h6"},(T=(S=E.metadata)==null?void 0:S.name)!=null?T:"unknown object")),t.createElement(n.Z,{item:!0},t.createElement(g.Z,{color:"textSecondary",variant:"body1"},"Job"))))};var f=e(23100),h=e(81497),p=e(23192);const A=({job:E})=>{var C,S,T,P,I,Z;return t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(n.Z,{xs:3,item:!0},t.createElement(u,{job:E})),t.createElement(n.Z,{item:!0,xs:1},t.createElement(r.Z,{style:{height:"5em"},orientation:"vertical"})),t.createElement(n.Z,{item:!0,container:!0,xs:8,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(n.Z,{item:!0},((C=E.status)==null?void 0:C.succeeded)&&t.createElement(p.StatusOK,null,"Succeeded"),((S=E.status)==null?void 0:S.active)&&t.createElement(p.StatusPending,null,"Running"),((T=E.status)==null?void 0:T.failed)&&t.createElement(p.StatusError,null,"Failed")),t.createElement(n.Z,{item:!0},"Start time: ",(I=(P=E.status)==null?void 0:P.startTime)==null?void 0:I.toString()),((Z=E.status)==null?void 0:Z.completionTime)&&t.createElement(n.Z,{item:!0},"Completion time: ",E.status.completionTime.toString())))},R=({job:E,ownedPods:C})=>t.createElement(i.Z,{TransitionProps:{unmountOnExit:!0}},t.createElement(d.Z,{expandIcon:t.createElement(a.Z,null)},t.createElement(A,{job:E})),t.createElement(s.Z,null,t.createElement(c.e,{pods:C}))),y=({jobs:E})=>{const C=(0,t.useContext)(h.T3);return t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},E.map((S,T)=>t.createElement(n.Z,{container:!0,item:!0,key:T,xs:!0},t.createElement(n.Z,{item:!0,xs:!0},t.createElement(R,{ownedPods:(0,f._6)(S,C.pods),job:S})))))}},45625:function(H,l,e){"use strict";e.d(l,{w:function(){return T}});var t=e(2784),n=e(60905),r=e(85256),i=e(90436),d=e(40732),s=e(43883),a=e(44396),c=e(88186);const o=(P,I,Z,L)=>{var B,w;const D=new Map;for(const V of P)for(const G of L)if(G.errorExists(V)){const M=G.messageAccessor(V),ce=M.join(""),ue=D.get(ce),le=(w=(B=V.metadata)==null?void 0:B.name)!=null?w:"unknown";ue!==void 0?(ue.names.push(le),D.set(ce,ue)):D.set(ce,{cluster:Z,kind:I,names:[le],message:M,severity:G.severity})}return Array.from(D.values())},g=[{severity:5,errorExplanation:"status-message",errorExists:P=>{var I;return((I=P.status)==null?void 0:I.message)!==void 0},messageAccessor:P=>{var I,Z;return[(Z=(I=P.status)==null?void 0:I.message)!=null?Z:""]}},{severity:4,errorExplanation:"containers-restarting",errorExists:P=>(0,c.en)(P)>3,messageAccessor:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.containerStatuses)!=null?Z:[]).filter(L=>L.restartCount>0).map(L=>`container=${L.name} restarted ${L.restartCount} times`)}},{severity:5,errorExplanation:"condition-message-present",errorExists:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.conditions)!=null?Z:[]).some(L=>L.message!==void 0)},messageAccessor:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.conditions)!=null?Z:[]).filter(L=>L.message!==void 0).map(L=>{var D;return(D=L.message)!=null?D:""})}},{severity:6,errorExplanation:"container-waiting",errorExists:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.containerStatuses)!=null?Z:[]).some(L=>{var D,B;return((B=(D=L.state)==null?void 0:D.waiting)==null?void 0:B.message)!==void 0})},messageAccessor:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.containerStatuses)!=null?Z:[]).filter(L=>{var D,B;return((B=(D=L.state)==null?void 0:D.waiting)==null?void 0:B.message)!==void 0}).map(L=>{var D,B,w;return(w=(B=(D=L.state)==null?void 0:D.waiting)==null?void 0:B.message)!=null?w:""})}},{severity:4,errorExplanation:"container-last-state-error",errorExists:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.containerStatuses)!=null?Z:[]).some(L=>{var D,B,w;return((w=(B=(D=L.lastState)==null?void 0:D.terminated)==null?void 0:B.reason)!=null?w:"")==="Error"})},messageAccessor:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.containerStatuses)!=null?Z:[]).filter(L=>{var D,B,w;return((w=(B=(D=L.lastState)==null?void 0:D.terminated)==null?void 0:B.reason)!=null?w:"")==="Error"}).map(L=>{var D,B;return`container=${L.name} exited with error code (${(B=(D=L.lastState)==null?void 0:D.terminated)==null?void 0:B.exitCode})`})}}],u=(P,I)=>o(P,"Pod",I,g),f=[{severity:6,errorExplanation:"condition-message-present",errorExists:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.conditions)!=null?Z:[]).filter(L=>L.status==="False").some(L=>L.message!==void 0)},messageAccessor:P=>{var I,Z;return((Z=(I=P.status)==null?void 0:I.conditions)!=null?Z:[]).filter(L=>L.status==="False").filter(L=>L.message!==void 0).map(L=>{var D;return(D=L.message)!=null?D:""})}}],h=(P,I)=>o(P,"Deployment",I,f),p=[{severity:8,errorExplanation:"hpa-max-current-replicas",errorExists:P=>{var I,Z,L;return((Z=(I=P.spec)==null?void 0:I.maxReplicas)!=null?Z:-1)===((L=P.status)==null?void 0:L.currentReplicas)},messageAccessor:P=>{var I,Z,L;return[`Current number of replicas (${(I=P.status)==null?void 0:I.currentReplicas}) is equal to the configured max number of replicas (${(L=(Z=P.spec)==null?void 0:Z.maxReplicas)!=null?L:-1})`]}}],A=(P,I)=>o(P,"HorizontalPodAutoscaler",I,p),R=P=>{const I=new Map;for(const Z of P.items){let L=[];const D=(0,a.i)(Z.resources);L=L.concat(u(D.pods,Z.cluster.name)),L=L.concat(h(D.deployments,Z.cluster.name)),L=L.concat(A(D.horizontalPodAutoscalers,Z.cluster.name)),I.set(Z.cluster.name,L)}return I};var y=e(42835),E=e(77423),C=e(81497),S=e(23192);const T=({entity:P,refreshIntervalMs:I})=>{var w;const{kubernetesObjects:Z,error:L}=(0,C.ID)(P,I),D=(w=Z==null?void 0:Z.items.filter(V=>V.errors.length>0))!=null?w:[],B=Z!==void 0?R(Z):new Map;return t.createElement(S.Page,{themeId:"tool"},t.createElement(S.Content,null,Z===void 0&&L===void 0&&t.createElement(S.Progress,null),D.length>0&&t.createElement(n.Z,{container:!0,spacing:3,direction:"column"},t.createElement(n.Z,{item:!0},t.createElement(d.y,{entityName:P.metadata.name,clustersWithErrors:D}))),L!==void 0&&t.createElement(n.Z,{container:!0,spacing:3,direction:"column"},t.createElement(n.Z,{item:!0},t.createElement(d.y,{entityName:P.metadata.name,errorMessage:L}))),Z&&t.createElement(n.Z,{container:!0,spacing:3,direction:"column"},t.createElement(n.Z,{item:!0},t.createElement(s.n,{detectedErrors:B})),t.createElement(n.Z,{item:!0},t.createElement(r.Z,null)),t.createElement(n.Z,{item:!0},t.createElement(i.Z,{variant:"h3"},"Your Clusters")),t.createElement(n.Z,{item:!0,container:!0},(Z==null?void 0:Z.items.length)<=0&&t.createElement(n.Z,{container:!0,justifyContent:"space-around",direction:"row",alignItems:"center",spacing:2},t.createElement(n.Z,{item:!0,xs:4},t.createElement(i.Z,{variant:"h5"},"No resources on any known clusters for"," ",P.metadata.name)),t.createElement(n.Z,{item:!0,xs:4},t.createElement("img",{src:E,alt:"EmptyState","data-testid":"emptyStateImg"}))),(Z==null?void 0:Z.items.length)>0&&(Z==null?void 0:Z.items.map((V,G)=>{var ce,ue;const M=new Set((ue=(ce=B.get(V.cluster.name))==null?void 0:ce.filter(le=>le.kind==="Pod").map(le=>le.names).flat())!=null?ue:[]);return t.createElement(n.Z,{item:!0,key:G,xs:12},t.createElement(y.v,{clusterObjects:V,podsWithErrors:M}))}))))))}},40097:function(H,l,e){"use strict";e.d(l,{v:function(){return L}});var t=e(2784),n=e(79692),r=e(12420),i=e(77277),d=e(90436),s=e(60905),a=e(61837),c=e(5806),o=e(82938),g=e(4190),u=e(87685),f=e(2997),h=e(15459),p=e(33524),A=e(23192),R=e(81497),y=e(35952);const E=(0,n.Z)(D=>(0,r.Z)({paper:{width:"50%",justifyContent:"space-between",padding:D.spacing(2.5)}})),C=(0,n.Z)(D=>(0,r.Z)({header:{display:"flex",flexDirection:"row",justifyContent:"space-between"},errorMessage:{marginTop:"1em",marginBottom:"1em"},options:{display:"flex",flexDirection:"row",justifyContent:"space-between"},icon:{fontSize:20},content:{height:"80%"}})),S=(0,h.Z)({root:{padding:"6px 5px"},label:{textTransform:"none"}})(i.Z),T=({cluster:D,errorMessage:B})=>t.createElement(A.WarningPanel,{title:"There was a problem formatting the link to the Kubernetes dashboard",message:`Could not format the link to the dashboard of your cluster named '${D.name}'. Its dashboardApp property has been set to '${D.dashboardApp||"standard"}.'`},B&&t.createElement(d.Z,{variant:"body2"},"Errors: ",B));function P(D){const B=(w,V)=>String(V)==="null"||String(V)==="undefined"?void 0:V;return JSON.parse(JSON.stringify(D,B))}function I(D){try{return{clusterLink:(0,y.H)(D),errorMessage:""}}catch(B){return{clusterLink:"",errorMessage:B.message||B.toString()}}}const Z=({toggleDrawer:D,object:B,renderObject:w,kind:V})=>{var ge,Ae;const[G,M]=(0,t.useState)(!1),ce=C(),ue=(0,t.useContext)(R.Dq),{clusterLink:le,errorMessage:me}=I({dashboardUrl:ue.dashboardUrl,dashboardApp:ue.dashboardApp,dashboardParameters:ue.dashboardParameters,object:B,kind:V});return t.createElement(t.Fragment,null,t.createElement("div",{className:ce.header},t.createElement(s.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},t.createElement(s.Z,{item:!0},t.createElement(d.Z,{variant:"h5"},(Ae=(ge=B.metadata)==null?void 0:ge.name)!=null?Ae:"unknown name")),t.createElement(s.Z,{item:!0},t.createElement(d.Z,{color:"textSecondary",variant:"body1"},V))),t.createElement(a.Z,{key:"dismiss",title:"Close the drawer",onClick:ee=>D(ee,!1),color:"inherit"},t.createElement(u.Z,{className:ce.icon}))),me&&t.createElement("div",{className:ce.errorMessage},t.createElement(T,{cluster:ue,errorMessage:me})),t.createElement("div",{className:ce.options},t.createElement("div",null,le&&t.createElement(A.Button,{variant:"outlined",color:"primary",size:"small",to:le,endIcon:t.createElement(f.Z,null)},"Open Kubernetes Dashboard")),t.createElement(c.Z,{control:t.createElement(o.Z,{checked:G,onChange:ee=>{M(ee.target.checked)},name:"YAML"}),label:"YAML"})),t.createElement("div",{className:ce.content},G&&t.createElement(A.CodeSnippet,{language:"yaml",text:p.ZP.dump(B)}),!G&&t.createElement(A.StructuredMetadataTable,{metadata:w(P(B))})))},L=({object:D,renderObject:B,kind:w,buttonVariant:V="subtitle2",expanded:G=!1,children:M})=>{var ge,Ae;const[ce,ue]=(0,t.useState)(G),le=E(),me=(ee,Ie)=>{ee.stopPropagation(),ue(Ie)};return t.createElement(t.Fragment,null,t.createElement(S,{onClick:ee=>me(ee,!0),onFocus:ee=>ee.stopPropagation()},M===void 0?t.createElement(d.Z,{variant:V},(Ae=(ge=D.metadata)==null?void 0:ge.name)!=null?Ae:"unknown object"):M),t.createElement(g.ZP,{classes:{paper:le.paper},anchor:"right",open:ce,onClose:ee=>me(ee,!1),onClick:ee=>ee.stopPropagation()},t.createElement(Z,{kind:w,toggleDrawer:me,object:D,renderObject:B})))}},5839:function(H,l,e){"use strict";e.d(l,{F:function(){return i}});var t=e(2784),n=e(88186),r=e(40097);const i=({pod:d,expanded:s})=>t.createElement(r.v,{object:d,expanded:s,kind:"Pod",renderObject:a=>{var u,f,h,p,A,R,y;const c=(f=(u=a.status)==null?void 0:u.phase)!=null?f:"unknown",o=(A=(p=(h=a.spec)==null?void 0:h.containers)==null?void 0:p.map(E=>({[E.name]:E.ports})))!=null?A:"N/A",g=((y=(R=a.status)==null?void 0:R.conditions)!=null?y:[]).map(n.NJ).reduce((E,C)=>(E[C[0]]=C[1],E),{});return{images:(0,n.jP)(a),phase:c,"Containers Ready":(0,n.op)(a),"Total Restarts":(0,n.en)(a),"Container Statuses":(0,n.VV)(a),...g,"Exposed ports":o}}})},50206:function(H,l,e){"use strict";e.d(l,{Q9:function(){return s},eG:function(){return g},is:function(){return a}});var t=e(2784),n=e(5839),r=e(88186),i=e(23192),d=e(53503);const s="READY",a="RESOURCE",c=[{title:"name",highlight:!0,render:u=>t.createElement(n.F,{pod:u})},{title:"phase",render:u=>{var f,h;return(h=(f=u.status)==null?void 0:f.phase)!=null?h:"unknown"}},{title:"status",render:r.VV}],o=[{title:"containers ready",align:"center",render:r.op},{title:"total restarts",align:"center",render:r.en,type:"numeric"}],g=({pods:u,extraColumns:f=[]})=>{const h=(0,t.useContext)(d.M),p=[...c];if(f.includes(s)&&p.push(...o),f.includes(a)){const R=[{title:"CPU usage %",render:y=>{var C,S;const E=h.get((S=(C=y.metadata)==null?void 0:C.name)!=null?S:"");return E?(0,r.BQ)(E):"unknown"}},{title:"Memory usage %",render:y=>{var C,S;const E=h.get((S=(C=y.metadata)==null?void 0:C.name)!=null?S:"");return E?(0,r.N_)(E):"unknown"}}];p.push(...R)}const A={minWidth:"0",width:"100%"};return t.createElement("div",{style:A},t.createElement(i.Table,{options:{paging:!0,search:!1},data:u,columns:p}))}},51582:function(H,l,e){"use strict";e.d(l,{e:function(){return n.eG}});var t=e(5839),n=e(50206)},22032:function(H,l,e){"use strict";e.d(l,{G:function(){return R}});var t=e(2784),n=e(60905),r=e(85256),i=e(90436),d=e(27616),s=e(8284),a=e(70660),c=e(38016),o=e(40097);const g=({service:y,expanded:E})=>{var C,S;return t.createElement(o.v,{object:y,expanded:E,kind:"Service",renderObject:T=>T.spec||{}},t.createElement(n.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:0},t.createElement(n.Z,{item:!0},t.createElement(i.Z,{variant:"h5"},(S=(C=y.metadata)==null?void 0:C.name)!=null?S:"unknown object")),t.createElement(n.Z,{item:!0},t.createElement(i.Z,{color:"textSecondary",variant:"body1"},"Service"))))};var u=e(81497),f=e(23192);const h=({service:y})=>{var E,C;return t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},t.createElement(n.Z,{xs:3,item:!0},t.createElement(g,{service:y})),t.createElement(n.Z,{item:!0,xs:1},t.createElement(r.Z,{style:{height:"5em"},orientation:"vertical"})),t.createElement(n.Z,{item:!0},t.createElement(i.Z,{variant:"subtitle2"},"Type: ",(C=(E=y.spec)==null?void 0:E.type)!=null?C:"?")))},p=({service:y})=>{var C,S,T,P,I,Z,L,D,B;const E={};return((P=(T=(S=(C=y.status)==null?void 0:C.loadBalancer)==null?void 0:S.ingress)==null?void 0:T.length)!=null?P:-1>0)&&(E.loadbalancer=(I=y.status)==null?void 0:I.loadBalancer),((Z=y.spec)==null?void 0:Z.type)==="ClusterIP"&&(E.clusterIP=y.spec.clusterIP),((L=y.spec)==null?void 0:L.type)==="ExternalName"&&(E.externalName=y.spec.externalName),t.createElement(f.StructuredMetadataTable,{metadata:{type:(D=y.spec)==null?void 0:D.type,ports:(B=y.spec)==null?void 0:B.ports,...E}})},A=({service:y})=>t.createElement(d.Z,{TransitionProps:{unmountOnExit:!0}},t.createElement(s.Z,{expandIcon:t.createElement(c.Z,null)},t.createElement(h,{service:y})),t.createElement(a.Z,null,t.createElement(p,{service:y}))),R=({})=>{const y=(0,t.useContext)(u.T3);return t.createElement(n.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start"},y.services.map((E,C)=>t.createElement(n.Z,{item:!0,key:C,xs:!0},t.createElement(A,{service:E}))))}},53503:function(H,l,e){"use strict";e.d(l,{M:function(){return n}});var t=e(2784);const n=t.createContext(new Map)},81497:function(H,l,e){"use strict";e.d(l,{Dq:function(){return g},T3:function(){return o},yv:function(){return a},ID:function(){return s}});var t=e(61057),n=e(55195),r=e(2784),i=e(70218),d=e(36964);const s=(u,f=1e4)=>{const h=(0,d.useApi)(t.H),p=(0,d.useApi)(n.k),[A,R]=(0,r.useState)(void 0),[y,E]=(0,r.useState)(void 0),C=async()=>{let S=[];try{S=await h.getClusters()}catch(I){E(I.message);return}const T=[...new Set(S.map(I=>`${I.authProvider}${I.oidcTokenProvider?`.${I.oidcTokenProvider}`:""}`))];let P={entity:u};for(const I of T)try{P=await p.decorateRequestBodyForAuth(I,P)}catch(Z){E(Z.message);return}try{R(await h.getObjectsByEntity(P))}catch(I){E(I.message);return}};return(0,r.useEffect)(()=>{C()},[u.metadata.name,h,p]),(0,i.Z)(()=>{C()},f),{kubernetesObjects:A,error:y}},a=r.createContext(new Set);var c=e(53503);const o=r.createContext({pods:[],replicaSets:[],deployments:[],services:[],configMaps:[],horizontalPodAutoscalers:[],ingresses:[],jobs:[],cronJobs:[],customResources:[],statefulsets:[]}),g=r.createContext({name:""})},55195:function(H,l,e){"use strict";e.d(l,{k:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.kubernetes-auth-providers.service"})},35952:function(H,l,e){"use strict";e.d(l,{H:function(){return A}});const t={deployment:"deployment",pod:"pod",ingress:"ingress",service:"service",horizontalpodautoscaler:"deployment",statefulset:"statefulset"};function n(R){var T,P,I,Z;if(!R.dashboardUrl)throw new Error("standard dashboard requires a dashboardUrl option");const y=new URL(R.dashboardUrl.href),E=encodeURIComponent((P=(T=R.object.metadata)==null?void 0:T.name)!=null?P:""),C=encodeURIComponent((Z=(I=R.object.metadata)==null?void 0:I.namespace)!=null?Z:""),S=t[R.kind.toLocaleLowerCase("en-US")];return y.pathname.endsWith("/")||(y.pathname+="/"),S&&E&&C?y.hash=`/${S}/${C}/${E}`:C&&(y.hash="/workloads"),C&&(y.hash+=`?namespace=${C}`),y}const r={deployment:"apps.deployment",ingress:"networking.k8s.io.ingress",service:"service",horizontalpodautoscaler:"autoscaling.horizontalpodautoscaler"};function i(R){var P,I,Z,L;if(!R.dashboardUrl)throw new Error("Rancher dashboard requires a dashboardUrl option");const y=new URL(R.dashboardUrl.href),E=encodeURIComponent((I=(P=R.object.metadata)==null?void 0:P.name)!=null?I:""),C=encodeURIComponent((L=(Z=R.object.metadata)==null?void 0:Z.namespace)!=null?L:""),S=r[R.kind.toLocaleLowerCase("en-US")];y.pathname.endsWith("/")||(y.pathname+="/");let T="";return S&&E&&C?T=`explorer/${S}/${C}/${E}`:C&&(T="explorer/workload"),new URL(T,y)}const d={deployment:"deployments",ingress:"ingresses",service:"services",horizontalpodautoscaler:"horizontalpodautoscalers",persistentvolume:"persistentvolumes"};function s(R){var P,I,Z,L;if(!R.dashboardUrl)throw new Error("OpenShift dashboard requires a dashboardUrl option");const y=new URL(R.dashboardUrl.href),E=encodeURIComponent((I=(P=R.object.metadata)==null?void 0:P.name)!=null?I:""),C=encodeURIComponent((L=(Z=R.object.metadata)==null?void 0:Z.namespace)!=null?L:""),S=d[R.kind.toLocaleLowerCase("en-US")];y.pathname.endsWith("/")||(y.pathname+="/");let T="";return C?E&&S?T=`k8s/ns/${C}/${S}/${E}`:T=`k8s/cluster/projects/${C}`:S&&(T=`k8s/cluster/${S}`,E&&(T+=`/${E}`)),new URL(T,y)}const a="https://portal.azure.com/#blade/Microsoft_Azure_ContainerService/AksK8ResourceMenuBlade/overview-Deployment/aksClusterId",c=["subscriptionId","resourceGroup","clusterName"];function o(R){if(!R.dashboardParameters)throw new Error("AKS dashboard requires a dashboardParameters option");const y=R.dashboardParameters;for(const Z of c)if(typeof y[Z]!="string")throw new Error(`AKS dashboard requires a "${Z}" of type string in the dashboardParameters option`);const E=`/subscriptions/${y.subscriptionId}/resourceGroups/${y.resourceGroup}/providers/Microsoft.ContainerService/managedClusters/${y.clusterName}`,{name:C,namespace:S,uid:T}=R.object.metadata,{selector:P}=R.object.spec,I={kind:R.kind,metadata:{name:C,namespace:S,uid:T},spec:{selector:P}};return new URL(`${a}/${encodeURIComponent(E)}/resource/${encodeURIComponent(JSON.stringify(I))}`)}function g(R){throw new Error("EKS formatter is not yet implemented. Please, contribute!")}const u={deployment:"deployment",pod:"pod",ingress:"ingress",service:"service",horizontalpodautoscaler:"deployment"};function f(R){var D,B,w,V;if(!R.dashboardParameters)throw new Error("GKE dashboard requires a dashboardParameters option");const y=R.dashboardParameters;if(typeof y.projectId!="string")throw new Error('GKE dashboard requires a "projectId" of type string in the dashboardParameters option');if(typeof y.region!="string")throw new Error('GKE dashboard requires a "region" of type string in the dashboardParameters option');if(typeof y.clusterName!="string")throw new Error('GKE dashboard requires a "clusterName" of type string in the dashboardParameters option');const E=new URL("https://console.cloud.google.com/"),C=encodeURIComponent(y.region),S=encodeURIComponent(y.clusterName),T=encodeURIComponent((B=(D=R.object.metadata)==null?void 0:D.name)!=null?B:""),P=encodeURIComponent((V=(w=R.object.metadata)==null?void 0:w.namespace)!=null?V:""),I=u[R.kind.toLocaleLowerCase("en-US")];let Z="";if(P&&T&&I){const M=["ingress","pod"].includes(I)?"details":"overview";Z=`kubernetes/${I}/${C}/${S}/${P}/${T}/${M}`}else Z=`kubernetes/clusters/details/${C}/${S}/details`;const L=new URL(Z,E);return L.searchParams.set("project",y.projectId),L}const h={standard:n,rancher:i,openshift:s,aks:o,eks:g,gke:f},p="standard";function A(R){if(!R.dashboardUrl&&!R.dashboardParameters)return;if(R.dashboardUrl&&!R.object)return R.dashboardUrl;const y=R.dashboardApp||p,E=h[y];if(!E)throw new Error(`Could not find Kubernetes dashboard app named '${y}'`);return E({dashboardUrl:R.dashboardUrl?new URL(R.dashboardUrl):void 0,dashboardParameters:R.dashboardParameters,object:R.object,kind:R.kind}).toString()}},23100:function(H,l,e){"use strict";e.d(l,{LI:function(){return r},_6:function(){return t},kJ:function(){return n}});function t(i,d){return d.filter(s=>{var a,c,o;return(o=(c=(a=s.metadata)==null?void 0:a.ownerReferences)==null?void 0:c.some(g=>{var u;return g.uid===((u=i.metadata)==null?void 0:u.uid)}))!=null?o:!1})}const n=(i,d,s)=>t(i,d.filter(a=>a.status&&a.status.replicas>0)).reduce((a,c)=>a.concat(t(c,s)),[]),r=(i,d)=>d.find(s=>{var a,c,o,g,u,f,h,p,A,R;return((o=(c=(a=s.spec)==null?void 0:a.scaleTargetRef)==null?void 0:c.kind)!=null?o:"").toLocaleLowerCase("en-US")===i.kind.toLocaleLowerCase("en-US")&&((u=(g=s.metadata)==null?void 0:g.namespace)!=null?u:"")===((f=i.namespace)!=null?f:"unknown-namespace")&&((A=(p=(h=s.spec)==null?void 0:h.scaleTargetRef)==null?void 0:p.name)!=null?A:"")===((R=i.name)!=null?R:"unknown-deployment")})},88186:function(H,l,e){"use strict";e.d(l,{BQ:function(){return u},NJ:function(){return c},N_:function(){return h},VV:function(){return a},en:function(){return s},jP:function(){return i},op:function(){return d}});var t=e(2784),n=e(7089),r=e(23192);const i=p=>{var y,E;const R=((E=(y=p.status)==null?void 0:y.containerStatuses)!=null?E:[]).map((C,S)=>t.createElement(n.Z,{key:S,label:`${C.name}=${C.image}`,size:"small"}));return t.createElement("div",null,R)},d=p=>{var y,E;const A=(E=(y=p.status)==null?void 0:y.containerStatuses)!=null?E:[];return`${A.filter(C=>C.ready).length}/${A.length}`},s=p=>{var R,y;const A=(y=(R=p.status)==null?void 0:R.containerStatuses)!=null?y:[];return A==null?void 0:A.reduce((E,C)=>E+C.restartCount,0)},a=p=>{var y,E;const R=((E=(y=p.status)==null?void 0:y.containerStatuses)!=null?E:[]).reduce((C,S)=>{if(S.state===void 0)return C;const T=S.state.waiting,P=S.state.terminated,I=Z=>{var L;return t.createElement(t.Fragment,{key:`${(L=p.metadata)==null?void 0:L.name}-${S.name}`},t.createElement(r.SubvalueCell,{value:Z==="Completed"?t.createElement(r.StatusOK,null,"Container: ",S.name):t.createElement(r.StatusError,null,"Container: ",S.name),subvalue:Z}),t.createElement("br",null))};return T&&C.push(I(T.reason)),P&&C.push(I(P.reason)),C},[]);return R.length===0?t.createElement(r.StatusOK,null,"OK"):R},c=p=>{var R;const A=p.status;return A==="True"?[p.type,t.createElement(r.StatusOK,null,"True")]:A==="False"?[p.type,t.createElement(r.SubvalueCell,{value:t.createElement(r.StatusError,null,"False"),subvalue:(R=p.message)!=null?R:""})]:[p.type,t.createElement(r.StatusAborted,null)]},o=(p,A)=>{if(Number(A)===0)return"0%";if(typeof p=="number"&&typeof A=="number")return`${Math.round(p/A*100)}%`;const R=BigInt(p),y=BigInt(A);return`${R*BigInt(100)/y}%`},g=p=>`${parseFloat(p.toString())*1e3}m`,u=p=>{const A=p.cpu;let R=A.currentUsage;return typeof A.currentUsage=="number"&&(R=A.currentUsage/10),t.createElement(r.SubvalueCell,{value:`requests: ${o(R,A.requestTotal)} of ${g(A.requestTotal)}`,subvalue:`limits: ${o(R,A.limitTotal)} of ${g(A.limitTotal)}`})},f=p=>`${parseFloat(p.toString())/1024/1024}MiB`,h=p=>{const A=p.memory;return t.createElement(r.SubvalueCell,{value:`requests: ${o(A.currentUsage,A.requestTotal)} of ${f(A.requestTotal)}`,subvalue:`limits: ${o(A.currentUsage,A.limitTotal)} of ${f(A.limitTotal)}`})}},44396:function(H,l,e){"use strict";e.d(l,{i:function(){return t}});const t=n=>n.reduce((r,i)=>{switch(i.type){case"deployments":r.deployments.push(...i.resources);break;case"pods":r.pods.push(...i.resources);break;case"replicasets":r.replicaSets.push(...i.resources);break;case"services":r.services.push(...i.resources);break;case"configmaps":r.configMaps.push(...i.resources);break;case"horizontalpodautoscalers":r.horizontalPodAutoscalers.push(...i.resources);break;case"ingresses":r.ingresses.push(...i.resources);break;case"jobs":r.jobs.push(...i.resources);break;case"cronjobs":r.cronJobs.push(...i.resources);break;case"customresources":r.customResources.push(...i.resources);break;case"statefulsets":r.statefulsets.push(...i.resources);break;default:}return r},{pods:[],replicaSets:[],deployments:[],services:[],configMaps:[],horizontalPodAutoscalers:[],ingresses:[],jobs:[],cronJobs:[],customResources:[],statefulsets:[]})},80317:function(H,l,e){"use strict";e.d(l,{f:function(){return t}});const t="lighthouse.com/website-url"},19004:function(H,l,e){"use strict";e.r(l),e.d(l,{EmbeddedRouter:function(){return Re},Router:function(){return te},isLighthouseAvailable:function(){return Ce}});var t=e(2784),n=e(10289),r=e(53479),i=e(77277),d=e(60905),s=e(76637),a=e(64279),c=e(53691),o=e(31124);function g(){return new URLSearchParams((0,n.TH)().search)}function u($){let ie;return $ instanceof Date?ie=$:ie=new Date($),ie.toUTCString()}const f=["accessibility","performance","seo","best-practices"],h={accessibility:"Accessibility",performance:"Performance",seo:"SEO","best-practices":"Best Practices",pwa:"Progressive Web App"};function p($){return $.audits.filter(ie=>ie.status==="COMPLETED").reduce((ie,de)=>(Object.values(de.categories).forEach(Pe=>{ie[Pe.id]=ie[Pe.id]||[],ie[Pe.id].unshift(Pe.score)}),Object.values(ie).forEach(Pe=>{Pe.length===1&&Pe.push(Pe[0])}),ie),{})}var A=e(79692),R=e(99152),y=e(6487),E=e(87685),C=e(23192);function S(){return t.createElement(C.SupportButton,null,"Lighthouse audits run for any web domain, stored over time.")}const T="@backstage/lighthouse-plugin/intro-dismissed",P=`
Google's [Lighthouse](https://developers.google.com/web/tools/lighthouse) auditing tool for websites
is a great open-source resource for benchmarking and improving the accessibility, performance, SEO, and best practices of your site.
At Spotify, we keep track of Lighthouse audit scores over time to look at trends and overall areas for investment.

This plugin allows you to generate on-demand Lighthouse audits for websites, and to track the trends for the
top-level categories of Lighthouse at a glance.

In the future, we hope to add support for scheduling audits (which we do internally), as well as allowing
custom runs of Lighthouse to be ingested (for auditing sites that require authentication or some session state).
`,I=`
To get started, you will need a running instance of [lighthouse-audit-service](https://github.com/spotify/lighthouse-audit-service).
_It's likely you will need to enable CORS when running lighthouse-audit-service. Initialize the app
with the environment variable \`LAS_CORS\` set to \`true\`._

When you have an instance running that Backstage can hook into, first install the plugin into your app:

\`\`\`sh
cd packages/app
yarn add @backstage/plugin-lighthouse
\`\`\`

Modify your app routes in \`App.tsx\` to include the \`LighthousePage\` component exported from the plugin, for example:

\`\`\`tsx
// At the top imports
import { LighthousePage } from '@backstage/plugin-lighthouse';

<FlatRoutes>
  // ...
  <Route path="/lighthouse" element={<LighthousePage />} />
  // ...
</FlatRoutes>;
\`\`\`

Then configure the \`lighthouse-audit-service\` URL in your [\`app-config.yaml\`](https://github.com/backstage/backstage/blob/master/app-config.yaml).

\`\`\`yaml
lighthouse:
  baseUrl: http://your-service-url
\`\`\`
`,Z=(0,A.Z)($=>({tabs:{marginBottom:-18},tab:{minWidth:72,paddingLeft:1,paddingRight:1},content:{marginBottom:$.spacing(2)},closeButtonContainer:{height:"100%"},closeButtonItem:{paddingBottom:0}}));function L(){const $=Z(),[ie,de]=(0,t.useState)(0);return t.createElement(C.InfoCard,{title:"Get started",subheader:t.createElement(R.Z,{value:ie,indicatorColor:"primary",textColor:"primary",onChange:(Pe,He)=>de(He),"aria-label":"get started tabs",className:$.tabs},t.createElement(y.Z,{className:$.tab,label:"Use cases"}),t.createElement(y.Z,{className:$.tab,label:"Setup"})),divider:!0,actions:t.createElement(t.Fragment,null,t.createElement(d.Z,{container:!0,direction:"row",justifyContent:"flex-end"},t.createElement(d.Z,{item:!0},t.createElement(i.Z,{component:"a",href:"https://github.com/spotify/lighthouse-audit-service",size:"small",target:"_blank"},"Check out the README"))))},ie===0&&t.createElement(C.MarkdownContent,{content:P}),ie===1&&t.createElement(C.MarkdownContent,{content:I}))}function D({onDismiss:$=()=>{}}){const ie=Z(),[de,Pe]=(0,c.Z)(T,!1);return de?null:t.createElement(t.Fragment,null,t.createElement(C.ContentHeader,{title:"Welcome to Lighthouse in Backstage!"},t.createElement(S,null)),t.createElement(d.Z,{className:ie.content,container:!0,spacing:3,direction:"row"},t.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},t.createElement(L,null)),t.createElement(d.Z,{item:!0,xs:12,sm:6,md:8},t.createElement(d.Z,{container:!0,justifyContent:"flex-end",alignItems:"flex-end",className:ie.closeButtonContainer},t.createElement(d.Z,{item:!0,className:ie.closeButtonItem},t.createElement(i.Z,{variant:"text",onClick:()=>{$(),Pe(!0)}},t.createElement(E.Z,null)," Hide intro"))))))}var B=e(70218),w=e(76110),V=e(36964);const G=[{title:"Website URL",field:"websiteUrl"},...f.map($=>({title:h[$],field:$})),{title:"Last Report",field:"lastReport",cellStyle:{whiteSpace:"nowrap"}},{title:"Last Audit Triggered",field:"lastAuditTriggered",cellStyle:{minWidth:120}}],M=({items:$})=>{const[ie,de]=(0,t.useState)($),Pe=(0,V.useApi)(o.Uh);(0,t.useEffect)(()=>{de($)},[$]);const He=Ve=>{Ve.forEach(async ut=>{const nt=await Pe.getWebsiteForAuditId(ut.lastAudit.id),At=nt.lastAudit.status;if(At==="COMPLETED"||At==="FAILED"){const Le=ie.slice(0);Le[Le.findIndex(Te=>Te.url===nt.url)]=nt,de(Le)}})},We=ie?ie.filter(Ve=>Ve.lastAudit.status==="RUNNING"):[];(0,B.Z)(()=>He(We),We.length>0?5e3:null);const Ge=ie.map(Ve=>{const ut=p(Ve),nt={};return f.forEach(At=>{nt[At]=t.createElement(C.TrendLine,{title:`trendline for ${h[At]} category of ${Ve.url}`,data:ut[At]||[]})}),{websiteUrl:t.createElement(C.Link,{to:(0,n.Gn)("audit/:id",{id:Ve.lastAudit.id})},Ve.url),...nt,lastReport:t.createElement(t.Fragment,null,t.createElement(w.Z,{audit:Ve.lastAudit})," ",t.createElement("span",null,Ve.lastAudit.status.toLocaleUpperCase("en-US"))),lastAuditTriggered:u(Ve.lastAudit.timeCreated)}});return t.createElement(C.Table,{options:{paging:!1,toolbar:!1},columns:G,data:Ge})};var ce=M;const ue=10;var me=()=>{const[$]=(0,c.Z)(T),[ie,de]=(0,t.useState)($),Pe=g(),He=Pe.get("page")&&parseInt(Pe.get("page"),10)||1,We=(0,V.useApi)(o.Uh),{value:Ge,loading:Ve,error:ut}=(0,a.default)(async()=>await We.getWebsiteList({limit:ue,offset:(He-1)*ue}),[He]),nt=(0,t.useMemo)(()=>(Ge==null?void 0:Ge.total)&&(Ge==null?void 0:Ge.limit)?Math.ceil((Ge==null?void 0:Ge.total)/(Ge==null?void 0:Ge.limit)):0,[Ge==null?void 0:Ge.total,Ge==null?void 0:Ge.limit]),At=(0,n.s0)();let Le=null;return Ge?Le=t.createElement(t.Fragment,null,t.createElement(ce,{items:(Ge==null?void 0:Ge.items)||[]}),nt>1&&t.createElement(s.Z,{page:He,count:nt,onChange:(Te,pe)=>{At(`?page=${pe}`)}})):Ve?Le=t.createElement(C.Progress,null):ut&&(Le=t.createElement(C.WarningPanel,{severity:"error",title:"Could not load audit list."},ut.message)),t.createElement(C.Page,{themeId:"tool"},t.createElement(C.Header,{title:"Lighthouse",subtitle:"Website audits powered by Lighthouse"},t.createElement(C.HeaderLabel,{label:"Owner",value:"Spotify"}),t.createElement(C.HeaderLabel,{label:"Lifecycle",value:"Alpha"})),t.createElement(C.Content,null,t.createElement(D,{onDismiss:()=>de(!0)}),t.createElement(C.ContentHeader,{title:"Audits",description:"View all audits run for your website through Backstage here. Track the trend of your most recent audits."},t.createElement(i.Z,{variant:"contained",color:"primary",onClick:()=>At("create-audit")},"Create Audit"),ie&&t.createElement(S,null)),t.createElement(d.Z,{container:!0,spacing:3,direction:"column"},t.createElement(d.Z,{item:!0},t.createElement(C.InfoCard,{noPadding:!0},Le)))))},ge=e(11776),Ae=e(38402),ee=e(86136),Ie=e(49378),re=e(99688),ne=e(62833);const _=(0,A.Z)({contentGrid:{height:"100%"},iframe:{border:"0",width:"100%",height:"100%"},errorOutput:{whiteSpace:"pre"}}),se=({audits:$=[],selectedId:ie})=>t.createElement(ge.Z,{"data-testid":"audit-sidebar",component:"nav","aria-label":"lighthouse audit history"},$.map(de=>t.createElement(Ae.Z,{key:de.id,selected:de.id===ie,button:!0,component:ne.rU,replace:!0,to:(0,n.i3)((0,n.Gn)("audit/:id",{id:de.id}),"../../")},t.createElement(ee.Z,null,t.createElement(w.Z,{audit:de})),t.createElement(Ie.Z,{primary:u(de.timeCreated)})))),j=({audit:$})=>{const ie=_(),de=(0,n.UO)(),{url:Pe}=(0,V.useApi)(o.Uh);return($==null?void 0:$.status)==="RUNNING"?t.createElement(C.Progress,null):($==null?void 0:$.status)==="FAILED"?t.createElement(re.Z,{severity:"error"},"This audit failed when attempting to run after several retries. Check that your instance of lighthouse-audit-service can successfully connect to your website and try again."):t.createElement(C.InfoCard,{variant:"fullHeight"},t.createElement("iframe",{className:ie.iframe,title:`Lighthouse audit${$!=null&&$.url?` for ${$.url}`:""}`,src:`${Pe}/v1/audits/${encodeURIComponent(de.id)}`}))},ae=()=>{const $=(0,V.useApi)(o.Uh),ie=(0,n.UO)(),de=_(),Pe=(0,n.s0)(),{loading:He,error:We,value:Ge}=(0,a.default)(async()=>await $.getWebsiteForAuditId(ie.id),[ie.id]),[Ve,ut]=(0,t.useState)();(0,t.useEffect)(()=>{!!Ge&&Ge.url!==(Ve==null?void 0:Ve.url)&&ut(Ge)},[Ve,Ge,ut]);let nt=null;Ve?nt=t.createElement(d.Z,{container:!0,alignItems:"stretch",className:de.contentGrid},t.createElement(d.Z,{item:!0,xs:3},t.createElement(se,{audits:Ve==null?void 0:Ve.audits,selectedId:ie.id})),t.createElement(d.Z,{item:!0,xs:9},t.createElement(j,{audit:Ve==null?void 0:Ve.audits.find(Le=>Le.id===ie.id)}))):He?nt=t.createElement(C.Progress,null):We&&(nt=t.createElement(re.Z,{"data-testid":"error-message",severity:"error",className:de.errorOutput},We.message));let At="create-audit";return Ve!=null&&Ve.url&&(At+=`?url=${encodeURIComponent(Ve.url)}`),t.createElement(t.Fragment,null,t.createElement(C.ContentHeader,{title:(Ve==null?void 0:Ve.url)||"Audit",description:"See a history of all Lighthouse audits for your website run through Backstage."},t.createElement(i.Z,{variant:"contained",color:"primary",onClick:()=>Pe(`../../${At}`)},"Create New Audit"),t.createElement(S,null)),nt)};var z=()=>t.createElement(C.Page,{themeId:"tool"},t.createElement(C.Header,{title:"Lighthouse",subtitle:"Website audits powered by Lighthouse"},t.createElement(C.HeaderLabel,{label:"Owner",value:"Spotify"}),t.createElement(C.HeaderLabel,{label:"Lifecycle",value:"Alpha"})),t.createElement(C.Content,{stretch:!0},t.createElement(ae,null))),Q=e(86619),fe=e(12231);const q=(0,A.Z)($=>({input:{minWidth:300,[$.breakpoints.down("xs")]:{minWidth:"100%"}},buttonList:{marginLeft:$.spacing(-1),marginRight:$.spacing(-1),"& > *":{margin:$.spacing(1)},[$.breakpoints.down("xs")]:{marginLeft:0,marginRight:0,flexDirection:"column","& > *":{width:"100%"}}}})),k=()=>{const $=(0,V.useApi)(V.errorApiRef),ie=(0,V.useApi)(o.Uh),de=q(),Pe=g(),He=(0,n.s0)(),[We,Ge]=(0,t.useState)(!1),[Ve,ut]=(0,t.useState)(Pe.get("url")||""),[nt,At]=(0,t.useState)("mobile"),Le=(0,t.useCallback)(async()=>{Ge(!0);try{await ie.triggerAudit({url:Ve.replace(/\/$/,""),options:{lighthouseConfig:{settings:{emulatedFormFactor:nt}}}}),He("..")}catch(Te){$.post(Te)}finally{Ge(!1)}},[Ve,nt,ie,Ge,$,He]);return t.createElement(t.Fragment,null,t.createElement(C.ContentHeader,{title:"Trigger a new audit",description:"Submitting this form will immediately trigger and store a new Lighthouse audit. Trigger audits to track your website's accessibility, performance, SEO, and best practices over time."},t.createElement(S,null)),t.createElement(d.Z,{container:!0,direction:"column"},t.createElement(d.Z,{item:!0,xs:12,sm:6},t.createElement(C.InfoCard,null,t.createElement("form",{onSubmit:Te=>{Te.preventDefault(),Le()}},t.createElement(ge.Z,null,t.createElement(Ae.Z,null,t.createElement(Q.Z,{name:"lighthouse-create-audit-url-tf",className:de.input,label:"URL",placeholder:"https://spotify.com",helperText:"The target URL for Lighthouse to use.",required:!0,disabled:We,onChange:Te=>ut(Te.target.value),value:Ve,inputProps:{"aria-label":"URL"}})),t.createElement(Ae.Z,null,t.createElement(Q.Z,{name:"lighthouse-create-audit-emulated-form-factor-tf",className:de.input,label:"Emulated Form Factor",helperText:"Device to simulate when auditing",select:!0,required:!0,disabled:We,onChange:Te=>At(Te.target.value),value:nt,inputProps:{"aria-label":"Emulated form factor"}},t.createElement(fe.Z,{value:"mobile"},"Mobile"),t.createElement(fe.Z,{value:"desktop"},"Desktop"))),t.createElement(Ae.Z,{className:de.buttonList},t.createElement(i.Z,{variant:"outlined",color:"primary",onClick:()=>He(".."),disabled:We},"Cancel"),t.createElement(i.Z,{variant:"contained",color:"primary",type:"submit",disabled:We},"Create Audit"))))))))};var F=()=>t.createElement(C.Page,{themeId:"tool"},t.createElement(C.Header,{title:"Lighthouse",subtitle:"Website audits powered by Lighthouse"},t.createElement(C.HeaderLabel,{label:"Owner",value:"Spotify"}),t.createElement(C.HeaderLabel,{label:"Lifecycle",value:"Alpha"})),t.createElement(C.Content,null,t.createElement(k,null))),N=e(80317),W=e(50591);const Ee=()=>{const{value:$,loading:ie,error:de}=(0,W.k)();return ie?t.createElement(C.Progress,null):de||!$?null:t.createElement(M,{"data-test-id":"AuditListTable",items:[$]})},Ce=$=>{var ie;return Boolean((ie=$.metadata.annotations)==null?void 0:ie[N.f])},te=()=>t.createElement(n.Z5,null,t.createElement(n.AW,{path:"/",element:t.createElement(me,null)}),t.createElement(n.AW,{path:"/audit/:id",element:t.createElement(z,null)}),t.createElement(n.AW,{path:"/create-audit",element:t.createElement(F,null)})),Re=$=>{const{entity:ie}=(0,r.useEntity)();return Ce(ie)?t.createElement(n.Z5,null,t.createElement(n.AW,{path:"/",element:t.createElement(Ee,null)}),t.createElement(n.AW,{path:"/audit/:id",element:t.createElement(ae,null)}),t.createElement(n.AW,{path:"/create-audit",element:t.createElement(k,null)})):t.createElement(C.MissingAnnotationEmptyState,{annotation:N.f})}},31124:function(H,l,e){"use strict";e.d(l,{HJ:function(){return i},Uh:function(){return r}});var t=e(36964);class n extends Error{get name(){return this.constructor.name}static async forResponse(s){return new n(`Request failed with status code ${s.status}.
Reason: ${await s.text()}`)}}const r=(0,t.createApiRef)({id:"plugin.lighthouse.service"});class i{static fromConfig(s){return new i(s.getString("lighthouse.baseUrl"))}constructor(s){this.url=s}async fetch(s,a){const c=await fetch(`${this.url}${s}`,a);if(!c.ok)throw await n.forResponse(c);return await c.json()}async getWebsiteList({limit:s,offset:a}={}){const c=new URLSearchParams;return typeof s=="number"&&c.append("limit",s.toString()),typeof a=="number"&&c.append("offset",a.toString()),await this.fetch(`/v1/websites?${c.toString()}`)}async getWebsiteForAuditId(s){return await this.fetch(`/v1/audits/${encodeURIComponent(s)}/website`)}async triggerAudit(s){return await this.fetch("/v1/audits",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})}async getWebsiteByUrl(s){return this.fetch(`/v1/websites/${encodeURIComponent(s)}`)}}},76110:function(H,l,e){"use strict";var t=e(2784),n=e(23192);const r=({audit:i})=>i.status==="FAILED"?t.createElement(n.StatusError,null):i.status==="COMPLETED"?t.createElement(n.StatusOK,null):t.createElement(n.StatusPending,null);l.Z=r},42338:function(H,l,e){"use strict";e.r(l),e.d(l,{LastLighthouseAuditCard:function(){return c}});var t=e(2784),n=e(50591),r=e(76110),i=e(23192);const d=({score:o})=>{const g=Math.round(o*100);switch(!0){case g>=90:return t.createElement(t.Fragment,null,t.createElement(i.StatusOK,null),g,"%");case(g>=50&&g<90):return t.createElement(t.Fragment,null,t.createElement(i.StatusWarning,null),g,"%");case g<50:return t.createElement(t.Fragment,null,t.createElement(i.StatusError,null),g,"%");default:return t.createElement("span",null,"N/A")}},s=({audit:o})=>t.createElement(t.Fragment,null,t.createElement(r.Z,{audit:o}),o.status.toLocaleUpperCase("en-US")),a=({audit:o,dense:g=!1})=>{const{url:u}=o,f={};if(o.status==="COMPLETED"){const p=o.categories;Object.keys(p).forEach(R=>{const{title:y,score:E}=p[R];f[y]=t.createElement(d,{score:E})})}const h={url:u,status:t.createElement(s,{audit:o}),...f};return t.createElement(i.StructuredMetadataTable,{metadata:h,dense:g})},c=({dense:o=!1,variant:g})=>{const{value:u,loading:f,error:h}=(0,n.k)();let p;return f&&(p=t.createElement(i.Progress,null)),h&&(p=null),u&&(p=t.createElement(a,{audit:u.lastAudit,dense:o})),t.createElement(i.InfoCard,{title:"Lighthouse Audit",variant:g},p)}},50591:function(H,l,e){"use strict";e.d(l,{k:function(){return s}});var t=e(53479),n=e(64279),r=e(80317),i=e(31124),d=e(36964);const s=()=>{var f,h;const{entity:a}=(0,t.useEntity)(),c=(h=(f=a.metadata.annotations)==null?void 0:f[r.f])!=null?h:"",o=(0,d.useApi)(i.Uh),g=(0,d.useApi)(d.errorApiRef),u=(0,n.default)(()=>o.getWebsiteByUrl(c),[c]);return u.error&&g.post(u.error),u}},47678:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return T},isNewRelicDashboardAvailable:function(){return S}});var t=e(2784),n=e(23192),r=e(77277),i=e(60905),d=e(33452),s=e(94048),a=e(79692),c=e(99152),o=e(6487),g=e(79135),u=e(36964),f=e(64279);function h(P){const{children:I,value1:Z,index:L,...D}=P;return t.createElement("div",{role:"tabpanel",hidden:Z!==L,id:`simple-tabpanel-${L}`,"aria-labelledby":`simple-tab-${L}`,...D},I)}function p(P){return{id:`simple-tab-${P}`,"aria-controls":`simple-tabpanel-${P}`}}const A=(0,a.Z)(P=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:P.palette.background.paper,paddingLeft:P.spacing(3)},defaultTab:{padding:P.spacing(3,3),...P.typography.caption,textTransform:"uppercase",fontWeight:"bold",color:P.palette.text.secondary},selected:{color:P.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:P.palette.background.default,color:P.palette.text.primary}}}),{name:"DashboardHeaderTabs"}),R=({guid:P})=>{var M,ce,ue,le,me,ge;const I=A(),Z=(0,u.useApi)(g.c),{value:L,loading:D,error:B}=(0,f.default)(async()=>Z.getDashboardEntity(P),[P]),[w,V]=(0,t.useState)(0),G=({},Ae)=>{V(Ae)};return D?t.createElement(n.Progress,null):B?t.createElement(n.ErrorPanel,{title:B.name,defaultExpanded:!0,error:B}):t.createElement(i.Z,{container:!0,direction:"column"},t.createElement(c.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",onChange:G,value:w,style:{width:"100%"}},(ue=(ce=(M=L==null?void 0:L.getDashboardEntity)==null?void 0:M.data)==null?void 0:ce.actor.entitySearch.results.entities)==null?void 0:ue.map((Ae,ee)=>t.createElement(o.Z,{label:Ae.name,className:I.defaultTab,classes:{selected:I.selected,root:I.tabRoot},...p(ee)}))),(ge=(me=(le=L==null?void 0:L.getDashboardEntity)==null?void 0:le.data)==null?void 0:me.actor.entitySearch.results.entities)==null?void 0:ge.map((Ae,ee)=>t.createElement(h,{value1:w,index:ee},t.createElement(s.DashboardSnapshot,{name:Ae.name,permalink:Ae.permalink,guid:Ae.guid,duration:2629743e4}))))};var y=e(53479),E=e(31973);const C=()=>{var I;const{entity:P}=(0,y.useEntity)();return t.createElement(n.Page,{themeId:"home"},t.createElement(n.Content,null,t.createElement(i.Z,{container:!0,spacing:6,direction:"row",alignItems:"stretch"},t.createElement(i.Z,{item:!0,xs:12},t.createElement(d.DashboardEntityList,null)),t.createElement(i.Z,{item:!0,xs:12},t.createElement(R,{guid:String((I=P.metadata.annotations)==null?void 0:I[E.q])})))))},S=P=>{var I,Z;return Boolean((Z=(I=P==null?void 0:P.metadata)==null?void 0:I.annotations)==null?void 0:Z[E.q])},T=()=>{const{entity:P}=(0,y.useEntity)();return S(P)?t.createElement(C,null):t.createElement(t.Fragment,null,t.createElement(n.MissingAnnotationEmptyState,{annotation:E.q}),t.createElement(r.Z,{variant:"contained",color:"primary",href:"https://github.com/backstage/backstage/tree/master/plugins/newrelic-dashboard"},"Read New Relic Dashboard Plugin Docs"))}},79135:function(H,l,e){"use strict";e.d(l,{F:function(){return s},c:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.newrelicdashboard.service"}),r=`query ($query: String) {
  actor {
    entitySearch(query: $query) {
      results {
        entities {
          name
          ... on DashboardEntityOutline {
            name
            dashboardParentGuid
          guid
          }
          permalink
        }
      }
    }
  }
}
`,i=`mutation($guid: EntityGuid! , ,$duration: Milliseconds) {
  dashboardCreateSnapshotUrl(guid: $guid , params: {timeWindow: {duration: $duration}})
}`;var d=e(10179);class s{constructor({discoveryApi:c,fetchApi:o}){Me(this,"discoveryApi");Me(this,"fetchApi");this.discoveryApi=c,this.fetchApi=o}async callApi(c,o){const g=new Headers;g.append("Content-Type","application/json");const u=JSON.stringify({query:c,variables:o}),f={method:"POST",headers:g,body:u,redirect:"follow"},h=`${await this.discoveryApi.getBaseUrl("proxy")}/newrelic/api/graphql`,p=await this.fetchApi.fetch(h,f);if(p.status===200)return await p.json();if(!p.ok)throw await d.VL.fromResponse(p)}async getDashboardEntity(c){var g,u;const o=await this.callApi(r,{query:`id ='${c}' OR parentId ='${c}'`});return o&&((u=(g=o==null?void 0:o.data)==null?void 0:g.actor.entitySearch.results.entities)==null?void 0:u.length)>1&&(o.data.actor.entitySearch.results.entities=o==null?void 0:o.data.actor.entitySearch.results.entities.filter(f=>(f==null?void 0:f.dashboardParentGuid)!==null)),{getDashboardEntity:o}}async getDashboardSnapshot(c,o){return{getDashboardSnapshot:await this.callApi(i,{guid:c,duration:o})}}}},33452:function(H,l,e){"use strict";e.r(l),e.d(l,{DashboardEntityList:function(){return h}});var t=e(2784),n=e(79692),r=e(95544),i=e(90436),d=e(79135),s=e(36964),a=e(64279),c=e(23192),o=e(55834),g=e(53479),u=e(31973);const f=(0,n.Z)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}}),h=()=>{var S,T,P,I,Z,L;const{entity:p}=(0,g.useEntity)(),A=f(),R=(0,s.useApi)(d.c),{value:y,loading:E,error:C}=(0,a.default)(async()=>{var B;return R.getDashboardEntity(String((B=p.metadata.annotations)==null?void 0:B[u.q]))},[(S=p.metadata.annotations)==null?void 0:S[u.q]]);return E?t.createElement(c.Progress,null):C?t.createElement(c.ErrorPanel,{title:C.name,defaultExpanded:!0,error:C}):t.createElement(c.InfoCard,{title:"New Relic Dashboard Pages",variant:"gridItem"},(y==null?void 0:y.getDashboardEntity)===void 0&&"Unauthorized Request , please check API Key",(y==null?void 0:y.getDashboardEntity)!==void 0&&((I=(P=(T=y==null?void 0:y.getDashboardEntity)==null?void 0:T.data.actor.entitySearch.results)==null?void 0:P.entities)==null?void 0:I.length)<=0&&t.createElement(t.Fragment,null,"No Dashboard Pages found with the specified Dashboard GUID"),(L=(Z=y==null?void 0:y.getDashboardEntity)==null?void 0:Z.data.actor.entitySearch.results.entities)==null?void 0:L.map(D=>t.createElement(r.Z,{style:{margin:"10px"},display:"flex"},t.createElement(r.Z,{mr:1,className:A.svgIcon},t.createElement(i.Z,{component:"div"},t.createElement(o.Z,null))),t.createElement(r.Z,{flexGrow:"1"},t.createElement(c.Link,{to:D.permalink},D.name)))))}},94048:function(H,l,e){"use strict";e.r(l),e.d(l,{DashboardSnapshot:function(){return c}});var t=e(2784),n=e(60905),r=e(95544),i=e(36964),d=e(64279),s=e(23192),a=e(79135);const c=({guid:o,name:g,permalink:u,duration:f})=>{var E,C,S;const h=(0,i.useApi)(a.c),{value:p,loading:A,error:R}=(0,d.default)(async()=>h.getDashboardSnapshot(o,f),[o,f]);if(A)return t.createElement(s.Progress,null);if(R)return t.createElement(s.ErrorPanel,{title:R.name,defaultExpanded:!0,error:R});const y=(S=(C=(E=p==null?void 0:p.getDashboardSnapshot)==null?void 0:E.data)==null?void 0:C.dashboardCreateSnapshotUrl)==null?void 0:S.replace(/\pdf$/i,"png");return t.createElement(n.Z,{container:!0,style:{marginTop:"30px"}},t.createElement(s.InfoCard,{variant:"gridItem",title:g},t.createElement(r.Z,{display:"flex"},t.createElement(r.Z,{flexGrow:"1"},t.createElement(s.Link,{to:u},y?t.createElement("img",{alt:`${g} Dashbord`,style:{border:"solid 1px black"},src:y}):"Dashboard loading... , click here to open if it did not render correctly")))))}},31973:function(H,l,e){"use strict";e.d(l,{q:function(){return t}});const t="newrelic.com/dashboard-guid"},32110:function(H,l,e){"use strict";e.d(l,{o:function(){return n},q:function(){return i}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.newrelic.service"}),r="/newrelic";class i{constructor(s){Me(this,"discoveryApi");Me(this,"proxyPathBase");var a;this.discoveryApi=s.discoveryApi,this.proxyPathBase=(a=s.proxyPathBase)!=null?a:r}async getApplications(){var o;const s=await this.getApiUrl("apm","applications.json"),a=await fetch(s);let c;try{c=await a.json()}catch{c={applications:[]}}if(a.status!==200)throw new Error(`Error communicating with New Relic: ${((o=c==null?void 0:c.error)==null?void 0:o.title)||a.statusText}`);return c}async getApiUrl(s,a){return`${await this.discoveryApi.getBaseUrl("proxy")}${this.proxyPathBase}/${s}/api/${a}`}}},83167:function(H,l,e){"use strict";e.r(l),e.d(l,{GroupProfileCard:function(){return G},MembersListCard:function(){return R},MyGroupsSidebarItem:function(){return F},OwnershipCard:function(){return b},UserProfileCard:function(){return ue}});var t=e(48023),n=e(53479),r=e(79692),i=e(12420),d=e(60905),s=e(95544),a=e(90436),c=e(76637),o=e(2784),g=e(10289),u=e(64279),f=e(23192),h=e(36964);const p=(0,r.Z)(N=>(0,i.Z)({card:{border:`1px solid ${N.palette.divider}`,boxShadow:N.shadows[2],borderRadius:"4px",overflow:"visible",position:"relative",margin:N.spacing(4,1,1),flex:"1",minWidth:"0px"},email:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%","&:hover":{overflow:"visible",whiteSpace:"normal"}}})),A=N=>{var $;const W=p(),{metadata:{name:Ee,description:Ce},spec:{profile:te}}=N.member,Re=($=te==null?void 0:te.displayName)!=null?$:Ee;return o.createElement(d.Z,{item:!0,container:!0,xs:12,sm:6,md:4,xl:2},o.createElement(s.Z,{className:W.card},o.createElement(s.Z,{display:"flex",flexDirection:"column",m:3,alignItems:"center",justifyContent:"center"},o.createElement(f.Avatar,{displayName:Re,picture:te==null?void 0:te.picture,customStyles:{position:"absolute",top:"-2rem"}}),o.createElement(s.Z,{pt:2,sx:{maxWidth:"100%"},textAlign:"center"},o.createElement(a.Z,{variant:"h5"},o.createElement(f.Link,{to:(0,g.Gn)(`/catalog/:namespace/user/${Ee}`,(0,n.entityRouteParams)(N.member))},Re)),(te==null?void 0:te.email)&&o.createElement(f.Link,{className:W.email,to:`mailto:${te.email}`},te.email),Ce&&o.createElement(a.Z,{variant:"subtitle2"},Ce)))))},R=N=>{var pe;const{memberDisplayTitle:W="Members",pageSize:Ee=50}=N,{entity:Ce}=(0,n.useEntity)(),{metadata:{name:te,namespace:Re},spec:{profile:$}}=Ce,ie=(0,h.useApi)(n.catalogApiRef),de=(pe=$==null?void 0:$.displayName)!=null?pe:te,Pe=Re||t.zG,[He,We]=o.useState(1),Ge=(Be,ot)=>{We(ot)},{loading:Ve,error:ut,value:nt}=(0,u.default)(async()=>(await ie.getEntities({filter:{kind:"User","relations.memberof":[(0,t.eE)({kind:"group",namespace:Pe.toLocaleLowerCase("en-US"),name:te.toLocaleLowerCase("en-US")})]}})).items,[ie,Ce]);if(Ve)return o.createElement(f.Progress,null);if(ut)return o.createElement(f.ResponseErrorPanel,{error:ut});const At=Math.ceil(((nt==null?void 0:nt.length)||0)/Ee),Le=At<2?"":`, page ${He} of ${At}`,Te=o.createElement(c.Z,{count:At,page:He,onChange:Ge,showFirstButton:!0,showLastButton:!0});return o.createElement(d.Z,{item:!0},o.createElement(f.InfoCard,{title:`${W} (${(nt==null?void 0:nt.length)||0}${Le})`,subheader:`of ${de}`,...At<=1?{}:{actions:Te}},o.createElement(d.Z,{container:!0,spacing:3},nt&&nt.length>0?nt.slice(Ee*(He-1),Ee*He).map(Be=>o.createElement(A,{member:Be,key:Be.metadata.uid})):o.createElement(s.Z,{p:2},o.createElement(a.Z,null,"This group has no ",W.toLocaleLowerCase(),".")))))};var y=e(61837),E=e(11776),C=e(38402),S=e(86136),T=e(80030),P=e(49378),I=e(73655),Z=e(13384),L=e(62367),D=e(27604),B=e(52866),w=e(99688);const V=N=>o.createElement(s.Z,{display:"flex",alignItems:"center"},o.createElement(L.Z,{fontSize:"inherit"}),o.createElement(s.Z,{ml:1},N.title)),G=N=>{var Le,Te;const W=(0,h.useApi)(n.catalogApiRef),Ee=(0,h.useApi)(h.alertApiRef),{entity:Ce}=(0,n.useEntity)(),te=(0,o.useCallback)(async()=>{await W.refreshEntity((0,t.eE)(Ce)),Ee.post({message:"Refresh scheduled",severity:"info"})},[W,Ee,Ce]);if(!Ce)return o.createElement(w.Z,{severity:"error"},"Group not found");const{metadata:{name:Re,description:$,annotations:ie},spec:{profile:de}}=Ce,Pe=(0,n.getEntityRelations)(Ce,t._b,{kind:"Group"}),He=(0,n.getEntityRelations)(Ce,t.wP,{kind:"group"}),We=ie==null?void 0:ie[t.P1],Ge=(We==null?void 0:We.startsWith("url:"))||(We==null?void 0:We.startsWith("file:")),Ve=(Le=Ce.metadata.annotations)==null?void 0:Le[t.Tf],ut=(Te=de==null?void 0:de.displayName)!=null?Te:Re,nt=de!=null&&de.email?`mailto:${de.email}`:"#",At=Ve?o.createElement(y.Z,{"aria-label":"Edit",title:"Edit Metadata",component:f.Link,to:Ve},o.createElement(D.Z,null)):o.createElement(y.Z,{"aria-label":"Edit",disabled:!0,title:"Edit Metadata"},o.createElement(D.Z,null));return o.createElement(f.InfoCard,{title:o.createElement(V,{title:ut}),subheader:$,variant:N.variant,action:o.createElement(o.Fragment,null,Ge&&o.createElement(y.Z,{"aria-label":"Refresh",title:"Schedule entity refresh",onClick:te},o.createElement(B.Z,null)),At)},o.createElement(d.Z,{container:!0,spacing:3},o.createElement(d.Z,{item:!0,xs:12,sm:2,xl:1},o.createElement(f.Avatar,{displayName:ut,picture:de==null?void 0:de.picture})),o.createElement(d.Z,{item:!0,md:10,xl:11},o.createElement(E.Z,null,(de==null?void 0:de.email)&&o.createElement(C.Z,null,o.createElement(S.Z,null,o.createElement(T.ZP,{title:"Email"},o.createElement(Z.Z,null))),o.createElement(P.Z,null,o.createElement(f.Link,{to:nt},de.email))),He.length?o.createElement(C.Z,null,o.createElement(S.Z,null,o.createElement(T.ZP,{title:"Parent Group"},o.createElement(I.Z,null))),o.createElement(P.Z,null,o.createElement(n.EntityRefLinks,{entityRefs:He,defaultKind:"Group"}))):null,Pe.length?o.createElement(C.Z,null,o.createElement(S.Z,null,o.createElement(T.ZP,{title:"Child Groups"},o.createElement(L.Z,null))),o.createElement(P.Z,null,o.createElement(n.EntityRefLinks,{entityRefs:Pe,defaultKind:"Group"}))):null))))};var M=e(98685);const ce=N=>N.title?o.createElement(s.Z,{display:"flex",alignItems:"center"},o.createElement(M.Z,{fontSize:"inherit"}),o.createElement(s.Z,{ml:1},N.title)):null,ue=N=>{var de;const{entity:W}=(0,n.useEntity)();if(!W)return o.createElement(w.Z,{severity:"error"},"User not found");const{metadata:{name:Ee,description:Ce},spec:{profile:te}}=W,Re=(de=te==null?void 0:te.displayName)!=null?de:Ee,$=te!=null&&te.email?`mailto:${te.email}`:void 0,ie=(0,n.getEntityRelations)(W,t.hr,{kind:"Group"});return o.createElement(f.InfoCard,{title:o.createElement(ce,{title:Re}),subheader:Ce,variant:N.variant},o.createElement(d.Z,{container:!0,spacing:3,alignItems:"flex-start"},o.createElement(d.Z,{item:!0,xs:12,sm:2,xl:1},o.createElement(f.Avatar,{displayName:Re,picture:te==null?void 0:te.picture})),o.createElement(d.Z,{item:!0,md:10,xl:11},o.createElement(E.Z,null,(te==null?void 0:te.email)&&o.createElement(C.Z,null,o.createElement(S.Z,null,o.createElement(T.ZP,{title:"Email"},o.createElement(Z.Z,null))),o.createElement(P.Z,null,o.createElement(f.Link,{to:$!=null?$:""},te.email))),o.createElement(C.Z,null,o.createElement(S.Z,null,o.createElement(T.ZP,{title:"Member of"},o.createElement(L.Z,null))),o.createElement(P.Z,null,o.createElement(n.EntityRefLinks,{entityRefs:ie,defaultKind:"Group"})))))))};var le=e(25859),me=e(82938),ge=e(19928),Ae=e.n(ge),ee=e(64130),Ie=e(14162),re=e.n(Ie),ne=e(19126),_=e.n(ne);const se=re()(10),j=(N,W)=>{const{kind:Ee,type:Ce}=W,te=N.map($=>(0,n.humanizeEntityRef)((0,t.of)($),{defaultKind:"group"})),Re={kind:Ee,type:Ce,owners:te,user:"all"};return _().stringify({filters:Re},{arrayFormat:"repeat"})},ae=N=>{let W=[(0,t.eE)(N)];if(N.kind==="User"){const Ce=(0,n.getEntityRelations)(N,t.hr,{kind:"Group"}).map(te=>(0,t.eE)({kind:te.kind,namespace:te.namespace,name:te.name}));W=[...W,...Ce]}return W},X=async(N,W)=>{const Ee=[],Ce=new Map,te=new Set;Ee.push(N);let Re=N;for(;Ee.length>0;){const $=(0,n.getEntityRelations)(Re,t._b,{kind:"Group"});await Promise.all($.map(ie=>se(async()=>{const de=W.getEntityByRef(ie);Ce.set(ie.name,de);try{const Pe=await de;Pe&&Ee.push(Pe)}finally{Ce.delete(ie.name)}}))),Ee.shift(),te.add((0,t.eE)({kind:Re.kind,namespace:Re.metadata.namespace,name:Re.metadata.name})),Re=Ee[0]}return Array.from(te)};function z(N,W,Ee,Ce){const te=(0,h.useApi)(n.catalogApiRef),Re=Ce!=null?Ce:["Component","API","System"],{loading:$,error:ie,value:de}=(0,u.default)(async()=>{const Pe=W==="aggregated"&&Ee?await X(N,te):ae(N);return(await te.getEntities({filter:[{kind:Re,"relations.ownedBy":Pe}],fields:["kind","metadata.name","metadata.namespace","spec.type","relations"]})).items.reduce((Ve,ut)=>{var At,Le,Te;const nt=Ve.find(pe=>{var Be,ot;return pe.kind===ut.kind&&pe.type===((ot=(Be=ut.spec)==null?void 0:Be.type)!=null?ot:ut.kind)});return nt?nt.count+=1:Ve.push({kind:ut.kind,type:(Te=(Le=(At=ut.spec)==null?void 0:At.type)==null?void 0:Le.toString())!=null?Te:ut.kind,count:1}),Ve},[]).sort((Ve,ut)=>ut.count-Ve.count).slice(0,6).map(Ve=>({counter:Ve.count,type:Ve.type,name:Ve.type.toLocaleUpperCase("en-US"),queryParams:j(Pe,Ve)}))},[te,N,W]);return{componentsWithCounters:de,loading:$,error:ie}}const Q=(0,r.Z)(N=>(0,i.Z)({card:{border:`1px solid ${N.palette.divider}`,boxShadow:N.shadows[2],borderRadius:"4px",padding:N.spacing(2),color:"#fff",transition:`${N.transitions.duration.standard}ms`,"&:hover":{boxShadow:N.shadows[4]}},bold:{fontWeight:N.typography.fontWeightBold},entityTypeBox:{background:W=>N.getPageTheme({themeId:W.type}).backgroundImage}})),fe=({counter:N,type:W,name:Ee,url:Ce})=>{const te=Q({type:W});return o.createElement(f.Link,{to:Ce,variant:"body2"},o.createElement(s.Z,{className:`${te.card} ${te.entityTypeBox}`,display:"flex",flexDirection:"column",alignItems:"center"},o.createElement(a.Z,{className:te.bold,variant:"h6"},N),o.createElement(a.Z,{className:te.bold,variant:"h6"},Ae()(Ee,N))))},q=({entity:N,relationsType:W,isGroup:Ee,entityFilterKind:Ce})=>{const te=(0,h.useRouteRef)(ee.x),{componentsWithCounters:Re,loading:$,error:ie}=z(N,W,Ee,Ce);return $?o.createElement(f.Progress,null):ie?o.createElement(f.ResponseErrorPanel,{error:ie}):o.createElement(d.Z,{container:!0},Re==null?void 0:Re.map(de=>o.createElement(d.Z,{item:!0,xs:6,md:6,lg:4,key:de.name},o.createElement(fe,{counter:de.counter,type:de.type,name:de.name,url:`${te()}/?${de.queryParams}`}))))},k=(0,r.Z)(N=>({list:{[N.breakpoints.down("xs")]:{padding:"0 0 12px"}},listItemText:{[N.breakpoints.down("xs")]:{paddingRight:0,paddingLeft:0}},listItemSecondaryAction:{[N.breakpoints.down("xs")]:{width:"100%",top:"auto",right:"auto",position:"relative",transform:"unset"}}})),b=N=>{const{variant:W,entityFilterKind:Ee,hideRelationsToggle:Ce,relationsType:te}=N,Re=Ce===void 0?!1:Ce,$=k(),{entity:ie}=(0,n.useEntity)(),de=ie.kind==="Group",[Pe,He]=(0,o.useState)(te||"direct");return o.createElement(f.InfoCard,{title:"Ownership",variant:W},!Re&&o.createElement(E.Z,{dense:!0},o.createElement(C.Z,{className:$.list},o.createElement(P.Z,{className:$.listItemText}),o.createElement(le.Z,{className:$.listItemSecondaryAction},"Direct Relations",o.createElement(T.ZP,{placement:"top",arrow:!0,title:`${Pe==="direct"?"Direct":"Aggregated"} Relations`},o.createElement(me.Z,{color:"primary",checked:Pe!=="direct",onChange:()=>He(Pe==="direct"?"aggregated":"direct"),name:"pin",inputProps:{"aria-label":"Ownership Type Switch"},disabled:!de})),"Aggregated Relations"))),o.createElement(q,{entity:ie,relationsType:Pe,isGroup:de,entityFilterKind:Ee}))},F=N=>{const{singularTitle:W,pluralTitle:Ee,icon:Ce,filter:te}=N,Re=(0,h.useApi)(h.identityApiRef),$=(0,h.useApi)(n.catalogApiRef),ie=(0,h.useRouteRef)(n.entityRouteRef),{value:de}=(0,u.default)(async()=>{const Pe=await Re.getBackstageIdentity();return(await $.getEntities({filter:[{kind:"group","relations.hasMember":Pe.userEntityRef,...te!=null?te:{}}],fields:["metadata","kind"]})).items},[]);if(!(de!=null&&de.length))return null;if(de.length===1){const Pe=de[0];return o.createElement(f.SidebarItem,{text:W,to:ie((0,t.iB)(Pe)),icon:Ce})}return o.createElement(f.SidebarItem,{icon:Ce,text:Ee},o.createElement(f.SidebarSubmenu,{title:Ee},de==null?void 0:de.map(function(He){return o.createElement(f.SidebarSubmenuItem,{title:He.metadata.title||(0,n.humanizeEntityRef)(He,{defaultKind:"group"}),to:ie((0,t.iB)(He)),icon:Ce,key:(0,t.eE)(He)})})))}},64130:function(H,l,e){"use strict";e.d(l,{x:function(){return n}});var t=e(36964);const n=(0,t.createExternalRouteRef)({id:"catalog-index"})},37615:function(H,l,e){"use strict";e.d(l,{Ol:function(){return i},sm:function(){return r},yj:function(){return n}});var t=e(36964);class n extends Error{}const r=(0,t.createApiRef)({id:"plugin.pagerduty.api"});class i{static fromConfig(s,a,c){var g;const o=(g=s.getOptionalString("pagerDuty.eventsBaseUrl"))!=null?g:"https://events.pagerduty.com/v2";return new i({eventsBaseUrl:o,discoveryApi:a,identityApi:c})}constructor(s){this.config=s}async getServiceByIntegrationKey(s){const a=`time_zone=UTC&include[]=integrations&include[]=escalation_policies&query=${s}`,c=`${await this.config.discoveryApi.getBaseUrl("proxy")}/pagerduty/services?${a}`,{services:o}=await this.getByUrl(c);return o}async getIncidentsByServiceId(s){const a=`time_zone=UTC&sort_by=created_at&statuses[]=triggered&statuses[]=acknowledged&service_ids[]=${s}`,c=`${await this.config.discoveryApi.getBaseUrl("proxy")}/pagerduty/incidents?${a}`,{incidents:o}=await this.getByUrl(c);return o}async getChangeEventsByServiceId(s){const a="limit=5&time_zone=UTC&sort_by=timestamp",c=`${await this.config.discoveryApi.getBaseUrl("proxy")}/pagerduty/services/${s}/change_events?${a}`,{change_events:o}=await this.getByUrl(c);return o}async getOnCallByPolicyId(s){const a=`time_zone=UTC&include[]=users&escalation_policy_ids[]=${s}`,c=`${await this.config.discoveryApi.getBaseUrl("proxy")}/pagerduty/oncalls?${a}`,{oncalls:o}=await this.getByUrl(c);return o}triggerAlarm(s){var p;const{integrationKey:a,source:c,description:o,userName:g}=s,u=JSON.stringify({event_action:"trigger",routing_key:a,client:"Backstage",client_url:c,payload:{summary:o,source:c,severity:"error",class:"manual trigger",custom_details:{user:g}}}),f={method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json, text/plain, */*"},body:u},h=(p=this.config.eventsBaseUrl)!=null?p:"https://events.pagerduty.com/v2";return this.request(`${h}/enqueue`,f)}async getByUrl(s){const{token:a}=await this.config.identityApi.getCredentials(),c={method:"GET",headers:{Accept:"application/vnd.pagerduty+json;version=2","Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}};return(await this.request(s,c)).json()}async request(s,a){const c=await fetch(s,a);if(c.status===401)throw new n;if(!c.ok){const g=(await c.json()).errors.map(f=>f).join(" "),u=`Request failed with ${c.status}, ${g}`;throw new Error(u)}return c}}},69559:function(H,l,e){"use strict";e.d(l,{Ol:function(){return t.Ol},sm:function(){return t.sm},yj:function(){return t.yj}});var t=e(37615)},16844:function(H,l,e){"use strict";e.r(l),e.d(l,{PagerDutyCard:function(){return N},isPluginApplicableToEntity:function(){return F}});var t=e(2784),n=e(94339),r=e(32552),i=e(85256),d=e(24579),s=e(11776),a=e(54506),c=e(79692),o=e(38402),g=e(49378),u=e(7089),f=e(90436),h=e(86689),p=e(25859),A=e(80030),R=e(61837),y=e(27291),E=e(39781),C=e(96299),S=e(70581);const T=(0,c.Z)(W=>({denseListIcon:{marginRight:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},listItemPrimary:{fontWeight:"bold"},warning:{borderColor:W.palette.status.warning,color:W.palette.status.warning,"& *":{color:W.palette.status.warning}},error:{borderColor:W.palette.status.error,color:W.palette.status.error,"& *":{color:W.palette.status.error}}})),P=({incident:W})=>{var $,ie,de;const Ee=T(),Ce=new Date().getTime()-new Date(W.created_at).getTime(),te=C.ou.local().minus(C.nL.fromMillis(Ce)).toRelative({locale:"en"}),Re=($=W.assignments[0])==null?void 0:$.assignee;return t.createElement(o.Z,{dense:!0,key:W.id},t.createElement(g.Z,{primary:t.createElement(t.Fragment,null,t.createElement(u.Z,{"data-testid":`chip-${W.status}`,label:W.status,size:"small",variant:"outlined",icon:W.status==="acknowledged"?t.createElement(y.Z,null):t.createElement(E.Z,null),className:W.status==="triggered"?Ee.error:Ee.warning}),W.title),primaryTypographyProps:{variant:"body1",className:Ee.listItemPrimary},secondary:t.createElement(f.Z,{noWrap:!0,variant:"body2",color:"textSecondary"},"Created ",te," and assigned to"," ",t.createElement(h.Z,{href:(ie=Re==null?void 0:Re.html_url)!=null?ie:"#",target:"_blank",rel:"noopener noreferrer"},(de=Re==null?void 0:Re.summary)!=null?de:"nobody"))}),t.createElement(p.Z,null,t.createElement(A.ZP,{title:"View in PagerDuty",placement:"top"},t.createElement(R.Z,{href:W.html_url,target:"_blank",rel:"noopener noreferrer",color:"primary"},t.createElement(S.Z,null)))))};var I=e(60905),Z=e.p+"static/emptystate.b451a0ca..svg";const L=()=>t.createElement(I.Z,{container:!0,justifyContent:"center",direction:"column",alignItems:"center"},t.createElement(I.Z,{item:!0,xs:12},t.createElement(f.Z,{variant:"h5"},"Nice! No incidents found!")),t.createElement(I.Z,{item:!0,xs:12},t.createElement("img",{src:Z,alt:"EmptyState","data-testid":"emptyStateImg"})));var D=e(69294),B=e(69559),w=e(99688),V=e(36964),G=e(23192);const M=({serviceId:W,refreshIncidents:Ee})=>{const Ce=(0,V.useApi)(B.sm),[{value:te,loading:Re,error:$},ie]=(0,D.default)(async()=>await Ce.getIncidentsByServiceId(W));return(0,t.useEffect)(()=>{ie()},[Ee,ie]),$?t.createElement(w.Z,{severity:"error"},"Error encountered while fetching information. ",$.message):Re?t.createElement(G.Progress,null):te!=null&&te.length?t.createElement(s.Z,{dense:!0,subheader:t.createElement(a.Z,null,"INCIDENTS")},te.map((de,Pe)=>t.createElement(P,{key:de.id+Pe,incident:de}))):t.createElement(L,null)};var ce=e(86136);const ue=(0,c.Z)({denseListIcon:{marginRight:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}),le=()=>{const W=ue();return t.createElement(o.Z,null,t.createElement(ce.Z,null,t.createElement("div",{className:W.denseListIcon},t.createElement(G.StatusWarning,null))),t.createElement(g.Z,{primary:"Empty escalation policy"}))};var me=e(43434),ge=e(13384);const Ae=(0,c.Z)({listItemPrimary:{fontWeight:"bold"}}),ee=({user:W})=>{const Ee=Ae();return t.createElement(o.Z,null,t.createElement(ce.Z,null,t.createElement(me.Z,{alt:"User"})),t.createElement(g.Z,{primary:t.createElement(f.Z,{className:Ee.listItemPrimary},W.name),secondary:W.email}),t.createElement(p.Z,null,t.createElement(A.ZP,{title:"Send e-mail to user",placement:"top"},t.createElement(R.Z,{href:`mailto:${W.email}`},t.createElement(ge.Z,{color:"primary"}))),t.createElement(A.ZP,{title:"View in PagerDuty",placement:"top"},t.createElement(R.Z,{href:W.html_url,target:"_blank",rel:"noopener noreferrer",color:"primary"},t.createElement(S.Z,null)))))};var Ie=e(64279);const re=({policyId:W})=>{const Ee=(0,V.useApi)(B.sm),{value:Ce,loading:te,error:Re}=(0,Ie.default)(async()=>(await Ee.getOnCallByPolicyId(W)).sort((de,Pe)=>de.escalation_level-Pe.escalation_level).map(de=>de.user));return Re?t.createElement(w.Z,{severity:"error"},"Error encountered while fetching information. ",Re.message):te?t.createElement(G.Progress,null):Ce!=null&&Ce.length?t.createElement(s.Z,{dense:!0,subheader:t.createElement(a.Z,null,"ON CALL")},Ce.map(($,ie)=>t.createElement(ee,{key:ie,user:$}))):t.createElement(le,null)};var ne=e(56633),_=e(77277);const se=()=>t.createElement(G.EmptyState,{missing:"info",title:"Missing or invalid PagerDuty Token",description:"The request to fetch data needs a valid token. See README for more details.",action:t.createElement(_.Z,{color:"primary",variant:"contained",href:"https://github.com/backstage/backstage/blob/master/plugins/pagerduty/README.md"},"Read More")});var j=e(27057),ae=e(22771),X=e(92677),z=e(93168),Q=e(17976);const fe=(0,c.Z)({denseListIcon:{marginRight:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},listItemPrimary:{fontWeight:"bold"}}),q=({changeEvent:W})=>{const Ee=fe(),Ce=new Date().getTime()-new Date(W.timestamp).getTime(),te=C.ou.local().minus(C.nL.fromMillis(Ce)).toRelative({locale:"en"});let Re=null;if(W.links.length>0){const $=W.links[0].text;Re=t.createElement(A.ZP,{title:$,placement:"top"},t.createElement(R.Z,{component:G.Link,to:W.links[0].href,color:"primary"},t.createElement(S.Z,null)))}return t.createElement(o.Z,{dense:!0,key:W.id},t.createElement(g.Z,{primary:t.createElement(t.Fragment,null,W.summary),primaryTypographyProps:{variant:"body1",className:Ee.listItemPrimary},secondary:t.createElement(f.Z,{variant:"body2",color:"textSecondary"},"Triggered from ",W.source," ",te,".")}),t.createElement(p.Z,null,Re,W.html_url===void 0?null:t.createElement(A.ZP,{title:"View in PagerDuty",placement:"top"},t.createElement(R.Z,{component:G.Link,to:W.html_url,color:"primary"},t.createElement(S.Z,null)))))},k=()=>t.createElement(I.Z,{container:!0,justify:"center",direction:"column",alignItems:"center"},t.createElement(I.Z,{item:!0,xs:12},t.createElement(f.Z,{variant:"h5"},"No change events to display yet.")),t.createElement(I.Z,{item:!0,xs:12},t.createElement("img",{src:Z,alt:"EmptyState","data-testid":"emptyStateImg"}))),b=({serviceId:W,refreshEvents:Ee})=>{const Ce=(0,V.useApi)(B.sm),[{value:te,loading:Re,error:$},ie]=(0,D.default)(async()=>await Ce.getChangeEventsByServiceId(W));return(0,t.useEffect)(()=>{ie()},[Ee,ie]),$?t.createElement(w.Z,{severity:"error"},"Error encountered while fetching information. ",$.message):Re?t.createElement(G.Progress,null):te!=null&&te.length?t.createElement(s.Z,{dense:!0,subheader:t.createElement(a.Z,null,"CHANGE EVENTS")},te.map((de,Pe)=>t.createElement(q,{key:de.id+Pe,changeEvent:de}))):t.createElement(k,null)},F=W=>{var Ee;return Boolean((Ee=W.metadata.annotations)==null?void 0:Ee[z.c])},N=()=>{const{integrationKey:W}=(0,X.d)(),Ee=(0,V.useApi)(B.sm),[Ce,te]=(0,t.useState)(!1),[Re,$]=(0,t.useState)(!1),[ie,de]=(0,t.useState)(!1),Pe=(0,t.useCallback)(()=>{de(!0)},[de]),He=(0,t.useCallback)(()=>{de(!1)},[de]),We=(0,t.useCallback)(()=>{te(Te=>!Te),$(Te=>!Te)},[]),{value:Ge,loading:Ve,error:ut}=(0,Ie.default)(async()=>{const Te=await Ee.getServiceByIntegrationKey(W);return{id:Te[0].id,name:Te[0].name,url:Te[0].html_url,policyId:Te[0].escalation_policy.id,policyLink:Te[0].escalation_policy.html_url}});if(ut instanceof B.yj)return t.createElement(se,null);if(ut)return t.createElement(w.Z,{severity:"error"},"Error encountered while fetching information. ",ut.message);if(Ve)return t.createElement(G.Progress,null);const nt={label:"Service Directory",href:Ge.url,icon:t.createElement(j.Z,null)},At={label:"Create Incident",onClick:Pe,icon:t.createElement(ne.Z,null),color:"secondary"},Le={label:"Escalation Policy",href:Ge.policyLink,icon:t.createElement(ae.Z,null)};return t.createElement(t.Fragment,null,t.createElement(n.Z,{"data-testid":"pagerduty-card"},t.createElement(r.Z,{title:"PagerDuty",subheader:t.createElement(G.HeaderIconLinkRow,{links:[nt,At,Le]})}),t.createElement(i.Z,null),t.createElement(d.Z,null,t.createElement(G.TabbedCard,null,t.createElement(G.CardTab,{label:"Incidents"},t.createElement(M,{serviceId:Ge.id,refreshIncidents:Ce})),t.createElement(G.CardTab,{label:"Change Events"},t.createElement(b,{serviceId:Ge.id,refreshEvents:Re}))),t.createElement(re,{policyId:Ge.policyId}))),t.createElement(Q.Z,{"data-testid":"trigger-dialog",showDialog:ie,handleDialog:He,onIncidentCreated:We}))}},17976:function(H,l,e){"use strict";e.d(l,{Z:function(){return R}});var t=e(2784),n=e(8629),r=e(79249),i=e(38724),d=e(90436),s=e(86619),a=e(49429),c=e(77277),o=e(4614),g=e(69294),u=e(69559),f=e(99688),h=e(92677),p=e(36964),A=e(48023);const R=({showDialog:y,handleDialog:E,onIncidentCreated:C})=>{const{name:S,integrationKey:T}=(0,h.d)(),P=(0,p.useApi)(p.alertApiRef),I=(0,p.useApi)(p.identityApiRef),Z=(0,p.useApi)(u.sm),[L,D]=(0,t.useState)(""),[{value:B,loading:w,error:V},G]=(0,g.default)(async ce=>{const{userEntityRef:ue}=await I.getBackstageIdentity(),{name:le}=(0,A.of)(ue,{defaultKind:"User",defaultNamespace:A.zG});return await Z.triggerAlarm({integrationKey:T,source:window.location.toString(),description:ce,userName:le})}),M=ce=>{D(ce.target.value)};return(0,t.useEffect)(()=>{B&&(async()=>(P.post({message:"Alarm successfully triggered"}),E(),await new Promise(ce=>setTimeout(ce,1e3)),C==null||C()))()},[B,P,E,C]),V&&P.post({message:`Failed to trigger alarm. ${V.message}`,severity:"error"}),t.createElement(n.Z,{maxWidth:"md",open:y,onClose:E,fullWidth:!0},t.createElement(r.Z,null,"This action will trigger an incident for ",t.createElement("strong",null,'"',S,'"'),"."),t.createElement(i.Z,null,t.createElement(f.Z,{severity:"info"},t.createElement(d.Z,{variant:"body1",align:"justify"},`If the issue you are seeing does not need urgent attention, please get in touch with the responsible team using their preferred communications channel. You can find information about the owner of this entity in the "About" card. If the issue is urgent, please don't hesitate to trigger the alert.`)),t.createElement(d.Z,{variant:"body1",style:{marginTop:"1em"},gutterBottom:!0,align:"justify"},"Please describe the problem you want to report. Be as descriptive as possible. Your signed in user and a reference to the current page will automatically be amended to the alarm so that the receiver can reach out to you if necessary."),t.createElement(s.Z,{inputProps:{"data-testid":"trigger-input"},id:"description",multiline:!0,fullWidth:!0,rows:"4",margin:"normal",label:"Problem description",variant:"outlined",onChange:M})),t.createElement(a.Z,null,t.createElement(c.Z,{"data-testid":"trigger-button",id:"trigger",color:"secondary",disabled:!L||w,variant:"contained",onClick:()=>G(L),endIcon:w&&t.createElement(o.Z,{size:16})},"Trigger Incident"),t.createElement(c.Z,{id:"close",color:"primary",onClick:E},"Close")))}},93168:function(H,l,e){"use strict";e.d(l,{c:function(){return t}});const t="pagerduty.com/integration-key"},92677:function(H,l,e){"use strict";e.d(l,{d:function(){return r}});var t=e(53479),n=e(93168);function r(){var a;const{entity:i}=(0,t.useEntity)(),d=(a=i.metadata.annotations)==null?void 0:a[n.c],s=i.metadata.name;return{integrationKey:d,name:s}}},40749:function(H,l,e){"use strict";e.d(l,{rG:function(){return t},Y2:function(){return C},J$:function(){return o},g2:function(){return r}});var t;(function(S){const T="DENY";S.DENY=T;const P="ALLOW";S.ALLOW=P;const I="CONDITIONAL";S.CONDITIONAL=I})(t||(t={}));function n(S,T){return S.name===T.name}function r(S,T){return"resourceType"in S?!T||S.resourceType===T:!1}function i(S){return S.attributes.action==="create"}function d(S){return S.attributes.action==="read"}function s(S){return S.attributes.action==="update"}function a(S){return S.attributes.action==="delete"}function c(S){return{authorize:async(T,P)=>await S.authorize(T,P),authorizeConditional(T,P){const I=T;return S.authorize(I,P)}}}function o({name:S,attributes:T,resourceType:P}){return P?{type:"resource",name:S,attributes:T,resourceType:P}:{type:"basic",name:S,attributes:T}}var g=e(10179),u=e(96279),f=e.n(u),h=e(9571),p=e(30195);const A=p.z.lazy(()=>p.z.object({rule:p.z.string(),resourceType:p.z.string(),params:p.z.array(p.z.unknown())}).or(p.z.object({anyOf:p.z.array(A).nonempty()})).or(p.z.object({allOf:p.z.array(A).nonempty()})).or(p.z.object({not:A}))),R=p.z.object({result:p.z.literal(t.ALLOW).or(p.z.literal(t.DENY))}),y=p.z.union([p.z.object({result:p.z.literal(t.ALLOW).or(p.z.literal(t.DENY))}),p.z.object({result:p.z.literal(t.CONDITIONAL),pluginId:p.z.string(),resourceType:p.z.string(),conditions:A})]),E=(S,T)=>p.z.object({items:p.z.array(p.z.intersection(p.z.object({id:p.z.string()}),S)).refine(P=>P.length===T.size&&P.every(({id:I})=>T.has(I)),{message:"Items in response do not match request"})});class C{constructor(T){Me(this,"enabled");Me(this,"discovery");var P;this.discovery=T.discovery,this.enabled=(P=T.config.getOptionalBoolean("permission.enabled"))!=null?P:!1}async authorize(T,P){return this.makeRequest(T,R,P)}async authorizeConditional(T,P){return this.makeRequest(T,y,P)}async makeRequest(T,P,I){if(!this.enabled)return T.map(G=>({result:t.ALLOW}));const Z={items:T.map(G=>({id:h.Z(),...G}))},L=await this.discovery.getBaseUrl("permission"),D=await f()(`${L}/authorize`,{method:"POST",body:JSON.stringify(Z),headers:{...this.getAuthorizationHeader(I==null?void 0:I.token),"content-type":"application/json"}});if(!D.ok)throw await g.VL.fromResponse(D);const B=await D.json(),V=E(P,new Set(Z.items.map(({id:G})=>G))).parse(B).items.reduce((G,M)=>(G[M.id]=M,G),{});return Z.items.map(G=>V[G.id])}getAuthorizationHeader(T){return T?{Authorization:`Bearer ${T}`}:{}}}},68099:function(H,l,e){"use strict";e.d(l,{iM:function(){return s},po:function(){return o},RV:function(){return i},gI:function(){return c}});var t=e(2784),n=e(10289),r=e(36964);const i=(0,r.createApiRef)({id:"plugin.permission.api"});var d=e(40749);class s{constructor(u,f){this.permissionClient=u,this.identityApi=f}static create(u){const{config:f,discovery:h,identity:p}=u,A=new d.Y2({discovery:h,config:f});return new s(A,p)}async authorize(u){return(await this.permissionClient.authorize([u],await this.identityApi.getCredentials()))[0]}}var a=e(49857);function c(g){const u=(0,r.useApi)(i),{data:f,error:h}=(0,a.ZP)(g,async p=>{if((0,d.g2)(p.permission)&&!p.resourceRef)return d.rG.DENY;const{result:A}=await u.authorize(p);return A});return h?{error:h,loading:!1,allowed:!1}:f===void 0?{loading:!0,allowed:!1}:{loading:!1,allowed:f===d.rG.ALLOW}}const o=g=>{const{permission:u,resourceRef:f,errorComponent:h,...p}=g,A=c((0,d.g2)(u)?{permission:u,resourceRef:f}:{permission:u}),R=(0,r.useApp)(),{NotFoundErrorPage:y}=R.getComponents();let E=h===void 0?t.createElement(y,null):h;return A.loading?E=null:A.allowed&&(E=g.element),t.createElement(n.AW,{...p,element:E})}},79200:function(H,l,e){"use strict";e.d(l,{e:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.rollbar.service"})},99372:function(H,l,e){"use strict";e.d(l,{e:function(){return t.e}});var t=e(79200)},36293:function(H,l,e){"use strict";e.d(l,{L:function(){return Z}});var t=e(53479),n=e(2784),r=e(64279),i=e(99372),d=e(56320),s=e(36964);function a(L){var V,G,M,ce;const D=(0,s.useApi)(s.configApiRef),[B,w]=((M=(G=(V=L==null?void 0:L.metadata)==null?void 0:V.annotations)==null?void 0:G[d.N])!=null?M:"").split("/").reverse();return{project:B,organization:(ce=w!=null?w:D.getOptionalString("rollbar.organization"))!=null?ce:D.getString("organization.name")}}function c(L){const D=(0,s.useApi)(i.e),{organization:B,project:w}=a(L),{value:V,loading:G,error:M}=(0,r.default)(()=>w?D.getTopActiveItems(w,168).then(ce=>ce.sort((ue,le)=>le.item.occurrences-ue.item.occurrences)):Promise.resolve([]),[D,B,w,L]);return{items:V,organization:B,project:w,loading:G,error:M}}var o=e(86689),g=e(95544),u=e(90436),f=e(99688),h;(function(L){L[L.debug=10]="debug";const B=20;L[L.info=B]="info";const w=30;L[L.warning=w]="warning";const V=40;L[L.error=V]="error";const G=50;L[L.critical=G]="critical"})(h||(h={}));var p;(function(L){L[L.unknown=0]="unknown";const B=1;L[L.rails=B]="rails";const w=2;L[L.django=w]="django";const V=3;L[L.pyramid=V]="pyramid",L[L["node-js"]=4]="node-js";const G=5;L[L.pylons=G]="pylons";const M=6;L[L.php=M]="php",L[L["browser-js"]=7]="browser-js",L[L["rollbar-system"]=8]="rollbar-system";const ce=9;L[L.android=ce]="android";const ue=10;L[L.ios=ue]="ios";const le=11;L[L.mailgun=le]="mailgun";const me=12;L[L.logentries=me]="logentries";const ge=13;L[L.python=ge]="python";const Ae=14;L[L.ruby=Ae]="ruby";const ee=15;L[L.sidekiq=ee]="sidekiq";const Ie=16;L[L.flask=Ie]="flask";const re=17;L[L.celery=re]="celery";const ne=18;L[L.rq=ne]="rq"})(p||(p={}));var A;(function(L){L[L.unknown=0]="unknown";const B=1;L[L.browser=B]="browser";const w=2;L[L.flash=w]="flash";const V=3;L[L.android=V]="android";const G=4;L[L.ios=G]="ios";const M=5;L[L.heroku=M]="heroku",L[L["google-app-engine"]=6]="google-app-engine";const ce=7;L[L.client=ce]="client"})(A||(A={}));const R=(L,D)=>`https://rollbar.com/${L}/all/items/?projects=${D}`,y=(L,D,B)=>`https://rollbar.com/${L}/${D}/items/${B}`;var E=e(44311);const C=({counts:L})=>n.createElement(E.Sparklines,{data:L,svgHeight:48,min:0,margin:4},n.createElement(E.SparklinesBars,{barWidth:2}));var S=e(23192);const T=[{title:"ID",field:"item.counter",type:"string",align:"left",width:"70px",render:L=>n.createElement(o.Z,{href:y(L.org,L.project,L.item.counter),target:"_blank",rel:"noreferrer"},L.item.counter)},{title:"Title",field:"item.title",type:"string",align:"left"},{title:"Trend",sorting:!1,render:L=>n.createElement(C,{counts:L.counts})},{title:"Occurrences",field:"item.occurrences",type:"numeric",align:"right"},{title:"Environment",field:"item.environment",type:"string"},{title:"Level",field:"item.level",type:"string",render:L=>h[L.item.level]},{title:"Framework",field:"item.framework",type:"string",render:L=>p[L.item.framework]},{title:"Last Occurrence",field:"item.lastOccurrenceTimestamp",type:"datetime",render:L=>new Date(L.item.lastOccurrenceTimestamp*1e3).toLocaleDateString()}],P=({items:L,organization:D,project:B,loading:w,error:V})=>V?n.createElement("div",null,n.createElement(f.Z,{severity:"error"},"Error encountered while fetching rollbar top items. ",V.toString())):n.createElement(S.Table,{isLoading:w,columns:T,options:{padding:"dense",search:!0,paging:!0,pageSize:5,showEmptyDataSourceMessage:!w},title:n.createElement(g.Z,{display:"flex",alignItems:"center"},n.createElement(g.Z,{mr:1}),n.createElement(u.Z,{variant:"h6"},"Top Active Items / ",B)),data:L.map(G=>({org:D,project:B,...G}))}),I=({entity:L})=>{const{items:D,organization:B,project:w,loading:V,error:G}=c(L);return n.createElement(P,{organization:B,project:w,items:D||[],loading:V,error:G})},Z=()=>{const{entity:L}=(0,t.useEntity)();return n.createElement(I,{entity:L})}},72550:function(H,l,e){"use strict";e.r(l),e.d(l,{Router:function(){return c},isPluginApplicableToEntity:function(){return a}});var t=e(53479),n=e(2784),r=e(10289),i=e(56320),d=e(36293),s=e(23192);const a=o=>{var g;return Boolean((g=o.metadata.annotations)==null?void 0:g[i.N])},c=o=>{const{entity:g}=(0,t.useEntity)();return a(g)||n.createElement(s.MissingAnnotationEmptyState,{annotation:i.N}),n.createElement(r.Z5,null,n.createElement(r.AW,{path:"/",element:n.createElement(d.L,null)}))}},56320:function(H,l,e){"use strict";e.d(l,{N:function(){return t}});const t="rollbar.com/project-slug"},33651:function(H,l,e){"use strict";e.d(l,{l:function(){return c},o:function(){return o}});var t=e(48023),n=e(36964),r=e(10179),i=e(19126),d=e.n(i),s=e(82394),a=e.n(s);const c=(0,n.createApiRef)({id:"plugin.scaffolder.service"});class o{constructor(u){Me(this,"discoveryApi");Me(this,"scmIntegrationsApi");Me(this,"fetchApi");Me(this,"identityApi");Me(this,"useLongPollingLogs");var f,h;this.discoveryApi=u.discoveryApi,this.fetchApi=(f=u.fetchApi)!=null?f:{fetch},this.scmIntegrationsApi=u.scmIntegrationsApi,this.useLongPollingLogs=(h=u.useLongPollingLogs)!=null?h:!1,this.identityApi=u.identityApi}async listTasks(u){if(!this.identityApi)throw new Error("IdentityApi is not available in the ScaffolderClient, please pass through the IdentityApi to the ScaffolderClient constructor in order to use the listTasks method");const f=await this.discoveryApi.getBaseUrl("scaffolder"),{userEntityRef:h}=await this.identityApi.getBackstageIdentity(),p=d().stringify(u.filterByOwnership==="owned"?{createdBy:h}:{}),A=await this.fetchApi.fetch(`${f}/v2/tasks?${p}`);if(!A.ok)throw await r.VL.fromResponse(A);return await A.json()}async getIntegrationsList(u){return{integrations:[...this.scmIntegrationsApi.azure.list(),...this.scmIntegrationsApi.bitbucket.list().filter(h=>!this.scmIntegrationsApi.bitbucketCloud.byHost(h.config.host)&&!this.scmIntegrationsApi.bitbucketServer.byHost(h.config.host)),...this.scmIntegrationsApi.bitbucketCloud.list(),...this.scmIntegrationsApi.bitbucketServer.list(),...this.scmIntegrationsApi.gerrit.list(),...this.scmIntegrationsApi.github.list(),...this.scmIntegrationsApi.gitlab.list()].map(h=>({type:h.type,title:h.title,host:h.config.host})).filter(h=>u.allowedHosts.includes(h.host))}}async getTemplateParameterSchema(u){const{namespace:f,kind:h,name:p}=(0,t.of)(u,{defaultKind:"template"}),A=await this.discoveryApi.getBaseUrl("scaffolder"),R=[f,h,p].map(S=>encodeURIComponent(S)).join("/"),y=`${A}/v2/templates/${R}/parameter-schema`,E=await this.fetchApi.fetch(y);if(!E.ok)throw await r.VL.fromResponse(E);return await E.json()}async scaffold(u){const{templateRef:f,values:h,secrets:p={}}=u,A=`${await this.discoveryApi.getBaseUrl("scaffolder")}/v2/tasks`,R=await this.fetchApi.fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateRef:f,values:{...h},secrets:p})});if(R.status!==201){const E=`${R.status} ${R.statusText}`,C=await R.text();throw new Error(`Backend request failed, ${E} ${C.trim()}`)}const{id:y}=await R.json();return{taskId:y}}async getTask(u){const h=`${await this.discoveryApi.getBaseUrl("scaffolder")}/v2/tasks/${encodeURIComponent(u)}`,p=await this.fetchApi.fetch(h);if(!p.ok)throw await r.VL.fromResponse(p);return await p.json()}streamLogs(u){return this.useLongPollingLogs?this.streamLogsPolling(u):this.streamLogsEventStream(u)}async dryRun(u){const f=await this.discoveryApi.getBaseUrl("scaffolder"),h=await this.fetchApi.fetch(`${f}/v2/dry-run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:u.template,values:u.values,secrets:u.secrets,directoryContents:u.directoryContents})});if(!h.ok)throw await r.VL.fromResponse(h);return h.json()}streamLogsEventStream({taskId:u,after:f}){return new(a())(h=>{const p=new URLSearchParams;f!==void 0&&p.set("after",String(Number(f))),this.discoveryApi.getBaseUrl("scaffolder").then(A=>{const R=`${A}/v2/tasks/${encodeURIComponent(u)}/eventstream`,y=new EventSource(R,{withCredentials:!0});y.addEventListener("log",E=>{if(E.data)try{h.next(JSON.parse(E.data))}catch(C){h.error(C)}}),y.addEventListener("completion",E=>{if(E.data)try{h.next(JSON.parse(E.data))}catch(C){h.error(C)}y.close(),h.complete()}),y.addEventListener("error",E=>{h.error(E)})},A=>{h.error(A)})})}streamLogsPolling({taskId:u,after:f}){let h=f;return new(a())(p=>{this.discoveryApi.getBaseUrl("scaffolder").then(async A=>{for(;!p.closed;){const R=`${A}/v2/tasks/${encodeURIComponent(u)}/events?${d().stringify({after:h})}`,y=await this.fetchApi.fetch(R);if(!y.ok){await new Promise(C=>setTimeout(C,1e3));continue}const E=await y.json();for(const C of E)if(h=Number(C.id),p.next(C),C.type==="completion"){p.complete();return}}})})}async listActions(){const u=await this.discoveryApi.getBaseUrl("scaffolder"),f=await this.fetchApi.fetch(`${u}/v2/actions`);if(!f.ok)throw await r.VL.fromResponse(f);return await f.json()}}},28635:function(H,l,e){"use strict";e.d(l,{Y:function(){return Ie},U:function(){return Ae}});var t=e(48023),n=e(23192),r=e(36964),i=e(4614),d=e(97136),s=e(27556),a=e(77277),c=e(60905),o=e(31377),g=e(34546),u=e(31625),f=e(79692),h=e(12420),p=e(90436),A=e(49166),R=e(98281),y=e(16874),E=e(72779),C=e.n(E),S=e(96299),T=e(19126),P=e.n(T),I=e(2784),Z=e(10289),L=e(70218),D=e(48326),B=e(92233),w=e(33651);function V(re,ne){var _,se,j;switch(ne.type){case"INIT":{re.steps=ne.data.spec.steps.reduce((ae,X)=>(ae[X.id]={status:"open",id:X.id},ae),{}),re.stepLogs=ne.data.spec.steps.reduce((ae,X)=>(ae[X.id]=[],ae),{}),re.loading=!1,re.error=void 0,re.completed=!1,re.task=ne.data;return}case"LOGS":{const ae=ne.data,X=[];for(const z of ae){const Q=`${z.createdAt} ${z.body.message}`;if(X.push(Q),!z.body.stepId||!((_=re.steps)!=null&&_[z.body.stepId]))continue;const fe=(se=re.stepLogs)==null?void 0:se[z.body.stepId],q=(j=re.steps)==null?void 0:j[z.body.stepId];z.body.status&&z.body.status!==q.status&&(q.status=z.body.status,q.status==="processing"&&(q.startedAt=z.createdAt),["cancelled","failed","completed"].includes(q.status)&&(q.endedAt=z.createdAt)),fe==null||fe.push(Q)}return}case"COMPLETED":{re.completed=!0,re.output=ne.data.body.output;return}case"ERROR":{re.error=ne.data,re.loading=!1,re.completed=!0;return}default:return}}const G=re=>{const ne=(0,r.useApi)(w.l),[_,se]=(0,B.C)(V,{loading:!0,completed:!1,stepLogs:{},steps:{}});return(0,I.useEffect)(()=>{let j=!1,ae,X;return ne.getTask(re).then(z=>{if(j)return;se({type:"INIT",data:z});const Q=ne.streamLogs({taskId:re}),fe=new Array;function q(){if(fe.length){const k=fe.splice(0,fe.length);se({type:"LOGS",data:k})}}X=setInterval(q,500),ae=Q.subscribe({next:k=>{switch(k.type){case"log":return fe.push(k);case"completion":q(),se({type:"COMPLETED",data:k});return;default:throw new Error(`Unhandled event type ${k.type} in observer`)}},error:k=>{q(),se({type:"ERROR",data:k})}})},z=>{j||se({type:"ERROR",data:z})}),()=>{j=!0,ae&&ae.unsubscribe(),X&&clearInterval(X)}},[ne,se,re]),_};var M=e(86193);const ce=e(75951),ue=(0,f.Z)(re=>(0,h.Z)({root:{width:"100%"},button:{marginBottom:re.spacing(2),marginLeft:re.spacing(2)},actionsContainer:{marginBottom:re.spacing(2)},resetContainer:{padding:re.spacing(3)},labelWrapper:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between"},stepWrapper:{width:"100%"}})),le=({step:re})=>{const[ne,_]=(0,I.useState)("");return(0,L.Z)(()=>{if(!re.startedAt){_("");return}const se=re.endedAt?S.ou.fromISO(re.endedAt):S.ou.local(),j=S.ou.fromISO(re.startedAt),ae=S.Xp.fromDateTimes(j,se).toDuration().valueOf();_(ce(ae,{round:!0}))},1e3),I.createElement(p.Z,{variant:"caption"},ne)},me=(0,f.Z)(re=>(0,h.Z)({root:{color:re.palette.text.disabled,display:"flex",height:22,alignItems:"center"},completed:{color:re.palette.status.ok},error:{color:re.palette.status.error}}));function ge(re){const ne=me(),{active:_,completed:se,error:j}=re,ae=()=>_?I.createElement(i.Z,{size:"24px"}):se?I.createElement(R.Z,null):j?I.createElement(A.Z,null):I.createElement(y.Z,null);return I.createElement("div",{className:C()(ne.root,{[ne.completed]:se,[ne.error]:j})},ae())}const Ae=(0,I.memo)(re=>{const{steps:ne,currentStepId:_,onUserStepChange:se}=re,j=ue(re);return I.createElement("div",{className:j.root},I.createElement(u.Z,{activeStep:ne.findIndex(ae=>ae.id===_),orientation:"vertical",nonLinear:!0},ne.map((ae,X)=>{const z=ae.status==="completed",Q=ae.status==="failed",fe=ae.status==="processing",q=ae.status==="skipped";return I.createElement(o.Z,{key:String(X),expanded:!0},I.createElement(d.Z,{onClick:()=>se(ae.id)},I.createElement(g.Z,{StepIconProps:{completed:z,error:Q,active:fe},StepIconComponent:ge,className:j.stepWrapper},I.createElement("div",{className:j.labelWrapper},I.createElement(p.Z,{variant:"subtitle2"},ae.name),q?I.createElement(p.Z,{variant:"caption"},"Skipped"):I.createElement(le,{step:ae})))))})))}),ee=({links:re=[]})=>re.length>0,Ie=({loadingText:re})=>{const ne=ue(),_=(0,Z.s0)(),se=(0,r.useRouteRef)(D._Z),j=(0,r.useRouteRef)(D.QQ),[ae,X]=(0,I.useState)(void 0),[z,Q]=(0,I.useState)(void 0),{taskId:fe}=(0,Z.UO)(),q=G(fe),k=q.completed,b=(0,I.useMemo)(()=>{var te,Re;return(Re=(te=q.task)==null?void 0:te.spec.steps.map($=>{var ie;return{...$,...(ie=q==null?void 0:q.steps)==null?void 0:ie[$.id]}}))!=null?Re:[]},[q]);(0,I.useEffect)(()=>{var Re;const te=b.find($=>["failed","processing"].includes($.status));if(k&&!te){Q((Re=b[b.length-1])==null?void 0:Re.id);return}Q(te==null?void 0:te.id)},[b,k]);const F=ae!=null?ae:z,N=(0,I.useMemo)(()=>{if(!F)return re||"Loading...";const te=q.stepLogs[F];return te!=null&&te.length?te.join(`
`):"Waiting for logs..."},[q.stepLogs,F,re]),W=q.completed===!0&&q.loading===!1&&!q.task,{output:Ee}=q,Ce=()=>{var $,ie,de;if(!q.task||!((ie=($=q.task)==null?void 0:$.spec.templateInfo)!=null&&ie.entityRef)){_(se());return}const te=q.task.spec.parameters,{name:Re}=(0,t.of)((de=q.task.spec.templateInfo)==null?void 0:de.entityRef);_(`${j({templateName:Re})}?${P().stringify({formData:JSON.stringify(te)})}`)};return I.createElement(n.Page,{themeId:"home"},I.createElement(n.Header,{pageTitleOverride:`Task ${fe}`,title:"Task Activity",subtitle:`Activity for task: ${fe}`}),I.createElement(n.Content,null,W?I.createElement(n.ErrorPage,{status:"404",statusMessage:"Task not found",additionalInfo:"No task found with this ID"}):I.createElement("div",null,I.createElement(c.Z,{container:!0},I.createElement(c.Z,{item:!0,xs:3},I.createElement(s.Z,null,I.createElement(Ae,{steps:b,currentStepId:F,onUserStepChange:X}),Ee&&ee(Ee)&&I.createElement(M.G,{output:Ee}),I.createElement(a.Z,{className:ne.button,onClick:Ce,disabled:!k,variant:"contained",color:"primary"},"Start Over"))),I.createElement(c.Z,{item:!0,xs:9},!F&&I.createElement(n.Progress,null),I.createElement("div",{style:{height:"80vh"}},I.createElement(n.LogViewer,{text:N})))))))}},86193:function(H,l,e){"use strict";e.d(l,{G:function(){return h}});var t=e(48023),n=e(53479),r=e(95544),i=e(52160),d=e(2784),s=e(79692),a=e(60905),c=e(90436),o=e(23192);const g=(0,s.Z)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}}),u=p=>{const{href:A,text:R,Icon:y,...E}=p,C=g();return d.createElement(a.Z,{container:!0,direction:"row",spacing:1},d.createElement(a.Z,{item:!0},d.createElement(c.Z,{component:"div",className:C.svgIcon},y?d.createElement(y,null):d.createElement(i.Z,null))),d.createElement(a.Z,{item:!0},d.createElement(o.Link,{to:A,...E},R||A)))};var f=e(36964);const h=({output:p})=>{const{links:A=[]}=p,R=(0,f.useApp)(),y=(0,f.useRouteRef)(n.entityRouteRef),E=C=>{var S;return C&&(S=R.getSystemIcon(C))!=null?S:i.Z};return d.createElement(r.Z,{px:3,pb:3},A.filter(({url:C,entityRef:S})=>C||S).map(({url:C,entityRef:S,title:T,icon:P})=>{if(S){const I=(0,t.of)(S,{defaultKind:"<unknown>",defaultNamespace:"<unknown>"}),Z=y(I);return{title:T,icon:P,url:Z}}return{title:T,icon:P,url:C}}).map(({url:C,title:S,icon:T},P)=>d.createElement(u,{key:`output-link-${P}`,href:C,text:S!=null?S:C,Icon:E(T),target:"_blank"})))}},60426:function(H,l,e){"use strict";e.d(l,{Y:function(){return t.Y}});var t=e(28635)},49230:function(H,l,e){"use strict";e.d(l,{p:function(){return E}});var t=e(2784),n=e(82108),r=e.n(n),i=e(23192),d=e(95544),s=e(90436),a=e(5806),c=e(21324),o=e(86619),g=e(19996),u=e(25505),f=e(38016),h=e(88013),p=e(53479),A=e(36964);const R=t.createElement(u.Z,{fontSize:"small"}),y=t.createElement(g.Z,{fontSize:"small"}),E=()=>{const C=(0,A.useApi)(A.alertApiRef),{error:S,loading:T,availableTypes:P,selectedTypes:I,setSelectedTypes:Z}=(0,p.useEntityTypeFilter)();return T?t.createElement(i.Progress,null):P?S?(C.post({message:"Failed to load entity types",severity:"error"}),null):t.createElement(d.Z,{pb:1,pt:1},t.createElement(s.Z,{variant:"button"},"Categories"),t.createElement(h.ZP,{multiple:!0,"aria-label":"Categories",options:P,value:I,onChange:(L,D)=>Z(D),renderOption:(L,{selected:D})=>t.createElement(a.Z,{control:t.createElement(c.Z,{icon:R,checkedIcon:y,checked:D}),label:r()(L)}),size:"small",popupIcon:t.createElement(f.Z,{"data-testid":"categories-picker-expand"}),renderInput:L=>t.createElement(o.Z,{...L,variant:"outlined"})})):null}},18858:function(H,l,e){"use strict";e.d(l,{p:function(){return r}});var t=e(2784),n=e(86619);const r=i=>{const{onChange:d,required:s,schema:{title:a="Name",description:c="Unique name of the component"},rawErrors:o,formData:g,uiSchema:{"ui:autofocus":u},idSchema:f,placeholder:h}=i;return t.createElement(n.Z,{id:f==null?void 0:f.$id,label:a,placeholder:h,helperText:c,required:s,value:g!=null?g:"",onChange:({target:{value:p}})=>d(p),margin:"normal",error:(o==null?void 0:o.length)>0&&!g,inputProps:{autoFocus:u}})}},53933:function(H,l,e){"use strict";e.d(l,{e:function(){return n}});var t=e(48023);const n=(r,i)=>{t.y$.isValidObjectName(r)||i.addError("must start and end with an alphanumeric character, and contain only alphanumeric characters, hyphens, underscores, and periods. Maximum length is 63 characters.")}},74573:function(H,l,e){"use strict";e.d(l,{E:function(){return c}});var t=e(36964),n=e(53479),r=e(86619),i=e(42494),d=e(88013),s=e(2784),a=e(64279);const c=o=>{var L,D,B,w;const{onChange:g,schema:{title:u="Entity",description:f="An entity from the catalog"},required:h,uiSchema:p,rawErrors:A,formData:R,idSchema:y}=o,E=(L=p["ui:options"])==null?void 0:L.allowedKinds,C=(D=p["ui:options"])==null?void 0:D.defaultKind,S=(0,t.useApi)(n.catalogApiRef),{value:T,loading:P}=(0,a.default)(()=>S.getEntities(E?{filter:{kind:E}}:void 0)),I=T==null?void 0:T.items.map(V=>(0,n.humanizeEntityRef)(V,{defaultKind:C})),Z=(0,s.useCallback)((V,G)=>{g(G||"")},[g]);return(0,s.useEffect)(()=>{(I==null?void 0:I.length)===1&&g(I[0])},[I,g]),s.createElement(i.Z,{margin:"normal",required:h,error:(A==null?void 0:A.length)>0&&!R},s.createElement(d.ZP,{disabled:(I==null?void 0:I.length)===1,id:y==null?void 0:y.$id,value:R||"",loading:P,onChange:Z,options:I||[],autoSelect:!0,freeSolo:(w=(B=p["ui:options"])==null?void 0:B.allowArbitraryValues)!=null?w:!0,renderInput:V=>s.createElement(r.Z,{...V,label:u,margin:"normal",helperText:f,variant:"outlined",required:h,InputProps:V.InputProps})}))}},63373:function(H,l,e){"use strict";e.d(l,{I:function(){return g}});var t=e(2784),n=e(64279),r=e(62155),i=e(48023),d=e(36964),s=e(53479),a=e(42494),c=e(86619),o=e(88013);const g=u=>{var L;const{formData:f,onChange:h,uiSchema:p}=u,A=(0,d.useApi)(s.catalogApiRef),[R,y]=(0,t.useState)(""),[E,C]=(0,t.useState)(!1),S=(0,i.In)().isValidTag,T=(L=p["ui:options"])==null?void 0:L.kinds,{loading:P,value:I}=(0,n.default)(async()=>{const D={fields:["metadata.tags"]};T&&(D.filter={kind:T});const B=await A.getEntities(D);return[...new Set(B.items.flatMap(w=>{var V;return(V=w.metadata)==null?void 0:V.tags}).filter(Boolean))].sort()}),Z=(D,B)=>{let w=!1,V=!1;const G=f||[];if((B==null?void 0:B.length)&&G.length<B.length){const M=B[B.length-1]=B[B.length-1].toLocaleLowerCase("en-US").trim();w=!S(M),V=G.indexOf(M)!==-1}C(w),y(w?R:""),!w&&!V&&h(B||[])};return(0,r.Z)(()=>h(f||[])),t.createElement(a.Z,{margin:"normal"},t.createElement(o.ZP,{multiple:!0,freeSolo:!0,filterSelectedOptions:!0,onChange:Z,value:f||[],inputValue:R,loading:P,options:I||[],ChipProps:{size:"small"},renderInput:D=>t.createElement(c.Z,{...D,label:"Tags",onChange:B=>y(B.target.value),error:E,helperText:"Add any relevant tags, hit 'Enter' to add new tags. Valid format: [a-z0-9+#] separated by [-], at most 63 characters"})}))}},72255:function(H,l,e){"use strict";e.d(l,{X:function(){return o}});var t=e(48023),n=e(36964),r=e(53479),i=e(86619),d=e(42494),s=e(88013),a=e(2784),c=e(64279);const o=u=>{var D,B;const{onChange:f,schema:{title:h="Entity",description:p="An entity from the catalog"},required:A,uiSchema:R,rawErrors:y,formData:E,idSchema:C}=u,S=(D=R["ui:options"])==null?void 0:D.allowedKinds,T=(B=R["ui:options"])==null?void 0:B.defaultKind,{ownedEntities:P,loading:I}=g(S),Z=P==null?void 0:P.items.map(w=>(0,r.humanizeEntityRef)(w,{defaultKind:T})).filter(w=>w),L=(w,V)=>{f(V||"")};return a.createElement(d.Z,{margin:"normal",required:A,error:(y==null?void 0:y.length)>0&&!E},a.createElement(s.ZP,{id:C==null?void 0:C.$id,value:E||"",loading:I,onChange:L,options:Z||[],autoSelect:!0,freeSolo:!0,renderInput:w=>a.createElement(i.Z,{...w,label:h,margin:"normal",helperText:p,variant:"outlined",required:A,InputProps:w.InputProps})}))};function g(u){const f=(0,n.useApi)(n.identityApiRef),h=(0,n.useApi)(r.catalogApiRef),{loading:p,value:A}=(0,c.default)(async()=>{const E=(await f.getBackstageIdentity()).ownershipEntityRefs;return await h.getEntities(u?{filter:{kind:u,[`relations.${t.S4}`]:E||[]}}:{filter:{[`relations.${t.S4}`]:E||[]}})},[]),R=(0,a.useMemo)(()=>A,[A]);return(0,a.useMemo)(()=>({loading:p,ownedEntities:R}),[p,R])}},58708:function(H,l,e){"use strict";e.d(l,{D:function(){return r}});var t=e(2784),n=e(74573);const r=i=>{var g;const{schema:{title:d="Owner",description:s="The owner of the component"},uiSchema:a,...c}=i,o={...a,"ui:options":{allowedKinds:((g=a["ui:options"])==null?void 0:g.allowedKinds)||["Group","User"],defaultKind:"Group"}};return t.createElement(n.E,{...c,schema:{title:d,description:s},uiSchema:o})}},63396:function(H,l,e){"use strict";e.d(l,{O:function(){return T}});var t=e(36964),n=e(36356),r=e(2784),i=e(42494),d=e(74828),s=e(29611),a=e(56939),c=e(23192);const o=P=>{const{allowedOwners:I=[],rawErrors:Z,state:L,onChange:D}=P,B=I?I.map(G=>({label:G,value:G})):[{label:"Loading...",value:"loading"}],{owner:w,repoName:V}=L;return r.createElement(r.Fragment,null,r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!w},I!=null&&I.length?r.createElement(c.Select,{native:!0,label:"Owner Available",onChange:G=>D({owner:String(Array.isArray(G)?G[0]:G)}),disabled:I.length===1,selected:w,items:B}):r.createElement(r.Fragment,null,r.createElement(a.Z,{htmlFor:"ownerInput"},"Owner"),r.createElement(s.Z,{id:"ownerInput",onChange:G=>D({owner:G.target.value}),value:w})),r.createElement(d.Z,null,"The organization, user or project that this repo will belong to")),r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!V},r.createElement(a.Z,{htmlFor:"repoNameInput"},"Repository"),r.createElement(s.Z,{id:"repoNameInput",onChange:G=>D({repoName:G.target.value}),value:V}),r.createElement(d.Z,null,"The name of the repository")))},g=P=>{const{allowedOwners:I=[],rawErrors:Z,state:L,onChange:D}=P,B=I?I.map(G=>({label:G,value:G})):[{label:"Loading...",value:"loading"}],{owner:w,repoName:V}=L;return r.createElement(r.Fragment,null,r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!w},I!=null&&I.length?r.createElement(c.Select,{native:!0,label:"Owner Available",onChange:G=>D({owner:String(Array.isArray(G)?G[0]:G)}),disabled:I.length===1,selected:w,items:B}):r.createElement(r.Fragment,null,r.createElement(a.Z,{htmlFor:"ownerInput"},"Owner"),r.createElement(s.Z,{id:"ownerInput",onChange:G=>D({owner:G.target.value}),value:w})),r.createElement(d.Z,null,"The organization, groups, subgroups, user, project (also known as namespaces in gitlab), that this repo will belong to")),r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!V},r.createElement(a.Z,{htmlFor:"repoNameInput"},"Repository"),r.createElement(s.Z,{id:"repoNameInput",onChange:G=>D({repoName:G.target.value}),value:V}),r.createElement(d.Z,null,"The name of the repository")))},u=P=>{const{rawErrors:I,state:Z,onChange:L}=P,{organization:D,repoName:B,owner:w}=Z;return r.createElement(r.Fragment,null,r.createElement(i.Z,{margin:"normal",required:!0,error:(I==null?void 0:I.length)>0&&!D},r.createElement(a.Z,{htmlFor:"orgInput"},"Organization"),r.createElement(s.Z,{id:"orgInput",onChange:V=>L({organization:V.target.value}),value:D}),r.createElement(d.Z,null,"The organization that this repo will belong to")),r.createElement(i.Z,{margin:"normal",required:!0,error:(I==null?void 0:I.length)>0&&!w},r.createElement(a.Z,{htmlFor:"ownerInput"},"Owner"),r.createElement(s.Z,{id:"ownerInput",onChange:V=>L({owner:V.target.value}),value:w}),r.createElement(d.Z,null,"The Owner that this repo will belong to")),r.createElement(i.Z,{margin:"normal",required:!0,error:(I==null?void 0:I.length)>0&&!B},r.createElement(a.Z,{htmlFor:"repoNameInput"},"Repository"),r.createElement(s.Z,{id:"repoNameInput",onChange:V=>L({repoName:V.target.value}),value:B}),r.createElement(d.Z,null,"The name of the repository")))},f=P=>{const{onChange:I,rawErrors:Z,state:L}=P,{host:D,workspace:B,project:w,repoName:V}=L;return r.createElement(r.Fragment,null,D==="bitbucket.org"&&r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!B},r.createElement(a.Z,{htmlFor:"workspaceInput"},"Workspace"),r.createElement(s.Z,{id:"workspaceInput",onChange:G=>I({workspace:G.target.value}),value:B}),r.createElement(d.Z,null,"The Organization that this repo will belong to")),r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!w},r.createElement(a.Z,{htmlFor:"projectInput"},"Project"),r.createElement(s.Z,{id:"projectInput",onChange:G=>I({project:G.target.value}),value:w}),r.createElement(d.Z,null,"The Project that this repo will belong to")),r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!V},r.createElement(a.Z,{htmlFor:"repoNameInput"},"Repository"),r.createElement(s.Z,{id:"repoNameInput",onChange:G=>I({repoName:G.target.value}),value:V}),r.createElement(d.Z,null,"The name of the repository")))},h=P=>{const{onChange:I,rawErrors:Z,state:L}=P,{workspace:D,repoName:B,owner:w}=L;return r.createElement(r.Fragment,null,r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!D},r.createElement(a.Z,{htmlFor:"ownerInput"},"Owner"),r.createElement(s.Z,{id:"ownerInput",onChange:V=>I({owner:V.target.value}),value:w}),r.createElement(d.Z,null,"The owner of the project")),r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!D},r.createElement(a.Z,{htmlFor:"parentInput"},"Parent"),r.createElement(s.Z,{id:"parentInput",onChange:V=>I({workspace:V.target.value}),value:D}),r.createElement(d.Z,null,"The project parent that the repo will belong to")),r.createElement(i.Z,{margin:"normal",required:!0,error:(Z==null?void 0:Z.length)>0&&!B},r.createElement(a.Z,{htmlFor:"repoNameInput"},"Repository"),r.createElement(s.Z,{id:"repoNameInput",onChange:V=>I({repoName:V.target.value}),value:B}),r.createElement(d.Z,null,"The name of the repository")))};var p=e(33651),A=e(64279);const R=P=>{const{host:I,hosts:Z,onChange:L,rawErrors:D}=P,B=(0,t.useApi)(p.l),{value:{integrations:w}={integrations:[]},loading:V}=(0,A.default)(async()=>await B.getIntegrationsList({allowedHosts:Z!=null?Z:[]}));(0,r.useEffect)(()=>{I||(Z!=null&&Z.length?L(Z[0]):w!=null&&w.length&&L(w[0].host))},[Z,I,L,w]);const G=w?w.filter(M=>Z!=null&&Z.length?Z==null?void 0:Z.includes(M.host):!0).map(M=>({label:M.title,value:M.host})):[{label:"Loading...",value:"loading"}];return V?r.createElement(c.Progress,null):r.createElement(r.Fragment,null,r.createElement(i.Z,{margin:"normal",required:!0,error:(D==null?void 0:D.length)>0&&!I},r.createElement(c.Select,{native:!0,disabled:(Z==null?void 0:Z.length)===1,label:"Host",onChange:M=>L(String(Array.isArray(M)?M[0]:M)),selected:I,items:G,"data-testid":"host-select"}),r.createElement(d.Z,null,"The host where the repository will be created")))};function y(P){if(!P.host)return;const I=new URLSearchParams;return P.owner&&I.set("owner",P.owner),P.repoName&&I.set("repo",P.repoName),P.organization&&I.set("organization",P.organization),P.workspace&&I.set("workspace",P.workspace),P.project&&I.set("project",P.project),`${P.host}?${I.toString()}`}function E(P){let I="",Z="",L="",D="",B="",w="";try{if(P){const V=new URL(`https://${P}`);I=V.host,Z=V.searchParams.get("owner")||"",L=V.searchParams.get("repo")||"",D=V.searchParams.get("organization")||"",B=V.searchParams.get("workspace")||"",w=V.searchParams.get("project")||""}}catch{}return{host:I,owner:Z,repoName:L,organization:D,workspace:B,project:w}}var C=e(48760),S=e(59215);const T=P=>{var ge,Ae;const{uiSchema:I,onChange:Z,rawErrors:L,formData:D}=P,[B,w]=(0,r.useState)(E(D)),V=(0,t.useApi)(n.q3),G=(0,t.useApi)(n.Om),{setSecrets:M}=(0,S.T)(),ce=(0,r.useMemo)(()=>{var ee,Ie;return(Ie=(ee=I==null?void 0:I["ui:options"])==null?void 0:ee.allowedHosts)!=null?Ie:[]},[I]),ue=(0,r.useMemo)(()=>{var ee,Ie;return(Ie=(ee=I==null?void 0:I["ui:options"])==null?void 0:ee.allowedOwners)!=null?Ie:[]},[I]);(0,r.useEffect)(()=>{Z(y(B))},[B,Z]),(0,r.useEffect)(()=>{ue.length===1&&w(ee=>({...ee,owner:ue[0]}))},[w,ue]);const le=(0,r.useCallback)(ee=>{w(Ie=>({...Ie,...ee}))},[w]);(0,C.Z)(async()=>{var se;const{requestUserCredentials:ee}=(se=I==null?void 0:I["ui:options"])!=null?se:{};if(!ee||!(B.host&&B.owner&&B.repoName))return;const[Ie,re,ne]=[B.host,B.owner,B.repoName].map(encodeURIComponent),{token:_}=await G.getCredentials({url:`https://${Ie}/${re}/${ne}`,additionalScope:{repoWrite:!0,customScopes:ee.additionalScopes}});M({[ee.secretsKey]:_})},500,[B,I]);const me=(Ae=B.host&&((ge=V.byHost(B.host))==null?void 0:ge.type))!=null?Ae:null;return r.createElement(r.Fragment,null,r.createElement(R,{host:B.host,hosts:ce,onChange:ee=>w(Ie=>({...Ie,host:ee})),rawErrors:L}),me==="github"&&r.createElement(o,{allowedOwners:ue,rawErrors:L,state:B,onChange:le}),me==="gitlab"&&r.createElement(g,{allowedOwners:ue,rawErrors:L,state:B,onChange:le}),me==="bitbucket"&&r.createElement(f,{rawErrors:L,state:B,onChange:le}),me==="azure"&&r.createElement(u,{rawErrors:L,state:B,onChange:le}),me==="gerrit"&&r.createElement(h,{rawErrors:L,state:B,onChange:le}))}},50691:function(H,l,e){"use strict";e.d(l,{h:function(){return n}});var t=e(36356);const n=(r,i,d)=>{var s;try{const{host:a,searchParams:c}=new URL(`https://${r}`),o=d.apiHolder.get(t.q3);a?(((s=o==null?void 0:o.byHost(a))==null?void 0:s.type)==="bitbucket"?(a==="bitbucket.org"&&!c.get("workspace")&&i.addError("Incomplete repository location provided, workspace not provided"),c.get("project")||i.addError("Incomplete repository location provided, project not provided")):c.get("owner")||i.addError("Incomplete repository location provided, owner not provided"),c.get("repo")||i.addError("Incomplete repository location provided, repo not provided")):i.addError("Incomplete repository location provided, host not provided")}catch{i.addError("Unable to parse the Repository URL")}}},37618:function(H,l,e){"use strict";e.d(l,{A3:function(){return r},E0:function(){return n},TD:function(){return i}});var t=e(2784);const n=(0,t.createContext)(void 0),r=({children:d})=>{const[s,a]=(0,t.useState)({});return t.createElement(n.Provider,{value:{secrets:s,setSecrets:a}},d)},i=()=>{const d=(0,t.useContext)(n);if(!d)throw new Error("useTemplateSecrets must be used within a SecretsContextProvider");const{setSecrets:s}=d;return{setSecrets:(0,t.useCallback)(c=>{s(o=>({...o,...c}))},[s])}}},59215:function(H,l,e){"use strict";e.d(l,{T:function(){return t.TD}});var t=e(37618)},27542:function(H,l,e){"use strict";e.d(l,{zc:function(){return g},rL:function(){return f},n0:function(){return u},mx:function(){return p},eP:function(){return h}});var t=e(36964),n=e(74573),r=e(18858),i=e(53933),d=e(63373),s=e(58708),a=e(63396),c=e(50691),o=e(72255);const g=[{component:n.E,name:"EntityPicker"},{component:r.p,name:"EntityNamePicker",validation:i.e},{component:d.I,name:"EntityTagsPicker"},{component:a.O,name:"RepoUrlPicker",validation:c.h},{component:s.D,name:"OwnerPicker"},{component:o.X,name:"OwnedEntityPicker"}],u="scaffolder.extensions.wrapper.v1",f="scaffolder.extensions.field.v1";function h(A){return{expose(){const R=()=>null;return(0,t.attachComponentData)(R,f,A),R}}}const p=()=>null;(0,t.attachComponentData)(p,u,!0)},48326:function(H,l,e){"use strict";e.d(l,{Jd:function(){return n},QQ:function(){return i},Wp:function(){return c},_H:function(){return a},_Z:function(){return r},gV:function(){return d},p3:function(){return s}});var t=e(36964);const n=(0,t.createExternalRouteRef)({id:"register-component",optional:!0}),r=(0,t.createRouteRef)({id:"scaffolder"}),i=(0,t.createSubRouteRef)({id:"scaffolder/selected-template",parent:r,path:"/templates/:templateName"}),d=(0,t.createSubRouteRef)({id:"scaffolder/task",parent:r,path:"/tasks/:taskId"}),s=(0,t.createSubRouteRef)({id:"scaffolder/list-tasks",parent:r,path:"/tasks"}),a=(0,t.createSubRouteRef)({id:"scaffolder/actions",parent:r,path:"/actions"}),c=(0,t.createSubRouteRef)({id:"scaffolder/edit",parent:r,path:"/edit"})},73624:function(H,l,e){"use strict";e.d(l,{FA:function(){return a},Nd:function(){return A},gK:function(){return n},Rx:function(){return f},FJ:function(){return h}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.search.queryservice"});class r{constructor(y){this.mockedResults=y}query(){return Promise.resolve(this.mockedResults||{results:[]})}}var i=e(2784),d=e(79692);const s=(0,d.Z)(()=>({highlight:{}}),{name:"BackstageHighlightedSearchResultText"}),a=({text:R,preTag:y,postTag:E})=>{const C=s(),S=(0,i.useMemo)(()=>R.split(new RegExp(`(${y}.+?${E})`)),[E,y,R]);return i.createElement(i.Fragment,null,S.map((T,P)=>T.includes(y)?i.createElement("mark",{className:C.highlight,key:P},T.replace(new RegExp(`${y}|${E}`,"g"),"")):T))};var c=e(76241),o=e(64279),g=e(1849);const u=(0,c.CT)("search-context"),f=()=>{const R=(0,i.useContext)(u);if(!R)throw new Error("useSearch must be used within a SearchContextProvider");const y=R.atVersion(1);if(!y)throw new Error("No SearchContext v1 found");return y},h=()=>(0,i.useContext)(u)!==void 0,p={term:"",pageCursor:void 0,filters:{},types:[]},A=R=>{var ge,Ae,ee,Ie;const{initialState:y=p,children:E}=R,C=(0,t.useApi)(n),[S,T]=(0,i.useState)(y.pageCursor),[P,I]=(0,i.useState)(y.filters),[Z,L]=(0,i.useState)(y.term),[D,B]=(0,i.useState)(y.types),w=(0,g.Z)(Z),V=(0,o.default)(()=>C.query({term:Z,filters:P,pageCursor:S,types:D}),[Z,P,D,S]),G=!V.loading&&!V.error&&((ge=V.value)==null?void 0:ge.nextPageCursor),M=!V.loading&&!V.error&&((Ae=V.value)==null?void 0:Ae.previousPageCursor),ce=(0,i.useCallback)(()=>{var re;T((re=V.value)==null?void 0:re.nextPageCursor)},[(ee=V.value)==null?void 0:ee.nextPageCursor]),ue=(0,i.useCallback)(()=>{var re;T((re=V.value)==null?void 0:re.previousPageCursor)},[(Ie=V.value)==null?void 0:Ie.previousPageCursor]);(0,i.useEffect)(()=>{Z&&w&&Z!==w&&T(void 0)},[Z,w,y.pageCursor]);const le={result:V,filters:P,setFilters:I,term:Z,setTerm:L,types:D,setTypes:B,pageCursor:S,setPageCursor:T,fetchNextPage:G?ce:void 0,fetchPreviousPage:M?ue:void 0},me=(0,c.EI)({1:le});return i.createElement(t.AnalyticsContext,{attributes:{searchTypes:D.sort().join(",")}},i.createElement(u.Provider,{value:me,children:E}))}},19941:function(H,l,e){"use strict";e.r(l),e.d(l,{DefaultResultListItem:function(){return o}});var t=e(2784),n=e(73624),r=e(38402),i=e(86136),d=e(49378),s=e(95544),a=e(85256),c=e(23192);const o=({result:g,highlight:u,icon:f,secondaryAction:h,lineClamp:p=5})=>t.createElement(c.Link,{to:g.location},t.createElement(r.Z,{alignItems:"center"},f&&t.createElement(i.Z,null,f),t.createElement(d.Z,{primaryTypographyProps:{variant:"h6"},primary:u!=null&&u.fields.title?t.createElement(n.FA,{text:u.fields.title,preTag:u.preTag,postTag:u.postTag}):g.title,secondary:t.createElement("span",{style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:p,overflow:"hidden"}},u!=null&&u.fields.text?t.createElement(n.FA,{text:u.fields.text,preTag:u.preTag,postTag:u.postTag}):g.text)}),h&&t.createElement(s.Z,{alignItems:"flex-end"},h)),t.createElement(a.Z,null))},1795:function(H,l,e){"use strict";e.r(l),e.d(l,{SearchBar:function(){return f},SearchBarBase:function(){return u}});var t=e(2784),n=e(48760),r=e(36964),i=e(50581),d=e(61837),s=e(74603),a=e(21853),c=e(33375),o=e(73624);const g=({children:h})=>{const p=(0,r.useAnalytics)(),{term:A}=(0,o.Rx)();return(0,t.useEffect)(()=>{A&&p.captureEvent("search",A)},[p,A]),t.createElement(t.Fragment,null,h)},u=({onChange:h,onKeyDown:p,onSubmit:A,debounceTime:R=200,clearButton:y=!0,fullWidth:E=!0,value:C,inputProps:S={},endAdornment:T,...P})=>{const I=(0,r.useApi)(r.configApiRef),[Z,L]=(0,t.useState)(C),D=(0,o.FJ)();(0,t.useEffect)(()=>{L(le=>le!==C?C:le)},[C]),(0,n.Z)(()=>h(Z),R,[Z]);const B=(0,t.useCallback)(le=>{L(le.target.value)},[L]),w=(0,t.useCallback)(le=>{p&&p(le),A&&le.key==="Enter"&&A()},[p,A]),V=(0,t.useCallback)(()=>{h("")},[h]),G=`Search in ${I.getOptionalString("app.title")||"Backstage"}`,M=t.createElement(i.Z,{position:"start"},t.createElement(d.Z,{"aria-label":"Query",disabled:!0},t.createElement(a.Z,null))),ce=t.createElement(i.Z,{position:"end"},t.createElement(d.Z,{"aria-label":"Clear",onClick:V},t.createElement(c.Z,null))),ue=t.createElement(g,null,t.createElement(s.Z,{"data-testid":"search-bar-next",value:Z,placeholder:G,startAdornment:M,endAdornment:y?ce:T,inputProps:{"aria-label":"Search",...S},fullWidth:E,onChange:B,onKeyDown:w,...P}));return D?ue:t.createElement(o.Nd,null,ue)},f=({onChange:h,...p})=>{const{term:A,setTerm:R}=(0,o.Rx)(),y=(0,t.useCallback)(E=>{h?h(E):R(E)},[h,R]);return t.createElement(u,{value:A,onChange:y,...p})}},73032:function(H,l,e){"use strict";e.d(l,{sw:function(){return I},zN:function(){return D},O4:function(){return B}});var t=e(2784),n=e(60364),r=e(79249),i=e(27556),d=e(38724),s=e(60905),a=e(85256),c=e(11776),o=e(49429),g=e(8629),u=e(69001),f=e(79692),h=e(1795),p=e(19941),A=e(39332),R=e(73624),y=e(8542),E=e(36964),C=e(23192),S=e(35723);const T=(0,f.Z)(w=>({container:{borderRadius:30,display:"flex",height:"2.4em"},input:{flex:1},paperFullWidth:{height:"calc(100% - 128px)"},dialogActionsContainer:{padding:w.spacing(1,3)},viewResultsLink:{verticalAlign:"0.5em"}})),P=({toggleModal:w})=>{const V=(0,E.useRouteRef)(S._Z),G=T(),{term:M}=(0,R.Rx)(),{focusContent:ce}=(0,C.useContent)(),{transitions:ue}=(0,n.Z)(),le=()=>{w(),setTimeout(ce,ue.duration.leavingScreen)},me=()=>{le()};return t.createElement(t.Fragment,null,t.createElement(r.Z,null,t.createElement(i.Z,{className:G.container},t.createElement(h.SearchBar,{className:G.input}))),t.createElement(d.Z,null,t.createElement(s.Z,{container:!0,direction:"row-reverse",justifyContent:"flex-start",alignItems:"center"},t.createElement(s.Z,{item:!0},t.createElement(C.Link,{onClick:()=>{w(),setTimeout(ce,ue.duration.leavingScreen)},to:`${V()}?query=${M}`},t.createElement("span",{className:G.viewResultsLink},"View Full Results"),t.createElement(u.Z,{color:"primary"})))),t.createElement(a.Z,null),t.createElement(A.SearchResult,null,({results:ge})=>t.createElement(c.Z,null,ge.map(({document:Ae,highlight:ee})=>t.createElement("div",{role:"button",tabIndex:0,key:`${Ae.location}-btn`,onClick:le,onKeyPress:me},t.createElement(p.DefaultResultListItem,{key:Ae.location,result:Ae,highlight:ee})))))),t.createElement(o.Z,{className:G.dialogActionsContainer},t.createElement(s.Z,{container:!0,direction:"row"},t.createElement(s.Z,{item:!0,xs:12},t.createElement(y.G,null)))))},I=({open:w=!0,hidden:V,toggleModal:G,children:M})=>{var ue;const ce=T();return t.createElement(g.Z,{classes:{paperFullWidth:ce.paperFullWidth},onClose:G,"aria-labelledby":"search-modal-title",fullWidth:!0,maxWidth:"lg",open:w,hidden:V},w&&t.createElement(R.Nd,null,(ue=M&&M({toggleModal:G}))!=null?ue:t.createElement(P,{toggleModal:G})))};var Z=e(76241);const L=(0,Z.CT)("search-modal-context"),D=({children:w,showInitially:V})=>{const G=B(V),M=(0,Z.EI)({1:G});return t.createElement(L.Provider,{value:M},w)};function B(w=!1){const V=(0,t.useContext)(L),G=V==null?void 0:V.atVersion(1),[M,ce]=(0,t.useState)({hidden:!w,open:w}),ue=(0,t.useCallback)(()=>ce(me=>({open:!0,hidden:!me.hidden})),[]),le=(0,t.useCallback)(me=>ce(ge=>({open:ge.open||me,hidden:!me})),[]);return G!=null&&G.state?G:{state:M,toggleModal:ue,setOpen:le}}},3992:function(H,l,e){"use strict";e.r(l),e.d(l,{SearchPage:function(){return X}});var t=e(2784),n=e(1849),r=e(19126),i=e.n(r),d=e(10289),s=e(73624),a=e(60905),c=e(48760),o=e(79692),g=e(27556),u=e(74603),f=e(61837),h=e(21853),p=e(33375);const A=(0,o.Z)(()=>({root:{display:"flex",alignItems:"center"},input:{flex:1}})),R=({searchQuery:z,handleSearch:Q,handleClearSearchBar:fe})=>{const q=A();return t.createElement(g.Z,{component:"form",onSubmit:k=>Q(k),className:q.root},t.createElement(f.Z,{disabled:!0,type:"submit","aria-label":"search"},t.createElement(h.Z,null)),t.createElement(u.Z,{className:q.input,placeholder:"Search in Backstage",value:z,onChange:k=>Q(k),inputProps:{"aria-label":"search backstage"}}),t.createElement(f.Z,{"aria-label":"search",onClick:()=>fe()},t.createElement(p.Z,null)))};var y=e(85256),E=e(90436),C=e(99688),S=e(64279),T=e(53479),P=e(36444);const I=(0,o.Z)(z=>({filters:{width:"250px",display:"flex"},icon:{margin:z.spacing(-1,0,0,0)}})),Z=({numberOfSelectedFilters:z,handleToggleFilters:Q})=>{const fe=I();return t.createElement("div",{className:fe.filters},t.createElement(f.Z,{className:fe.icon,"aria-label":"settings",onClick:Q},t.createElement(P.Z,null)),t.createElement(E.Z,{variant:"h6"},"Filters (",z||0,")"))};var L=e(94339),D=e(32552),B=e(77277),w=e(24579),V=e(73698),G=e(12231),M=e(11776),ce=e(38402),ue=e(21324),le=e(49378);const me=(0,o.Z)(z=>({filters:{background:"transparent",boxShadow:"0px 0px 0px 0px"},checkbox:{padding:z.spacing(0,1,0,1)},dropdown:{width:"100%"}})),ge=({filters:z,filterOptions:Q,resetFilters:fe,updateSelected:q,updateChecked:k})=>{const b=me();return t.createElement(L.Z,{className:b.filters},t.createElement(D.Z,{title:t.createElement(E.Z,{variant:"h6"},"Filters"),action:t.createElement(B.Z,{color:"primary",onClick:()=>fe()},"CLEAR ALL")}),t.createElement(y.Z,null),Q.kind.length===0&&Q.lifecycle.length===0&&t.createElement(w.Z,null,t.createElement(E.Z,{variant:"subtitle2"},"Filters cannot be applied to available results")),Q.kind.length>0&&t.createElement(w.Z,null,t.createElement(E.Z,{variant:"subtitle2"},"Kind"),t.createElement(V.Z,{id:"outlined-select",onChange:F=>{var N;return q((N=F==null?void 0:F.target)==null?void 0:N.value)},variant:"outlined",className:b.dropdown,value:z.selected},Q.kind.map(F=>t.createElement(G.Z,{selected:F==="",dense:!0,key:F,value:F},F)))),Q.lifecycle.length>0&&t.createElement(w.Z,null,t.createElement(E.Z,{variant:"subtitle2"},"Lifecycle"),t.createElement(M.Z,{disablePadding:!0,dense:!0},Q.lifecycle.map(F=>t.createElement(ce.Z,{key:F,dense:!0,button:!0,onClick:()=>k(F)},t.createElement(ue.Z,{edge:"start",disableRipple:!0,className:b.checkbox,color:"primary",checked:z.checked.includes(F),tabIndex:-1,value:F,name:F}),t.createElement(le.Z,{id:F,primary:F}))))))};var Ae=e(48023),ee=e(23192),Ie=e(36964);const re=(0,o.Z)(z=>({searchQuery:{color:z.palette.text.primary,background:z.palette.background.default,borderRadius:"10%"},tableHeader:{margin:z.spacing(1,0,0,0),display:"flex"},divider:{width:"1px",margin:z.spacing(0,2),padding:z.spacing(2,0)}})),ne=[{title:"Name",field:"name",highlight:!0,render:z=>t.createElement(ee.Link,{to:z.url||""},z.name)},{title:"Description",field:"description"},{title:"Owner",field:"owner"},{title:"Kind",field:"kind"},{title:"LifeCycle",field:"lifecycle"}],_=({searchQuery:z,numberOfSelectedFilters:Q,numberOfResults:fe,handleToggleFilters:q})=>{const k=re();return t.createElement("div",{className:k.tableHeader},t.createElement(Z,{numberOfSelectedFilters:Q,handleToggleFilters:q}),t.createElement(y.Z,{className:k.divider,orientation:"vertical"}),t.createElement(a.Z,{item:!0,xs:12},z?t.createElement(E.Z,{variant:"h6"},`${fe} `,fe>1?"results for ":"result for ",t.createElement("span",{className:k.searchQuery},'"',z,'"')," "):t.createElement(E.Z,{variant:"h6"},`${fe} results`)))},se=({searchQuery:z})=>{const Q=(0,Ie.useApi)(T.catalogApiRef),[fe,q]=(0,t.useState)(!1),[k,b]=(0,t.useState)({selected:"",checked:[]}),[F,N]=(0,t.useState)([]),{loading:W,error:Ee,value:Ce}=(0,S.default)(async()=>(await Q.getEntities()).items.map(Pe=>{var He,We,Ge,Ve,ut;return{name:Pe.metadata.name,description:Pe.metadata.description,owner:typeof((He=Pe.spec)==null?void 0:He.owner)=="string"?(We=Pe.spec)==null?void 0:We.owner:void 0,kind:Pe.kind,lifecycle:typeof((Ge=Pe.spec)==null?void 0:Ge.lifecycle)=="string"?(Ve=Pe.spec)==null?void 0:Ve.lifecycle:void 0,url:`/catalog/${((ut=Pe.metadata.namespace)==null?void 0:ut.toLocaleLowerCase("en-US"))||Ae.zG}/${Pe.kind.toLocaleLowerCase("en-US")}/${Pe.metadata.name}`}}),[]);if((0,t.useEffect)(()=>{if(Ce){let de=Ce;k.selected!==""&&(de=Ce.filter(Pe=>k.selected.includes(Pe.kind))),k.checked.length>0&&(de=de.filter(Pe=>Pe.lifecycle&&k.checked.includes(Pe.lifecycle))),z&&(de=de.filter(Pe=>{var He,We,Ge;return((He=Pe.name)==null?void 0:He.toLocaleLowerCase("en-US").includes(z))||((We=Pe.name)==null?void 0:We.toLocaleLowerCase("en-US").includes(z.split(" ").join("-")))||((Ge=Pe.description)==null?void 0:Ge.toLocaleLowerCase("en-US").includes(z))})),N(de)}},[k,z,Ce]),W)return t.createElement(ee.Progress,null);if(Ee)return t.createElement(C.Z,{severity:"error"},"Error encountered while fetching search results. ",Ee.toString());if(!Ce||Ce.length===0)return t.createElement(ee.EmptyState,{missing:"data",title:"Sorry, no results were found"});const te=()=>{b({selected:"",checked:[]})},Re=de=>{b(Pe=>({...Pe,selected:de}))},$=de=>{if(k.checked.includes(de)){b(Pe=>({...Pe,checked:Pe.checked.filter(He=>He!==de)}));return}b(Pe=>({...Pe,checked:[...Pe.checked,de]}))},ie=Ce.reduce((de,Pe)=>(Pe.kind&&de.kind.indexOf(Pe.kind)<0&&de.kind.push(Pe.kind),Pe.lifecycle&&de.lifecycle.indexOf(Pe.lifecycle)<0&&de.lifecycle.push(Pe.lifecycle),de),{kind:[],lifecycle:[]});return t.createElement(t.Fragment,null,t.createElement(a.Z,{container:!0},fe&&t.createElement(a.Z,{item:!0,xs:3},t.createElement(ge,{filters:k,filterOptions:ie,resetFilters:te,updateSelected:Re,updateChecked:$})),t.createElement(a.Z,{item:!0,xs:fe?9:12},t.createElement(ee.Table,{options:{paging:!0,pageSize:20,search:!1},data:F,columns:ne,title:t.createElement(_,{searchQuery:z,numberOfResults:F.length,numberOfSelectedFilters:(k.selected!==""?1:0)+k.checked.length,handleToggleFilters:()=>q(!fe)})}))))},j=()=>{const[z,Q]=(0,ee.useQueryParamState)("query"),[fe,q]=(0,t.useState)(z!=null?z:""),k=F=>{F.preventDefault(),q(F.target.value)};(0,t.useEffect)(()=>q(z!=null?z:""),[z]),(0,c.Z)(()=>{Q(fe)},200,[fe]);const b=()=>{q("")};return t.createElement(ee.Page,{themeId:"home"},t.createElement(ee.Header,{title:"Search"}),t.createElement(ee.Content,null,t.createElement(a.Z,{container:!0,direction:"row"},t.createElement(a.Z,{item:!0,xs:12},t.createElement(R,{handleSearch:k,handleClearSearchBar:b,searchQuery:fe})),t.createElement(a.Z,{item:!0,xs:12},t.createElement(se,{searchQuery:(z!=null?z:"").toLocaleLowerCase("en-US")})))))},ae=()=>{const z=(0,d.TH)(),{term:Q,setTerm:fe,types:q,setTypes:k,pageCursor:b,setPageCursor:F,filters:N,setFilters:W}=(0,s.Rx)(),Ee=(0,n.Z)(z.search);return(0,t.useEffect)(()=>{if(z.search===Ee)return;const Ce=i().parse(z.search.substring(1),{arrayLimit:0})||{};Ce.filters&&W(Ce.filters),Ce.query&&fe(Ce.query),Ce.pageCursor&&F(Ce.pageCursor),Ce.types&&k(Ce.types)},[Ee,z,fe,k,F,W]),(0,t.useEffect)(()=>{const Ce=i().stringify({query:Q,types:q,pageCursor:b,filters:N},{arrayFormat:"brackets"}),te=`${window.location.pathname}?${Ce}`;window.history.replaceState(null,document.title,te)},[Q,q,b,N]),null},X=()=>{const z=(0,d.pC)();return t.createElement(s.Nd,null,t.createElement(ae,null),z||t.createElement(j,null))}},39332:function(H,l,e){"use strict";e.r(l),e.d(l,{SearchResult:function(){return i}});var t=e(23192),n=e(2784),r=e(73624);const i=({children:d})=>{const{result:{loading:s,error:a,value:c}}=(0,r.Rx)();return s?n.createElement(t.Progress,null):a?n.createElement(t.ResponseErrorPanel,{title:"Error encountered while fetching search results",error:a}):c!=null&&c.results.length?n.createElement(n.Fragment,null,d({results:c.results})):n.createElement(t.EmptyState,{missing:"data",title:"Sorry, no results were found"})}},8542:function(H,l,e){"use strict";e.d(l,{G:function(){return c}});var t=e(79692),n=e(77277),r=e(35352),i=e(27742),d=e(2784),s=e(73624);const a=(0,t.Z)(o=>({root:{display:"flex",justifyContent:"space-between",gap:o.spacing(2),margin:o.spacing(2,0)}})),c=()=>{const{fetchNextPage:o,fetchPreviousPage:g}=(0,s.Rx)(),u=a();return!o&&!g?d.createElement(d.Fragment,null):d.createElement("nav",{"arial-label":"pagination navigation",className:u.root},d.createElement(n.Z,{"aria-label":"previous page",disabled:!g,onClick:g,startIcon:d.createElement(r.Z,null)},"Previous"),d.createElement(n.Z,{"aria-label":"next page",disabled:!o,onClick:o,endIcon:d.createElement(i.Z,null)},"Next"))}},35723:function(H,l,e){"use strict";e.d(l,{yu:function(){return y},qD:function(){return E},Z9:function(){return g},lt:function(){return p},YC:function(){return R},_Z:function(){return a},Zw:function(){return o}});var t=e(10179),n=e(19126),r=e.n(n);class i{constructor(S){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=S.discoveryApi,this.identityApi=S.identityApi}async query(S){const{token:T}=await this.identityApi.getCredentials(),P=r().stringify(S),I=`${await this.discoveryApi.getBaseUrl("search/query")}?${P}`,Z=await fetch(I,{headers:T?{Authorization:`Bearer ${T}`}:{}});if(!Z.ok)throw await t.VL.fromResponse(Z);return Z.json()}}var d=e(73624),s=e(36964);const a=(0,s.createRouteRef)({id:"search"}),c=(0,s.createRouteRef)({id:"search:next"}),o=(0,s.createPlugin)({id:"search",apis:[(0,s.createApiFactory)({api:d.gK,deps:{discoveryApi:s.discoveryApiRef,identityApi:s.identityApiRef},factory:({discoveryApi:C,identityApi:S})=>new i({discoveryApi:C,identityApi:S})})],routes:{root:a,nextRoot:c}}),g=o.provide((0,s.createRoutableExtension)({name:"SearchPage",component:()=>Promise.resolve().then(e.bind(e,3992)).then(C=>C.SearchPage),mountPoint:a})),u=o.provide((0,s.createRoutableExtension)({name:"SearchPageNext",component:()=>Promise.resolve().then(e.bind(e,3992)).then(C=>C.SearchPage),mountPoint:c})),f=o.provide((0,s.createComponentExtension)({name:"SearchBar",component:{lazy:()=>Promise.resolve().then(e.bind(e,1795)).then(C=>C.SearchBar)}})),h=o.provide((0,s.createComponentExtension)({name:"SearchBarNext",component:{lazy:()=>Promise.resolve().then(e.bind(e,1795)).then(C=>C.SearchBar)}})),p=o.provide((0,s.createComponentExtension)({name:"SearchResult",component:{lazy:()=>Promise.resolve().then(e.bind(e,39332)).then(C=>C.SearchResult)}})),A=o.provide((0,s.createComponentExtension)({name:"SearchResultNext",component:{lazy:()=>Promise.resolve().then(e.bind(e,39332)).then(C=>C.SearchResult)}})),R=o.provide((0,s.createComponentExtension)({name:"SidebarSearchModal",component:{lazy:()=>e.e(3825).then(e.bind(e,43825)).then(C=>C.SidebarSearchModal)}})),y=o.provide((0,s.createComponentExtension)({name:"DefaultResultListItem",component:{lazy:()=>Promise.resolve().then(e.bind(e,19941)).then(C=>C.DefaultResultListItem)}})),E=o.provide((0,s.createComponentExtension)({name:"HomePageSearchBar",component:{lazy:()=>e.e(6105).then(e.bind(e,46105)).then(C=>C.HomePageSearchBar)}}))},70922:function(H,l,e){"use strict";e.d(l,{Fm:function(){return a},Ok:function(){return s}});var t={};function n(){const c={"24h":new Array(24).fill(0).map(()=>[0,Math.floor(Math.random()*100)])};return{...mockData,userCount:Math.floor(Math.random()*1e3),stats:c}}function r(c){return new Array(c).fill(0).map(n)}class i{fetchIssues(){return new Promise(o=>{setTimeout(()=>o(r(14)),800)})}}var d=e(36964);const s=(0,d.createApiRef)({id:"plugin.sentry.service"});class a{constructor(o,g,u){this.discoveryApi=o,this.organization=g,this.identityApi=u}async fetchIssues(o,g,u){if(!o)return[];const f=`${await this.discoveryApi.getBaseUrl("proxy")}/sentry/api`,h=await this.authOptions(),p=u?`&query=${u}`:"",A=await fetch(`${f}/0/projects/${this.organization}/${o}/issues/?statsPeriod=${g}${p}`,h);if(A.status>=400&&A.status<600)throw new Error("Failed fetching Sentry issues");return await A.json()}async authOptions(){if(!this.identityApi)return{};const{token:o}=await this.identityApi.getCredentials();return{headers:{authorization:`Bearer ${o}`}}}}},9529:function(H,l,e){"use strict";e.r(l),e.d(l,{SentryIssuesWidget:function(){return C}});var t=e(2784),n=e(64279),r=e(70922),i=e(96299),d=e(90436),s=e(79692),a=e(23192);function c(S,T){return S.length>T?`${S.substr(0,T)}...`:S}const o=(0,s.Z)(S=>({root:{minWidth:260,position:"relative","&::before":{left:-16,position:"absolute",width:"4px",height:"100%",content:'""',backgroundColor:S.palette.status.error,borderRadius:2}},text:{marginBottom:0}})),g=({sentryIssue:S})=>{const T=o();let P="[No Type]";return S.metadata.type?P=S.metadata.type:S.title&&(P=S.title),t.createElement("div",{className:T.root},t.createElement(a.Link,{to:S.permalink},t.createElement(d.Z,{variant:"body1",gutterBottom:!0,className:T.text},c(P,28))),t.createElement(d.Z,{variant:"caption",display:"block",gutterBottom:!0,className:T.text},S.metadata.value&&c(S.metadata.value,48)))};var u=e(44311);const f=({sentryIssue:S})=>{const T="14d"in S.stats?S.stats["14d"]:S.stats["24h"];return t.createElement(u.Sparklines,{data:T==null?void 0:T.map(([,P])=>P),svgHeight:48,margin:4},t.createElement(u.SparklinesBars,null))},h=[{title:"Error",render:S=>t.createElement(g,{sentryIssue:S})},{title:"Graph",render:S=>t.createElement(f,{sentryIssue:S})},{title:"First seen",field:"firstSeen",render:S=>{const{firstSeen:T}=S;return i.ou.fromISO(T).toRelative({locale:"en"})}},{title:"Last seen",field:"lastSeen",render:S=>{const{lastSeen:T}=S;return i.ou.fromISO(T).toRelative({locale:"en"})}},{title:"Events",field:"count"},{title:"Users",field:"userCount"}];var A=({sentryIssues:S,statsFor:T,tableOptions:P})=>t.createElement(a.Table,{columns:h,options:P,title:"Sentry issues",subtitle:T?`Last ${T}`:void 0,data:S});const R="sentry.io/project-slug",y=S=>{var T,P;return(P=(T=S==null?void 0:S.metadata.annotations)==null?void 0:T[R])!=null?P:""};var E=e(36964);const C=({entity:S,statsFor:T,tableOptions:P,variant:I="gridItem",query:Z=""})=>{const L=(0,E.useApi)(E.errorApiRef),D=(0,E.useApi)(r.Ok),B=y(S),{loading:w,value:V,error:G}=(0,n.default)(()=>D.fetchIssues(B,T,Z),[D,T,B,Z]);return(0,t.useEffect)(()=>{G&&L.post(G)},[G,L]),w||!B||G?t.createElement(a.InfoCard,{title:"Sentry issues",variant:I},w&&t.createElement(a.Progress,null),!w&&!B&&t.createElement(a.MissingAnnotationEmptyState,{annotation:R}),!w&&G&&t.createElement(a.EmptyState,{missing:"info",title:"No information to display",description:`There is no Sentry project with id '${B}'.`})):t.createElement(A,{sentryIssues:V||[],statsFor:T,tableOptions:P})}},42298:function(H,l,e){"use strict";e.d(l,{K:function(){return d},k:function(){return a}});var t=e(28981),n=e(82394),r=e.n(n),i=e(9571);class d{constructor(o){Me(this,"subscribers",new Set);Me(this,"observable",new(r())(o=>(o.next(this.get()),this.subscribers.add(o),()=>{this.subscribers.delete(o)})));Me(this,"THEME_MAP",{catalog:"home",docs:"documentation"});this.storageApi=o}shortcut$(){return this.observable}async add(o){const g=this.get();g.push({...o,id:(0,i.Z)()}),await this.storageApi.set("items",g),this.notify()}async remove(o){const g=this.get().filter(u=>u.id!==o);await this.storageApi.set("items",g),this.notify()}async update(o){const g=this.get().filter(u=>u.id!==o.id);g.push(o),await this.storageApi.set("items",g),this.notify()}getColor(o){var f;const g=o.split("/")[1],u=(f=this.THEME_MAP[g])!=null?f:Object.keys(t.pageTheme).includes(g)?g:"tool";return t.pageTheme[u].colors[0]}get(){var o;return Array.from((o=this.storageApi.snapshot("items").value)!=null?o:[]).sort((g,u)=>g.title>=u.title?1:-1)}notify(){for(const o of this.subscribers)o.next(this.get())}}var s=e(36964);const a=(0,s.createApiRef)({id:"plugin.shortcuts.api"})},16714:function(H,l,e){"use strict";e.d(l,{Q:function(){return n}});var t=e(36964);const n=(0,t.createApiRef)({id:"plugin.techradar.service"});var r;(function(i){i[i.Down=-1]="Down";const s=0;i[i.NoChange=s]="NoChange";const a=1;i[i.Up=a]="Up"})(r||(r={}))},53001:function(H,l,e){"use strict";e.d(l,{I:function(){return k}});var t=e(23192),n=e(36964),r=e(2784),i=e(64279),d=e(16714),s=e(79692);const a=(0,s.Z)(b=>({ring:{fill:"none",stroke:"#bbb",strokeWidth:"1px"},axis:{fill:"none",stroke:"#bbb",strokeWidth:"1px"},text:{pointerEvents:"none",userSelect:"none",fill:b.palette.text.primary,fontSize:"25px",fontWeight:800}}));var o=b=>{const{radius:F,rings:N}=b,W=a(b),Ee=(Re,$)=>[r.createElement("circle",{key:`c${Re}`,cx:0,cy:0,r:$,className:W.ring}),r.createElement("text",{key:`t${Re}`,y:$!==void 0?-$+42:void 0,textAnchor:"middle",className:W.text},N[Re].name)],Ce=[r.createElement("line",{key:"x",x1:0,y1:-F,x2:0,y2:F,className:W.axis,"data-testid":"radar-grid-x-line"}),r.createElement("line",{key:"y",x1:-F,y1:0,x2:F,y2:0,className:W.axis,"data-testid":"radar-grid-y-line"})],te=N.map(Re=>Re.outerRadius).map((Re,$)=>Ee($,Re));return r.createElement(r.Fragment,null,Ce.concat(...te))};function g(b){return Boolean(b&&b!=="#"&&b.length>0)}const u=({url:b,className:F,children:N})=>g(b)?r.createElement(t.Link,{className:F,to:b},N):r.createElement(r.Fragment,null,N);var f=e(8629),h=e(79249),p=e(38724),A=e(49429),R=e(77277),y=e(35292);const E=b=>{const{open:F,onClose:N,title:W,description:Ee,url:Ce}=b;return r.createElement(f.Z,{"data-testid":"radar-description",open:F,onClose:N},r.createElement(h.Z,{"data-testid":"radar-description-dialog-title"},W),r.createElement(p.Z,{dividers:!0},r.createElement(t.MarkdownContent,{content:Ee})),g(Ce)&&r.createElement(A.Z,null,r.createElement(R.Z,{component:t.Link,to:Ce,onClick:N,color:"primary",startIcon:r.createElement(y.Z,null)},"LEARN MORE")))},C=(0,s.Z)(()=>({text:{pointerEvents:"none",userSelect:"none",fontSize:"9px",fill:"#fff",textAnchor:"middle"},link:{cursor:"pointer"}})),S=(b,F)=>{const N={fill:b};let W=r.createElement("circle",{r:9,style:N});return F&&F>0?W=r.createElement("path",{d:"M -11,5 11,5 0,-13 z",style:N}):F&&F<0&&(W=r.createElement("path",{d:"M -11,-5 11,-5 0,13 z",style:N})),W};var P=b=>{const F=C(b),[N,W]=r.useState(!1),{moved:Ee,description:Ce,title:te,color:Re,url:$,value:ie,x:de,y:Pe,onMouseEnter:He,onMouseLeave:We,onClick:Ge}=b,Ve=S(Re,Ee),ut=()=>{W(!0)},nt=()=>{W(!1)},At=()=>{W(!N)};return r.createElement("g",{transform:`translate(${de}, ${Pe})`,onMouseEnter:He,onMouseLeave:We,onClick:Ge,"data-testid":"radar-entry"}," ",N&&r.createElement(E,{open:N,onClose:nt,title:te||"no title",description:Ce||"no description",url:$}),Ce?r.createElement("a",{className:F.link,onClick:ut,role:"button",href:"#",tabIndex:0,onKeyPress:At},Ve):r.createElement(u,{url:$,className:F.link},Ve),r.createElement("text",{y:3,className:F.text},ie))};const I=(0,s.Z)(()=>({bubble:{pointerEvents:"none",userSelect:"none",opacity:0},visibleBubble:{pointerEvents:"none",userSelect:"none",opacity:.8},background:{fill:"#333"},text:{pointerEvents:"none",userSelect:"none",fontSize:"10px",fill:"#fff"}}));var L=b=>{const F=I(b),{visible:N,text:W}=b,Ee=(0,r.useRef)(null),Ce=(0,r.useRef)(null),te=(0,r.useRef)(null),Re=(0,r.useRef)(null),$=()=>{if(Ee.current){const{x:ie,y:de}=b,Pe=Ee.current.getBBox(),He=5,We=4;Ce.current&&Ce.current.setAttribute("transform",`translate(${ie-Pe.width/2}, ${de-Pe.height-We})`),te.current&&(te.current.setAttribute("x",String(-He)),te.current.setAttribute("y",String(-Pe.height)),te.current.setAttribute("width",String(Pe.width+2*He)),te.current.setAttribute("height",String(Pe.height+We))),Re.current&&Re.current.setAttribute("transform",`translate(${Pe.width/2-He}, ${We-1})`)}};return(0,r.useLayoutEffect)(()=>{$()}),r.createElement("g",{ref:Ce,x:0,y:0,className:N?F.visibleBubble:F.bubble,"data-testid":"radar-bubble"},r.createElement("rect",{ref:te,rx:4,ry:4,className:F.background}),r.createElement("text",{ref:Ee,className:F.text},W),r.createElement("path",{ref:Re,d:"M 0,0 10,0 5,8 z",className:F.background}))};const D=(0,s.Z)(b=>({text:{pointerEvents:"none",userSelect:"none",fontSize:"10px",fill:b.palette.text.secondary}}));var w=b=>{const{x:F,y:N}=b,W=D(b);return r.createElement("text",{"data-testid":"radar-footer",transform:`translate(${F}, ${N})`,className:W.text},"\u25B2 moved up\xA0\xA0\xA0\xA0\xA0\u25BC moved down")};const V=(0,s.Z)(b=>({quadrantLegend:{overflowY:"auto",scrollbarWidth:"thin"},quadrant:{height:"100%",width:"100%",scrollbarWidth:"thin",pointerEvents:"none"},quadrantHeading:{pointerEvents:"none",userSelect:"none",marginTop:0,marginBottom:b.spacing(2),fontSize:"18px"},rings:{columns:3},ring:{breakInside:"avoid-column",pageBreakInside:"avoid","-webkit-column-break-inside":"avoid",fontSize:"12px",marginBottom:b.spacing(2)},ringEmpty:{color:b.palette.text.secondary},ringHeading:{pointerEvents:"none",userSelect:"none",marginTop:0,marginBottom:b.spacing(1),fontSize:"12px",fontWeight:800},ringList:{listStylePosition:"inside",marginTop:0,paddingLeft:0,fontVariantNumeric:"proportional-nums","-moz-font-feature-settings":"pnum","-webkit-font-feature-settings":"pnum","font-feature-settings":"pnum"},entry:{pointerEvents:"visiblePainted",userSelect:"none",fontSize:"11px"},entryLink:{pointerEvents:"visiblePainted"}}));var M=b=>{const F=V(b),N=(We,Ge,Ve,ut=0)=>{const nt=Ge.index,At=Ve.index,Le=nt===void 0?{}:We[nt]||{};return At===void 0?[]:Le[At+ut]||[]},W=({url:We,description:Ge,title:Ve})=>{const[ut,nt]=r.useState(!1),At=()=>{nt(!0)},Le=()=>{nt(!1)},Te=()=>{nt(!ut)};return Ge?r.createElement(r.Fragment,null,r.createElement("span",{className:F.entryLink,onClick:At,role:"button",tabIndex:0,onKeyPress:Te},r.createElement("span",{className:F.entry},Ve)),ut&&r.createElement(E,{open:ut,onClose:Le,title:Ve||"no title",url:We,description:Ge})):r.createElement(u,{url:We,className:F.entryLink},r.createElement("span",{className:F.entry},Ve))},Ee=({ring:We,entries:Ge,onEntryMouseEnter:Ve,onEntryMouseLeave:ut})=>r.createElement("div",{"data-testid":"radar-ring",key:We.id,className:F.ring},r.createElement("h3",{className:F.ringHeading},We.name),Ge.length===0?r.createElement("p",{className:F.ringEmpty},"(empty)"):r.createElement("ol",{className:F.ringList},Ge.map(nt=>r.createElement("li",{key:nt.id,value:(nt.index||0)+1,onMouseEnter:Ve&&(()=>Ve(nt)),onMouseLeave:ut&&(()=>ut(nt))},r.createElement(W,{url:nt.url,title:nt.title,description:nt.description}))))),Ce=({segments:We,quadrant:Ge,rings:Ve,onEntryMouseEnter:ut,onEntryMouseLeave:nt})=>r.createElement("foreignObject",{key:Ge.id,x:Ge.legendX,y:Ge.legendY,width:Ge.legendWidth,height:Ge.legendHeight,className:F.quadrantLegend,"data-testid":"radar-quadrant"},r.createElement("div",{className:F.quadrant},r.createElement("h2",{className:F.quadrantHeading},Ge.name),r.createElement("div",{className:F.rings},Ve.map(At=>r.createElement(Ee,{key:At.id,ring:At,entries:N(We,Ge,At),onEntryMouseEnter:ut,onEntryMouseLeave:nt}))))),te=We=>{const Ge={};for(const Ve of We){const ut=Ve.quadrant.index,nt=Ve.ring.index;let At={};ut!==void 0&&(Ge[ut]===void 0&&(Ge[ut]={}),At=Ge[ut]);let Le=[];nt!==void 0&&(At[nt]===void 0&&(At[nt]=[]),Le=At[nt]),Le.push(Ve)}return Ge},{quadrants:Re,rings:$,entries:ie,onEntryMouseEnter:de,onEntryMouseLeave:Pe}=b,He=te(ie);return r.createElement("g",{"data-testid":"radar-legend"},Re.map(We=>r.createElement(Ce,{key:We.id,segments:He,quadrant:We,rings:$,onEntryMouseEnter:de,onEntryMouseLeave:Pe})))},ue=b=>{const{width:F,height:N,radius:W,quadrants:Ee,rings:Ce,entries:te,activeEntry:Re,onEntryMouseEnter:$,onEntryMouseLeave:ie}=b;return r.createElement("g",{"data-testid":"radar-plot"},r.createElement(M,{quadrants:Ee,rings:Ce,entries:te,onEntryMouseEnter:$&&(de=>$(de)),onEntryMouseLeave:ie&&(de=>ie(de))}),r.createElement("g",{transform:`translate(${F/2}, ${N/2})`},r.createElement(o,{radius:W,rings:Ce}),r.createElement(w,{x:-.5*F,y:.5*N}),te.map(de=>r.createElement(P,{key:de.id,x:de.x||0,y:de.y||0,color:de.color||"",value:((de==null?void 0:de.index)||0)+1,url:de.url,description:de.description,moved:de.moved,title:de.title,onMouseEnter:$&&(()=>$(de)),onMouseLeave:ie&&(()=>ie(de))})),r.createElement(L,{visible:!!Re,text:(Re==null?void 0:Re.title)||"",x:(Re==null?void 0:Re.x)||0,y:(Re==null?void 0:Re.y)||0})))},le=e(71346),me=e.n(le),ge=e(45469),Ae=e(52669);class ee{constructor(F,N,W,Ee){this.nextSeed=Ee,this.polarMin={t:F.radialMin,r:N.innerRadius},this.polarMax={t:F.radialMax,r:N.outerRadius},this.cartesianMin={x:15*F.offsetX,y:15*F.offsetY},this.cartesianMax={x:W*F.offsetX,y:W*F.offsetY}}clipx(F){const N=se(F,this.cartesianMin,this.cartesianMax),W=_(Ie(N),this.polarMin.r+15,this.polarMax.r-15);return F.x=re(W).x,F.x}clipy(F){const N=se(F,this.cartesianMin,this.cartesianMax),W=_(Ie(N),this.polarMin.r+15,this.polarMax.r-15);return F.y=re(W).y,F.y}random(){return re({t:this._randomBetween(this.polarMin.t,this.polarMax.t),r:this._normalBetween(this.polarMin.r,this.polarMax.r)})}_random(){const F=Math.sin(this.nextSeed())*1e4;return F-Math.floor(F)}_randomBetween(F,N){return F+this._random()*(N-F)}_normalBetween(F,N){return F+(this._random()+this._random())*.5*(N-F)}}function Ie({x:b,y:F}){return{t:Math.atan2(F,b),r:Math.sqrt(b*b+F*F)}}function re({r:b,t:F}){return{x:b*Math.cos(F),y:b*Math.sin(F)}}function ne(b,F,N){const W=Math.min(F,N),Ee=Math.max(F,N);return Math.min(Math.max(b,W),Ee)}function _(b,F,N){return{t:b.t,r:ne(b.r,F,N)}}function se(b,F,N){return{x:ne(b.x,F.x,N.x),y:ne(b.y,F.y,N.y)}}const j=(b,F,N,W)=>{const Ce=[16,N/2-F-16,N/2+F+16,N-16],te=[16,W/2-16,W/2,W-16],Re=[{x:Ce[2],y:te[2],width:Ce[3]-Ce[2],height:te[3]-te[2]},{x:Ce[0],y:te[2],width:Ce[1]-Ce[0],height:te[3]-te[2]},{x:Ce[0],y:te[0],width:Ce[1]-Ce[0],height:te[1]-te[0]},{x:Ce[2],y:te[0],width:Ce[3]-Ce[2],height:te[1]-te[0]}];b.forEach(($,ie)=>{const de=Re[ie%4];$.index=ie,$.radialMin=ie*Math.PI/2,$.radialMax=(ie+1)*Math.PI/2,$.offsetX=ie%4===0||ie%4===3?1:-1,$.offsetY=ie%4===0||ie%4===1?1:-1,$.legendX=de.x,$.legendY=de.y,$.legendWidth=de.width,$.legendHeight=de.height})},ae=(b,F,N,W,Ee)=>{let Ce=42;b.forEach((Re,$)=>{const ie=F.find(He=>{const We=typeof Re.quadrant=="object"?Re.quadrant.id:Re.quadrant;return He.id===We}),de=N.find(He=>{const We=typeof Re.ring=="object"?Re.ring.id:Re.ring;return He.id===We});if(!ie)throw new Error(`Unknown quadrant ${Re.quadrant} for entry ${Re.id}!`);if(!de)throw new Error(`Unknown ring ${Re.ring} for entry ${Re.id}!`);Re.index=$,Re.quadrant=ie,Re.ring=de,Re.segment=new ee(ie,de,W,()=>Ce++);const Pe=Re.segment.random();Re.x=Pe.x,Re.y=Pe.y,Re.active=Ee?Re.id===Ee.id:!1,Re.color=Re.active?Re.ring.color:me()(Re.ring.color).desaturate(.5).lighten(.1).string()});const te=(0,ge.Z)().nodes(b).velocityDecay(.19).force("collision",(0,Ae.Z)().radius(12).strength(.85)).stop();for(let Re=0,$=Math.ceil(Math.log(te.alphaMin())/Math.log(1-te.alphaDecay()));Re<$;++Re){te.tick();for(const ie of b)ie.segment&&(ie.x=ie.segment.clipx(ie),ie.y=ie.segment.clipy(ie))}},X=(b,F)=>{b.forEach((N,W)=>{N.index=W,N.outerRadius=(W+2)/(b.length+1)*F,N.innerRadius=(W===0?0:W+1)/(b.length+1)*F})};var Q=b=>{const{width:F,height:N,quadrants:W,rings:Ee,entries:Ce}=b,te=Math.min(F,N)/2,[Re,$]=(0,r.useState)(),ie=(0,r.useRef)(null);return j(W,te,F,N),X(Ee,te),ae(Ce,W,Ee,te,Re),r.createElement("svg",{ref:ie,width:F,height:N,...b.svgProps},r.createElement(ue,{width:F,height:N,radius:te,entries:Ce,quadrants:W,rings:Ee,activeEntry:Re,onEntryMouseEnter:de=>$(de),onEntryMouseLeave:()=>$(void 0)}))};const fe=b=>{const F=(0,n.useApi)(n.errorApiRef),N=(0,n.useApi)(d.Q),{error:W,value:Ee,loading:Ce}=(0,i.default)(async()=>N.load(b),[N,b]);return(0,r.useEffect)(()=>{W&&F.post(W)},[W,F]),{loading:Ce,value:Ee,error:W}};function q(b){const F=b==null?void 0:b.toLocaleLowerCase("en-US").split(/\s/).map(N=>N.trim()).filter(Boolean);return F!=null&&F.length?N=>{var Ee;const W=`${N.title} ${((Ee=N.timeline[0])==null?void 0:Ee.description)||""}`.toLocaleLowerCase("en-US");return F.every(Ce=>W.includes(Ce))}:()=>!0}function k(b){const{loading:F,error:N,value:W}=fe(b.id),Ee=Ce=>Ce.entries.filter(q(b.searchText)).map(te=>({id:te.key,quadrant:Ce.quadrants.find(Re=>Re.id===te.quadrant),title:te.title,ring:Ce.rings.find(Re=>Re.id===te.timeline[0].ringId),timeline:te.timeline.map(Re=>({date:Re.date,ring:Ce.rings.find($=>$.id===Re.ringId),description:Re.description,moved:Re.moved})),moved:te.timeline[0].moved,description:te.description||te.timeline[0].description,url:te.url}));return r.createElement(r.Fragment,null,F&&r.createElement(t.Progress,null),!F&&!N&&W&&r.createElement(Q,{...b,rings:W.rings,quadrants:W.quadrants,entries:Ee(W)}))}},12724:function(H,l,e){"use strict";e.r(l),e.d(l,{RadarPage:function(){return c}});var t=e(23192),n=e(79692),r=e(29611),i=e(60905),d=e(2784),s=e(53001);const a=(0,n.Z)(()=>({overflowXScroll:{overflowX:"scroll"}}));function c(o){const{title:g="Tech Radar",subtitle:u="Pick the recommended technologies for your projects",pageTitle:f="Company Radar",...h}=o,p=a(),[A,R]=d.useState("");return d.createElement(t.Page,{themeId:"tool"},d.createElement(t.Header,{title:g,subtitle:u}),d.createElement(t.Content,{className:p.overflowXScroll},d.createElement(t.ContentHeader,{title:f},d.createElement(r.Z,{id:"tech-radar-filter",type:"search",placeholder:"Filter",onChange:y=>R(y.target.value)}),d.createElement(t.SupportButton,null,d.createElement("p",null,"This is used for visualizing the official guidelines of different areas of software development such as languages, frameworks, infrastructure and processes. You can find an explanation for the radar at"," ",d.createElement(t.Link,{to:"https://opensource.zalando.com/tech-radar/"},"Zalando Tech Radar"),"."))),d.createElement(i.Z,{container:!0,spacing:3,direction:"row"},d.createElement(i.Z,{item:!0,xs:12,sm:6,md:4},d.createElement(s.I,{searchText:A,...h})))))}},26136:function(H,l,e){"use strict";e.d(l,{Ox:function(){return w},Zz:function(){return d},oZ:function(){return I},DR:function(){return s},ZS:function(){return T},VA:function(){return M},KY:function(){return c},gT:function(){return h},Dl:function(){return p},ux:function(){return G},pV:function(){return me},oi:function(){return Ae},$L:function(){return f},x1:function(){return P}});var t=e(2784),n=e(10289),r=e(36964);const i="techdocs.addons.addon.v1",d="techdocs.addons.wrapper.v1",s=()=>null;(0,r.attachComponentData)(s,d,!0);const a=ee=>`${i}.${ee.toLocaleLowerCase("en-US")}`;function c(ee){const{name:Ie,component:re}=ee;return(0,r.createReactExtension)({name:Ie,component:{sync:ne=>t.createElement(re,{...ne})},data:{[i]:ee,[a(Ie)]:!0}})}const o=(ee,Ie)=>ee.selectByComponentData({key:Ie}).getElements()[0],g=ee=>ee.selectByComponentData({key:d}).selectByComponentData({key:i}),u=ee=>ee.selectByComponentData({key:d}).findComponentData({key:i}),f=()=>{const ee=(0,n.pC)(),Ie=(0,r.useElementFilter)(ee,g),re=(0,r.useElementFilter)(ee,u),ne=(0,t.useCallback)(j=>{var X;if(!Ie||!j)return null;const ae=a(j.name);return(X=o(Ie,ae))!=null?X:null},[Ie]),_=(0,t.useCallback)(j=>{const ae=re.find(X=>X.name===j);return ae?ne(ae):null},[re,ne]),se=(0,t.useCallback)(j=>{const ae=re.filter(X=>X.location===j);return ae.length?ae.map(ne):null},[re,ne]);return{renderComponentByName:_,renderComponentsByLocation:se}},h=(0,r.createApiRef)({id:"plugin.techdocs.service"}),p=(0,r.createApiRef)({id:"plugin.techdocs.storageservice"});var A=e(64279),R=e(48023),y=e(76241);const E=(ee,Ie)=>(0,R.eE)(ee)===(0,R.eE)(Ie),C={title:"",subtitle:"",setTitle:()=>{},setSubtitle:()=>{},setShadowRoot:()=>{},metadata:{loading:!0},entityMetadata:{loading:!0},entityRef:{kind:"",name:"",namespace:""}},S=(0,y.CT)("techdocs-reader-page-context"),T=(0,t.memo)(({entityRef:ee,children:Ie})=>{const re=(0,r.useApi)(h),ne=(0,A.default)(async()=>re.getTechDocsMetadata(ee),[ee]),_=(0,A.default)(async()=>re.getEntityMetadata(ee),[ee]),[se,j]=(0,t.useState)(C.title),[ae,X]=(0,t.useState)(C.subtitle),[z,Q]=(0,t.useState)(C.shadowRoot),fe={metadata:ne,entityRef:ee,entityMetadata:_,shadowRoot:z,setShadowRoot:Q,title:se,setTitle:j,subtitle:ae,setSubtitle:X},q=(0,y.EI)({1:fe});return t.createElement(S.Provider,{value:q},Ie instanceof Function?Ie(fe):Ie)},(ee,Ie)=>E(ee.entityRef,Ie.entityRef)),P=()=>{const ee=(0,t.useContext)(S);if(ee===void 0)return C;const Ie=ee.atVersion(1);if(Ie===void 0)throw new Error("No context found for version 1.");return Ie},I=Object.freeze({Header:"Header",Subheader:"Subheader",Settings:"Settings",PrimarySidebar:"PrimarySidebar",SecondarySidebar:"SecondarySidebar",Content:"Content"});var Z=e(6553),L=e(50236),D=e(19219),B=e(23192);const w="TECH_DOCS_SHADOW_DOM_STYLE_LOAD",V=ee=>{(0,t.useEffect)(()=>{var se;if(!ee)return()=>{};const Ie=ee.querySelectorAll('head > link[rel="stylesheet"]');let re=(se=Ie==null?void 0:Ie.length)!=null?se:0;const ne=new CustomEvent(w);if(!re)return ee.dispatchEvent(ne),()=>{};const _=()=>{--re===0&&ee.dispatchEvent(ne)};return Ie==null||Ie.forEach(j=>{j.addEventListener("load",_)}),()=>{Ie==null||Ie.forEach(j=>{j.removeEventListener("load",_)})}},[ee])},G=ee=>{const[Ie,re]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{if(!ee)return()=>{};re(!0);const ne=ee.style;ne.setProperty("opacity","0");const _=()=>{re(!1),ne.setProperty("opacity","1")};return ee.addEventListener(w,_),()=>{ee.removeEventListener(w,_)}},[ee]),Ie},M=({element:ee,onAppend:Ie,children:re})=>{const[ne,_]=(0,t.useState)((0,Z.Ue)({...(0,L.Z)(),insertionPoint:void 0}));V(ee);const se=G(ee),j=(0,t.useCallback)(ae=>{if(!ee||!ae)return;_((0,Z.Ue)({...(0,L.Z)(),insertionPoint:ee.querySelector("head")||void 0}));let X=ae.shadowRoot;X||(X=ae.attachShadow({mode:"open"})),X.replaceChildren(ee),typeof Ie=="function"&&Ie(X)},[ee,Ie]);return t.createElement(t.Fragment,null,se&&t.createElement(B.Progress,null),t.createElement(D.ZP,{jss:ne,sheetsManager:new Map},t.createElement("div",{ref:j,"data-testid":"techdocs-native-shadowroot"}),re))};var ce=e(54073),ue=e.n(ce);const le=()=>{const{shadowRoot:ee}=P();return ee},me=ee=>{const Ie=le();return Ie?ee.map(re=>Ie==null?void 0:Ie.querySelectorAll(re)).filter(re=>re.length).map(re=>Array.from(re)).flat():[]},ge=ee=>ee.toString()&&ee.rangeCount&&ee.getRangeAt(0).getBoundingClientRect().top,Ae=(ee=0)=>{const Ie=le(),[re,ne]=(0,t.useState)(null),_=(0,t.useMemo)(()=>ue()(()=>{const se=Ie,j=se.getSelection?se.getSelection():document.getSelection();j&&ge(j)?ne(j):ne(null)},ee),[Ie,ne,ee]);return(0,t.useEffect)(()=>(window.document.addEventListener("selectionchange",_),()=>window.document.removeEventListener("selectionchange",_)),[_]),re}},94067:function(H,l,e){"use strict";e.r(l),e.d(l,{EmbeddedDocsRouter:function(){return A},Router:function(){return p},isTechDocsAvailable:function(){return h}});var t=e(2784),n=e(10289),r=e(53479),i=e(23192),d=e(48023),s=e(20961),a=e(16172),c=e(63126);const o=({entity:R})=>{const y=(0,d.iB)(R);return t.createElement(s.I6,{entityRef:y},t.createElement(a.b,null),t.createElement(c.F,{withSearch:!1}))};var g=e(50021),u=e(26220);const f="backstage.io/techdocs-ref",h=R=>{var y,E;return Boolean((E=(y=R==null?void 0:R.metadata)==null?void 0:y.annotations)==null?void 0:E[f])},p=()=>t.createElement(n.Z5,null,t.createElement(n.AW,{path:"/",element:t.createElement(g.TechDocsIndexPage,null)}),t.createElement(n.AW,{path:"/:namespace/:kind/:name/*",element:t.createElement(u.TechDocsReaderPage,null)})),A=R=>{var T;const{children:y}=R,{entity:E}=(0,r.useEntity)(),C=(0,n.V$)([{path:"/*",element:t.createElement(o,{entity:E}),children:[{path:"/*",element:y}]}]);return((T=E.metadata.annotations)==null?void 0:T[f])?C:t.createElement(i.MissingAnnotationEmptyState,{annotation:f})}},42723:function(H,l,e){"use strict";e.d(l,{k:function(){return d},p:function(){return i}});var t=e(10179),n=e(76372),r=e.n(n);class i{constructor(a){Me(this,"configApi");Me(this,"discoveryApi");Me(this,"fetchApi");this.configApi=a.configApi,this.discoveryApi=a.discoveryApi,this.fetchApi=a.fetchApi}async getApiOrigin(){return await this.discoveryApi.getBaseUrl("techdocs")}async getTechDocsMetadata(a){const{kind:c,namespace:o,name:g}=a,f=`${await this.getApiOrigin()}/metadata/techdocs/${o}/${c}/${g}`,h=await this.fetchApi.fetch(`${f}`);if(!h.ok)throw await t.VL.fromResponse(h);return await h.json()}async getEntityMetadata(a){const{kind:c,namespace:o,name:g}=a,f=`${await this.getApiOrigin()}/metadata/entity/${o}/${c}/${g}`,h=await this.fetchApi.fetch(`${f}`);if(!h.ok)throw await t.VL.fromResponse(h);return await h.json()}}class d{constructor(a){Me(this,"configApi");Me(this,"discoveryApi");Me(this,"identityApi");Me(this,"fetchApi");this.configApi=a.configApi,this.discoveryApi=a.discoveryApi,this.identityApi=a.identityApi,this.fetchApi=a.fetchApi}async getApiOrigin(){return await this.discoveryApi.getBaseUrl("techdocs")}async getStorageUrl(){var a;return(a=this.configApi.getOptionalString("techdocs.storageUrl"))!=null?a:`${await this.discoveryApi.getBaseUrl("techdocs")}/static/docs`}async getBuilder(){return this.configApi.getString("techdocs.builder")}async getEntityDocs(a,c){const{kind:o,namespace:g,name:u}=a,h=`${await this.getStorageUrl()}/${g}/${o}/${u}/${c}`,p=await this.fetchApi.fetch(`${h.endsWith("/")?h:`${h}/`}index.html`);let A="";switch(p.status){case 404:throw A="Page not found. ",c||(A+="This could be because there is no index.md file in the root of the docs directory of this repository."),new t.dR(A);case 500:throw A="Could not generate documentation or an error in the TechDocs backend. ",new Error(A);default:break}return p.text()}async syncEntityDocs(a,c=()=>{}){const{kind:o,namespace:g,name:u}=a,h=`${await this.getApiOrigin()}/sync/${g}/${o}/${u}`,{token:p}=await this.identityApi.getCredentials();return new Promise((A,R)=>{const y=new n.EventSourcePolyfill(h,{withCredentials:!0,headers:p?{Authorization:`Bearer ${p}`}:{}});y.addEventListener("log",E=>{E.data&&c(JSON.parse(E.data))}),y.addEventListener("finish",E=>{let C=!1;E.data&&({updated:C}=JSON.parse(E.data)),A(C?"updated":"cached")}),y.onerror=E=>{switch(y.close(),E.status){case 404:R(new t.dR(E.message));return;default:R(new Error(E.data));return}}})}async getBaseUrl(a,c,o){const{kind:g,namespace:u,name:f}=c,p=`${await this.getApiOrigin()}/static/docs/${u}/${g}/${f}/${o}`;return new URL(a,p.endsWith("/")?p:`${p}/`).toString()}}},97589:function(H,l,e){"use strict";e.d(l,{D:function(){return t}});function t(n,r){return r.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?n:n.toLocaleLowerCase("en-US")}},2546:function(H,l,e){"use strict";e.d(l,{u:function(){return a}});var t=e(2784),n=e(23192),r=e(53479),i=e(1114),d=e(70335),s=e(46861);const a=c=>{const{initialFilter:o="all",columns:g,actions:u}=c;return t.createElement(i.j,null,t.createElement(n.Content,null,t.createElement(n.ContentHeader,{title:""},t.createElement(n.SupportButton,null,"Discover documentation in your ecosystem.")),t.createElement(r.EntityListProvider,null,t.createElement(r.CatalogFilterLayout,null,t.createElement(r.CatalogFilterLayout.Filters,null,t.createElement(d.f,null),t.createElement(r.UserListPicker,{initialFilter:o}),t.createElement(r.EntityOwnerPicker,null),t.createElement(r.EntityTagPicker,null)),t.createElement(r.CatalogFilterLayout.Content,null,t.createElement(s.EntityListDocsTable,{actions:u,columns:g}))))))}},51016:function(H,l,e){"use strict";e.d(l,{f:function(){return g}});var t=e(68725),n=e(97589),r=e(36964),i=e(23192),d=e(94339),s=e(16111),a=e(24579),c=e(14503),o=e(2784);const g=h=>{const{entities:p}=h,A=(0,r.useRouteRef)(t.Fw),R=(0,r.useApi)(r.configApiRef);return p?o.createElement(i.ItemCardGrid,{"data-testid":"docs-explore"},p!=null&&p.length?p.map((y,E)=>{var C,S;return o.createElement(d.Z,{key:E},o.createElement(s.Z,null,o.createElement(i.ItemCardHeader,{title:(C=y.metadata.title)!=null?C:y.metadata.name})),o.createElement(a.Z,null,y.metadata.description),o.createElement(c.Z,null,o.createElement(i.Button,{to:A({namespace:(0,n.D)((S=y.metadata.namespace)!=null?S:"default",R),kind:(0,n.D)(y.kind,R),name:(0,n.D)(y.metadata.name,R)}),color:"primary","data-testid":"read_docs"},"Read Docs")))}):null):null};var u=e(53479);const f=()=>{const{loading:h,error:p,entities:A}=useEntityList();return p?React.createElement(WarningPanel,{severity:"error",title:"Could not load available documentation."},React.createElement(CodeSnippet,{language:"text",text:p.toString()})):h||!A?React.createElement(Progress,null):(A.sort((R,y)=>{var E,C;return((E=R.metadata.title)!=null?E:R.metadata.name).localeCompare((C=y.metadata.title)!=null?C:y.metadata.name)}),React.createElement(DocsCardGrid,{entities:A}))}},46861:function(H,l,e){"use strict";e.d(l,{DocsTable:function(){return E},EntityListDocsTable:function(){return C}});var t=e(2784),n=e(95074),r=e(76635),i=e(23192),d=e(53479),s=e(36964),a=e(48023),c=e(68725),o=e(39981),g=e(2337),u=e(11640),f=e(28347);const h=(0,g.Z)({root:{color:"#f3ba37"}})(u.Z),p={createCopyDocsUrlAction(S){return T=>({icon:()=>t.createElement(o.Z,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>S(`${window.location.origin}${T.resolved.docsUrl}`)})},createStarEntityAction(S,T){return({entity:P})=>{const I=S(P);return{cellStyle:{paddingLeft:"1em"},icon:()=>I?t.createElement(h,null):t.createElement(f.Z,null),tooltip:I?"Remove from favorites":"Add to favorites",onClick:()=>T(P)}}}};function A(S){return S.metadata.title||S.metadata.name}const R={createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,render:S=>t.createElement(i.SubvalueCell,{value:t.createElement(i.Link,{to:S.resolved.docsUrl},A(S.entity)),subvalue:S.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:S})=>t.createElement(d.EntityRefLinks,{entityRefs:S.ownedByRelations,defaultKind:"group"})}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}};var y=e(97589);const E=S=>{const{entities:T,title:P,loading:I,columns:Z,actions:L}=S,[,D]=(0,n.Z)(),B=(0,s.useRouteRef)(c.Fw),w=(0,s.useApi)(s.configApiRef);if(!T)return null;const V=T.map(ce=>{var le;const ue=(0,d.getEntityRelations)(ce,a.S4);return{entity:ce,resolved:{docsUrl:B({namespace:(0,y.D)((le=ce.metadata.namespace)!=null?le:"default",w),kind:(0,y.D)(ce.kind,w),name:(0,y.D)(ce.metadata.name,w)}),ownedByRelations:ue,ownedByRelationsTitle:ue.map(me=>(0,d.humanizeEntityRef)(me,{defaultKind:"group"})).join(", ")}}}),G=[R.createNameColumn(),R.createOwnerColumn(),R.createTypeColumn()],M=[p.createCopyDocsUrlAction(D)];return t.createElement(t.Fragment,null,I||V&&V.length>0?t.createElement(i.Table,{isLoading:I,options:{paging:!0,pageSize:20,search:!0,actionsColumnIndex:-1},data:V,columns:Z||G,actions:L||M,title:P?`${P} (${V.length})`:`All (${V.length})`}):t.createElement(i.EmptyState,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:t.createElement(i.Button,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};E.columns=R,E.actions=p;const C=S=>{var ce,ue;const{columns:T,actions:P}=S,{loading:I,error:Z,entities:L,filters:D}=(0,d.useEntityList)(),{isStarredEntity:B,toggleStarredEntity:w}=(0,d.useStarredEntities)(),[,V]=(0,n.Z)(),G=(0,r.capitalize)((ue=(ce=D.user)==null?void 0:ce.value)!=null?ue:"all"),M=[p.createCopyDocsUrlAction(V),p.createStarEntityAction(B,w)];return Z?t.createElement(i.WarningPanel,{severity:"error",title:"Could not load available documentation."},t.createElement(i.CodeSnippet,{language:"text",text:Z.toString()})):t.createElement(E,{title:G,entities:L,loading:I,actions:P||M,columns:T})};C.columns=R,C.actions=p},50021:function(H,l,e){"use strict";e.r(l),e.d(l,{TechDocsIndexPage:function(){return i}});var t=e(2784),n=e(10289),r=e(2546);const i=()=>(0,n.pC)()||t.createElement(r.u,null)},1114:function(H,l,e){"use strict";e.d(l,{j:function(){return i}});var t=e(2784),n=e(23192),r=e(36964);const i=d=>{var o;const{children:s}=d,c=`Documentation available in ${(o=(0,r.useApi)(r.configApiRef).getOptionalString("organization.name"))!=null?o:"Backstage"}`;return t.createElement(n.PageWithHeader,{title:"Documentation",subtitle:c,themeId:"documentation"},s)}},70335:function(H,l,e){"use strict";e.d(l,{f:function(){return i}});var t=e(2784),n=e(53479);class r{getCatalogFilters(){return{"metadata.annotations.backstage.io/techdocs-ref":n.CATALOG_FILTER_EXISTS}}}const i=()=>{const{updateFilters:d}=(0,n.useEntityList)();return(0,t.useEffect)(()=>{d({techdocs:new r})},[d]),null}},20961:function(H,l,e){"use strict";e.d(l,{$d:function(){return a},I6:function(){return g},Jl:function(){return o},s4:function(){return d}});var t=e(26136),n=e(42723),r=e(68725),i=e(36964);const d=(0,i.createPlugin)({id:"techdocs",apis:[(0,i.createApiFactory)({api:t.Dl,deps:{configApi:i.configApiRef,discoveryApi:i.discoveryApiRef,identityApi:i.identityApiRef,fetchApi:i.fetchApiRef},factory:({configApi:u,discoveryApi:f,identityApi:h,fetchApi:p})=>new n.k({configApi:u,discoveryApi:f,identityApi:h,fetchApi:p})}),(0,i.createApiFactory)({api:t.gT,deps:{configApi:i.configApiRef,discoveryApi:i.discoveryApiRef,fetchApi:i.fetchApiRef},factory:({configApi:u,discoveryApi:f,fetchApi:h})=>new n.p({configApi:u,discoveryApi:f,fetchApi:h})})],routes:{root:r._Z,docRoot:r.Fw,entityContent:r.pd}}),s=d.provide((0,i.createRoutableExtension)({name:"TechdocsPage",component:()=>Promise.resolve().then(e.bind(e,94067)).then(u=>u.Router),mountPoint:r._Z})),a=d.provide((0,i.createRoutableExtension)({name:"EntityTechdocsContent",component:()=>Promise.resolve().then(e.bind(e,94067)).then(u=>u.EmbeddedDocsRouter),mountPoint:r.pd})),c=d.provide((0,i.createRoutableExtension)({name:"TechDocsCustomHome",component:()=>e.e(7110).then(e.bind(e,57110)).then(u=>u.TechDocsCustomHome),mountPoint:r._Z})),o=d.provide((0,i.createRoutableExtension)({name:"TechDocsIndexPage",component:()=>Promise.resolve().then(e.bind(e,50021)).then(u=>u.TechDocsIndexPage),mountPoint:r._Z})),g=d.provide((0,i.createRoutableExtension)({name:"TechDocsReaderPage",component:()=>Promise.resolve().then(e.bind(e,26220)).then(u=>u.TechDocsReaderPage),mountPoint:r.Fw}))},26220:function(H,l,e){"use strict";e.r(l),e.d(l,{TechDocsReaderLayout:function(){return c},TechDocsReaderPage:function(){return o}});var t=e(2784),n=e(10289),r=e(23192),i=e(26136),d=e(63126),s=e(99954),a=e(16172);const c=({withSearch:g,withHeader:u=!0})=>t.createElement(r.Page,{themeId:"documentation"},u&&t.createElement(s.S,null),t.createElement(a.b,null),t.createElement(d.F,{withSearch:g})),o=g=>{const{kind:u,name:f,namespace:h}=(0,n.UO)(),{children:p,entityRef:A={kind:u,name:f,namespace:h}}=g,R=(0,n.pC)();if(!p){const E=(R?t.Children.toArray(R.props.children):[]).find(C=>{var T,P;const{type:S}=C;return!((P=(T=S==null?void 0:S.__backstage_data)==null?void 0:T.map)!=null&&P.get(i.Zz))});return t.createElement(i.ZS,{entityRef:A},E||t.createElement(c,null))}return t.createElement(i.ZS,{entityRef:A},({metadata:y,entityMetadata:E,onReady:C})=>t.createElement(r.Page,{themeId:"documentation"},p instanceof Function?p({entityRef:A,techdocsMetadataValue:y.value,entityMetadataValue:E.value,onReady:C}):p))}},63126:function(H,l,e){"use strict";e.d(l,{F:function(){return tt}});var t=e(2784),n=e(79692),r=e(60905),i=e(26136),d=e(23192),s=e(47861),a=e(4614),c=e(77277),o=e(99688),g=e(12420),u=e(90436),f=e(61837),h=e(4190),p=e(87685);const A=(0,n.Z)(he=>(0,g.Z)({paper:{width:"100%",[he.breakpoints.up("sm")]:{width:"75%"},[he.breakpoints.up("md")]:{width:"50%"},padding:he.spacing(2.5)},root:{height:"100%",overflow:"hidden"},logs:{background:he.palette.background.default}})),R=({buildLog:he,onClose:Ne})=>{const _e=A(),rt=he.length===0?"Waiting for logs...":he.join(`
`);return t.createElement(r.Z,{container:!0,direction:"column",className:_e.root,spacing:0,wrap:"nowrap"},t.createElement(r.Z,{item:!0,container:!0,justifyContent:"space-between",alignItems:"center",spacing:0,wrap:"nowrap"},t.createElement(u.Z,{variant:"h5"},"Build Details"),t.createElement(f.Z,{key:"dismiss",title:"Close the drawer",onClick:Ne,color:"inherit"},t.createElement(p.Z,null))),t.createElement(d.LogViewer,{text:rt,classes:{root:_e.logs}}))},y=({buildLog:he})=>{const Ne=A(),[_e,rt]=(0,t.useState)(!1);return t.createElement(t.Fragment,null,t.createElement(c.Z,{color:"inherit",onClick:()=>rt(!0)},"Show Build Logs"),t.createElement(h.ZP,{classes:{paper:Ne.paper},anchor:"right",open:_e,onClose:()=>rt(!1)},t.createElement(R,{buildLog:he,onClose:()=>rt(!1)})))};var E=e(36964);const C=({errorMessage:he})=>{const Ne=(0,E.useApi)(E.configApiRef).getOptionalString("techdocs.builder");let _e="";return Ne!=="local"&&(_e="Note that techdocs.builder is not set to 'local' in your config, which means this Backstage app will not generate docs if they are not found. Make sure the project's docs are generated and published by some external process (e.g. CI/CD pipeline). Or change techdocs.builder to 'local' to generate docs from this Backstage instance."),t.createElement(d.ErrorPage,{status:"404",statusMessage:he||"Documentation not found",additionalInfo:_e})};var S=e(2263);const T=(0,n.Z)(he=>({root:{marginBottom:he.spacing(2)},message:{wordBreak:"break-word",overflowWrap:"anywhere"}})),P=()=>{let he=null;const Ne=T(),{state:_e,contentReload:rt,contentErrorMessage:it,syncErrorMessage:gt,buildLog:Rt}=(0,S.DK)();return _e==="INITIAL_BUILD"&&(he=t.createElement(o.Z,{classes:{root:Ne.root},variant:"outlined",severity:"info",icon:t.createElement(a.Z,{size:"24px"}),action:t.createElement(y,{buildLog:Rt})},"Documentation is accessed for the first time and is being prepared. The subsequent loads are much faster.")),_e==="CONTENT_STALE_REFRESHING"&&(he=t.createElement(o.Z,{variant:"outlined",severity:"info",icon:t.createElement(a.Z,{size:"24px"}),action:t.createElement(y,{buildLog:Rt}),classes:{root:Ne.root}},"A newer version of this documentation is being prepared and will be available shortly.")),_e==="CONTENT_STALE_READY"&&(he=t.createElement(o.Z,{variant:"outlined",severity:"success",action:t.createElement(c.Z,{color:"inherit",onClick:()=>rt()},"Refresh"),classes:{root:Ne.root}},"A newer version of this documentation is now available, please refresh to view.")),_e==="CONTENT_STALE_ERROR"&&(he=t.createElement(o.Z,{variant:"outlined",severity:"error",action:t.createElement(y,{buildLog:Rt}),classes:{root:Ne.root,message:Ne.message}},"Building a newer version of this documentation failed."," ",gt)),_e==="CONTENT_NOT_FOUND"&&(he=t.createElement(t.Fragment,null,gt&&t.createElement(o.Z,{variant:"outlined",severity:"error",action:t.createElement(y,{buildLog:Rt}),classes:{root:Ne.root,message:Ne.message}},"Building a newer version of this documentation failed."," ",gt),t.createElement(C,{errorMessage:it}))),he};var I=e(10289),Z=e(60364),L=e(41156),D=e(36356),B=e(35368),w=e.n(B);const V=/main\.[A-Fa-f0-9]{8}\.min\.css$/,G=/^https:\/\/fonts\.googleapis\.com/,M=/^https:\/\/fonts\.gstatic\.com/,ce=he=>he.nodeName==="LINK",ue=he=>{const Ne=(he==null?void 0:he.getAttribute("href"))||"",_e=Ne.match(V),rt=Ne.match(G),it=Ne.match(M);return _e||rt||it},le=he=>(ce(he)&&!ue(he)&&he.remove(),he),me=he=>he.nodeName==="IFRAME",ge=(he,Ne)=>{const _e=he.getAttribute("src")||"";try{const{host:rt}=new URL(_e);return Ne.includes(rt)}catch{return!1}},Ae=he=>Ne=>(me(Ne)&&!ge(Ne,he)&&Ne.remove(),Ne),ee=()=>{const he=(0,E.useApi)(E.configApiRef);return(0,t.useMemo)(()=>he.getOptionalConfig("techdocs.sanitizer"),[he])},Ie=()=>{const he=ee();return(0,t.useCallback)(async Ne=>{const _e=he==null?void 0:he.getOptionalStringArray("allowedIframeHosts");w().addHook("beforeSanitizeElements",le);const rt=["link"];return _e&&(rt.push("iframe"),w().addHook("beforeSanitizeElements",Ae(_e))),w().sanitize(Ne.innerHTML,{ADD_TAGS:rt,FORBID_TAGS:["style"],WHOLE_DOCUMENT:!0,RETURN_DOM:!0})},[he])};var re=e(41128),ne=({theme:he})=>`
/*==================  Variables  ==================*/
/*
  As the MkDocs output is rendered in shadow DOM, the CSS variable definitions on the root selector are not applied. Instead, they have to be applied on :host.
  As there is no way to transform the served main*.css yet (for example in the backend), we have to copy from main*.css and modify them.
*/

:host {
  /* FONT */
  --md-default-fg-color: ${he.palette.text.primary};
  --md-default-fg-color--light: ${he.palette.text.secondary};
  --md-default-fg-color--lighter: ${(0,re.$n)(he.palette.text.secondary,.7)};
  --md-default-fg-color--lightest: ${(0,re.$n)(he.palette.text.secondary,.3)};

  /* BACKGROUND */
  --md-default-bg-color:${he.palette.background.default};
  --md-default-bg-color--light: ${he.palette.background.paper};
  --md-default-bg-color--lighter: ${(0,re.$n)(he.palette.background.paper,.7)};
  --md-default-bg-color--lightest: ${(0,re.$n)(he.palette.background.paper,.3)};

  /* PRIMARY */
  --md-primary-fg-color: ${he.palette.primary.main};
  --md-primary-fg-color--light: ${he.palette.primary.light};
  --md-primary-fg-color--dark: ${he.palette.primary.dark};
  --md-primary-bg-color: ${he.palette.primary.contrastText};
  --md-primary-bg-color--light: ${(0,re.$n)(he.palette.primary.contrastText,.7)};

  /* ACCENT */
  --md-accent-fg-color: var(--md-primary-fg-color);

  /* SHADOW */
  --md-shadow-z1: ${he.shadows[1]};
  --md-shadow-z2: ${he.shadows[2]};
  --md-shadow-z3: ${he.shadows[3]};

  /* EXTENSIONS */
  --md-admonition-fg-color: var(--md-default-fg-color);
  --md-admonition-bg-color: var(--md-default-bg-color);
  /* Admonitions and others are using SVG masks to define icons. These masks are defined as CSS variables. */
  --md-admonition-icon--note: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>');
  --md-admonition-icon--abstract: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 5h16v2H4V5m0 4h16v2H4V9m0 4h16v2H4v-2m0 4h10v2H4v-2z"/></svg>');
  --md-admonition-icon--info: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z"/></svg>');
  --md-admonition-icon--tip: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.55 11.2c-.23-.3-.5-.56-.76-.82-.65-.6-1.4-1.03-2.03-1.66C13.3 7.26 13 4.85 13.91 3c-.91.23-1.75.75-2.45 1.32-2.54 2.08-3.54 5.75-2.34 8.9.04.1.08.2.08.33 0 .22-.15.42-.35.5-.22.1-.46.04-.64-.12a.83.83 0 01-.15-.17c-1.1-1.43-1.28-3.48-.53-5.12C5.89 10 5 12.3 5.14 14.47c.04.5.1 1 .27 1.5.14.6.4 1.2.72 1.73 1.04 1.73 2.87 2.97 4.84 3.22 2.1.27 4.35-.12 5.96-1.6 1.8-1.66 2.45-4.32 1.5-6.6l-.13-.26c-.2-.46-.47-.87-.8-1.25l.05-.01m-3.1 6.3c-.28.24-.73.5-1.08.6-1.1.4-2.2-.16-2.87-.82 1.19-.28 1.89-1.16 2.09-2.05.17-.8-.14-1.46-.27-2.23-.12-.74-.1-1.37.18-2.06.17.38.37.76.6 1.06.76 1 1.95 1.44 2.2 2.8.04.14.06.28.06.43.03.82-.32 1.72-.92 2.27h.01z"/></svg>');
  --md-admonition-icon--success: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>');
  --md-admonition-icon--question: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.07 11.25l-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 00-2-2 2 2 0 00-2 2H8a4 4 0 014-4 4 4 0 014 4 3.2 3.2 0 01-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10c0-5.53-4.5-10-10-10z"/></svg>');
  --md-admonition-icon--warning: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"/></svg>');
  --md-admonition-icon--failure: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41 15.59 7z"/></svg>');
  --md-admonition-icon--danger: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.5 20l4.86-9.73H13V4l-5 9.73h3.5V20M12 2c2.75 0 5.1 1 7.05 2.95C21 6.9 22 9.25 22 12s-1 5.1-2.95 7.05C17.1 21 14.75 22 12 22s-5.1-1-7.05-2.95C3 17.1 2 14.75 2 12s1-5.1 2.95-7.05C6.9 3 9.25 2 12 2z"/></svg>');
  --md-admonition-icon--bug: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 12h-4v-2h4m0 6h-4v-2h4m6-6h-2.81a5.985 5.985 0 00-1.82-1.96L17 4.41 15.59 3l-2.17 2.17a6.002 6.002 0 00-2.83 0L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8z"/></svg>');
  --md-admonition-icon--example: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 13v-2h14v2H7m0 6v-2h14v2H7M7 7V5h14v2H7M3 8V5H2V4h2v4H3m-1 9v-1h3v4H2v-1h2v-.5H3v-1h1V17H2m2.25-7a.75.75 0 01.75.75c0 .2-.08.39-.21.52L3.12 13H5v1H2v-.92L4 11H2v-1h2.25z"/></svg>');
  --md-admonition-icon--quote: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 17h3l2-4V7h-6v6h3M6 17h3l2-4V7H5v6h3l-2 4z"/></svg>');
  --md-footnotes-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.42L5.83 13H21V7h-2z"/></svg>');
  --md-details-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>');
  --md-tasklist-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>');
  --md-tasklist-icon--checked: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>');
  --md-nav-icon--prev: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>');
  --md-nav-icon--next: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>');
  --md-toc-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>');
  --md-clipboard-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12V1z"/></svg>');
  --md-search-result-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h7c-.41-.25-.8-.56-1.14-.9-.33-.33-.61-.7-.86-1.1H6V4h7v5h5v1.18c.71.16 1.39.43 2 .82V8l-6-6m6.31 16.9c1.33-2.11.69-4.9-1.4-6.22-2.11-1.33-4.91-.68-6.22 1.4-1.34 2.11-.69 4.89 1.4 6.22 1.46.93 3.32.93 4.79.02L22 23.39 23.39 22l-3.08-3.1m-3.81.1a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5z"/></svg>');
  --md-source-forks-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 3.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm0 2.122a2.25 2.25 0 1 0-1.5 0v.878A2.25 2.25 0 0 0 5.75 8.5h1.5v2.128a2.251 2.251 0 1 0 1.5 0V8.5h1.5a2.25 2.25 0 0 0 2.25-2.25v-.878a2.25 2.25 0 1 0-1.5 0v.878a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 5 6.25v-.878zm3.75 7.378a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm3-8.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"/></svg>');
  --md-source-repositories-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 1 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 0 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 0 1 1-1h8zM5 12.25v3.25a.25.25 0 0 0 .4.2l1.45-1.087a.25.25 0 0 1 .3 0L8.6 15.7a.25.25 0 0 0 .4-.2v-3.25a.25.25 0 0 0-.25-.25h-3.5a.25.25 0 0 0-.25.25z"/></svg>');
  --md-source-stars-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694v.001z"/></svg>');
  --md-source-version-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 0 1 .25-.25h5.025a.25.25 0 0 1 .177.073l6.25 6.25a.25.25 0 0 1 0 .354l-5.025 5.025a.25.25 0 0 1-.354 0l-6.25-6.25a.25.25 0 0 1-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775zM6 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>');
  --md-version-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m310.6 246.6-127.1 128c-7.1 6.3-15.3 9.4-23.5 9.4s-16.38-3.125-22.63-9.375l-127.1-128C.224 237.5-2.516 223.7 2.438 211.8S19.07 192 32 192h255.1c12.94 0 24.62 7.781 29.58 19.75s3.12 25.75-6.08 34.85z"/></svg>');
}

:host > * {
  /* CODE */
  --md-code-fg-color: ${he.palette.text.primary};
  --md-code-bg-color: ${he.palette.background.paper};
  --md-code-hl-color: ${(0,re.Fq)(he.palette.warning.main,.5)};
  --md-code-hl-keyword-color: ${he.palette.type==="dark"?he.palette.primary.light:he.palette.primary.dark};
  --md-code-hl-function-color: ${he.palette.type==="dark"?he.palette.secondary.light:he.palette.secondary.dark};
  --md-code-hl-string-color: ${he.palette.type==="dark"?he.palette.success.light:he.palette.success.dark};
  --md-code-hl-number-color: ${he.palette.type==="dark"?he.palette.error.light:he.palette.error.dark};
  --md-code-hl-constant-color: var(--md-code-hl-function-color);
  --md-code-hl-special-color: var(--md-code-hl-function-color);
  --md-code-hl-name-color: var(--md-code-fg-color);
  --md-code-hl-comment-color: var(--md-default-fg-color--light);
  --md-code-hl-generic-color: var(--md-default-fg-color--light);
  --md-code-hl-variable-color: var(--md-default-fg-color--light);
  --md-code-hl-operator-color: var(--md-default-fg-color--light);
  --md-code-hl-punctuation-color: var(--md-default-fg-color--light);

  /* TYPESET */
  --md-typeset-font-size: 1rem;
  --md-typeset-color: var(--md-default-fg-color);
  --md-typeset-a-color: var(--md-accent-fg-color);
  --md-typeset-table-color: ${he.palette.text.primary};
  --md-typeset-del-color: ${he.palette.type==="dark"?(0,re.Fq)(he.palette.error.dark,.5):(0,re.Fq)(he.palette.error.light,.5)};
  --md-typeset-ins-color: ${he.palette.type==="dark"?(0,re.Fq)(he.palette.success.dark,.5):(0,re.Fq)(he.palette.success.light,.5)};
  --md-typeset-mark-color: ${he.palette.type==="dark"?(0,re.Fq)(he.palette.warning.dark,.5):(0,re.Fq)(he.palette.warning.light,.5)};
}

@media screen and (max-width: 76.1875em) {
  :host > * {
    /* TYPESET */
    --md-typeset-font-size: .9rem;
  }
}

@media screen and (max-width: 600px) {
  :host > * {
    /* TYPESET */
    --md-typeset-font-size: .7rem;
  }
}
`,_=({theme:he})=>`
/*==================  Reset  ==================*/

body {
  --md-text-color: var(--md-default-fg-color);
  --md-text-link-color: var(--md-accent-fg-color);
  --md-text-font-family: ${he.typography.fontFamily};
  font-family: var(--md-text-font-family);
  background-color: unset;
}
`,se=({theme:he,sidebar:Ne})=>`
/*==================  Layout  ==================*/

.md-grid {
  max-width: 100%;
  margin: 0;
}

.md-nav {
  font-size: calc(var(--md-typeset-font-size) * 0.9);
}
.md-nav__link {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.md-nav__icon {
  height: 20px !important;
  width: 20px !important;
  margin-left:${he.spacing(1)}px;
}
.md-nav__icon svg {
  margin: 0;
  width: 20px !important;
  height: 20px !important;
}
.md-nav__icon:after {
  width: 20px !important;
  height: 20px !important;
}

.md-main__inner {
  margin-top: 0;
}

.md-sidebar {
  bottom: 75px;
  position: fixed;
  width: 16rem;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-color: rgb(193, 193, 193) #eee;
  scrollbar-width: thin;
}
.md-sidebar .md-sidebar__scrollwrap {
  width: calc(16rem - 10px);
}
.md-sidebar--secondary {
  right: ${he.spacing(3)}px;
}
.md-sidebar::-webkit-scrollbar {
  width: 5px;
}
.md-sidebar::-webkit-scrollbar-button {
  width: 5px;
  height: 5px;
}
.md-sidebar::-webkit-scrollbar-track {
  background: #eee;
  border: 1 px solid rgb(250, 250, 250);
  box-shadow: 0px 0px 3px #dfdfdf inset;
  border-radius: 3px;
}
.md-sidebar::-webkit-scrollbar-thumb {
  width: 5px;
  background: rgb(193, 193, 193);
  border: transparent;
  border-radius: 3px;
}
.md-sidebar::-webkit-scrollbar-thumb:hover {
  background: rgb(125, 125, 125);
}

.md-content {
  max-width: calc(100% - 16rem * 2);
  margin-left: 16rem;
  margin-bottom: 50px;
}

.md-footer {
  position: fixed;
  bottom: 0px;
}
.md-footer__title {
  background-color: unset;
}
.md-footer-nav__link {
  width: 16rem;
}

.md-dialog {
  background-color: unset;
}

@media screen and (min-width: 76.25em) {
  .md-sidebar {
    height: auto;
  }
}

@media screen and (max-width: 76.1875em) {
  .md-nav {
    transition: none !important;
    background-color: var(--md-default-bg-color)
  }
  .md-nav--primary .md-nav__title {
    cursor: auto;
    color: var(--md-default-fg-color);
    font-weight: 700;
    white-space: normal;
    line-height: 1rem;
    height: auto;
    display: flex;
    flex-flow: column;
    row-gap: 1.6rem;
    padding: 1.2rem .8rem .8rem;
    background-color: var(--md-default-bg-color);
  }
  .md-nav--primary .md-nav__title~.md-nav__list {
    box-shadow: none;
  }
  .md-nav--primary .md-nav__title ~ .md-nav__list > :first-child {
    border-top: none;
  }
  .md-nav--primary .md-nav__title .md-nav__button {
    display: none;
  }
  .md-nav--primary .md-nav__title .md-nav__icon {
    color: var(--md-default-fg-color);
    position: static;
    height: auto;
    margin: 0 0 0 -0.2rem;
  }
  .md-nav--primary > .md-nav__title [for="none"] {
    padding-top: 0;
  }
  .md-nav--primary .md-nav__item {
    border-top: none;
  }
  .md-nav--primary :is(.md-nav__title,.md-nav__item) {
    font-size : var(--md-typeset-font-size);
  }
  .md-nav .md-source {
    display: none;
  }

  .md-sidebar {
    height: 100%;
  }
  .md-sidebar--primary {
    width: 12.1rem !important;
    z-index: 200;
    left: ${Ne.isPinned?"calc(-12.1rem + 242px)":"calc(-12.1rem + 72px)"} !important;
  }
  .md-sidebar--secondary:not([hidden]) {
    display: none;
  }

  .md-content {
    max-width: 100%;
    margin-left: 0;
  }

  .md-header__button {
    margin: 0.4rem 0;
    margin-left: 0.4rem;
    padding: 0;
  }

  .md-overlay {
    left: 0;
  }

  .md-footer {
    position: static;
    padding-left: 0;
  }
  .md-footer-nav__link {
    /* footer links begin to overlap at small sizes without setting width */
    width: 50%;
  }
}

@media screen and (max-width: 600px) {
  .md-sidebar--primary {
    left: -12.1rem !important;
    width: 12.1rem;
  }
}
`;const j=["h1","h2","h3","h4","h5","h6"];var ae=({theme:he})=>`
/*==================  Typeset  ==================*/

.md-typeset {
  font-size: var(--md-typeset-font-size);
}

${j.reduce((Ne,_e)=>{const rt=he.typography[_e],{lineHeight:it,fontFamily:gt,fontWeight:Rt,fontSize:Bt}=rt,Ht=Gt=>{let Qt=1;return typeof Gt=="number"&&(Qt=Gt/16*.6),typeof Gt=="string"&&(Qt=Gt.replace("rem","")),`calc(${Qt} * var(--md-typeset-font-size))`};return Ne.concat(`
    .md-typeset ${_e} {
      color: var(--md-default-fg-color);
      line-height: ${it};
      font-family: ${gt};
      font-weight: ${Rt};
      font-size: ${Ht(Bt)};
    }
  `)},"")}

.md-typeset .md-content__button {
  color: var(--md-default-fg-color);
}

.md-typeset hr {
  border-bottom: 0.05rem dotted ${he.palette.divider};
}

.md-typeset details {
  font-size: var(--md-typeset-font-size) !important;
}
.md-typeset details summary {
  padding-left: 2.5rem !important;
}
.md-typeset details summary:before,
.md-typeset details summary:after {
  top: 50% !important;
  width: 20px !important;
  height: 20px !important;
  transform: rotate(0deg) translateY(-50%) !important;
}
.md-typeset details[open] > summary:after {
  transform: rotate(90deg) translateX(-50%) !important;
}

.md-typeset blockquote {
  color: var(--md-default-fg-color--light);
  border-left: 0.2rem solid var(--md-default-fg-color--light);
}

.md-typeset table:not([class]) {
  font-size: var(--md-typeset-font-size);
  border: 1px solid var(--md-default-fg-color);
  border-bottom: none;
  border-collapse: collapse;
}
.md-typeset table:not([class]) th {
  font-weight: bold;
}
.md-typeset table:not([class]) td, .md-typeset table:not([class]) th {
  border-bottom: 1px solid var(--md-default-fg-color);
}

.md-typeset pre > code::-webkit-scrollbar-thumb {
  background-color: hsla(0, 0%, 0%, 0.32);
}
.md-typeset pre > code::-webkit-scrollbar-thumb:hover {
  background-color: hsla(0, 0%, 0%, 0.87);
}
`,X=()=>`
/*==================  Animations  ==================*/
/*
  Disable CSS animations on link colors as they lead to issues in dark mode.
  The dark mode color theme is applied later and theirfore there is always an animation from light to dark mode when navigation between pages.
*/
.md-dialog, .md-nav__link, .md-footer__link, .md-typeset a, .md-typeset a::before, .md-typeset .headerlink {
  transition: none;
}
`,z=({theme:he})=>`
/*==================  Extensions  ==================*/

/* HIGHLIGHT */
.highlight .md-clipboard:after {
  content: unset;
}

.highlight .nx {
  color: ${he.palette.type==="dark"?"#ff53a3":"#ec407a"};
}

/* CODE HILITE */
.codehilite .gd {
  background-color: ${he.palette.type==="dark"?"rgba(248,81,73,0.65)":"#fdd"};
}

.codehilite .gi {
  background-color: ${he.palette.type==="dark"?"rgba(46,160,67,0.65)":"#dfd"};
}

/* TABBED */
.tabbed-set>input:nth-child(1):checked~.tabbed-labels>:nth-child(1),
.tabbed-set>input:nth-child(2):checked~.tabbed-labels>:nth-child(2),
.tabbed-set>input:nth-child(3):checked~.tabbed-labels>:nth-child(3),
.tabbed-set>input:nth-child(4):checked~.tabbed-labels>:nth-child(4),
.tabbed-set>input:nth-child(5):checked~.tabbed-labels>:nth-child(5),
.tabbed-set>input:nth-child(6):checked~.tabbed-labels>:nth-child(6),
.tabbed-set>input:nth-child(7):checked~.tabbed-labels>:nth-child(7),
.tabbed-set>input:nth-child(8):checked~.tabbed-labels>:nth-child(8),
.tabbed-set>input:nth-child(9):checked~.tabbed-labels>:nth-child(9),
.tabbed-set>input:nth-child(10):checked~.tabbed-labels>:nth-child(10),
.tabbed-set>input:nth-child(11):checked~.tabbed-labels>:nth-child(11),
.tabbed-set>input:nth-child(12):checked~.tabbed-labels>:nth-child(12),
.tabbed-set>input:nth-child(13):checked~.tabbed-labels>:nth-child(13),
.tabbed-set>input:nth-child(14):checked~.tabbed-labels>:nth-child(14),
.tabbed-set>input:nth-child(15):checked~.tabbed-labels>:nth-child(15),
.tabbed-set>input:nth-child(16):checked~.tabbed-labels>:nth-child(16),
.tabbed-set>input:nth-child(17):checked~.tabbed-labels>:nth-child(17),
.tabbed-set>input:nth-child(18):checked~.tabbed-labels>:nth-child(18),
.tabbed-set>input:nth-child(19):checked~.tabbed-labels>:nth-child(19),
.tabbed-set>input:nth-child(20):checked~.tabbed-labels>:nth-child(20) {
  color: var(--md-accent-fg-color);
  border-color: var(--md-accent-fg-color);
}

/* TASK-LIST */
.task-list-control .task-list-indicator::before {
  background-color: ${he.palette.action.disabledBackground};
}
.task-list-control [type="checkbox"]:checked + .task-list-indicator:before {
 background-color: ${he.palette.success.main};
}

/* ADMONITION */
.admonition {
  font-size: var(--md-typeset-font-size) !important;
}
.admonition .admonition-title {
  padding-left: 2.5rem !important;
}

.admonition .admonition-title:before {
  top: 50% !important;
  width: 20px !important;
  height: 20px !important;
  transform: translateY(-50%) !important;
}
`;const Q=[ne,_,se,ae,X,z],fe=()=>(0,d.useSidebarPinState)(),q=()=>{const he=fe(),Ne=(0,Z.Z)();return(0,t.useMemo)(()=>{const _e={theme:Ne,sidebar:he};return Q.reduce((rt,it)=>rt+it(_e),"")},[Ne,he])},k=()=>{const he=q();return(0,t.useCallback)(Ne=>(Ne.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",`<style>${he}</style>`),Ne),[he])},b=(he,Ne,_e)=>{const rt=he==="src"&&Ne.endsWith(".svg"),it=!Ne.match(/^([a-z]*:)?\/\//i),gt=Ne.startsWith(_e);return rt&&(it||gt)},F=({techdocsStorageApi:he,entityId:Ne,path:_e})=>async rt=>{const it=await he.getApiOrigin(),gt=async(Rt,Bt)=>{for(const Ht of Rt)if(Ht.hasAttribute(Bt)){const Gt=Ht.getAttribute(Bt);if(!Gt)return;const Qt=await he.getBaseUrl(Gt,Ne,_e);if(b(Bt,Gt,it))try{const dn=await(await fetch(Qt,{credentials:"include"})).text();Ht.setAttribute(Bt,`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(dn)))}`)}catch{Ht.setAttribute("alt",`Error: ${Gt}`)}else Ht.setAttribute(Bt,Qt)}};return await Promise.all([gt(rt.querySelectorAll("img"),"src"),gt(rt.querySelectorAll("script"),"src"),gt(rt.querySelectorAll("source"),"src"),gt(rt.querySelectorAll("link"),"href"),gt(rt.querySelectorAll("a[download]"),"href")]),rt};var N=e(68370),W=e(67097),Ee=e(47093),Ce=e(82717),te=e.n(Ce);const Re=he=>Ne=>{var dn;const _e=Ne.querySelector('[title="Edit this page"]');if(!_e||!_e.href)return Ne;const rt=new URL(_e.href),it=he.byUrl(rt);if((it==null?void 0:it.type)!=="github"&&(it==null?void 0:it.type)!=="gitlab")return Ne;const gt=((dn=Ne.querySelector("article>h1"))==null?void 0:dn.childNodes[0].textContent)||"",Rt=encodeURIComponent(`Documentation Feedback: ${gt}`),Bt=encodeURIComponent(`Page source:
${_e.href}

Feedback:`),Ht=(it==null?void 0:it.type)==="github"?(0,N.Pb)(rt.href,"blob"):rt.href,Gt=te()(Ht),Qt=`/${Gt.organization}/${Gt.name}`,Nt=_e.cloneNode();switch(it==null?void 0:it.type){case"gitlab":Nt.href=`${rt.origin}${Qt}/issues/new?issue[title]=${Rt}&issue[description]=${Bt}`;break;case"github":Nt.href=`${rt.origin}${Qt}/issues/new?title=${Rt}&body=${Bt}`;break;default:return Ne}return Ee.render(t.createElement(W.Z),Nt),Nt.style.paddingLeft="5px",Nt.title="Leave feedback for this page",Nt.id="git-feedback-link",_e==null||_e.insertAdjacentElement("beforebegin",Nt),Ne};var $=e(44882);const ie=()=>he=>{const Ne=he.querySelector('.md-header label[for="__drawer"]'),_e=he.querySelector("article");if(!Ne||!_e)return he;const rt=Ne.cloneNode();return Ee.render(t.createElement($.Z),rt),rt.id="toggle-sidebar",rt.title="Toggle Sidebar",rt.classList.add("md-content__button"),rt.style.setProperty("padding","0 0 0 5px"),rt.style.setProperty("margin","0.4rem 0 0.4rem 0.4rem"),_e==null||_e.prepend(rt),he},de=()=>he=>(((_e,rt)=>{Array.from(_e).filter(it=>it.hasAttribute(rt)).forEach(it=>{const gt=it.getAttribute(rt);if(gt){gt.match(/^https?:\/\//i)&&it.setAttribute("target","_blank");try{const Rt=Pe(window.location.href);it.setAttribute(rt,new URL(gt,Rt).toString())}catch{it.replaceWith(it.textContent||gt)}}})})(Array.from(he.getElementsByTagName("a")),"href"),he);function Pe(he){const Ne=new URL(he);return!Ne.pathname.endsWith("/")&&!Ne.pathname.endsWith(".html")&&(Ne.pathname+="/"),Ne.toString()}const He=({baseUrl:he,onClick:Ne})=>_e=>(Array.from(_e.getElementsByTagName("a")).forEach(rt=>{rt.addEventListener("click",it=>{const Rt=rt.getAttribute("href");!Rt||Rt.startsWith(he)&&!rt.hasAttribute("download")&&(it.preventDefault(),Ne(it,Rt))})}),_e);var We=e(15459),Ge=e(80030),Ve=e(72379),ut=e(41547);const nt=(0,We.Z)(he=>({tooltip:{fontSize:"inherit",color:he.palette.text.primary,margin:0,padding:he.spacing(.5),backgroundColor:"transparent",boxShadow:"none"}}))(Ge.ZP),At=()=>t.createElement(Ve.Z,null,t.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})),Le=({text:he})=>{const[Ne,_e]=(0,t.useState)(!1),rt=(0,t.useCallback)(()=>{navigator.clipboard.writeText(he),_e(!0)},[he]),it=(0,t.useCallback)(()=>{_e(!1)},[_e]);return t.createElement(nt,{title:"Copied to clipboard",placement:"left",open:Ne,onClose:it,leaveDelay:1e3},t.createElement("button",{className:"md-clipboard md-icon",onClick:rt},t.createElement(At,null)))},Te=he=>Ne=>{var rt;const _e=Ne.querySelectorAll("pre > code");for(const it of _e){const gt=it.textContent||"",Rt=document.createElement("div");(rt=it==null?void 0:it.parentElement)==null||rt.prepend(Rt),Ee.render(t.createElement(ut.Z,{theme:he},t.createElement(Le,{text:gt})),Rt)}return Ne},pe=()=>he=>{var Ne;return(Ne=he.querySelector(".md-header"))==null||Ne.remove(),he},Be=()=>he=>{var Ne,_e;return(Ne=he.querySelector(".md-footer .md-copyright"))==null||Ne.remove(),(_e=he.querySelector(".md-footer-copyright"))==null||_e.remove(),he},ot=({onLoading:he,onLoaded:Ne})=>_e=>(he(),_e.addEventListener(i.Ox,function rt(){Ne(),_e.removeEventListener(i.Ox,rt)}),_e),at=()=>he=>(setTimeout(()=>{var Ne;if(window.location.hash){const _e=window.location.hash.slice(1);(Ne=he==null?void 0:he.querySelector(`[id="${_e}"]`))==null||Ne.scrollIntoView()}},200),he),ke=async(he,Ne)=>{let _e;if(typeof he=="string")_e=new DOMParser().parseFromString(he,"text/html").documentElement;else if(he instanceof Element)_e=he;else throw new Error("dom is not a recognized type");for(const rt of Ne)_e=await rt(_e);return _e},Zt="screen and (max-width: 76.1875em)",$e=he=>{const Ne=(0,I.s0)(),_e=(0,Z.Z)(),rt=(0,L.Z)(Zt),it=Ie(),gt=k(),Rt=(0,E.useApi)(i.Dl),Bt=(0,E.useApi)(D.q3),{state:Ht,path:Gt,content:Qt}=(0,S.DK)(),[Nt,dn]=(0,t.useState)(null),wt=(0,i.ux)(Nt),tn=(0,t.useCallback)(()=>{if(!Nt)return;Nt.querySelectorAll(".md-sidebar").forEach(Xt=>{var hn,pn;if(rt)Xt.style.top="0px";else{const qt=(hn=Nt.getBoundingClientRect().top)!=null?hn:0,Zn=Nt.querySelector(".md-container > .md-tabs"),kn=(pn=Zn==null?void 0:Zn.getBoundingClientRect().height)!=null?pn:0;Xt.style.top=`${Math.max(qt,0)+kn}px`}Xt.style.setProperty("opacity","1")})},[Nt,rt]);(0,t.useEffect)(()=>(window.addEventListener("resize",tn),window.addEventListener("scroll",tn,!0),()=>{window.removeEventListener("resize",tn),window.removeEventListener("scroll",tn,!0)}),[Nt,tn]);const Jt=(0,t.useCallback)(()=>{if(!Nt)return;const nn=Nt.querySelector(".md-footer");nn&&(nn.style.width=`${Nt.getBoundingClientRect().width}px`)},[Nt]);(0,t.useEffect)(()=>(window.addEventListener("resize",Jt),()=>{window.removeEventListener("resize",Jt)}),[Nt,Jt]),(0,t.useEffect)(()=>{wt||(Jt(),tn())},[Ht,wt,Jt,tn]);const Rn=(0,t.useCallback)((nn,Xt)=>ke(nn,[it,F({techdocsStorageApi:Rt,entityId:he,path:Xt}),de(),ie(),pe(),Be(),Re(Bt),gt]),[he,Bt,Rt,it,gt]),Dn=(0,t.useCallback)(async nn=>ke(nn,[at(),Te(_e),He({baseUrl:window.location.origin,onClick:(Xt,hn)=>{var Zn;const pn=Xt.ctrlKey||Xt.metaKey,qt=new URL(hn);qt.hash?pn?window.open(`${qt.pathname}${qt.hash}`,"_blank"):(Ne(`${qt.pathname}${qt.hash}`),(Zn=nn==null?void 0:nn.querySelector(`#${qt.hash.slice(1)}`))==null||Zn.scrollIntoView()):pn?window.open(qt.pathname,"_blank"):Ne(qt.pathname)}}),ot({onLoading:()=>{},onLoaded:()=>{var Xt;(Xt=nn.querySelector(".md-nav__title"))==null||Xt.removeAttribute("for")}}),ot({onLoading:()=>{Array.from(nn.querySelectorAll(".md-sidebar")).forEach(hn=>{hn.style.setProperty("opacity","0")})},onLoaded:()=>{}})]),[_e,Ne]);return(0,t.useEffect)(()=>{if(!Qt)return()=>{};let nn=!0;return Rn(Qt,Gt).then(async Xt=>{if(!(Xt!=null&&Xt.innerHTML)||!nn)return;window.scroll({top:0});const hn=await Dn(Xt);dn(hn)}),()=>{nn=!1}},[Qt,Gt,Rn,Dn]),Nt};var Wt=e(8560);const Kt=()=>{const he=(0,i.$L)(),{shadowRoot:Ne}=(0,i.x1)(),_e=Ne==null?void 0:Ne.querySelector('[data-md-component="content"]'),rt=Ne==null?void 0:Ne.querySelector('div[data-md-component="sidebar"][data-md-type="navigation"], div[data-md-component="navigation"]');let it=rt==null?void 0:rt.querySelector('[data-techdocs-addons-location="primary sidebar"]');it||(it=document.createElement("div"),it.setAttribute("data-techdocs-addons-location","primary sidebar"),rt==null||rt.prepend(it));const gt=Ne==null?void 0:Ne.querySelector('div[data-md-component="sidebar"][data-md-type="toc"], div[data-md-component="toc"]');let Rt=gt==null?void 0:gt.querySelector('[data-techdocs-addons-location="secondary sidebar"]');return Rt||(Rt=document.createElement("div"),Rt.setAttribute("data-techdocs-addons-location","secondary sidebar"),gt==null||gt.prepend(Rt)),t.createElement(t.Fragment,null,t.createElement(Wt.Z,{container:it},he.renderComponentsByLocation(i.oZ.PrimarySidebar)),t.createElement(Wt.Z,{container:_e},he.renderComponentsByLocation(i.oZ.Content)),t.createElement(Wt.Z,{container:Rt},he.renderComponentsByLocation(i.oZ.SecondarySidebar)))},Qe=(0,n.Z)({search:{width:"100%","@media (min-width: 76.1875em)":{width:"calc(100% - 34.4rem)",margin:"0 auto"}}}),tt=(0,S.m1)(he=>{const{withSearch:Ne=!0,onReady:_e}=he,rt=Qe(),{entityMetadata:{value:it,loading:gt},entityRef:Rt,setShadowRoot:Bt}=(0,i.x1)(),Ht=$e(Rt),Gt=(0,t.useCallback)(Qt=>{Bt(Qt),_e instanceof Function&&_e()},[Bt,_e]);return gt===!1&&!it?t.createElement(d.ErrorPage,{status:"404",statusMessage:"PAGE NOT FOUND"}):Ht?t.createElement(d.Content,null,t.createElement(r.Z,{container:!0},t.createElement(r.Z,{xs:12,item:!0},t.createElement(P,null)),Ne&&t.createElement(r.Z,{className:rt.search,xs:"auto",item:!0},t.createElement(s.S,{entityId:Rt})),t.createElement(r.Z,{xs:12,item:!0},t.createElement(i.VA,{element:Ht,onAppend:Gt},t.createElement(Kt,null))))):t.createElement(d.Content,null,t.createElement(r.Z,{container:!0},t.createElement(r.Z,{xs:12,item:!0},t.createElement(P,null))))}),Tt=null},99954:function(H,l,e){"use strict";e.d(l,{S:function(){return f}});var t=e(2784),n=e(18671),r=e(98069),i=e(73250),d=e(26136),s=e(53479),a=e(48023),c=e(23192),o=e(36964),g=e(68725);const u=t.createElement(r.Z,{animation:"wave",variant:"text",height:40}),f=h=>{const{children:p}=h,A=(0,d.$L)(),R=(0,o.useApi)(o.configApiRef),{title:y,setTitle:E,subtitle:C,setSubtitle:S,entityRef:T,metadata:{value:P,loading:I},entityMetadata:{value:Z,loading:L}}=(0,d.x1)();(0,t.useEffect)(()=>{!P||(E(ge=>{const{site_name:Ae}=P;return ge||Ae}),S(ge=>{let{site_description:Ae}=P;return(!Ae||Ae==="None")&&(Ae="Home"),ge||Ae}))},[P,E,S]);const D=R.getOptional("app.title")||"Backstage",B=[C,y,D].filter(Boolean).join(" | "),{locationMetadata:w,spec:V}=Z||{},G=V==null?void 0:V.lifecycle,M=Z?(0,s.getEntityRelations)(Z,a.S4):[],ce=(0,o.useRouteRef)(g._Z)(),ue=t.createElement(t.Fragment,null,t.createElement(c.HeaderLabel,{label:"Component",value:t.createElement(s.EntityRefLink,{color:"inherit",entityRef:T,defaultKind:"Component"})}),M.length>0&&t.createElement(c.HeaderLabel,{label:"Owner",value:t.createElement(s.EntityRefLinks,{color:"inherit",entityRefs:M,defaultKind:"group"})}),G?t.createElement(c.HeaderLabel,{label:"Lifecycle",value:G}):null,w&&w.type!=="dir"&&w.type!=="file"?t.createElement(c.HeaderLabel,{label:"",value:t.createElement("a",{href:w.target,target:"_blank",rel:"noopener noreferrer"},t.createElement(i.Z,{style:{marginTop:"-25px",fill:"#fff"}}))}):null);return!L&&Z===void 0||!I&&P===void 0?null:t.createElement(c.Header,{type:"Documentation",typeLink:ce,title:y||u,subtitle:C||u},t.createElement(n.Z,{titleTemplate:"%s"},t.createElement("title",null,B)),ue,p,A.renderComponentsByLocation(d.oZ.Header))}},16172:function(H,l,e){"use strict";e.d(l,{b:function(){return u}});var t=e(2784),n=e(79692),r=e(15223),i=e(95544),d=e(80030),s=e(61837),a=e(48348),c=e(47603),o=e(26136);const g=(0,n.Z)(f=>({root:{gridArea:"pageSubheader",flexDirection:"column",minHeight:"auto",padding:f.spacing(3,3,0)}})),u=({toolbarProps:f})=>{const h=g(),[p,A]=(0,t.useState)(null),R=(0,t.useCallback)(I=>{A(I.currentTarget)},[]),y=(0,t.useCallback)(()=>{A(null)},[]),{entityMetadata:{value:E,loading:C}}=(0,o.x1)(),S=(0,o.$L)(),T=S.renderComponentsByLocation(o.oZ.Subheader),P=S.renderComponentsByLocation(o.oZ.Settings);return!T&&!P||C===!1&&!E?null:t.createElement(r.Z,{classes:h,...f},t.createElement(i.Z,{display:"flex",justifyContent:"flex-end",width:"100%",flexWrap:"wrap"},T,P?t.createElement(t.Fragment,null,t.createElement(d.ZP,{title:"Settings"},t.createElement(s.Z,{"aria-controls":"tech-docs-reader-page-settings","aria-haspopup":"true",onClick:R},t.createElement(c.Z,null))),t.createElement(a.Z,{id:"tech-docs-reader-page-settings",getContentAnchorEl:null,anchorEl:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:Boolean(p),onClose:y,keepMounted:!0},P)):null))}},2263:function(H,l,e){"use strict";e.d(l,{DK:function(){return u},m1:function(){return h}});var t=e(2784),n=e(10289),r=e(26136),i=e(36964),d=e(64279),s=e(77446);function a({contentLoading:p,content:A,activeSyncState:R}){return p||R==="BUILD_READY_RELOAD"||!A&&R==="CHECKING"?"CHECKING":!A&&R==="BUILDING"?"INITIAL_BUILD":A?R==="BUILDING"?"CONTENT_STALE_REFRESHING":R==="BUILD_READY"?"CONTENT_STALE_READY":R==="ERROR"?"CONTENT_STALE_ERROR":"CONTENT_FRESH":"CONTENT_NOT_FOUND"}function c(p,A){const R={...p};switch(A.type){case"sync":A.state==="CHECKING"&&(R.buildLog=[]),R.activeSyncState=A.state,R.syncError=A.syncError;break;case"contentLoading":R.contentLoading=!0,R.contentError=void 0;break;case"content":typeof A.path=="string"&&(R.path=A.path),R.contentLoading=!1,R.content=A.content,R.contentError=A.contentError;break;case"buildLog":R.buildLog=R.buildLog.concat(A.log);break;default:throw new Error}return["BUILD_READY","BUILD_READY_RELOAD"].includes(R.activeSyncState)&&["contentLoading","content"].includes(A.type)&&(R.activeSyncState="UP_TO_DATE",R.buildLog=[]),R}function o(p,A,R,y){var Z,L;const[E,C]=(0,t.useReducer)(c,{activeSyncState:"CHECKING",path:y,contentLoading:!0,buildLog:[]}),S=(0,i.useApi)(r.Dl),{retry:T}=(0,s.Z)(async()=>{C({type:"contentLoading"});try{const D=await S.getEntityDocs({kind:p,namespace:A,name:R},y);return C({type:"content",content:D,path:y}),D}catch(D){C({type:"content",contentError:D,path:y})}},[S,p,A,R,y]),P=(0,t.useRef)({content:void 0,reload:()=>{}});return P.current={content:E.content,reload:T},(0,d.default)(async()=>{C({type:"sync",state:"CHECKING"});const D=setTimeout(()=>{C({type:"sync",state:"BUILDING"})},1e3);try{switch(await S.syncEntityDocs({kind:p,namespace:A,name:R},w=>{C({type:"buildLog",log:w})})){case"updated":P.current.content?C({type:"sync",state:"BUILD_READY"}):(P.current.reload(),C({type:"sync",state:"BUILD_READY_RELOAD"}));break;case"cached":C({type:"sync",state:"UP_TO_DATE"});break;default:C({type:"sync",state:"ERROR",syncError:new Error("Unexpected return state")});break}}catch(B){C({type:"sync",state:"ERROR",syncError:B})}finally{clearTimeout(D)}},[p,R,A,S,C,P]),{state:(0,t.useMemo)(()=>a({activeSyncState:E.activeSyncState,contentLoading:E.contentLoading,content:E.content}),[E.activeSyncState,E.content,E.contentLoading]),contentReload:T,path:E.path,content:E.content,contentErrorMessage:(Z=E.contentError)==null?void 0:Z.toString(),syncErrorMessage:(L=E.syncError)==null?void 0:L.toString(),buildLog:E.buildLog}}const g=(0,t.createContext)({}),u=()=>(0,t.useContext)(g),f=({children:p})=>{const{"*":A=""}=(0,n.UO)(),{entityRef:R}=(0,r.x1)(),{kind:y,namespace:E,name:C}=R,S=o(y,E,C,A);return t.createElement(g.Provider,{value:S},p instanceof Function?p(S):p)},h=p=>A=>t.createElement(f,null,t.createElement(p,{...A}))},68725:function(H,l,e){"use strict";e.d(l,{Fw:function(){return r},_Z:function(){return n},pd:function(){return i}});var t=e(36964);const n=(0,t.createRouteRef)({id:"techdocs:index-page"}),r=(0,t.createRouteRef)({id:"techdocs:reader-page",params:["namespace","kind","name"]}),i=(0,t.createRouteRef)({id:"techdocs:catalog-reader-view"})},47861:function(H,l,e){"use strict";e.d(l,{S:function(){return S},b:function(){return o}});var t=e(2784),n=e(79692),r=e(49378),i=e(38402),d=e(85256),s=e(23192),a=e(73624);const c=(0,n.Z)({flexContainer:{flexWrap:"wrap"},itemText:{width:"100%",marginBottom:"1rem"}}),o=T=>{const{result:P,highlight:I,lineClamp:Z=5,asListItem:L=!0,asLink:D=!0,title:B}=T,w=c(),V=()=>{const ce=I!=null&&I.fields.title?t.createElement(a.FA,{text:I.fields.title,preTag:I.preTag,postTag:I.postTag}):P.title,ue=I!=null&&I.fields.entityTitle?t.createElement(a.FA,{text:I.fields.entityTitle,preTag:I.preTag,postTag:I.postTag}):P.entityTitle,le=I!=null&&I.fields.name?t.createElement(a.FA,{text:I.fields.name,preTag:I.preTag,postTag:I.postTag}):P.name;return t.createElement(r.Z,{className:w.itemText,primaryTypographyProps:{variant:"h6"},primary:B||t.createElement(t.Fragment,null,ce," | ",ue!=null?ue:le," docs"),secondary:t.createElement("span",{style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:Z,overflow:"hidden"}},I!=null&&I.fields.text?t.createElement(a.FA,{text:I.fields.text,preTag:I.preTag,postTag:I.postTag}):P.text)})},G=({children:ce})=>D?t.createElement(s.Link,{to:P.location},ce):t.createElement(t.Fragment,null,ce),M=({children:ce})=>L?t.createElement(t.Fragment,null,t.createElement(i.Z,{alignItems:"flex-start",className:w.flexContainer},ce),t.createElement(d.Z,{component:"li"})):t.createElement(t.Fragment,null,ce);return t.createElement(G,null,t.createElement(M,null,t.createElement(V,null)))};var g=e(86619),u=e(50581),f=e(61837),h=e(4614),p=e(21853),A=e(88013),R=e(10289),y=e(48760);const E=(0,n.Z)({root:{width:"100%"}}),C=T=>{const{entityId:P,debounceTime:I=150}=T,[Z,L]=(0,t.useState)(!1),D=(0,R.s0)(),{term:B,setTerm:w,setFilters:V,result:{loading:G,value:M}}=(0,a.Rx)(),ce=E(),[ue,le]=(0,t.useState)([]);(0,t.useEffect)(()=>{let _=!0;if(_&&M){const se=M.results.slice(0,10);le(se)}return()=>{_=!1}},[G,M]);const[me,ge]=(0,t.useState)(B);(0,y.Z)(()=>w(me),I,[me]);const{kind:Ae,name:ee,namespace:Ie}=P;(0,t.useEffect)(()=>{V(_=>({..._,kind:Ae,namespace:Ie,name:ee}))},[Ae,Ie,ee,V]);const re=_=>{Z||L(!0),ge(_.target.value)},ne=(_,se)=>{if(se!=null&&se.document){const{location:j}=se.document;D(j)}};return t.createElement(A.ZP,{classes:{root:ce.root},"data-testid":"techdocs-search-bar",size:"small",open:Z,getOptionLabel:()=>"",filterOptions:_=>_,onClose:()=>{L(!1)},onFocus:()=>{L(!0)},onChange:ne,blurOnSelect:!0,noOptionsText:"No results found",value:null,options:ue,renderOption:({document:_,highlight:se})=>t.createElement(o,{result:_,lineClamp:3,asListItem:!1,asLink:!1,title:_.title,highlight:se}),loading:G,renderInput:_=>t.createElement(g.Z,{..._,"data-testid":"techdocs-search-bar-input",variant:"outlined",fullWidth:!0,placeholder:`Search ${P.name} docs`,value:me,onChange:re,InputProps:{..._.InputProps,startAdornment:t.createElement(u.Z,{position:"start"},t.createElement(f.Z,{"aria-label":"Query",disabled:!0},t.createElement(p.Z,null))),endAdornment:t.createElement(t.Fragment,null,G?t.createElement(h.Z,{color:"inherit",size:20}):null,_.InputProps.endAdornment)}})})},S=T=>{const P={term:"",types:["techdocs"],pageCursor:"",filters:T.entityId};return t.createElement(a.Nd,{initialState:P},t.createElement(C,{...T}))}},98157:function(){},98459:function(H,l,e){"use strict";e.d(l,{G:function(){return r},v:function(){return d}});var t=e(48023),n=e(10179);class r{constructor(a){Me(this,"discoveryApi");Me(this,"identityApi");this.discoveryApi=a.discoveryApi,this.identityApi=a.identityApi}async listTodos(a){const{entity:c,offset:o,limit:g,orderBy:u,filters:f}=a,h=await this.discoveryApi.getBaseUrl("todo"),{token:p}=await this.identityApi.getCredentials(),A=new URLSearchParams;if(c&&A.set("entity",(0,t.eE)(c)),typeof o=="number"&&A.set("offset",String(o)),typeof g=="number"&&A.set("limit",String(g)),u&&A.set("orderBy",`${u.field}=${u.direction}`),f)for(const E of f)A.append("filter",`${E.field}=${E.value}`);const R=await fetch(`${h}/v1/todos?${A}`,{headers:p?{Authorization:`Bearer ${p}`}:void 0});if(!R.ok)throw await n.VL.fromResponse(R);return await R.json()}}var i=e(36964);const d=(0,i.createApiRef)({id:"plugin.todo.api"})},52183:function(H,l,e){"use strict";e.d(l,{t:function(){return y}});var t=e(2784),n=e(11776),r=e(90436),i=e(77277),d=e(23192);const s=`auth:
  providers:
    google:
      development:
        clientId: \${AUTH_GOOGLE_CLIENT_ID}
        clientSecret: \${AUTH_GOOGLE_CLIENT_SECRET}
`,a=()=>t.createElement(d.EmptyState,{missing:"content",title:"No Authentication Providers",description:"You can add Authentication Providers to Backstage which allows you to use these providers to authenticate yourself.",action:t.createElement(t.Fragment,null,t.createElement(r.Z,{variant:"body1"},"Open ",t.createElement("code",null,"app-config.yaml")," and make the changes as highlighted below:"),t.createElement(d.CodeSnippet,{text:s,language:"yaml",showLineNumbers:!0,highlightedNumbers:[3,4,5,6,7,8],customStyle:{background:"inherit",fontSize:"115%"}}),t.createElement(i.Z,{variant:"contained",color:"primary",href:"https://backstage.io/docs/auth/add-auth-provider"},"Read More"))});var c=e(11640),o=e(38402),g=e(86136),u=e(49378),f=e(80030),h=e(25859),p=e(36964);const A=({title:E,description:C,icon:S,apiRef:T})=>{const P=(0,p.useApi)(T),[I,Z]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let L=!1;const D=P.sessionState$().subscribe(B=>{L||Z(B===p.SessionState.SignedIn)});return()=>{L=!0,D.unsubscribe()}},[P]),t.createElement(o.Z,null,t.createElement(g.Z,null,t.createElement(S,null)),t.createElement(u.Z,{primary:E,secondary:t.createElement(f.ZP,{placement:"top",arrow:!0,title:C},t.createElement("span",null,C)),secondaryTypographyProps:{noWrap:!0,style:{width:"80%"}}}),t.createElement(h.Z,null,t.createElement(f.ZP,{placement:"top",arrow:!0,title:I?`Sign out from ${E}`:`Sign in to ${E}`},t.createElement(i.Z,{variant:"outlined",color:"primary",onClick:()=>I?P.signOut():P.signIn()},I?"Sign out":"Sign in"))))},R=({configuredProviders:E})=>t.createElement(t.Fragment,null,E.includes("google")&&t.createElement(A,{title:"Google",description:"Provides authentication towards Google APIs and identities",apiRef:p.googleAuthApiRef,icon:c.Z}),E.includes("microsoft")&&t.createElement(A,{title:"Microsoft",description:"Provides authentication towards Microsoft APIs and identities",apiRef:p.microsoftAuthApiRef,icon:c.Z}),E.includes("github")&&t.createElement(A,{title:"GitHub",description:"Provides authentication towards GitHub APIs",apiRef:p.githubAuthApiRef,icon:c.Z}),E.includes("gitlab")&&t.createElement(A,{title:"GitLab",description:"Provides authentication towards GitLab APIs",apiRef:p.gitlabAuthApiRef,icon:c.Z}),E.includes("okta")&&t.createElement(A,{title:"Okta",description:"Provides authentication towards Okta APIs",apiRef:p.oktaAuthApiRef,icon:c.Z}),E.includes("bitbucket")&&t.createElement(A,{title:"Bitbucket",description:"Provides authentication towards Bitbucket APIs",apiRef:p.bitbucketAuthApiRef,icon:c.Z}),E.includes("onelogin")&&t.createElement(A,{title:"OneLogin",description:"Provides authentication towards OneLogin APIs",apiRef:p.oneloginAuthApiRef,icon:c.Z}),E.includes("atlassian")&&t.createElement(A,{title:"Atlassian",description:"Provides authentication towards Atlassian APIs",apiRef:p.atlassianAuthApiRef,icon:c.Z})),y=({providerSettings:E})=>{const S=(0,p.useApi)(p.configApiRef).getOptionalConfig("auth.providers"),T=(S==null?void 0:S.keys())||[],P=E!=null?E:t.createElement(R,{configuredProviders:T});return!E&&!(T!=null&&T.length)?t.createElement(a,null):t.createElement(d.InfoCard,{title:"Available Providers"},t.createElement(n.Z,{dense:!0},P))}},11542:function(H,l,e){"use strict";e.d(l,{W:function(){return C}});var t=e(2784),n=e(60905),r=e(90436),i=e(86619),d=e(61837),s=e(11776),a=e(77277),c=e(23192);const o=`import { createPlugin } from '@backstage/core-plugin-api';

export default createPlugin({
  id: 'plugin-name',
  featureFlags: [{ name: 'enable-example-feature' }],
});
`,g=()=>t.createElement(c.EmptyState,{missing:"content",title:"No Feature Flags",description:"Feature Flags make it possible for plugins to register features in Backstage for users to opt into. You can use this to split out logic in your code for manual A/B testing, etc.",action:t.createElement(t.Fragment,null,t.createElement(r.Z,{variant:"body1"},"An example for how to add a feature flag is highlighted below:"),t.createElement(c.CodeSnippet,{text:o,language:"typescript",showLineNumbers:!0,highlightedNumbers:[6],customStyle:{background:"inherit",fontSize:"115%"}}),t.createElement(a.Z,{variant:"contained",color:"primary",href:"https://backstage.io/docs/api/utility-apis"},"Read More"))});var u=e(38402),f=e(86136),h=e(80030),p=e(82938),A=e(49378);const R=({flag:S,enabled:T,toggleHandler:P})=>t.createElement(u.Z,{divider:!0,button:!0,onClick:()=>P(S.name)},t.createElement(f.Z,null,t.createElement(h.ZP,{placement:"top",arrow:!0,title:T?"Disable":"Enable"},t.createElement(p.Z,{color:"primary",checked:T,name:S.name}))),t.createElement(A.Z,{primary:S.name,secondary:`Registered in ${S.pluginId} plugin`}));var y=e(36964),E=e(33375);const C=()=>{const S=(0,y.useApi)(y.featureFlagsApiRef),T=S.getRegisteredFlags(),P=Object.fromEntries(T.map(({name:ue})=>[ue,S.isActive(ue)])),[I,Z]=(0,t.useState)(P),[L,D]=(0,t.useState)(""),B=t.useRef(),w=(0,t.useCallback)(ue=>{const le=S.isActive(ue)?y.FeatureFlagState.None:y.FeatureFlagState.Active;S.save({states:{[ue]:le},merge:!0}),Z(me=>({...me,[ue]:le===y.FeatureFlagState.Active}))},[S]);if(!T.length)return t.createElement(g,null);const V=()=>{var ue;D(""),(ue=B==null?void 0:B.current)==null||ue.focus()};let G=Array.from(T);L.split(/\s/).map(ue=>ue.trim().toLocaleLowerCase("en-US")).forEach(ue=>G=G.filter(le=>le.name.toLocaleLowerCase("en-US").includes(ue)));const ce=()=>t.createElement(n.Z,{container:!0,style:{justifyContent:"space-between"}},t.createElement(n.Z,{item:!0,xs:6,md:8},t.createElement(r.Z,{variant:"h5"},"Feature Flags")),T.length>=10&&t.createElement(n.Z,{item:!0,xs:6,md:4},t.createElement(i.Z,{label:"Filter",style:{display:"flex",justifyContent:"flex-end"},inputRef:ue=>ue&&ue.focus(),InputProps:{...L.length&&{endAdornment:t.createElement(d.Z,{"aria-label":"Clear filter",onClick:V,edge:"end"},t.createElement(E.Z,null))}},onChange:ue=>D(ue.target.value),value:L})));return t.createElement(c.InfoCard,{title:t.createElement(ce,null)},t.createElement(s.Z,{dense:!0},G.map(ue=>{const le=Boolean(I[ue.name]);return t.createElement(R,{key:ue.name,flag:ue,enabled:le,toggleHandler:w})})))}},30855:function(H,l,e){"use strict";e.d(l,{G9:function(){return me},kG:function(){return o}});var t=e(60905),n=e(2784),r=e(90436),i=e(79692),d=e(43434),s=e(20816),a=e(23192);const c=(0,i.Z)(ge=>({avatar:{width:({size:Ae})=>Ae,height:({size:Ae})=>Ae,fontSize:({size:Ae})=>Ae*.7,border:`1px solid ${ge.palette.textSubtle}`}})),o=({size:ge})=>{const{iconSize:Ae}=a.sidebarConfig,ee=c(ge?{size:ge}:{size:Ae}),{profile:Ie}=(0,s.G)();return n.createElement(d.Z,{src:Ie.picture,className:ee.avatar,alt:"Profile picture"})};var g=e(61837),u=e(48348),f=e(12231),h=e(86136),p=e(71554),A=e(43054),R=e(36964);const y=()=>{const ge=(0,R.useApi)(R.identityApiRef),[Ae,ee]=n.useState(!1),[Ie,re]=n.useState(void 0),ne=se=>{re(se.currentTarget),ee(!0)},_=()=>{re(void 0),ee(!1)};return n.createElement(n.Fragment,null,n.createElement(g.Z,{"data-testid":"user-settings-menu","aria-label":"more",onClick:ne},n.createElement(A.Z,null)),n.createElement(u.Z,{anchorEl:Ie,open:Ae,onClose:_},n.createElement(f.Z,{"data-testid":"sign-out",onClick:()=>ge.signOut()},n.createElement(h.Z,null,n.createElement(p.Z,null)),"Sign Out")))},E=()=>{const{profile:ge,displayName:Ae}=(0,s.G)();return n.createElement(a.InfoCard,{title:"Profile",variant:"gridItem"},n.createElement(t.Z,{container:!0,spacing:6},n.createElement(t.Z,{item:!0},n.createElement(o,{size:96})),n.createElement(t.Z,{item:!0,xs:12,sm:!0,container:!0},n.createElement(t.Z,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},n.createElement(t.Z,{item:!0,xs:!0},n.createElement(r.Z,{variant:"subtitle1",gutterBottom:!0},Ae),n.createElement(r.Z,{variant:"body2",color:"textSecondary"},ge.email))),n.createElement(t.Z,{item:!0},n.createElement(y,null)))))};var C=e(11776),S=e(38402),T=e(49378),P=e(25859),I=e(80030),Z=e(82938);const L=()=>{const{isPinned:ge,toggleSidebarPinState:Ae}=(0,a.useSidebarPinState)();return n.createElement(S.Z,null,n.createElement(T.Z,{primary:"Pin Sidebar",secondary:"Prevent the sidebar from collapsing"}),n.createElement(P.Z,null,n.createElement(I.ZP,{placement:"top",arrow:!0,title:`${ge?"Unpin":"Pin"} Sidebar`},n.createElement(Z.Z,{color:"primary",checked:ge,onChange:()=>Ae(),name:"pin",inputProps:{"aria-label":"Pin Sidebar Switch"}}))))};var D=e(72164),B=e(59324),w=e(13737),V=e(31168);const G=({id:ge,activeId:Ae,icon:ee})=>ee?(0,n.cloneElement)(ee,{color:Ae===ge?"primary":void 0}):n.createElement(B.Z,{color:Ae===ge?"primary":void 0}),M=(0,i.Z)(ge=>({container:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"space-between",alignItems:"center",paddingBottom:8,paddingRight:16},list:{width:"initial",[ge.breakpoints.down("xs")]:{width:"100%",padding:"0 0 12px"}},listItemText:{paddingRight:0,paddingLeft:0},listItemSecondaryAction:{position:"relative",transform:"unset",top:"auto",right:"auto",paddingLeft:16,[ge.breakpoints.down("xs")]:{paddingLeft:0}}})),ce=({children:ge,title:Ae,value:ee,...Ie})=>n.createElement(I.ZP,{placement:"top",arrow:!0,title:Ae},n.createElement(w.Z,{value:ee,...Ie},ge)),ue=()=>{const ge=M(),Ae=(0,R.useApi)(R.appThemeApiRef),ee=(0,D.Z)(Ae.activeThemeId$(),Ae.getActiveThemeId()),Ie=Ae.getInstalledThemes(),re=(ne,_)=>{Ie.some(se=>se.id===_)?Ae.setActiveThemeId(_):Ae.setActiveThemeId(void 0)};return n.createElement(S.Z,{className:ge.list,classes:{container:ge.container}},n.createElement(T.Z,{className:ge.listItemText,primary:"Theme",secondary:"Change the theme mode"}),n.createElement(P.Z,{className:ge.listItemSecondaryAction},n.createElement(V.Z,{exclusive:!0,size:"small",value:ee!=null?ee:"auto",onChange:re},Ie.map(ne=>{var se;const _=(se=Ie.find(j=>j.id===ne.id))==null?void 0:se.icon;return n.createElement(ce,{key:ne.id,title:`Select ${ne.title}`,value:ne.id},n.createElement(n.Fragment,null,ne.title,"\xA0",n.createElement(G,{id:ne.id,icon:_,activeId:ee})))}),n.createElement(I.ZP,{placement:"top",arrow:!0,title:"Select auto theme"},n.createElement(w.Z,{value:"auto",selected:ee===void 0},"Auto\xA0",n.createElement(B.Z,{color:ee===void 0?"primary":void 0}))))))},le=()=>{const{isMobile:ge}=(0,a.useSidebarPinState)();return n.createElement(a.InfoCard,{title:"Appearance",variant:"gridItem"},n.createElement(C.Z,{dense:!0},n.createElement(ue,null),!ge&&n.createElement(L,null)))},me=()=>n.createElement(t.Z,{container:!0,direction:"row",spacing:3},n.createElement(t.Z,{item:!0,xs:12,md:6},n.createElement(E,null)),n.createElement(t.Z,{item:!0,xs:12,md:6},n.createElement(le,null)))},47989:function(H,l,e){"use strict";e.r(l),e.d(l,{SettingsPage:function(){return o}});var t=e(23192),n=e(2784),r=e(10289),i=e(36964),d=e(52183),s=e(11542),a=e(30855),c=e(13204);const o=({providerSettings:g})=>{const{isMobile:u}=(0,t.useSidebarPinState)(),f=(0,r.pC)(),h=(0,i.useElementFilter)(f,p=>p.selectByComponentData({key:c.d}).getElements());return n.createElement(t.Page,{themeId:"home"},!u&&n.createElement(t.Header,{title:"Settings"}),n.createElement(t.TabbedLayout,null,n.createElement(t.TabbedLayout.Route,{path:"general",title:"General"},n.createElement(a.G9,null)),n.createElement(t.TabbedLayout.Route,{path:"auth-providers",title:"Authentication Providers"},n.createElement(d.t,{providerSettings:g})),n.createElement(t.TabbedLayout.Route,{path:"feature-flags",title:"Feature Flags"},n.createElement(s.W,null)),h.map((p,A)=>n.createElement(t.TabbedLayout.Route,{key:A,...p.props},p))))}},13204:function(H,l,e){"use strict";e.d(l,{d:function(){return r},p:function(){return i}});var t=e(2784),n=e(36964);const r="user-settings.tab",i=d=>t.createElement(t.Fragment,null,d.children);(0,n.attachComponentData)(i,r,"UserSettingsTab")},20816:function(H,l,e){"use strict";e.d(l,{G:function(){return i}});var t=e(36964),n=e(2784),r=e(64279);const i=()=>{var g;const d=(0,t.useApi)(t.identityApiRef),s=(0,t.useApi)(t.alertApiRef),{value:a,loading:c,error:o}=(0,r.default)(async()=>({profile:await d.getProfileInfo(),identity:await d.getBackstageIdentity()}),[]);return(0,n.useEffect)(()=>{o&&s.post({message:`Failed to load user identity: ${o}`,severity:"error"})},[o,s]),c||o?{profile:{},displayName:"",loading:c}:{profile:a.profile,displayName:(g=a.profile.displayName)!=null?g:a.identity.userEntityRef,loading:c}}},96616:function(H,l,e){var t={"./af":95191,"./af.js":95191,"./ar":54358,"./ar-dz":71727,"./ar-dz.js":71727,"./ar-kw":98279,"./ar-kw.js":98279,"./ar-ly":87895,"./ar-ly.js":87895,"./ar-ma":72766,"./ar-ma.js":72766,"./ar-sa":52796,"./ar-sa.js":52796,"./ar-tn":12386,"./ar-tn.js":12386,"./ar.js":54358,"./az":57452,"./az.js":57452,"./be":79053,"./be.js":79053,"./bg":65428,"./bg.js":65428,"./bm":21569,"./bm.js":21569,"./bn":56212,"./bn-bd":24635,"./bn-bd.js":24635,"./bn.js":56212,"./bo":13667,"./bo.js":13667,"./br":192,"./br.js":192,"./bs":51802,"./bs.js":51802,"./ca":19118,"./ca.js":19118,"./cs":39990,"./cs.js":39990,"./cv":30557,"./cv.js":30557,"./cy":4227,"./cy.js":4227,"./da":95406,"./da.js":95406,"./de":87994,"./de-at":44139,"./de-at.js":44139,"./de-ch":86591,"./de-ch.js":86591,"./de.js":87994,"./dv":94649,"./dv.js":94649,"./el":14453,"./el.js":14453,"./en-au":48428,"./en-au.js":48428,"./en-ca":36972,"./en-ca.js":36972,"./en-gb":13224,"./en-gb.js":13224,"./en-ie":18843,"./en-ie.js":18843,"./en-il":32732,"./en-il.js":32732,"./en-in":76579,"./en-in.js":76579,"./en-nz":29851,"./en-nz.js":29851,"./en-sg":70442,"./en-sg.js":70442,"./eo":10654,"./eo.js":10654,"./es":63621,"./es-do":68791,"./es-do.js":68791,"./es-mx":67278,"./es-mx.js":67278,"./es-us":60717,"./es-us.js":60717,"./es.js":63621,"./et":72404,"./et.js":72404,"./eu":62944,"./eu.js":62944,"./fa":30496,"./fa.js":30496,"./fi":98137,"./fi.js":98137,"./fil":32872,"./fil.js":32872,"./fo":6545,"./fo.js":6545,"./fr":49090,"./fr-ca":13049,"./fr-ca.js":13049,"./fr-ch":12338,"./fr-ch.js":12338,"./fr.js":49090,"./fy":95088,"./fy.js":95088,"./ga":77812,"./ga.js":77812,"./gd":8374,"./gd.js":8374,"./gl":63649,"./gl.js":63649,"./gom-deva":52674,"./gom-deva.js":52674,"./gom-latn":44948,"./gom-latn.js":44948,"./gu":24033,"./gu.js":24033,"./he":10175,"./he.js":10175,"./hi":58055,"./hi.js":58055,"./hr":41678,"./hr.js":41678,"./hu":85111,"./hu.js":85111,"./hy-am":26530,"./hy-am.js":26530,"./id":38928,"./id.js":38928,"./is":11696,"./is.js":11696,"./it":98710,"./it-ch":38821,"./it-ch.js":38821,"./it.js":98710,"./ja":93974,"./ja.js":93974,"./jv":70648,"./jv.js":70648,"./ka":54731,"./ka.js":54731,"./kk":43501,"./kk.js":43501,"./km":84398,"./km.js":84398,"./kn":91825,"./kn.js":91825,"./ko":13729,"./ko.js":13729,"./ku":19670,"./ku.js":19670,"./ky":78797,"./ky.js":78797,"./lb":50627,"./lb.js":50627,"./lo":65859,"./lo.js":65859,"./lt":80355,"./lt.js":80355,"./lv":16594,"./lv.js":16594,"./me":45324,"./me.js":45324,"./mi":11689,"./mi.js":11689,"./mk":61308,"./mk.js":61308,"./ml":85241,"./ml.js":85241,"./mn":76320,"./mn.js":76320,"./mr":96771,"./mr.js":96771,"./ms":20503,"./ms-my":77748,"./ms-my.js":77748,"./ms.js":20503,"./mt":55534,"./mt.js":55534,"./my":62727,"./my.js":62727,"./nb":7550,"./nb.js":7550,"./ne":49899,"./ne.js":49899,"./nl":41228,"./nl-be":31225,"./nl-be.js":31225,"./nl.js":41228,"./nn":97130,"./nn.js":97130,"./oc-lnc":93130,"./oc-lnc.js":93130,"./pa-in":91282,"./pa-in.js":91282,"./pl":28190,"./pl.js":28190,"./pt":41549,"./pt-br":78135,"./pt-br.js":78135,"./pt.js":41549,"./ro":307,"./ro.js":307,"./ru":89272,"./ru.js":89272,"./sd":79248,"./sd.js":79248,"./se":74969,"./se.js":74969,"./si":65522,"./si.js":65522,"./sk":61581,"./sk.js":61581,"./sl":56428,"./sl.js":56428,"./sq":34611,"./sq.js":34611,"./sr":19821,"./sr-cyrl":20185,"./sr-cyrl.js":20185,"./sr.js":19821,"./ss":35029,"./ss.js":35029,"./sv":80939,"./sv.js":80939,"./sw":73107,"./sw.js":73107,"./ta":72304,"./ta.js":72304,"./te":93036,"./te.js":93036,"./tet":99717,"./tet.js":99717,"./tg":87669,"./tg.js":87669,"./th":94959,"./th.js":94959,"./tk":92661,"./tk.js":92661,"./tl-ph":52234,"./tl-ph.js":52234,"./tlh":94120,"./tlh.js":94120,"./tr":81111,"./tr.js":81111,"./tzl":53080,"./tzl.js":53080,"./tzm":88246,"./tzm-latn":25385,"./tzm-latn.js":25385,"./tzm.js":88246,"./ug-cn":48777,"./ug-cn.js":48777,"./uk":2014,"./uk.js":2014,"./ur":45953,"./ur.js":45953,"./uz":89716,"./uz-latn":87791,"./uz-latn.js":87791,"./uz.js":89716,"./vi":99816,"./vi.js":99816,"./x-pseudo":26064,"./x-pseudo.js":26064,"./yo":22556,"./yo.js":22556,"./zh-cn":7414,"./zh-cn.js":7414,"./zh-hk":50824,"./zh-hk.js":50824,"./zh-mo":88589,"./zh-mo.js":88589,"./zh-tw":63285,"./zh-tw.js":63285};function n(i){var d=r(i);return e(d)}function r(i){if(!e.o(t,i)){var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}return t[i]}n.keys=function(){return Object.keys(t)},n.resolve=r,H.exports=n,n.id=96616},77423:function(H,l,e){"use strict";H.exports=e.p+"static/emptystate.b451a0ca..svg"},53260:function(){}},function(H){var l=function(t){return H(H.s=t)};H.O(0,[2370,6817,6202,7347,5439,4230,9284,2126,7012,1410,9035,4983,3222,1572,6816,5218,2194,4736],function(){return l(88649),l(76334)});var e=H.O()}]);})();

//# sourceMappingURL=main.c1f8a4eb.js.map