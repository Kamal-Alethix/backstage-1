{"version":3,"sources":["webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcp-projects/src/components/NewProjectPage/NewProjectPage.tsx","webpack://example-app/../node_modules/@react-hookz/web/esm/useAsync/useAsync.js","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcp-projects/src/components/ProjectDetailsPage/ProjectDetailsPage.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcp-projects/src/components/ProjectListPage/ProjectListPage.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/gcp-projects/src/components/GcpProjectsPage/GcpProjectsPage.tsx"],"names":[],"mappings":"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","file":"static/6749.a5106173.chunk.js","sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Button, Grid, TextField } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport {\n  Content,\n  ContentHeader,\n  Header,\n  HeaderLabel,\n  InfoCard,\n  Page,\n  SimpleStepper,\n  SimpleStepperStep,\n  StructuredMetadataTable,\n  SupportButton,\n} from '@backstage/core-components';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from '../../routes';\n\nexport const Project = () => {\n  const [projectName, setProjectName] = useState('');\n  const [projectId, setProjectId] = useState('');\n  const [disabled, setDisabled] = useState(true);\n\n  const metadata = {\n    ProjectName: projectName,\n    ProjectId: projectId,\n  };\n\n  return (\n    React.createElement(Content, null\n      , React.createElement(Grid, { container: true, spacing: 3,}\n        , React.createElement(Grid, { item: true, xs: 12, md: 6,}\n          , React.createElement(InfoCard, { title: \"Create new GCP Project\"   ,}\n            , React.createElement(SimpleStepper, null\n              , React.createElement(SimpleStepperStep, { title: \"Project Name\" ,}\n                , React.createElement(TextField, {\n                  variant: \"outlined\",\n                  name: \"projectName\",\n                  label: \"Project Name\" ,\n                  helperText: \"The name of the new project.\"     ,\n                  inputProps: { 'aria-label': 'Project Name' },\n                  onChange: e => setProjectName(e.target.value),\n                  value: projectName,\n                  fullWidth: true,}\n                )\n              )\n              , React.createElement(SimpleStepperStep, { title: \"Project ID\" ,}\n                , React.createElement(TextField, {\n                  variant: \"outlined\",\n                  name: \"projectId\",\n                  label: \"projectId\",\n                  onChange: e => setProjectId(e.target.value),\n                  value: projectId,\n                  fullWidth: true,}\n                )\n              )\n\n              , React.createElement(SimpleStepperStep, {\n                title: \"Review\",\n                actions: {\n                  nextText: 'Confirm',\n                  onNext: () => setDisabled(false),\n                },}\n              \n                , React.createElement(StructuredMetadataTable, { metadata: metadata,} )\n              )\n            )\n            , React.createElement(Button, {\n              component: RouterLink,\n              variant: \"text\",\n              'data-testid': \"cancel-button\",\n              color: \"primary\",\n              to: \"/gcp-projects\",}\n            , \"Cancel\"\n\n            )\n            , React.createElement(Button, {\n              component: RouterLink,\n              variant: \"contained\",\n              color: \"primary\",\n              disabled: disabled,\n              to: `newProject?projectName=${encodeURIComponent(\n                projectName,\n              )},projectId=${encodeURIComponent(projectId)}`,}\n            , \"Create\"\n\n            )\n          )\n        )\n      )\n    )\n  );\n};\n\nconst labels = (\n  React.createElement(React.Fragment, null\n    , React.createElement(HeaderLabel, { label: \"Owner\", value: \"Spotify\",} )\n    , React.createElement(HeaderLabel, { label: \"Lifecycle\", value: \"Production\",} )\n  )\n);\n\nexport const NewProjectPage = () => {\n  const docsRootLink = useRouteRef(rootRouteRef)();\n  return (\n    React.createElement(Page, { themeId: \"tool\",}\n      , React.createElement(Header, { title: \"New GCP Project\"  , type: \"GCP\", typeLink: docsRootLink,}\n        , labels\n      )\n      , React.createElement(Content, null\n        , React.createElement(ContentHeader, { title: \"\",}\n          , React.createElement(SupportButton, null, \"This plugin allows you to view and interact with your gcp projects.\"\n\n          )\n        )\n        , React.createElement(Project, null )\n      )\n    )\n  );\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useMemo, useRef } from 'react';\nimport { useSafeState, useSyncedRef } from '..';\n/**\n * Tracks result and error of provided async function and provides handles to execute and reset it.\n *\n * @param asyncFn Function that returns a promise.\n * @param initialValue Value that will be set on initialisation, before the async function is\n * executed.\n */\nexport function useAsync(asyncFn, initialValue) {\n    var _a = useSafeState({\n        status: 'not-executed',\n        error: undefined,\n        result: initialValue,\n    }), state = _a[0], setState = _a[1];\n    var promiseRef = useRef();\n    var argsRef = useRef();\n    var methods = useSyncedRef({\n        execute: function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            argsRef.current = params;\n            var promise = asyncFn.apply(void 0, params);\n            promiseRef.current = promise;\n            setState(function (s) { return (__assign(__assign({}, s), { status: 'loading' })); });\n            // eslint-disable-next-line promise/catch-or-return\n            promise.then(function (result) {\n                // we dont want to handle result/error of non-latest function\n                // this approach helps to avoid race conditions\n                // eslint-disable-next-line promise/always-return\n                if (promise === promiseRef.current) {\n                    setState(function (s) { return (__assign(__assign({}, s), { status: 'success', error: undefined, result: result })); });\n                }\n            }, function (error) {\n                // we dont want to handle result/error of non-latest function\n                // this approach helps to avoid race conditions\n                if (promise === promiseRef.current) {\n                    setState(function (s) { return (__assign(__assign({}, s), { status: 'error', error: error })); });\n                }\n            });\n            return promise;\n        },\n        reset: function () {\n            setState({\n                status: 'not-executed',\n                error: undefined,\n                result: initialValue,\n            });\n            promiseRef.current = undefined;\n            argsRef.current = undefined;\n        },\n    });\n    return [\n        state,\n        useMemo(function () { return ({\n            reset: function () {\n                methods.current.reset();\n            },\n            execute: function () {\n                var _a;\n                var params = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    params[_i] = arguments[_i];\n                }\n                return (_a = methods.current).execute.apply(_a, params);\n            },\n        }); }, \n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        []),\n        { promise: promiseRef.current, lastArgs: argsRef.current },\n    ];\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  Button,\n  ButtonGroup,\n  LinearProgress,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableRow,\n\n  Typography,\n} from '@material-ui/core';\nimport React from 'react';\nimport { useAsync, useMountEffect } from '@react-hookz/web';\nimport { gcpApiRef } from '../../api';\n\nimport {\n  Content,\n  ContentHeader,\n  Header,\n  HeaderLabel,\n  Page,\n  SupportButton,\n  WarningPanel,\n} from '@backstage/core-components';\n\nimport { useApi, useRouteRef } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from '../../routes';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: 720,\n    margin: theme.spacing(2),\n  },\n  title: {\n    padding: theme.spacing(1, 0, 2, 0),\n  },\n  table: {\n    padding: theme.spacing(1),\n  },\n}));\n\nconst DetailsPage = () => {\n  const api = useApi(gcpApiRef);\n  const classes = useStyles();\n\n  const [{ status, result: details, error }, { execute }] = useAsync(async () =>\n    api.getProject(decodeURIComponent(location.search.split('projectId=')[1])),\n  );\n\n  useMountEffect(execute);\n\n  if (status === 'loading') {\n    return React.createElement(LinearProgress, null );\n  } else if (error) {\n    return (\n      React.createElement(WarningPanel, { title: \"Failed to load project\"   ,}\n        , error.toString()\n      )\n    );\n  }\n\n  const cloud_home_url = 'https://console.cloud.google.com';\n\n  return (\n    React.createElement(Table, { component: Paper, className: classes.table,}\n      , React.createElement(Table, null\n        , React.createElement(TableBody, null\n          , React.createElement(TableRow, null\n            , React.createElement(TableCell, null\n              , React.createElement(Typography, { noWrap: true,}, \"Name\")\n            )\n            , React.createElement(TableCell, null, details?.name)\n          )\n          , React.createElement(TableRow, null\n            , React.createElement(TableCell, null\n              , React.createElement(Typography, { noWrap: true,}, \"Project Number\" )\n            )\n            , React.createElement(TableCell, null, details?.projectNumber)\n          )\n          , React.createElement(TableRow, null\n            , React.createElement(TableCell, null\n              , React.createElement(Typography, { noWrap: true,}, \"Project ID\" )\n            )\n            , React.createElement(TableCell, null, details?.projectId)\n          )\n          , React.createElement(TableRow, null\n            , React.createElement(TableCell, null\n              , React.createElement(Typography, { noWrap: true,}, \"State\")\n            )\n            , React.createElement(TableCell, null, details?.lifecycleState)\n          )\n          , React.createElement(TableRow, null\n            , React.createElement(TableCell, null\n              , React.createElement(Typography, { noWrap: true,}, \"Creation Time\" )\n            )\n            , React.createElement(TableCell, null, details?.createTime)\n          )\n          , React.createElement(TableRow, null\n            , React.createElement(TableCell, null\n              , React.createElement(Typography, { noWrap: true,}, \"Links\")\n            )\n            , React.createElement(TableCell, null\n              , React.createElement(ButtonGroup, {\n                variant: \"text\",\n                color: \"primary\",\n                'aria-label': \"text primary button group\"   ,}\n              \n                , details?.name && (\n                  React.createElement(Button, null\n                    , React.createElement('a', {\n                      href: `${cloud_home_url}/home/dashboard?project=${details.name}&supportedpurview=project`,\n                      target: \"_blank\",\n                      rel: \"noreferrer noopener\" ,}\n                    , \"GCP\"\n\n                    )\n                  )\n                )\n                , details?.name && (\n                  React.createElement(Button, null\n                    , React.createElement('a', {\n                      href: `${cloud_home_url}/logs/query?project=${details.name}&supportedpurview=project`,\n                      target: \"_blank\",\n                      rel: \"noreferrer noopener\" ,}\n                    , \"Logs\"\n\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  );\n};\n\nconst labels = (\n  React.createElement(React.Fragment, null\n    , React.createElement(HeaderLabel, { label: \"Owner\", value: \"Spotify\",} )\n    , React.createElement(HeaderLabel, { label: \"Lifecycle\", value: \"Production\",} )\n  )\n);\n\nexport const ProjectDetailsPage = () => {\n  const docsRootLink = useRouteRef(rootRouteRef)();\n\n  return (\n    React.createElement(Page, { themeId: \"service\",}\n      , React.createElement(Header, { title: \"GCP Project Details\"  , type: \"GCP\", typeLink: docsRootLink,}\n        , labels\n      )\n      , React.createElement(Content, null\n        , React.createElement(ContentHeader, { title: \"\",}\n          , React.createElement(SupportButton, null, \"Support Button\" )\n        )\n        , React.createElement(DetailsPage, null )\n      )\n    )\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n//  NEEDS WORK\nimport { Button, LinearProgress, Tooltip, Typography } from '@material-ui/core';\nimport React from 'react';\n\nimport { useAsync, useMountEffect } from '@react-hookz/web';\nimport { gcpApiRef, } from '../../api';\n\nimport {\n  Content,\n  ContentHeader,\n  Header,\n  HeaderLabel,\n  Link,\n  Page,\n  Table,\n  SupportButton,\n  WarningPanel,\n} from '@backstage/core-components';\n\nimport { useApi } from '@backstage/core-plugin-api';\n\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst LongText = ({ text, max }) => {\n  if (text.length < max) {\n    return React.createElement('span', null, text);\n  }\n  return (\n    React.createElement(Tooltip, { title: text,}\n      , React.createElement('span', null, text.slice(0, max), \"...\")\n    )\n  );\n};\n\nconst labels = (\n  React.createElement(React.Fragment, null\n    , React.createElement(HeaderLabel, { label: \"Owner\", value: \"Spotify\",} )\n    , React.createElement(HeaderLabel, { label: \"Lifecycle\", value: \"Production\",} )\n  )\n);\n\nconst PageContents = () => {\n  const api = useApi(gcpApiRef);\n\n  const [{ status, result, error }, { execute }] = useAsync(() =>\n    api.listProjects(),\n  );\n  useMountEffect(execute);\n\n  if (status === 'loading') {\n    return React.createElement(LinearProgress, null );\n  } else if (error) {\n    return (\n      React.createElement(WarningPanel, { title: \"Failed to load projects\"   ,}\n        , error.toString()\n      )\n    );\n  }\n\n  function renderLink(id) {\n    return (\n      React.createElement(Link, { to: `project?projectId=${encodeURIComponent(id)}`,}\n        , React.createElement(Typography, { color: \"primary\",}\n          , React.createElement(LongText, { text: id, max: 60,} )\n        )\n      )\n    );\n  }\n\n  return (\n    React.createElement('div', { style: { height: '95%', width: '100%' },}\n      , React.createElement(Table, {\n        columns: [\n          {\n            field: 'name',\n            title: 'Name',\n            defaultSort: 'asc',\n          },\n          {\n            field: 'projectNumber',\n            title: 'Project Number',\n          },\n          {\n            field: 'projectID',\n            title: 'Project ID',\n            render: (rowData) => renderLink(rowData.id),\n          },\n          {\n            field: 'state',\n            title: 'State',\n          },\n          {\n            field: 'creationTime',\n            title: 'Creation Time',\n          },\n        ],\n        data: \n          result?.map((project) => ({\n            id: project.projectId,\n            name: project.name,\n            projectNumber: project?.projectNumber || 'Error',\n            projectID: project.projectId,\n            state: project?.lifecycleState || 'Error',\n            creationTime: project?.createTime || 'Error',\n          })) || []\n        ,\n        options: {\n          pageSize: 5,\n          pageSizeOptions: [5, 10, 25, 50, 100],\n        },}\n      )\n    )\n  );\n};\n\nexport const ProjectListPage = () => (\n  React.createElement(Page, { themeId: \"service\",}\n    , React.createElement(Header, { title: \"GCP Projects\" , type: \"tool\",}\n      , labels\n    )\n    , React.createElement(Content, null\n      , React.createElement(ContentHeader, { title: \"\",}\n        , React.createElement(Button, {\n          component: RouterLink,\n          variant: \"contained\",\n          color: \"primary\",\n          to: \"new\",}\n        , \"New Project\"\n\n        )\n        , React.createElement(SupportButton, null, \"All your software catalog entities\"    )\n      )\n      , React.createElement(PageContents, null )\n    )\n  )\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { NewProjectPage } from '../NewProjectPage';\nimport { ProjectDetailsPage } from '../ProjectDetailsPage';\nimport { ProjectListPage } from '../ProjectListPage';\n\nexport const GcpProjectsPage = () => (\n  React.createElement(Routes, null\n    , React.createElement(Route, { path: \"/\", element: React.createElement(ProjectListPage, null ),} )\n    , React.createElement(Route, { path: \"/new\", element: React.createElement(NewProjectPage, null ),} )\n    , React.createElement(Route, { path: \"/project\", element: React.createElement(ProjectDetailsPage, null ),} )\n  )\n);\n"],"sourceRoot":""}