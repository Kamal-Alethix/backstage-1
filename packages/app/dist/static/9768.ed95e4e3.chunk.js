"use strict";(()=>{(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[9768],{99768:function(H,v,r){r.r(v),r.d(v,{HomePage:function(){return P}});var l=r(23192),o=r(60905),e=r(2784),d=r(36964),m=r(95544),u=r(7089),h=r(61837),y=r(82938),S=r(80030),p=r(90436),Z=r(70581),i=r(99688),E=r(64279),g=r(18190);const b=t=>{let a="";const n=new Date(0);n.setSeconds(t.seconds);const s=n.toISOString().substr(11,8);return t.days===0?a=`${s}`:t.days===1?a=`1 day ${s}`:a=`${t.days} days ${s}`,a},A=t=>`relativedelta(${Object.entries(t).filter(n=>n[0]!=="__type"&&n[1]!==null&&n[1]!==0).map(n=>n[1]>0?`${n[0]}=+${n[1]}`:`${n[0]}=-${n[1]}`)})`,I=({interval:t})=>{let a="";switch(t==null?void 0:t.__type){case"TimeDelta":a=b(t);break;case"RelativeDelta":a=A(t);break;case"CronExpression":a=t.value;break;default:a="None"}return e.createElement(u.Z,{label:a,size:"small"})},C=[{title:"Paused",field:"is_paused",render:t=>e.createElement(S.ZP,{title:"Pause/Unpause DAG"},e.createElement(y.Z,{checked:!t.is_paused,disabled:!0})),width:"5%"},{title:"DAG",field:"id",render:t=>{var a;return e.createElement("div",null,e.createElement(p.Z,{variant:"subtitle2",gutterBottom:!0,noWrap:!0},t.id),e.createElement(m.Z,{display:"flex",alignItems:"center"},(a=t.tags)==null?void 0:a.map((n,s)=>e.createElement(u.Z,{label:n.name,key:s,size:"small"}))))},width:"60%"},{title:"Owner",field:"owners",render:t=>{var a;return e.createElement(m.Z,{display:"flex",alignItems:"center"},(a=t.owners)==null?void 0:a.map((n,s)=>e.createElement(u.Z,{label:n,key:s,size:"small"})))},width:"10%"},{title:"Active",render:t=>e.createElement(m.Z,{display:"flex",alignItems:"center"},t.is_active?e.createElement(l.StatusOK,null):e.createElement(l.StatusError,null),e.createElement(p.Z,{variant:"body2"},t.is_active?"Active":"Inactive")),width:"10%"},{title:"Schedule",render:t=>e.createElement(I,{interval:t.schedule_interval}),width:"10%"},{title:"Link",field:"dagUrl",render:t=>e.createElement("a",{href:t.dagUrl},e.createElement(h.Z,{"aria-label":"details"},e.createElement(Z.Z,null))),width:"5%"}],w=({dags:t})=>e.createElement(l.Table,{title:"DAGs",options:{pageSize:5},columns:C,data:t}),D=()=>{const t=(0,d.useApi)(g.t),{value:a,loading:n,error:s}=(0,E.default)(async()=>await t.listDags(),[]);if(n)return e.createElement(l.Progress,null);if(s)return e.createElement(i.Z,{severity:"error"},s.message);const c=a==null?void 0:a.map(f=>({...f,id:f.dag_id,dagUrl:`${t.baseUrl}dag_details?dag_id=${f.dag_id}`}));return e.createElement(w,{dags:c||[]})},$=()=>{const t=(0,d.useApi)(g.t),{value:a,loading:n,error:s}=(0,E.default)(async()=>await t.getInstanceStatus(),[]);if(n)return e.createElement(l.Progress,null);if(s)return e.createElement(i.Z,{severity:"error"},s.message);if(a){const c={"Metadatabase Status":a.metadatabase.status,"Scheduler Status":a.scheduler.status,"Latest Scheduler Heartbeat":a.scheduler.latest_scheduler_heartbeat};return e.createElement(l.InfoCard,{title:"Instance Status",subheader:"Scheduler and Metadatabase Status",variant:"fullHeight"},e.createElement(l.StructuredMetadataTable,{metadata:c}))}return e.createElement(i.Z,{severity:"warning"},"No status information found...")},T=()=>{const t=(0,d.useApi)(g.t),{value:a,loading:n,error:s}=(0,E.default)(async()=>await t.getInstanceVersion(),[]);if(n)return e.createElement(l.Progress,null);if(s)return e.createElement(i.Z,{severity:"error"},s.message);if(a){const c={Version:a.version,"Git Version":a.git_version};return e.createElement(l.InfoCard,{title:"Instance Version",variant:"fullHeight"},e.createElement(l.StructuredMetadataTable,{metadata:c}))}return e.createElement(i.Z,{severity:"warning"},"No status information found...")},P=()=>e.createElement(l.Page,{themeId:"tool"},e.createElement(l.Header,{title:"Apache Airflow",subtitle:"Workflow management platform"},e.createElement(l.HeaderLabel,{label:"Lifecycle",value:"Alpha"})),e.createElement(l.Content,null,e.createElement(l.ContentHeader,{title:"Overview"},e.createElement(l.SupportButton,null,"See an overview of your Apache Airflow instance, and manage workflows")),e.createElement(o.Z,{container:!0,spacing:3,direction:"row"},e.createElement(o.Z,{item:!0,sm:12,lg:6},e.createElement(T,null)),e.createElement(o.Z,{item:!0,sm:12,lg:6},e.createElement($,null)),e.createElement(o.Z,{item:!0,sm:12},e.createElement(D,null)))))}}]);})();

//# sourceMappingURL=9768.ed95e4e3.chunk.js.map