{"version":3,"sources":["webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/newrelic/src/components/NewRelicFetchComponent/NewRelicFetchComponent.tsx","webpack://example-app/../node_modules/@sucrase/webpack-loader/dist/plugins/newrelic/src/components/NewRelicComponent/NewRelicComponent.tsx"],"names":[],"mappings":"oPAwBO,KAAM,GAAmB,CAAC,CAAE,kBAAmB,CACpD,KAAM,GAAU,CACd,CAAE,MAAO,cAAe,MAAO,MAAO,EACtC,CAAE,MAAO,gBAAiB,MAAO,cAAe,EAChD,CAAE,MAAO,aAAc,MAAO,YAAa,EAC3C,CAAE,MAAO,aAAc,MAAO,WAAY,EAC1C,CAAE,MAAO,iBAAkB,MAAO,eAAgB,EAClD,CAAE,MAAO,QAAS,MAAO,YAAa,CACxC,EACM,EAAO,EAAa,IAAI,GAAO,CACnC,KAAM,CAAE,OAAM,oBAAqB,GAAuB,EACpD,CACJ,cAAe,EACf,aACA,WAAY,EACZ,eAAgB,EAChB,YAAa,GACX,EAEJ,MAAO,CACL,OACA,aAAc,GAAG,OACjB,WAAY,GAAG,QACf,UAAW,GAAG,KACd,gBACA,YACF,CACF,CAAC,EAED,MACE,iBAAoB,QAAO,CACzB,MAAO,qCACP,QAAS,CAAE,OAAQ,GAAM,OAAQ,EAAK,EACtC,QAAS,EACT,KAAM,CAAK,CACb,CAEJ,EAqBA,MAnB+B,IAAM,CACnC,KAAM,GAAM,aAAO,GAAc,EAE3B,CAAE,QAAO,UAAS,SAAU,cAAS,SAElC,MADY,GAAI,gBAAgB,GAC3B,aAAa,OAAO,GACvB,EAAY,eAAe,qBAAqB,CACxD,EACA,CAAC,CAAC,EAEL,MAAI,GACK,gBAAoB,WAAU,IAAK,EACjC,EACF,gBAAoB,IAAO,CAAE,SAAU,OAAQ,EAAG,EAAM,OAAO,EAGjE,gBAAoB,EAAkB,CAAE,aAAc,GAAS,CAAC,CAAE,CAAE,CAC7E,EChCA,EApB0B,IACxB,gBAAoB,OAAM,CAAE,QAAS,MAAO,EACxC,gBAAoB,SAAQ,CAAE,MAAO,WAAa,EAChD,gBAAoB,cAAa,CAAE,MAAO,QAAS,MAAO,aAAc,CAAE,CAC9E,EACE,gBAAoB,UAAS,KAC3B,gBAAoB,gBAAe,CAAE,MAAO,WAAa,EACvD,gBAAoB,gBAAe,KAAM,8CAE3C,CACF,EACE,gBAAoB,IAAM,CAAE,UAAW,GAAM,QAAS,EAAG,UAAW,QAAS,EAC3E,gBAAoB,IAAM,CAAE,KAAM,EAAK,EACrC,gBAAoB,EAAwB,IAAK,CACrD,CACF,CACF,CACF,C","file":"static/8365.42b20898.chunk.js","sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport Alert from '@material-ui/lab/Alert';\nimport useAsync from 'react-use/lib/useAsync';\nimport { newRelicApiRef, } from '../../api';\n\nimport { Progress, Table, } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\n\nexport const NewRelicAPMTable = ({ applications }) => {\n  const columns = [\n    { title: 'Application', field: 'name' },\n    { title: 'Response Time', field: 'responseTime' },\n    { title: 'Throughput', field: 'throughput' },\n    { title: 'Error Rate', field: 'errorRate' },\n    { title: 'Instance Count', field: 'instanceCount' },\n    { title: 'Apdex', field: 'apdexScore' },\n  ];\n  const data = applications.map(app => {\n    const { name, application_summary: applicationSummary } = app;\n    const {\n      response_time: responseTime,\n      throughput,\n      error_rate: errorRate,\n      instance_count: instanceCount,\n      apdex_score: apdexScore,\n    } = applicationSummary;\n\n    return {\n      name,\n      responseTime: `${responseTime} ms`,\n      throughput: `${throughput} rpm`,\n      errorRate: `${errorRate}%`,\n      instanceCount,\n      apdexScore,\n    };\n  });\n\n  return (\n    React.createElement(Table, {\n      title: \"Application Performance Monitoring\"  ,\n      options: { search: true, paging: true },\n      columns: columns,\n      data: data,}\n    )\n  );\n};\n\nconst NewRelicFetchComponent = () => {\n  const api = useApi(newRelicApiRef);\n\n  const { value, loading, error } = useAsync(async () => {\n    const data = await api.getApplications();\n    return data.applications.filter(application => {\n      return application.hasOwnProperty('application_summary');\n    });\n  }, []);\n\n  if (loading) {\n    return React.createElement(Progress, null );\n  } else if (error) {\n    return React.createElement(Alert, { severity: \"error\",}, error.message);\n  }\n\n  return React.createElement(NewRelicAPMTable, { applications: value || [],} );\n};\n\nexport default NewRelicFetchComponent;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Grid } from '@material-ui/core';\nimport NewRelicFetchComponent from '../NewRelicFetchComponent';\nimport {\n  Header,\n  Page,\n  Content,\n  ContentHeader,\n  HeaderLabel,\n  SupportButton,\n} from '@backstage/core-components';\n\nconst NewRelicComponent = () => (\n  React.createElement(Page, { themeId: \"tool\",}\n    , React.createElement(Header, { title: \"New Relic\" ,}\n      , React.createElement(HeaderLabel, { label: \"Owner\", value: \"Engineering\",} )\n    )\n    , React.createElement(Content, null\n      , React.createElement(ContentHeader, { title: \"New Relic\" ,}\n        , React.createElement(SupportButton, null, \"New Relic Application Performance Monitoring\"\n\n        )\n      )\n      , React.createElement(Grid, { container: true, spacing: 3, direction: \"column\",}\n        , React.createElement(Grid, { item: true,}\n          , React.createElement(NewRelicFetchComponent, null )\n        )\n      )\n    )\n  )\n);\n\nexport default NewRelicComponent;\n"],"sourceRoot":""}