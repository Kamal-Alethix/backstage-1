"use strict";(()=>{(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6817],{91124:function(Se,r,a){a.d(r,{ef:function(){return Id},MS:function(){return s}});var e=a(99155),t=a(2784),T=a(10289),h=a(61837),w=a(19928),i=a(79692),E=a(12420),c=a(60364),l=a(41128),A=a(15459),S=a(76600),F=a(41547),U=a(77277),B=a(72779),V=a.n(B),f=a(86689),p=a(62833),I=a(80030),y=a(19353),C=a(95074),N=a(56553),R=a(26639),b=a(39595),x=a(41156),H=a(13387),te=a(46506),oe=a(54073),ce=a(10368),He=a(55876),De=a(66481),et=a(19574),lt=a(60905),Et=a(90436),Lt=a.p+"static/missingAnnotation.67f79e98..svg",dt=a.p+"static/noInformation.4b426325..svg",he=a.p+"static/createComponent.975d1e1e..svg",j=a.p+"static/noBuild.1715fa71..svg",re=a(11776),W=a(38402),d=a(49378),k=a(27616),J=a(8284),Le=a(70660),Me=a(91750),gt=a(38016),nt=a(85256),M=a(1292),Z=a(47093),ie=a(48049),we=a(51209),je=a(10179),Xe=a(15277),Mt=a.n(Xe),Ut=a(79090),Gt=a(94339),zt=a(14503),_t=a(24579),on=a(32552),It=a(95544),dn=a(27597),bn=a(7896),pn=a(96234),wn=a(59740),pe={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},ue=function(o){var u=o.map(function(){return(0,t.useRef)()}),g=(0,t.useRef)(null);return(0,t.useEffect)(function(){var P=Date.now(),L=!1;Object.keys(u).forEach(function(G){var q=u[G].current;if(!!q){L=!0;var ee=q.style;ee.transitionDuration=".3s, .3s, .3s, .06s",g.current&&P-g.current<100&&(ee.transitionDuration="0s, 0s")}}),L&&(g.current=Date.now())}),[u]},Ce=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],Be=function(o){var u=o.className,g=o.percent,P=o.prefixCls,L=o.strokeColor,G=o.strokeLinecap,q=o.strokeWidth,ee=o.style,de=o.trailColor,be=o.trailWidth,ye=o.transition,Fe=(0,wn.Z)(o,Ce);delete Fe.gapPosition;var Ve=Array.isArray(g)?g:[g],We=Array.isArray(L)?L:[L],vt=ue(Ve),Pt=(0,pn.Z)(vt,1),Nt=Pt[0],Xt=q/2,Jt=100-q/2,ln="M ".concat(G==="round"?Xt:0,",").concat(Xt,`
         L `).concat(G==="round"?Jt:100,",").concat(Xt),an="0 0 100 ".concat(q),vn=0;return t.createElement("svg",(0,bn.Z)({className:V()("".concat(P,"-line"),u),viewBox:an,preserveAspectRatio:"none",style:ee},Fe),t.createElement("path",{className:"".concat(P,"-line-trail"),d:ln,strokeLinecap:G,stroke:de,strokeWidth:be||q,fillOpacity:"0"}),Ve.map(function(Sn,$n){var En=1;switch(G){case"round":En=1-q/100;break;case"square":En=1-q/2/100;break;default:En=1;break}var An={strokeDasharray:"".concat(Sn*En,"px, 100px"),strokeDashoffset:"-".concat(vn,"px"),transition:ye||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},tr=We[$n]||We[We.length-1];return vn+=Sn,t.createElement("path",{key:$n,className:"".concat(P,"-line-path"),d:ln,strokeLinecap:G,stroke:tr,strokeWidth:q,fillOpacity:"0",ref:Nt[$n],style:An})}))};Be.defaultProps=pe,Be.displayName="Line";var Ke=Be,wt=a(86522),Ht=a(39588),ot=0,Rt=(0,Ht.Z)();function Dt(){var n;return Rt?(n=ot,ot+=1):n="TEST_OR_SSR",n}var tn=function(n){var o=t.useState(),u=(0,pn.Z)(o,2),g=u[0],P=u[1];return t.useEffect(function(){P("rc_progress_".concat(Dt()))},[]),n||g},Rn=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function In(n){return+n.replace("%","")}function On(n){var o=n!=null?n:[];return Array.isArray(o)?o:[o]}var Mn=100,Bn=function(o,u,g,P){var L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,G=arguments.length>5?arguments[5]:void 0,q=arguments.length>6?arguments[6]:void 0,ee=arguments.length>7?arguments[7]:void 0,de=L>0?90+L/2:-90,be=Math.PI*2*o,ye=be*((360-L)/360),Fe=u/100*360*((360-L)/360),Ve=L===0?0:{bottom:0,top:180,left:90,right:-90}[G],We=(100-g)/100*ye;return q==="round"&&g!==100&&(We+=ee/2,We>=ye&&(We=ye-.01)),{stroke:typeof P=="string"?P:void 0,strokeDasharray:"".concat(ye,"px ").concat(be),strokeDashoffset:We,transform:"rotate(".concat(de+Fe+Ve,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},_n=function(o){var u=o.id,g=o.prefixCls,P=o.strokeWidth,L=o.trailWidth,G=o.gapDegree,q=o.gapPosition,ee=o.trailColor,de=o.strokeLinecap,be=o.style,ye=o.className,Fe=o.strokeColor,Ve=o.percent,We=(0,wn.Z)(o,Rn),vt=tn(u),Pt="".concat(vt,"-gradient"),Nt=Mn/2-P/2,Xt=Bn(Nt,0,100,ee,G,q,de,P),Jt=On(Ve),ln=On(Fe),an=ln.find(function(An){return An&&(0,wt.Z)(An)==="object"}),vn=ue(Jt),Sn=(0,pn.Z)(vn,1),$n=Sn[0],En=function(){var tr=0;return Jt.map(function(Nn,ga){var as=ln[ga]||ln[ln.length-1],xr=as&&(0,wt.Z)(as)==="object"?"url(#".concat(Pt,")"):void 0,eo=Bn(Nt,tr,Nn,as,G,q,de,P);return tr+=Nn,t.createElement("circle",{key:ga,className:"".concat(g,"-circle-path"),r:Nt,cx:Mn/2,cy:Mn/2,stroke:xr,strokeLinecap:de,strokeWidth:P,opacity:Nn===0?0:1,style:eo,ref:$n[ga]})}).reverse()};return t.createElement("svg",(0,bn.Z)({className:V()("".concat(g,"-circle"),ye),viewBox:"0 0 ".concat(Mn," ").concat(Mn),style:be,id:u},We),an&&t.createElement("defs",null,t.createElement("linearGradient",{id:Pt,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(an).sort(function(An,tr){return In(An)-In(tr)}).map(function(An,tr){return t.createElement("stop",{key:tr,offset:An,stopColor:an[An]})}))),t.createElement("circle",{className:"".concat(g,"-circle-trail"),r:Nt,cx:Mn/2,cy:Mn/2,stroke:ee,strokeLinecap:de,strokeWidth:L||P,style:Xt}),En())};_n.defaultProps=pe,_n.displayName="Circle";var yr=_n,Yn={Line:Ke,Circle:yr},Ur=a(21324),nr=a(7089),jn=a(42494),rr=a(74603),vr=a(56939),Jn=a(12231),ir=a(73698),Cr=a(72379),Ir=a(74600),sn=a(15584),wr=a(76635),_a=a.n(wr),va=a(19126),Er=a.n(va),Gr=a(18671),Vr=a(57998),kr=a(83543),Mr=a(59797),sa=a(26739),ar=a(86619),ia=a(98989),to=a(6487),Pr=a(99152),Br=a(21070),Ua=a(90324),Ja=a(98281),qr=a(33375),Fr=a(44233),gr=a(27604),Ea=a(36444),Ia=a(37971),Ya=a(59709),Or=a(17373),la=a(3702),Ga=a(93111),pa=a(67222),zr=a(44311),Zr=a.p+"static/mic-drop.fe3ef4d0..svg",mn=a(30195),Wr=a(63955),Qn=a(74828),ea=a(45455),cr=a.n(ea);function Xn(n){const[o,u]=useState([]),g=useApi(alertApiRef),{anchorOrigin:P={vertical:"top",horizontal:"center"}}=n;if(useEffect(()=>{const q=g.alert$().subscribe(ee=>u(de=>de.concat(ee)));return()=>{q.unsubscribe()}},[g]),o.length===0)return null;const[L]=o,G=()=>{u(q=>q.filter(ee=>ee!==L))};return React.createElement(Snackbar,{open:!0,anchorOrigin:P},React.createElement(Alert,{action:React.createElement(IconButton,{color:"inherit",size:"small",onClick:G,"data-testid":"error-button-close"},React.createElement(CloseIcon,null)),severity:L.severity},React.createElement("span",null,L.message.toString(),o.length>1&&React.createElement("em",null,` (${o.length-1} older ${pluralize("message",o.length-1)})`))))}function hr(n){let o=0;for(let g=0;g<n.length;g++)o=n.charCodeAt(g)+((o<<5)-o);let u="#";for(let g=0;g<3;g++)u+=`00${(o>>g*8&255).toString(16)}`.substr(-2);return u}function qn(n){var o;return(o=n.match(/\b\w/g))==null?void 0:o.join("").substring(0,2)}const ur=(0,i.Z)(n=>(0,E.Z)({avatar:{width:"4rem",height:"4rem",color:"#fff",fontWeight:n.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function fa(n){const{displayName:o,picture:u,customStyles:g}=n,P=ur();let L={...g};return u||(L={backgroundColor:hr(o||""),...g}),React.createElement(MaterialAvatar,{alt:o,src:u,className:P.avatar,style:L},o&&qn(o))}const Hr=(0,i.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),ta=n=>/^([a-z+.-]+):/.test(n),Ee=n=>{var o;return n instanceof Array?n.map(Ee).join(" ").trim():typeof n=="object"&&n?Ee((o=n==null?void 0:n.props)==null?void 0:o.children):["string","number"].includes(typeof n)?String(n):""},ve=t.forwardRef(({onClick:n,noTrack:o,...u},g)=>{const P=Hr(),L=(0,e.z$)(),G=String(u.to),q=Ee(u.children)||G,ee=ta(G),de=ee&&!!/^https?:/.exec(G),be=ye=>{n==null||n(ye),o||L.captureEvent("click",q,{attributes:{to:G}})};return ee?t.createElement(f.Z,{ref:g,href:G,onClick:be,...de?{target:"_blank",rel:"noopener"}:{},...u,className:V()(P.externalLink,u.className)},u.children,t.createElement("span",{className:P.visuallyHidden},", Opens in a new window")):t.createElement(f.Z,{ref:g,component:p.rU,onClick:be,...u})}),Ie=t.forwardRef((n,o)=>t.createElement(ve,{ref:o,...n,color:"initial"})),Je=t.forwardRef((n,o)=>t.createElement(U.Z,{ref:o,component:Ie,...n}));function bt(n){const{text:o,tooltipDelay:u=1e3,tooltipText:g="Text copied to clipboard"}=n,P=(0,e.h_)(e.VE),[L,G]=(0,t.useState)(!1),[{error:q},ee]=(0,C.Z)();(0,t.useEffect)(()=>{q&&P.post(q)},[q,P]);const de=be=>{be.stopPropagation(),G(!0),ee(o)};return t.createElement(t.Fragment,null,t.createElement(I.ZP,{id:"copy-test-tooltip",title:g,placement:"top",leaveDelay:u,onClose:()=>G(!1),open:L},t.createElement(h.Z,{onClick:de},t.createElement(y.Z,null))))}function Ot(n){const{text:o,language:u,showLineNumbers:g=!1,highlightedNumbers:P,customStyle:L,showCopyCodeButton:G=!1}=n,q=(0,c.Z)(),ee=q.palette.type==="dark"?R.Z:b.Z,de=q.palette.type==="dark"?"#256bf3":"#e6ffed";return t.createElement("div",{style:{position:"relative"}},t.createElement(N.Z,{customStyle:L,language:u,style:ee,showLineNumbers:g,wrapLines:!0,lineNumberStyle:{color:q.palette.textVerySubtle},lineProps:be=>P!=null&&P.includes(be)?{style:{backgroundColor:de}}:{}},o),G&&t.createElement("div",{style:{position:"absolute",top:0,right:0}},t.createElement(bt,{text:o})))}function Yt(n){const{title:o,to:u}=n,g=useMediaQuery(P=>P.breakpoints.down("xs"));return u?g?React.createElement(IconButton,{component:Link$2,color:"primary",title:o,size:"small",to:u},React.createElement(AddCircleOutline,null)):React.createElement(Button$1,{component:Link$2,variant:"contained",color:"primary",to:u},o):null}var Qt=(n=>(n.TOP_BOTTOM="TB",n.BOTTOM_TOP="BT",n.LEFT_RIGHT="LR",n.RIGHT_LEFT="RL",n))(Qt||{}),cn=(n=>(n.UP_LEFT="UL",n.UP_RIGHT="UR",n.DOWN_LEFT="DL",n.DOWN_RIGHT="DR",n))(cn||{}),yn=(n=>(n.NETWORK_SIMPLEX="network-simplex",n.TIGHT_TREE="tight-tree",n.LONGEST_PATH="longest-path",n))(yn||{}),qe=(n=>(n.LEFT="l",n.RIGHT="r",n.CENTER="c",n))(qe||{}),Ae=Object.freeze({__proto__:null,Direction:Qt,Alignment:cn,Ranker:yn,LabelPosition:qe});const ht=(0,i.Z)(n=>({node:{fill:n.palette.primary.light,stroke:n.palette.primary.light},text:{fill:n.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function xt({node:{id:n}}){const o=ht(),[u,g]=React.useState(0),[P,L]=React.useState(0),G=React.useRef(null);React.useLayoutEffect(()=>{if(G.current){let{height:be,width:ye}=G.current.getBBox();be=Math.round(be),ye=Math.round(ye),(be!==P||ye!==u)&&(g(ye),L(be))}},[u,P]);const q=10,ee=u+q*2,de=P+q*2;return React.createElement("g",null,React.createElement("rect",{className:o.node,width:ee,height:de,rx:10}),React.createElement("text",{ref:G,className:o.text,y:de/2,x:ee/2,textAnchor:"middle",alignmentBaseline:"middle"},n))}const qt="arrow-marker",nn="node",gn="edge",or="label",Un=(0,ce.Z)(n=>({node:{transition:`${n.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),Fn=n=>React.createElement(xt,{...n});function Rr({render:n=Fn,setNode:o,node:u}){const{width:g,height:P,x:L=0,y:G=0}=u,q=u,ee=Un(),de=React.useRef(null);return React.useLayoutEffect(()=>{if(de.current){let{height:be,width:ye}=de.current.getBBox();be=Math.round(be),ye=Math.round(ye),(be!==P||ye!==g)&&o(u.id,{...u,height:be,width:ye})}},[u,g,P,o]),React.createElement("g",{ref:de,"data-testid":nn,className:ee.node,transform:`translate(${L-g/2},${G-P/2})`},n({node:q}))}const ke=(0,ce.Z)(n=>({text:{fill:n.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function K({edge:{label:n}}){const o=ke();return React.createElement("text",{className:o.text,textAnchor:"middle"},n)}const Q=(0,ce.Z)(n=>({path:{strokeWidth:2,stroke:n.palette.textSubtle,fill:"none",transition:`${n.transitions.duration.shortest}ms`},label:{transition:`${n.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),se=n=>React.createElement(K,{...n}),ge=He.Z().x(n=>n.x).y(n=>n.y).curve(De.Z);function Pe({render:n=se,setEdge:o,id:u,edge:g}){const{x:P=0,y:L=0,width:G,height:q,points:ee}=g,de=g,be=Q(),ye=React.useRef(null);React.useLayoutEffect(()=>{if(ye.current){let{height:Ve,width:We}=ye.current.getBBox();Ve=Math.round(Ve),We=Math.round(We),(Ve!==q||We!==G)&&o(u,{...g,height:Ve,width:We})}},[g,q,G,o,u]);let Fe="";if(ee){const Ve=ee.filter(We=>isFinite(We.x)&&isFinite(We.y));Fe=ge(Ve)||""}return React.createElement(React.Fragment,null,Fe&&React.createElement("path",{"data-testid":gn,className:be.path,markerEnd:`url(#${qt})`,d:Fe}),de.label?React.createElement("g",{ref:ye,"data-testid":or,className:be.label,transform:`translate(${P},${L})`},n({edge:de})):null)}const Oe="workspace";function Ge(n){var o,u;const{edges:g,nodes:P,renderNode:L,direction:G=Qt.TOP_BOTTOM,align:q,nodeMargin:ee=50,edgeMargin:de=10,rankMargin:be=50,paddingX:ye=0,paddingY:Fe=0,acyclicer:Ve,ranker:We=yn.NETWORK_SIMPLEX,labelPosition:vt=qe.RIGHT,labelOffset:Pt=10,edgeRanks:Nt=1,edgeWeight:Xt=1,renderLabel:Jt,defs:ln,zoom:an="enabled",...vn}=n,Sn=useTheme$1(),[$n,En]=React.useState(100),[An,tr]=React.useState(100),Nn=React.useRef(new dagre.graphlib.Graph),[ga,as]=React.useState(((o=Nn.current.graph())==null?void 0:o.width)||0),[xr,eo]=React.useState(((u=Nn.current.graph())==null?void 0:u.height)||0),[os,$r]=React.useState([]),[mr,da]=React.useState([]),Aa=Math.max(ga,$n),sr=Math.max(xr,An),$a=React.useMemo(()=>debounce(fr=>{if(!fr)return;const Tr=d3Selection.select(fr),Dr=d3Selection.select(fr.getElementById(Oe));function ya(){Tr.call(d3Zoom.zoom().scaleExtent([1,10]).on("zoom",Ei=>{Ei.transform.x=Math.min(0,Math.max(Ei.transform.x,Aa-Aa*Ei.transform.k)),Ei.transform.y=Math.min(0,Math.max(Ei.transform.y,sr-sr*Ei.transform.k)),Dr.attr("transform",Ei.transform)}))}an==="enabled"?ya():an==="enable-on-click"&&Tr.on("click",()=>ya());const{width:ko,height:pm}=fr.getBoundingClientRect();$n!==ko&&En(ko),An!==pm&&tr(pm)},100),[An,$n,Aa,sr,an]),vi=React.useCallback(()=>{const fr=Nn.current.nodes(),Tr=Nn.current.edges();fr.forEach(Dr=>{P.some(ko=>ko.id===Dr)||Nn.current.removeNode(Dr)}),Tr.forEach(Dr=>{g.some(ko=>ko.from===Dr.v&&ko.to===Dr.w)||Nn.current.removeEdge(Dr.v,Dr.w)}),P.forEach(Dr=>{const ya=Nn.current.nodes().find(ko=>Dr.id===ko);if(ya&&Nn.current.node(ya)){const{width:ko,height:pm,x:Ei,y:xf}=Nn.current.node(ya);Nn.current.setNode(ya,{...Dr,width:ko,height:pm,x:Ei,y:xf})}else Nn.current.setNode(Dr.id,{...Dr,width:0,height:0})}),g.forEach(Dr=>{Nn.current.setEdge(Dr.from,Dr.to,{...Dr,label:Dr.label,width:0,height:0,labelpos:vt,labeloffset:Pt,weight:Xt,minlen:Nt})})},[g,P,vt,Pt,Xt,Nt]),pr=React.useMemo(()=>debounce(()=>{dagre.layout(Nn.current);const{height:fr,width:Tr}=Nn.current.graph(),Dr=Math.max(0,fr||0),ya=Math.max(0,Tr||0);as(ya),eo(Dr),$r(Nn.current.nodes()),da(Nn.current.edges())},250,{leading:!0}),[]);React.useEffect(()=>(Nn.current.setGraph({rankdir:G,align:q,nodesep:ee,edgesep:de,ranksep:be,marginx:ye,marginy:Fe,acyclicer:Ve,ranker:We}),vi(),pr(),pr.cancel),[Ve,q,G,de,ye,Fe,ee,be,We,vi,pr]);function ma(fr,Tr){return Nn.current.setNode(fr,Tr),pr(),Nn.current}function oa(fr,Tr){return Nn.current.setEdge(fr,Tr),pr(),Nn.current}return React.createElement("svg",{ref:$a,...vn,width:"100%",height:sr,viewBox:`0 0 ${Aa} ${sr}`},React.createElement("defs",null,React.createElement("marker",{id:qt,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},React.createElement("path",{fill:Sn.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),ln),React.createElement("g",{id:Oe},React.createElement("svg",{width:ga,height:xr,y:sr/2-xr/2,x:Aa/2-ga/2,viewBox:`0 0 ${ga} ${xr}`},mr.map(fr=>{const Tr=Nn.current.edge(fr);return Tr?React.createElement(Pe,{key:`${fr.v}-${fr.w}`,id:fr,setEdge:oa,render:Jt,edge:Tr}):null}),os.map(fr=>{const Tr=Nn.current.node(fr);return Tr?React.createElement(Rr,{key:fr,setNode:ma,render:L,node:Tr}):null}))))}const st=(0,i.Z)(n=>{var o;return{root:{padding:n.spacing(0),marginBottom:n.spacing(0),marginTop:n.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:n.spacing(6),marginTop:-n.spacing(3),zIndex:"unset"},icon:{fontSize:20},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap"},message:{display:"flex",alignItems:"center",color:n.palette.banner.text,"& a":{color:n.palette.banner.link}},info:{backgroundColor:n.palette.banner.info},error:{backgroundColor:n.palette.banner.error},warning:{backgroundColor:(o=n.palette.banner.warning)!=null?o:n.palette.banner.error}}},{name:"BackstageDismissableBanner"}),pt=n=>{var o;const{variant:u,message:g,id:P,fixed:L=!1}=n,G=st(),ee=useApi(storageApiRef).forBucket("notifications"),de=(o=ee.snapshot("dismissedBanners").value)!=null?o:[],[be,ye]=useState(new Set(de)),Fe=useObservable(ee.observe$("dismissedBanners"));useEffect(()=>{var We;if(Fe!=null&&Fe.value){const vt=(We=Fe==null?void 0:Fe.value)!=null?We:[];ye(new Set(vt))}},[Fe==null?void 0:Fe.value]);const Ve=()=>{ee.set("dismissedBanners",[...be,P])};return React.createElement(Snackbar,{anchorOrigin:L?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!be.has(P),classes:{root:classNames(G.root,!L&&G.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(G.content,G[u]),message:G.message},message:g,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",color:"inherit",onClick:Ve},React.createElement(CloseIcon,{className:G.icon}))]}))},X=(0,i.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),ae=({missing:n})=>{const o=X();switch(n){case"field":return t.createElement("img",{src:Lt,className:o.generalImg,alt:"annotation is missing"});case"info":return t.createElement("img",{src:dt,alt:"no Information",className:o.generalImg});case"content":return t.createElement("img",{src:he,alt:"create Component",className:o.generalImg});case"data":return t.createElement("img",{src:j,alt:"no Build",className:o.generalImg});default:return null}},$e=(0,i.Z)(n=>({root:{backgroundColor:n.palette.background.default,padding:n.spacing(2,0,0,0)},action:{marginTop:n.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function Ne(n){const{title:o,description:u,missing:g,action:P}=n,L=$e();return t.createElement(lt.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:L.root,spacing:2},t.createElement(lt.Z,{item:!0,xs:12,md:6},t.createElement(lt.Z,{container:!0,direction:"column"},t.createElement(lt.Z,{item:!0,xs:!0},t.createElement(Et.Z,{variant:"h5"},o)),t.createElement(lt.Z,{item:!0,xs:!0},t.createElement(Et.Z,{variant:"body1"},u)),t.createElement(lt.Z,{item:!0,xs:!0,className:L.action},P))),t.createElement(lt.Z,{item:!0,xs:12,md:6,className:L.imageContainer},t.createElement(ae,{missing:g})))}const Ze=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,Ue=(0,i.Z)(n=>({code:{borderRadius:6,margin:`${n.spacing(2)}px 0px`,background:n.palette.type==="dark"?"#444":"#fff"}}),{name:"BackstageMissingAnnotationEmptyState"});function Qe(n){const{annotation:o,readMoreUrl:u}=n,g=u||"https://backstage.io/docs/features/software-catalog/well-known-annotations",P=Ue(),L=t.createElement(t.Fragment,null,"The ",t.createElement("code",null,o)," annotation is missing. You need to add the annotation to your component if you want to enable this tool.");return t.createElement(Ne,{missing:"field",title:"Missing Annotation",description:L,action:t.createElement(t.Fragment,null,t.createElement(Et.Z,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),t.createElement("div",{className:P.code},t.createElement(Ot,{text:Ze.replace("ANNOTATION",o),language:"yaml",showLineNumbers:!0,highlightedNumbers:[6,7],customStyle:{background:"inherit",fontSize:"115%"}})),t.createElement(U.Z,{color:"primary",component:ve,to:g},"Read more"))})}const rt=(n,o)=>(o.palette.type==="light"?l._j:l.$n)(o.palette[n].light,.6),yt=(n,o)=>(o.palette.type==="light"?l.$n:l._j)(o.palette[n].light,.9),at=(0,i.Z)(n=>({root:{marginRight:n.spacing(1),fill:({severity:o})=>rt(o,n)}})),mt=({severity:n})=>{const o=at({severity:n});return t.createElement(Me.Z,{classes:o})},Ct=({severity:n})=>{const o=at({severity:n});return t.createElement(gt.Z,{classes:o})},Ft=(0,i.Z)(n=>({panel:{backgroundColor:({severity:o})=>yt(o,n),color:({severity:o})=>rt(o,n),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:o})=>rt(o,n),fontWeight:"bold"},message:{width:"100%",display:"block",color:({severity:o})=>rt(o,n),backgroundColor:({severity:o})=>yt(o,n)},details:{width:"100%",display:"block",color:n.palette.textContrast,backgroundColor:n.palette.background.default,border:`1px solid ${n.palette.border}`,padding:n.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),At=n=>n.charAt(0).toLocaleUpperCase("en-US")+n.slice(1);function rn(n){const{severity:o="warning",title:u,message:g,children:P,defaultExpanded:L}=n,G=Ft({severity:o}),q=At(o)+(u?`: ${u}`:"");return t.createElement(k.Z,{defaultExpanded:L!=null?L:!1,className:G.panel,role:"alert"},t.createElement(J.Z,{expandIcon:t.createElement(Ct,{severity:o}),className:G.summary},t.createElement(mt,{severity:o}),t.createElement(Et.Z,{className:G.summaryText,variant:"subtitle1"},q)),(g||P)&&t.createElement(Le.Z,null,t.createElement(lt.Z,{container:!0},g&&t.createElement(lt.Z,{item:!0,xs:12},t.createElement(Et.Z,{className:G.message,variant:"body1"},g)),P&&t.createElement(lt.Z,{item:!0,xs:12,className:G.details},P))))}const un=(0,i.Z)(n=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:n.spacing(2)},divider:{margin:n.spacing(2)}}),{name:"BackstageErrorPanel"}),hn=({error:n,message:o,stack:u,children:g})=>{const P=un();return t.createElement(re.Z,{dense:!0},t.createElement(W.Z,{alignItems:"flex-start"},t.createElement(d.Z,{classes:{secondary:P.text},primary:"Error",secondary:n}),t.createElement(bt,{text:n})),t.createElement(W.Z,{alignItems:"flex-start"},t.createElement(d.Z,{classes:{secondary:P.text},primary:"Message",secondary:o}),t.createElement(bt,{text:o})),u&&t.createElement(W.Z,{alignItems:"flex-start"},t.createElement(d.Z,{classes:{secondary:P.text},primary:"Stack Trace",secondary:u}),t.createElement(bt,{text:u})),g)};function en(n){const{title:o,error:u,defaultExpanded:g,children:P}=n;return t.createElement(rn,{severity:"error",title:o!=null?o:u.message,defaultExpanded:g},t.createElement(hn,{error:u.name,message:u.message,stack:u.stack,children:P}))}const Tn=(0,i.Z)(n=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:n.spacing(2)},divider:{margin:n.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function Nr(n){var o;const{title:u,error:g,defaultExpanded:P}=n,L=Tn();if(g.name!=="ResponseError")return React.createElement(en,{title:u!=null?u:g.message,defaultExpanded:P,error:g});const{body:G,cause:q}=g,{request:ee,response:de}=G,be=`${de.statusCode}: ${q.name}`,ye=ee&&`${ee.method} ${ee.url}`,Fe=q.message.replace(/\\n/g,`
`),Ve=(o=q.stack)==null?void 0:o.replace(/\\n/g,`
`),We=JSON.stringify(G,void 0,2);return React.createElement(en,{title:u!=null?u:g.message,defaultExpanded:P,error:{name:be,message:Fe,stack:Ve}},ye&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:L.text},primary:"Request",secondary:ee?`${ye}`:void 0}),React.createElement(bt,{text:ye})),React.createElement(React.Fragment,null,React.createElement(Divider,{component:"li",className:L.divider}),React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:L.text},primary:"Full Error as JSON"})),React.createElement(Ot,{language:"json",text:We,showCopyCodeButton:!0})))}function na(n){const o=document.createElement("div");return o.setAttribute("id",n),o}function Ml(n){document.body.insertBefore(n,document.body.lastElementChild.nextElementSibling)}function iu(n){const o=useRef(null);useEffect(function(){const P=document.querySelector(`#${n}`),L=P||na(n);return P||Ml(L),L.appendChild(o.current),function(){o.current.remove(),L.childNodes.length===-1&&L.remove()}},[n]);function u(){return o.current||(o.current=document.createElement("div")),o.current}return u()}const Ls="core.calloutSeen";function lu(){const[n,o]=useState(()=>{const g=localStorage.getItem(Ls);return g?JSON.parse(g):{}}),u=useCallback((g,P)=>{const L=localStorage.getItem(Ls),q={...L?JSON.parse(L):{},[g]:P};o(q),localStorage.setItem(Ls,JSON.stringify(q))},[]);return{states:n,setState:u}}function Uo(n){const{states:o,setState:u}=lu(),g=useCallback(()=>{u(n,!0)},[u,n]);return{seen:o[n]===!0,markSeen:g}}function Oa(n){const{seen:o,markSeen:u}=Uo(n);return{show:o===!1,hide:u}}const xs=(0,i.Z)({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:"2px solid white",zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:"white",zIndex:2003}},{name:"BackstageFeatureCalloutCircular"});function bi(n){const{featureId:o,title:u,description:g,children:P}=n,{show:L,hide:G}=Oa(o),q=iu("core.callout"),ee=useRef(null),[de,be]=useState(),ye=xs(),Fe=useCallback(()=>{if(ee.current){const Ve=ee.current.getBoundingClientRect(),We=Math.max(Ve.width,Ve.height),vt=800,Pt=Ve.x-(We-Ve.width)/2-vt,Nt=Ve.y-(We-Ve.height)/2-vt,Xt=We+2*vt,Jt=450,ln=Ve.x+Ve.width/2-Jt,an=Ve.y-(We-Ve.height)/2+We+20;be({dotLeft:Pt,dotTop:Nt,dotSize:Xt,borderWidth:vt,textTop:an,textLeft:ln,textWidth:Jt})}},[]);return useEffect(()=>(window.addEventListener("resize",Fe),window.addEventListener("scroll",Fe),()=>{window.removeEventListener("resize",Fe),window.removeEventListener("scroll",Fe)}),[Fe]),useLayoutEffect(Fe,[ee.current,Fe]),L?React.createElement(React.Fragment,null,React.createElement("div",{className:ye.featureWrapper,ref:ee},P),createPortal(React.createElement("div",{className:ye.backdrop},React.createElement(ClickAwayListener,{onClickAway:G},React.createElement(React.Fragment,null,React.createElement("div",{className:ye.dot,"data-testid":"dot",style:{left:de==null?void 0:de.dotLeft,top:de==null?void 0:de.dotTop,width:de==null?void 0:de.dotSize,height:de==null?void 0:de.dotSize,borderWidth:de==null?void 0:de.borderWidth},onClick:G,onKeyDown:G,role:"button",tabIndex:0},React.createElement("div",{className:ye.pulseCircle})),React.createElement("div",{className:ye.text,"data-testid":"text",style:{left:de==null?void 0:de.textLeft,top:de==null?void 0:de.textTop,width:de==null?void 0:de.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},u),React.createElement(Typography,null,g))))),q)):React.createElement(React.Fragment,null,P)}const Go=(0,i.Z)(n=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:"gray",cursor:"default"},primary:{color:n.palette.primary.main},secondary:{color:n.palette.secondary.main},label:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function wi({color:n="primary",disabled:o=!1,href:u="#",icon:g=React.createElement(LinkIcon,null),label:P,onClick:L,title:G}){const q=Go();return o?React.createElement(Link$1,{title:G,className:classNames(q.link,q.disabled),underline:"none"},g,React.createElement("span",{className:q.label},P)):React.createElement(Link$1,{title:G,className:classNames(q.link,q[n]),to:u,component:ve,onClick:L},g,React.createElement("span",{className:q.label},P))}const Ri=(0,i.Z)(n=>({links:{margin:n.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:n.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function Si(n){const{links:o}=n,u=Ri();return React.createElement("nav",{className:u.links},o.map((g,P)=>React.createElement(wi,{key:P+1,...g})))}const Ds=n=>{const o=n==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${o}) 0%,
    hsla(0, 0%, ${o}, 0.987) 8.1%,
    hsla(0, 0%, ${o}, 0.951) 15.5%,
    hsla(0, 0%, ${o}, 0.896) 22.5%,
    hsla(0, 0%, ${o}, 0.825) 29%,
    hsla(0, 0%, ${o}, 0.741) 35.3%,
    hsla(0, 0%, ${o}, 0.648) 41.2%,
    hsla(0, 0%, ${o}, 0.55) 47.1%,
    hsla(0, 0%, ${o}, 0.45) 52.9%,
    hsla(0, 0%, ${o}, 0.352) 58.8%,
    hsla(0, 0%, ${o}, 0.259) 64.7%,
    hsla(0, 0%, ${o}, 0.175) 71%,
    hsla(0, 0%, ${o}, 0.104) 77.5%,
    hsla(0, 0%, ${o}, 0.049) 84.5%,
    hsla(0, 0%, ${o}, 0.013) 91.9%,
    hsla(0, 0%, ${o}, 0) 100%
  `},Ms=100,Po=10,ss=(0,i.Z)(n=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:Ms,height:`calc(100% + ${Po}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-Po,background:`linear-gradient(90deg, ${Ds(n.palette.type)})`},fadeRight:{right:-Po,background:`linear-gradient(270deg, ${Ds(n.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-n.spacing(2)},buttonRight:{right:-n.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function is(n){const[[o,u],g]=React.useState([0,0]);return React.useLayoutEffect(()=>{const P=n.current;if(!P){g([0,0]);return}const L=()=>{const G=P.scrollLeft,q=P.scrollWidth-P.offsetWidth-P.scrollLeft;g([G,q])};return L(),P.addEventListener("scroll",L),window.addEventListener("resize",L),()=>{P.removeEventListener("scroll",L),window.removeEventListener("resize",L)}},[n]),[o,u]}function Bl(n,o,u){const[g,P]=React.useState(0);return React.useLayoutEffect(()=>{if(g===0)return;const L=performance.now(),G=requestAnimationFrame(q=>{if(!n.current)return;const ee=q-L,de=Math.abs(g)*ee/o,ye=Math.max(u,de)*Math.sign(g);n.current.scrollBy({left:ye});const Fe=g-ye;Math.sign(g)!==Math.sign(Fe)?P(0):P(Fe)});return()=>cancelAnimationFrame(G)},[n,g,o,u]),P}function Fl(n){const{scrollStep:o=100,scrollSpeed:u=50,minScrollDistance:g=5,children:P,...L}=n,G=ss(n),q=React.useRef(),[ee,de]=is(q),be=Bl(q,u,g),ye=Fe=>{!q.current||be(Fe?o:-o)};return React.createElement("div",{...L,className:G.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:G.container,ref:q},P),React.createElement("div",{className:classNames(G.fade,G.fadeLeft,{[G.fadeHidden]:ee===0})}),React.createElement("div",{className:classNames(G.fade,G.fadeRight,{[G.fadeHidden]:de===0})}),ee>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>ye(!1),className:classNames(G.button,G.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),de>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>ye(!0),className:classNames(G.button,G.buttonRight,{})},React.createElement(ChevronRight,null)))}const cu=(0,i.Z)({alpha:{color:"#ffffff",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}},{name:"BackstageLifecycle"});function jl(n){const o=cu(n),{shorthand:u,alpha:g}=n;return u?React.createElement("span",{className:o[g?"alpha":"beta"],style:{fontSize:"120%"}},g?React.createElement(React.Fragment,null,"\u03B1"):React.createElement(React.Fragment,null,"\u03B2")):React.createElement("span",{className:o[g?"alpha":"beta"]},g?"Alpha":"Beta")}const _l=(0,t.lazy)(()=>Promise.all([a.e(7423),a.e(796)]).then(a.bind(a,60796)).then(n=>({default:n.RealLogViewer})));function ls(n){const{Progress:o}=(0,e.qD)().getComponents();return t.createElement(t.Suspense,{fallback:t.createElement(o,null)},t.createElement(_l,{...n}))}const Ul=(0,i.Z)(n=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${n.palette.border}`},"& th, & td":{border:`1px solid ${n.palette.border}`,padding:n.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:n.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:n.palette.background.paper},"& tr":{backgroundColor:n.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:n.palette.background.default},"& a":{color:n.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),uu={code:({inline:n,className:o,children:u,...g})=>{const P=String(u).replace(/\n+$/,""),L=/language-(\w+)/.exec(o||"");return!n&&L?t.createElement(Ot,{language:L[1],text:P}):t.createElement("code",{className:o,...g},u)}};function du(n){const{content:o,dialect:u="gfm",linkTarget:g}=n,P=Ul();return React.createElement(ReactMarkdown,{remarkPlugins:u==="gfm"?[gfm]:[],className:P.markdown,children:o,components:uu,linkTarget:g})}const Gl=(0,i.Z)(n=>({root:{paddingLeft:n.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),Vl=({request:n,busy:o,setBusy:u})=>{const g=Gl(),[P,L]=useState(),G=async()=>{u(!0);try{await n.trigger()}catch(ee){L(isError(ee)?ee.message:"An unspecified error occurred")}finally{u(!1)}},q=n.provider.icon;return React.createElement(ListItem,{disabled:o,classes:{root:g.root}},React.createElement(ListItemAvatar,null,React.createElement(q,{fontSize:"large"})),React.createElement(ListItemText,{primary:n.provider.title,secondary:P&&React.createElement(Typography,{color:"error"},P)}),React.createElement(Button$1,{color:"primary",variant:"contained",onClick:G},"Log in"))},mu=(0,i.Z)(n=>({dialog:{paddingTop:n.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:n.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:n.spacing(2,0)}}),{name:"OAuthRequestDialog"});function pu(n){const o=mu(),[u,g]=useState(!1),P=useApi(oauthRequestApiRef),L=useObservable(useMemo(()=>P.authRequest$(),[P]),[]),G=()=>{L.forEach(q=>q.reject())};return React.createElement(Dialog,{open:Boolean(L.length),fullWidth:!0,maxWidth:"xs",classes:{paper:o.dialog},"aria-labelledby":"oauth-req-dialog-title"},React.createElement("main",null,React.createElement(DialogTitle,{classes:{root:o.title},id:"oauth-req-dialog-title"},React.createElement(Typography,{className:o.titleHeading,variant:"h1"},"Login Required")),React.createElement(DialogContent,{dividers:!0,classes:{root:o.contentList}},React.createElement(List,null,L.map(q=>React.createElement(Vl,{key:q.provider.title,request:q,busy:u,setBusy:g}))))),React.createElement(DialogActions,{classes:{root:o.actionButtons}},React.createElement(Button$1,{onClick:G},"Reject All")))}const fu=(0,i.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function Bs(n){var o;const[u,g]=(0,t.useState)(!1),P=(0,Ut.t)(),L=fu(),G=q=>{P()&&g(q)};return t.createElement(I.ZP,{title:(o=n.title)!=null?o:n.text||"",placement:n.placement,disableHoverListener:!u},t.createElement(Mt(),{text:n.text,line:n.line,onToggled:G,containerClassName:L.container}))}function $i(n){const[o,u]=useState(!1);return useEffect(()=>{const g=setTimeout(()=>u(!0),250);return()=>clearTimeout(g)},[]),o?React.createElement(LinearProgress,{...n,"data-testid":"progress"}):React.createElement("div",{style:{display:"none"}})}const zl=(0,i.Z)(n=>({root:{maxWidth:"fit-content",padding:n.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:n.palette.textSubtle},arrow:{color:n.palette.textSubtle}}),{name:"BackstageBottomLink"});function Zl(n){const{link:o,title:u,onClick:g}=n,P=zl();return t.createElement("div",null,t.createElement(nt.Z,null),t.createElement(ve,{to:o,onClick:g,underline:"none"},t.createElement(It.Z,{display:"flex",alignItems:"center",className:P.root},t.createElement(It.Z,{className:P.boxTitle,fontWeight:"fontWeightBold",m:1},t.createElement(Et.Z,null,t.createElement("strong",null,u))),t.createElement(dn.Z,{className:P.arrow}))))}const Ti=n=>{const{slackChannel:o}=n;if(o){if(typeof o=="string")return t.createElement(t.Fragment,null,"Please contact ",o," for help.");if(!o.href)return t.createElement(t.Fragment,null,"Please contact ",o.name," for help.")}else return null;return t.createElement(Je,{to:o.href,variant:"contained"},o.name)},cs=class extends t.Component{constructor(o){super(o),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(o,u){console.error(`ErrorBoundary, error: ${o}, info: ${u}`),this.setState({error:o,errorInfo:u})}render(){const{slackChannel:o,children:u}=this.props,{error:g}=this.state;return g?t.createElement(en,{title:"Something Went Wrong",error:g},t.createElement(Ti,{slackChannel:o})):u}},Wl=(0,i.Z)(n=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:n.spacing(2,2,2,2.5)},headerTitle:{fontWeight:700},headerSubheader:{paddingTop:n.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),Ci=(0,A.Z)(n=>({root:{display:"inline-block",padding:n.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(zt.Z),Fs={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function no(n){const{title:o,subheader:u,divider:g=!0,deepLink:P,slackChannel:L,errorBoundaryProps:G,variant:q,children:ee,headerStyle:de,headerProps:be,icon:ye,action:Fe,actionsClassName:Ve,actions:We,cardClassName:vt,actionsTopRight:Pt,className:Nt,noPadding:Xt,titleTypographyProps:Jt}=n,ln=Wl();let an={},vn={};q&&q.split(/[\s]+/g).forEach(An=>{an={...an,...Fs.card[An]},vn={...vn,...Fs.cardContent[An]}});const Sn=()=>t.createElement("div",{className:ln.headerSubheader},u&&t.createElement("div",{className:ln.subheader},u),ye),$n=G||(L?{slackChannel:L}:{});return t.createElement(Gt.Z,{style:an,className:Nt},t.createElement(cs,{...$n},o&&t.createElement(on.Z,{classes:{root:ln.header,title:ln.headerTitle,subheader:ln.headerSubheader,avatar:ln.headerAvatar,action:ln.headerAction,content:ln.headerContent},title:o,subheader:Sn(),action:Fe,style:{...de},titleTypographyProps:Jt,...be}),Pt&&t.createElement(Ci,null,Pt),g&&t.createElement(nt.Z,null),t.createElement(_t.Z,{className:V()(vt,{[ln.noPadding]:Xt}),style:vn},ee),We&&t.createElement(zt.Z,{className:Ve},We),P&&t.createElement(Zl,{...P})))}const js=(0,i.Z)(n=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:45,fontWeight:"bold",color:n.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),Ao={fractional:!0,inverse:!1,unit:"%",max:100},us=({palette:n,value:o,inverse:u,max:g})=>{if(isNaN(o))return"#ddd";const P=g||Ao.max,L=u?P-o:o;return L<P/3?n.status.error:L<P*(2/3)?n.status.warning:n.status.ok};function _s(n){const[o,u]=useState(null),{getColor:g=us}=n,P=js(n),{palette:L}=useTheme(),{value:G,fractional:q,inverse:ee,unit:de,max:be,description:ye}={...Ao,...n},Fe=q?Math.round(G*be):G,Ve=be!==100?Math.round(G):Fe,[We,vt]=useState(!1);return useEffect(()=>{const Pt=o,Nt=()=>vt(!0),Xt=()=>vt(!1);return Pt&&ye?(Pt.addEventListener("mouseenter",Nt),Pt.addEventListener("mouseleave",Xt),()=>{Pt.removeEventListener("mouseenter",Nt),Pt.removeEventListener("mouseleave",Xt)}):()=>{vt(!1)}},[ye,o]),React.createElement("div",{ref:u,className:P.root},React.createElement(Circle,{strokeLinecap:"butt",percent:Fe,strokeWidth:12,trailWidth:12,strokeColor:g({palette:L,value:Ve,inverse:ee,max:be}),className:P.circle}),ye&&We?React.createElement("div",{className:P.description},ye):React.createElement("div",{className:P.overlay},isNaN(G)?"N/A":`${Ve}${de}`))}const ki=(0,i.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function hu(n){const o=ki(n),{title:u,subheader:g,progress:P,inverse:L,deepLink:G,description:q,icon:ee,variant:de,getColor:be}=n,ye={inverse:L,description:q,getColor:be,value:P};return React.createElement("div",{className:o.root},React.createElement(no,{title:u,subheader:g,deepLink:G,variant:de,icon:ee},React.createElement(_s,{...ye})))}function Hl(n){const{value:o,getColor:u=us}=n,{palette:g}=useTheme();if(isNaN(o))return null;let P=Math.round(o*100*100)/100;P>100&&(P=100);const L=u({palette:g,value:P,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${P}%`},React.createElement("span",null,React.createElement(Line,{percent:P,strokeWidth:4,trailWidth:4,strokeColor:L})))}const Io=(0,i.Z)(()=>(0,E.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageClosedDropdown"}),Kl=()=>{const n=Io();return t.createElement(Cr.Z,{className:n.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},Us=(0,i.Z)(()=>(0,E.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"}),Gs=()=>{const n=Us();return t.createElement(Cr.Z,{className:n.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},Qa=(0,A.Z)(n=>(0,E.Z)({root:{"label + &":{marginTop:n.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:n.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:n.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:n.palette.background.paper,borderRadius:4}}}),{name:"BackstageSelectInputBase"})(rr.Z),Pi=(0,i.Z)(n=>(0,E.Z)({formControl:{margin:`${n.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:n.typography.fontFamily,color:n.palette.text.primary,"&.Mui-focused":{color:n.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:n.typography.fontFamily,color:n.palette.text.primary,"&.Mui-focused":{color:n.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function Jl(n){const{multiple:o,items:u,label:g,placeholder:P,selected:L,onChange:G,triggerReset:q,native:ee=!1,disabled:de=!1}=n,be=Pi(),[ye,Fe]=(0,t.useState)(L||(o?[]:"")),[Ve,We]=(0,t.useState)(!1);(0,t.useEffect)(()=>{Fe(o?[]:"")},[q,o]),(0,t.useEffect)(()=>{L!==void 0&&Fe(L)},[L]);const vt=Jt=>{Fe(Jt.target.value),G(Jt.target.value)},Pt=Jt=>{if(de){Jt.preventDefault();return}We(ln=>o&&!(Jt.target instanceof HTMLElement)?!0:!ln)},Nt=()=>{We(!1)},Xt=Jt=>()=>{const ln=ye.filter(an=>an!==Jt);Fe(ln),G(ln)};return t.createElement("div",{className:be.root},t.createElement(M.Z,{onClickAway:Nt},t.createElement(jn.Z,{className:be.formControl},t.createElement(vr.Z,{className:be.formLabel},g),t.createElement(ir.Z,{value:ye,native:ee,disabled:de,"data-testid":"select",displayEmpty:!0,multiple:o,onChange:vt,onClick:Pt,open:Ve,input:t.createElement(Qa,null),label:g,tabIndex:0,renderValue:Jt=>{var ln;return o&&ye.length!==0?t.createElement("div",{className:be.chips},Jt.map(an=>{var vn,Sn;return t.createElement(nr.Z,{key:(vn=u.find($n=>$n.value===an))==null?void 0:vn.value,label:(Sn=u.find($n=>$n.value===an))==null?void 0:Sn.label,clickable:!0,onDelete:Xt(an),className:be.chip})})):t.createElement(Et.Z,null,ye.length===0?P||"":(ln=u.find(an=>an.value===Jt))==null?void 0:ln.label)},IconComponent:()=>Ve?t.createElement(Gs,null):t.createElement(Kl,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},P&&!o&&t.createElement(Jn.Z,{value:[]},P),ee?u&&u.map(Jt=>t.createElement("option",{value:Jt.value,key:Jt.value},Jt.label)):u&&u.map(Jt=>t.createElement(Jn.Z,{key:Jt.value,value:Jt.value},o&&t.createElement(Ur.Z,{color:"primary",checked:ye.includes(Jt.value)||!1,className:be.checkbox}),Jt.label))))))}const Ai=()=>{},Yl=t.createContext({stepperLength:0,stepIndex:0,setStepIndex:Ai,stepHistory:[],setStepHistory:Ai,onStepChange:Ai});function gu(n){const{children:o,elevated:u,onStepChange:g,activeStep:P=0}=n,[L,G]=useState(P),[q,ee]=useState([0]);useEffect(()=>{G(P)},[P]);const de=[];let be;return Children.forEach(o,ye=>{isValidElement(ye)&&(ye.props.end?be=ye:de.push(ye))}),React.createElement(React.Fragment,null,React.createElement(Yl.Provider,{value:{stepIndex:L,setStepIndex:G,stepHistory:q,setStepHistory:ee,onStepChange:g,stepperLength:Children.count(o)}},React.createElement(MuiStepper,{activeStep:L,orientation:"vertical",elevation:u?2:0},de)),L>=Children.count(o)-1&&be)}const Vs=(0,i.Z)(n=>({root:{marginTop:n.spacing(3),"& button":{marginRight:n.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),zs=({text:n,handleClick:o})=>React.createElement(Button$1,{onClick:o},n||"Reset"),Ql=({text:n,handleClick:o,disabled:u,last:g,stepIndex:P})=>React.createElement(Button$1,{variant:"contained",color:"primary",disabled:u,"data-testid":`nextButton-${P}`,onClick:o},n||(g?"Finish":"Next")),Xl=({text:n,handleClick:o,disabled:u,stepIndex:g})=>React.createElement(Button$1,{onClick:o,"data-testid":`backButton-${g}`,disabled:u},n||"Back"),Zs=({actions:n={},children:o})=>{const u=Vs(),{stepperLength:g,stepIndex:P,setStepIndex:L,stepHistory:G,setStepHistory:q,onStepChange:ee}=useContext(Yl),de=(Ve,We)=>{We&&We(),ee&&ee(P,Ve),L(Ve)},be=()=>{const Ve=n.nextStep?n.nextStep(P,g-1):P+1;de(Ve,n.onNext),q([...G,Ve])},ye=()=>{G.pop(),de(G[G.length-1],n.onBack),q([...G])},Fe=()=>{de(0,n.onRestart),q([0])};return React.createElement("div",{className:u.root},[void 0,!0].includes(n.showBack)&&P!==0&&React.createElement(Xl,{text:n.backText,handleClick:ye,disabled:P===0,stepIndex:P}),[void 0,!0].includes(n.showNext)&&React.createElement(Ql,{text:n.nextText,handleClick:be,disabled:!!g&&P>=g||!!n.canNext&&!n.canNext(),stepIndex:P}),n.showRestart&&P!==0&&React.createElement(zs,{text:n.restartText,handleClick:Fe,stepIndex:P}),o)},Ii=(0,i.Z)(n=>({end:{padding:n.spacing(3)}}),{name:"SimpleStepperStep"});function Oi(n){const{title:o,children:u,end:g,actions:P,...L}=n,G=Ii();return g?React.createElement("div",{className:G.end},React.createElement(Typography,{variant:"h6"},o),u,React.createElement(Zs,{actions:{...P||{},showNext:!1}})):React.createElement(MuiStep,{...L},React.createElement(StepLabel,null,React.createElement(Typography,{variant:"h6"},o)),React.createElement(StepContent,null,u,React.createElement(Zs,{actions:P})))}const ds=(0,i.Z)(n=>({status:{fontWeight:500,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:8,borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:n.palette.status.ok}},warning:{"&::before":{backgroundColor:n.palette.status.warning}},error:{"&::before":{backgroundColor:n.palette.status.error}},pending:{"&::before":{backgroundColor:n.palette.status.pending}},running:{"&::before":{backgroundColor:n.palette.status.running}},aborted:{"&::before":{backgroundColor:n.palette.status.aborted}}}),{name:"BackstageStatus"});function Ni(n){const o=ds(n);return t.createElement("span",{className:V()(o.status,o.ok),"aria-label":"Status ok","aria-hidden":"true",...n})}function ql(n){const o=ds(n);return t.createElement("span",{className:V()(o.status,o.warning),"aria-label":"Status warning","aria-hidden":"true",...n})}function Li(n){const o=ds(n);return t.createElement("span",{className:V()(o.status,o.error),"aria-label":"Status error","aria-hidden":"true",...n})}function ec(n){const o=ds(n);return t.createElement("span",{className:V()(o.status,o.pending),"aria-label":"Status pending","aria-hidden":"true",...n})}function Vo(n){const o=ds(n);return t.createElement("span",{className:V()(o.status,o.running),"aria-label":"Status running","aria-hidden":"true",...n})}function tc(n){const o=ds(n);return t.createElement("span",{className:V()(o.status,o.aborted),"aria-label":"Status aborted","aria-hidden":"true",...n})}const yu=n=>(0,E.Z)({root:{fontWeight:"bolder",whiteSpace:"nowrap",paddingRight:n.spacing(4),border:"0",verticalAlign:"top"}}),Oo={root:{border:"0",verticalAlign:"top"}},ad=n=>(0,E.Z)({root:{listStyle:"none",margin:n.spacing(0,0,-1,0),padding:"0"}}),nc=n=>(0,E.Z)({root:{padding:n.spacing(0,0,1,0)},random:{}}),vu=(0,A.Z)(yu,{name:"BackstageMetadataTableTitleCell"})(sn.Z),Eu=(0,A.Z)(Oo,{name:"BackstageMetadataTableCell"})(sn.Z),od=({dense:n,children:o})=>React.createElement(Table$1,{size:n?"small":"medium"},React.createElement(TableBody,null,o)),bu=({title:n,children:o,...u})=>React.createElement(TableRow,null,n&&React.createElement(vu,null,n),React.createElement(Eu,{colSpan:n?1:2,...u},o)),xi=(0,A.Z)(ad,{name:"BackstageMetadataTableList"})(({classes:n,children:o})=>t.createElement("ul",{className:n.root},o)),Di=(0,A.Z)(nc,{name:"BackstageMetadataTableListItem"})(({classes:n,children:o})=>t.createElement("li",{className:n.root},o)),Ws=(0,E.Z)({root:{margin:"0 0",listStyleType:"none"}}),rc=n=>(0,E.Z)({root:{...Ws.root,paddingLeft:n.spacing(1)}}),Mi=(0,A.Z)(Ws,{name:"BackstageStructuredMetadataTableList"})(({classes:n,children:o})=>t.createElement(xi,{classes:n},o)),ac=(0,A.Z)(rc,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:n,children:o})=>t.createElement(xi,{classes:n},o));function oc(n,o){const u=n.map((g,P)=>React.createElement(Di,{key:P},go(g)));return o?React.createElement(ac,null,u):React.createElement(Mi,null,u)}function sc(n,o,u){const g=Object.keys(n).map(P=>{const L=go(n[P],!0),G=u&&u.titleFormat?u.titleFormat(P):startCase(P);return React.createElement(Di,{key:P},`${G}: `,L)});return o?React.createElement(ac,null,g):React.createElement(Mi,null,g)}function go(n,o,u){return React.isValidElement(n)?React.createElement(Fragment,null,n):typeof n=="object"&&!Array.isArray(n)?sc(n,o,u):Array.isArray(n)?oc(n,u):typeof n=="boolean"?React.createElement(Fragment,null,n?"\u2705":"\u274C"):React.createElement(Fragment,null,n)}const Bi=({value:n,options:o})=>React.createElement(Fragment,null,go(n,o)),No=({title:n,value:o,options:u})=>React.createElement(bu,{title:u&&u.titleFormat?u.titleFormat(n):startCase(n)},React.createElement(Bi,{value:o,options:u}));function wu(n,o){return Object.keys(n).map(u=>React.createElement(No,{key:u,title:u,value:n[u],options:o}))}function ic(n){const{metadata:o,dense:u=!0,options:g}=n,P=wu(o,g||{});return React.createElement(od,{dense:u},P)}function Ln(n){return qs.stringify(n,{strictNullHandling:!0})}function Fi(n){return qs.parse(n,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function ms(n,o){return Fi(n)[o]}function lo(n,o,u){const g={...Fi(n),[o]:u};return Ln(g)}function Ru(n,o=250){const[u,g]=useSearchParams(),P=u.toString(),[L,G]=useState(ms(P,n));return useEffect(()=>{const q=ms(P,n);G(ee=>isEqual(q,ee)?ee:q)},[P,G,n]),useDebouncedEffect(()=>{const q=lo(P,n,L);P!==q&&g(q,{replace:!0})},[g,L,P,n],o),[L,G]}const lc={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function Hs(){const o=useApiHolder().get(configApiRef),u=o==null?void 0:o.getOptionalConfig("app.support");return u?{url:u.getString("url"),items:u.getConfigArray("items").flatMap(g=>{var P;return{title:g.getString("title"),icon:g.getOptionalString("icon"),links:((P=g.getOptionalConfigArray("links"))!=null?P:[]).flatMap(L=>({url:L.getString("url"),title:L.getString("title")}))}})}:lc}function Va(n,o){const g=useApp().getSystemIcon(n);return g?React.createElement(g,{...o}):React.createElement(MuiBrokenImageIcon,{...o})}function Su(n){return Va("brokenImage",n)}function sd(n){return Va("catalog",n)}function $u(n){return Va("chat",n)}function Tu(n){return Va("dashboard",n)}function cc(n){return Va("docs",n)}function Na(n){return Va("email",n)}function uc(n){return Va("github",n)}function La(n){return Va("group",n)}function yo(n){return Va("help",n)}function dc(n){return Va("user",n)}function Cu(n){return Va("warning",n)}const Ks=(0,i.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),ku=({icon:n})=>{var o;const u=useApp(),g=n&&(o=u.getSystemIcon(n))!=null?o:yo;return React.createElement(g,null)},ji=({link:n})=>{var o;return React.createElement(ve,{to:n.url},(o=n.title)!=null?o:n.url)},_i=({item:n})=>{var o;return React.createElement(ListItem,null,React.createElement(ListItemIcon,null,React.createElement(ku,{icon:n.icon})),React.createElement(ListItemText,{primary:n.title,secondary:(o=n.links)==null?void 0:o.reduce((u,g,P)=>[...u,P>0&&React.createElement("br",{key:P}),React.createElement(ji,{link:g,key:g.url})],[])}))};function Nd(n){const{title:o,children:u}=n,{items:g}=Hs(),[P,L]=useState(!1),[G,q]=useState(null),ee=Ks(),de=useMediaQuery(Fe=>Fe.breakpoints.down("sm")),be=Fe=>{q(Fe.currentTarget),L(!0)},ye=()=>{L(!1)};return React.createElement(React.Fragment,null,React.createElement(Box,{display:"flex",ml:1},de?React.createElement(IconButton,{color:"primary",size:"small",onClick:be,"data-testid":"support-button"},React.createElement(yo,null)):React.createElement(Button$1,{"data-testid":"support-button","aria-label":"support",color:"primary",onClick:be,startIcon:React.createElement(yo,null)},"Support")),React.createElement(Popover,{"data-testid":"support-button-popover",open:P,anchorEl:G,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:ye},React.createElement(List,{className:ee.popoverList},o&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(Typography,{variant:"subtitle1"},o)),React.Children.map(u,(Fe,Ve)=>React.createElement(ListItem,{alignItems:"flex-start",key:`child-${Ve}`},Fe)),g&&g.map((Fe,Ve)=>React.createElement(_i,{item:Fe,key:`item-${Ve}`}))),React.createElement(DialogActions,null,React.createElement(Button$1,{color:"primary",onClick:ye},"Close"))))}const vo=72,Ui=24,Gi=18,Eo={drawerWidthClosed:vo,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:vo,iconSize:vo-Ui*2,iconPadding:Ui,selectedIndicatorWidth:3,userBadgePadding:Gi,userBadgeDiameter:vo-Gi*2,mobileSidebarHeight:56},Lo=n=>({...Eo,...n,iconContainerWidth:Eo.drawerWidthClosed,iconSize:Eo.drawerWidthClosed-Eo.iconPadding*2,userBadgeDiameter:Eo.drawerWidthClosed-Eo.userBadgePadding*2}),mc={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:Eo.defaultOpenDelayMs+200},Pu=n=>({...mc,...n}),Au="@backstage/core/sidebar-intro-dismissed",co=(0,t.createContext)({isOpen:!1,setOpen:()=>{}}),Ta=(0,t.createContext)({sidebarConfig:Eo,submenuConfig:mc}),Js=(0,t.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}}),ro={getSidebarPinState(){let n;try{n=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!n},setSidebarPinState(n){return window.localStorage.setItem("sidebarPinState",JSON.stringify(n))}},pc=(0,i.Z)(n=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[n.breakpoints.up("sm")]:{paddingLeft:o=>o.isPinned?o.sidebarConfig.drawerWidthOpen:o.sidebarConfig.drawerWidthClosed},[n.breakpoints.down("xs")]:{paddingBottom:o=>o.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),xo=(0,t.createContext)({isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1}),Vi=(0,t.createContext)({content:{contentRef:void 0}});function fc(n){const[o,u]=useState(()=>ro.getSidebarPinState()),{sidebarConfig:g}=useContext(Ta),P=useRef(null),L=useMemo(()=>({content:{contentRef:P}}),[P]);useEffect(()=>{ro.setSidebarPinState(o)},[o]);const G=useMediaQuery(de=>de.breakpoints.down("xs"),{noSsr:!0}),q=()=>u(!o),ee=pc({isPinned:o,sidebarConfig:g});return React.createElement(xo.Provider,{value:{isPinned:o,toggleSidebarPinState:q,isMobile:G}},React.createElement(Vi.Provider,{value:L},React.createElement("div",{className:ee.root},n.children)))}function Do(){const{content:n}=(0,t.useContext)(Vi);return{focusContent:(0,t.useCallback)(()=>{var u,g;(g=(u=n==null?void 0:n.contentRef)==null?void 0:u.current)==null||g.focus()},[n]),contentRef:n==null?void 0:n.contentRef}}const Ca=(0,i.Z)(n=>({root:{flexGrow:0,margin:n.spacing(0,2),color:n.palette.navigation.color},selected:o=>({color:`${n.palette.navigation.selectedColor}!important`,borderTop:`solid ${o.sidebarConfig.selectedIndicatorWidth}px ${n.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),zi=n=>{const{to:o,label:u,icon:g,value:P}=n,{sidebarConfig:L}=(0,t.useContext)(Ta),G=Ca({sidebarConfig:L}),q=(0,T.TH)(),{selectedMenuItemIndex:ee,setSelectedMenuItemIndex:de}=(0,t.useContext)(fs),be=(Fe,Ve)=>{de(Ve===ee?-1:Ve)},ye=P===ee&&ee>=0||P!==ee&&!(ee>=0)&&o===q.pathname;return t.createElement(Vr.Z,{label:u,icon:g,component:ve,to:o||q.pathname,onChange:be,value:P,selected:ye,classes:G})},ps=n=>{const{children:o,to:u,label:g,icon:P,value:L}=n,{isMobile:G}=(0,t.useContext)(xo);return G?t.createElement(zi,{to:u,label:g,icon:P,value:L}):t.createElement(t.Fragment,null,o)},Ys=(0,i.Z)(n=>({root:{position:"fixed",backgroundColor:n.palette.navigation.background,color:n.palette.navigation.color,bottom:0,left:0,right:0,zIndex:n.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:o=>({background:n.palette.navigation.background,width:"100%",bottom:`${o.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${o.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:n.palette.bursts.fontColor,alignItems:"center",justifyContent:"space-between",padding:n.spacing(2,3)},overlayHeaderClose:{color:n.palette.bursts.fontColor},marginMobileSidebar:o=>({marginBottom:`${o.sidebarConfig.mobileSidebarHeight}px`})})),Mo=n=>orderBy(n,({props:{priority:o}})=>Number.isInteger(o)?o:-1,"desc"),Zi=t.createElement(ps).type,hc=({children:n,label:o="Menu",open:u,onClose:g})=>{const{sidebarConfig:P}=useContext(Ta),L=Ys({sidebarConfig:P});return React.createElement(Drawer,{anchor:"bottom",open:u,onClose:g,ModalProps:{BackdropProps:{classes:{root:L.marginMobileSidebar}}},classes:{root:L.marginMobileSidebar,paperAnchorBottom:L.overlay}},React.createElement(Box,{className:L.overlayHeader},React.createElement(Typography,{variant:"h3"},o),React.createElement(IconButton,{onClick:g,classes:{root:L.overlayHeaderClose}},React.createElement(CloseIcon,null))),React.createElement(Box,{component:"nav"},n))},fs=(0,t.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),gc=n=>{const{sidebarConfig:o}=useContext(Ta),{children:u}=n,g=Ys({sidebarConfig:o}),P=useLocation$1(),[L,G]=useState(-1);useEffect(()=>{G(-1)},[P.pathname]);let q=useElementFilter(u,de=>de.getElements().filter(be=>be.type===Zi));if(u)q.length?q=Mo(q):q.push(React.createElement(ps,{key:"default_menu",icon:React.createElement(MenuIcon,null)},u));else return null;const ee=L>=0&&!q[L].props.to;return React.createElement(co.Provider,{value:{isOpen:!0,setOpen:()=>{}}},React.createElement(fs.Provider,{value:{selectedMenuItemIndex:L,setSelectedMenuItemIndex:G}},React.createElement(hc,{label:q[L]&&q[L].props.label,open:ee,onClose:()=>G(-1)},q[L]&&q[L].props.children),React.createElement(BottomNavigation,{className:g.root,"data-testid":"mobile-sidebar-root",component:"nav"},q)))},zo=(0,i.Z)(n=>({drawer:o=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:n.zIndex.appBar,background:n.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:o.sidebarConfig.drawerWidthClosed,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:o=>({width:o.sidebarConfig.drawerWidthOpen,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),Zo=n=>{const{sidebarConfig:o}=useContext(Ta),{openDelayMs:u=o.defaultOpenDelayMs,closeDelayMs:g=o.defaultCloseDelayMs,disableExpandOnHover:P,children:L}=n,G=zo({sidebarConfig:o}),q=useMediaQuery(Nt=>Nt.breakpoints.down("md"),{noSsr:!0}),[ee,de]=useState(0),be=useRef(),{isPinned:ye,toggleSidebarPinState:Fe}=useContext(xo),Ve=()=>{ye||P||(be.current&&(clearTimeout(be.current),be.current=void 0),ee!==2&&!q&&(be.current=window.setTimeout(()=>{be.current=void 0,de(2)},u),de(1)))},We=()=>{ye||P||(be.current&&(clearTimeout(be.current),be.current=void 0),ee===1?de(0):ee===2&&(be.current=window.setTimeout(()=>{be.current=void 0,de(0)},g)))},vt=ee===2&&!q||ye,Pt=Nt=>{Nt?(de(2),Fe()):(de(0),Fe())};return React.createElement("nav",{style:{},"aria-label":"sidebar nav"},React.createElement(yc,null),React.createElement(co.Provider,{value:{isOpen:vt,setOpen:Pt}},React.createElement("div",{className:G.root,"data-testid":"sidebar-root",onMouseEnter:P?()=>{}:Ve,onFocus:P?()=>{}:Ve,onMouseLeave:P?()=>{}:We,onBlur:P?()=>{}:We},React.createElement("div",{className:classNames(G.drawer,{[G.drawerOpen]:vt})},L))))},Wi=n=>{var o,u;const g=Lo((o=n.sidebarOptions)!=null?o:{}),P=Pu((u=n.submenuOptions)!=null?u:{}),{children:L,disableExpandOnHover:G,openDelayMs:q,closeDelayMs:ee}=n,{isMobile:de}=useContext(xo);return de?React.createElement(gc,null,L):React.createElement(Ta.Provider,{value:{sidebarConfig:g,submenuConfig:P}},React.createElement(Zo,{openDelayMs:q,closeDelayMs:ee,disableExpandOnHover:G},L))};function yc(){const{sidebarConfig:n}=useContext(Ta),{focusContent:o,contentRef:u}=Do(),g=zo({sidebarConfig:n});return u!=null&&u.current?React.createElement(Button$1,{onClick:o,variant:"contained",className:classNames(g.visuallyHidden)},"Skip to content"):null}function hs(n,o){const u=new URLSearchParams(o.search).toString(),g=Er().parse(u),P=new URLSearchParams(n.search).toString(),L=Er().parse(P);return(0,wr.isEqual)(o.pathname,n.pathname)&&(0,wr.isMatch)(L,g)}const vc=(0,i.Z)(n=>({item:{height:48,width:"100%","&:hover":{background:"#6f6f6f",color:n.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:n.palette.navigation.color,padding:20,cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:"#FFF"},label:{margin:14,marginLeft:7,fontSize:14,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:"#6f6f6f",color:n.palette.navigation.selectedColor}},textContent:{color:n.palette.navigation.color,paddingLeft:n.spacing(4),paddingRight:n.spacing(1),fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}),{name:"BackstageSidebarSubmenuItem"}),Ec=n=>{const{title:o,to:u,icon:g,dropdownItems:P}=n,L=vc(),{setIsHoveredOn:G}=useContext(Js),q=()=>{G(!1)},ee=useResolvedPath(u!=null?u:""),de=useLocation();let be=hs(de,ee);const[ye,Fe]=useState(!1),Ve=()=>{Fe(!ye)};return P!==void 0?(P.some(We=>{const vt=resolvePath(We.to);return be=hs(de,vt),be}),React.createElement("div",{className:L.itemContainer},React.createElement(Tooltip,{title:o,enterDelay:500,enterNextDelay:500},React.createElement("button",{onClick:Ve,onTouchStart:We=>We.stopPropagation(),className:classNames(L.item,be?L.selected:void 0)},g&&React.createElement(g,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:L.label},o),ye?React.createElement(ArrowDropUpIcon,{className:L.dropdownArrow}):React.createElement(ArrowDropDownIcon,{className:L.dropdownArrow}))),P&&ye&&React.createElement("div",{className:L.dropdown},P.map((We,vt)=>React.createElement(Tooltip,{key:vt,title:We.title,enterDelay:500,enterNextDelay:500},React.createElement(ve,{to:We.to,underline:"none",className:L.dropdownItem,onClick:q,onTouchStart:Pt=>Pt.stopPropagation()},React.createElement(Typography,{className:L.textContent},We.title))))))):React.createElement("div",{className:L.itemContainer},React.createElement(Tooltip,{title:o,enterDelay:500,enterNextDelay:500},React.createElement(ve,{to:u,underline:"none",className:classNames(L.item,be?L.selected:void 0),onClick:q,onTouchStart:We=>We.stopPropagation()},g&&React.createElement(g,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:L.label},o))))},Hi=(0,i.Z)(n=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:n.spacing(7)+1},drawer:o=>{var u,g;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[n.breakpoints.up("sm")]:{marginLeft:o.left,transition:n.transitions.create("margin-left",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(g=(u=n.palette.navigation.submenu)==null?void 0:u.background)!=null?g:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:o.submenuConfig.drawerWidthClosed,transitionDelay:`${o.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:o=>({width:o.submenuConfig.drawerWidthOpen,[n.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:n.spacing(3),left:0,top:0}}),title:{fontSize:24,fontWeight:500,color:"#FFF",padding:20,[n.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),Qs=n=>{const{isOpen:o}=(0,t.useContext)(co),{sidebarConfig:u,submenuConfig:g}=(0,t.useContext)(Ta),P=o?u.drawerWidthOpen:u.drawerWidthClosed,L=Hi({left:P,submenuConfig:g}),{isHoveredOn:G}=(0,t.useContext)(Js),[q,ee]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{ee(G)},[G]),t.createElement("div",{className:V()(L.drawer,{[L.drawerOpen]:q})},t.createElement(Et.Z,{variant:"h5",className:L.title},n.title),n.children)},bc=(0,i.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Ki=()=>{const n=bc();return React.createElement("div",{className:n.iconContainer},React.createElement("div",{className:n.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))},wc=(0,i.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),gs=()=>{const n=wc();return React.createElement("div",{className:n.iconContainer},React.createElement("div",{className:n.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))},za=n=>(0,i.Z)(o=>{var u,g,P,L;return{root:{color:o.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit"},closed:{width:n.drawerWidthClosed,justifyContent:"center"},open:{[o.breakpoints.up("sm")]:{width:n.drawerWidthOpen}},highlightable:{"&:hover":{background:(g=(u=o.palette.navigation.navItem)==null?void 0:u.hoverBackground)!=null?g:"#404040"}},highlighted:{background:(L=(P=o.palette.navigation.navItem)==null?void 0:P.hoverBackground)!=null?L:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:n.iconContainerWidth,marginRight:-o.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:"bold",fontSize:o.typography.fontSize},searchFieldHTMLInput:{padding:o.spacing(2,0,2)},searchContainer:{width:n.drawerWidthOpen-n.iconContainerWidth},secondaryAction:{width:o.spacing(6),textAlign:"center",marginRight:o.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:o.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${n.selectedIndicatorWidth}px ${o.palette.navigation.indicator}`,color:o.palette.navigation.selectedColor},"&$closed":{width:n.drawerWidthClosed},"& $closedItemIcon":{paddingRight:n.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-n.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function Ji(n){return(0,t.useMemo)(()=>za(n),[n])()}const Iu=(n,o)=>(0,e.vJ)(n.props.children,u=>{let g=!1;return u.getElements().forEach(({props:{to:P,dropdownItems:L}})=>{if(!g){if(L!=null&&L.length){L.forEach(({to:G})=>g=g||hs(o,(0,T.i3)(G)));return}P&&(g=hs(o,(0,T.i3)(P)))}}),g},[o.pathname]);function Xs(n){return n.to===void 0}const Ou=t.createElement(Qs).type,Nu=t.forwardRef(function({to:o,end:u,style:g,className:P,activeStyle:L,caseSensitive:G,activeClassName:q="active","aria-current":ee="page",...de},be){let{pathname:ye}=(0,T.TH)(),{pathname:Fe}=(0,T.WU)(o);G||(ye=ye.toLocaleLowerCase("en-US"),Fe=Fe.toLocaleLowerCase("en-US"));let Ve=ye===Fe;!Ve&&!u&&(Ve=ye.startsWith(`${Fe}/`));const We=Ve?ee:void 0;return t.createElement(p.rU,{...de,to:o,ref:be,"aria-current":We,style:{...g,...Ve?L:void 0},className:V()([P,Ve?q:void 0])})}),Rc=(0,t.forwardRef)((n,o)=>{const{icon:u,text:g,hasNotifications:P=!1,disableHighlight:L=!1,onClick:G,children:q,className:ee,...de}=n,{sidebarConfig:be}=(0,t.useContext)(Ta),ye=Ji(be),{isOpen:Fe}=(0,t.useContext)(co),Ve=!Fe&&q?{display:"flex",marginLeft:"24px"}:{},We=t.createElement("div",{style:Ve},t.createElement(u,{fontSize:"small"}),!Fe&&q?t.createElement(ia.Z,null):t.createElement(t.Fragment,null)),vt=t.createElement(sa.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!P,className:V()({[ye.closedItemIcon]:!Fe})},We),Pt=t.createElement(t.Fragment,null,t.createElement("div",{"data-testid":"login-button",className:ye.iconContainer},vt),g&&t.createElement(Et.Z,{variant:"subtitle2",className:ye.label},g),t.createElement("div",{className:ye.secondaryAction},q)),Nt=Fe?Pt:vt,Xt={onClick:G,className:V()(ee,ye.root,Fe?ye.open:ye.closed,Xs(n)&&ye.buttonItem,{[ye.highlightable]:!L})};return Xs(n)?t.createElement("button",{"aria-label":g,...Xt,ref:o},Nt):t.createElement(Nu,{...Xt,activeClassName:ye.selected,to:n.to?n.to:"",ref:o,"aria-label":g||n.to,...de},Nt)}),Lu=({children:n,...o})=>{const{sidebarConfig:u}=(0,t.useContext)(Ta),g=Ji(u),[P,L]=(0,t.useState)(!1),G=(0,T.TH)(),q=Iu(n,G),ee=(0,x.Z)(Fe=>Fe.breakpoints.down("sm")),de=()=>{L(!0)},be=()=>{L(!1)},ye=()=>ee?P?t.createElement(Mr.Z,{fontSize:"small",className:g.submenuArrow}):t.createElement(kr.Z,{fontSize:"small",className:g.submenuArrow}):!P&&t.createElement(ia.Z,{fontSize:"small",className:g.submenuArrow});return t.createElement(Js.Provider,{value:{isHoveredOn:P,setIsHoveredOn:L}},t.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:be,onTouchStart:P?be:de,onMouseEnter:de,className:V()(P&&g.highlighted)},t.createElement(Rc,{className:q?g.selected:"",...o},ye()),P&&n))},id=(0,t.forwardRef)((n,o)=>{const[u]=(0,e.vJ)(n.children,g=>g.getElements().filter(P=>P.type===Ou));return u?t.createElement(Lu,{...n},u):t.createElement(Rc,{...n,ref:o})});function Bo(n){const{sidebarConfig:o}=useContext(Ta),[u,g]=useState(""),P=Ji(o),L=n.icon?n.icon:SearchIcon,G=()=>{n.onSearch(u),g("")},q=ye=>{ye.key==="Enter"&&(ye.preventDefault(),G())},ee=ye=>{g(ye.target.value)},de=ye=>{ye.preventDefault(),ye.stopPropagation()},be=ye=>{G(),ye.preventDefault()};return React.createElement("div",{className:P.searchRoot},React.createElement(id,{icon:L,to:n.to,onClick:be,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:u,onClick:de,onChange:ee,onKeyDown:q,className:P.searchContainer,InputProps:{disableUnderline:!0,className:P.searchField},inputProps:{className:P.searchFieldHTMLInput}})))}const ld=(0,S.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),xu=(0,S.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),Du=(0,S.Z)("hr")({height:1,width:"100%",background:"#383838",border:"none",margin:"12px 0px"},{name:"BackstageSidebarDivider"}),Yi=n=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:n.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:n.palette.text.hint,borderRadius:"5px"}}),Sc=(0,S.Z)("div")(({theme:n})=>{const o=Yi(n);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":o,"&:hover":o}}),Qi=()=>{const{sidebarConfig:n}=useContext(Ta),o=Ji(n),{isOpen:u,setOpen:g}=useContext(co);if(useMediaQuery(G=>G.breakpoints.down("md"),{noSsr:!0}))return null;const L=()=>{g(!u)};return React.createElement("button",{onClick:L,className:o.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement("div",{className:o.arrows},u?React.createElement(Ki,null):React.createElement(gs,null)))},$c=(0,i.Z)(n=>({introCard:o=>({color:"#b5b5b5",fontSize:12,width:o.sidebarConfig.drawerWidthOpen,marginTop:18,marginBottom:12,paddingLeft:o.sidebarConfig.iconPadding,paddingRight:o.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:12},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:4,"&:hover":{color:n.palette.linkHover,transition:n.transitions.create("color",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:12}}),{name:"BackstageSidebarIntro"});function ei(n){const{sidebarConfig:o}=useContext(Ta),u=$c({sidebarConfig:o}),{text:g,onClose:P}=n,L=()=>P();return React.createElement("div",{className:u.introCard},React.createElement(Typography,{variant:"subtitle2"},g),React.createElement("div",{className:u.introDismiss},React.createElement(Link$1,{component:"button",onClick:L,underline:"none",className:u.introDismissLink},React.createElement(CloseIcon,{className:u.introDismissIcon}),React.createElement(Typography,{component:"span",className:u.introDismissText},"Dismiss"))))}const Xi=n=>{const{text:o,onDismiss:u}=n,[g,P]=useState(!1),L=()=>{P(!0)};return React.createElement(Collapse,{in:!g,onExited:u},React.createElement(ei,{text:o,onClose:L}))},Mu=null,uo="And your recently viewed plugins will pop up here!";function cd(n){const{isOpen:o}=useContext(co),u={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},[g,P]=useLocalStorageValue(Au),{starredItemsDismissed:L,recentlyViewedItemsDismissed:G}=g!=null?g:{},q=()=>{P(de=>({...u,...de,starredItemsDismissed:!0}))},ee=()=>{P(de=>({...u,...de,recentlyViewedItemsDismissed:!0}))};return o?React.createElement(React.Fragment,null,!L&&React.createElement(React.Fragment,null,React.createElement(Xi,{text:Mu,onDismiss:q}),React.createElement(Du,null)),!G&&React.createElement(Xi,{text:uo,onDismiss:ee})):null}const Tc=(0,i.Z)(n=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:n.spacing(3),paddingBottom:n.spacing(3),paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function qi(n){const{className:o,stretch:u,noPadding:g,children:P,...L}=n,{contentRef:G}=Do(),q=Tc();return t.createElement("article",{ref:G,tabIndex:-1,...L,className:V()(q.root,o,{[q.stretch]:u,[q.noPadding]:g})},P)}const Cc=(0,i.Z)(n=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:n.palette.background.paper,paddingLeft:n.spacing(3)},defaultTab:{padding:n.spacing(3,3),...n.typography.caption,textTransform:"uppercase",fontWeight:"bold",color:n.palette.text.secondary},selected:{color:n.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:n.palette.background.default,color:n.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function Fo(n){const{tabs:o,onChange:u,selectedIndex:g}=n,[P,L]=(0,t.useState)(g!=null?g:0),G=Cc(),q=(ee,de)=>{g===void 0&&L(de),u&&u(de)};return(0,t.useEffect)(()=>{g!==void 0&&L(g)},[g]),t.createElement("div",{className:G.tabsWrapper},t.createElement(Pr.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",onChange:q,value:P},o.map((ee,de)=>t.createElement(to.Z,{...ee.tabProps,"data-testid":`header-tab-${de}`,label:ee.label,key:ee.id,value:de,className:G.defaultTab,classes:{selected:G.selected,root:G.tabRoot}}))))}function ka(n){var o,u,g;const P=(0,T.UO)(),G=n.map(({path:be,children:ye})=>({caseSensitive:!1,path:`${be}/*`,element:ye})).sort((be,ye)=>ye.path.replace(/\/\*$/,"").localeCompare(be.path.replace(/\/\*$/,""))),q=(o=(0,T.V$)(G))!=null?o:n[0].children,[ee]=(u=(0,T.fp)(G,`/${P["*"]}`))!=null?u:[],de=ee?n.findIndex(be=>`${be.path}/*`===ee.route.path):0;return{index:de===-1?0:de,element:q,route:(g=n[de])!=null?g:n[0]}}function ti(n){const{routes:o}=n,u=(0,T.s0)(),{index:g,route:P,element:L}=ka(o),G=(0,t.useMemo)(()=>o.map(ee=>({id:ee.path,label:ee.title,tabProps:ee.tabProps})),[o]),q=ee=>u(o[ee].path.replace(/\/\*$/,"").replace(/^\//,""));return t.createElement(t.Fragment,null,t.createElement(Fo,{tabs:G,selectedIndex:g,onChange:q}),t.createElement(qi,null,t.createElement(Gr.q,{title:P.title}),L))}const ys=()=>null;(0,e.R5)(ys,"core.gatherMountPoints",!0);function kc(n){const o=t.createElement(ys,{path:"",title:""},t.createElement("div",null)).type;return t.Children.toArray(n).flatMap(u=>{if(!(0,t.isValidElement)(u))return[];if(u.type===t.Fragment)return kc(u.props.children);if(u.type!==o)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:g,title:P,children:L,tabProps:G}=u.props;return[{path:g,title:P,children:L,tabProps:G}]})}function vs(n){const o=kc(n.children);return t.createElement(ti,{routes:o})}vs.Route=ys;const Wo=(0,i.Z)(n=>({value:{marginBottom:"6px"},subvalue:{color:n.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function ud(n){const{value:o,subvalue:u}=n,g=Wo();return React.createElement(React.Fragment,null,React.createElement("div",{className:g.value},o),React.createElement("div",{className:g.subvalue},u))}const Es=(0,i.Z)(n=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:n.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:"60px",justifyContent:"space-between",borderBottom:`1px solid ${n.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:n.spacing(2)}}}),{name:"BackstageTableFilters"}),Pc=n=>{var o;const u=Es(),{onChangeFilters:g}=n,[P,L]=(0,t.useState)({...n.selectedFilters}),[G,q]=(0,t.useState)(!1),ee=()=>{L({}),q(de=>!de)};return(0,t.useEffect)(()=>{g(P)},[P,g]),t.createElement("div",{className:u.root},t.createElement("div",{className:u.header},t.createElement("div",{className:u.value},"Filters"),t.createElement(U.Z,{color:"primary",onClick:ee},"Clear all")),t.createElement("div",{className:u.filters},((o=n.filters)==null?void 0:o.length)&&n.filters.map(de=>t.createElement(Jl,{triggerReset:G,key:de.element.label,...de.element,selected:P[de.element.label],onChange:be=>L({...P,[de.element.label]:be})}))))},el={Add:(0,t.forwardRef)((n,o)=>t.createElement(Br.Z,{...n,ref:o})),Check:(0,t.forwardRef)((n,o)=>t.createElement(Ja.Z,{...n,ref:o})),Clear:(0,t.forwardRef)((n,o)=>t.createElement(qr.Z,{...n,ref:o})),Delete:(0,t.forwardRef)((n,o)=>t.createElement(Fr.Z,{...n,ref:o})),DetailPanel:(0,t.forwardRef)((n,o)=>t.createElement(we.Z,{...n,ref:o})),Edit:(0,t.forwardRef)((n,o)=>t.createElement(gr.Z,{...n,ref:o})),Export:(0,t.forwardRef)((n,o)=>t.createElement(la.Z,{...n,ref:o})),Filter:(0,t.forwardRef)((n,o)=>t.createElement(Ea.Z,{...n,ref:o})),FirstPage:(0,t.forwardRef)((n,o)=>t.createElement(Ia.Z,{...n,ref:o})),LastPage:(0,t.forwardRef)((n,o)=>t.createElement(Ya.Z,{...n,ref:o})),NextPage:(0,t.forwardRef)((n,o)=>t.createElement(we.Z,{...n,ref:o})),PreviousPage:(0,t.forwardRef)((n,o)=>t.createElement(ie.Z,{...n,ref:o})),ResetSearch:(0,t.forwardRef)((n,o)=>t.createElement(qr.Z,{...n,ref:o})),Search:(0,t.forwardRef)((n,o)=>t.createElement(Ea.Z,{...n,ref:o})),SortArrow:(0,t.forwardRef)((n,o)=>t.createElement(Ua.Z,{...n,ref:o})),ThirdStateCheck:(0,t.forwardRef)((n,o)=>t.createElement(Or.Z,{...n,ref:o})),ViewColumn:(0,t.forwardRef)((n,o)=>t.createElement(Ga.Z,{...n,ref:o}))};function Ho(n,o){const u=o.split(".");let g=n[u[0]];for(let P=1;P<u.length;++P){if(g===void 0)return g;const L=u[P];g=g[L]}return g}const bs=(0,A.Z)(n=>({header:{padding:n.spacing(1,2,1,2.5),borderTop:`1px solid ${n.palette.grey.A100}`,borderBottom:`1px solid ${n.palette.grey.A100}`,color:n.palette.textSubtle,fontWeight:n.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(pa.W$),tl=(0,A.Z)(n=>({root:{padding:n.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:"bold"}},searchField:{paddingRight:n.spacing(2)}}),{name:"BackstageTableToolbar"})(pa.UW),Ac=(0,i.Z)(()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:"bold",fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),Ic=(0,i.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function jo(n,o){return n.map(u=>{const g={};let P=u.cellStyle||{};if(u.highlight)if(g.color=o.palette.textContrast,typeof P=="object")P.fontWeight=o.typography.fontWeightBold;else{const L=P;P=(G,q,ee)=>({...L(G,q,ee),fontWeight:o.typography.fontWeightBold})}return{...u,headerStyle:g,cellStyle:P}})}function Oc(n,o){return(0,wr.transform)(n,(u,g,P)=>{(0,wr.isEqual)(g,o[P])||(u[P]=g)})}const ws={search:"",filtersOpen:!1,filters:{}};function ni(n){const{toolbarRef:o,setSearch:u,hasFilters:g,selectedFiltersLength:P,toggleFilters:L}=n,G=Ac(),q=(0,t.useCallback)(ee=>{n.onSearchChanged(ee),u(ee)},[n,u]);return g?t.createElement("div",{className:G.root},t.createElement("div",{className:G.root},t.createElement(h.Z,{onClick:L,"aria-label":"filter list"},t.createElement(Ea.Z,null)),t.createElement(Et.Z,{className:G.title},"Filters (",P,")")),t.createElement(tl,{...n,ref:o,onSearchChanged:q})):t.createElement(tl,{...n,ref:o,onSearchChanged:q})}function Nc(n){const{data:o,columns:u,options:g,title:P,subtitle:L,filters:G,initialState:q,emptyContent:ee,onStateChange:de,...be}=n,ye=Ic(),Fe=(0,c.Z)(),Ve={...ws,...q},[We,vt]=(0,t.useState)(Ve.filtersOpen),Pt=(0,t.useCallback)(()=>vt($r=>!$r),[vt]),[Nt,Xt]=(0,t.useState)(0),[Jt,ln]=(0,t.useState)(o),[an,vn]=(0,t.useState)(Ve.filters),Sn=jo(u,Fe),[$n,En]=(0,t.useState)(Ve.search);(0,t.useEffect)(()=>{if(de){const $r=Oc({search:$n,filtersOpen:We,filters:an},ws);de($r)}},[$n,We,an,de]);const An={headerStyle:{textTransform:"uppercase"}},tr=(0,t.useCallback)($r=>{var mr;return(mr=u.find(da=>da.title===$r))==null?void 0:mr.field},[u]);(0,t.useEffect)(()=>{if(typeof o=="function")return;if(!an){ln(o);return}const $r=Object.values(an);if(o&&$r.flat().length){const mr=o.filter(da=>!!Object.entries(an).filter(([,Aa])=>!!Aa.length).every(([Aa,sr])=>{const $a=Ho(da,tr(Aa));return Array.isArray($a)&&Array.isArray(sr)?$a.some(vi=>sr.includes(vi)):Array.isArray($a)?$a.includes(sr):Array.isArray(sr)?sr.includes($a):$a===sr}));ln(mr)}else ln(o);Xt($r.flat().length)},[o,an,tr]);const Nn=($r,mr)=>{const da=sr=>{const $a=new Set,vi=pr=>{pr!=null&&$a.add(pr)};return mr&&mr.forEach(pr=>{const ma=Ho(pr,tr(sr));Array.isArray(ma)?ma.forEach(vi):vi(ma)}),$a},Aa=sr=>({placeholder:"All results",label:sr.column,multiple:sr.type==="multiple-select",items:[...da(sr.column)].sort().map($a=>({label:$a,value:$a}))});return $r.map(sr=>({type:sr.type,element:Aa(sr)}))},ga=!!(G!=null&&G.length),as=(0,t.useCallback)($r=>t.createElement(ni,{setSearch:En,hasFilters:ga,selectedFiltersLength:Nt,toggleFilters:Pt,...$r}),[Pt,ga,Nt,En]),xr=typeof o!="function"&&o.length===0,eo=u.length,os=(0,t.useCallback)($r=>ee&&xr?t.createElement("tbody",null,t.createElement("tr",null,t.createElement("td",{colSpan:eo},ee))):t.createElement(pa.os,{...$r}),[xr,ee,eo]);return t.createElement("div",{className:ye.root},We&&o&&typeof o!="function"&&(G==null?void 0:G.length)&&t.createElement(Pc,{filters:Nn(G,o),selectedFilters:an,onChangeFilters:vn}),t.createElement(pa.ZP,{components:{Header:bs,Toolbar:as,Body:os},options:{...An,...g},columns:Sn,icons:el,title:t.createElement(t.Fragment,null,t.createElement(Et.Z,{variant:"h5",component:"h3"},P),L&&t.createElement(Et.Z,{color:"textSecondary",variant:"body1"},L)),data:typeof o=="function"?o:Jt,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter"}},...be}))}function nl(n,o){if(o<=0)return[n];const u=[];for(let g=0;g<n.length;g+=o)u.push(n.slice(g,g+o));return u}const Rs=n=>{const{children:o,value:u,index:g,...P}=n;return React.createElement("div",{role:"tabpanel",hidden:u!==g,"aria-labelledby":`scrollable-auto-tab-${g}`,...P},u===g&&React.createElement(Box,{p:3},o))},Bu=(0,i.Z)(()=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:"1.5rem",textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:n=>n.isNext?"auto":"0",marginRight:n=>n.isNext?"0":"10px","&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}}),{name:"BackstageTabIcon"}),Lc=n=>{const o=Bu(n),{ariaLabel:u,onClick:g}=n;return React.createElement(IconButton,{onClick:g,className:o.root,size:"small",disableRipple:!0,disableFocusRipple:!0,"aria-label":u},n.children)},xc=(n,o)=>o?n?"20px":"0":"40px",rl=(0,i.Z)(n=>({root:{textTransform:"none",height:"64px",fontWeight:n.typography.fontWeightBold,fontSize:n.typography.pxToRem(13),color:n.palette.textSubtle,marginLeft:o=>xc(o.isFirstNav,o.isFirstIndex),width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:n.palette.textSubtle}}}),{name:"BackstageTab"}),Dc=n=>{const o=rl(n),{isFirstNav:u,isFirstIndex:g,...P}=n;return React.createElement(Tab,{classes:o,disableRipple:!0,...P})},Mc=(0,i.Z)(n=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:n.palette.tabbar.indicator,height:"4px"},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}}),{name:"BackstageTabBar"}),Bc=n=>{const o=Mc(n);return React.createElement(Tabs$1,{classes:o,...n,TabIndicatorProps:{children:React.createElement("span",null)}})},al=(0,i.Z)(n=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:n.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:n.palette.background.paper,paddingLeft:"10px",paddingRight:"10px"}}),{name:"BackstageTabs"});function ol(n){const{tabs:o}=n,u=al(),[g,P]=useState([0,0]),[L,G]=useState(0),[q,ee]=useState(0),[de,be]=useState([[]]),ye=useRef(),{width:Fe}=useWindowSize(),Ve=(Xt,Jt)=>{P([L,Jt])},We=()=>{G(L-1)},vt=()=>{G(L+1)},Pt=()=>L+1<de.length;useEffect(()=>{const Jt=L===0?1:2,ln=ye.current.offsetWidth-20-Jt*30,an=g[0]*q+g[1],vn=Math.floor(ln/170);ee(vn),be(nl(o,vn)),P([Math.floor(an/vn),an%vn])},[Fe,o]);const Nt=L===g[0]?g[1]:!1;return React.createElement("div",{className:u.root},React.createElement(AppBar,{ref:ye,className:u.appbar,position:"static"},React.createElement("div",null,React.createElement(Bc,{value:Nt,onChange:Ve,selectionFollowsFocus:!0},L!==0&&React.createElement(Lc,{onClick:We,ariaLabel:"navigate-before"},React.createElement(NavigateBeforeIcon,null)),de[L].map((Xt,Jt)=>React.createElement(Dc,{value:Jt,isFirstIndex:Jt===0,isFirstNav:L===0,key:Jt,icon:Xt.icon||void 0,label:Xt.label||void 0})),Pt()&&React.createElement(Lc,{isNext:!0,onClick:vt,ariaLabel:"navigate-next"},React.createElement(NavigateNextIcon,null))))),Nt!==!1?de[L].map((Xt,Jt)=>React.createElement(Rs,{key:Jt,value:Jt,index:Nt},Xt.content)):React.createElement(Rs,{key:"panel_outside_chunked_array",value:g[1],index:g[1]},de[g[0]][g[1]].content))}function _o(n,o){const u=n[n.length-1];if(!!u)return u>=.9?o.palette.status.ok:u>=.5?o.palette.status.warning:o.palette.status.error}function dd(n){var o;const u=useTheme();return n.data?React.createElement(Sparklines,{width:120,height:30,min:0,max:1,...n},n.title&&React.createElement("title",null,n.title),React.createElement(SparklinesLine,{color:(o=n.color)!=null?o:_o(n.data,u)})):null}const sl=n=>makeStyles(o=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:o.spacing(2),textAlign:n.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:o.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),Fc=({title:n="Unknown page",className:o})=>React.createElement(Typography,{variant:"h4",component:"h2",className:o,"data-testid":"header-title"},n);function jc(n){const{description:o,title:u,titleComponent:g=void 0,children:P,textAlign:L="left"}=n,G=sl({textAlign:L})(),q=g||React.createElement(Fc,{title:u,className:G.title});return React.createElement(React.Fragment,null,React.createElement(Helmet,{title:u}),React.createElement("div",{className:G.container},React.createElement("div",{className:G.leftItemsBox},q,o&&React.createElement(Typography,{className:G.description,variant:"body2"},o)),React.createElement("div",{className:G.rightItemsBox},P)))}const il=(0,i.Z)(n=>({micDrop:{maxWidth:"60%",position:"absolute",bottom:n.spacing(2),right:n.spacing(2),[n.breakpoints.down("xs")]:{maxWidth:"96%",position:"relative",bottom:"unset",right:"unset",margin:`${n.spacing(10)}px auto ${n.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),ll=()=>{const n=il();return React.createElement("img",{src:MicDropSvgUrl,className:n.micDrop,alt:"Girl dropping mic from her hands"})},Fu=(0,i.Z)(n=>({container:{padding:n.spacing(8),[n.breakpoints.down("xs")]:{padding:n.spacing(2)}},title:{paddingBottom:n.spacing(5),[n.breakpoints.down("xs")]:{paddingBottom:n.spacing(4),fontSize:32}},subtitle:{color:n.palette.textSubtle}}),{name:"BackstageErrorPage"});function Ld(n){const{status:o,statusMessage:u,additionalInfo:g,supportUrl:P}=n,L=Fu(),G=useNavigate(),q=Hs();return React.createElement(Grid,{container:!0,spacing:0,className:L.container},React.createElement(ll,null),React.createElement(Grid,{item:!0,xs:12,sm:8,md:4},React.createElement(Typography,{"data-testid":"error",variant:"body1",className:L.subtitle},"ERROR ",o,": ",u),React.createElement(Typography,{variant:"body1",className:L.subtitle},g),React.createElement(Typography,{variant:"h2",className:L.title},"Looks like someone dropped the mic!"),React.createElement(Typography,{variant:"h6"},React.createElement(ve,{to:"#","data-testid":"go-back-link",onClick:()=>G(-1)},"Go back"),"... or please"," ",React.createElement(ve,{to:P||q.url},"contact support")," if you think this is a bug.")))}const Ss=(0,A.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(Et.Z),cl=(0,A.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(It.Z);function _c(n){const{children:o,...u}=n,[g,P]=React.useState(null),L=React.Children.toArray(o),[G,q,...ee]=L,de=ee.length?ee.pop():L[L.length-1],be=L.length>3,ye=We=>{P(We.currentTarget)},Fe=()=>{P(null)},Ve=Boolean(g);return React.createElement(Fragment,null,React.createElement(MaterialBreadcrumbs,{"aria-label":"breadcrumb",...u},L.length>1&&React.createElement(cl,{clone:!0},G),L.length>2&&React.createElement(cl,{clone:!0},q),be&&React.createElement(Ss,{onClick:ye},"..."),React.createElement(Box,{style:{fontStyle:"italic"}},de)),React.createElement(Popover,{open:Ve,anchorEl:g,onClose:Fe,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},React.createElement(List,null,ee.map((We,vt)=>React.createElement(ListItem,{key:vt,button:!0},React.createElement(cl,{clone:!0},We))))))}const ul=(0,i.Z)(n=>({header:{gridArea:"pageHeader",padding:n.spacing(3),width:"100%",boxShadow:n.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:n.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[n.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto"},title:{color:n.palette.bursts.fontColor,wordBreak:"break-word",fontSize:n.typography.h3.fontSize,marginBottom:0},subtitle:{color:n.palette.bursts.fontColor,opacity:.8,display:"inline-block",marginTop:n.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:n.spacing(1),color:n.palette.bursts.fontColor},breadcrumb:{color:n.palette.bursts.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-n.spacing(.3),marginBottom:n.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-n.spacing(.3),marginBottom:n.spacing(.3)}}),{name:"BackstageHeader"}),ju=({type:n,typeLink:o,classes:u,pageTitle:g})=>n?o?React.createElement(_c,{className:u.breadcrumb},React.createElement(ve,{to:o},n),React.createElement(Typography,null,g)):React.createElement(Typography,{className:u.type},n):null,_u=({pageTitle:n,classes:o,tooltip:u})=>{const g=React.createElement(Typography,{className:o.title,variant:"h1"},n);return u?React.createElement(Tooltip,{title:u,placement:"top-start"},g):g},Uu=({classes:n,subtitle:o})=>o?typeof o!="string"?React.createElement(React.Fragment,null,o):React.createElement(Typography,{className:n.subtitle,variant:"subtitle2",component:"span"},o):null;function dl(n){const{children:o,pageTitleOverride:u,style:g,subtitle:P,title:L,tooltip:G,type:q,typeLink:ee}=n,de=ul(),ye=useApi(configApiRef).getOptionalString("app.title")||"Backstage",Fe=u||L,Ve=L||u,We=`${Fe} | %s | ${ye}`,vt=`${Fe} | ${ye}`;return React.createElement(React.Fragment,null,React.createElement(Helmet,{titleTemplate:We,defaultTitle:vt}),React.createElement("header",{style:g,className:de.header},React.createElement(Box,{className:de.leftItemsBox},React.createElement(ju,{classes:de,type:q,typeLink:ee,pageTitle:Ve}),React.createElement(_u,{classes:de,pageTitle:Ve,tooltip:G}),React.createElement(Uu,{classes:de,subtitle:P})),React.createElement(Grid,{container:!0,className:de.rightItemsBox,spacing:4},o)))}const ml=(0,i.Z)(n=>({root:{textAlign:"left"},label:{color:n.palette.common.white,fontWeight:"bold",letterSpacing:0,fontSize:n.typography.fontSize,marginBottom:n.spacing(1)/2,lineHeight:1},value:{color:"rgba(255, 255, 255, 0.8)",fontSize:n.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),ri=({value:n,className:o})=>React.createElement(Typography,{className:o},n);function Uc(n){const{label:o,value:u,url:g}=n,P=ml(),L=React.createElement(ri,{className:P.value,value:u||"<Unknown>"});return React.createElement(Grid,{item:!0},React.createElement("span",{className:P.root},React.createElement(Typography,{className:P.label},o),g?React.createElement(ve,{to:g},L):L))}const Gu={hour:"2-digit",minute:"2-digit"};function pl(n){const o=new Date,u=window.navigator.language,g=[];if(!n.has("homepage.clocks"))return g;const P=n.getConfigArray("homepage.clocks");for(const L of P)if(L.has("label")&&L.has("timezone")){let G=L.getString("label");const q={timeZone:L.getString("timezone"),...Gu};try{new Date().toLocaleString(u,q)}catch{console.warn(`The timezone ${q.timeZone} is invalid. Defaulting to GMT`),q.timeZone="GMT",G="GMT"}const ee=o.toLocaleTimeString(u,q);g.push({time:ee,label:G})}return g}function ai(n){const o=useApi(configApiRef),u=[],[g,P]=React.useState(u);return React.useEffect(()=>{P(pl(o));const L=setInterval(()=>{P(pl(o))},1e3);return()=>{clearInterval(L)}},[o]),g.length!==0?React.createElement(React.Fragment,null,g.map(L=>React.createElement(Uc,{label:L.label,value:L.time,key:L.label}))):null}const Gc=n=>(0,E.Z)({root:{color:n.palette.common.white,padding:n.spacing(2,2,3),backgroundImage:n.palette.bursts.gradient.linear,backgroundPosition:0,backgroundSize:"inherit"}}),$s=(0,i.Z)(Gc,{name:"BackstageItemCardHeader"});function fl(n){const{title:o,subtitle:u,children:g}=n,P=$s(n);return React.createElement("div",{className:P.root},u&&React.createElement(Typography,{variant:"subtitle2",component:"h3"},u),o&&React.createElement(Typography,{variant:"h6",component:"h4"},o),g)}function Vc(n){const{description:o,tags:u,title:g,type:P,subtitle:L,label:G,onClick:q,href:ee}=n;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(fl,{title:g,subtitle:L||P})),React.createElement(CardContent,null,u!=null&&u.length?React.createElement(Box,null,u.map((de,be)=>React.createElement(Chip,{size:"small",label:de,key:be}))):null,o),React.createElement(CardActions,null,!ee&&React.createElement(Je,{to:"#",onClick:q,color:"primary"},G),ee&&React.createElement(Je,{to:ee,color:"primary"},G)))}const Ts=n=>(0,E.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:n.spacing(2)}}),oi=(0,i.Z)(Ts,{name:"BackstageItemCardGrid"});function hl(n){const{children:o,...u}=n,g=oi(u);return React.createElement("div",{className:g.root,...u},o)}const Vu=(0,i.Z)(()=>({root:({isMobile:n})=>({display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",height:n?"100%":"100vh",overflowY:"auto"})}),{name:"BackstagePage"});function si(n){const{themeId:o,children:u}=n,{isMobile:g}=(0,t.useContext)(xo),P=Vu({isMobile:g});return t.createElement(F.Z,{theme:L=>({...L,page:L.getPageTheme({themeId:o})})},t.createElement("main",{className:P.root},u))}function gl(n){const{themeId:o,children:u,...g}=n;return React.createElement(si,{themeId:o},React.createElement(dl,{...g}),u)}const zc=mn.z.object({providerInfo:mn.z.object({}).catchall(mn.z.unknown()).optional(),profile:mn.z.object({email:mn.z.string().optional(),displayName:mn.z.string().optional(),picture:mn.z.string().optional()}),backstageIdentity:mn.z.object({token:mn.z.string(),identity:mn.z.object({type:mn.z.literal("user"),userEntityRef:mn.z.string(),ownershipEntityRefs:mn.z.array(mn.z.string())})})}),Zc={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function yl(n){const o=new Date(Date.now()+Zc.defaultTokenExpiryMillis);if(!n)return o;const[u,g,P]=n.split("."),L=JSON.parse(atob(g));return typeof L.exp!="number"?o:new Date(L.exp*1e3-Zc.tokenExpiryMarginMillis)}class zu{constructor(o){this.options=o,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:o}=this.getSessionSync(),u=o.identity.userEntityRef,g=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(u);if(!g)throw new TypeError(`Invalid user entity reference "${u}"`);return g[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const o=this.state.type==="active"?this.state.session:void 0,u=this.fetchSession().then(g=>(this.state={type:"active",session:g,expiresAt:yl(g.backstageIdentity.token)},g),g=>{throw this.state={type:"failed",error:g},g});return this.state={type:"fetching",promise:u,previous:o},u}async fetchSession(){const o=await this.options.discoveryApi.getBaseUrl("auth"),u=await fetch(`${o}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"});if(!u.ok)throw await ResponseError.fromResponse(u);return zc.parse(await u.json())}}const Zu=n=>{const o=useApi(discoveryApiRef),[{status:u,error:g},{execute:P}]=useAsync(async()=>{const L=new zu({provider:n.provider,discoveryApi:o});await L.start(),n.onSignInSuccess(L)});return useMountEffect(P),u==="loading"?React.createElement($i,null):g?React.createElement(en,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:g}):null};class Cs{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const o="user:default/guest";return{type:"user",userEntityRef:o,ownershipEntityRefs:[o]}}async getCredentials(){return{}}async signOut(){}}function Ko(n){const[o,u,g]=n.split(".");return JSON.parse(atob(u))}class vl{constructor(o){this.result=o}getUserId(){return this.result.userId}static fromResult(o){return new vl(o)}async getIdToken(){var o,u;return(u=(o=this.result).getIdToken)==null?void 0:u.call(o)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const o=await this.getIdToken();if(!o){const P=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:P,ownershipEntityRefs:[P]}}const{sub:u,ent:g}=Ko(o);return{type:"user",userEntityRef:u,ownershipEntityRefs:g!=null?g:[]}}async getCredentials(){var o,u;return{token:await((u=(o=this.result).getIdToken)==null?void 0:u.call(o))}}async signOut(){var o,u;return(u=(o=this.result).signOut)==null?void 0:u.call(o)}}class Jo{constructor(o,u,g){this.identity=o,this.authApi=u,this.profile=g}static createGuest(){return new Cs}static fromLegacy(o){return vl.fromResult(o)}static create(o){return new Jo(o.identity,o.authApi,o.profile)}getUserId(){const o=this.identity.userEntityRef,u=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(o);if(!u)throw new TypeError(`Invalid user entity reference "${o}"`);return u[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(o){throw this.profilePromise=void 0,o}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}const Yo=(0,i.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),Qo=({children:n})=>{const o=Yo();return t.createElement(lt.Z,{component:"li",item:!0,classes:o},n)},ii={Component:({config:n,onSignInSuccess:o})=>{const{apiRef:u,title:g,message:P}=n,L=(0,e.h_)(u),G=(0,e.h_)(e.VE),q=async()=>{try{const ee=await L.getBackstageIdentity({instantPopup:!0});if(!ee)throw new Error(`The ${g} provider is not configured to support sign-in`);const de=await L.getProfile();o(Jo.create({identity:ee.identity,profile:de,authApi:L}))}catch(ee){G.post(new je.SP("Login failed",ee))}};return t.createElement(Qo,null,t.createElement(no,{variant:"fullHeight",title:g,actions:t.createElement(U.Z,{color:"primary",variant:"outlined",onClick:q},"Sign In")},t.createElement(Et.Z,{variant:"body1"},P)))},loader:async(n,o)=>{const u=n.get(o),g=await u.getBackstageIdentity({optional:!0});if(!g)return;const P=await u.getProfile();return Jo.create({identity:g.identity,profile:P,authApi:u})}},Xo={Component:({onSignInSuccess:n})=>t.createElement(Qo,null,t.createElement(no,{title:"Guest",variant:"fullHeight",actions:t.createElement(U.Z,{color:"primary",variant:"outlined",onClick:()=>n(new Cs)},"Enter")},t.createElement(Et.Z,{variant:"body1"},"Enter as a Guest User.",t.createElement("br",null),"You will not have a verified identity,",t.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new Cs},bl=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,li=(0,i.Z)(n=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:n.spacing(2)}}),{name:"BackstageCustomProvider"}),Wu=n=>{const{ref:o,...u}=n;return{inputRef:o,...u}},Dd={Component:({onSignInSuccess:n})=>{const o=li(),{register:u,handleSubmit:g,formState:P}=(0,Wr.cI)({mode:"onChange"}),{errors:L}=P,G=({userId:q})=>{n(Jo.fromLegacy({userId:q,profile:{email:`${q}@example.com`}}))};return t.createElement(Qo,null,t.createElement(no,{title:"Custom User",variant:"fullHeight"},t.createElement(Et.Z,{variant:"body1"},"Enter your own User ID and credentials.",t.createElement("br",null),"This selection will not be stored."),t.createElement("form",{className:o.form,onSubmit:g(G)},t.createElement(jn.Z,null,t.createElement(ar.Z,{...Wu(u("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(L.userId)}),L.userId&&t.createElement(Qn.Z,{error:!0},L.userId.message)),t.createElement(jn.Z,null,t.createElement(ar.Z,{...Wu(u("idToken",{required:!1,validate:q=>!q||bl.test(q)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(L.idToken)}),L.idToken&&t.createElement(Qn.Z,{error:!0},L.idToken.message)),t.createElement(U.Z,{type:"submit",color:"primary",variant:"outlined",className:o.button,disabled:!(P!=null&&P.isDirty)||!cr()(L)},"Continue"))))},loader:async()=>{}};class Rl{constructor(o){this.config=o}static from(o){return new Rl(o)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const ci="@backstage/core:SignInPage:provider",Sl={guest:Xo,custom:Dd,common:ii};function $l(n,o){if(n in o)throw new Error(`"${n}" ID is duplicated. IDs of identity providers have to be unique.`)}function ui(n){return n.reduce((u,g)=>{if(typeof g=="string")return $l(g,u),u[g]={components:Sl[g],id:g},u;const{id:P}=g;return $l(P,u),u[P]={components:Sl.common,id:P,config:g},u},{})}const di=(n,o)=>{const u=useApi(errorApiRef),g=useApiHolder(),[P,L]=useState(!0),G=useCallback(ee=>{o(Rl.from({identityApi:ee,signOut:async()=>{var de;localStorage.removeItem(ci),await((de=ee.signOut)==null?void 0:de.call(ee))}}))},[o]);useLayoutEffect(()=>{var ee;if(!P)return;const de=localStorage.getItem(ci);if(de===null){L(!1);return}const be=n[de];if(!be){L(!1);return}let ye=!1;return be.components.loader(g,(ee=be.config)==null?void 0:ee.apiRef).then(Fe=>{ye||(Fe?G(Fe):L(!1))}).catch(Fe=>{ye||(localStorage.removeItem(ci),u.post(Fe),L(!1))}),()=>{ye=!0}},[P,u,o,g,n,G]);const q=useMemo(()=>Object.keys(n).map(ee=>{const de=n[ee],{Component:be}=de.components,ye=Fe=>{localStorage.setItem(ci,de.id),G(Fe)};return React.createElement(be,{key:de.id,config:de.config,onSignInSuccess:ye})}),[n,G]);return[P,q]},Wc=({onSignInSuccess:n,providers:o=[],title:u,align:g="left"})=>{const P=useApi(configApiRef),L=Yo(),G=ui(o),[q,ee]=di(G,n);return q?React.createElement($i,null):React.createElement(si,{themeId:"home"},React.createElement(dl,{title:P.getString("app.title")}),React.createElement(qi,null,u&&React.createElement(jc,{title:u,textAlign:g}),React.createElement(Grid,{container:!0,justifyContent:g==="center"?g:"flex-start",spacing:2,component:"ul",classes:L},ee)))},Tl=({provider:n,auto:o,onSignInSuccess:u})=>{const g=Yo(),P=useApi(n.apiRef),L=useApi(configApiRef),[G,q]=useState(),[ee,de]=useState(!1),be=async({checkExisting:ye,showPopup:Fe})=>{try{let Ve;if(ye&&(Ve=await P.getBackstageIdentity({optional:!0})),!Ve&&(Fe||o)&&(de(!0),Ve=await P.getBackstageIdentity({instantPopup:!0}),!Ve))throw new Error(`The ${n.title} provider is not configured to support sign-in`);if(!Ve){de(!0);return}const We=await P.getProfile();u(Jo.create({identity:Ve.identity,authApi:P,profile:We}))}catch(Ve){q(Ve),de(!0)}};return useMountEffect(()=>be({checkExisting:!0})),ee?React.createElement(si,{themeId:"home"},React.createElement(dl,{title:L.getString("app.title")}),React.createElement(qi,null,React.createElement(Grid,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:g},React.createElement(Qo,null,React.createElement(no,{variant:"fullHeight",title:n.title,actions:React.createElement(Button$1,{color:"primary",variant:"outlined",onClick:()=>{be({showPopup:!0})}},"Sign In")},React.createElement(Typography,{variant:"body1"},n.message),G&&G.name!=="PopupRejectedError"&&React.createElement(Typography,{variant:"body1",color:"error"},G.message)))))):React.createElement($i,null)};function mo(n){return"provider"in n?React.createElement(Tl,{...n}):React.createElement(Wc,{...n})}const ks=(0,i.Z)(n=>({root:{padding:n.spacing(0,2,0,2.5),minHeight:n.spacing(3)},indicator:{backgroundColor:n.palette.info.main,height:n.spacing(.3)}}),{name:"BackstageTabbedCard"}),qo=(0,A.Z)(n=>({root:{padding:n.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:n.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(on.Z);function Hc(n){const{slackChannel:o,errorBoundaryProps:u,children:g,title:P,deepLink:L,value:G,onChange:q}=n,ee=ks(),[de,be]=useState(0),ye=q||((We,vt)=>be(vt));let Fe;G?React.Children.map(g,We=>{React.isValidElement(We)&&(We==null?void 0:We.props.value)===G&&(Fe=We==null?void 0:We.props.children)}):React.Children.map(g,(We,vt)=>{React.isValidElement(We)&&vt===de&&(Fe=We==null?void 0:We.props.children)});const Ve=u||(o?{slackChannel:o}:{});return React.createElement(Card,null,React.createElement(cs,{...Ve},P&&React.createElement(qo,{title:P}),React.createElement(Tabs$1,{selectionFollowsFocus:!0,classes:ee,value:G||de,onChange:ye},g),React.createElement(Divider,null),React.createElement(CardContent,null,Fe),L&&React.createElement(Zl,{...L})))}const Kc=(0,i.Z)(n=>({root:{minWidth:n.spacing(6),minHeight:n.spacing(3),margin:n.spacing(0,2,0,0),padding:n.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:n.palette.text.primary}},selected:{fontWeight:"bold"}}),{name:"BackstageCardTab"});function es(n){const{children:o,...u}=n,g=Kc();return React.createElement(Tab,{disableRipple:!0,classes:g,...u})}var Pa=a(67358),mi=a(16173),pi=a(43266),Jc=a(26883),ts=a(58838),Yc=a(19034),Ps=a.n(Yc),Cl=a(84767),$=a(61750),_=a(99688),le=a(69001),me=a(4426),Re=a(19807),xe=a.n(Re);const ze="default",tt="backstage.io/view-url",ft="backstage.io/edit-url";class ut{constructor(o=ze){this.namespace=o}async enforce(o){return o.metadata.namespace?o:lodash.merge({metadata:{namespace:this.namespace}},o)}}class Tt{static isValidPrefixAndOrSuffix(o,u,g,P){if(typeof o!="string")return!1;const L=o.split(u);return L.length===1?P(L[0]):L.length===2?g(L[0])&&P(L[1]):!1}static isJsonSafe(o){try{return _a().isEqual(o,JSON.parse(JSON.stringify(o)))}catch{return!1}}static isValidDnsSubdomain(o){return typeof o=="string"&&o.length>=1&&o.length<=253&&o.split(".").every(Tt.isValidDnsLabel)}static isValidDnsLabel(o){return typeof o=="string"&&o.length>=1&&o.length<=63&&/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(o)}static isValidTag(o){return typeof o=="string"&&o.length>=1&&o.length<=63&&/^[a-z0-9+#]+(\-[a-z0-9+#]+)*$/.test(o)}static isValidUrl(o){if(typeof o!="string")return!1;try{return new URL(o),!0}catch{return!1}}static isValidString(o){var u;return typeof o=="string"&&((u=o==null?void 0:o.trim())==null?void 0:u.length)>=1}static isNonEmptyString(o){var u;return typeof o=="string"&&((u=o==null?void 0:o.trim())==null?void 0:u.length)>=1}}var St="http://json-schema.org/draft-07/schema",Bt="EntityEnvelope",Vt="The envelope skeleton parts of an entity - whatever is necessary to be able to give it a ref and pass to further validation / policy checking.",Zt=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService"}}],kn="object",Gn=["apiVersion","kind","metadata"],Zn=!0,Hn={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{type:"object",required:["name"],additionalProperties:!0,properties:{name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1}}}},fn={$schema:St,$id:Bt,description:Vt,examples:Zt,type:kn,required:Gn,additionalProperties:Zn,properties:Hn},xn="http://json-schema.org/draft-07/schema",Dn="Entity",jr="The parts of the format that's common to all versions/kinds of entity.",ha=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],Kr="object",xa=["apiVersion","kind","metadata"],Jr=!1,ba={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{$ref:"EntityMeta"},spec:{type:"object",description:"The specification data describing the entity itself."},relations:{type:"array",description:"The relations that this entity has with other entities.",items:{$ref:"common#relation"}},status:{$ref:"common#status"}},Wn={$schema:xn,$id:Dn,description:jr,examples:ha,type:Kr,required:xa,additionalProperties:Jr,properties:ba},Za="http://json-schema.org/draft-07/schema",po="EntityMeta",bo="Metadata fields common to all versions/kinds of entity.",As=[{uid:"e01199ab-08cc-44c2-8e19-5c29ded82521",etag:"lsndfkjsndfkjnsdfkjnsd==",name:"my-component-yay",namespace:"the-namespace",labels:{"backstage.io/custom":"ValueStuff"},annotations:{"example.com/bindings":"are-secret"},tags:["java","data"]}],kl="object",Yr=["name"],Da=!0,wo={uid:{type:"string",description:"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.",examples:["e01199ab-08cc-44c2-8e19-5c29ded82521"],minLength:1},etag:{type:"string",description:"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.",examples:["lsndfkjsndfkjnsdfkjnsd=="],minLength:1},name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1},title:{type:"string",description:"A display name of the entity, to be presented in user interfaces instead of the name property, when available.",examples:["React SSR Template"],minLength:1},description:{type:"string",description:"A short (typically relatively few words, on one line) description of the entity."},labels:{type:"object",description:"Key/value pairs of identifying information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},annotations:{type:"object",description:"Key/value pairs of non-identifying auxiliary information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},tags:{type:"array",description:"A list of single-valued strings, to for example classify catalog entities in various ways.",items:{type:"string",minLength:1}},links:{type:"array",description:"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.",items:{type:"object",required:["url"],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://admin.example-org.com"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["Admin Dashboard"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}}},Ma={$schema:Za,$id:po,description:bo,examples:As,type:kl,required:Yr,additionalProperties:Da,properties:wo},Sr="http://json-schema.org/draft-07/schema",wa="common",fo="object",Wa="Common definitions to import from other schemas",Is={reference:{$id:"#reference",type:"object",description:"A reference by name to another entity.",required:["kind","namespace","name"],additionalProperties:!1,properties:{kind:{type:"string",description:"The kind field of the entity.",minLength:1},namespace:{type:"string",description:"The metadata.namespace field of the entity.",minLength:1},name:{type:"string",description:"The metadata.name field of the entity.",minLength:1}}},relation:{$id:"#relation",type:"object",description:"A directed relation from one entity to another.",required:["type","target"],additionalProperties:!1,properties:{type:{type:"string",minLength:1,pattern:"^\\w+$",description:"The type of relation."},target:{$ref:"#reference"}}},status:{$id:"#status",type:"object",description:"The current status of the entity, as claimed by various sources.",required:[],additionalProperties:!0,properties:{items:{type:"array",items:{$ref:"#statusItem"}}}},statusItem:{$id:"#statusItem",type:"object",description:"A specific status item on a well known format.",required:["type","level","message"],additionalProperties:!0,properties:{type:{type:"string",minLength:1},level:{$ref:"#statusLevel",description:"The status level / severity of the status item."},message:{type:"string",description:"A brief message describing the status, intended for human consumption."},error:{$ref:"#error",description:"An optional serialized error object related to the status."}}},statusLevel:{$id:"#statusLevel",type:"string",description:"A status level / severity.",enum:["info","warning","error"]},error:{$id:"#error",type:"object",description:"A serialized error object.",required:["name","message"],additionalProperties:!0,properties:{name:{type:"string",examples:["Error","InputError"],description:"The type name of the error",minLength:1},message:{type:"string",description:"The message of the error"},code:{type:"string",description:"An error code associated with the error"},stack:{type:"string",description:"An error stack trace"}}}},Qc={$schema:Sr,$id:wa,type:fo,description:Wa,definitions:Is};const Ar=new Map,ra=[fn,Wn,Ma,Qc];function br(n){if(!(n!=null&&n.length))throw new TypeError("Unknown error");const o=n[0];throw new TypeError(`${o.instancePath||"<root>"} ${o.message}${o.params?` - ${Object.entries(o.params).map(([u,g])=>`${u}: ${g}`).join(", ")}`:""}`)}function Ba(n,o={}){var u;const g=(u=o==null?void 0:o.disableCache)!=null?u:!1,P=g?"":JSON.stringify(n);if(!g){const ee=Ar.get(P);if(ee)return ee}const L=v(n),G=new(xe())({allowUnionTypes:!0,allErrors:!0,validateSchema:!0});L.length&&G.addSchema(L,void 0,void 0,!0);const q=G.compile(n);return g||Ar.set(P,q),q}function v(n){if(typeof n!="object")return[];const o=new Set;n.$id&&o.add(n.$id);const u=new Array,g=[n];for(;g.length;){const P=g.pop();for(const L of O(P))if(!o.has(L)){o.add(L);const G=ra.find(q=>q.$id===L);G&&(u.push(G),g.push(G))}}return u}function*O(n){const o=[n];for(;o.length;){const u=o.pop();if(typeof u=="object"&&u)for(const[g,P]of Object.entries(u))g==="$ref"&&typeof P=="string"?yield P.split("#")[0]:o.push(P)}}function Y(n){const o=Ba(n||fn);return u=>{if(o(u)===!0)return u;throw br(o.errors)}}function ne(n){const o=Ba(n);return u=>{var g;if(o(u)===!0)return u;const L=(g=o.errors)==null?void 0:g.filter(G=>["/kind","/apiVersion"].includes(G.instancePath));if((L==null?void 0:L.length)&&L.every(G=>G.keyword==="enum"))return!1;throw br(o.errors)}}function fe(n){const o=Ba(n||Wn);return u=>{if(o(u)===!0)return u;throw br(o.errors)}}class Te{static isValidApiVersion(o){return Tt.isValidPrefixAndOrSuffix(o,"/",Tt.isValidDnsSubdomain,u=>u.length>=1&&u.length<=63&&/^[a-z0-9A-Z]+$/.test(u))}static isValidKind(o){return typeof o=="string"&&o.length>=1&&o.length<=63&&/^[a-zA-Z][a-z0-9A-Z]*$/.test(o)}static isValidObjectName(o){return typeof o=="string"&&o.length>=1&&o.length<=63&&/^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(o)}static isValidNamespace(o){return Tt.isValidDnsLabel(o)}static isValidLabelKey(o){return Tt.isValidPrefixAndOrSuffix(o,"/",Tt.isValidDnsSubdomain,Te.isValidObjectName)}static isValidLabelValue(o){return o===""||Te.isValidObjectName(o)}static isValidAnnotationKey(o){return Tt.isValidPrefixAndOrSuffix(o,"/",Tt.isValidDnsSubdomain,Te.isValidObjectName)}static isValidAnnotationValue(o){return typeof o=="string"}}const _e={isValidApiVersion:Te.isValidApiVersion,isValidKind:Te.isValidKind,isValidEntityName:Te.isValidObjectName,isValidNamespace:Te.isValidNamespace,isValidLabelKey:Te.isValidLabelKey,isValidLabelValue:Te.isValidLabelValue,isValidAnnotationKey:Te.isValidAnnotationKey,isValidAnnotationValue:Te.isValidAnnotationValue,isValidTag:n=>typeof n=="string"&&n.length>=1&&n.length<=63&&/^[a-z0-9:+#]+(\-[a-z0-9:+#]+)*$/.test(n)};function Ye(n={}){return{..._e,...n}}class it{constructor(o=Ye()){this.validators=o}async enforce(o){var u,g,P,L,G,q,ee;function de(Ve,We,vt){if(We==null)throw new Error(`${Ve} must have a value`);let Pt;try{Pt=vt(We)}catch(Nt){throw new Error(`${Ve} could not be validated, ${Nt}`)}if(!Pt){let Nt;switch(vt.name){case"isValidLabelValue":case"isValidObjectName":Nt="a string that is sequences of [a-zA-Z0-9] separated by any of [-_.], at most 63 characters in total";break;case"isValidLabelKey":case"isValidApiVersion":case"isValidAnnotationKey":Nt="a valid prefix and/or suffix";break;case"isValidNamespace":case"isValidDnsLabel":Nt="a string that is sequences of [a-z0-9] separated by [-], at most 63 characters in total";break;case"isValidTag":Nt="a string that is sequences of [a-z0-9+#] separated by [-], at most 63 characters in total";break;case"isValidAnnotationValue":Nt="a string";break;case"isValidKind":Nt="a string that is a sequence of [a-zA-Z][a-z0-9A-Z], at most 63 characters in total";break;case"isValidUrl":Nt="a string that is a valid url";break;case"isValidString":case"isNonEmptyString":Nt="a non empty string";break;default:Nt=void 0;break}const Xt=Nt?` expected ${Nt} but found "${We}".`:"";throw new Error(`"${Ve}" is not valid;${Xt} To learn more about catalog file format, visit: https://github.com/backstage/backstage/blob/master/docs/architecture-decisions/adr002-default-catalog-file-format.md`)}}function be(Ve,We,vt){return We===void 0||de(Ve,We,vt)}de("apiVersion",o.apiVersion,this.validators.isValidApiVersion),de("kind",o.kind,this.validators.isValidKind),de("metadata.name",o.metadata.name,this.validators.isValidEntityName),be("metadata.namespace",o.metadata.namespace,this.validators.isValidNamespace);for(const[Ve,We]of Object.entries((u=o.metadata.labels)!=null?u:[]))de(`labels.${Ve}`,Ve,this.validators.isValidLabelKey),de(`labels.${Ve}`,We,this.validators.isValidLabelValue);for(const[Ve,We]of Object.entries((g=o.metadata.annotations)!=null?g:[]))de(`annotations.${Ve}`,Ve,this.validators.isValidAnnotationKey),de(`annotations.${Ve}`,We,this.validators.isValidAnnotationValue);const ye=(P=o.metadata.tags)!=null?P:[];for(let Ve=0;Ve<ye.length;++Ve)de(`tags.${Ve}`,ye[Ve],this.validators.isValidTag);const Fe=(L=o.metadata.links)!=null?L:[];for(let Ve=0;Ve<Fe.length;++Ve)de(`links.${Ve}.url`,(G=Fe[Ve])==null?void 0:G.url,Tt.isValidUrl),be(`links.${Ve}.title`,(q=Fe[Ve])==null?void 0:q.title,Tt.isNonEmptyString),be(`links.${Ve}.icon`,(ee=Fe[Ve])==null?void 0:ee.icon,Te.isValidObjectName);return o}}const ct=null;class kt{constructor(o=ct){this.knownFields=o}async enforce(o){for(const u of Object.keys(o))if(!this.knownFields.includes(u))throw new Error(`Unknown field ${u}`);return o}}class $t{async enforce(o){if(!this.validate){const P=new Ajv({allowUnionTypes:!0});this.validate=P.addSchema([Qc,Ma],void 0,void 0,!0).compile(Wn)}if(this.validate(o)===!0)return o;const[g]=this.validate.errors||[];throw g?new Error(`Malformed envelope, ${g.instancePath||"<root>"} ${g.message}`):new Error("Malformed envelope, Unknown error")}}function jt(n){let o=n.indexOf(":");const u=n.indexOf("/");u!==-1&&u<o&&(o=-1);const g=o===-1?void 0:n.slice(0,o),P=u===-1?void 0:n.slice(o+1,u),L=n.slice(Math.max(o+1,u+1));if(g===""||P===""||L==="")throw new TypeError(`Entity reference "${n}" was not on the form [<kind>:][<namespace>/]<name>`);return{kind:g,namespace:P,name:L}}function Wt(n){return{kind:n.kind,namespace:n.metadata.namespace||ze,name:n.metadata.name}}function Kt(n,o){var u,g,P,L;if(!n)throw new Error("Entity reference must not be empty");const G=o==null?void 0:o.defaultKind,q=(o==null?void 0:o.defaultNamespace)||ze;let ee,de,be;if(typeof n=="string"){const ye=jt(n);ee=(u=ye.kind)!=null?u:G,de=(g=ye.namespace)!=null?g:q,be=ye.name}else ee=(P=n.kind)!=null?P:G,de=(L=n.namespace)!=null?L:q,be=n.name;if(ee)if(de){if(!be){const ye=JSON.stringify(n);throw new Error(`Entity reference ${ye} had missing or empty name`)}}else{const ye=JSON.stringify(n);throw new Error(`Entity reference ${ye} had missing or empty namespace`)}else{const ye=JSON.stringify(n);throw new Error(`Entity reference ${ye} had missing or empty kind (e.g. did not start with "component:" or similar)`)}return{kind:ee,namespace:de,name:be}}function Pn(n){var o,u;let g,P,L;return"metadata"in n?(g=n.kind,P=(o=n.metadata.namespace)!=null?o:ze,L=n.metadata.name):(g=n.kind,P=(u=n.namespace)!=null?u:ze,L=n.name),`${g.toLocaleLowerCase("en-US")}:${P.toLocaleLowerCase("en-US")}/${L.toLocaleLowerCase("en-US")}`}class er{constructor(o){this.policies=o}async enforce(o){let u=o;for(const g of this.policies){const P=await g.enforce(u);if(!P)throw new Error(`Policy ${g.constructor.name} did not return a result`);u=P}return u}}class Kn{constructor(o){this.policies=o}async enforce(o){for(const u of this.policies){const g=await u.enforce(o);if(g)return g}throw new Error("The entity did not match any known policy")}}const dr={allOf(n){return new er(n)},oneOf(n){return new Kn(n)}};var Cn="http://json-schema.org/draft-07/schema",Vn="ApiV1alpha1",zn="An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.",Qr=[{apiVersion:"backstage.io/v1alpha1",kind:"API",metadata:{name:"artist-api",description:"Retrieve artist details",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"openapi",lifecycle:"production",owner:"artist-relations-team",system:"artist-engagement-portal",definition:`openapi: "3.0.0"
info:...`}}],Fa=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["API"]},spec:{type:"object",required:["type","lifecycle","owner","definition"],properties:{type:{type:"string",description:"The type of the API definition.",examples:["openapi","asyncapi","graphql","grpc"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the API.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the API.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the API belongs to.",minLength:1},definition:{type:"string",description:"The definition of the API, based on the format defined by the type.",minLength:1}}}}}],ca={$schema:Cn,$id:Vn,description:zn,examples:Qr,allOf:Fa};function aa(n){const o=ne(n);return{async check(u){return o(u)===u}}}const ua=aa(ca);var ja="http://json-schema.org/draft-07/schema",lr="ComponentV1alpha1",ao='A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a "unit of software", usually with a distinct deployable or linkable artifact.',Os=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],Ro=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Component"]},spec:{type:"object",required:["type","lifecycle","owner"],properties:{type:{type:"string",description:"The type of component.",examples:["service","website","library"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the component.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the component belongs to.",minLength:1},subcomponentOf:{type:"string",description:"An entity reference to another component of which the component is a part.",minLength:1},providesApis:{type:"array",description:"An array of entity references to the APIs that are provided by the component.",items:{type:"string",minLength:1}},consumesApis:{type:"array",description:"An array of entity references to the APIs that are consumed by the component.",items:{type:"string",minLength:1}},dependsOn:{type:"array",description:"An array of references to other entities that the component depends on to function.",items:{type:"string",minLength:1}}}}}}],fi={$schema:ja,$id:lr,description:ao,examples:Os,allOf:Ro};const Hu=aa(fi);var Ra="http://json-schema.org/draft-07/schema",ho="DomainV1alpha1",ns="A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.",oo=[{apiVersion:"backstage.io/v1alpha1",kind:"Domain",metadata:{name:"artists",description:"Everything about artists"},spec:{owner:"artist-relations-team"}}],Lr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Domain"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1}}}}}],Ha={$schema:Ra,$id:ho,description:ns,examples:oo,allOf:Lr};const Ns=aa(Ha);var Ka="http://json-schema.org/draft-07/schema",hi="GroupV1alpha1",fd="A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.",Xr=[{apiVersion:"backstage.io/v1alpha1",kind:"Group",metadata:{name:"infrastructure",description:"The infra business unit"},spec:{type:"business-unit",profile:{displayName:"Infrastructure",email:"infrastructure@example.com",picture:"https://example.com/groups/bu-infrastructure.jpeg"},parent:"ops",children:["backstage","other"]}}],Sa=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Group"]},spec:{type:"object",required:["type","children"],properties:{type:{type:"string",description:"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.",examples:["team","business-unit","product-area","root"],minLength:1},profile:{type:"object",description:"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Infrastructure"],minLength:1},email:{type:"string",description:"An email where this entity can be reached.",examples:["infrastructure@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this entity.",examples:["https://example.com/groups/bu-infrastructure.jpeg"],minLength:1}}},parent:{type:"string",description:"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.",examples:["ops"],minLength:1},children:{type:"array",description:"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["backstage","other"],minLength:1}},members:{type:"array",description:"The users that are members of this group. The entries of this array are entity references.",items:{type:"string",examples:["jdoe"],minLength:1}}}}}}],_r={$schema:Ka,$id:hi,description:fd,examples:Xr,allOf:Sa};const qa=aa(_r);var so="http://json-schema.org/draft-07/schema",Pl="LocationV1alpha1",So="A location is a marker that references other places to look for catalog data.",hd=[{apiVersion:"backstage.io/v1alpha1",kind:"Location",metadata:{name:"org-data"},spec:{type:"url",targets:["http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml"]}}],Md=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Location"]},spec:{type:"object",required:[],properties:{type:{type:"string",description:"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.",examples:["url"],minLength:1},target:{type:"string",description:"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.",examples:["./details/catalog-info.yaml"],minLength:1},targets:{type:"array",description:"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.",items:{type:"string",examples:["./details/catalog-info.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml"],minLength:1}},presence:{type:"string",description:"Whether the presence of the location target is required and it should be considered an error if it can not be found",default:"required",examples:["required"],enum:["required","optional"]}}}}}],wp={$schema:so,$id:Pl,description:So,examples:hd,allOf:Md};const Rp=aa(wp),fm="ownedBy",Sp="ownerOf",ff="consumesApi",$p="apiConsumedBy",Tp="providesApi",hf="apiProvidedBy",Cp="dependsOn",Bd="dependencyOf",gf="parentOf",kp="childOf",hm="memberOf",Pp="hasMember",Fd="partOf",yf="hasPart";var gd="http://json-schema.org/draft-07/schema",gm="ResourceV1alpha1",yd="A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.",Al=[{apiVersion:"backstage.io/v1alpha1",kind:"Resource",metadata:{name:"artists-db",description:"Stores artist details"},spec:{type:"database",owner:"artist-relations-team",system:"artist-engagement-portal"}}],vd=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Resource"]},spec:{type:"object",required:["type","owner"],properties:{type:{type:"string",description:"The type of resource.",examples:["database","s3-bucket","cluster"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the resource.",examples:["artist-relations-team","user:john.johnson"],minLength:1},dependsOn:{type:"array",description:"An array of references to other entities that the resource depends on to function.",items:{type:"string",minLength:1}},system:{type:"string",description:"An entity reference to the system that the resource belongs to.",minLength:1}}}}}],Ku={$schema:gd,$id:gm,description:yd,examples:Al,allOf:vd};const vf=aa(Ku);var Ap="http://json-schema.org/draft-07/schema",ym="SystemV1alpha1",Ip="A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.",Op=[{apiVersion:"backstage.io/v1alpha1",kind:"System",metadata:{name:"artist-engagement-portal",description:"Handy tools to keep artists in the loop"},spec:{owner:"artist-relations-team",domain:"artists"}}],vm=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["System"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},domain:{type:"string",description:"An entity reference to the domain that the system belongs to.",examples:["artists"],minLength:1}}}}}],Em={$schema:Ap,$id:ym,description:Ip,examples:Op,allOf:vm};const Np=aa(Em);var jd="http://json-schema.org/draft-07/schema",Lp="UserV1alpha1",xp="A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.",bm=[{apiVersion:"backstage.io/v1alpha1",kind:"User",metadata:{name:"jdoe"},spec:{profile:{displayName:"Jenny Doe",email:"jenny-doe@example.com",picture:"https://example.com/staff/jenny-with-party-hat.jpeg"},memberOf:["team-b","employees"]}}],Ed=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["User"]},spec:{type:"object",required:["memberOf"],properties:{profile:{type:"object",description:"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Jenny Doe"],minLength:1},email:{type:"string",description:"An email where this user can be reached.",examples:["jenny-doe@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this user.",examples:["https://example.com/staff/jenny-with-party-hat.jpeg"],minLength:1}}},memberOf:{type:"array",description:"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["team-b","employees"],minLength:1}}}}}}],Ju={$schema:jd,$id:Lp,description:xp,examples:bm,allOf:Ed};const wm=aa(Ju),_d="backstage.io/managed-by-location",Dp="backstage.io/managed-by-origin-location",Rm="backstage.io/source-location";function Sm(n){if(typeof n!="string")throw new TypeError(`Unable to parse location ref '${n}', unexpected argument ${typeof n}`);const o=n.indexOf(":");if(o<0)throw new TypeError(`Unable to parse location ref '${n}', expected '<type>:<target>', e.g. 'url:https://host/path'`);const u=n.substring(0,o).trim(),g=n.substring(o+1).trim();if(!u||!g)throw new TypeError(`Unable to parse location ref '${n}', expected '<type>:<target>', e.g. 'url:https://host/path'`);if(u==="http"||u==="https")throw new TypeError(`Invalid location ref '${n}', please prefix it with 'url:', e.g. 'url:${n}'`);return{type:u,target:g}}function Mp(n){const{type:o,target:u}=n;if(o){if(!u)throw new TypeError("Unable to stringify location ref, empty target")}else throw new TypeError("Unable to stringify location ref, empty type");return`${o}:${u}`}function Ef(n){var o,u,g,P,L;const G=(L=(u=(o=n.metadata)==null?void 0:o.annotations)==null?void 0:u[Rm])!=null?L:(P=(g=n.metadata)==null?void 0:g.annotations)==null?void 0:P[_d];if(!G)throw new Error(`Entity '${Pn(n)}' is missing location`);return Sm(G)}var Bp=a(96279);const Ud=Symbol.for("CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111");class bf{constructor(o){this.discoveryApi=o.discoveryApi,this.fetchApi=o.fetchApi||{fetch:crossFetch}}async getEntityAncestors(o,u){const{kind:g,namespace:P,name:L}=parseEntityRef(o.entityRef);return await this.requestRequired("GET",`/entities/by-name/${encodeURIComponent(g)}/${encodeURIComponent(P)}/${encodeURIComponent(L)}/ancestry`,u)}async getLocationById(o,u){return await this.requestOptional("GET",`/locations/${encodeURIComponent(o)}`,u)}async getEntities(o,u){const{filter:g=[],fields:P=[],offset:L,limit:G,after:q}=o!=null?o:{},ee=[];for(const Fe of[g].flat()){const Ve=[];for(const[We,vt]of Object.entries(Fe))for(const Pt of[vt].flat())Pt===Ud?Ve.push(encodeURIComponent(We)):typeof Pt=="string"&&Ve.push(`${encodeURIComponent(We)}=${encodeURIComponent(Pt)}`);Ve.length&&ee.push(`filter=${Ve.join(",")}`)}P.length&&ee.push(`fields=${P.map(encodeURIComponent).join(",")}`),L!==void 0&&ee.push(`offset=${L}`),G!==void 0&&ee.push(`limit=${G}`),q!==void 0&&ee.push(`after=${encodeURIComponent(q)}`);const de=ee.length?`?${ee.join("&")}`:"",be=await this.requestRequired("GET",`/entities${de}`,u),ye=(Fe,Ve)=>{var We,vt;if(((We=Fe.metadata)==null?void 0:We.name)===void 0||Fe.kind===void 0||((vt=Ve.metadata)==null?void 0:vt.name)===void 0||Ve.kind===void 0)return 0;const Pt=stringifyEntityRef(Fe),Nt=stringifyEntityRef(Ve);return Pt<Nt?-1:Pt>Nt?1:0};return{items:be.sort(ye)}}async getEntityByRef(o,u){const{kind:g,namespace:P,name:L}=parseEntityRef(o);return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(g)}/${encodeURIComponent(P)}/${encodeURIComponent(L)}`,u)}async getEntityByName(o,u){const{kind:g,namespace:P="default",name:L}=o;return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(g)}/${encodeURIComponent(P)}/${encodeURIComponent(L)}`,u)}async refreshEntity(o,u){const g=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/refresh`,{headers:{"Content-Type":"application/json",...(u==null?void 0:u.token)&&{Authorization:`Bearer ${u==null?void 0:u.token}`}},method:"POST",body:JSON.stringify({entityRef:o})});if(g.status!==200)throw new Error(await g.text())}async getEntityFacets(o,u){const{filter:g=[],facets:P}=o,L=[];for(const q of[g].flat()){const ee=[];for(const[de,be]of Object.entries(q))for(const ye of[be].flat())ye===Ud?ee.push(encodeURIComponent(de)):typeof ye=="string"&&ee.push(`${encodeURIComponent(de)}=${encodeURIComponent(ye)}`);ee.length&&L.push(`filter=${ee.join(",")}`)}for(const q of P)L.push(`facet=${encodeURIComponent(q)}`);const G=L.length?`?${L.join("&")}`:"";return await this.requestOptional("GET",`/entity-facets${G}`,u)}async addLocation({type:o="url",target:u,dryRun:g},P){const L=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/locations${g?"?dryRun=true":""}`,{headers:{"Content-Type":"application/json",...(P==null?void 0:P.token)&&{Authorization:`Bearer ${P==null?void 0:P.token}`}},method:"POST",body:JSON.stringify({type:o,target:u})});if(L.status!==201)throw new Error(await L.text());const{location:G,entities:q,exists:ee}=await L.json();if(!G)throw new Error(`Location wasn't added: ${u}`);return{location:G,entities:q,exists:ee}}async getLocationByRef(o,u){return(await this.requestRequired("GET","/locations",u)).map(P=>P.data).find(P=>o===stringifyLocationRef(P))}async removeLocationById(o,u){await this.requestIgnored("DELETE",`/locations/${encodeURIComponent(o)}`,u)}async removeEntityByUid(o,u){await this.requestIgnored("DELETE",`/entities/by-uid/${encodeURIComponent(o)}`,u)}async requestIgnored(o,u,g){const P=`${await this.discoveryApi.getBaseUrl("catalog")}${u}`,L=g!=null&&g.token?{Authorization:`Bearer ${g.token}`}:{},G=await this.fetchApi.fetch(P,{method:o,headers:L});if(!G.ok)throw await ResponseError.fromResponse(G)}async requestRequired(o,u,g){const P=`${await this.discoveryApi.getBaseUrl("catalog")}${u}`,L=g!=null&&g.token?{Authorization:`Bearer ${g.token}`}:{},G=await this.fetchApi.fetch(P,{method:o,headers:L});if(!G.ok)throw await ResponseError.fromResponse(G);return await G.json()}async requestOptional(o,u,g){const P=`${await this.discoveryApi.getBaseUrl("catalog")}${u}`,L=g!=null&&g.token?{Authorization:`Bearer ${g.token}`}:{},G=await this.fetchApi.fetch(P,{method:o,headers:L});if(!G.ok){if(G.status===404)return;throw await ResponseError.fromResponse(G)}return await G.json()}}const Fp="backstage.io/catalog-processing";var wf=a(82394),gi=a(4190),Gd=a(76241),Rf=a(18149),Sf=a(829),Il=(n=>(n.DENY="DENY",n.ALLOW="ALLOW",n.CONDITIONAL="CONDITIONAL",n))(Il||{});function $f(n,o){return n.name===o.name}function Tf(n,o){return"resourceType"in n?!o||n.resourceType===o:!1}function Cf(n){return n.attributes.action==="create"}function kf(n){return n.attributes.action==="read"}function bd(n){return n.attributes.action==="update"}function jp(n){return n.attributes.action==="delete"}function _p(n){return{authorize:async(o,u)=>await n.authorize(o,u),authorizeConditional(o,u){const g=o;return n.authorize(g,u)}}}function Up({name:n,attributes:o,resourceType:u}){return u?{type:"resource",name:n,attributes:o,resourceType:u}:{type:"basic",name:n,attributes:o}}const wd=mn.z.lazy(()=>mn.z.object({rule:mn.z.string(),resourceType:mn.z.string(),params:mn.z.array(mn.z.unknown())}).or(mn.z.object({anyOf:mn.z.array(wd).nonempty()})).or(mn.z.object({allOf:mn.z.array(wd).nonempty()})).or(mn.z.object({not:wd}))),Gp=mn.z.object({result:mn.z.literal(Il.ALLOW).or(mn.z.literal(Il.DENY))}),$m=mn.z.union([mn.z.object({result:mn.z.literal(Il.ALLOW).or(mn.z.literal(Il.DENY))}),mn.z.object({result:mn.z.literal(Il.CONDITIONAL),pluginId:mn.z.string(),resourceType:mn.z.string(),conditions:wd})]),Vd=(n,o)=>z.object({items:z.array(z.intersection(z.object({id:z.string()}),n)).refine(u=>u.length===o.size&&u.every(({id:g})=>o.has(g)),{message:"Items in response do not match request"})});class Vp{constructor(o){var u;this.discovery=o.discovery,this.enabled=(u=o.config.getOptionalBoolean("permission.enabled"))!=null?u:!1}async authorize(o,u){return this.makeRequest(o,Gp,u)}async authorizeConditional(o,u){return this.makeRequest(o,$m,u)}async makeRequest(o,u,g){if(!this.enabled)return o.map(be=>({result:Il.ALLOW}));const P={items:o.map(be=>({id:uuid.v4(),...be}))},L=await this.discovery.getBaseUrl("permission"),G=await fetch(`${L}/authorize`,{method:"POST",body:JSON.stringify(P),headers:{...this.getAuthorizationHeader(g==null?void 0:g.token),"content-type":"application/json"}});if(!G.ok)throw await ResponseError.fromResponse(G);const q=await G.json(),de=Vd(u,new Set(P.items.map(({id:be})=>be))).parse(q).items.reduce((be,ye)=>(be[ye.id]=ye,be),{});return P.items.map(be=>de[be.id])}getAuthorizationHeader(o){return o?{Authorization:`Bearer ${o}`}:{}}}var Pf=a(49857);const Rd=(0,e.T0)({id:"plugin.permission.api"});class Yu{constructor(o,u){this.permissionClient=o,this.identityApi=u}static create(o){const{config:u,discovery:g,identity:P}=o,L=new PermissionClient({discovery:g,config:u});return new Yu(L,P)}async authorize(o){return(await this.permissionClient.authorize([o],await this.identityApi.getCredentials()))[0]}}function zp(n){const o=useApi(Rd),{data:u,error:g}=useSWR(n,async P=>{if(isResourcePermission(P.permission)&&!P.resourceRef)return AuthorizeResult.DENY;const{result:L}=await o.authorize(P);return L});return g?{error:g,loading:!1,allowed:!1}:u===void 0?{loading:!0,allowed:!1}:{loading:!1,allowed:u===AuthorizeResult.ALLOW}}const Zp=n=>{const{permission:o,resourceRef:u,errorComponent:g,...P}=n,L=zp(isResourcePermission(o)?{permission:o,resourceRef:u}:{permission:o}),G=useApp(),{NotFoundErrorPage:q}=G.getComponents();let ee=g===void 0?React.createElement(q,null):g;return L.loading?ee=null:L.allowed&&(ee=n.element),React.createElement(Route,{...P,element:ee})};var zd=a(19996),Zd=a(25505),Ol=a(82108),Wd=a(11640),Af=a(3440),Wp=a(60155);const yi=(0,e.T0)({id:"plugin.catalog.service"}),Sd=(0,e.T0)({id:"catalog-react.starred-entities"});class Hp{constructor(){this.starredEntities=new Set,this.subscribers=new Set,this.observable=new ObservableImpl(o=>(o.next(new Set(this.starredEntities)),this.subscribers.add(o),()=>{this.subscribers.delete(o)}))}async toggleStarred(o){this.starredEntities.delete(o)||this.starredEntities.add(o);for(const u of this.subscribers)u.next(new Set(this.starredEntities))}starredEntitie$(){return this.observable}}const Tm=n=>{const o=(0,x.Z)(L=>L.breakpoints.down("md")),u=(0,c.Z)(),[g,P]=(0,t.useState)(!1);return o?t.createElement(t.Fragment,null,t.createElement(U.Z,{style:{marginTop:u.spacing(1),marginLeft:u.spacing(1)},onClick:()=>P(!0),startIcon:t.createElement(Ea.Z,null)},"Filters"),t.createElement(gi.ZP,{open:g,onClose:()=>P(!1),anchor:"left",disableAutoFocus:!0,keepMounted:!0,variant:"temporary"},t.createElement(It.Z,{m:2},t.createElement(Et.Z,{variant:"h6",component:"h2",style:{marginBottom:u.spacing(1)}},"Filters"),n.children))):t.createElement(lt.Z,{item:!0,lg:2},n.children)},Kp=n=>t.createElement(lt.Z,{item:!0,xs:12,lg:10},n.children),$d=n=>t.createElement(lt.Z,{container:!0,style:{position:"relative"}},n.children);$d.Filters=Tm,$d.Content=Kp;const Cm=(0,Gd.CT)("entity-context"),Hd=({children:n,entity:o,loading:u,error:g,refresh:P})=>{const L={entity:o,loading:u,error:g,refresh:P};return React.createElement(Cm.Provider,{value:createVersionedValueMap({1:L})},n)},km=n=>React.createElement(Hd,{entity:n.entity,loading:!Boolean(n.entity),error:void 0,refresh:void 0,children:n.children});function Nl(){const n=(0,Gd.Vt)("entity-context");if(!n)throw new Error("Entity context is not available");const o=n.atVersion(1);if(!o)throw new Error("EntityContext v1 not available");if(!o.entity)throw new Error("useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.");return{entity:o.entity}}function Jp(){const n=useVersionedContext("entity-context");if(!n)throw new Error("Entity context is not available");const o=n.atVersion(1);if(!o)throw new Error("EntityContext v1 not available");const{entity:u,loading:g,error:P,refresh:L}=o;return{entity:u,loading:g,error:P,refresh:L}}function Pm(n){return n.reduce((o,u)=>({...o,...u.getCatalogFilters?u.getCatalogFilters():{}}),{})}function Qu(n){return o=>n.every(u=>!u.filterEntity||u.filterEntity(o))}function Xc(n,o,u){var g;let P=((g=n==null?void 0:n.relations)==null?void 0:g.filter(L=>L.type===o).map(L=>Kt(L.targetRef)))||[];return u!=null&&u.kind&&(P=P.filter(L=>L.kind.toLocaleLowerCase("en-US")===u.kind.toLocaleLowerCase("en-US"))),P}function Ll(n,o){var u;const g=(u=n.metadata.annotations)==null?void 0:u[ANNOTATION_SOURCE_LOCATION];if(!!g)try{const P=parseLocationRef(g),L=o.byUrl(P.target);return{locationTargetUrl:P.target,integrationType:L==null?void 0:L.type}}catch{return}}function Am(n,o){const u=new Set([...Xc(n,RELATION_MEMBER_OF,{kind:"group"}),...n?[getCompoundEntityRef(n)]:[]].map(stringifyEntityRef)),g=Xc(o,RELATION_OWNED_BY).map(stringifyEntityRef);for(const P of g)if(u.has(P))return!0;return!1}const Kd=(0,t.createContext)(void 0),qc=({children:n})=>{const o=useMountedState(),u=useApi(yi),[g,P]=useState({}),L=useLocation(),G=useMemo(()=>{var We;return(We=qs.parse(L.search,{ignoreQueryPrefix:!0}).filters)!=null?We:{}},[L]),[q,ee]=useState(()=>({appliedFilters:{},entities:[],backendEntities:[]})),[{loading:de,error:be},ye]=useAsyncFn(async()=>{var We;const vt=compact(Object.values(g)),Pt=Qu(vt),Nt=Pm(vt),Xt=Pm(compact(Object.values(q.appliedFilters))),Jt=Object.keys(g).reduce((ln,an)=>{const vn=g[an];return vn!=null&&vn.toQueryValue&&(ln[an]=vn.toQueryValue()),ln},{});if(isEqual(Xt,Nt))ee({appliedFilters:g,backendEntities:q.backendEntities,entities:q.backendEntities.filter(Pt)});else{const ln=await u.getEntities({filter:Nt});ee({appliedFilters:g,backendEntities:ln.items,entities:ln.items.filter(Pt)})}if(o()){const ln=qs.parse(L.search,{ignoreQueryPrefix:!0}),an=qs.stringify({...ln,filters:Jt},{addQueryPrefix:!0,arrayFormat:"repeat"}),vn=`${window.location.pathname}${an}`;(We=window.history)==null||We.replaceState(null,document.title,vn)}},[u,G,g,q],{loading:!0});useDebounce(ye,10,[g]);const Fe=useCallback(We=>{P(vt=>{const Pt=typeof We=="function"?We(vt):We;return{...vt,...Pt}})},[]),Ve=useMemo(()=>({filters:q.appliedFilters,entities:q.entities,backendEntities:q.backendEntities,updateFilters:Fe,queryParameters:G,loading:de,error:be}),[q,Fe,G,de,be]);return React.createElement(Kd.Provider,{value:Ve},n)};function $o(){const n=useContext(Kd);if(!n)throw new Error("useEntityList must be used within EntityListProvider");return n}const Jd=(0,Gd.uW)("catalog:entity-route-ref",()=>(0,e.NT)({id:"catalog:entity",params:["namespace","kind","name"]}));function Yp(n){var o,u;return{kind:n.kind.toLocaleLowerCase("en-US"),namespace:(u=(o=n.metadata.namespace)==null?void 0:o.toLocaleLowerCase("en-US"))!=null?u:DEFAULT_NAMESPACE,name:n.metadata.name}}function xl(n,o){const u=o==null?void 0:o.defaultKind;let g,P,L;return"metadata"in n?(g=n.kind,P=n.metadata.namespace,L=n.metadata.name):(g=n.kind,P=n.namespace,L=n.name),P===ze&&(P=void 0),g=g.toLocaleLowerCase("en-US"),g=u&&u.toLocaleLowerCase("en-US")===g?void 0:g,`${g?`${g}:`:""}${P?`${P}/`:""}${L}`}const eu=(0,t.forwardRef)((n,o)=>{var u;const{entityRef:g,defaultKind:P,title:L,children:G,...q}=n,ee=(0,e.tg)(Jd);let de,be,ye;if(typeof g=="string"){const vt=Kt(g);de=vt.kind,be=vt.namespace,ye=vt.name}else"metadata"in g?(de=g.kind,be=g.metadata.namespace,ye=g.metadata.name):(de=g.kind,be=g.namespace,ye=g.name);de=de.toLocaleLowerCase("en-US"),be=(u=be==null?void 0:be.toLocaleLowerCase("en-US"))!=null?u:ze;const Fe={kind:de,namespace:be,name:ye},Ve=xl({kind:de,namespace:be,name:ye},{defaultKind:P}),We=t.createElement(ve,{...q,ref:o,to:ee(Fe)},G,!G&&(L!=null?L:Ve));return L?t.createElement(I.ZP,{title:Ve},We):We});function Im(n){const{entityRefs:o,defaultKind:u,...g}=n;return t.createElement(t.Fragment,null,o.map((P,L)=>t.createElement(t.Fragment,{key:L},L>0&&", ",t.createElement(eu,{...g,entityRef:P,defaultKind:u}))))}class Om{constructor(o){this.value=o}getCatalogFilters(){return{kind:this.value}}toQueryValue(){return this.value}}class Nm{constructor(o){this.value=o}getTypes(){return Array.isArray(this.value)?this.value:[this.value]}getCatalogFilters(){return{"spec.type":this.getTypes()}}toQueryValue(){return this.getTypes()}}class Td{constructor(o){this.values=o}filterEntity(o){return this.values.every(u=>{var g;return((g=o.metadata.tags)!=null?g:[]).includes(u)})}toQueryValue(){return this.values}}class Lm{constructor(o){this.value=o}filterEntity(o){var u;const g=this.value.toLocaleUpperCase("en-US");return o.metadata.name.toLocaleUpperCase("en-US").includes(g)||`${o.metadata.title}`.toLocaleUpperCase("en-US").includes(g)||((u=o.metadata.tags)==null?void 0:u.join("").toLocaleUpperCase("en-US").indexOf(g))!==-1}}class xm{constructor(o){this.values=o}filterEntity(o){return this.values.some(u=>Xc(o,RELATION_OWNED_BY).some(g=>xl(g,{defaultKind:"group"})===u))}toQueryValue(){return this.values}}class Qp{constructor(o){this.values=o}filterEntity(o){return this.values.some(u=>{var g;return((g=o.spec)==null?void 0:g.lifecycle)===u})}toQueryValue(){return this.values}}class Xu{constructor(o,u,g){this.value=o,this.isOwnedEntity=u,this.isStarredEntity=g}filterEntity(o){switch(this.value){case"owned":return this.isOwnedEntity(o);case"starred":return this.isStarredEntity(o);default:return!0}}toQueryValue(){return this.value}}function Dm(){var n;const o=useApi(yi),{filters:{kind:u,type:g},queryParameters:{type:P},updateFilters:L}=$o(),G=useMemo(()=>[P].flat().filter(Boolean),[P]),[q,ee]=useState(G.length?G:(n=g==null?void 0:g.getTypes())!=null?n:[]);useEffect(()=>{G.length&&ee(G)},[G]);const[de,be]=useState([]),ye=useMemo(()=>u==null?void 0:u.value,[u]),{error:Fe,loading:Ve,value:We}=useAsync(async()=>ye?await o.getEntityFacets({filter:{kind:ye},facets:["spec.type"]}).then(Nt=>Nt.facets["spec.type"]||[]):[],[ye,o]),vt=useRef(We);return useEffect(()=>{const Pt=vt.current;if(vt.current=We,Ve||!ye||Pt===We||!We)return;const Nt=[...new Set(sortBy(We,Jt=>-Jt.count).map(Jt=>Jt.value.toLocaleLowerCase("en-US")))];be(Nt);const Xt=q.filter(Jt=>Nt.includes(Jt));isEqual$1(q,Xt)||ee(Xt)},[Ve,ye,q,ee,We]),useEffect(()=>{L({type:q.length?new Nm(q):void 0})},[q,L]),{loading:Ve,error:Fe,availableTypes:de,selectedTypes:q,setSelectedTypes:ee}}const Yd=20;function Xp(n,o){var u,g;const P=(u=o==null?void 0:o.type)==null?void 0:u.toLocaleLowerCase("en-US"),L=(g=o==null?void 0:o.kind)==null?void 0:g.toLocaleLowerCase("en-US"),G=useApi(yi),{loading:q,value:ee,error:de}=useAsync(async()=>{var be;const ye=(be=n.relations)==null?void 0:be.map(vt=>({type:vt.type,target:parseEntityRef(vt.targetRef)})).filter(vt=>(!P||vt.type.toLocaleLowerCase("en-US")===P)&&(!L||vt.target.kind===L));if(!ye)return[];const Fe=Object.values(groupBy(ye,({target:vt})=>`${vt.kind}:${vt.namespace}`.toLocaleLowerCase("en-US"))),Ve=[];for(const vt of Fe)Ve.push({kind:vt[0].target.kind,namespace:vt[0].target.namespace,nameBatches:chunk(vt.map(Pt=>Pt.target.name),Yd)});return(await Promise.all(Ve.flatMap(vt=>vt.nameBatches.map(Pt=>G.getEntities({filter:{kind:vt.kind,"metadata.namespace":vt.namespace,"metadata.name":Pt}}))))).flatMap(vt=>vt.items)},[n,P,L]);return{entities:ee,loading:q,error:de}}function Qd(n){return typeof n=="string"?n:stringifyEntityRef(n)}function qp(){const n=useApi(Sd),o=useObservable(n.starredEntitie$(),new Set),u=useCallback(P=>o.has(Qd(P)),[o]),g=useCallback(P=>n.toggleStarred(Qd(P)).then(),[n]);return{starredEntities:o,toggleStarredEntity:g,isStarredEntity:u}}function Mm(n){return typeof n=="string"?n:stringifyEntityRef(n)}function Bm(n){const o=useApi(Sd),[u,g]=useState(!1);return useEffect(()=>{const L=o.starredEntitie$().subscribe({next(G){g(G.has(Mm(n)))}});return()=>{L.unsubscribe()}},[n,o]),{toggleStarredEntity:useCallback(()=>o.toggleStarred(Mm(n)).then(),[n,o]),isStarredEntity:u}}function Fm(){const n=useApi(identityApiRef),{loading:o,value:u}=useAsync(async()=>{const{ownershipEntityRefs:P}=await n.getBackstageIdentity();return P},[]),g=useMemo(()=>{const P=new Set(u!=null?u:[]);return L=>{const G=Xc(L,RELATION_OWNED_BY).map(stringifyEntityRef);for(const q of G)if(P.has(q))return!0;return!1}},[u]);return useMemo(()=>({loading:o,isOwnedEntity:g}),[o,g])}function ef(n){const{entity:o,loading:u,error:g}=Jp(),{allowed:P,loading:L,error:G}=usePermission({permission:n,resourceRef:o?stringifyEntityRef(o):void 0});return u||L?{loading:!0,allowed:!1}:g?{loading:!1,allowed:!1,error:g}:{loading:!1,allowed:P,error:G}}const If=n=>{var o;const{initialFilter:u,hidden:g}=n,{updateFilters:P,queryParameters:{kind:L}}=$o(),[G]=useState((o=[L].flat()[0])!=null?o:u);return useEffect(()=>{P({kind:G?new Om(G):void 0})},[G,P]),g?null:React.createElement(Alert,{severity:"warning"},"Kind filter not yet available")},jm=(0,i.Z)({input:{}},{name:"CatalogReactEntityLifecyclePicker"}),_m=t.createElement(Zd.Z,{fontSize:"small"}),Um=t.createElement(zd.Z,{fontSize:"small"}),Of=()=>{var n,o;const u=jm(),{updateFilters:g,backendEntities:P,filters:L,queryParameters:{lifecycles:G}}=$o(),q=useMemo(()=>[G].flat().filter(Boolean),[G]),[ee,de]=useState(q.length?q:(o=(n=L.lifecycles)==null?void 0:n.values)!=null?o:[]);useEffect(()=>{q.length&&de(q)},[q]),useEffect(()=>{g({lifecycles:ee.length?new Qp(ee):void 0})},[ee,g]);const be=useMemo(()=>[...new Set(P.map(ye=>{var Fe;return(Fe=ye.spec)==null?void 0:Fe.lifecycle}).filter(Boolean))].sort(),[P]);return be.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Lifecycle"),React.createElement(Autocomplete,{"aria-label":"Lifecycle",multiple:!0,options:be,value:ee,onChange:(ye,Fe)=>de(Fe),renderOption:(ye,{selected:Fe})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:_m,checkedIcon:Um,checked:Fe}),label:ye}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"lifecycle-picker-expand"}),renderInput:ye=>React.createElement(TextField,{...ye,className:u.input,variant:"outlined"})})):null},Gm=(0,i.Z)({input:{}},{name:"CatalogReactEntityOwnerPicker"}),tf=t.createElement(Zd.Z,{fontSize:"small"}),To=t.createElement(zd.Z,{fontSize:"small"}),nf=()=>{var n,o;const u=Gm(),{updateFilters:g,backendEntities:P,filters:L,queryParameters:{owners:G}}=$o(),q=useMemo(()=>[G].flat().filter(Boolean),[G]),[ee,de]=useState(q.length?q:(o=(n=L.owners)==null?void 0:n.values)!=null?o:[]);useEffect(()=>{q.length&&de(q)},[q]),useEffect(()=>{g({owners:ee.length?new xm(ee):void 0})},[ee,g]);const be=useMemo(()=>[...new Set(P.flatMap(ye=>Xc(ye,RELATION_OWNED_BY).map(Fe=>xl(Fe,{defaultKind:"group"}))).filter(Boolean))].sort(),[P]);return be.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Owner"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Owner",options:be,value:ee,onChange:(ye,Fe)=>de(Fe),renderOption:(ye,{selected:Fe})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:tf,checkedIcon:To,checked:Fe}),label:ye}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"owner-picker-expand"}),renderInput:ye=>React.createElement(TextField,{...ye,className:u.input,variant:"outlined"})})):null},Vm=(0,i.Z)(n=>({searchToolbar:{paddingLeft:0,paddingRight:0},input:{}}),{name:"CatalogReactEntitySearchBar"}),rf=()=>{var n,o;const u=Vm(),{filters:g,updateFilters:P}=$o(),[L,G]=useState((o=(n=g.text)==null?void 0:n.value)!=null?o:"");return useDebounce(()=>{P({text:L.length?new Lm(L):void 0})},250,[L,P]),React.createElement(Toolbar,{className:u.searchToolbar},React.createElement(FormControl,null,React.createElement(Input,{"aria-label":"search",id:"input-with-icon-adornment",className:u.input,placeholder:"Search",autoComplete:"off",onChange:q=>G(q.target.value),value:L,startAdornment:React.createElement(InputAdornment,{position:"start"},React.createElement(Search,null)),endAdornment:React.createElement(InputAdornment,{position:"end"},React.createElement(IconButton,{"aria-label":"clear search",onClick:()=>G(""),edge:"end",disabled:L.length===0},React.createElement(Clear,null)))})))},io=Object.freeze({createEntityRefColumn(n){const{defaultKind:o}=n;function u(g){var P;return((P=g.metadata)==null?void 0:P.title)||xl(g,{defaultKind:o})}return{title:"Name",highlight:!0,customFilterAndSearch(g,P){return u(P).includes(g)},customSort(g,P){return u(g).localeCompare(u(P))},render:g=>{var P;return t.createElement(eu,{entityRef:g,defaultKind:o,title:(P=g.metadata)==null?void 0:P.title})}}},createEntityRelationColumn({title:n,relation:o,defaultKind:u,filter:g}){function P(G){return Xc(G,o,g)}function L(G){return P(G).map(q=>xl(q,{defaultKind:u})).join(", ")}return{title:n,customFilterAndSearch(G,q){return L(q).includes(G)},customSort(G,q){return L(G).localeCompare(L(q))},render:G=>t.createElement(Im,{entityRefs:P(G),defaultKind:u})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:fm,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:Fd,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:Fd,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:n=>t.createElement(Bs,{text:n.metadata.description,placement:"bottom-start",line:2}),width:"auto"}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),zm=[io.createEntityRefColumn({defaultKind:"system"}),io.createDomainColumn(),io.createOwnerColumn(),io.createMetadataDescriptionColumn()],Zm=[io.createEntityRefColumn({defaultKind:"component"}),io.createSystemColumn(),io.createOwnerColumn(),io.createSpecTypeColumn(),io.createSpecLifecycleColumn(),io.createMetadataDescriptionColumn()],Wm=(0,i.Z)(n=>({empty:{padding:n.spacing(2),display:"flex",justifyContent:"center"}})),Xd=n=>{const{entities:o,title:u,emptyContent:g,variant:P="gridItem",columns:L}=n,G=Wm(),q={minWidth:"0",width:"100%"};return P==="gridItem"&&(q.height="calc(100% - 10px)"),t.createElement(Nc,{columns:L,title:u,style:q,emptyContent:g&&t.createElement("div",{className:G.empty},g),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense"},data:o})};Xd.columns=io,Xd.systemEntityColumns=zm,Xd.componentEntityColumns=Zm;const af=(0,i.Z)({input:{}},{name:"CatalogReactEntityTagPicker"}),Hm=t.createElement(Zd.Z,{fontSize:"small"}),of=t.createElement(zd.Z,{fontSize:"small"}),Km=()=>{var n,o;const u=af(),{updateFilters:g,filters:P,queryParameters:{tags:L}}=$o(),G=useApi(yi),{value:q}=useAsync(async()=>{var ye;const Fe="metadata.tags",{facets:Ve}=await G.getEntityFacets({facets:[Fe],filter:(ye=P.kind)==null?void 0:ye.getCatalogFilters()});return Ve[Fe].map(({value:We})=>We)},[P.kind]),ee=useMemo(()=>[L].flat().filter(Boolean),[L]),[de,be]=useState(ee.length?ee:(o=(n=P.tags)==null?void 0:n.values)!=null?o:[]);return useEffect(()=>{ee.length&&be(ee)},[ee]),useEffect(()=>{g({tags:de.length?new Td(de):void 0})},[de,g]),q!=null&&q.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Tags"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Tags",options:q,value:de,onChange:(ye,Fe)=>be(Fe),renderOption:(ye,{selected:Fe})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:Hm,checkedIcon:of,checked:Fe}),label:ye}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"tag-picker-expand"}),renderInput:ye=>React.createElement(TextField,{...ye,className:u.input,variant:"outlined"})})):null},sf=n=>{var o;const{hidden:u,initialFilter:g}=n,P=useApi(alertApiRef),{error:L,availableTypes:G,selectedTypes:q,setSelectedTypes:ee}=Dm();if(useEffect(()=>{L&&P.post({message:"Failed to load entity types",severity:"error"}),g&&ee([g])},[L,P,g,ee]),G.length===0||L)return null;const de=[{value:"all",label:"All"},...G.map(be=>({value:be,label:capitalize(be)}))];return u?null:React.createElement(Box,{pb:1,pt:1},React.createElement(Select,{label:"Type",items:de,selected:(o=de.length>1?q[0]:void 0)!=null?o:"all",onChange:be=>ee(be==="all"?[]:[String(be)])}))},Jm=(0,A.Z)({root:{color:"#f3ba37"}})(Wd.Z),qd=n=>{const{toggleStarredEntity:o,isStarredEntity:u}=Bm(n.entity);return React.createElement(IconButton,{"aria-label":"favorite",color:"inherit",...n,onClick:()=>o()},React.createElement(Tooltip,{title:u?"Remove from favorites":"Add to favorites"},u?React.createElement(Jm,null):React.createElement(StarBorder,null)))},em=null;function Ym(n,o){if(n)return n.toLocaleLowerCase("en-US");if(o)try{return parseEntityRef(o).kind.toLocaleLowerCase("en-US")}catch{return}}function Qm(n,o){const u=useApp(),g=Ym(n,o);return g&&u.getSystemIcon(`kind:${g}`)||em}function Cd(n){const{kind:o,entityRef:u,...g}=n,P=Qm(o,u);return React.createElement(P,{...g})}const kd=(0,i.Z)(n=>({node:{fill:n.palette.grey[300],stroke:n.palette.grey[300],"&.primary":{fill:n.palette.primary.light,stroke:n.palette.primary.light},"&.secondary":{fill:n.palette.secondary.light,stroke:n.palette.secondary.light}},text:{fill:n.palette.getContrastText(n.palette.grey[300]),"&.primary":{fill:n.palette.primary.contrastText},"&.secondary":{fill:n.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}));function rs(n){const o=useApi(yi),u=stringifyEntityRef(n),{loading:g,error:P,value:L}=useAsync(async()=>{const G=await o.getEntityAncestors({entityRef:u}),q=new Array,ee=new Array;for(const de of G.items){const be=stringifyEntityRef(de.entity),ye=be===G.rootEntityRef;q.push({id:be,root:ye,...de.entity});for(const Fe of de.parentEntityRefs)ee.push({from:be,to:Fe})}return{nodes:q,edges:ee}},[u]);return{loading:g,error:P,nodes:(L==null?void 0:L.nodes)||[],edges:(L==null?void 0:L.edges)||[]}}function qu({node:n}){const o=kd(),u=useNavigate(),g=useRouteRef(Jd),[P,L]=useState(0),[G,q]=useState(0),ee=useRef(null);useLayoutEffect(()=>{if(ee.current){let{height:Pt,width:Nt}=ee.current.getBBox();Pt=Math.round(Pt),Nt=Math.round(Nt),(Pt!==G||Nt!==P)&&(L(Nt),q(Pt))}},[P,G]);const de=10,be=G,ye=be+de,Fe=ye+P+de*2,Ve=G+de*2,We=n.metadata.title||(n.kind&&n.metadata.name&&n.metadata.namespace?xl({kind:n.kind,name:n.metadata.name,namespace:n.metadata.namespace||""}):n.id),vt=()=>{u(g({kind:n.kind,namespace:n.metadata.namespace||DEFAULT_NAMESPACE,name:n.metadata.name}))};return React.createElement("g",{onClick:vt,className:o.clickable},React.createElement("rect",{className:classNames(o.node,n.root?"secondary":"primary"),width:Fe,height:Ve,rx:10}),React.createElement(Cd,{kind:n.kind,y:de,x:de,width:be,height:be,className:classNames(o.text,n.root?"secondary":"primary")}),React.createElement("text",{ref:ee,className:classNames(o.text,n.root?"secondary":"primary"),y:Ve/2,x:ye+(P+de*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},We))}function ed(n){const{loading:o,error:u,nodes:g,edges:P}=rs(n.entity);return o?React.createElement(Progress,null):u?React.createElement(ResponseErrorPanel,{error:u}):React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Ancestry"),React.createElement(DialogContentText,{gutterBottom:!0},"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where"," ",React.createElement(Link,{to:"https://backstage.io/docs/features/software-catalog/life-of-an-entity"},"processors emitted")," ","child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations."),React.createElement(Box,{mt:4},React.createElement(DependencyGraph,{nodes:g,edges:P,renderNode:qu,direction:DependencyGraphTypes.Direction.BOTTOM_TOP,zoom:"enable-on-click"})))}const Pd=(0,i.Z)(n=>({root:{display:"flex",flexDirection:"column"},marginTop:{marginTop:n.spacing(2)},helpIcon:{marginLeft:n.spacing(1),color:n.palette.text.disabled},monospace:{fontFamily:"monospace"}}));function Co(n){const o=Pd();return React.createElement(ListItemText$1,{...n,primaryTypographyProps:{className:o.monospace},secondaryTypographyProps:{className:o.monospace}})}function tu(n){const o=Pd();return React.createElement(ListSubheader$1,{className:o.monospace},n.children)}function td(n){return React.createElement(Box,{mt:2},React.createElement(Card,{variant:"outlined"},React.createElement(CardContent,null,React.createElement(Typography,{variant:"h6",gutterBottom:!0},n.title,n.helpLink&&React.createElement(tm,{to:n.helpLink})),n.children)))}function Xm(n){if(n.match(/^url:https?:\/\//))return n.slice(4);if(n.match(/^https?:\/\//))return n}function nu(n){const[o,u]=n.entry,g=Xm(u);return React.createElement(ListItem,null,n.indent&&React.createElement(ListItemIcon,null),React.createElement(Co,{primary:o,secondary:g?React.createElement(Link,{to:g},u):u}))}function tm(n){const o=Pd();return React.createElement(Link,{to:n.to,className:o.helpIcon},React.createElement(HelpOutlineIcon,{fontSize:"inherit"}))}const qm=(0,i.Z)({root:{display:"flex",flexDirection:"column"}});function nm(n){var o,u;const g=useApi(yi),P=stringifyEntityRef(n),L=(o=n.metadata.annotations)==null?void 0:o[ANNOTATION_LOCATION],G=(u=n.metadata.annotations)==null?void 0:u[ANNOTATION_ORIGIN_LOCATION],{loading:q,error:ee,value:de}=useAsync(async()=>!L&&!G?[]:(await g.getEntities({filter:[...L?[{[`metadata.annotations.${ANNOTATION_LOCATION}`]:L}]:[],...G?[{[`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]:G}]:[]]})).items,[L,G]);return{loading:q,error:ee,location:L,originLocation:G,colocatedEntities:de==null?void 0:de.filter(be=>stringifyEntityRef(be)!==P)}}function Ad(n){return React.createElement(List,{dense:!0},n.header&&React.createElement(nu,{key:"header",entry:n.header}),n.entities.map(o=>React.createElement(ListItem,{key:stringifyEntityRef(o)},React.createElement(ListItemIcon,null,React.createElement(Cd,{kind:o.kind})),React.createElement(Co,{primary:React.createElement(eu,{entityRef:o})}))))}function ep(n){const{entity:o}=n,{loading:u,error:g,location:P,originLocation:L,colocatedEntities:G}=nm(o);if(u)return React.createElement(Progress,null);if(g)return React.createElement(ResponseErrorPanel,{error:g});if(!P&&!L)return React.createElement(Alert,{severity:"warning"},"Entity had no location information.");if(!(G!=null&&G.length))return React.createElement(Alert,{severity:"info"},"There were no other entities on this location.");if(P===L)return React.createElement(Ad,{entities:G});const q=G.filter(de=>{var be;return((be=de.metadata.annotations)==null?void 0:be[ANNOTATION_LOCATION])===P}),ee=G.filter(de=>{var be;return((be=de.metadata.annotations)==null?void 0:be[ANNOTATION_ORIGIN_LOCATION])===L});return React.createElement(React.Fragment,null,q.length>0&&React.createElement(Ad,{entities:q,header:["At the same location",P]}),ee.length>0&&React.createElement(Ad,{entities:ee,header:["At the same origin",L]}))}function tp(n){const o=qm();return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Colocated"),React.createElement(DialogContentText,null,"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL)."),React.createElement("div",{className:o.root},React.createElement(ep,{entity:n.entity})))}function rm(n){return Object.fromEntries([...Object.entries(n)].sort((o,u)=>o[0]<u[0]?-1:1))}function am(n){return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Entity as JSON"),React.createElement(DialogContentText,null,"This is the raw entity data as received from the catalog, on JSON form."),React.createElement(DialogContentText,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:JSON.stringify(rm(n.entity),void 0,2),language:"json",showCopyCodeButton:!0}))))}const ru=(0,i.Z)({root:{display:"flex",flexDirection:"column"}});function au(n){var o,u;const g=ru(),{apiVersion:P,kind:L,metadata:G,spec:q,relations:ee=[],status:de={}}=n.entity,be=groupBy$1(sortBy(ee,ye=>ye.targetRef),"type");return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Overview"),React.createElement("div",{className:g.root},React.createElement(td,{title:"Identity"},React.createElement(List,{dense:!0},React.createElement(ListItem,null,React.createElement(Co,{primary:"apiVersion",secondary:P})),React.createElement(ListItem,null,React.createElement(Co,{primary:"kind",secondary:L})),(q==null?void 0:q.type)&&React.createElement(ListItem,null,React.createElement(Co,{primary:"spec.type",secondary:q.type})),G.uid&&React.createElement(ListItem,null,React.createElement(Co,{primary:"uid",secondary:G.uid})),G.etag&&React.createElement(ListItem,null,React.createElement(Co,{primary:"etag",secondary:G.etag})))),React.createElement(td,{title:"Metadata"},!!Object.keys(G.annotations||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(tu,null,"Annotations",React.createElement(tm,{to:"https://backstage.io/docs/features/software-catalog/well-known-annotations"}))},Object.entries(G.annotations).map(ye=>React.createElement(nu,{key:ye[0],indent:!0,entry:ye}))),!!Object.keys(G.labels||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(tu,null,"Labels")},Object.entries(G.labels).map(ye=>React.createElement(nu,{key:ye[0],indent:!0,entry:ye}))),!!((o=G.tags)!=null&&o.length)&&React.createElement(List,{dense:!0,subheader:React.createElement(tu,null,"Tags")},G.tags.map((ye,Fe)=>React.createElement(ListItem,{key:`${ye}-${Fe}`},React.createElement(ListItemIcon,null),React.createElement(Co,{primary:ye}))))),!!ee.length&&React.createElement(td,{title:"Relations",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-relations"},Object.entries(be).map(([ye,Fe],Ve)=>React.createElement("div",{key:Ve},React.createElement(List,{dense:!0,subheader:React.createElement(tu,null,ye)},Fe.map(We=>React.createElement(ListItem,{key:We.targetRef},React.createElement(ListItemIcon,null,React.createElement(Cd,{entityRef:We.targetRef})),React.createElement(Co,{primary:React.createElement(eu,{entityRef:We.targetRef})}))))))),!!((u=de.items)!=null&&u.length)&&React.createElement(td,{title:"Status",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-statuses"},de.items.map((ye,Fe)=>React.createElement("div",{key:Fe},React.createElement(Typography,null,ye.level,": ",ye.type),React.createElement(Box,{ml:2},ye.message))))))}function lf(n){return React.createElement(React.Fragment,null,React.createElement(DialogContentText$1,{variant:"h2"},"Entity as YAML"),React.createElement(DialogContentText$1,null,"This is the raw entity data as received from the catalog, on YAML form."),React.createElement(DialogContentText$1,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:YAML.stringify(rm(n.entity)),language:"yaml",showCopyCodeButton:!0}))))}const om=(0,i.Z)(n=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",backgroundColor:n.palette.background.paper},tabs:{borderRight:`1px solid ${n.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"}}));function ou(n){const{children:o,value:u,index:g,...P}=n,L=om();return React.createElement("div",{role:"tabpanel",hidden:u!==g,id:`vertical-tabpanel-${g}`,"aria-labelledby":`vertical-tab-${g}`,className:L.tabContents,...P},u===g&&React.createElement(Box,{pl:3,pr:3},o))}function su(n){return{id:`vertical-tab-${n}`,"aria-controls":`vertical-tabpanel-${n}`}}function Nf(n){const o=om(),[u,g]=React.useState(0);return useEffect(()=>{g(0)},[n.open]),n.entity?React.createElement(Dialog,{fullWidth:!0,maxWidth:"xl",open:n.open,onClose:n.onClose,"aria-labelledby":"entity-inspector-dialog-title",PaperProps:{className:o.fullHeightDialog}},React.createElement(DialogTitle,{id:"entity-inspector-dialog-title"},"Entity Inspector"),React.createElement(DialogContent,{dividers:!0},React.createElement("div",{className:o.root},React.createElement(Tabs,{orientation:"vertical",variant:"scrollable",value:u,onChange:(P,L)=>g(L),"aria-label":"Inspector options",className:o.tabs},React.createElement(Tab,{label:"Overview",...su(0)}),React.createElement(Tab,{label:"Ancestry",...su(1)}),React.createElement(Tab,{label:"Colocated",...su(2)}),React.createElement(Tab,{label:"Raw JSON",...su(3)}),React.createElement(Tab,{label:"Raw YAML",...su(4)})),React.createElement(ou,{value:u,index:0},React.createElement(au,{entity:n.entity})),React.createElement(ou,{value:u,index:1},React.createElement(ed,{entity:n.entity})),React.createElement(ou,{value:u,index:2},React.createElement(tp,{entity:n.entity})),React.createElement(ou,{value:u,index:3},React.createElement(am,{entity:n.entity})),React.createElement(ou,{value:u,index:4},React.createElement(lf,{entity:n.entity})))),React.createElement(DialogActions,null,React.createElement(Button,{onClick:n.onClose,color:"primary"},"Close"))):null}function np(n){var o;const u=useApi(yi),g=(o=n.metadata.annotations)==null?void 0:o[ANNOTATION_ORIGIN_LOCATION],P=n.metadata.uid,L=g==="bootstrap:bootstrap",G=useAsync(async()=>{const We=u.getLocationByRef(g);let vt;if(!g)vt=Promise.resolve([]);else{const Pt=`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;vt=u.getEntities({filter:{[Pt]:g},fields:["kind","metadata.uid","metadata.name","metadata.namespace"]}).then(Nt=>Nt.items)}return Promise.all([We,vt]).then(([Pt,Nt])=>({location:Pt,colocatedEntities:Nt}))},[u,n]),q=useCallback(async function(){const{location:vt}=G.value;await u.removeLocationById(vt.id)},[u,G]),ee=useCallback(async function(){await u.removeEntityByUid(P)},[u,P]);if(L)return{type:"bootstrap",location:g,deleteEntity:ee};const{loading:de,error:be,value:ye}=G;if(de)return{type:"loading"};if(be)return{type:"error",error:be};const{location:Fe,colocatedEntities:Ve}=ye;return Fe?{type:"unregister",location:g,colocatedEntities:Ve.map(getCompoundEntityRef),unregisterLocation:q,deleteEntity:ee}:{type:"only-delete",deleteEntity:ee}}const rp=(0,i.Z)({advancedButton:{fontSize:"0.7em"}}),cf=({entity:n,onConfirm:o})=>{var u;const g=useApi(alertApiRef),P=useApi(configApiRef),L=rp(),G=np(n),[q,ee]=useState(!1),[de,be]=useState(!1),ye=(u=P.getOptionalString("app.title"))!=null?u:"Backstage",Fe=useCallback(async function(){if("unregisterLocation"in G){be(!0);try{await G.unregisterLocation(),o()}catch(vt){assertError(vt),g.post({message:vt.message})}finally{be(!1)}}},[g,o,G]),Ve=useCallback(async function(){if("deleteEntity"in G){be(!0);try{await G.deleteEntity(),o()}catch(vt){assertError(vt),g.post({message:vt.message})}finally{be(!1)}}},[g,o,G]);return G.type==="loading"?React.createElement(Progress,null):G.type==="error"?React.createElement(ResponseErrorPanel,{error:G.error}):G.type==="bootstrap"?React.createElement(React.Fragment,null,React.createElement(Alert$1,{severity:"info"},'You cannot unregister this entity, since it originates from a protected Backstage configuration (location "',G.location,'"). If you believe this is in error, please contact the ',ye," ","integrator."),React.createElement(Box,{marginTop:2},!q&&React.createElement(Button,{variant:"text",size:"small",color:"primary",className:L.advancedButton,onClick:()=>ee(!0)},"Advanced Options"),q&&React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:de,onClick:Ve},"Delete Entity")))):G.type==="only-delete"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:de,onClick:Ve},"Delete Entity")):G.type==="unregister"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This action will unregister the following entities:"),React.createElement(DialogContentText,{component:"ul"},G.colocatedEntities.map(We=>React.createElement("li",{key:`${We.kind}:${We.namespace}/${We.name}`},React.createElement(eu,{entityRef:We})))),React.createElement(DialogContentText,null,"Located at the following location:"),React.createElement(DialogContentText,{component:"ul"},React.createElement("li",null,G.location)),React.createElement(DialogContentText,null,"To undo, just re-register the entity in ",ye,"."),React.createElement(Box,{marginTop:2},React.createElement(Button,{variant:"contained",color:"secondary",disabled:de,onClick:Fe},"Unregister Location"),!q&&React.createElement(Box,{component:"span",marginLeft:2},React.createElement(Button,{variant:"text",size:"small",color:"primary",className:L.advancedButton,onClick:()=>ee(!0)},"Advanced Options"))),q&&React.createElement(React.Fragment,null,React.createElement(Box,{paddingTop:4,paddingBottom:4},React.createElement(Divider,null)),React.createElement(DialogContentText,null,"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:de,onClick:Ve},"Delete Entity"))):React.createElement(Alert$1,{severity:"error"},"Internal error: Unknown state")},Lf=n=>{const{open:o,onConfirm:u,onClose:g,entity:P}=n;return React.createElement(Dialog,{open:o,onClose:g},React.createElement(DialogTitle,{id:"responsive-dialog-title"},"Are you sure you want to unregister this entity?"),React.createElement(DialogContent,null,React.createElement(cf,{entity:P,onConfirm:u})),React.createElement(DialogActions,null,React.createElement(Button,{onClick:g,color:"primary"},"Cancel")))},sm=(0,i.Z)(n=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:n.spacing(1,0,1,0)},title:{margin:n.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:n.palette.text.primary},menuItem:{minHeight:n.spacing(6)},groupWrapper:{margin:n.spacing(1,1,2,1)}}),{name:"CatalogReactUserListPicker"});function ap(n){return[{name:"Personal",items:[{id:"owned",label:"Owned",icon:SettingsIcon},{id:"starred",label:"Starred",icon:Star}]},{name:n!=null?n:"Company",items:[{id:"all",label:"All"}]}]}const uf=n=>{var o;const{initialFilter:u,availableFilters:g}=n,P=sm(),G=(o=useApi(configApiRef).getOptionalString("organization.name"))!=null?o:"Company",{filters:q,updateFilters:ee,backendEntities:de,queryParameters:{kind:be,user:ye},loading:Fe}=$o(),Ve=["starred","all"],We=ap(G).map(An=>({...An,items:An.items.filter(({id:tr})=>["group","user"].some(Nn=>Nn===be)?Ve.includes(tr):!g||g.includes(tr))})).filter(({items:An})=>!!An.length),{isStarredEntity:vt}=qp(),{isOwnedEntity:Pt,loading:Nt}=Fm(),Xt=Fe||Nt,Jt=useMemo(()=>new Xu("owned",Pt,vt),[Pt,vt]),ln=useMemo(()=>new Xu("starred",Pt,vt),[Pt,vt]),an=useMemo(()=>[ye].flat()[0],[ye]),[vn,Sn]=useState(an!=null?an:u),$n=useMemo(()=>de.filter(Qu(compact(Object.values({...q,user:void 0})))),[q,de]),En=useMemo(()=>({all:$n.length,starred:$n.filter(An=>ln.filterEntity(An)).length,owned:$n.filter(An=>Jt.filterEntity(An)).length}),[$n,ln,Jt]);return useEffect(()=>{an&&Sn(an)},[an]),useEffect(()=>{!Xt&&!!vn&&vn!=="all"&&En[vn]===0&&Sn("all")},[Xt,En,vn,Sn]),useEffect(()=>{ee({user:vn?new Xu(vn,Pt,vt):void 0})},[vn,Pt,vt,ee]),React.createElement(Card,{className:P.root},We.map(An=>React.createElement(Fragment,{key:An.name},React.createElement(Typography,{variant:"subtitle2",className:P.title},An.name),React.createElement(Card,{className:P.groupWrapper},React.createElement(List,{disablePadding:!0,dense:!0,role:"menu"},An.items.map(tr=>{var Nn,ga;return React.createElement(MenuItem,{key:tr.id,button:!0,divider:!0,onClick:()=>Sn(tr.id),selected:tr.id===((Nn=q.user)==null?void 0:Nn.value),className:P.menuItem,disabled:En[tr.id]===0,"data-testid":`user-picker-${tr.id}`,tabIndex:0},tr.icon&&React.createElement(ListItemIcon,{className:P.listIcon},React.createElement(tr.icon,{fontSize:"small"})),React.createElement(ListItemText$1,null,React.createElement(Typography,{variant:"body1"},tr.label)),React.createElement(ListItemSecondaryAction,null,(ga=En[tr.id])!=null?ga:"-"))}))))))},df=({children:n,value:o})=>{var u;const[g,P]=useState((u=o==null?void 0:o.filters)!=null?u:{}),L=useCallback(ee=>{P(de=>{const be=typeof ee=="function"?ee(de):ee;return{...de,...be}})},[]),G=useMemo(()=>({entities:[],backendEntities:[],queryParameters:{}}),[]),q=useMemo(()=>{var ee,de,be,ye,Fe;return{entities:(ee=o==null?void 0:o.entities)!=null?ee:G.entities,backendEntities:(de=o==null?void 0:o.backendEntities)!=null?de:G.backendEntities,updateFilters:(be=o==null?void 0:o.updateFilters)!=null?be:L,filters:g,loading:(ye=o==null?void 0:o.loading)!=null?ye:!1,queryParameters:(Fe=o==null?void 0:o.queryParameters)!=null?Fe:G.queryParameters,error:o==null?void 0:o.error}},[o,G,g,L]);return React.createElement(Kd.Provider,{value:q},n)},Dl=(0,e.T0)({id:"plugin.buildkite.service"}),op="/buildkite/api";class im{constructor(o){var u;this.discoveryApi=o.discoveryApi,this.fetchApi=o.fetchApi,this.proxyPath=(u=o.proxyPath)!=null?u:op}async getApiUrl(){return`${await this.discoveryApi.getBaseUrl("proxy")}${this.proxyPath}`}async getBuilds(o,u,g,P){const L=await this.getApiUrl(),G=await this.fetchApi.fetch(`${L}/organizations/${o}/pipelines/${u}/builds?page=${g}&per_page=${P}`);if(!G.ok)throw new Error(`failed to fetch data, status ${G.status}: ${G.statusText}`);return G.json()}async restartBuild(o){const u=await this.getApiUrl(),g=await this.fetchApi.fetch(`${u}/${o}/rebuild`,{method:"PUT"});if(!g.ok)throw new Error(`failed to fetch data, status ${g.status}: ${g.statusText}`);return g.json()}async getSingleBuild(o,u,g){const P=await this.getApiUrl(),L=await this.fetchApi.fetch(`${P}/organizations/${o}/pipelines/${u}/builds/${g}`);if(!L.ok)throw new Error(`failed to fetch data, status ${L.status}: ${L.statusText}`);return L.json()}async getLog(o){const u=await this.getApiUrl(),g=await this.fetchApi.fetch(`${u}/${o}`);if(!g.ok)throw new Error(`failed to fetch data, status ${g.status}: ${g.statusText}`);return g.json()}}const nd=(0,e.NT)({id:"buildkite"}),lm=(0,e.Rz)({id:"buildkite/build",path:"/builds/:buildNumber",parent:nd}),Id=(0,e.rx)({id:"buildkite",apis:[(0,e.ni)({api:Dl,deps:{discoveryApi:e.NW,fetchApi:e.gP},factory:({discoveryApi:n,fetchApi:o})=>new im({discoveryApi:n,fetchApi:o})})],routes:{entityContent:nd}}).provide((0,e.P4)({name:"EntityBuildkiteContent",component:()=>Promise.resolve().then(function(){return D}).then(n=>n.Router),mountPoint:nd})),cm=n=>n.split("/").slice(4).join("/"),sp=(n,o)=>n.map(u=>({...u,onRestartClick:()=>{o(cm(u.url))}})),ip=({owner:n,repo:o})=>{const u=(0,e.h_)(Dl),g=(0,e.h_)(e.VE),[P,L]=(0,t.useState)(0),[G,q]=(0,t.useState)(0),[ee,de]=(0,t.useState)(5),{value:be,loading:ye,retry:Fe}=(0,Cl.Z)(async()=>{let vt=[];try{vt=await u.getBuilds(n,o,G+1,ee)}catch(Nt){g.post(Nt)}return G===0&&L(vt==null?void 0:vt[0].number),sp(vt!=null?vt:[],Ve)},[G,ee]),Ve=async vt=>{try{await u.restartBuild(vt),Fe();return}catch(Pt){throw g.post(Pt),Pt}},We=`${n}/${o}`;return[{page:G,pageSize:ee,loading:ye,builds:be,projectName:We,total:P},{setPage:q,setPageSize:de,restartBuild:Ve,retry:Fe}]},Od=n=>{var o,u;const g=(u=(o=n.metadata)==null?void 0:o.annotations)==null?void 0:u["buildkite.com/project-slug"];return{owner:g.split("/")[0],repo:g.split("/")[1]}},lp=({status:n})=>{if(n===void 0)return null;switch(n.toLowerCase()){case"queued":case"scheduled":return t.createElement(t.Fragment,null,t.createElement(ec,null)," Queued");case"running":return t.createElement(t.Fragment,null,t.createElement(Vo,null)," In progress");case"unstable":return t.createElement(t.Fragment,null,t.createElement(ql,null)," Unstable");case"failed":return t.createElement(t.Fragment,null,t.createElement(Li,null)," Failed");case"passed":return t.createElement(t.Fragment,null,t.createElement(Ni,null)," Completed");case"canceled":return t.createElement(t.Fragment,null,t.createElement(tc,null)," Aborted");default:return t.createElement(t.Fragment,null,t.createElement(ql,null)," ",n)}},cp=n=>Ps()(n).fromNow(),um=[{title:"Id",field:"number",highlight:!0,width:"5%",render:n=>n.number},{title:"Build",field:"message",highlight:!0,render:n=>{var o;const u=()=>{const g=(0,e.tg)(lm);return t.createElement(ve,{to:g({buildNumber:n.number.toString()})},n.message)};return t.createElement("p",null,((o=n.rebuilt_from)==null?void 0:o.id)&&"retry of: ",t.createElement(u,null))}},{title:"Source",field:"commit",render:n=>t.createElement(t.Fragment,null,t.createElement("p",null,n.branch),t.createElement("p",null,n.commit)),width:"45%"},{title:"Status",field:"state",render:n=>t.createElement(It.Z,{display:"flex",alignItems:"center"},t.createElement(lp,{status:n.state}))},{title:"Created",render:n=>cp(n.created_at)},{title:"Actions",sorting:!1,render:n=>t.createElement(I.ZP,{title:"Rebuild"},t.createElement(h.Z,{onClick:n.onRestartClick},t.createElement(Jc.Z,null))),width:"5%"}],up=({projectName:n,loading:o,pageSize:u,page:g,retry:P,builds:L,onChangePage:G,onChangePageSize:q,total:ee})=>t.createElement(Nc,{isLoading:o,options:{paging:!0,pageSize:u,padding:"dense"},totalCount:ee,page:g,actions:[{icon:()=>t.createElement(pi.Z,null),tooltip:"Refresh Data",isFreeAction:!0,onClick:()=>P()}],data:L!=null?L:[],onPageChange:G,onRowsPerPageChange:q,title:t.createElement(It.Z,{display:"flex",alignItems:"center"},t.createElement(ts.Z,null),t.createElement(It.Z,{mr:1}),t.createElement(Et.Z,{variant:"h6"},n)),columns:um}),dp=({entity:n})=>{const{owner:o,repo:u}=Od(n),[g,{setPage:P,retry:L,setPageSize:G}]=ip({owner:o,repo:u});return t.createElement(up,{...g,retry:L,onChangePageSize:G,onChangePage:P})},mp=n=>{const o=(0,e.h_)(Dl),u=(0,e.h_)(e.VE),g=(0,t.useCallback)(async()=>{try{const G=await o.getLog(n);return Promise.resolve(G)}catch(G){return u.post(G),Promise.reject(G)}},[n,o,u]),[P,L]=(0,$.Z)(()=>g(),[g]);return{value:P.value,error:P.error,fetchLogs:L}},pp=(0,i.Z)({accordion:{margin:"0!important"},accordionDetails:{padding:0},button:{order:-1,marginRight:0,marginLeft:"-20px"}}),fp=({url:n,job:o,className:u})=>{const g=pp(),{value:P,error:L,fetchLogs:G}=mp(cm(n));if((0,t.useEffect)(()=>{G()},[o,G]),L)return t.createElement(_.Z,{severity:"error"},L.message);const q=o.finished_at?Ps().duration(Ps()(o.finished_at||Ps()()).diff(Ps()(o.started_at))).humanize():o.started_at?"In Progress":"Pending";return P?t.createElement(k.Z,{TransitionProps:{unmountOnExit:!0},className:`${g.accordion} ${u}`},t.createElement(J.Z,{expandIcon:t.createElement(gt.Z,null),"aria-controls":`panel-${name}-content`,id:`panel-${name}-header`,IconButtonProps:{className:g.button}},t.createElement(Et.Z,{variant:"button"},o.name||o.command," (",q,")")),t.createElement(Le.Z,{className:g.accordionDetails},P.size===0?t.createElement(It.Z,{ml:3},t.createElement(Et.Z,{variant:"h3",component:"h3"},"Job pending..")):t.createElement(t.Suspense,{fallback:t.createElement(Pa.Z,null)},t.createElement("div",{style:{height:"30vh",width:"100%"}},t.createElement(ls,{text:P.content}))))):null},hp=(0,i.Z)(()=>({waiter:{marginLeft:"50%",marginTop:"1rem",marginBottom:"1rem"}})),dm=n=>{const o=hp(),{job:u}=n;switch(u.type){case void 0:return t.createElement(_.Z,{severity:"error"},"Undefined Build Job Type");case"waiter":return t.createElement(me.Z,{className:o.waiter,"data-testid":"waiter"});default:return t.createElement(fp,{...n,url:u.log_url||""})}},gp=({owner:n,repo:o,buildNumber:u})=>{const g=(0,e.h_)(Dl),P=(0,e.h_)(e.VE),[L,G]=(0,$.Z)(async()=>{try{return await g.getSingleBuild(n,o,u)}catch(q){return P.post(q),Promise.reject(q)}},[]);return{loading:L.loading,value:L.value,error:L.error,fetchBuildData:G}},rd=(0,i.Z)(n=>({neutral:{},failed:{position:"relative","&:after":{pointerEvents:"none",content:'""',position:"absolute",top:0,right:0,left:0,bottom:0,boxShadow:`inset 4px 0px 0px ${n.palette.error.main}`}},running:{position:"relative","&:after":{pointerEvents:"none",content:'""',position:"absolute",top:0,right:0,left:0,bottom:0,boxShadow:`inset 4px 0px 0px ${n.palette.info.main}`}},cardContent:{backgroundColor:n.palette.background.default,padding:"0!important"},success:{position:"relative","&:after":{pointerEvents:"none",content:'""',position:"absolute",top:0,right:0,left:0,bottom:0,boxShadow:`inset 4px 0px 0px ${n.palette.success.main}`}}})),pf=({build:n})=>t.createElement(It.Z,{display:"flex",alignItems:"center"},"#",n==null?void 0:n.number," - ",n==null?void 0:n.message,t.createElement(h.Z,{href:n==null?void 0:n.web_url,target:"_blank",rel:"noopener noreferrer"},t.createElement(le.Z,null))),yp=(n,o)=>o.state==="failed"?n.failed:["running","queued","scheduled","assigned"].includes(o.state)?n.running:o.state==="passed"?n.success:n.neutral,vp=({jobs:n})=>{const o=rd();return t.createElement(t.Fragment,null,n.map(u=>t.createElement(dm,{className:yp(o,u),job:u,key:u.id})))},mm=({build:n})=>t.createElement(It.Z,null,n.jobs?t.createElement(vp,{jobs:n.jobs}):t.createElement(_.Z,{severity:"error"},"Jobs list is empty")),Ep=({entity:n})=>{const o=rd(),{buildNumber:u}=(0,T.UO)(),{owner:g,repo:P}=Od(n),{value:L,error:G,fetchBuildData:q}=gp({owner:g,repo:P,buildNumber:u});return(0,t.useEffect)(()=>{q()},[q]),(0,t.useEffect)(()=>{let ee;return((L==null?void 0:L.state)==="running"||(L==null?void 0:L.state)==="scheduled")&&(ee=setTimeout(()=>{q()},1500)),()=>clearTimeout(ee)},[L,q]),G?t.createElement(_.Z,{severity:"error"},G.message):L?t.createElement(si,{themeId:"tool"},t.createElement(qi,null,t.createElement(mi.Z,{"aria-label":"breadcrumb"},t.createElement(ve,{to:".."},"All builds"),t.createElement(Et.Z,null,"Build details")),t.createElement(lt.Z,{container:!0,spacing:3,direction:"column"},t.createElement(lt.Z,{item:!0},t.createElement(It.Z,{mt:3},t.createElement(no,{title:t.createElement(pf,{build:L}),cardClassName:o.cardContent}),t.createElement(mm,{build:L})))))):null},bp="buildkite.com/project-slug",s=n=>{var o;return Boolean((o=n==null?void 0:n.metadata.annotations)==null?void 0:o[bp])};var D=Object.freeze({__proto__:null,isBuildkiteAvailable:s,Router:()=>{const{entity:n}=Nl();return s(n)?t.createElement(T.Z5,null,t.createElement(T.AW,{path:"/",element:t.createElement(dp,{entity:n})}),t.createElement(T.AW,{path:`/${lm.path}`,element:t.createElement(Ep,{entity:n})})):t.createElement(Qe,{annotation:bp})}})},99155:function(Se,r,a){a.d(r,{NT:function(){return gt},NW:function(){return te},P4:function(){return zt},R5:function(){return d},Rz:function(){return ie},T0:function(){return S},VE:function(){return oe},gP:function(){return De},h_:function(){return c},ni:function(){return F},qD:function(){return j},rx:function(){return wn},tg:function(){return Mt},vJ:function(){return bn},z$:function(){return he}});var e=a(76241),t=a(2784),T=a(10289);const h=(0,e.CT)("analytics-context"),w=()=>{const pe=(0,t.useContext)(h);if(pe===void 0)return{routeRef:"unknown",pluginId:"root",extension:"App"};const ue=pe.atVersion(1);if(ue===void 0)throw new Error("No context found for version 1.");return ue},i=pe=>{const{attributes:ue,children:Ce}=pe,Ke={...w(),...ue},wt=(0,e.EI)({1:Ke});return t.createElement(h.Provider,{value:wt},Ce)};function E(){const pe=(0,e.Vt)("api-context");if(!pe)throw new Error("API context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("ApiContext v1 not available");return ue}function c(pe){const Ce=E().get(pe);if(!Ce)throw new Error(`No implementation available for ${pe}`);return Ce}function l(pe){return function(Ce){const Be=wt=>{const Ht=E(),ot={};for(const Rt in pe)if(pe.hasOwnProperty(Rt)){const Dt=pe[Rt],tn=Ht.get(Dt);if(!tn)throw new Error(`No implementation available for ${Dt}`);ot[Rt]=tn}return React.createElement(Ce,{...wt,...ot})},Ke=Ce.displayName||Ce.name||"Component";return Be.displayName=`withApis(${Ke})`,Be}}class A{constructor(ue){if(this.config=ue,!ue.id.split(".").flatMap(Be=>Be.split("-")).every(Be=>Be.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${ue.id}'`)}get id(){return this.config.id}get T(){throw new Error(`tried to read ApiRef.T of ${this}`)}toString(){return`apiRef{${this.config.id}}`}}function S(pe){return new A(pe)}function F(pe,ue){return"id"in pe?{api:pe,deps:{},factory:()=>ue}:pe}var U=(pe=>(pe.SignedIn="SignedIn",pe.SignedOut="SignedOut",pe))(U||{});const B=S({id:"core.auth.google"}),V=S({id:"core.auth.github"}),f=S({id:"core.auth.okta"}),p=S({id:"core.auth.gitlab"}),I=S({id:"core.auth.microsoft"}),y=S({id:"core.auth.onelogin"}),C=S({id:"core.auth.bitbucket"}),N=S({id:"core.auth.atlassian"}),R=S({id:"core.alert"}),b=S({id:"core.analytics"}),x=S({id:"core.apptheme"}),H=S({id:"core.config"}),te=S({id:"core.discovery"}),oe=S({id:"core.error"});var ce=(pe=>(pe[pe.None=0]="None",pe[pe.Active=1]="Active",pe))(ce||{});const He=S({id:"core.featureflags"}),De=S({id:"core.fetch"}),et=S({id:"core.identity"}),lt=S({id:"core.oauthrequest"}),Et=S({id:"core.storage"});class Lt{constructor(ue,Ce={routeRef:"unknown",pluginId:"root",extension:"App"}){this.analyticsApi=ue,this.context=Ce}setContext(ue){this.context=ue}captureEvent(ue,Ce,{value:Be,attributes:Ke}={}){try{this.analyticsApi.captureEvent({action:ue,subject:Ce,value:Be,attributes:Ke,context:this.context})}catch(wt){console.warn("Error during analytics event capture. %o",wt)}}}function dt(){try{return c(b)}catch{return{captureEvent:()=>{}}}}function he(){const pe=(0,t.useRef)(null),ue=w(),Ce=dt();function Be(){return pe.current===null&&(pe.current=new Lt(Ce)),pe.current}const Ke=Be();return Ke.setContext(ue),Ke}const j=()=>{const pe=(0,e.Vt)("app-context");if(!pe)throw new Error("App context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("AppContext v1 not available");return ue},re=(0,e.uW)("component-data-store",()=>new WeakMap),W="__backstage_data";function d(pe,ue,Ce){var Be;const Ke=pe;let wt=(Be=Ke[W])!=null?Be:re.get(pe);if(wt||(wt={map:new Map},Object.defineProperty(Ke,W,{enumerable:!1,configurable:!0,writable:!1,value:wt}),re.set(pe,wt)),wt.map.has(ue)){const Ht=pe.displayName||pe.name;throw new Error(`Attempted to attach duplicate data "${ue}" to component "${Ht}"`)}wt.map.set(ue,Ce)}function k(pe,ue){var Ce;if(!pe)return;const Be=pe.type;if(!Be)return;const Ke=(Ce=Be[W])!=null?Ce:re.get(Be);if(!!Ke)return Ke.map.get(ue)}const J=(0,e.uW)("route-ref-type",()=>Symbol("route-ref-type"));var Le;class Me{constructor(ue,Ce){this.id=ue,this.params=Ce,this[Le]="absolute"}get title(){return this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}Le=J;function gt(pe){var ue;return new Me(pe.id,(ue=pe.params)!=null?ue:[])}var nt;const M=/^\w+$/;class Z{constructor(ue,Ce,Be,Ke){this.id=ue,this.path=Ce,this.parent=Be,this.params=Ke,this[nt]="sub"}toString(){return`routeRef{type=sub,id=${this.id}}`}}nt=J;function ie(pe){const{id:ue,path:Ce,parent:Be}=pe,Ke=Ce.split("/").filter(ot=>ot.startsWith(":")).map(ot=>ot.substring(1)),wt=[...Be.params,...Ke];if(Be.params.some(ot=>Ke.includes(ot)))throw new Error("SubRouteRef may not have params that overlap with its parent");if(!Ce.startsWith("/"))throw new Error(`SubRouteRef path must start with '/', got '${Ce}'`);if(Ce.endsWith("/"))throw new Error(`SubRouteRef path must not end with '/', got '${Ce}'`);for(const ot of Ke)if(!M.test(ot))throw new Error(`SubRouteRef path has invalid param, got '${ot}'`);return new Z(ue,Ce,Be,wt)}var we;class je{constructor(ue,Ce,Be){this.id=ue,this.params=Ce,this.optional=Be,this[we]="external"}toString(){return`routeRef{type=external,id=${this.id}}`}}we=J;function Xe(pe){var ue;return new je(pe.id,(ue=pe.params)!=null?ue:[],Boolean(pe.optional))}function Mt(pe){const ue=(0,T.TH)(),Ce=(0,e.Vt)("routing-context");if(!Ce)throw new Error("Routing context is not available");const Be=Ce.atVersion(1),Ke=(0,t.useMemo)(()=>Be&&Be.resolve(pe,ue),[Be,pe,ue]);if(!Ce)throw new Error("useRouteRef used outside of routing context");if(!Be)throw new Error("RoutingContext v1 not available");const wt="optional"in pe&&pe.optional;if(!Ke&&!wt)throw new Error(`No path for ${pe}`);return Ke}function Ut(pe){return useParams()}class Gt extends t.Component{constructor(){super(...arguments),this.state={error:void 0},this.handleErrorReset=()=>{this.setState({error:void 0})}}static getDerivedStateFromError(ue){return{error:ue}}render(){const{error:ue}=this.state,{app:Ce,plugin:Be}=this.props,{ErrorBoundaryFallback:Ke}=Ce.getComponents();return ue?t.createElement(Ke,{error:ue,resetError:this.handleErrorReset,plugin:Be}):this.props.children}}function zt(pe){const{component:ue,mountPoint:Ce,name:Be}=pe;return on({component:{lazy:()=>ue().then(Ke=>{const wt=ot=>{try{Mt(Ce)}catch(Rt){if(typeof Rt=="object"&&Rt!==null){const{message:Dt}=Rt;if(typeof Dt=="string"&&Dt.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${Ce} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`)}throw Rt}return t.createElement(Ke,{...ot})},Ht=Be||Ke.displayName||Ke.name||"LazyComponent";return wt.displayName=`RoutableExtension(${Ht})`,wt},Ke=>Ht=>{const ot=j(),{BootErrorPage:Rt}=ot.getComponents();return t.createElement(Rt,{step:"load-chunk",error:Ke})})},data:{"core.mountPoint":Ce},name:Be})}function _t(pe){const{component:ue,name:Ce}=pe;return on({component:ue,name:Ce})}function on(pe){const{data:ue={},name:Ce}=pe;Ce||console.warn("Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.");let Be;if("lazy"in pe.component){const wt=pe.component.lazy;Be=(0,t.lazy)(()=>wt().then(Ht=>({default:Ht})))}else Be=pe.component.sync;const Ke=Ce||Be.displayName||Be.name||"Component";return{expose(wt){const Ht=ot=>{const Rt=j(),{Progress:Dt}=Rt.getComponents(),tn=ue==null?void 0:ue["core.mountPoint"];return t.createElement(t.Suspense,{fallback:t.createElement(Dt,null)},t.createElement(Gt,{app:Rt,plugin:wt},t.createElement(i,{attributes:{pluginId:wt.getId(),...Ce&&{extension:Ce},...tn&&{routeRef:tn.id}}},t.createElement(Be,{...ot}))))};d(Ht,"core.plugin",wt);for(const[ot,Rt]of Object.entries(ue))d(Ht,ot,Rt);return Ht.displayName=`Extension(${Ke})`,Ht}}}function It(pe,ue,Ce,Be){return t.Children.toArray(pe).flatMap(Ke=>{if(!(0,t.isValidElement)(Ke))return[];if(Ke.type===t.Fragment)return It(Ke.props.children,ue,Ce,Be);if(k(Ke,"core.featureFlagged")){const wt=Ke.props;return("with"in wt?ue.isActive(wt.with):!ue.isActive(wt.without))?It(Ke.props.children,ue,Ce,Be):[]}if(Ce===void 0||Ce(Ke))return[Ke];if(Be)throw new Error(Be);return It(Ke.props.children,ue,Ce,Be)})}class dn{constructor(ue,Ce){this.node=ue,this.featureFlagsApi=Ce}selectByComponentData(ue){const Ce=It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0,ue.withStrictError);return new dn(Ce,this.featureFlagsApi)}findComponentData(ue){return It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0).map(Be=>k(Be,ue.key)).filter(Be=>Be!==void 0)}getElements(){return It(this.node,this.featureFlagsApi)}}function bn(pe,ue,Ce=[]){const Be=c(He),Ke=new dn(pe,Be);return(0,t.useMemo)(()=>ue(Ke),[pe,...Ce])}class pn{constructor(ue){this.config=ue}getId(){return this.config.id}getApis(){var ue;return(ue=this.config.apis)!=null?ue:[]}getFeatureFlags(){var ue,Ce;return(Ce=(ue=this.config.featureFlags)==null?void 0:ue.slice())!=null?Ce:[]}get routes(){var ue;return(ue=this.config.routes)!=null?ue:{}}get externalRoutes(){var ue;return(ue=this.config.externalRoutes)!=null?ue:{}}provide(ue){return ue.expose(this)}toString(){return`plugin{${this.config.id}}`}}function wn(pe){return new pn(pe)}},79090:function(Se,r,a){a.d(r,{t:function(){return t}});var e=a(2784);function t(){var T=(0,e.useRef)(!1),h=(0,e.useCallback)(function(){return T.current},[]);return(0,e.useEffect)(function(){return T.current=!0,function(){T.current=!1}},[]),h}},19807:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const e=a(97330),t=a(65219),T=a(60706),h=a(83640),w=["/properties"],i="http://json-schema.org/draft-07/schema";class E extends e.default{_addVocabularies(){super._addVocabularies(),t.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(T.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(h,w):h;this.addMetaSchema(S,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}Se.exports=r=E,Object.defineProperty(r,"__esModule",{value:!0}),r.default=E;var c=a(48527);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=a(13265);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}})},63065:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class a{}r._CodeOrName=a,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class e extends a{constructor(p){if(super(),!r.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=e;class t extends a{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((I,y)=>`${I}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((I,y)=>(y instanceof e&&(I[y.str]=(I[y.str]||0)+1),I),{})}}r._Code=t,r.nil=new t("");function T(f,...p){const I=[f[0]];let y=0;for(;y<p.length;)i(I,p[y]),I.push(f[++y]);return new t(I)}r._=T;const h=new t("+");function w(f,...p){const I=[F(f[0])];let y=0;for(;y<p.length;)I.push(h),i(I,p[y]),I.push(h,F(f[++y]));return E(I),new t(I)}r.str=w;function i(f,p){p instanceof t?f.push(...p._items):p instanceof e?f.push(p):f.push(A(p))}r.addCodeArg=i;function E(f){let p=1;for(;p<f.length-1;){if(f[p]===h){const I=c(f[p-1],f[p+1]);if(I!==void 0){f.splice(p-1,3,I);continue}f[p++]="+"}p++}}function c(f,p){if(p==='""')return f;if(f==='""')return p;if(typeof f=="string")return p instanceof e||f[f.length-1]!=='"'?void 0:typeof p!="string"?`${f.slice(0,-1)}${p}"`:p[0]==='"'?f.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(f instanceof e))return`"${f}${p.slice(1)}`}function l(f,p){return p.emptyStr()?f:f.emptyStr()?p:w`${f}${p}`}r.strConcat=l;function A(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:F(Array.isArray(f)?f.join(","):f)}function S(f){return new t(F(f))}r.stringify=S;function F(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.safeStringify=F;function U(f){return typeof f=="string"&&r.IDENTIFIER.test(f)?new t(`.${f}`):T`[${f}]`}r.getProperty=U;function B(f){if(typeof f=="string"&&r.IDENTIFIER.test(f))return new t(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}r.getEsmExportName=B;function V(f){return new t(f.toString())}r.regexpCode=V},13265:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const e=a(63065),t=a(69722);var T=a(63065);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return T._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return T.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return T.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return T.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return T.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return T.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return T.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return T.Name}});var h=a(69722);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return h.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return h.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return h.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return h.varKinds}}),r.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class w{optimizeNodes(){return this}optimizeNames(d,k){return this}}class i extends w{constructor(d,k,J){super(),this.varKind=d,this.name=k,this.rhs=J}render({es5:d,_n:k}){const J=d?t.varKinds.var:this.varKind,Le=this.rhs===void 0?"":` = ${this.rhs}`;return`${J} ${this.name}${Le};`+k}optimizeNames(d,k){if(!!d[this.name.str])return this.rhs&&(this.rhs=De(this.rhs,d,k)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class E extends w{constructor(d,k,J){super(),this.lhs=d,this.rhs=k,this.sideEffects=J}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,k){if(!(this.lhs instanceof e.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=De(this.rhs,d,k),this}get names(){const d=this.lhs instanceof e.Name?{}:{...this.lhs.names};return He(d,this.rhs)}}class c extends E{constructor(d,k,J,Le){super(d,J,Le),this.op=k}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class A extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class S extends w{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class F extends w{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,k){return this.code=De(this.code,d,k),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class U extends w{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((k,J)=>k+J.render(d),"")}optimizeNodes(){const{nodes:d}=this;let k=d.length;for(;k--;){const J=d[k].optimizeNodes();Array.isArray(J)?d.splice(k,1,...J):J?d[k]=J:d.splice(k,1)}return d.length>0?this:void 0}optimizeNames(d,k){const{nodes:J}=this;let Le=J.length;for(;Le--;){const Me=J[Le];Me.optimizeNames(d,k)||(et(d,Me.names),J.splice(Le,1))}return J.length>0?this:void 0}get names(){return this.nodes.reduce((d,k)=>ce(d,k.names),{})}}class B extends U{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class V extends U{}class f extends B{}f.kind="else";class p extends B{constructor(d,k){super(k),this.condition=d}render(d){let k=`if(${this.condition})`+super.render(d);return this.else&&(k+="else "+this.else.render(d)),k}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let k=this.else;if(k){const J=k.optimizeNodes();k=this.else=Array.isArray(J)?new f(J):J}if(k)return d===!1?k instanceof p?k:k.nodes:this.nodes.length?this:new p(lt(d),k instanceof p?[k]:k.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,k){var J;if(this.else=(J=this.else)===null||J===void 0?void 0:J.optimizeNames(d,k),!!(super.optimizeNames(d,k)||this.else))return this.condition=De(this.condition,d,k),this}get names(){const d=super.names;return He(d,this.condition),this.else&&ce(d,this.else.names),d}}p.kind="if";class I extends B{}I.kind="for";class y extends I{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iteration=De(this.iteration,d,k),this}get names(){return ce(super.names,this.iteration.names)}}class C extends I{constructor(d,k,J,Le){super(),this.varKind=d,this.name=k,this.from=J,this.to=Le}render(d){const k=d.es5?t.varKinds.var:this.varKind,{name:J,from:Le,to:Me}=this;return`for(${k} ${J}=${Le}; ${J}<${Me}; ${J}++)`+super.render(d)}get names(){const d=He(super.names,this.from);return He(d,this.to)}}class N extends I{constructor(d,k,J,Le){super(),this.loop=d,this.varKind=k,this.name=J,this.iterable=Le}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iterable=De(this.iterable,d,k),this}get names(){return ce(super.names,this.iterable.names)}}class R extends B{constructor(d,k,J){super(),this.name=d,this.args=k,this.async=J}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}R.kind="func";class b extends U{render(d){return"return "+super.render(d)}}b.kind="return";class x extends B{render(d){let k="try"+super.render(d);return this.catch&&(k+=this.catch.render(d)),this.finally&&(k+=this.finally.render(d)),k}optimizeNodes(){var d,k;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(d,k){var J,Le;return super.optimizeNames(d,k),(J=this.catch)===null||J===void 0||J.optimizeNames(d,k),(Le=this.finally)===null||Le===void 0||Le.optimizeNames(d,k),this}get names(){const d=super.names;return this.catch&&ce(d,this.catch.names),this.finally&&ce(d,this.finally.names),d}}class H extends B{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}H.kind="catch";class te extends B{render(d){return"finally"+super.render(d)}}te.kind="finally";class oe{constructor(d,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=d,this._scope=new t.Scope({parent:d}),this._nodes=[new V]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,k){const J=this._extScope.value(d,k);return(this._values[J.prefix]||(this._values[J.prefix]=new Set)).add(J),J}getScopeValue(d,k){return this._extScope.getValue(d,k)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,k,J,Le){const Me=this._scope.toName(k);return J!==void 0&&Le&&(this._constants[Me.str]=J),this._leafNode(new i(d,Me,J)),Me}const(d,k,J){return this._def(t.varKinds.const,d,k,J)}let(d,k,J){return this._def(t.varKinds.let,d,k,J)}var(d,k,J){return this._def(t.varKinds.var,d,k,J)}assign(d,k,J){return this._leafNode(new E(d,k,J))}add(d,k){return this._leafNode(new c(d,r.operators.ADD,k))}code(d){return typeof d=="function"?d():d!==e.nil&&this._leafNode(new F(d)),this}object(...d){const k=["{"];for(const[J,Le]of d)k.length>1&&k.push(","),k.push(J),(J!==Le||this.opts.es5)&&(k.push(":"),(0,e.addCodeArg)(k,Le));return k.push("}"),new e._Code(k)}if(d,k,J){if(this._blockNode(new p(d)),k&&J)this.code(k).else().code(J).endIf();else if(k)this.code(k).endIf();else if(J)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new p(d))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(p,f)}_for(d,k){return this._blockNode(d),k&&this.code(k).endFor(),this}for(d,k){return this._for(new y(d),k)}forRange(d,k,J,Le,Me=this.opts.es5?t.varKinds.var:t.varKinds.let){const gt=this._scope.toName(d);return this._for(new C(Me,gt,k,J),()=>Le(gt))}forOf(d,k,J,Le=t.varKinds.const){const Me=this._scope.toName(d);if(this.opts.es5){const gt=k instanceof e.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,e._)`${gt}.length`,nt=>{this.var(Me,(0,e._)`${gt}[${nt}]`),J(Me)})}return this._for(new N("of",Le,Me,k),()=>J(Me))}forIn(d,k,J,Le=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,e._)`Object.keys(${k})`,J);const Me=this._scope.toName(d);return this._for(new N("in",Le,Me,k),()=>J(Me))}endFor(){return this._endBlockNode(I)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new A(d))}return(d){const k=new b;if(this._blockNode(k),this.code(d),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,k,J){if(!k&&!J)throw new Error('CodeGen: "try" without "catch" and "finally"');const Le=new x;if(this._blockNode(Le),this.code(d),k){const Me=this.name("e");this._currNode=Le.catch=new H(Me),k(Me)}return J&&(this._currNode=Le.finally=new te,this.code(J)),this._endBlockNode(H,te)}throw(d){return this._leafNode(new S(d))}block(d,k){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(k),this}endBlock(d){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const J=this._nodes.length-k;if(J<0||d!==void 0&&J!==d)throw new Error(`CodeGen: wrong number of nodes: ${J} vs ${d} expected`);return this._nodes.length=k,this}func(d,k=e.nil,J,Le){return this._blockNode(new R(d,k,J)),Le&&this.code(Le).endFunc(),this}endFunc(){return this._endBlockNode(R)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,k){const J=this._currNode;if(J instanceof d||k&&J instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${d.kind}/${k.kind}`:d.kind}"`)}_elseNode(d){const k=this._currNode;if(!(k instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const k=this._nodes;k[k.length-1]=d}}r.CodeGen=oe;function ce(W,d){for(const k in d)W[k]=(W[k]||0)+(d[k]||0);return W}function He(W,d){return d instanceof e._CodeOrName?ce(W,d.names):W}function De(W,d,k){if(W instanceof e.Name)return J(W);if(!Le(W))return W;return new e._Code(W._items.reduce((Me,gt)=>(gt instanceof e.Name&&(gt=J(gt)),gt instanceof e._Code?Me.push(...gt._items):Me.push(gt),Me),[]));function J(Me){const gt=k[Me.str];return gt===void 0||d[Me.str]!==1?Me:(delete d[Me.str],gt)}function Le(Me){return Me instanceof e._Code&&Me._items.some(gt=>gt instanceof e.Name&&d[gt.str]===1&&k[gt.str]!==void 0)}}function et(W,d){for(const k in d)W[k]=(W[k]||0)-(d[k]||0)}function lt(W){return typeof W=="boolean"||typeof W=="number"||W===null?!W:(0,e._)`!${re(W)}`}r.not=lt;const Et=j(r.operators.AND);function Lt(...W){return W.reduce(Et)}r.and=Lt;const dt=j(r.operators.OR);function he(...W){return W.reduce(dt)}r.or=he;function j(W){return(d,k)=>d===e.nil?k:k===e.nil?d:(0,e._)`${re(d)} ${W} ${re(k)}`}function re(W){return W instanceof e.Name?W:(0,e._)`(${W})`}},69722:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const e=a(63065);class t extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var T;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(T=r.UsedValueState||(r.UsedValueState={})),r.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class h{constructor({prefixes:l,parent:A}={}){this._names={},this._prefixes=l,this._parent=A}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const A=this._names[l]||this._nameGroup(l);return`${l}${A.index++}`}_nameGroup(l){var A,S;if(((S=(A=this._parent)===null||A===void 0?void 0:A._prefixes)===null||S===void 0?void 0:S.has(l))||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}r.Scope=h;class w extends e.Name{constructor(l,A){super(A),this.prefix=l}setValue(l,{property:A,itemIndex:S}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(A)}[${S}]`}}r.ValueScopeName=w;const i=(0,e._)`\n`;class E extends h{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:e.nil}}get(){return this._scope}name(l){return new w(l,this._newName(l))}value(l,A){var S;if(A.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const F=this.toName(l),{prefix:U}=F,B=(S=A.key)!==null&&S!==void 0?S:A.ref;let V=this._values[U];if(V){const I=V.get(B);if(I)return I}else V=this._values[U]=new Map;V.set(B,F);const f=this._scope[U]||(this._scope[U]=[]),p=f.length;return f[p]=A.ref,F.setValue(A,{property:U,itemIndex:p}),F}getValue(l,A){const S=this._values[l];if(!!S)return S.get(A)}scopeRefs(l,A=this._values){return this._reduceValues(A,S=>{if(S.scopePath===void 0)throw new Error(`CodeGen: name "${S}" has no value`);return(0,e._)`${l}${S.scopePath}`})}scopeCode(l=this._values,A,S){return this._reduceValues(l,F=>{if(F.value===void 0)throw new Error(`CodeGen: name "${F}" has no value`);return F.value.code},A,S)}_reduceValues(l,A,S={},F){let U=e.nil;for(const B in l){const V=l[B];if(!V)continue;const f=S[B]=S[B]||new Map;V.forEach(p=>{if(f.has(p))return;f.set(p,T.Started);let I=A(p);if(I){const y=this.opts.es5?r.varKinds.var:r.varKinds.const;U=(0,e._)`${U}${y} ${p} = ${I};${this.opts._n}`}else if(I=F==null?void 0:F(p))U=(0,e._)`${U}${I}${this.opts._n}`;else throw new t(p);f.set(p,T.Completed)})}return U}}r.ValueScope=E},57188:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const e=a(13265),t=a(9601),T=a(97927);r.keywordError={message:({keyword:f})=>(0,e.str)`must pass "${f}" keyword validation`},r.keyword$DataError={message:({keyword:f,schemaType:p})=>p?(0,e.str)`"${f}" keyword must be ${p} ($data)`:(0,e.str)`"${f}" keyword is invalid ($data)`};function h(f,p=r.keywordError,I,y){const{it:C}=f,{gen:N,compositeRule:R,allErrors:b}=C,x=S(f,p,I);(y!=null?y:R||b)?c(N,x):l(C,(0,e._)`[${x}]`)}r.reportError=h;function w(f,p=r.keywordError,I){const{it:y}=f,{gen:C,compositeRule:N,allErrors:R}=y,b=S(f,p,I);c(C,b),N||R||l(y,T.default.vErrors)}r.reportExtraError=w;function i(f,p){f.assign(T.default.errors,p),f.if((0,e._)`${T.default.vErrors} !== null`,()=>f.if(p,()=>f.assign((0,e._)`${T.default.vErrors}.length`,p),()=>f.assign(T.default.vErrors,null)))}r.resetErrorsCount=i;function E({gen:f,keyword:p,schemaValue:I,data:y,errsCount:C,it:N}){if(C===void 0)throw new Error("ajv implementation error");const R=f.name("err");f.forRange("i",C,T.default.errors,b=>{f.const(R,(0,e._)`${T.default.vErrors}[${b}]`),f.if((0,e._)`${R}.instancePath === undefined`,()=>f.assign((0,e._)`${R}.instancePath`,(0,e.strConcat)(T.default.instancePath,N.errorPath))),f.assign((0,e._)`${R}.schemaPath`,(0,e.str)`${N.errSchemaPath}/${p}`),N.opts.verbose&&(f.assign((0,e._)`${R}.schema`,I),f.assign((0,e._)`${R}.data`,y))})}r.extendErrors=E;function c(f,p){const I=f.const("err",p);f.if((0,e._)`${T.default.vErrors} === null`,()=>f.assign(T.default.vErrors,(0,e._)`[${I}]`),(0,e._)`${T.default.vErrors}.push(${I})`),f.code((0,e._)`${T.default.errors}++`)}function l(f,p){const{gen:I,validateName:y,schemaEnv:C}=f;C.$async?I.throw((0,e._)`new ${f.ValidationError}(${p})`):(I.assign((0,e._)`${y}.errors`,p),I.return(!1))}const A={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function S(f,p,I){const{createErrors:y}=f.it;return y===!1?(0,e._)`{}`:F(f,p,I)}function F(f,p,I={}){const{gen:y,it:C}=f,N=[U(C,I),B(f,I)];return V(f,p,N),y.object(...N)}function U({errorPath:f},{instancePath:p}){const I=p?(0,e.str)`${f}${(0,t.getErrorPath)(p,t.Type.Str)}`:f;return[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,I)]}function B({keyword:f,it:{errSchemaPath:p}},{schemaPath:I,parentSchema:y}){let C=y?p:(0,e.str)`${p}/${f}`;return I&&(C=(0,e.str)`${C}${(0,t.getErrorPath)(I,t.Type.Str)}`),[A.schemaPath,C]}function V(f,{params:p,message:I},y){const{keyword:C,data:N,schemaValue:R,it:b}=f,{opts:x,propertyName:H,topSchemaRef:te,schemaPath:oe}=b;y.push([A.keyword,C],[A.params,typeof p=="function"?p(f):p||(0,e._)`{}`]),x.messages&&y.push([A.message,typeof I=="function"?I(f):I]),x.verbose&&y.push([A.schema,R],[A.parentSchema,(0,e._)`${te}${oe}`],[T.default.data,N]),H&&y.push([A.propertyName,H])}},52547:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const e=a(13265),t=a(70411),T=a(97927),h=a(96511),w=a(9601),i=a(48527);class E{constructor(I){var y;this.refs={},this.dynamicAnchors={};let C;typeof I.schema=="object"&&(C=I.schema),this.schema=I.schema,this.schemaId=I.schemaId,this.root=I.root||this,this.baseId=(y=I.baseId)!==null&&y!==void 0?y:(0,h.normalizeId)(C==null?void 0:C[I.schemaId||"$id"]),this.schemaPath=I.schemaPath,this.localRefs=I.localRefs,this.meta=I.meta,this.$async=C==null?void 0:C.$async,this.refs={}}}r.SchemaEnv=E;function c(p){const I=S.call(this,p);if(I)return I;const y=(0,h.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:C,lines:N}=this.opts.code,{ownProperties:R}=this.opts,b=new e.CodeGen(this.scope,{es5:C,lines:N,ownProperties:R});let x;p.$async&&(x=b.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const H=b.scopeName("validate");p.validateName=H;const te={gen:b,allErrors:this.opts.allErrors,data:T.default.data,parentData:T.default.parentData,parentDataProperty:T.default.parentDataProperty,dataNames:[T.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,e.stringify)(p.schema)}:{ref:p.schema}),validateName:H,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:e.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let oe;try{this._compilations.add(p),(0,i.validateFunctionCode)(te),b.optimize(this.opts.code.optimize);const ce=b.toString();oe=`${b.scopeRefs(T.default.scope)}return ${ce}`,this.opts.code.process&&(oe=this.opts.code.process(oe,p));const De=new Function(`${T.default.self}`,`${T.default.scope}`,oe)(this,this.scope.get());if(this.scope.value(H,{ref:De}),De.errors=null,De.schema=p.schema,De.schemaEnv=p,p.$async&&(De.$async=!0),this.opts.code.source===!0&&(De.source={validateName:H,validateCode:ce,scopeValues:b._values}),this.opts.unevaluated){const{props:et,items:lt}=te;De.evaluated={props:et instanceof e.Name?void 0:et,items:lt instanceof e.Name?void 0:lt,dynamicProps:et instanceof e.Name,dynamicItems:lt instanceof e.Name},De.source&&(De.source.evaluated=(0,e.stringify)(De.evaluated))}return p.validate=De,p}catch(ce){throw delete p.validate,delete p.validateName,oe&&this.logger.error("Error compiling schema, function code:",oe),ce}finally{this._compilations.delete(p)}}r.compileSchema=c;function l(p,I,y){var C;y=(0,h.resolveUrl)(this.opts.uriResolver,I,y);const N=p.refs[y];if(N)return N;let R=U.call(this,p,y);if(R===void 0){const b=(C=p.localRefs)===null||C===void 0?void 0:C[y],{schemaId:x}=this.opts;b&&(R=new E({schema:b,schemaId:x,root:p,baseId:I}))}if(R!==void 0)return p.refs[y]=A.call(this,R)}r.resolveRef=l;function A(p){return(0,h.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:c.call(this,p)}function S(p){for(const I of this._compilations)if(F(I,p))return I}r.getCompilingSchema=S;function F(p,I){return p.schema===I.schema&&p.root===I.root&&p.baseId===I.baseId}function U(p,I){let y;for(;typeof(y=this.refs[I])=="string";)I=y;return y||this.schemas[I]||B.call(this,p,I)}function B(p,I){const y=this.opts.uriResolver.parse(I),C=(0,h._getFullPath)(this.opts.uriResolver,y);let N=(0,h.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&C===N)return f.call(this,y,p);const R=(0,h.normalizeId)(C),b=this.refs[R]||this.schemas[R];if(typeof b=="string"){const x=B.call(this,p,b);return typeof(x==null?void 0:x.schema)!="object"?void 0:f.call(this,y,x)}if(typeof(b==null?void 0:b.schema)=="object"){if(b.validate||c.call(this,b),R===(0,h.normalizeId)(I)){const{schema:x}=b,{schemaId:H}=this.opts,te=x[H];return te&&(N=(0,h.resolveUrl)(this.opts.uriResolver,N,te)),new E({schema:x,schemaId:H,root:p,baseId:N})}return f.call(this,y,b)}}r.resolveSchema=B;const V=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function f(p,{baseId:I,schema:y,root:C}){var N;if(((N=p.fragment)===null||N===void 0?void 0:N[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const H=y[(0,w.unescapeFragment)(x)];if(H===void 0)return;y=H;const te=typeof y=="object"&&y[this.opts.schemaId];!V.has(x)&&te&&(I=(0,h.resolveUrl)(this.opts.uriResolver,I,te))}let R;if(typeof y!="boolean"&&y.$ref&&!(0,w.schemaHasRulesButRef)(y,this.RULES)){const x=(0,h.resolveUrl)(this.opts.uriResolver,I,y.$ref);R=B.call(this,C,x)}const{schemaId:b}=this.opts;if(R=R||new E({schema:y,schemaId:b,root:C,baseId:I}),R.schema!==R.root.schema)return R}},97927:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};r.default=t},75402:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(96511);class t extends Error{constructor(h,w,i,E){super(E||`can't resolve reference ${i} from id ${w}`),this.missingRef=(0,e.resolveUrl)(h,w,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(h,this.missingRef))}}r.default=t},96511:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const e=a(9601),t=a(69378),T=a(19522),h=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function w(f,p=!0){return typeof f=="boolean"?!0:p===!0?!E(f):p?c(f)<=p:!1}r.inlineRef=w;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function E(f){for(const p in f){if(i.has(p))return!0;const I=f[p];if(Array.isArray(I)&&I.some(E)||typeof I=="object"&&E(I))return!0}return!1}function c(f){let p=0;for(const I in f){if(I==="$ref")return 1/0;if(p++,!h.has(I)&&(typeof f[I]=="object"&&(0,e.eachItem)(f[I],y=>p+=c(y)),p===1/0))return 1/0}return p}function l(f,p="",I){I!==!1&&(p=F(p));const y=f.parse(p);return A(f,y)}r.getFullPath=l;function A(f,p){return f.serialize(p).split("#")[0]+"#"}r._getFullPath=A;const S=/#\/?$/;function F(f){return f?f.replace(S,""):""}r.normalizeId=F;function U(f,p,I){return I=F(I),f.resolve(p,I)}r.resolveUrl=U;const B=/^[a-z_][-a-z0-9._]*$/i;function V(f,p){if(typeof f=="boolean")return{};const{schemaId:I,uriResolver:y}=this.opts,C=F(f[I]||p),N={"":C},R=l(y,C,!1),b={},x=new Set;return T(f,{allKeys:!0},(oe,ce,He,De)=>{if(De===void 0)return;const et=R+ce;let lt=N[De];typeof oe[I]=="string"&&(lt=Et.call(this,oe[I])),Lt.call(this,oe.$anchor),Lt.call(this,oe.$dynamicAnchor),N[ce]=lt;function Et(dt){const he=this.opts.uriResolver.resolve;if(dt=F(lt?he(lt,dt):dt),x.has(dt))throw te(dt);x.add(dt);let j=this.refs[dt];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?H(oe,j.schema,dt):dt!==F(et)&&(dt[0]==="#"?(H(oe,b[dt],dt),b[dt]=oe):this.refs[dt]=et),dt}function Lt(dt){if(typeof dt=="string"){if(!B.test(dt))throw new Error(`invalid anchor "${dt}"`);Et.call(this,`#${dt}`)}}}),b;function H(oe,ce,He){if(ce!==void 0&&!t(oe,ce))throw te(He)}function te(oe){return new Error(`reference "${oe}" resolves to more than one schema`)}}r.getSchemaRefs=V},95346:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const a=["string","number","integer","boolean","null","object","array"],e=new Set(a);function t(h){return typeof h=="string"&&e.has(h)}r.isJSONType=t;function T(){const h={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...h,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},h.number,h.string,h.array,h.object],post:{rules:[]},all:{},keywords:{}}}r.getRules=T},9601:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const e=a(13265),t=a(63065);function T(R){const b={};for(const x of R)b[x]=!0;return b}r.toHash=T;function h(R,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(w(R,b),!i(b,R.self.RULES.all))}r.alwaysValidSchema=h;function w(R,b=R.schema){const{opts:x,self:H}=R;if(!x.strictSchema||typeof b=="boolean")return;const te=H.RULES.keywords;for(const oe in b)te[oe]||N(R,`unknown keyword: "${oe}"`)}r.checkUnknownRules=w;function i(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(b[x])return!0;return!1}r.schemaHasRules=i;function E(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(x!=="$ref"&&b.all[x])return!0;return!1}r.schemaHasRulesButRef=E;function c({topSchemaRef:R,schemaPath:b},x,H,te){if(!te){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,e._)`${x}`}return(0,e._)`${R}${b}${(0,e.getProperty)(H)}`}r.schemaRefOrVal=c;function l(R){return F(decodeURIComponent(R))}r.unescapeFragment=l;function A(R){return encodeURIComponent(S(R))}r.escapeFragment=A;function S(R){return typeof R=="number"?`${R}`:R.replace(/~/g,"~0").replace(/\//g,"~1")}r.escapeJsonPointer=S;function F(R){return R.replace(/~1/g,"/").replace(/~0/g,"~")}r.unescapeJsonPointer=F;function U(R,b){if(Array.isArray(R))for(const x of R)b(x);else b(R)}r.eachItem=U;function B({mergeNames:R,mergeToName:b,mergeValues:x,resultToName:H}){return(te,oe,ce,He)=>{const De=ce===void 0?oe:ce instanceof e.Name?(oe instanceof e.Name?R(te,oe,ce):b(te,oe,ce),ce):oe instanceof e.Name?(b(te,ce,oe),oe):x(oe,ce);return He===e.Name&&!(De instanceof e.Name)?H(te,De):De}}r.mergeEvaluated={props:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>{R.if((0,e._)`${b} === true`,()=>R.assign(x,!0),()=>R.assign(x,(0,e._)`${x} || {}`).code((0,e._)`Object.assign(${x}, ${b})`))}),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>{b===!0?R.assign(x,!0):(R.assign(x,(0,e._)`${x} || {}`),f(R,x,b))}),mergeValues:(R,b)=>R===!0?!0:{...R,...b},resultToName:V}),items:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>R.assign(x,(0,e._)`${b} === true ? true : ${x} > ${b} ? ${x} : ${b}`)),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>R.assign(x,b===!0?!0:(0,e._)`${x} > ${b} ? ${x} : ${b}`)),mergeValues:(R,b)=>R===!0?!0:Math.max(R,b),resultToName:(R,b)=>R.var("items",b)})};function V(R,b){if(b===!0)return R.var("props",!0);const x=R.var("props",(0,e._)`{}`);return b!==void 0&&f(R,x,b),x}r.evaluatedPropsToName=V;function f(R,b,x){Object.keys(x).forEach(H=>R.assign((0,e._)`${b}${(0,e.getProperty)(H)}`,!0))}r.setEvaluated=f;const p={};function I(R,b){return R.scopeValue("func",{ref:b,code:p[b.code]||(p[b.code]=new t._Code(b.code))})}r.useFunc=I;var y;(function(R){R[R.Num=0]="Num",R[R.Str=1]="Str"})(y=r.Type||(r.Type={}));function C(R,b,x){if(R instanceof e.Name){const H=b===y.Num;return x?H?(0,e._)`"[" + ${R} + "]"`:(0,e._)`"['" + ${R} + "']"`:H?(0,e._)`"/" + ${R}`:(0,e._)`"/" + ${R}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,e.getProperty)(R).toString():"/"+S(R)}r.getErrorPath=C;function N(R,b,x=R.opts.strictSchema){if(!!x){if(b=`strict mode: ${b}`,x===!0)throw new Error(b);R.self.logger.warn(b)}}r.checkStrictMode=N},46957:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0;function a({schema:T,self:h},w){const i=h.RULES.types[w];return i&&i!==!0&&e(T,i)}r.schemaHasRulesForType=a;function e(T,h){return h.rules.some(w=>t(T,w))}r.shouldUseGroup=e;function t(T,h){var w;return T[h.keyword]!==void 0||((w=h.definition.implements)===null||w===void 0?void 0:w.some(i=>T[i]!==void 0))}r.shouldUseRule=t},16667:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const e=a(57188),t=a(13265),T=a(97927),h={message:"boolean schema is false"};function w(c){const{gen:l,schema:A,validateName:S}=c;A===!1?E(c,!1):typeof A=="object"&&A.$async===!0?l.return(T.default.data):(l.assign((0,t._)`${S}.errors`,null),l.return(!0))}r.topBoolOrEmptySchema=w;function i(c,l){const{gen:A,schema:S}=c;S===!1?(A.var(l,!1),E(c)):A.var(l,!0)}r.boolOrEmptySchema=i;function E(c,l){const{gen:A,data:S}=c,F={gen:A,keyword:"false schema",data:S,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(F,h,void 0,l)}},24154:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const e=a(95346),t=a(46957),T=a(57188),h=a(13265),w=a(9601);var i;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(i=r.DataType||(r.DataType={}));function E(y){const C=c(y.type);if(C.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&C.push("null")}return C}r.getSchemaTypes=E;function c(y){const C=Array.isArray(y)?y:y?[y]:[];if(C.every(e.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}r.getJSONTypes=c;function l(y,C){const{gen:N,data:R,opts:b}=y,x=S(C,b.coerceTypes),H=C.length>0&&!(x.length===0&&C.length===1&&(0,t.schemaHasRulesForType)(y,C[0]));if(H){const te=V(C,R,b.strictNumbers,i.Wrong);N.if(te,()=>{x.length?F(y,C,x):p(y)})}return H}r.coerceAndCheckDataType=l;const A=new Set(["string","number","integer","boolean","null"]);function S(y,C){return C?y.filter(N=>A.has(N)||C==="array"&&N==="array"):[]}function F(y,C,N){const{gen:R,data:b,opts:x}=y,H=R.let("dataType",(0,h._)`typeof ${b}`),te=R.let("coerced",(0,h._)`undefined`);x.coerceTypes==="array"&&R.if((0,h._)`${H} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>R.assign(b,(0,h._)`${b}[0]`).assign(H,(0,h._)`typeof ${b}`).if(V(C,b,x.strictNumbers),()=>R.assign(te,b))),R.if((0,h._)`${te} !== undefined`);for(const ce of N)(A.has(ce)||ce==="array"&&x.coerceTypes==="array")&&oe(ce);R.else(),p(y),R.endIf(),R.if((0,h._)`${te} !== undefined`,()=>{R.assign(b,te),U(y,te)});function oe(ce){switch(ce){case"string":R.elseIf((0,h._)`${H} == "number" || ${H} == "boolean"`).assign(te,(0,h._)`"" + ${b}`).elseIf((0,h._)`${b} === null`).assign(te,(0,h._)`""`);return;case"number":R.elseIf((0,h._)`${H} == "boolean" || ${b} === null
              || (${H} == "string" && ${b} && ${b} == +${b})`).assign(te,(0,h._)`+${b}`);return;case"integer":R.elseIf((0,h._)`${H} === "boolean" || ${b} === null
              || (${H} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(te,(0,h._)`+${b}`);return;case"boolean":R.elseIf((0,h._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(te,!1).elseIf((0,h._)`${b} === "true" || ${b} === 1`).assign(te,!0);return;case"null":R.elseIf((0,h._)`${b} === "" || ${b} === 0 || ${b} === false`),R.assign(te,null);return;case"array":R.elseIf((0,h._)`${H} === "string" || ${H} === "number"
              || ${H} === "boolean" || ${b} === null`).assign(te,(0,h._)`[${b}]`)}}}function U({gen:y,parentData:C,parentDataProperty:N},R){y.if((0,h._)`${C} !== undefined`,()=>y.assign((0,h._)`${C}[${N}]`,R))}function B(y,C,N,R=i.Correct){const b=R===i.Correct?h.operators.EQ:h.operators.NEQ;let x;switch(y){case"null":return(0,h._)`${C} ${b} null`;case"array":x=(0,h._)`Array.isArray(${C})`;break;case"object":x=(0,h._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":x=H((0,h._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":x=H();break;default:return(0,h._)`typeof ${C} ${b} ${y}`}return R===i.Correct?x:(0,h.not)(x);function H(te=h.nil){return(0,h.and)((0,h._)`typeof ${C} == "number"`,te,N?(0,h._)`isFinite(${C})`:h.nil)}}r.checkDataType=B;function V(y,C,N,R){if(y.length===1)return B(y[0],C,N,R);let b;const x=(0,w.toHash)(y);if(x.array&&x.object){const H=(0,h._)`typeof ${C} != "object"`;b=x.null?H:(0,h._)`!${C} || ${H}`,delete x.null,delete x.array,delete x.object}else b=h.nil;x.number&&delete x.integer;for(const H in x)b=(0,h.and)(b,B(H,C,N,R));return b}r.checkDataTypes=V;const f={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:C})=>typeof y=="string"?(0,h._)`{type: ${y}}`:(0,h._)`{type: ${C}}`};function p(y){const C=I(y);(0,T.reportError)(C,f)}r.reportTypeError=p;function I(y){const{gen:C,data:N,schema:R}=y,b=(0,w.schemaRefOrVal)(y,R,"type");return{gen:C,keyword:"type",data:N,schema:R.type,schemaCode:b,schemaValue:b,parentSchema:R,params:{},it:y}}},17084:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const e=a(13265),t=a(9601);function T(w,i){const{properties:E,items:c}=w.schema;if(i==="object"&&E)for(const l in E)h(w,l,E[l].default);else i==="array"&&Array.isArray(c)&&c.forEach((l,A)=>h(w,A,l.default))}r.assignDefaults=T;function h(w,i,E){const{gen:c,compositeRule:l,data:A,opts:S}=w;if(E===void 0)return;const F=(0,e._)`${A}${(0,e.getProperty)(i)}`;if(l){(0,t.checkStrictMode)(w,`default is ignored for: ${F}`);return}let U=(0,e._)`${F} === undefined`;S.useDefaults==="empty"&&(U=(0,e._)`${U} || ${F} === null || ${F} === ""`),c.if(U,(0,e._)`${F} = ${(0,e.stringify)(E)}`)}},48527:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const e=a(16667),t=a(24154),T=a(46957),h=a(24154),w=a(17084),i=a(57977),E=a(37675),c=a(13265),l=a(97927),A=a(96511),S=a(9601),F=a(57188);function U(M){if(R(M)&&(x(M),N(M))){p(M);return}B(M,()=>(0,e.topBoolOrEmptySchema)(M))}r.validateFunctionCode=U;function B({gen:M,validateName:Z,schema:ie,schemaEnv:we,opts:je},Xe){je.code.es5?M.func(Z,(0,c._)`${l.default.data}, ${l.default.valCxt}`,we.$async,()=>{M.code((0,c._)`"use strict"; ${y(ie,je)}`),f(M,je),M.code(Xe)}):M.func(Z,(0,c._)`${l.default.data}, ${V(je)}`,we.$async,()=>M.code(y(ie,je)).code(Xe))}function V(M){return(0,c._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${M.dynamicRef?(0,c._)`, ${l.default.dynamicAnchors}={}`:c.nil}}={}`}function f(M,Z){M.if(l.default.valCxt,()=>{M.var(l.default.instancePath,(0,c._)`${l.default.valCxt}.${l.default.instancePath}`),M.var(l.default.parentData,(0,c._)`${l.default.valCxt}.${l.default.parentData}`),M.var(l.default.parentDataProperty,(0,c._)`${l.default.valCxt}.${l.default.parentDataProperty}`),M.var(l.default.rootData,(0,c._)`${l.default.valCxt}.${l.default.rootData}`),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{M.var(l.default.instancePath,(0,c._)`""`),M.var(l.default.parentData,(0,c._)`undefined`),M.var(l.default.parentDataProperty,(0,c._)`undefined`),M.var(l.default.rootData,l.default.data),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`{}`)})}function p(M){const{schema:Z,opts:ie,gen:we}=M;B(M,()=>{ie.$comment&&Z.$comment&&De(M),oe(M),we.let(l.default.vErrors,null),we.let(l.default.errors,0),ie.unevaluated&&I(M),H(M),et(M)})}function I(M){const{gen:Z,validateName:ie}=M;M.evaluated=Z.const("evaluated",(0,c._)`${ie}.evaluated`),Z.if((0,c._)`${M.evaluated}.dynamicProps`,()=>Z.assign((0,c._)`${M.evaluated}.props`,(0,c._)`undefined`)),Z.if((0,c._)`${M.evaluated}.dynamicItems`,()=>Z.assign((0,c._)`${M.evaluated}.items`,(0,c._)`undefined`))}function y(M,Z){const ie=typeof M=="object"&&M[Z.schemaId];return ie&&(Z.code.source||Z.code.process)?(0,c._)`/*# sourceURL=${ie} */`:c.nil}function C(M,Z){if(R(M)&&(x(M),N(M))){b(M,Z);return}(0,e.boolOrEmptySchema)(M,Z)}function N({schema:M,self:Z}){if(typeof M=="boolean")return!M;for(const ie in M)if(Z.RULES.all[ie])return!0;return!1}function R(M){return typeof M.schema!="boolean"}function b(M,Z){const{schema:ie,gen:we,opts:je}=M;je.$comment&&ie.$comment&&De(M),ce(M),He(M);const Xe=we.const("_errs",l.default.errors);H(M,Xe),we.var(Z,(0,c._)`${Xe} === ${l.default.errors}`)}function x(M){(0,S.checkUnknownRules)(M),te(M)}function H(M,Z){if(M.opts.jtd)return Et(M,[],!1,Z);const ie=(0,t.getSchemaTypes)(M.schema),we=(0,t.coerceAndCheckDataType)(M,ie);Et(M,ie,!we,Z)}function te(M){const{schema:Z,errSchemaPath:ie,opts:we,self:je}=M;Z.$ref&&we.ignoreKeywordsWithRef&&(0,S.schemaHasRulesButRef)(Z,je.RULES)&&je.logger.warn(`$ref: keywords ignored in schema at path "${ie}"`)}function oe(M){const{schema:Z,opts:ie}=M;Z.default!==void 0&&ie.useDefaults&&ie.strictSchema&&(0,S.checkStrictMode)(M,"default is ignored in the schema root")}function ce(M){const Z=M.schema[M.opts.schemaId];Z&&(M.baseId=(0,A.resolveUrl)(M.opts.uriResolver,M.baseId,Z))}function He(M){if(M.schema.$async&&!M.schemaEnv.$async)throw new Error("async schema in sync schema")}function De({gen:M,schemaEnv:Z,schema:ie,errSchemaPath:we,opts:je}){const Xe=ie.$comment;if(je.$comment===!0)M.code((0,c._)`${l.default.self}.logger.log(${Xe})`);else if(typeof je.$comment=="function"){const Mt=(0,c.str)`${we}/$comment`,Ut=M.scopeValue("root",{ref:Z.root});M.code((0,c._)`${l.default.self}.opts.$comment(${Xe}, ${Mt}, ${Ut}.schema)`)}}function et(M){const{gen:Z,schemaEnv:ie,validateName:we,ValidationError:je,opts:Xe}=M;ie.$async?Z.if((0,c._)`${l.default.errors} === 0`,()=>Z.return(l.default.data),()=>Z.throw((0,c._)`new ${je}(${l.default.vErrors})`)):(Z.assign((0,c._)`${we}.errors`,l.default.vErrors),Xe.unevaluated&&lt(M),Z.return((0,c._)`${l.default.errors} === 0`))}function lt({gen:M,evaluated:Z,props:ie,items:we}){ie instanceof c.Name&&M.assign((0,c._)`${Z}.props`,ie),we instanceof c.Name&&M.assign((0,c._)`${Z}.items`,we)}function Et(M,Z,ie,we){const{gen:je,schema:Xe,data:Mt,allErrors:Ut,opts:Gt,self:zt}=M,{RULES:_t}=zt;if(Xe.$ref&&(Gt.ignoreKeywordsWithRef||!(0,S.schemaHasRulesButRef)(Xe,_t))){je.block(()=>Le(M,"$ref",_t.all.$ref.definition));return}Gt.jtd||dt(M,Z),je.block(()=>{for(const It of _t.rules)on(It);on(_t.post)});function on(It){!(0,T.shouldUseGroup)(Xe,It)||(It.type?(je.if((0,h.checkDataType)(It.type,Mt,Gt.strictNumbers)),Lt(M,It),Z.length===1&&Z[0]===It.type&&ie&&(je.else(),(0,h.reportTypeError)(M)),je.endIf()):Lt(M,It),Ut||je.if((0,c._)`${l.default.errors} === ${we||0}`))}}function Lt(M,Z){const{gen:ie,schema:we,opts:{useDefaults:je}}=M;je&&(0,w.assignDefaults)(M,Z.type),ie.block(()=>{for(const Xe of Z.rules)(0,T.shouldUseRule)(we,Xe)&&Le(M,Xe.keyword,Xe.definition,Z.type)})}function dt(M,Z){M.schemaEnv.meta||!M.opts.strictTypes||(he(M,Z),M.opts.allowUnionTypes||j(M,Z),re(M,M.dataTypes))}function he(M,Z){if(!!Z.length){if(!M.dataTypes.length){M.dataTypes=Z;return}Z.forEach(ie=>{d(M.dataTypes,ie)||k(M,`type "${ie}" not allowed by context "${M.dataTypes.join(",")}"`)}),M.dataTypes=M.dataTypes.filter(ie=>d(Z,ie))}}function j(M,Z){Z.length>1&&!(Z.length===2&&Z.includes("null"))&&k(M,"use allowUnionTypes to allow union type keyword")}function re(M,Z){const ie=M.self.RULES.all;for(const we in ie){const je=ie[we];if(typeof je=="object"&&(0,T.shouldUseRule)(M.schema,je)){const{type:Xe}=je.definition;Xe.length&&!Xe.some(Mt=>W(Z,Mt))&&k(M,`missing type "${Xe.join(",")}" for keyword "${we}"`)}}}function W(M,Z){return M.includes(Z)||Z==="number"&&M.includes("integer")}function d(M,Z){return M.includes(Z)||Z==="integer"&&M.includes("number")}function k(M,Z){Z+=` at "${M.schemaEnv.baseId+M.errSchemaPath}" (strictTypes)`,(0,S.checkStrictMode)(M,Z,M.opts.strictTypes)}class J{constructor(Z,ie,we){if((0,i.validateKeywordUsage)(Z,ie,we),this.gen=Z.gen,this.allErrors=Z.allErrors,this.keyword=we,this.data=Z.data,this.schema=Z.schema[we],this.$data=ie.$data&&Z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,S.schemaRefOrVal)(Z,this.schema,we,this.$data),this.schemaType=ie.schemaType,this.parentSchema=Z.schema,this.params={},this.it=Z,this.def=ie,this.$data)this.schemaCode=Z.gen.const("vSchema",nt(this.$data,Z));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,ie.schemaType,ie.allowUndefined))throw new Error(`${we} value must be ${JSON.stringify(ie.schemaType)}`);("code"in ie?ie.trackErrors:ie.errors!==!1)&&(this.errsCount=Z.gen.const("_errs",l.default.errors))}result(Z,ie,we){this.failResult((0,c.not)(Z),ie,we)}failResult(Z,ie,we){this.gen.if(Z),we?we():this.error(),ie?(this.gen.else(),ie(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Z,ie){this.failResult((0,c.not)(Z),void 0,ie)}fail(Z){if(Z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Z){if(!this.$data)return this.fail(Z);const{schemaCode:ie}=this;this.fail((0,c._)`${ie} !== undefined && (${(0,c.or)(this.invalid$data(),Z)})`)}error(Z,ie,we){if(ie){this.setParams(ie),this._error(Z,we),this.setParams({});return}this._error(Z,we)}_error(Z,ie){(Z?F.reportExtraError:F.reportError)(this,this.def.error,ie)}$dataError(){(0,F.reportError)(this,this.def.$dataError||F.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,F.resetErrorsCount)(this.gen,this.errsCount)}ok(Z){this.allErrors||this.gen.if(Z)}setParams(Z,ie){ie?Object.assign(this.params,Z):this.params=Z}block$data(Z,ie,we=c.nil){this.gen.block(()=>{this.check$data(Z,we),ie()})}check$data(Z=c.nil,ie=c.nil){if(!this.$data)return;const{gen:we,schemaCode:je,schemaType:Xe,def:Mt}=this;we.if((0,c.or)((0,c._)`${je} === undefined`,ie)),Z!==c.nil&&we.assign(Z,!0),(Xe.length||Mt.validateSchema)&&(we.elseIf(this.invalid$data()),this.$dataError(),Z!==c.nil&&we.assign(Z,!1)),we.else()}invalid$data(){const{gen:Z,schemaCode:ie,schemaType:we,def:je,it:Xe}=this;return(0,c.or)(Mt(),Ut());function Mt(){if(we.length){if(!(ie instanceof c.Name))throw new Error("ajv implementation error");const Gt=Array.isArray(we)?we:[we];return(0,c._)`${(0,h.checkDataTypes)(Gt,ie,Xe.opts.strictNumbers,h.DataType.Wrong)}`}return c.nil}function Ut(){if(je.validateSchema){const Gt=Z.scopeValue("validate$data",{ref:je.validateSchema});return(0,c._)`!${Gt}(${ie})`}return c.nil}}subschema(Z,ie){const we=(0,E.getSubschema)(this.it,Z);(0,E.extendSubschemaData)(we,this.it,Z),(0,E.extendSubschemaMode)(we,Z);const je={...this.it,...we,items:void 0,props:void 0};return C(je,ie),je}mergeEvaluated(Z,ie){const{it:we,gen:je}=this;!we.opts.unevaluated||(we.props!==!0&&Z.props!==void 0&&(we.props=S.mergeEvaluated.props(je,Z.props,we.props,ie)),we.items!==!0&&Z.items!==void 0&&(we.items=S.mergeEvaluated.items(je,Z.items,we.items,ie)))}mergeValidEvaluated(Z,ie){const{it:we,gen:je}=this;if(we.opts.unevaluated&&(we.props!==!0||we.items!==!0))return je.if(ie,()=>this.mergeEvaluated(Z,c.Name)),!0}}r.KeywordCxt=J;function Le(M,Z,ie,we){const je=new J(M,ie,Z);"code"in ie?ie.code(je,we):je.$data&&ie.validate?(0,i.funcKeywordCode)(je,ie):"macro"in ie?(0,i.macroKeywordCode)(je,ie):(ie.compile||ie.validate)&&(0,i.funcKeywordCode)(je,ie)}const Me=/^\/(?:[^~]|~0|~1)*$/,gt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function nt(M,{dataLevel:Z,dataNames:ie,dataPathArr:we}){let je,Xe;if(M==="")return l.default.rootData;if(M[0]==="/"){if(!Me.test(M))throw new Error(`Invalid JSON-pointer: ${M}`);je=M,Xe=l.default.rootData}else{const zt=gt.exec(M);if(!zt)throw new Error(`Invalid JSON-pointer: ${M}`);const _t=+zt[1];if(je=zt[2],je==="#"){if(_t>=Z)throw new Error(Gt("property/index",_t));return we[Z-_t]}if(_t>Z)throw new Error(Gt("data",_t));if(Xe=ie[Z-_t],!je)return Xe}let Mt=Xe;const Ut=je.split("/");for(const zt of Ut)zt&&(Xe=(0,c._)`${Xe}${(0,c.getProperty)((0,S.unescapeJsonPointer)(zt))}`,Mt=(0,c._)`${Mt} && ${Xe}`);return Mt;function Gt(zt,_t){return`Cannot access ${zt} ${_t} levels up, current level is ${Z}`}}r.getData=nt},57977:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const e=a(13265),t=a(97927),T=a(41555),h=a(57188);function w(U,B){const{gen:V,keyword:f,schema:p,parentSchema:I,it:y}=U,C=B.macro.call(y.self,p,I,y),N=A(V,f,C);y.opts.validateSchema!==!1&&y.self.validateSchema(C,!0);const R=V.name("valid");U.subschema({schema:C,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${f}`,topSchemaRef:N,compositeRule:!0},R),U.pass(R,()=>U.error(!0))}r.macroKeywordCode=w;function i(U,B){var V;const{gen:f,keyword:p,schema:I,parentSchema:y,$data:C,it:N}=U;l(N,B);const R=!C&&B.compile?B.compile.call(N.self,I,y,N):B.validate,b=A(f,p,R),x=f.let("valid");U.block$data(x,H),U.ok((V=B.valid)!==null&&V!==void 0?V:x);function H(){if(B.errors===!1)ce(),B.modifying&&E(U),He(()=>U.error());else{const De=B.async?te():oe();B.modifying&&E(U),He(()=>c(U,De))}}function te(){const De=f.let("ruleErrs",null);return f.try(()=>ce((0,e._)`await `),et=>f.assign(x,!1).if((0,e._)`${et} instanceof ${N.ValidationError}`,()=>f.assign(De,(0,e._)`${et}.errors`),()=>f.throw(et))),De}function oe(){const De=(0,e._)`${b}.errors`;return f.assign(De,null),ce(e.nil),De}function ce(De=B.async?(0,e._)`await `:e.nil){const et=N.opts.passContext?t.default.this:t.default.self,lt=!("compile"in B&&!C||B.schema===!1);f.assign(x,(0,e._)`${De}${(0,T.callValidateCode)(U,b,et,lt)}`,B.modifying)}function He(De){var et;f.if((0,e.not)((et=B.valid)!==null&&et!==void 0?et:x),De)}}r.funcKeywordCode=i;function E(U){const{gen:B,data:V,it:f}=U;B.if(f.parentData,()=>B.assign(V,(0,e._)`${f.parentData}[${f.parentDataProperty}]`))}function c(U,B){const{gen:V}=U;V.if((0,e._)`Array.isArray(${B})`,()=>{V.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${B} : ${t.default.vErrors}.concat(${B})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,h.extendErrors)(U)},()=>U.error())}function l({schemaEnv:U},B){if(B.async&&!U.$async)throw new Error("async keyword in sync schema")}function A(U,B,V){if(V===void 0)throw new Error(`keyword "${B}" failed to compile`);return U.scopeValue("keyword",typeof V=="function"?{ref:V}:{ref:V,code:(0,e.stringify)(V)})}function S(U,B,V=!1){return!B.length||B.some(f=>f==="array"?Array.isArray(U):f==="object"?U&&typeof U=="object"&&!Array.isArray(U):typeof U==f||V&&typeof U=="undefined")}r.validSchemaType=S;function F({schema:U,opts:B,self:V,errSchemaPath:f},p,I){if(Array.isArray(p.keyword)?!p.keyword.includes(I):p.keyword!==I)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(C=>!Object.prototype.hasOwnProperty.call(U,C)))throw new Error(`parent schema must have dependencies of ${I}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(U[I])){const N=`keyword "${I}" value is invalid at path "${f}": `+V.errorsText(p.validateSchema.errors);if(B.validateSchema==="log")V.logger.error(N);else throw new Error(N)}}r.validateKeywordUsage=F},37675:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const e=a(13265),t=a(9601);function T(i,{keyword:E,schemaProp:c,schema:l,schemaPath:A,errSchemaPath:S,topSchemaRef:F}){if(E!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(E!==void 0){const U=i.schema[E];return c===void 0?{schema:U,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}`,errSchemaPath:`${i.errSchemaPath}/${E}`}:{schema:U[c],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}${(0,e.getProperty)(c)}`,errSchemaPath:`${i.errSchemaPath}/${E}/${(0,t.escapeFragment)(c)}`}}if(l!==void 0){if(A===void 0||S===void 0||F===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:A,topSchemaRef:F,errSchemaPath:S}}throw new Error('either "keyword" or "schema" must be passed')}r.getSubschema=T;function h(i,E,{dataProp:c,dataPropType:l,data:A,dataTypes:S,propertyName:F}){if(A!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:U}=E;if(c!==void 0){const{errorPath:V,dataPathArr:f,opts:p}=E,I=U.let("data",(0,e._)`${E.data}${(0,e.getProperty)(c)}`,!0);B(I),i.errorPath=(0,e.str)`${V}${(0,t.getErrorPath)(c,l,p.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${c}`,i.dataPathArr=[...f,i.parentDataProperty]}if(A!==void 0){const V=A instanceof e.Name?A:U.let("data",A,!0);B(V),F!==void 0&&(i.propertyName=F)}S&&(i.dataTypes=S);function B(V){i.data=V,i.dataLevel=E.dataLevel+1,i.dataTypes=[],E.definedProperties=new Set,i.parentData=E.data,i.dataNames=[...E.dataNames,V]}}r.extendSubschemaData=h;function w(i,{jtdDiscriminator:E,jtdMetadata:c,compositeRule:l,createErrors:A,allErrors:S}){l!==void 0&&(i.compositeRule=l),A!==void 0&&(i.createErrors=A),S!==void 0&&(i.allErrors=S),i.jtdDiscriminator=E,i.jtdMetadata=c}r.extendSubschemaMode=w},97330:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var e=a(48527);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var t=a(13265);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const T=a(70411),h=a(75402),w=a(95346),i=a(52547),E=a(13265),c=a(96511),l=a(24154),A=a(9601),S=a(45190),F=a(19302),U=(he,j)=>new RegExp(he,j);U.code="new RegExp";const B=["removeAdditional","useDefaults","coerceTypes"],V=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},I=200;function y(he){var j,re,W,d,k,J,Le,Me,gt,nt,M,Z,ie,we,je,Xe,Mt,Ut,Gt,zt,_t,on,It,dn,bn;const pn=he.strict,wn=(j=he.code)===null||j===void 0?void 0:j.optimize,pe=wn===!0||wn===void 0?1:wn||0,ue=(W=(re=he.code)===null||re===void 0?void 0:re.regExp)!==null&&W!==void 0?W:U,Ce=(d=he.uriResolver)!==null&&d!==void 0?d:F.default;return{strictSchema:(J=(k=he.strictSchema)!==null&&k!==void 0?k:pn)!==null&&J!==void 0?J:!0,strictNumbers:(Me=(Le=he.strictNumbers)!==null&&Le!==void 0?Le:pn)!==null&&Me!==void 0?Me:!0,strictTypes:(nt=(gt=he.strictTypes)!==null&&gt!==void 0?gt:pn)!==null&&nt!==void 0?nt:"log",strictTuples:(Z=(M=he.strictTuples)!==null&&M!==void 0?M:pn)!==null&&Z!==void 0?Z:"log",strictRequired:(we=(ie=he.strictRequired)!==null&&ie!==void 0?ie:pn)!==null&&we!==void 0?we:!1,code:he.code?{...he.code,optimize:pe,regExp:ue}:{optimize:pe,regExp:ue},loopRequired:(je=he.loopRequired)!==null&&je!==void 0?je:I,loopEnum:(Xe=he.loopEnum)!==null&&Xe!==void 0?Xe:I,meta:(Mt=he.meta)!==null&&Mt!==void 0?Mt:!0,messages:(Ut=he.messages)!==null&&Ut!==void 0?Ut:!0,inlineRefs:(Gt=he.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(zt=he.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(_t=he.addUsedSchema)!==null&&_t!==void 0?_t:!0,validateSchema:(on=he.validateSchema)!==null&&on!==void 0?on:!0,validateFormats:(It=he.validateFormats)!==null&&It!==void 0?It:!0,unicodeRegExp:(dn=he.unicodeRegExp)!==null&&dn!==void 0?dn:!0,int32range:(bn=he.int32range)!==null&&bn!==void 0?bn:!0,uriResolver:Ce}}class C{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...y(j)};const{es5:re,lines:W}=this.opts.code;this.scope=new E.ValueScope({scope:{},prefixes:V,es5:re,lines:W}),this.logger=ce(j.logger);const d=j.validateFormats;j.validateFormats=!1,this.RULES=(0,w.getRules)(),N.call(this,f,j,"NOT SUPPORTED"),N.call(this,p,j,"DEPRECATED","warn"),this._metaOpts=te.call(this),j.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&H.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),b.call(this),j.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:re,schemaId:W}=this.opts;let d=S;W==="id"&&(d={...S},d.id=d.$id,delete d.$id),re&&j&&this.addMetaSchema(d,d[W],!1)}defaultMeta(){const{meta:j,schemaId:re}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[re]||j:void 0}validate(j,re){let W;if(typeof j=="string"){if(W=this.getSchema(j),!W)throw new Error(`no schema with key or ref "${j}"`)}else W=this.compile(j);const d=W(re);return"$async"in W||(this.errors=W.errors),d}compile(j,re){const W=this._addSchema(j,re);return W.validate||this._compileSchemaEnv(W)}compileAsync(j,re){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return d.call(this,j,re);async function d(nt,M){await k.call(this,nt.$schema);const Z=this._addSchema(nt,M);return Z.validate||J.call(this,Z)}async function k(nt){nt&&!this.getSchema(nt)&&await d.call(this,{$ref:nt},!0)}async function J(nt){try{return this._compileSchemaEnv(nt)}catch(M){if(!(M instanceof h.default))throw M;return Le.call(this,M),await Me.call(this,M.missingSchema),J.call(this,nt)}}function Le({missingSchema:nt,missingRef:M}){if(this.refs[nt])throw new Error(`AnySchema ${nt} is loaded but ${M} cannot be resolved`)}async function Me(nt){const M=await gt.call(this,nt);this.refs[nt]||await k.call(this,M.$schema),this.refs[nt]||this.addSchema(M,nt,re)}async function gt(nt){const M=this._loading[nt];if(M)return M;try{return await(this._loading[nt]=W(nt))}finally{delete this._loading[nt]}}}addSchema(j,re,W,d=this.opts.validateSchema){if(Array.isArray(j)){for(const J of j)this.addSchema(J,void 0,W,d);return this}let k;if(typeof j=="object"){const{schemaId:J}=this.opts;if(k=j[J],k!==void 0&&typeof k!="string")throw new Error(`schema ${J} must be string`)}return re=(0,c.normalizeId)(re||k),this._checkUnique(re),this.schemas[re]=this._addSchema(j,W,re,d,!0),this}addMetaSchema(j,re,W=this.opts.validateSchema){return this.addSchema(j,re,!0,W),this}validateSchema(j,re){if(typeof j=="boolean")return!0;let W;if(W=j.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(W,j);if(!d&&re){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return d}getSchema(j){let re;for(;typeof(re=R.call(this,j))=="string";)j=re;if(re===void 0){const{schemaId:W}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:W});if(re=i.resolveSchema.call(this,d,j),!re)return;this.refs[j]=re}return re.validate||this._compileSchemaEnv(re)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const re=R.call(this,j);return typeof re=="object"&&this._cache.delete(re.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const re=j;this._cache.delete(re);let W=j[this.opts.schemaId];return W&&(W=(0,c.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const re of j)this.addKeyword(re);return this}addKeyword(j,re){let W;if(typeof j=="string")W=j,typeof re=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),re.keyword=W);else if(typeof j=="object"&&re===void 0){if(re=j,W=re.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(De.call(this,W,re),!re)return(0,A.eachItem)(W,k=>et.call(this,k)),this;Et.call(this,re);const d={...re,type:(0,l.getJSONTypes)(re.type),schemaType:(0,l.getJSONTypes)(re.schemaType)};return(0,A.eachItem)(W,d.type.length===0?k=>et.call(this,k,d):k=>d.type.forEach(J=>et.call(this,k,d,J))),this}getKeyword(j){const re=this.RULES.all[j];return typeof re=="object"?re.definition:!!re}removeKeyword(j){const{RULES:re}=this;delete re.keywords[j],delete re.all[j];for(const W of re.rules){const d=W.rules.findIndex(k=>k.keyword===j);d>=0&&W.rules.splice(d,1)}return this}addFormat(j,re){return typeof re=="string"&&(re=new RegExp(re)),this.formats[j]=re,this}errorsText(j=this.errors,{separator:re=", ",dataVar:W="data"}={}){return!j||j.length===0?"No errors":j.map(d=>`${W}${d.instancePath} ${d.message}`).reduce((d,k)=>d+re+k)}$dataMetaSchema(j,re){const W=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const d of re){const k=d.split("/").slice(1);let J=j;for(const Le of k)J=J[Le];for(const Le in W){const Me=W[Le];if(typeof Me!="object")continue;const{$data:gt}=Me.definition,nt=J[Le];gt&&nt&&(J[Le]=dt(nt))}}return j}_removeAllSchemas(j,re){for(const W in j){const d=j[W];(!re||re.test(W))&&(typeof d=="string"?delete j[W]:d&&!d.meta&&(this._cache.delete(d.schema),delete j[W]))}}_addSchema(j,re,W,d=this.opts.validateSchema,k=this.opts.addUsedSchema){let J;const{schemaId:Le}=this.opts;if(typeof j=="object")J=j[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let Me=this._cache.get(j);if(Me!==void 0)return Me;W=(0,c.normalizeId)(J||W);const gt=c.getSchemaRefs.call(this,j,W);return Me=new i.SchemaEnv({schema:j,schemaId:Le,meta:re,baseId:W,localRefs:gt}),this._cache.set(Me.schema,Me),k&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=Me),d&&this.validateSchema(j,!0),Me}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):i.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const re=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,j)}finally{this.opts=re}}}r.default=C,C.ValidationError=T.default,C.MissingRefError=h.default;function N(he,j,re,W="error"){for(const d in he){const k=d;k in j&&this.logger[W](`${re}: option ${d}. ${he[k]}`)}}function R(he){return he=(0,c.normalizeId)(he),this.schemas[he]||this.refs[he]}function b(){const he=this.opts.schemas;if(!!he)if(Array.isArray(he))this.addSchema(he);else for(const j in he)this.addSchema(he[j],j)}function x(){for(const he in this.opts.formats){const j=this.opts.formats[he];j&&this.addFormat(he,j)}}function H(he){if(Array.isArray(he)){this.addVocabulary(he);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in he){const re=he[j];re.keyword||(re.keyword=j),this.addKeyword(re)}}function te(){const he={...this.opts};for(const j of B)delete he[j];return he}const oe={log(){},warn(){},error(){}};function ce(he){if(he===!1)return oe;if(he===void 0)return console;if(he.log&&he.warn&&he.error)return he;throw new Error("logger must implement log, warn and error methods")}const He=/^[a-z_$][a-z0-9_$:-]*$/i;function De(he,j){const{RULES:re}=this;if((0,A.eachItem)(he,W=>{if(re.keywords[W])throw new Error(`Keyword ${W} is already defined`);if(!He.test(W))throw new Error(`Keyword ${W} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function et(he,j,re){var W;const d=j==null?void 0:j.post;if(re&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let J=d?k.post:k.rules.find(({type:Me})=>Me===re);if(J||(J={type:re,rules:[]},k.rules.push(J)),k.keywords[he]=!0,!j)return;const Le={keyword:he,definition:{...j,type:(0,l.getJSONTypes)(j.type),schemaType:(0,l.getJSONTypes)(j.schemaType)}};j.before?lt.call(this,J,Le,j.before):J.rules.push(Le),k.all[he]=Le,(W=j.implements)===null||W===void 0||W.forEach(Me=>this.addKeyword(Me))}function lt(he,j,re){const W=he.rules.findIndex(d=>d.keyword===re);W>=0?he.rules.splice(W,0,j):(he.rules.push(j),this.logger.warn(`rule ${re} is not defined`))}function Et(he){let{metaSchema:j}=he;j!==void 0&&(he.$data&&this.opts.$data&&(j=dt(j)),he.validateSchema=this.compile(j,!0))}const Lt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function dt(he){return{anyOf:[he,Lt]}}},87068:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(69378);e.code='require("ajv/dist/runtime/equal").default',r.default=e},92369:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});function a(e){const t=e.length;let T=0,h=0,w;for(;h<t;)T++,w=e.charCodeAt(h++),w>=55296&&w<=56319&&h<t&&(w=e.charCodeAt(h),(w&64512)===56320&&h++);return T}r.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},19302:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(12854);e.code='require("ajv/dist/runtime/uri").default',r.default=e},70411:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});class a extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}r.default=a},59064:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const e=a(13265),t=a(9601),h={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:E,it:c}=i,{items:l}=E;if(!Array.isArray(l)){(0,t.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}w(i,l)}};function w(i,E){const{gen:c,schema:l,data:A,keyword:S,it:F}=i;F.items=!0;const U=c.const("len",(0,e._)`${A}.length`);if(l===!1)i.setParams({len:E.length}),i.pass((0,e._)`${U} <= ${E.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(F,l)){const V=c.var("valid",(0,e._)`${U} <= ${E.length}`);c.if((0,e.not)(V),()=>B(V)),i.ok(V)}function B(V){c.forRange("i",E.length,U,f=>{i.subschema({keyword:S,dataProp:f,dataPropType:t.Type.Num},V),F.allErrors||c.if((0,e.not)(V),()=>c.break())})}}r.validateAdditionalItems=w,r.default=h},8045:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(41555),t=a(13265),T=a(97927),h=a(9601),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:E})=>(0,t._)`{additionalProperty: ${E.additionalProperty}}`},code(E){const{gen:c,schema:l,parentSchema:A,data:S,errsCount:F,it:U}=E;if(!F)throw new Error("ajv implementation error");const{allErrors:B,opts:V}=U;if(U.props=!0,V.removeAdditional!=="all"&&(0,h.alwaysValidSchema)(U,l))return;const f=(0,e.allSchemaProperties)(A.properties),p=(0,e.allSchemaProperties)(A.patternProperties);I(),E.ok((0,t._)`${F} === ${T.default.errors}`);function I(){c.forIn("key",S,b=>{!f.length&&!p.length?N(b):c.if(y(b),()=>N(b))})}function y(b){let x;if(f.length>8){const H=(0,h.schemaRefOrVal)(U,A.properties,"properties");x=(0,e.isOwnProperty)(c,H,b)}else f.length?x=(0,t.or)(...f.map(H=>(0,t._)`${b} === ${H}`)):x=t.nil;return p.length&&(x=(0,t.or)(x,...p.map(H=>(0,t._)`${(0,e.usePattern)(E,H)}.test(${b})`))),(0,t.not)(x)}function C(b){c.code((0,t._)`delete ${S}[${b}]`)}function N(b){if(V.removeAdditional==="all"||V.removeAdditional&&l===!1){C(b);return}if(l===!1){E.setParams({additionalProperty:b}),E.error(),B||c.break();return}if(typeof l=="object"&&!(0,h.alwaysValidSchema)(U,l)){const x=c.name("valid");V.removeAdditional==="failing"?(R(b,x,!1),c.if((0,t.not)(x),()=>{E.reset(),C(b)})):(R(b,x),B||c.if((0,t.not)(x),()=>c.break()))}}function R(b,x,H){const te={keyword:"additionalProperties",dataProp:b,dataPropType:h.Type.Str};H===!1&&Object.assign(te,{compositeRule:!0,createErrors:!1,allErrors:!1}),E.subschema(te,x)}}};r.default=i},47471:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(9601),t={keyword:"allOf",schemaType:"array",code(T){const{gen:h,schema:w,it:i}=T;if(!Array.isArray(w))throw new Error("ajv implementation error");const E=h.name("valid");w.forEach((c,l)=>{if((0,e.alwaysValidSchema)(i,c))return;const A=T.subschema({keyword:"allOf",schemaProp:l},E);T.ok(E),T.mergeEvaluated(A)})}};r.default=t},7179:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(41555),t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e.validateUnion,error:{message:"must match a schema in anyOf"}};r.default=t},8203:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),h={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:w,max:i}})=>i===void 0?(0,e.str)`must contain at least ${w} valid item(s)`:(0,e.str)`must contain at least ${w} and no more than ${i} valid item(s)`,params:({params:{min:w,max:i}})=>i===void 0?(0,e._)`{minContains: ${w}}`:(0,e._)`{minContains: ${w}, maxContains: ${i}}`},code(w){const{gen:i,schema:E,parentSchema:c,data:l,it:A}=w;let S,F;const{minContains:U,maxContains:B}=c;A.opts.next?(S=U===void 0?1:U,F=B):S=1;const V=i.const("len",(0,e._)`${l}.length`);if(w.setParams({min:S,max:F}),F===void 0&&S===0){(0,t.checkStrictMode)(A,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(F!==void 0&&S>F){(0,t.checkStrictMode)(A,'"minContains" > "maxContains" is always invalid'),w.fail();return}if((0,t.alwaysValidSchema)(A,E)){let C=(0,e._)`${V} >= ${S}`;F!==void 0&&(C=(0,e._)`${C} && ${V} <= ${F}`),w.pass(C);return}A.items=!0;const f=i.name("valid");F===void 0&&S===1?I(f,()=>i.if(f,()=>i.break())):S===0?(i.let(f,!0),F!==void 0&&i.if((0,e._)`${l}.length > 0`,p)):(i.let(f,!1),p()),w.result(f,()=>w.reset());function p(){const C=i.name("_valid"),N=i.let("count",0);I(C,()=>i.if(C,()=>y(N)))}function I(C,N){i.forRange("i",0,V,R=>{w.subschema({keyword:"contains",dataProp:R,dataPropType:t.Type.Num,compositeRule:!0},C),N()})}function y(C){i.code((0,e._)`${C}++`),F===void 0?i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0).break()):(i.if((0,e._)`${C} > ${F}`,()=>i.assign(f,!1).break()),S===1?i.assign(f,!0):i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0)))}}};r.default=h},96489:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const e=a(13265),t=a(9601),T=a(41555);r.error={message:({params:{property:c,depsCount:l,deps:A}})=>{const S=l===1?"property":"properties";return(0,e.str)`must have ${S} ${A} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:A,missingProperty:S}})=>(0,e._)`{property: ${c},
    missingProperty: ${S},
    depsCount: ${l},
    deps: ${A}}`};const h={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(c){const[l,A]=w(c);i(c,l),E(c,A)}};function w({schema:c}){const l={},A={};for(const S in c){if(S==="__proto__")continue;const F=Array.isArray(c[S])?l:A;F[S]=c[S]}return[l,A]}function i(c,l=c.schema){const{gen:A,data:S,it:F}=c;if(Object.keys(l).length===0)return;const U=A.let("missing");for(const B in l){const V=l[B];if(V.length===0)continue;const f=(0,T.propertyInData)(A,S,B,F.opts.ownProperties);c.setParams({property:B,depsCount:V.length,deps:V.join(", ")}),F.allErrors?A.if(f,()=>{for(const p of V)(0,T.checkReportMissingProp)(c,p)}):(A.if((0,e._)`${f} && (${(0,T.checkMissingProp)(c,V,U)})`),(0,T.reportMissingProp)(c,U),A.else())}}r.validatePropertyDeps=i;function E(c,l=c.schema){const{gen:A,data:S,keyword:F,it:U}=c,B=A.name("valid");for(const V in l)(0,t.alwaysValidSchema)(U,l[V])||(A.if((0,T.propertyInData)(A,S,V,U.opts.ownProperties),()=>{const f=c.subschema({keyword:F,schemaProp:V},B);c.mergeValidEvaluated(f,B)},()=>A.var(B,!0)),c.ok(B))}r.validateSchemaDeps=E,r.default=h},94134:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),h={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:E,parentSchema:c,it:l}=i;c.then===void 0&&c.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const A=w(l,"then"),S=w(l,"else");if(!A&&!S)return;const F=E.let("valid",!0),U=E.name("_valid");if(B(),i.reset(),A&&S){const f=E.let("ifClause");i.setParams({ifClause:f}),E.if(U,V("then",f),V("else",f))}else A?E.if(U,V("then")):E.if((0,e.not)(U),V("else"));i.pass(F,()=>i.error(!0));function B(){const f=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},U);i.mergeEvaluated(f)}function V(f,p){return()=>{const I=i.subschema({keyword:f},U);E.assign(F,U),i.mergeValidEvaluated(I,F),p?E.assign(p,(0,e._)`${f}`):i.setParams({ifClause:f})}}}};function w(i,E){const c=i.schema[E];return c!==void 0&&!(0,t.alwaysValidSchema)(i,c)}r.default=h},23889:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(59064),t=a(69706),T=a(41719),h=a(46394),w=a(8203),i=a(96489),E=a(32340),c=a(8045),l=a(85612),A=a(80593),S=a(78138),F=a(7179),U=a(71264),B=a(47471),V=a(94134),f=a(34326);function p(I=!1){const y=[S.default,F.default,U.default,B.default,V.default,f.default,E.default,c.default,i.default,l.default,A.default];return I?y.push(t.default,h.default):y.push(e.default,T.default),y.push(w.default),y}r.default=p},41719:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const e=a(13265),t=a(9601),T=a(41555),h={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:E,it:c}=i;if(Array.isArray(E))return w(i,"additionalItems",E);c.items=!0,!(0,t.alwaysValidSchema)(c,E)&&i.ok((0,T.validateArray)(i))}};function w(i,E,c=i.schema){const{gen:l,parentSchema:A,data:S,keyword:F,it:U}=i;f(A),U.opts.unevaluated&&c.length&&U.items!==!0&&(U.items=t.mergeEvaluated.items(l,c.length,U.items));const B=l.name("valid"),V=l.const("len",(0,e._)`${S}.length`);c.forEach((p,I)=>{(0,t.alwaysValidSchema)(U,p)||(l.if((0,e._)`${V} > ${I}`,()=>i.subschema({keyword:F,schemaProp:I,dataProp:I},B)),i.ok(B))});function f(p){const{opts:I,errSchemaPath:y}=U,C=c.length,N=C===p.minItems&&(C===p.maxItems||p[E]===!1);if(I.strictTuples&&!N){const R=`"${F}" is ${C}-tuple, but minItems or maxItems/${E} are not specified or different at path "${y}"`;(0,t.checkStrictMode)(U,R,I.strictTuples)}}}r.validateTuple=w,r.default=h},46394:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),T=a(41555),h=a(59064),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:E}})=>(0,e.str)`must NOT have more than ${E} items`,params:({params:{len:E}})=>(0,e._)`{limit: ${E}}`},code(E){const{schema:c,parentSchema:l,it:A}=E,{prefixItems:S}=l;A.items=!0,!(0,t.alwaysValidSchema)(A,c)&&(S?(0,h.validateAdditionalItems)(E,S):E.ok((0,T.validateArray)(E)))}};r.default=i},78138:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(9601),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(T){const{gen:h,schema:w,it:i}=T;if((0,e.alwaysValidSchema)(i,w)){T.fail();return}const E=h.name("valid");T.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},E),T.failResult(E,()=>T.reset(),()=>T.error())},error:{message:"must NOT be valid"}};r.default=t},71264:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),h={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:w})=>(0,e._)`{passingSchemas: ${w.passing}}`},code(w){const{gen:i,schema:E,parentSchema:c,it:l}=w;if(!Array.isArray(E))throw new Error("ajv implementation error");if(l.opts.discriminator&&c.discriminator)return;const A=E,S=i.let("valid",!1),F=i.let("passing",null),U=i.name("_valid");w.setParams({passing:F}),i.block(B),w.result(S,()=>w.reset(),()=>w.error(!0));function B(){A.forEach((V,f)=>{let p;(0,t.alwaysValidSchema)(l,V)?i.var(U,!0):p=w.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},U),f>0&&i.if((0,e._)`${U} && ${S}`).assign(S,!1).assign(F,(0,e._)`[${F}, ${f}]`).else(),i.if(U,()=>{i.assign(S,!0),i.assign(F,f),p&&w.mergeEvaluated(p,e.Name)})})}}};r.default=h},80593:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(41555),t=a(13265),T=a(9601),h=a(9601),w={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,data:l,parentSchema:A,it:S}=i,{opts:F}=S,U=(0,e.allSchemaProperties)(c),B=U.filter(N=>(0,T.alwaysValidSchema)(S,c[N]));if(U.length===0||B.length===U.length&&(!S.opts.unevaluated||S.props===!0))return;const V=F.strictSchema&&!F.allowMatchingProperties&&A.properties,f=E.name("valid");S.props!==!0&&!(S.props instanceof t.Name)&&(S.props=(0,h.evaluatedPropsToName)(E,S.props));const{props:p}=S;I();function I(){for(const N of U)V&&y(N),S.allErrors?C(N):(E.var(f,!0),C(N),E.if(f))}function y(N){for(const R in V)new RegExp(N).test(R)&&(0,T.checkStrictMode)(S,`property ${R} matches pattern ${N} (use allowMatchingProperties)`)}function C(N){E.forIn("key",l,R=>{E.if((0,t._)`${(0,e.usePattern)(i,N)}.test(${R})`,()=>{const b=B.includes(N);b||i.subschema({keyword:"patternProperties",schemaProp:N,dataProp:R,dataPropType:h.Type.Str},f),S.opts.unevaluated&&p!==!0?E.assign((0,t._)`${p}[${R}]`,!0):!b&&!S.allErrors&&E.if((0,t.not)(f),()=>E.break())})})}}};r.default=w},69706:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(41719),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:T=>(0,e.validateTuple)(T,"items")};r.default=t},85612:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(48527),t=a(41555),T=a(9601),h=a(8045),w={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,parentSchema:l,data:A,it:S}=i;S.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&h.default.code(new e.KeywordCxt(S,h.default,"additionalProperties"));const F=(0,t.allSchemaProperties)(c);for(const p of F)S.definedProperties.add(p);S.opts.unevaluated&&F.length&&S.props!==!0&&(S.props=T.mergeEvaluated.props(E,(0,T.toHash)(F),S.props));const U=F.filter(p=>!(0,T.alwaysValidSchema)(S,c[p]));if(U.length===0)return;const B=E.name("valid");for(const p of U)V(p)?f(p):(E.if((0,t.propertyInData)(E,A,p,S.opts.ownProperties)),f(p),S.allErrors||E.else().var(B,!0),E.endIf()),i.it.definedProperties.add(p),i.ok(B);function V(p){return S.opts.useDefaults&&!S.compositeRule&&c[p].default!==void 0}function f(p){i.subschema({keyword:"properties",schemaProp:p,dataProp:p},B)}}};r.default=w},32340:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),h={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:w})=>(0,e._)`{propertyName: ${w.propertyName}}`},code(w){const{gen:i,schema:E,data:c,it:l}=w;if((0,t.alwaysValidSchema)(l,E))return;const A=i.name("valid");i.forIn("key",c,S=>{w.setParams({propertyName:S}),w.subschema({keyword:"propertyNames",data:S,dataTypes:["string"],propertyName:S,compositeRule:!0},A),i.if((0,e.not)(A),()=>{w.error(!0),l.allErrors||i.break()})}),w.ok(A)}};r.default=h},34326:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(9601),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:T,parentSchema:h,it:w}){h.if===void 0&&(0,e.checkStrictMode)(w,`"${T}" without "if" is ignored`)}};r.default=t},41555:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const e=a(13265),t=a(9601),T=a(97927),h=a(9601);function w(y,C){const{gen:N,data:R,it:b}=y;N.if(S(N,R,C,b.opts.ownProperties),()=>{y.setParams({missingProperty:(0,e._)`${C}`},!0),y.error()})}r.checkReportMissingProp=w;function i({gen:y,data:C,it:{opts:N}},R,b){return(0,e.or)(...R.map(x=>(0,e.and)(S(y,C,x,N.ownProperties),(0,e._)`${b} = ${x}`)))}r.checkMissingProp=i;function E(y,C){y.setParams({missingProperty:C},!0),y.error()}r.reportMissingProp=E;function c(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}r.hasPropFunc=c;function l(y,C,N){return(0,e._)`${c(y)}.call(${C}, ${N})`}r.isOwnProperty=l;function A(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} !== undefined`;return R?(0,e._)`${b} && ${l(y,C,N)}`:b}r.propertyInData=A;function S(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} === undefined`;return R?(0,e.or)(b,(0,e.not)(l(y,C,N))):b}r.noPropertyInData=S;function F(y){return y?Object.keys(y).filter(C=>C!=="__proto__"):[]}r.allSchemaProperties=F;function U(y,C){return F(C).filter(N=>!(0,t.alwaysValidSchema)(y,C[N]))}r.schemaProperties=U;function B({schemaCode:y,data:C,it:{gen:N,topSchemaRef:R,schemaPath:b,errorPath:x},it:H},te,oe,ce){const He=ce?(0,e._)`${y}, ${C}, ${R}${b}`:C,De=[[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,x)],[T.default.parentData,H.parentData],[T.default.parentDataProperty,H.parentDataProperty],[T.default.rootData,T.default.rootData]];H.opts.dynamicRef&&De.push([T.default.dynamicAnchors,T.default.dynamicAnchors]);const et=(0,e._)`${He}, ${N.object(...De)}`;return oe!==e.nil?(0,e._)`${te}.call(${oe}, ${et})`:(0,e._)`${te}(${et})`}r.callValidateCode=B;const V=(0,e._)`new RegExp`;function f({gen:y,it:{opts:C}},N){const R=C.unicodeRegExp?"u":"",{regExp:b}=C.code,x=b(N,R);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,e._)`${b.code==="new RegExp"?V:(0,h.useFunc)(y,b)}(${N}, ${R})`})}r.usePattern=f;function p(y){const{gen:C,data:N,keyword:R,it:b}=y,x=C.name("valid");if(b.allErrors){const te=C.let("valid",!0);return H(()=>C.assign(te,!1)),te}return C.var(x,!0),H(()=>C.break()),x;function H(te){const oe=C.const("len",(0,e._)`${N}.length`);C.forRange("i",0,oe,ce=>{y.subschema({keyword:R,dataProp:ce,dataPropType:t.Type.Num},x),C.if((0,e.not)(x),te)})}}r.validateArray=p;function I(y){const{gen:C,schema:N,keyword:R,it:b}=y;if(!Array.isArray(N))throw new Error("ajv implementation error");if(N.some(oe=>(0,t.alwaysValidSchema)(b,oe))&&!b.opts.unevaluated)return;const H=C.let("valid",!1),te=C.name("_valid");C.block(()=>N.forEach((oe,ce)=>{const He=y.subschema({keyword:R,schemaProp:ce,compositeRule:!0},te);C.assign(H,(0,e._)`${H} || ${te}`),y.mergeValidEvaluated(He,te)||C.if((0,e.not)(H))})),y.result(H,()=>y.reset(),()=>y.error(!0))}r.validateUnion=I},51932:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});const a={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};r.default=a},83978:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51932),t=a(21681),T=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];r.default=T},21681:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const e=a(75402),t=a(41555),T=a(13265),h=a(97927),w=a(52547),i=a(9601),E={keyword:"$ref",schemaType:"string",code(A){const{gen:S,schema:F,it:U}=A,{baseId:B,schemaEnv:V,validateName:f,opts:p,self:I}=U,{root:y}=V;if((F==="#"||F==="#/")&&B===y.baseId)return N();const C=w.resolveRef.call(I,y,B,F);if(C===void 0)throw new e.default(U.opts.uriResolver,B,F);if(C instanceof w.SchemaEnv)return R(C);return b(C);function N(){if(V===y)return l(A,f,V,V.$async);const x=S.scopeValue("root",{ref:y});return l(A,(0,T._)`${x}.validate`,y,y.$async)}function R(x){const H=c(A,x);l(A,H,x,x.$async)}function b(x){const H=S.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,T.stringify)(x)}:{ref:x}),te=S.name("valid"),oe=A.subschema({schema:x,dataTypes:[],schemaPath:T.nil,topSchemaRef:H,errSchemaPath:F},te);A.mergeEvaluated(oe),A.ok(te)}}};function c(A,S){const{gen:F}=A;return S.validate?F.scopeValue("validate",{ref:S.validate}):(0,T._)`${F.scopeValue("wrapper",{ref:S})}.validate`}r.getValidate=c;function l(A,S,F,U){const{gen:B,it:V}=A,{allErrors:f,schemaEnv:p,opts:I}=V,y=I.passContext?h.default.this:T.nil;U?C():N();function C(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=B.let("valid");B.try(()=>{B.code((0,T._)`await ${(0,t.callValidateCode)(A,S,y)}`),b(S),f||B.assign(x,!0)},H=>{B.if((0,T._)`!(${H} instanceof ${V.ValidationError})`,()=>B.throw(H)),R(H),f||B.assign(x,!1)}),A.ok(x)}function N(){A.result((0,t.callValidateCode)(A,S,y),()=>b(S),()=>R(S))}function R(x){const H=(0,T._)`${x}.errors`;B.assign(h.default.vErrors,(0,T._)`${h.default.vErrors} === null ? ${H} : ${h.default.vErrors}.concat(${H})`),B.assign(h.default.errors,(0,T._)`${h.default.vErrors}.length`)}function b(x){var H;if(!V.opts.unevaluated)return;const te=(H=F==null?void 0:F.validate)===null||H===void 0?void 0:H.evaluated;if(V.props!==!0)if(te&&!te.dynamicProps)te.props!==void 0&&(V.props=i.mergeEvaluated.props(B,te.props,V.props));else{const oe=B.var("props",(0,T._)`${x}.evaluated.props`);V.props=i.mergeEvaluated.props(B,oe,V.props,T.Name)}if(V.items!==!0)if(te&&!te.dynamicItems)te.items!==void 0&&(V.items=i.mergeEvaluated.items(B,te.items,V.items));else{const oe=B.var("items",(0,T._)`${x}.evaluated.items`);V.items=i.mergeEvaluated.items(B,oe,V.items,T.Name)}}}r.callRef=l,r.default=E},60706:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(33868),T=a(52547),h=a(9601),i={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:E,tagName:c}})=>E===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:E,tag:c,tagName:l}})=>(0,e._)`{error: ${E}, tag: ${l}, tagValue: ${c}}`},code(E){const{gen:c,data:l,schema:A,parentSchema:S,it:F}=E,{oneOf:U}=S;if(!F.opts.discriminator)throw new Error("discriminator: requires discriminator option");const B=A.propertyName;if(typeof B!="string")throw new Error("discriminator: requires propertyName");if(A.mapping)throw new Error("discriminator: mapping is not supported");if(!U)throw new Error("discriminator: requires oneOf keyword");const V=c.let("valid",!1),f=c.const("tag",(0,e._)`${l}${(0,e.getProperty)(B)}`);c.if((0,e._)`typeof ${f} == "string"`,()=>p(),()=>E.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:B})),E.ok(V);function p(){const C=y();c.if(!1);for(const N in C)c.elseIf((0,e._)`${f} === ${N}`),c.assign(V,I(C[N]));c.else(),E.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:B}),c.endIf()}function I(C){const N=c.name("valid"),R=E.subschema({keyword:"oneOf",schemaProp:C},N);return E.mergeEvaluated(R,e.Name),N}function y(){var C;const N={},R=x(S);let b=!0;for(let oe=0;oe<U.length;oe++){let ce=U[oe];(ce==null?void 0:ce.$ref)&&!(0,h.schemaHasRulesButRef)(ce,F.self.RULES)&&(ce=T.resolveRef.call(F.self,F.schemaEnv.root,F.baseId,ce==null?void 0:ce.$ref),ce instanceof T.SchemaEnv&&(ce=ce.schema));const He=(C=ce==null?void 0:ce.properties)===null||C===void 0?void 0:C[B];if(typeof He!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${B}"`);b=b&&(R||x(ce)),H(He,oe)}if(!b)throw new Error(`discriminator: "${B}" must be required`);return N;function x({required:oe}){return Array.isArray(oe)&&oe.includes(B)}function H(oe,ce){if(oe.const)te(oe.const,ce);else if(oe.enum)for(const He of oe.enum)te(He,ce);else throw new Error(`discriminator: "properties/${B}" must have "const" or "enum"`)}function te(oe,ce){if(typeof oe!="string"||oe in N)throw new Error(`discriminator: "${B}" values must be unique strings`);N[oe]=ce}}}};r.default=i},33868:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0;var a;(function(e){e.Tag="tag",e.Mapping="mapping"})(a=r.DiscrError||(r.DiscrError={}))},65219:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(83978),t=a(62135),T=a(23889),h=a(47600),w=a(53959),i=[e.default,t.default,(0,T.default)(),h.default,w.metadataVocabulary,w.contentVocabulary];r.default=i},75157:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),T={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must match format "${h}"`,params:({schemaCode:h})=>(0,e._)`{format: ${h}}`},code(h,w){const{gen:i,data:E,$data:c,schema:l,schemaCode:A,it:S}=h,{opts:F,errSchemaPath:U,schemaEnv:B,self:V}=S;if(!F.validateFormats)return;c?f():p();function f(){const I=i.scopeValue("formats",{ref:V.formats,code:F.code.formats}),y=i.const("fDef",(0,e._)`${I}[${A}]`),C=i.let("fType"),N=i.let("format");i.if((0,e._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>i.assign(C,(0,e._)`${y}.type || "string"`).assign(N,(0,e._)`${y}.validate`),()=>i.assign(C,(0,e._)`"string"`).assign(N,y)),h.fail$data((0,e.or)(R(),b()));function R(){return F.strictSchema===!1?e.nil:(0,e._)`${A} && !${N}`}function b(){const x=B.$async?(0,e._)`(${y}.async ? await ${N}(${E}) : ${N}(${E}))`:(0,e._)`${N}(${E})`,H=(0,e._)`(typeof ${N} == "function" ? ${x} : ${N}.test(${E}))`;return(0,e._)`${N} && ${N} !== true && ${C} === ${w} && !${H}`}}function p(){const I=V.formats[l];if(!I){R();return}if(I===!0)return;const[y,C,N]=b(I);y===w&&h.pass(x());function R(){if(F.strictSchema===!1){V.logger.warn(H());return}throw new Error(H());function H(){return`unknown format "${l}" ignored in schema at path "${U}"`}}function b(H){const te=H instanceof RegExp?(0,e.regexpCode)(H):F.code.formats?(0,e._)`${F.code.formats}${(0,e.getProperty)(l)}`:void 0,oe=i.scopeValue("formats",{key:l,ref:H,code:te});return typeof H=="object"&&!(H instanceof RegExp)?[H.type||"string",H.validate,(0,e._)`${oe}.validate`]:["string",H,oe]}function x(){if(typeof I=="object"&&!(I instanceof RegExp)&&I.async){if(!B.$async)throw new Error("async format in sync schema");return(0,e._)`await ${N}(${E})`}return typeof C=="function"?(0,e._)`${N}(${E})`:(0,e._)`${N}.test(${E})`}}}};r.default=T},47600:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const t=[a(75157).default];r.default=t},53959:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},8896:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),T=a(87068),w={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:E,data:c,$data:l,schemaCode:A,schema:S}=i;l||S&&typeof S=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(E,T.default)}(${c}, ${A})`):i.fail((0,e._)`${S} !== ${c}`)}};r.default=w},48363:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),T=a(87068),w={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:E,data:c,$data:l,schema:A,schemaCode:S,it:F}=i;if(!l&&A.length===0)throw new Error("enum must have non-empty array");const U=A.length>=F.opts.loopEnum;let B;const V=()=>B!=null?B:B=(0,t.useFunc)(E,T.default);let f;if(U||l)f=E.let("valid"),i.block$data(f,p);else{if(!Array.isArray(A))throw new Error("ajv implementation error");const y=E.const("vSchema",S);f=(0,e.or)(...A.map((C,N)=>I(y,N)))}i.pass(f);function p(){E.assign(f,!1),E.forOf("v",S,y=>E.if((0,e._)`${V()}(${c}, ${y})`,()=>E.assign(f,!0).break()))}function I(y,C){const N=A[C];return typeof N=="object"&&N!==null?(0,e._)`${V()}(${c}, ${y}[${C}])`:(0,e._)`${c} === ${N}`}}};r.default=w},62135:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51373),t=a(76350),T=a(70423),h=a(27492),w=a(35898),i=a(71026),E=a(19904),c=a(2709),l=a(8896),A=a(48363),S=[e.default,t.default,T.default,h.default,w.default,i.default,E.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,A.default];r.default=S},19904:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),T={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} items`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxItems"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`${i}.length ${c} ${E}`)}};r.default=T},70423:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=a(9601),T=a(92369),w={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:E}){const c=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${E} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:E,data:c,schemaCode:l,it:A}=i,S=E==="maxLength"?e.operators.GT:e.operators.LT,F=A.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,t.useFunc)(i.gen,T.default)}(${c})`;i.fail$data((0,e._)`${F} ${S} ${l}`)}};r.default=w},51373:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),t=e.operators,T={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},h={message:({keyword:i,schemaCode:E})=>(0,e.str)`must be ${T[i].okStr} ${E}`,params:({keyword:i,schemaCode:E})=>(0,e._)`{comparison: ${T[i].okStr}, limit: ${E}}`},w={keyword:Object.keys(T),type:"number",schemaType:"number",$data:!0,error:h,code(i){const{keyword:E,data:c,schemaCode:l}=i;i.fail$data((0,e._)`${c} ${T[E].fail} ${l} || isNaN(${c})`)}};r.default=w},35898:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),T={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} properties`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxProperties"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`Object.keys(${i}).length ${c} ${E}`)}};r.default=T},76350:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13265),T={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must be multiple of ${h}`,params:({schemaCode:h})=>(0,e._)`{multipleOf: ${h}}`},code(h){const{gen:w,data:i,schemaCode:E,it:c}=h,l=c.opts.multipleOfPrecision,A=w.let("res"),S=l?(0,e._)`Math.abs(Math.round(${A}) - ${A}) > 1e-${l}`:(0,e._)`${A} !== parseInt(${A})`;h.fail$data((0,e._)`(${E} === 0 || (${A} = ${i}/${E}, ${S}))`)}};r.default=T},27492:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(41555),t=a(13265),h={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:w})=>(0,t.str)`must match pattern "${w}"`,params:({schemaCode:w})=>(0,t._)`{pattern: ${w}}`},code(w){const{data:i,$data:E,schema:c,schemaCode:l,it:A}=w,S=A.opts.unicodeRegExp?"u":"",F=E?(0,t._)`(new RegExp(${l}, ${S}))`:(0,e.usePattern)(w,c);w.fail$data((0,t._)`!${F}.test(${i})`)}};r.default=h},71026:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(41555),t=a(13265),T=a(9601),w={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:E,schema:c,schemaCode:l,data:A,$data:S,it:F}=i,{opts:U}=F;if(!S&&c.length===0)return;const B=c.length>=U.loopRequired;if(F.allErrors?V():f(),U.strictRequired){const y=i.parentSchema.properties,{definedProperties:C}=i.it;for(const N of c)if((y==null?void 0:y[N])===void 0&&!C.has(N)){const R=F.schemaEnv.baseId+F.errSchemaPath,b=`required property "${N}" is not defined at "${R}" (strictRequired)`;(0,T.checkStrictMode)(F,b,F.opts.strictRequired)}}function V(){if(B||S)i.block$data(t.nil,p);else for(const y of c)(0,e.checkReportMissingProp)(i,y)}function f(){const y=E.let("missing");if(B||S){const C=E.let("valid",!0);i.block$data(C,()=>I(y,C)),i.ok(C)}else E.if((0,e.checkMissingProp)(i,c,y)),(0,e.reportMissingProp)(i,y),E.else()}function p(){E.forOf("prop",l,y=>{i.setParams({missingProperty:y}),E.if((0,e.noPropertyInData)(E,A,y,U.ownProperties),()=>i.error())})}function I(y,C){i.setParams({missingProperty:y}),E.forOf(y,l,()=>{E.assign(C,(0,e.propertyInData)(E,A,y,U.ownProperties)),E.if((0,t.not)(C),()=>{i.error(),E.break()})},t.nil)}}};r.default=w},2709:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(24154),t=a(13265),T=a(9601),h=a(87068),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:E,j:c}})=>(0,t.str)`must NOT have duplicate items (items ## ${c} and ${E} are identical)`,params:({params:{i:E,j:c}})=>(0,t._)`{i: ${E}, j: ${c}}`},code(E){const{gen:c,data:l,$data:A,schema:S,parentSchema:F,schemaCode:U,it:B}=E;if(!A&&!S)return;const V=c.let("valid"),f=F.items?(0,e.getSchemaTypes)(F.items):[];E.block$data(V,p,(0,t._)`${U} === false`),E.ok(V);function p(){const N=c.let("i",(0,t._)`${l}.length`),R=c.let("j");E.setParams({i:N,j:R}),c.assign(V,!0),c.if((0,t._)`${N} > 1`,()=>(I()?y:C)(N,R))}function I(){return f.length>0&&!f.some(N=>N==="object"||N==="array")}function y(N,R){const b=c.name("item"),x=(0,e.checkDataTypes)(f,b,B.opts.strictNumbers,e.DataType.Wrong),H=c.const("indices",(0,t._)`{}`);c.for((0,t._)`;${N}--;`,()=>{c.let(b,(0,t._)`${l}[${N}]`),c.if(x,(0,t._)`continue`),f.length>1&&c.if((0,t._)`typeof ${b} == "string"`,(0,t._)`${b} += "_"`),c.if((0,t._)`typeof ${H}[${b}] == "number"`,()=>{c.assign(R,(0,t._)`${H}[${b}]`),E.error(),c.assign(V,!1).break()}).code((0,t._)`${H}[${b}] = ${N}`)})}function C(N,R){const b=(0,T.useFunc)(c,h.default),x=c.name("outer");c.label(x).for((0,t._)`;${N}--;`,()=>c.for((0,t._)`${R} = ${N}; ${R}--;`,()=>c.if((0,t._)`${b}(${l}[${N}], ${l}[${R}])`,()=>{E.error(),c.assign(V,!1).break(x)})))}}};r.default=i},84523:function(Se,r,a){a.d(r,{Ic:function(){return st},X4:function(){return ht},al:function(){return la},cb:function(){return zr},PE:function(){return Zr},NE:function(){return mn},Qu:function(){return pt},G1:function(){return gn},mG:function(){return ke},cG:function(){return se},tN:function(){return Qn}});var e=a(66119),t=a(2784),T=a(79692),h=a(60905),w=a(43434),i=a(90436),E=a(86689),c=a(95544),l=a(85256),A=a(80030),S=a(7089),F=a(11776),U=a(38402),B=a(80204),V=a(15459),f=a(59740),p=a(7896),I=a(6277),y=a(41128),C=a(27556),N=a(72379);function R(X,ae){var $e=t.memo(t.forwardRef(function(Ne,Ze){return t.createElement(N.Z,(0,p.Z)({ref:Ze},Ne),X)}));return $e.muiName=N.Z.muiName,$e}var b=R(t.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),x=R(t.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),H=R(t.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),te=R(t.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),oe=R(t.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ce=a(61837),He=a(97580),De=function(ae){var $e=ae.palette.type==="light"?y._j:y.$n,Ne=ae.palette.type==="light"?y.$n:y._j;return{root:(0,p.Z)({},ae.typography.body2,{borderRadius:ae.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:$e(ae.palette.success.main,.6),backgroundColor:Ne(ae.palette.success.main,.9),"& $icon":{color:ae.palette.success.main}},standardInfo:{color:$e(ae.palette.info.main,.6),backgroundColor:Ne(ae.palette.info.main,.9),"& $icon":{color:ae.palette.info.main}},standardWarning:{color:$e(ae.palette.warning.main,.6),backgroundColor:Ne(ae.palette.warning.main,.9),"& $icon":{color:ae.palette.warning.main}},standardError:{color:$e(ae.palette.error.main,.6),backgroundColor:Ne(ae.palette.error.main,.9),"& $icon":{color:ae.palette.error.main}},outlinedSuccess:{color:$e(ae.palette.success.main,.6),border:"1px solid ".concat(ae.palette.success.main),"& $icon":{color:ae.palette.success.main}},outlinedInfo:{color:$e(ae.palette.info.main,.6),border:"1px solid ".concat(ae.palette.info.main),"& $icon":{color:ae.palette.info.main}},outlinedWarning:{color:$e(ae.palette.warning.main,.6),border:"1px solid ".concat(ae.palette.warning.main),"& $icon":{color:ae.palette.warning.main}},outlinedError:{color:$e(ae.palette.error.main,.6),border:"1px solid ".concat(ae.palette.error.main),"& $icon":{color:ae.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:ae.typography.fontWeightMedium,backgroundColor:ae.palette.success.main},filledInfo:{color:"#fff",fontWeight:ae.typography.fontWeightMedium,backgroundColor:ae.palette.info.main},filledWarning:{color:"#fff",fontWeight:ae.typography.fontWeightMedium,backgroundColor:ae.palette.warning.main},filledError:{color:"#fff",fontWeight:ae.typography.fontWeightMedium,backgroundColor:ae.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0",display:"flex",flexDirection:"column",justifyContent:"center"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},et={success:t.createElement(b,{fontSize:"inherit"}),warning:t.createElement(x,{fontSize:"inherit"}),error:t.createElement(H,{fontSize:"inherit"}),info:t.createElement(te,{fontSize:"inherit"})},lt=t.createElement(oe,{fontSize:"small"}),Et=t.forwardRef(function(ae,$e){var Ne=ae.action,Ze=ae.children,Ue=ae.classes,Qe=ae.className,rt=ae.closeText,yt=rt===void 0?"Close":rt,at=ae.color,mt=ae.icon,Ct=ae.iconMapping,Ft=Ct===void 0?et:Ct,At=ae.onClose,rn=ae.role,un=rn===void 0?"alert":rn,hn=ae.severity,en=hn===void 0?"success":hn,Tn=ae.variant,Nr=Tn===void 0?"standard":Tn,na=(0,f.Z)(ae,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return t.createElement(C.Z,(0,p.Z)({role:un,square:!0,elevation:0,className:(0,I.Z)(Ue.root,Ue["".concat(Nr).concat((0,He.Z)(at||en))],Qe),ref:$e},na),mt!==!1?t.createElement("div",{className:Ue.icon},mt||Ft[en]||et[en]):null,t.createElement("div",{className:Ue.message},Ze),Ne!=null?t.createElement("div",{className:Ue.action},Ne):null,Ne==null&&At?t.createElement("div",{className:Ue.action},t.createElement(ce.Z,{size:"small","aria-label":yt,title:yt,color:"inherit",onClick:At},lt)):null)}),Lt=(0,V.Z)(De,{name:"MuiAlert"})(Et),dt=a(4989),he=a(11377),j=a(28316),re=a(4812),W=a(28367),d=a(14701),k=a(92467);function J(X){for(var ae=arguments.length,$e=Array(ae>1?ae-1:0),Ne=1;Ne<ae;Ne++)$e[Ne-1]=arguments[Ne];if(!1)var Ze,Ue;throw Error("[Immer] minified error nr: "+X+($e.length?" "+$e.map(function(Qe){return"'"+Qe+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Le(X){return!!X&&!!X[sn]}function Me(X){return!!X&&(function(ae){if(!ae||typeof ae!="object")return!1;var $e=Object.getPrototypeOf(ae);if($e===null)return!0;var Ne=Object.hasOwnProperty.call($e,"constructor")&&$e.constructor;return Ne===Object||typeof Ne=="function"&&Function.toString.call(Ne)===va}(X)||Array.isArray(X)||!!X[Ir]||!!X.constructor[Ir]||Xe(X)||Mt(X))}function gt(X){return Le(X)||J(23,X),X[sn].t}function nt(X,ae,$e){$e===void 0&&($e=!1),M(X)===0?($e?Object.keys:Er)(X).forEach(function(Ne){$e&&typeof Ne=="symbol"||ae(Ne,X[Ne],X)}):X.forEach(function(Ne,Ze){return ae(Ze,Ne,X)})}function M(X){var ae=X[sn];return ae?ae.i>3?ae.i-4:ae.i:Array.isArray(X)?1:Xe(X)?2:Mt(X)?3:0}function Z(X,ae){return M(X)===2?X.has(ae):Object.prototype.hasOwnProperty.call(X,ae)}function ie(X,ae){return M(X)===2?X.get(ae):X[ae]}function we(X,ae,$e){var Ne=M(X);Ne===2?X.set(ae,$e):Ne===3?(X.delete(ae),X.add($e)):X[ae]=$e}function je(X,ae){return X===ae?X!==0||1/X==1/ae:X!=X&&ae!=ae}function Xe(X){return vr&&X instanceof Map}function Mt(X){return Jn&&X instanceof Set}function Ut(X){return X.o||X.t}function Gt(X){if(Array.isArray(X))return Array.prototype.slice.call(X);var ae=Gr(X);delete ae[sn];for(var $e=Er(ae),Ne=0;Ne<$e.length;Ne++){var Ze=$e[Ne],Ue=ae[Ze];Ue.writable===!1&&(Ue.writable=!0,Ue.configurable=!0),(Ue.get||Ue.set)&&(ae[Ze]={configurable:!0,writable:!0,enumerable:Ue.enumerable,value:X[Ze]})}return Object.create(Object.getPrototypeOf(X),ae)}function zt(X,ae){return ae===void 0&&(ae=!1),on(X)||Le(X)||!Me(X)||(M(X)>1&&(X.set=X.add=X.clear=X.delete=_t),Object.freeze(X),ae&&nt(X,function($e,Ne){return zt(Ne,!0)},!0)),X}function _t(){J(2)}function on(X){return X==null||typeof X!="object"||Object.isFrozen(X)}function It(X){var ae=Vr[X];return ae||J(18,X),ae}function dn(X,ae){Vr[X]||(Vr[X]=ae)}function bn(){return jn}function pn(X,ae){ae&&(It("Patches"),X.u=[],X.s=[],X.v=ae)}function wn(X){pe(X),X.p.forEach(Ce),X.p=null}function pe(X){X===jn&&(jn=X.l)}function ue(X){return jn={p:[],l:jn,h:X,m:!0,_:0}}function Ce(X){var ae=X[sn];ae.i===0||ae.i===1?ae.j():ae.O=!0}function Be(X,ae){ae._=ae.p.length;var $e=ae.p[0],Ne=X!==void 0&&X!==$e;return ae.h.g||It("ES5").S(ae,X,Ne),Ne?($e[sn].P&&(wn(ae),J(4)),Me(X)&&(X=Ke(ae,X),ae.l||Ht(ae,X)),ae.u&&It("Patches").M($e[sn],X,ae.u,ae.s)):X=Ke(ae,$e,[]),wn(ae),ae.u&&ae.v(ae.u,ae.s),X!==Cr?X:void 0}function Ke(X,ae,$e){if(on(ae))return ae;var Ne=ae[sn];if(!Ne)return nt(ae,function(Ue,Qe){return wt(X,Ne,ae,Ue,Qe,$e)},!0),ae;if(Ne.A!==X)return ae;if(!Ne.P)return Ht(X,Ne.t,!0),Ne.t;if(!Ne.I){Ne.I=!0,Ne.A._--;var Ze=Ne.i===4||Ne.i===5?Ne.o=Gt(Ne.k):Ne.o;nt(Ne.i===3?new Set(Ze):Ze,function(Ue,Qe){return wt(X,Ne,Ze,Ue,Qe,$e)}),Ht(X,Ze,!1),$e&&X.u&&It("Patches").R(Ne,$e,X.u,X.s)}return Ne.o}function wt(X,ae,$e,Ne,Ze,Ue){if(Le(Ze)){var Qe=Ke(X,Ze,Ue&&ae&&ae.i!==3&&!Z(ae.D,Ne)?Ue.concat(Ne):void 0);if(we($e,Ne,Qe),!Le(Qe))return;X.m=!1}if(Me(Ze)&&!on(Ze)){if(!X.h.F&&X._<1)return;Ke(X,Ze),ae&&ae.A.l||Ht(X,Ze)}}function Ht(X,ae,$e){$e===void 0&&($e=!1),X.h.F&&X.m&&zt(ae,$e)}function ot(X,ae){var $e=X[sn];return($e?Ut($e):X)[ae]}function Rt(X,ae){if(ae in X)for(var $e=Object.getPrototypeOf(X);$e;){var Ne=Object.getOwnPropertyDescriptor($e,ae);if(Ne)return Ne;$e=Object.getPrototypeOf($e)}}function Dt(X){X.P||(X.P=!0,X.l&&Dt(X.l))}function tn(X){X.o||(X.o=Gt(X.t))}function Rn(X,ae,$e){var Ne=Xe(ae)?It("MapSet").N(ae,$e):Mt(ae)?It("MapSet").T(ae,$e):X.g?function(Ze,Ue){var Qe=Array.isArray(Ze),rt={i:Qe?1:0,A:Ue?Ue.A:bn(),P:!1,I:!1,D:{},l:Ue,t:Ze,k:null,o:null,j:null,C:!1},yt=rt,at=kr;Qe&&(yt=[rt],at=Mr);var mt=Proxy.revocable(yt,at),Ct=mt.revoke,Ft=mt.proxy;return rt.k=Ft,rt.j=Ct,Ft}(ae,$e):It("ES5").J(ae,$e);return($e?$e.A:bn()).p.push(Ne),Ne}function In(X){return Le(X)||J(22,X),function ae($e){if(!Me($e))return $e;var Ne,Ze=$e[sn],Ue=M($e);if(Ze){if(!Ze.P&&(Ze.i<4||!It("ES5").K(Ze)))return Ze.t;Ze.I=!0,Ne=On($e,Ue),Ze.I=!1}else Ne=On($e,Ue);return nt(Ne,function(Qe,rt){Ze&&ie(Ze.t,Qe)===rt||we(Ne,Qe,ae(rt))}),Ue===3?new Set(Ne):Ne}(X)}function On(X,ae){switch(ae){case 2:return new Map(X);case 3:return Array.from(X)}return Gt(X)}function Mn(){function X(Qe,rt){var yt=Ue[Qe];return yt?yt.enumerable=rt:Ue[Qe]=yt={configurable:!0,enumerable:rt,get:function(){var at=this[sn];return kr.get(at,Qe)},set:function(at){var mt=this[sn];kr.set(mt,Qe,at)}},yt}function ae(Qe){for(var rt=Qe.length-1;rt>=0;rt--){var yt=Qe[rt][sn];if(!yt.P)switch(yt.i){case 5:Ne(yt)&&Dt(yt);break;case 4:$e(yt)&&Dt(yt)}}}function $e(Qe){for(var rt=Qe.t,yt=Qe.k,at=Er(yt),mt=at.length-1;mt>=0;mt--){var Ct=at[mt];if(Ct!==sn){var Ft=rt[Ct];if(Ft===void 0&&!Z(rt,Ct))return!0;var At=yt[Ct],rn=At&&At[sn];if(rn?rn.t!==Ft:!je(At,Ft))return!0}}var un=!!rt[sn];return at.length!==Er(rt).length+(un?0:1)}function Ne(Qe){var rt=Qe.k;if(rt.length!==Qe.t.length)return!0;var yt=Object.getOwnPropertyDescriptor(rt,rt.length-1);return!(!yt||yt.get)}function Ze(Qe){Qe.O&&J(3,JSON.stringify(Ut(Qe)))}var Ue={};dn("ES5",{J:function(Qe,rt){var yt=Array.isArray(Qe),at=function(Ct,Ft){if(Ct){for(var At=Array(Ft.length),rn=0;rn<Ft.length;rn++)Object.defineProperty(At,""+rn,X(rn,!0));return At}var un=Gr(Ft);delete un[sn];for(var hn=Er(un),en=0;en<hn.length;en++){var Tn=hn[en];un[Tn]=X(Tn,Ct||!!un[Tn].enumerable)}return Object.create(Object.getPrototypeOf(Ft),un)}(yt,Qe),mt={i:yt?5:4,A:rt?rt.A:bn(),P:!1,I:!1,D:{},l:rt,t:Qe,k:at,o:null,O:!1,C:!1};return Object.defineProperty(at,sn,{value:mt,writable:!0}),at},S:function(Qe,rt,yt){yt?Le(rt)&&rt[sn].A===Qe&&ae(Qe.p):(Qe.u&&function at(mt){if(mt&&typeof mt=="object"){var Ct=mt[sn];if(Ct){var Ft=Ct.t,At=Ct.k,rn=Ct.D,un=Ct.i;if(un===4)nt(At,function(na){na!==sn&&(Ft[na]!==void 0||Z(Ft,na)?rn[na]||at(At[na]):(rn[na]=!0,Dt(Ct)))}),nt(Ft,function(na){At[na]!==void 0||Z(At,na)||(rn[na]=!1,Dt(Ct))});else if(un===5){if(Ne(Ct)&&(Dt(Ct),rn.length=!0),At.length<Ft.length)for(var hn=At.length;hn<Ft.length;hn++)rn[hn]=!1;else for(var en=Ft.length;en<At.length;en++)rn[en]=!0;for(var Tn=Math.min(At.length,Ft.length),Nr=0;Nr<Tn;Nr++)rn[Nr]===void 0&&at(At[Nr])}}}}(Qe.p[0]),ae(Qe.p))},K:function(Qe){return Qe.i===4?$e(Qe):Ne(Qe)}})}function Bn(){function X(Ne){if(!Me(Ne))return Ne;if(Array.isArray(Ne))return Ne.map(X);if(Xe(Ne))return new Map(Array.from(Ne.entries()).map(function(Qe){return[Qe[0],X(Qe[1])]}));if(Mt(Ne))return new Set(Array.from(Ne).map(X));var Ze=Object.create(Object.getPrototypeOf(Ne));for(var Ue in Ne)Ze[Ue]=X(Ne[Ue]);return Z(Ne,Ir)&&(Ze[Ir]=Ne[Ir]),Ze}function ae(Ne){return Le(Ne)?X(Ne):Ne}var $e="add";dn("Patches",{$:function(Ne,Ze){return Ze.forEach(function(Ue){for(var Qe=Ue.path,rt=Ue.op,yt=Ne,at=0;at<Qe.length-1;at++){var mt=M(yt),Ct=""+Qe[at];mt!==0&&mt!==1||Ct!=="__proto__"&&Ct!=="constructor"||J(24),typeof yt=="function"&&Ct==="prototype"&&J(24),typeof(yt=ie(yt,Ct))!="object"&&J(15,Qe.join("/"))}var Ft=M(yt),At=X(Ue.value),rn=Qe[Qe.length-1];switch(rt){case"replace":switch(Ft){case 2:return yt.set(rn,At);case 3:J(16);default:return yt[rn]=At}case $e:switch(Ft){case 1:return rn==="-"?yt.push(At):yt.splice(rn,0,At);case 2:return yt.set(rn,At);case 3:return yt.add(At);default:return yt[rn]=At}case"remove":switch(Ft){case 1:return yt.splice(rn,1);case 2:return yt.delete(rn);case 3:return yt.delete(Ue.value);default:return delete yt[rn]}default:J(17,rt)}}),Ne},R:function(Ne,Ze,Ue,Qe){switch(Ne.i){case 0:case 4:case 2:return function(rt,yt,at,mt){var Ct=rt.t,Ft=rt.o;nt(rt.D,function(At,rn){var un=ie(Ct,At),hn=ie(Ft,At),en=rn?Z(Ct,At)?"replace":$e:"remove";if(un!==hn||en!=="replace"){var Tn=yt.concat(At);at.push(en==="remove"?{op:en,path:Tn}:{op:en,path:Tn,value:hn}),mt.push(en===$e?{op:"remove",path:Tn}:en==="remove"?{op:$e,path:Tn,value:ae(un)}:{op:"replace",path:Tn,value:ae(un)})}})}(Ne,Ze,Ue,Qe);case 5:case 1:return function(rt,yt,at,mt){var Ct=rt.t,Ft=rt.D,At=rt.o;if(At.length<Ct.length){var rn=[At,Ct];Ct=rn[0],At=rn[1];var un=[mt,at];at=un[0],mt=un[1]}for(var hn=0;hn<Ct.length;hn++)if(Ft[hn]&&At[hn]!==Ct[hn]){var en=yt.concat([hn]);at.push({op:"replace",path:en,value:ae(At[hn])}),mt.push({op:"replace",path:en,value:ae(Ct[hn])})}for(var Tn=Ct.length;Tn<At.length;Tn++){var Nr=yt.concat([Tn]);at.push({op:$e,path:Nr,value:ae(At[Tn])})}Ct.length<At.length&&mt.push({op:"replace",path:yt.concat(["length"]),value:Ct.length})}(Ne,Ze,Ue,Qe);case 3:return function(rt,yt,at,mt){var Ct=rt.t,Ft=rt.o,At=0;Ct.forEach(function(rn){if(!Ft.has(rn)){var un=yt.concat([At]);at.push({op:"remove",path:un,value:rn}),mt.unshift({op:$e,path:un,value:rn})}At++}),At=0,Ft.forEach(function(rn){if(!Ct.has(rn)){var un=yt.concat([At]);at.push({op:$e,path:un,value:rn}),mt.unshift({op:"remove",path:un,value:rn})}At++})}(Ne,Ze,Ue,Qe)}},M:function(Ne,Ze,Ue,Qe){Ue.push({op:"replace",path:[],value:Ze===Cr?void 0:Ze}),Qe.push({op:"replace",path:[],value:Ne.t})}})}function _n(){function X(rt,yt){function at(){this.constructor=rt}Ze(rt,yt),rt.prototype=(at.prototype=yt.prototype,new at)}function ae(rt){rt.o||(rt.D=new Map,rt.o=new Map(rt.t))}function $e(rt){rt.o||(rt.o=new Set,rt.t.forEach(function(yt){if(Me(yt)){var at=Rn(rt.A.h,yt,rt);rt.p.set(yt,at),rt.o.add(at)}else rt.o.add(yt)}))}function Ne(rt){rt.O&&J(3,JSON.stringify(Ut(rt)))}var Ze=function(rt,yt){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,mt){at.__proto__=mt}||function(at,mt){for(var Ct in mt)mt.hasOwnProperty(Ct)&&(at[Ct]=mt[Ct])})(rt,yt)},Ue=function(){function rt(at,mt){return this[sn]={i:2,l:mt,A:mt?mt.A:bn(),P:!1,I:!1,o:void 0,D:void 0,t:at,k:this,C:!1,O:!1},this}X(rt,Map);var yt=rt.prototype;return Object.defineProperty(yt,"size",{get:function(){return Ut(this[sn]).size}}),yt.has=function(at){return Ut(this[sn]).has(at)},yt.set=function(at,mt){var Ct=this[sn];return Ne(Ct),Ut(Ct).has(at)&&Ut(Ct).get(at)===mt||(ae(Ct),Dt(Ct),Ct.D.set(at,!0),Ct.o.set(at,mt),Ct.D.set(at,!0)),this},yt.delete=function(at){if(!this.has(at))return!1;var mt=this[sn];return Ne(mt),ae(mt),Dt(mt),mt.D.set(at,!1),mt.o.delete(at),!0},yt.clear=function(){var at=this[sn];Ne(at),Ut(at).size&&(ae(at),Dt(at),at.D=new Map,nt(at.t,function(mt){at.D.set(mt,!1)}),at.o.clear())},yt.forEach=function(at,mt){var Ct=this;Ut(this[sn]).forEach(function(Ft,At){at.call(mt,Ct.get(At),At,Ct)})},yt.get=function(at){var mt=this[sn];Ne(mt);var Ct=Ut(mt).get(at);if(mt.I||!Me(Ct)||Ct!==mt.t.get(at))return Ct;var Ft=Rn(mt.A.h,Ct,mt);return ae(mt),mt.o.set(at,Ft),Ft},yt.keys=function(){return Ut(this[sn]).keys()},yt.values=function(){var at,mt=this,Ct=this.keys();return(at={})[wr]=function(){return mt.values()},at.next=function(){var Ft=Ct.next();return Ft.done?Ft:{done:!1,value:mt.get(Ft.value)}},at},yt.entries=function(){var at,mt=this,Ct=this.keys();return(at={})[wr]=function(){return mt.entries()},at.next=function(){var Ft=Ct.next();if(Ft.done)return Ft;var At=mt.get(Ft.value);return{done:!1,value:[Ft.value,At]}},at},yt[wr]=function(){return this.entries()},rt}(),Qe=function(){function rt(at,mt){return this[sn]={i:3,l:mt,A:mt?mt.A:bn(),P:!1,I:!1,o:void 0,t:at,k:this,p:new Map,O:!1,C:!1},this}X(rt,Set);var yt=rt.prototype;return Object.defineProperty(yt,"size",{get:function(){return Ut(this[sn]).size}}),yt.has=function(at){var mt=this[sn];return Ne(mt),mt.o?!!mt.o.has(at)||!(!mt.p.has(at)||!mt.o.has(mt.p.get(at))):mt.t.has(at)},yt.add=function(at){var mt=this[sn];return Ne(mt),this.has(at)||($e(mt),Dt(mt),mt.o.add(at)),this},yt.delete=function(at){if(!this.has(at))return!1;var mt=this[sn];return Ne(mt),$e(mt),Dt(mt),mt.o.delete(at)||!!mt.p.has(at)&&mt.o.delete(mt.p.get(at))},yt.clear=function(){var at=this[sn];Ne(at),Ut(at).size&&($e(at),Dt(at),at.o.clear())},yt.values=function(){var at=this[sn];return Ne(at),$e(at),at.o.values()},yt.entries=function(){var at=this[sn];return Ne(at),$e(at),at.o.entries()},yt.keys=function(){return this.values()},yt[wr]=function(){return this.values()},yt.forEach=function(at,mt){for(var Ct=this.values(),Ft=Ct.next();!Ft.done;)at.call(mt,Ft.value,Ft.value,this),Ft=Ct.next()},rt}();dn("MapSet",{N:function(rt,yt){return new Ue(rt,yt)},T:function(rt,yt){return new Qe(rt,yt)}})}function yr(){Mn(),_n(),Bn()}function Yn(X){return X}function Ur(X){return X}var nr,jn,rr=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",vr=typeof Map!="undefined",Jn=typeof Set!="undefined",ir=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Cr=rr?Symbol.for("immer-nothing"):((nr={})["immer-nothing"]=!0,nr),Ir=rr?Symbol.for("immer-draftable"):"__$immer_draftable",sn=rr?Symbol.for("immer-state"):"__$immer_state",wr=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",_a={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(X){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+X},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(X){return"Cannot apply patch, path doesn't resolve: "+X},16:'Sets cannot have "replace" patches.',17:function(X){return"Unsupported patch operation: "+X},18:function(X){return"The plugin for '"+X+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+X+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(X){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+X+"'"},22:function(X){return"'current' expects a draft, got: "+X},23:function(X){return"'original' expects a draft, got: "+X},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},va=""+Object.prototype.constructor,Er=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(X){return Object.getOwnPropertyNames(X).concat(Object.getOwnPropertySymbols(X))}:Object.getOwnPropertyNames,Gr=Object.getOwnPropertyDescriptors||function(X){var ae={};return Er(X).forEach(function($e){ae[$e]=Object.getOwnPropertyDescriptor(X,$e)}),ae},Vr={},kr={get:function(X,ae){if(ae===sn)return X;var $e=Ut(X);if(!Z($e,ae))return function(Ze,Ue,Qe){var rt,yt=Rt(Ue,Qe);return yt?"value"in yt?yt.value:(rt=yt.get)===null||rt===void 0?void 0:rt.call(Ze.k):void 0}(X,$e,ae);var Ne=$e[ae];return X.I||!Me(Ne)?Ne:Ne===ot(X.t,ae)?(tn(X),X.o[ae]=Rn(X.A.h,Ne,X)):Ne},has:function(X,ae){return ae in Ut(X)},ownKeys:function(X){return Reflect.ownKeys(Ut(X))},set:function(X,ae,$e){var Ne=Rt(Ut(X),ae);if(Ne!=null&&Ne.set)return Ne.set.call(X.k,$e),!0;if(!X.P){var Ze=ot(Ut(X),ae),Ue=Ze==null?void 0:Ze[sn];if(Ue&&Ue.t===$e)return X.o[ae]=$e,X.D[ae]=!1,!0;if(je($e,Ze)&&($e!==void 0||Z(X.t,ae)))return!0;tn(X),Dt(X)}return X.o[ae]===$e&&typeof $e!="number"&&($e!==void 0||ae in X.o)||(X.o[ae]=$e,X.D[ae]=!0,!0)},deleteProperty:function(X,ae){return ot(X.t,ae)!==void 0||ae in X.t?(X.D[ae]=!1,tn(X),Dt(X)):delete X.D[ae],X.o&&delete X.o[ae],!0},getOwnPropertyDescriptor:function(X,ae){var $e=Ut(X),Ne=Reflect.getOwnPropertyDescriptor($e,ae);return Ne&&{writable:!0,configurable:X.i!==1||ae!=="length",enumerable:Ne.enumerable,value:$e[ae]}},defineProperty:function(){J(11)},getPrototypeOf:function(X){return Object.getPrototypeOf(X.t)},setPrototypeOf:function(){J(12)}},Mr={};nt(kr,function(X,ae){Mr[X]=function(){return arguments[0]=arguments[0][0],ae.apply(this,arguments)}}),Mr.deleteProperty=function(X,ae){return kr.deleteProperty.call(this,X[0],ae)},Mr.set=function(X,ae,$e){return kr.set.call(this,X[0],ae,$e,X[0])};var sa=function(){function X($e){var Ne=this;this.g=ir,this.F=!0,this.produce=function(Ze,Ue,Qe){if(typeof Ze=="function"&&typeof Ue!="function"){var rt=Ue;Ue=Ze;var yt=Ne;return function(At){var rn=this;At===void 0&&(At=rt);for(var un=arguments.length,hn=Array(un>1?un-1:0),en=1;en<un;en++)hn[en-1]=arguments[en];return yt.produce(At,function(Tn){var Nr;return(Nr=Ue).call.apply(Nr,[rn,Tn].concat(hn))})}}var at;if(typeof Ue!="function"&&J(6),Qe!==void 0&&typeof Qe!="function"&&J(7),Me(Ze)){var mt=ue(Ne),Ct=Rn(Ne,Ze,void 0),Ft=!0;try{at=Ue(Ct),Ft=!1}finally{Ft?wn(mt):pe(mt)}return typeof Promise!="undefined"&&at instanceof Promise?at.then(function(At){return pn(mt,Qe),Be(At,mt)},function(At){throw wn(mt),At}):(pn(mt,Qe),Be(at,mt))}if(!Ze||typeof Ze!="object")return(at=Ue(Ze))===Cr?void 0:(at===void 0&&(at=Ze),Ne.F&&zt(at,!0),at);J(21,Ze)},this.produceWithPatches=function(Ze,Ue){return typeof Ze=="function"?function(yt){for(var at=arguments.length,mt=Array(at>1?at-1:0),Ct=1;Ct<at;Ct++)mt[Ct-1]=arguments[Ct];return Ne.produceWithPatches(yt,function(Ft){return Ze.apply(void 0,[Ft].concat(mt))})}:[Ne.produce(Ze,Ue,function(yt,at){Qe=yt,rt=at}),Qe,rt];var Qe,rt},typeof($e==null?void 0:$e.useProxies)=="boolean"&&this.setUseProxies($e.useProxies),typeof($e==null?void 0:$e.autoFreeze)=="boolean"&&this.setAutoFreeze($e.autoFreeze)}var ae=X.prototype;return ae.createDraft=function($e){Me($e)||J(8),Le($e)&&($e=In($e));var Ne=ue(this),Ze=Rn(this,$e,void 0);return Ze[sn].C=!0,pe(Ne),Ze},ae.finishDraft=function($e,Ne){var Ze=$e&&$e[sn],Ue=Ze.A;return pn(Ue,Ne),Be(void 0,Ue)},ae.setAutoFreeze=function($e){this.F=$e},ae.setUseProxies=function($e){$e&&!ir&&J(20),this.g=$e},ae.applyPatches=function($e,Ne){var Ze;for(Ze=Ne.length-1;Ze>=0;Ze--){var Ue=Ne[Ze];if(Ue.path.length===0&&Ue.op==="replace"){$e=Ue.value;break}}Ze>-1&&(Ne=Ne.slice(Ze+1));var Qe=It("Patches").$;return Le($e)?Qe($e,Ne):this.produce($e,function(rt){return Qe(rt,Ne)})},X}(),ar=new sa,ia=ar.produce,to=ar.produceWithPatches.bind(ar),Pr=ar.setAutoFreeze.bind(ar),Br=ar.setUseProxies.bind(ar),Ua=ar.applyPatches.bind(ar),Ja=ar.createDraft.bind(ar),qr=ar.finishDraft.bind(ar),Fr=ia,gr=a(29717),Ea=a(8392),Ia=a(91750);const Ya=(0,e.NT)({id:"code-insights"}),Or=(0,e.rx)({id:"code-insights",routes:{root:Ya}}),la=Or.provide((0,e.P4)({name:"EntityGithubInsightsContent",component:()=>a.e(4522).then(a.bind(a,34522)).then(X=>X.InsightsPage),mountPoint:Ya})),Ga=Or.provide((0,e.CO)({name:"EntityGithubInsightsComplianceCard",component:{lazy:()=>a.e(2132).then(a.bind(a,36750)).then(X=>X.ComplianceCard)}})),pa=Or.provide((0,e.CO)({name:"EntityGithubInsightsContributorsCard",component:{lazy:()=>a.e(2132).then(a.bind(a,36750)).then(X=>X.ContributorsCard)}})),zr=Or.provide((0,e.CO)({name:"EntityGithubInsightsLanguagesCard",component:{lazy:()=>a.e(2132).then(a.bind(a,36750)).then(X=>X.LanguagesCard)}})),Zr=Or.provide((0,e.CO)({name:"EntityGithubInsightsReadmeCard",component:{lazy:()=>a.e(2132).then(a.bind(a,36750)).then(X=>X.ReadMeCard)}})),mn=Or.provide((0,e.CO)({name:"EntityGithubInsightsReleasesCard",component:{lazy:()=>a.e(2132).then(a.bind(a,36750)).then(X=>X.ReleasesCard)}})),Wr="github.com/project-slug",Qn=X=>{var ae;return Boolean((ae=X==null?void 0:X.metadata.annotations)==null?void 0:ae[Wr])},ea={hostname:"github.com",baseUrl:"https://api.github.com"},cr=X=>{var ae,$e;const Ne=(0,e.h_)(he.q3);if(!X)return ea;let Ze=(ae=X.metadata.annotations)==null?void 0:ae[j.M6];Ze||(Ze=($e=X.metadata.annotations)==null?void 0:$e[j.P1]);const{target:Ue}=(0,j.Ou)(Ze||""),Qe=Ne.github.byUrl(Ue);return Qe?{hostname:Qe.config.host,baseUrl:Qe.config.apiBaseUrl}:ea};class Xn{constructor(ae){return new Proxy({},{get:($e,Ne)=>Ne in $e?$e[Ne]:ae})}}const hr={etag:"",data:[]},qn=X=>({license:{state:hr,setState:ae=>X(Fr($e=>{$e.license.state=ae}))}}),ur=X=>({branches:{state:hr,setState:ae=>X(Fr($e=>{$e.branches.state=ae}))}}),fa=X=>({contributor:{state:new Xn(hr),setState:(ae,$e)=>X(Ne=>(Ne.contributor.state[ae]=$e,Fr(Ze=>{Ze.contributor.state=Ne.contributor.state})))}}),Hr=X=>({request:{state:new Xn(hr),setState:(ae,$e)=>X(Ne=>(Ne.request.state[ae]=$e,Fr(Ze=>{Ze.requesst.state=Ne.request.state})))}}),ta=(0,k.Z)(X=>({...qn(X),...fa(X),...ur(X),...Hr(X)})),Ee=X=>{const ae=(0,e.h_)(e.F4),{entity:$e}=(0,d.X2)(),{baseUrl:Ne}=cr($e),{state:Ze,setState:Ue}=ta(at=>at.contributor),{value:Qe,loading:rt,error:yt}=(0,re.Z)(async()=>{var at;let mt;try{const Ct=await ae.getAccessToken(["repo"]),At=await new W.v({auth:Ct}).request(`GET /users/${X}`,{headers:{"if-none-match":Ze[X].etag},baseUrl:Ne});mt={data:At.data,etag:(at=At.headers.etag)!=null?at:""}}catch(Ct){Ct instanceof gr.RequestError&&Ct.status===304&&(mt=Ze[X])}return mt},[X,Ne]);return Qe&&Ue(X,Qe),{contributor:Qe?Qe.data:void 0,loading:rt,error:yt}},ve=(0,T.Z)(X=>({contributorsTooltipContainer:{padding:X.spacing(1,0)}})),Ie=({contributorLogin:X})=>{const ae=ve(),{entity:$e}=(0,d.X2)(),{hostname:Ne}=cr($e),{contributor:Ze,loading:Ue}=Ee(X);return Ue?t.createElement(B.Ex,null):Ze!=null&&Ze.login?t.createElement(h.Z,{container:!0,className:ae.contributorsTooltipContainer},t.createElement(h.Z,{item:!0,xs:12,sm:2},t.createElement(w.Z,{key:Ze.login,alt:Ze.login,src:Ze.avatar_url})),t.createElement(h.Z,{item:!0,xs:12,sm:10},t.createElement(h.Z,{item:!0,xs:12},t.createElement(i.Z,{variant:"h6"},t.createElement(E.Z,{href:`//${Ne}/${Ze.login}`,color:"inherit",target:"_blank",rel:"noopener noreferrer"},Ze.name),t.createElement(c.Z,{component:"span",ml:2},t.createElement(i.Z,{variant:"caption"},Ze.login)))),Ze.bio&&t.createElement(h.Z,{item:!0,xs:12},t.createElement(i.Z,{variant:"subtitle2"},Ze.bio)),Ze.location&&t.createElement(h.Z,{item:!0,xs:12},t.createElement(c.Z,{my:2},t.createElement(l.Z,null)),t.createElement(i.Z,{variant:"caption"},t.createElement(dt.Z,{fontSize:"inherit"})," ",Ze.location)))):t.createElement(Lt,{severity:"error"},"Fetching failed!")},Je=(0,V.Z)({tooltip:{backgroundColor:"white",border:"1px solid lightgrey",color:"#333",minWidth:"320px"}})(A.ZP),bt=({contributor:X})=>t.createElement(Je,{title:t.createElement(Ie,{contributorLogin:X.login}),interactive:!0},t.createElement(w.Z,{key:X.login,alt:X.login,src:X.avatar_url})),Ot=({contributors:X})=>t.createElement(h.Z,{container:!0,spacing:1,justifyContent:"flex-start"},X.map(ae=>t.createElement(h.Z,{key:ae.login,item:!0},t.createElement(bt,{contributor:ae})))),Yt="github.com/project-slug",Qt="github.com/project-readme-path",cn=X=>{var ae,$e,Ne,Ze;const Ue=($e=(ae=X.metadata)==null?void 0:ae.annotations)==null?void 0:$e[Yt],Qe=(Ze=(Ne=X.metadata)==null?void 0:Ne.annotations)==null?void 0:Ze[Qt];if(!Ue&&Ue==="")throw new Error(`No "${Yt}" annotation found for your entity ${X.metadata.name}`);return{owner:(Ue==null?void 0:Ue.split("/")[0])||"",repo:(Ue==null?void 0:Ue.split("/")[1])||"",readmePath:Qe}},yn=(X,ae,$e=0,Ne=0)=>{const Ze=(0,e.h_)(e.F4),{baseUrl:Ue}=cr(X),{owner:Qe,repo:rt}=cn(X),{state:yt,setState:at}=ta(At=>At.request),{value:mt,loading:Ct,error:Ft}=(0,re.Z)(async()=>{var At;let rn;try{const un=await Ze.getAccessToken(["repo"]),en=await new W.v({auth:un}).request(`GET /repos/{owner}/{repo}/${ae}`,{headers:{"if-none-match":yt[ae].etag},baseUrl:Ue,owner:Qe,repo:rt,...$e&&{per_page:$e}}),Tn=en.data;rn={data:Ne?Tn.slice(0,Ne):Tn,etag:(At=en.headers.etag)!=null?At:""}}catch(un){un instanceof gr.RequestError&&un.status===304&&(rn=yt[ae])}return rn},[Ue,ae]);return mt!=null&&mt.data&&at(ae,mt),{value:mt?mt.data:void 0,loading:Ct,error:Ft}},qe=(0,T.Z)(X=>({infoCard:{marginBottom:X.spacing(3),"& + .MuiAlert-root":{marginTop:X.spacing(3)}}}));var ht=()=>{const{entity:X}=(0,d.X2)(),ae=qe(),{value:$e,loading:Ne,error:Ze}=yn(X,"contributors",10),{hostname:Ue}=cr(X),Qe=Qn(X),{owner:rt,repo:yt}=cn(X);return Qe?Ne?t.createElement(B.Ex,null):Ze?t.createElement(Lt,{severity:"error",className:ae.infoCard},Ze.message):t.createElement(B.rJ,{title:"Contributors",deepLink:{link:`//${Ue}/${rt}/${yt}/graphs/contributors`,title:"People",onClick:at=>{at.preventDefault(),window.open(`//${Ue}/${rt}/${yt}/graphs/contributors`)}},className:ae.infoCard},t.createElement(Ot,{contributors:$e||[]})):t.createElement(B.sk,{annotation:Wr})};const xt={"1C Enterprise":{color:"#814CCC",url:"https://github.com/trending?l=1C-Enterprise"},"4D":{color:"inherit",url:"https://github.com/trending?l=4D"},ABAP:{color:"#E8274B",url:"https://github.com/trending?l=ABAP"},ActionScript:{color:"#882B0F",url:"https://github.com/trending?l=ActionScript"},Ada:{color:"#02f88c",url:"https://github.com/trending?l=Ada"},Agda:{color:"#315665",url:"https://github.com/trending?l=Agda"},"AGS Script":{color:"#B9D9FF",url:"https://github.com/trending?l=AGS-Script"},AL:{color:"#3AA2B5",url:"https://github.com/trending?l=AL"},Alloy:{color:"#64C800",url:"https://github.com/trending?l=Alloy"},"Alpine Abuild":{color:"inherit",url:"https://github.com/trending?l=Alpine-Abuild"},AMPL:{color:"#E6EFBB",url:"https://github.com/trending?l=AMPL"},AngelScript:{color:"#C7D7DC",url:"https://github.com/trending?l=AngelScript"},ANTLR:{color:"#9DC3FF",url:"https://github.com/trending?l=ANTLR"},Apex:{color:"#1797c0",url:"https://github.com/trending?l=Apex"},"API Blueprint":{color:"#2ACCA8",url:"https://github.com/trending?l=API-Blueprint"},APL:{color:"#5A8164",url:"https://github.com/trending?l=APL"},"Apollo Guidance Computer":{color:"#0B3D91",url:"https://github.com/trending?l=Apollo-Guidance-Computer"},AppleScript:{color:"#101F1F",url:"https://github.com/trending?l=AppleScript"},Arc:{color:"#aa2afe",url:"https://github.com/trending?l=Arc"},ASL:{color:"inherit",url:"https://github.com/trending?l=ASL"},"ASP.NET":{color:"#9400ff",url:"https://github.com/trending?l=ASP.NET"},AspectJ:{color:"#a957b0",url:"https://github.com/trending?l=AspectJ"},Assembly:{color:"#6E4C13",url:"https://github.com/trending?l=Assembly"},Asymptote:{color:"#ff0000",url:"https://github.com/trending?l=Asymptote"},ATS:{color:"#1ac620",url:"https://github.com/trending?l=ATS"},Augeas:{color:"inherit",url:"https://github.com/trending?l=Augeas"},AutoHotkey:{color:"#6594b9",url:"https://github.com/trending?l=AutoHotkey"},AutoIt:{color:"#1C3552",url:"https://github.com/trending?l=AutoIt"},Awk:{color:"inherit",url:"https://github.com/trending?l=Awk"},Ballerina:{color:"#FF5000",url:"https://github.com/trending?l=Ballerina"},Batchfile:{color:"#C1F12E",url:"https://github.com/trending?l=Batchfile"},Befunge:{color:"inherit",url:"https://github.com/trending?l=Befunge"},Bison:{color:"#6A463F",url:"https://github.com/trending?l=Bison"},BitBake:{color:"inherit",url:"https://github.com/trending?l=BitBake"},Blade:{color:"#f7523f",url:"https://github.com/trending?l=Blade"},BlitzBasic:{color:"inherit",url:"https://github.com/trending?l=BlitzBasic"},BlitzMax:{color:"#cd6400",url:"https://github.com/trending?l=BlitzMax"},Bluespec:{color:"inherit",url:"https://github.com/trending?l=Bluespec"},Boo:{color:"#d4bec1",url:"https://github.com/trending?l=Boo"},Brainfuck:{color:"#2F2530",url:"https://github.com/trending?l=Brainfuck"},Brightscript:{color:"inherit",url:"https://github.com/trending?l=Brightscript"},C:{color:"#555555",url:"https://github.com/trending?l=C"},"C#":{color:"#178600",url:"https://github.com/trending?l=Csharp"},"C++":{color:"#f34b7d",url:"https://github.com/trending?l=C++"},"C2hs Haskell":{color:"inherit",url:"https://github.com/trending?l=C2hs-Haskell"},"Cap'n Proto":{color:"inherit",url:"https://github.com/trending?l=Cap'n-Proto"},CartoCSS:{color:"inherit",url:"https://github.com/trending?l=CartoCSS"},Ceylon:{color:"#dfa535",url:"https://github.com/trending?l=Ceylon"},Chapel:{color:"#8dc63f",url:"https://github.com/trending?l=Chapel"},Charity:{color:"inherit",url:"https://github.com/trending?l=Charity"},ChucK:{color:"inherit",url:"https://github.com/trending?l=ChucK"},Cirru:{color:"#ccccff",url:"https://github.com/trending?l=Cirru"},Clarion:{color:"#db901e",url:"https://github.com/trending?l=Clarion"},"Classic ASP":{color:"#6a40fd",url:"https://github.com/trending?l=Classic-ASP"},Clean:{color:"#3F85AF",url:"https://github.com/trending?l=Clean"},Click:{color:"#E4E6F3",url:"https://github.com/trending?l=Click"},CLIPS:{color:"inherit",url:"https://github.com/trending?l=CLIPS"},Clojure:{color:"#db5855",url:"https://github.com/trending?l=Clojure"},CMake:{color:"inherit",url:"https://github.com/trending?l=CMake"},COBOL:{color:"inherit",url:"https://github.com/trending?l=COBOL"},CodeQL:{color:"inherit",url:"https://github.com/trending?l=CodeQL"},CoffeeScript:{color:"#244776",url:"https://github.com/trending?l=CoffeeScript"},ColdFusion:{color:"#ed2cd6",url:"https://github.com/trending?l=ColdFusion"},"ColdFusion CFC":{color:"#ed2cd6",url:"https://github.com/trending?l=ColdFusion-CFC"},"Common Lisp":{color:"#3fb68b",url:"https://github.com/trending?l=Common-Lisp"},"Common Workflow Language":{color:"#B5314C",url:"https://github.com/trending?l=Common-Workflow-Language"},"Component Pascal":{color:"#B0CE4E",url:"https://github.com/trending?l=Component-Pascal"},Cool:{color:"inherit",url:"https://github.com/trending?l=Cool"},Coq:{color:"inherit",url:"https://github.com/trending?l=Coq"},Crystal:{color:"#000100",url:"https://github.com/trending?l=Crystal"},CSON:{color:"#244776",url:"https://github.com/trending?l=CSON"},Csound:{color:"inherit",url:"https://github.com/trending?l=Csound"},"Csound Document":{color:"inherit",url:"https://github.com/trending?l=Csound-Document"},"Csound Score":{color:"inherit",url:"https://github.com/trending?l=Csound-Score"},CSS:{color:"#563d7c",url:"https://github.com/trending?l=CSS"},Cuda:{color:"#3A4E3A",url:"https://github.com/trending?l=Cuda"},CWeb:{color:"inherit",url:"https://github.com/trending?l=CWeb"},Cycript:{color:"inherit",url:"https://github.com/trending?l=Cycript"},Cython:{color:"inherit",url:"https://github.com/trending?l=Cython"},D:{color:"#ba595e",url:"https://github.com/trending?l=D"},Dafny:{color:"#FFEC25",url:"https://github.com/trending?l=Dafny"},Dart:{color:"#00B4AB",url:"https://github.com/trending?l=Dart"},DataWeave:{color:"#003a52",url:"https://github.com/trending?l=DataWeave"},Dhall:{color:"#dfafff",url:"https://github.com/trending?l=Dhall"},"DIGITAL Command Language":{color:"inherit",url:"https://github.com/trending?l=DIGITAL-Command-Language"},DM:{color:"#447265",url:"https://github.com/trending?l=DM"},Dockerfile:{color:"#384d54",url:"https://github.com/trending?l=Dockerfile"},Dogescript:{color:"#cca760",url:"https://github.com/trending?l=Dogescript"},DTrace:{color:"inherit",url:"https://github.com/trending?l=DTrace"},Dylan:{color:"#6c616e",url:"https://github.com/trending?l=Dylan"},E:{color:"#ccce35",url:"https://github.com/trending?l=E"},eC:{color:"#913960",url:"https://github.com/trending?l=eC"},ECL:{color:"#8a1267",url:"https://github.com/trending?l=ECL"},ECLiPSe:{color:"inherit",url:"https://github.com/trending?l=ECLiPSe"},Eiffel:{color:"#4d6977",url:"https://github.com/trending?l=Eiffel"},EJS:{color:"#a91e50",url:"https://github.com/trending?l=EJS"},Elixir:{color:"#6e4a7e",url:"https://github.com/trending?l=Elixir"},Elm:{color:"#60B5CC",url:"https://github.com/trending?l=Elm"},"Emacs Lisp":{color:"#c065db",url:"https://github.com/trending?l=Emacs-Lisp"},EmberScript:{color:"#FFF4F3",url:"https://github.com/trending?l=EmberScript"},EQ:{color:"#a78649",url:"https://github.com/trending?l=EQ"},Erlang:{color:"#B83998",url:"https://github.com/trending?l=Erlang"},"F#":{color:"#b845fc",url:"https://github.com/trending?l=Fsharp"},"F*":{color:"#572e30",url:"https://github.com/trending?l=F*"},Factor:{color:"#636746",url:"https://github.com/trending?l=Factor"},Fancy:{color:"#7b9db4",url:"https://github.com/trending?l=Fancy"},Fantom:{color:"#14253c",url:"https://github.com/trending?l=Fantom"},Faust:{color:"#c37240",url:"https://github.com/trending?l=Faust"},"Filebench WML":{color:"inherit",url:"https://github.com/trending?l=Filebench-WML"},Filterscript:{color:"inherit",url:"https://github.com/trending?l=Filterscript"},fish:{color:"inherit",url:"https://github.com/trending?l=fish"},FLUX:{color:"#88ccff",url:"https://github.com/trending?l=FLUX"},Forth:{color:"#341708",url:"https://github.com/trending?l=Forth"},Fortran:{color:"#4d41b1",url:"https://github.com/trending?l=Fortran"},"Fortran Free Form":{color:"inherit",url:"https://github.com/trending?l=Fortran-Free-Form"},FreeMarker:{color:"#0050b2",url:"https://github.com/trending?l=FreeMarker"},Frege:{color:"#00cafe",url:"https://github.com/trending?l=Frege"},Futhark:{color:"#5f021f",url:"https://github.com/trending?l=Futhark"},"G-code":{color:"#D08CF2",url:"https://github.com/trending?l=G-code"},"Game Maker Language":{color:"#71b417",url:"https://github.com/trending?l=Game-Maker-Language"},GAML:{color:"#FFC766",url:"https://github.com/trending?l=GAML"},GAMS:{color:"inherit",url:"https://github.com/trending?l=GAMS"},GAP:{color:"inherit",url:"https://github.com/trending?l=GAP"},"GCC Machine Description":{color:"inherit",url:"https://github.com/trending?l=GCC-Machine-Description"},GDB:{color:"inherit",url:"https://github.com/trending?l=GDB"},GDScript:{color:"#355570",url:"https://github.com/trending?l=GDScript"},Genie:{color:"#fb855d",url:"https://github.com/trending?l=Genie"},Genshi:{color:"inherit",url:"https://github.com/trending?l=Genshi"},"Gentoo Ebuild":{color:"inherit",url:"https://github.com/trending?l=Gentoo-Ebuild"},"Gentoo Eclass":{color:"inherit",url:"https://github.com/trending?l=Gentoo-Eclass"},Gherkin:{color:"#5B2063",url:"https://github.com/trending?l=Gherkin"},GLSL:{color:"inherit",url:"https://github.com/trending?l=GLSL"},Glyph:{color:"#c1ac7f",url:"https://github.com/trending?l=Glyph"},Gnuplot:{color:"#f0a9f0",url:"https://github.com/trending?l=Gnuplot"},Go:{color:"#00ADD8",url:"https://github.com/trending?l=Go"},Golo:{color:"#88562A",url:"https://github.com/trending?l=Golo"},Gosu:{color:"#82937f",url:"https://github.com/trending?l=Gosu"},Grace:{color:"inherit",url:"https://github.com/trending?l=Grace"},"Grammatical Framework":{color:"#ff0000",url:"https://github.com/trending?l=Grammatical-Framework"},GraphQL:{color:"#e10098",url:"https://github.com/trending?l=GraphQL"},Groovy:{color:"#e69f56",url:"https://github.com/trending?l=Groovy"},"Groovy Server Pages":{color:"inherit",url:"https://github.com/trending?l=Groovy-Server-Pages"},Hack:{color:"#878787",url:"https://github.com/trending?l=Hack"},Haml:{color:"#ece2a9",url:"https://github.com/trending?l=Haml"},Handlebars:{color:"#f7931e",url:"https://github.com/trending?l=Handlebars"},Harbour:{color:"#0e60e3",url:"https://github.com/trending?l=Harbour"},Haskell:{color:"#5e5086",url:"https://github.com/trending?l=Haskell"},Haxe:{color:"#df7900",url:"https://github.com/trending?l=Haxe"},HCL:{color:"#00dfd4",url:"https://github.com/trending?l=HCL"},HiveQL:{color:"#dce200",url:"https://github.com/trending?l=HiveQL"},HLSL:{color:"inherit",url:"https://github.com/trending?l=HLSL"},HolyC:{color:"#ffefaf",url:"https://github.com/trending?l=HolyC"},HTML:{color:"#e34c26",url:"https://github.com/trending?l=HTML"},Hy:{color:"#7790B2",url:"https://github.com/trending?l=Hy"},HyPhy:{color:"inherit",url:"https://github.com/trending?l=HyPhy"},IDL:{color:"#a3522f",url:"https://github.com/trending?l=IDL"},Idris:{color:"#b30000",url:"https://github.com/trending?l=Idris"},"IGOR Pro":{color:"#0000cc",url:"https://github.com/trending?l=IGOR-Pro"},"Inform 7":{color:"inherit",url:"https://github.com/trending?l=Inform-7"},"Inno Setup":{color:"inherit",url:"https://github.com/trending?l=Inno-Setup"},Io:{color:"#a9188d",url:"https://github.com/trending?l=Io"},Ioke:{color:"#078193",url:"https://github.com/trending?l=Ioke"},Isabelle:{color:"#FEFE00",url:"https://github.com/trending?l=Isabelle"},"Isabelle ROOT":{color:"inherit",url:"https://github.com/trending?l=Isabelle-ROOT"},J:{color:"#9EEDFF",url:"https://github.com/trending?l=J"},Jasmin:{color:"inherit",url:"https://github.com/trending?l=Jasmin"},Java:{color:"#b07219",url:"https://github.com/trending?l=Java"},"Java Server Pages":{color:"inherit",url:"https://github.com/trending?l=Java-Server-Pages"},JavaScript:{color:"#f1e05a",url:"https://github.com/trending?l=JavaScript"},"JavaScript+ERB":{color:"inherit",url:"https://github.com/trending?l=JavaScript+ERB"},JFlex:{color:"#DBCA00",url:"https://github.com/trending?l=JFlex"},Jison:{color:"inherit",url:"https://github.com/trending?l=Jison"},"Jison Lex":{color:"inherit",url:"https://github.com/trending?l=Jison-Lex"},Jolie:{color:"#843179",url:"https://github.com/trending?l=Jolie"},JSONiq:{color:"#40d47e",url:"https://github.com/trending?l=JSONiq"},Jsonnet:{color:"#0064bd",url:"https://github.com/trending?l=Jsonnet"},JSX:{color:"inherit",url:"https://github.com/trending?l=JSX"},Julia:{color:"#a270ba",url:"https://github.com/trending?l=Julia"},"Jupyter Notebook":{color:"#DA5B0B",url:"https://github.com/trending?l=Jupyter-Notebook"},"Kaitai Struct":{color:"#773b37",url:"https://github.com/trending?l=Kaitai-Struct"},Kotlin:{color:"#F18E33",url:"https://github.com/trending?l=Kotlin"},KRL:{color:"#28430A",url:"https://github.com/trending?l=KRL"},LabVIEW:{color:"inherit",url:"https://github.com/trending?l=LabVIEW"},Lasso:{color:"#999999",url:"https://github.com/trending?l=Lasso"},Latte:{color:"#f2a542",url:"https://github.com/trending?l=Latte"},Lean:{color:"inherit",url:"https://github.com/trending?l=Lean"},Less:{color:"#1d365d",url:"https://github.com/trending?l=Less"},Lex:{color:"#DBCA00",url:"https://github.com/trending?l=Lex"},LFE:{color:"#4C3023",url:"https://github.com/trending?l=LFE"},LilyPond:{color:"inherit",url:"https://github.com/trending?l=LilyPond"},Limbo:{color:"inherit",url:"https://github.com/trending?l=Limbo"},"Literate Agda":{color:"inherit",url:"https://github.com/trending?l=Literate-Agda"},"Literate CoffeeScript":{color:"inherit",url:"https://github.com/trending?l=Literate-CoffeeScript"},"Literate Haskell":{color:"inherit",url:"https://github.com/trending?l=Literate-Haskell"},LiveScript:{color:"#499886",url:"https://github.com/trending?l=LiveScript"},LLVM:{color:"#185619",url:"https://github.com/trending?l=LLVM"},Logos:{color:"inherit",url:"https://github.com/trending?l=Logos"},Logtalk:{color:"inherit",url:"https://github.com/trending?l=Logtalk"},LOLCODE:{color:"#cc9900",url:"https://github.com/trending?l=LOLCODE"},LookML:{color:"#652B81",url:"https://github.com/trending?l=LookML"},LoomScript:{color:"inherit",url:"https://github.com/trending?l=LoomScript"},LSL:{color:"#3d9970",url:"https://github.com/trending?l=LSL"},Lua:{color:"#000080",url:"https://github.com/trending?l=Lua"},M:{color:"inherit",url:"https://github.com/trending?l=M"},M4:{color:"inherit",url:"https://github.com/trending?l=M4"},M4Sugar:{color:"inherit",url:"https://github.com/trending?l=M4Sugar"},Macaulay2:{color:"#d8ffff",url:"https://github.com/trending?l=Macaulay2"},Makefile:{color:"#427819",url:"https://github.com/trending?l=Makefile"},Mako:{color:"inherit",url:"https://github.com/trending?l=Mako"},Markdown:{color:"#083fa1",url:"https://github.com/trending?l=Markdown"},Marko:{color:"#42bff2",url:"https://github.com/trending?l=Marko"},Mask:{color:"#f97732",url:"https://github.com/trending?l=Mask"},Mathematica:{color:"inherit",url:"https://github.com/trending?l=Mathematica"},MATLAB:{color:"#e16737",url:"https://github.com/trending?l=MATLAB"},Max:{color:"#c4a79c",url:"https://github.com/trending?l=Max"},MAXScript:{color:"#00a6a6",url:"https://github.com/trending?l=MAXScript"},mcfunction:{color:"#E22837",url:"https://github.com/trending?l=mcfunction"},Mercury:{color:"#ff2b2b",url:"https://github.com/trending?l=Mercury"},Meson:{color:"#007800",url:"https://github.com/trending?l=Meson"},Metal:{color:"#8f14e9",url:"https://github.com/trending?l=Metal"},MiniD:{color:"inherit",url:"https://github.com/trending?l=MiniD"},Mirah:{color:"#c7a938",url:"https://github.com/trending?l=Mirah"},"mIRC Script":{color:"#3d57c3",url:"https://github.com/trending?l=mIRC-Script"},MLIR:{color:"#5EC8DB",url:"https://github.com/trending?l=MLIR"},Modelica:{color:"inherit",url:"https://github.com/trending?l=Modelica"},"Modula-2":{color:"inherit",url:"https://github.com/trending?l=Modula-2"},"Modula-3":{color:"#223388",url:"https://github.com/trending?l=Modula-3"},"Module Management System":{color:"inherit",url:"https://github.com/trending?l=Module-Management-System"},Monkey:{color:"inherit",url:"https://github.com/trending?l=Monkey"},Moocode:{color:"inherit",url:"https://github.com/trending?l=Moocode"},MoonScript:{color:"inherit",url:"https://github.com/trending?l=MoonScript"},"Motorola 68K Assembly":{color:"inherit",url:"https://github.com/trending?l=Motorola-68K-Assembly"},MQL4:{color:"#62A8D6",url:"https://github.com/trending?l=MQL4"},MQL5:{color:"#4A76B8",url:"https://github.com/trending?l=MQL5"},MTML:{color:"#b7e1f4",url:"https://github.com/trending?l=MTML"},MUF:{color:"inherit",url:"https://github.com/trending?l=MUF"},mupad:{color:"inherit",url:"https://github.com/trending?l=mupad"},Myghty:{color:"inherit",url:"https://github.com/trending?l=Myghty"},NASL:{color:"inherit",url:"https://github.com/trending?l=NASL"},NCL:{color:"#28431f",url:"https://github.com/trending?l=NCL"},Nearley:{color:"#990000",url:"https://github.com/trending?l=Nearley"},Nemerle:{color:"#3d3c6e",url:"https://github.com/trending?l=Nemerle"},nesC:{color:"#94B0C7",url:"https://github.com/trending?l=nesC"},NetLinx:{color:"#0aa0ff",url:"https://github.com/trending?l=NetLinx"},"NetLinx+ERB":{color:"#747faa",url:"https://github.com/trending?l=NetLinx+ERB"},NetLogo:{color:"#ff6375",url:"https://github.com/trending?l=NetLogo"},NewLisp:{color:"#87AED7",url:"https://github.com/trending?l=NewLisp"},Nextflow:{color:"#3ac486",url:"https://github.com/trending?l=Nextflow"},Nim:{color:"#ffc200",url:"https://github.com/trending?l=Nim"},Nit:{color:"#009917",url:"https://github.com/trending?l=Nit"},Nix:{color:"#7e7eff",url:"https://github.com/trending?l=Nix"},NSIS:{color:"inherit",url:"https://github.com/trending?l=NSIS"},Nu:{color:"#c9df40",url:"https://github.com/trending?l=Nu"},NumPy:{color:"#9C8AF9",url:"https://github.com/trending?l=NumPy"},"Objective-C":{color:"#438eff",url:"https://github.com/trending?l=Objective-C"},"Objective-C++":{color:"#6866fb",url:"https://github.com/trending?l=Objective-C++"},"Objective-J":{color:"#ff0c5a",url:"https://github.com/trending?l=Objective-J"},ObjectScript:{color:"#424893",url:"https://github.com/trending?l=ObjectScript"},OCaml:{color:"#3be133",url:"https://github.com/trending?l=OCaml"},Odin:{color:"#60AFFE",url:"https://github.com/trending?l=Odin"},Omgrofl:{color:"#cabbff",url:"https://github.com/trending?l=Omgrofl"},ooc:{color:"#b0b77e",url:"https://github.com/trending?l=ooc"},Opa:{color:"inherit",url:"https://github.com/trending?l=Opa"},Opal:{color:"#f7ede0",url:"https://github.com/trending?l=Opal"},"Open Policy Agent":{color:"inherit",url:"https://github.com/trending?l=Open-Policy-Agent"},OpenCL:{color:"inherit",url:"https://github.com/trending?l=OpenCL"},"OpenEdge ABL":{color:"inherit",url:"https://github.com/trending?l=OpenEdge-ABL"},OpenQASM:{color:"#AA70FF",url:"https://github.com/trending?l=OpenQASM"},"OpenRC runscript":{color:"inherit",url:"https://github.com/trending?l=OpenRC-runscript"},OpenSCAD:{color:"inherit",url:"https://github.com/trending?l=OpenSCAD"},Ox:{color:"inherit",url:"https://github.com/trending?l=Ox"},Oxygene:{color:"#cdd0e3",url:"https://github.com/trending?l=Oxygene"},Oz:{color:"#fab738",url:"https://github.com/trending?l=Oz"},P4:{color:"#7055b5",url:"https://github.com/trending?l=P4"},Pan:{color:"#cc0000",url:"https://github.com/trending?l=Pan"},Papyrus:{color:"#6600cc",url:"https://github.com/trending?l=Papyrus"},Parrot:{color:"#f3ca0a",url:"https://github.com/trending?l=Parrot"},"Parrot Assembly":{color:"inherit",url:"https://github.com/trending?l=Parrot-Assembly"},"Parrot Internal Representation":{color:"inherit",url:"https://github.com/trending?l=Parrot-Internal-Representation"},Pascal:{color:"#E3F171",url:"https://github.com/trending?l=Pascal"},Pawn:{color:"#dbb284",url:"https://github.com/trending?l=Pawn"},Pep8:{color:"#C76F5B",url:"https://github.com/trending?l=Pep8"},Perl:{color:"#0298c3",url:"https://github.com/trending?l=Perl"},PHP:{color:"#4F5D95",url:"https://github.com/trending?l=PHP"},PicoLisp:{color:"inherit",url:"https://github.com/trending?l=PicoLisp"},PigLatin:{color:"#fcd7de",url:"https://github.com/trending?l=PigLatin"},Pike:{color:"#005390",url:"https://github.com/trending?l=Pike"},PLpgSQL:{color:"inherit",url:"https://github.com/trending?l=PLpgSQL"},PLSQL:{color:"#dad8d8",url:"https://github.com/trending?l=PLSQL"},PogoScript:{color:"#d80074",url:"https://github.com/trending?l=PogoScript"},Pony:{color:"inherit",url:"https://github.com/trending?l=Pony"},PostScript:{color:"#da291c",url:"https://github.com/trending?l=PostScript"},"POV-Ray SDL":{color:"inherit",url:"https://github.com/trending?l=POV-Ray-SDL"},PowerBuilder:{color:"#8f0f8d",url:"https://github.com/trending?l=PowerBuilder"},PowerShell:{color:"#012456",url:"https://github.com/trending?l=PowerShell"},Prisma:{color:"#0c344b",url:"https://github.com/trending?l=Prisma"},Processing:{color:"#0096D8",url:"https://github.com/trending?l=Processing"},Prolog:{color:"#74283c",url:"https://github.com/trending?l=Prolog"},"Propeller Spin":{color:"#7fa2a7",url:"https://github.com/trending?l=Propeller-Spin"},Pug:{color:"#a86454",url:"https://github.com/trending?l=Pug"},Puppet:{color:"#302B6D",url:"https://github.com/trending?l=Puppet"},PureBasic:{color:"#5a6986",url:"https://github.com/trending?l=PureBasic"},PureScript:{color:"#1D222D",url:"https://github.com/trending?l=PureScript"},Python:{color:"#3572A5",url:"https://github.com/trending?l=Python"},"Python console":{color:"inherit",url:"https://github.com/trending?l=Python-console"},q:{color:"#0040cd",url:"https://github.com/trending?l=q"},"Q#":{color:"#fed659",url:"https://github.com/trending?l=Qsharp"},QMake:{color:"inherit",url:"https://github.com/trending?l=QMake"},QML:{color:"#44a51c",url:"https://github.com/trending?l=QML"},"Qt Script":{color:"#00b841",url:"https://github.com/trending?l=Qt-Script"},Quake:{color:"#882233",url:"https://github.com/trending?l=Quake"},R:{color:"#198CE7",url:"https://github.com/trending?l=R"},Racket:{color:"#3c5caa",url:"https://github.com/trending?l=Racket"},Ragel:{color:"#9d5200",url:"https://github.com/trending?l=Ragel"},Raku:{color:"#0000fb",url:"https://github.com/trending?l=Raku"},RAML:{color:"#77d9fb",url:"https://github.com/trending?l=RAML"},Rascal:{color:"#fffaa0",url:"https://github.com/trending?l=Rascal"},REALbasic:{color:"inherit",url:"https://github.com/trending?l=REALbasic"},Reason:{color:"#ff5847",url:"https://github.com/trending?l=Reason"},Rebol:{color:"#358a5b",url:"https://github.com/trending?l=Rebol"},Red:{color:"#f50000",url:"https://github.com/trending?l=Red"},Redcode:{color:"inherit",url:"https://github.com/trending?l=Redcode"},"Ren'Py":{color:"#ff7f7f",url:"https://github.com/trending?l=Ren'Py"},RenderScript:{color:"inherit",url:"https://github.com/trending?l=RenderScript"},REXX:{color:"inherit",url:"https://github.com/trending?l=REXX"},Ring:{color:"#2D54CB",url:"https://github.com/trending?l=Ring"},Riot:{color:"#A71E49",url:"https://github.com/trending?l=Riot"},RobotFramework:{color:"inherit",url:"https://github.com/trending?l=RobotFramework"},Roff:{color:"#ecdebe",url:"https://github.com/trending?l=Roff"},Rouge:{color:"#cc0088",url:"https://github.com/trending?l=Rouge"},RPC:{color:"inherit",url:"https://github.com/trending?l=RPC"},Ruby:{color:"#701516",url:"https://github.com/trending?l=Ruby"},RUNOFF:{color:"#665a4e",url:"https://github.com/trending?l=RUNOFF"},Rust:{color:"#dea584",url:"https://github.com/trending?l=Rust"},Sage:{color:"inherit",url:"https://github.com/trending?l=Sage"},SaltStack:{color:"#646464",url:"https://github.com/trending?l=SaltStack"},SAS:{color:"#B34936",url:"https://github.com/trending?l=SAS"},Sass:{color:"#a53b70",url:"https://github.com/trending?l=Sass"},Scala:{color:"#c22d40",url:"https://github.com/trending?l=Scala"},Scheme:{color:"#1e4aec",url:"https://github.com/trending?l=Scheme"},Scilab:{color:"inherit",url:"https://github.com/trending?l=Scilab"},SCSS:{color:"#c6538c",url:"https://github.com/trending?l=SCSS"},sed:{color:"#64b970",url:"https://github.com/trending?l=sed"},Self:{color:"#0579aa",url:"https://github.com/trending?l=Self"},ShaderLab:{color:"inherit",url:"https://github.com/trending?l=ShaderLab"},Shell:{color:"#89e051",url:"https://github.com/trending?l=Shell"},ShellSession:{color:"inherit",url:"https://github.com/trending?l=ShellSession"},Shen:{color:"#120F14",url:"https://github.com/trending?l=Shen"},Sieve:{color:"inherit",url:"https://github.com/trending?l=Sieve"},Slash:{color:"#007eff",url:"https://github.com/trending?l=Slash"},Slice:{color:"#003fa2",url:"https://github.com/trending?l=Slice"},Slim:{color:"#2b2b2b",url:"https://github.com/trending?l=Slim"},Smali:{color:"inherit",url:"https://github.com/trending?l=Smali"},Smalltalk:{color:"#596706",url:"https://github.com/trending?l=Smalltalk"},Smarty:{color:"#bedf00",url:"https://github.com/trending?l=Smarty"},SmPL:{color:"#c94949",url:"https://github.com/trending?l=SmPL"},SMT:{color:"inherit",url:"https://github.com/trending?l=SMT"},Solidity:{color:"#AA6746",url:"https://github.com/trending?l=Solidity"},SourcePawn:{color:"#f69e1d",url:"https://github.com/trending?l=SourcePawn"},SQF:{color:"#3F3F3F",url:"https://github.com/trending?l=SQF"},SQLPL:{color:"inherit",url:"https://github.com/trending?l=SQLPL"},Squirrel:{color:"#800000",url:"https://github.com/trending?l=Squirrel"},"SRecode Template":{color:"#348a34",url:"https://github.com/trending?l=SRecode-Template"},Stan:{color:"#b2011d",url:"https://github.com/trending?l=Stan"},"Standard ML":{color:"#dc566d",url:"https://github.com/trending?l=Standard-ML"},Starlark:{color:"#76d275",url:"https://github.com/trending?l=Starlark"},Stata:{color:"inherit",url:"https://github.com/trending?l=Stata"},Stylus:{color:"#ff6347",url:"https://github.com/trending?l=Stylus"},SuperCollider:{color:"#46390b",url:"https://github.com/trending?l=SuperCollider"},Svelte:{color:"#ff3e00",url:"https://github.com/trending?l=Svelte"},SVG:{color:"#ff9900",url:"https://github.com/trending?l=SVG"},Swift:{color:"#ffac45",url:"https://github.com/trending?l=Swift"},SWIG:{color:"inherit",url:"https://github.com/trending?l=SWIG"},SystemVerilog:{color:"#DAE1C2",url:"https://github.com/trending?l=SystemVerilog"},Tcl:{color:"#e4cc98",url:"https://github.com/trending?l=Tcl"},Tcsh:{color:"inherit",url:"https://github.com/trending?l=Tcsh"},Terra:{color:"#00004c",url:"https://github.com/trending?l=Terra"},TeX:{color:"#3D6117",url:"https://github.com/trending?l=TeX"},Thrift:{color:"inherit",url:"https://github.com/trending?l=Thrift"},"TI Program":{color:"#A0AA87",url:"https://github.com/trending?l=TI-Program"},TLA:{color:"inherit",url:"https://github.com/trending?l=TLA"},TSQL:{color:"inherit",url:"https://github.com/trending?l=TSQL"},TSX:{color:"inherit",url:"https://github.com/trending?l=TSX"},Turing:{color:"#cf142b",url:"https://github.com/trending?l=Turing"},Twig:{color:"#c1d026",url:"https://github.com/trending?l=Twig"},TXL:{color:"inherit",url:"https://github.com/trending?l=TXL"},TypeScript:{color:"#2b7489",url:"https://github.com/trending?l=TypeScript"},"Unified Parallel C":{color:"#4e3617",url:"https://github.com/trending?l=Unified-Parallel-C"},"Unix Assembly":{color:"inherit",url:"https://github.com/trending?l=Unix-Assembly"},Uno:{color:"#9933cc",url:"https://github.com/trending?l=Uno"},UnrealScript:{color:"#a54c4d",url:"https://github.com/trending?l=UnrealScript"},UrWeb:{color:"inherit",url:"https://github.com/trending?l=UrWeb"},V:{color:"#4f87c4",url:"https://github.com/trending?l=V"},Vala:{color:"#fbe5cd",url:"https://github.com/trending?l=Vala"},VBA:{color:"#867db1",url:"https://github.com/trending?l=VBA"},VBScript:{color:"#15dcdc",url:"https://github.com/trending?l=VBScript"},VCL:{color:"#148AA8",url:"https://github.com/trending?l=VCL"},Verilog:{color:"#b2b7f8",url:"https://github.com/trending?l=Verilog"},VHDL:{color:"#adb2cb",url:"https://github.com/trending?l=VHDL"},"Vim script":{color:"#199f4b",url:"https://github.com/trending?l=Vim-script"},"Visual Basic .NET":{color:"#945db7",url:"https://github.com/trending?l=Visual-Basic-.NET"},Volt:{color:"#1F1F1F",url:"https://github.com/trending?l=Volt"},Vue:{color:"#2c3e50",url:"https://github.com/trending?l=Vue"},wdl:{color:"#42f1f4",url:"https://github.com/trending?l=wdl"},WebAssembly:{color:"#04133b",url:"https://github.com/trending?l=WebAssembly"},WebIDL:{color:"inherit",url:"https://github.com/trending?l=WebIDL"},wisp:{color:"#7582D1",url:"https://github.com/trending?l=wisp"},Wollok:{color:"#a23738",url:"https://github.com/trending?l=Wollok"},X10:{color:"#4B6BEF",url:"https://github.com/trending?l=X10"},xBase:{color:"#403a40",url:"https://github.com/trending?l=xBase"},XC:{color:"#99DA07",url:"https://github.com/trending?l=XC"},Xojo:{color:"inherit",url:"https://github.com/trending?l=Xojo"},XProc:{color:"inherit",url:"https://github.com/trending?l=XProc"},XQuery:{color:"#5232e7",url:"https://github.com/trending?l=XQuery"},XS:{color:"inherit",url:"https://github.com/trending?l=XS"},XSLT:{color:"#EB8CEB",url:"https://github.com/trending?l=XSLT"},Xtend:{color:"inherit",url:"https://github.com/trending?l=Xtend"},Yacc:{color:"#4B6C4B",url:"https://github.com/trending?l=Yacc"},YAML:{color:"#cb171e",url:"https://github.com/trending?l=YAML"},YARA:{color:"#220000",url:"https://github.com/trending?l=YARA"},YASnippet:{color:"#32AB90",url:"https://github.com/trending?l=YASnippet"},ZAP:{color:"#0d665e",url:"https://github.com/trending?l=ZAP"},Zeek:{color:"inherit",url:"https://github.com/trending?l=Zeek"},ZenScript:{color:"#00BCD1",url:"https://github.com/trending?l=ZenScript"},Zephir:{color:"#118f9e",url:"https://github.com/trending?l=Zephir"},Zig:{color:"#ec915c",url:"https://github.com/trending?l=Zig"},ZIL:{color:"#dc75e5",url:"https://github.com/trending?l=ZIL"},Zimpl:{color:"inherit",url:"https://github.com/trending?l=Zimpl"}},qt=(0,T.Z)(X=>({infoCard:{marginBottom:X.spacing(3),"& + .MuiAlert-root":{marginTop:X.spacing(3)}},barContainer:{height:X.spacing(2),marginBottom:X.spacing(3),borderRadius:"4px",backgroundColor:"transparent",overflow:"hidden"},bar:{height:"100%",position:"relative"},languageDot:{width:"10px",height:"10px",borderRadius:"50%",marginRight:X.spacing(1),display:"inline-block"},label:{color:"inherit"}}));var gn=()=>{const{entity:X}=(0,d.X2)();let ae=0;const $e=qt(),{owner:Ne,repo:Ze}=cn(X),{value:Ue,loading:Qe,error:rt}=yn(X,"languages",0,0);return Qn(X)?Qe?t.createElement(B.Ex,null):rt?t.createElement(Lt,{severity:"error",className:$e.infoCard},rt.message):Ue&&Ne&&Ze?t.createElement(B.rJ,{title:"Languages",className:$e.infoCard},t.createElement("div",{className:$e.barContainer},Object.entries(Ue).map((at,mt)=>{var Ct;return ae=ae+at[1]/Object.values(Ue).reduce((Ft,At)=>Ft+At)*100,t.createElement(A.ZP,{title:at[0],placement:"bottom-end",key:at[0]},t.createElement("div",{className:$e.bar,key:at[0],style:{marginTop:mt===0?"0":"-16px",zIndex:Object.keys(Ue).length-mt,backgroundColor:((Ct=xt[at[0]])==null?void 0:Ct.color)||"#333",width:`${ae}%`}}))})),Object.entries(Ue).map(at=>{var mt;return t.createElement(S.Z,{classes:{label:$e.label},label:t.createElement(t.Fragment,null,t.createElement("span",{className:$e.languageDot,style:{backgroundColor:((mt=xt[at[0]])==null?void 0:mt.color)||"#333"}}),at[0]," -"," ",(at[1]/Object.values(Ue).reduce((Ct,Ft)=>Ct+Ft)*100).toFixed(2),"%"),variant:"outlined",key:at[0]})})):t.createElement(t.Fragment,null):t.createElement(B.sk,{annotation:Wr})};const or=(0,T.Z)(X=>({infoCard:{marginBottom:X.spacing(3),"& + .MuiAlert-root":{marginTop:X.spacing(3)},"& .MuiCardContent-root":{padding:X.spacing(2,1,2,2)}},readMe:{overflowY:"auto",paddingRight:X.spacing(1),"&::-webkit-scrollbar-track":{backgroundColor:"#F5F5F5",borderRadius:"5px"},"&::-webkit-scrollbar":{width:"5px",backgroundColor:"#F5F5F5",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{border:"1px solid #555555",backgroundColor:"#555",borderRadius:"4px"}}})),Un=X=>new URL(X).searchParams.get("ref");function Fn(X){return decodeURIComponent(Array.prototype.map.call(atob(X),function(ae){return"%"+("00"+ae.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var ke=X=>{const{entity:ae}=(0,d.X2)(),$e=or(),{owner:Ne,repo:Ze,readmePath:Ue}=cn(ae),Qe=Ue?`contents/${Ue}`:"readme",rt=Ue||"README.md",{value:yt,loading:at,error:mt}=yn(ae,Qe),{hostname:Ct}=cr(ae);return Qn(ae)?at?t.createElement(B.Ex,null):mt?t.createElement(Lt,{severity:"error",className:$e.infoCard},mt.message):(yt==null?void 0:yt.content)&&Ne&&Ze?t.createElement(B.rJ,{title:"Readme",className:$e.infoCard,deepLink:{link:`//${Ct}/${Ne}/${Ze}/blob/${Un(yt.url)}/${rt}`,title:"Readme",onClick:At=>{At.preventDefault(),window.open(`//${Ct}/${Ne}/${Ze}/blob/${Un(yt.url)}/${rt}`)}}},t.createElement("div",{className:$e.readMe,style:{maxHeight:`${X.maxHeight}px`}},t.createElement(B.SA,{content:Fn(yt.content).replace(/\[([^\[\]]*)\]\((?!https?:\/\/)(.*?)(\.png|\.jpg|\.jpeg|\.gif|\.webp)(.*)\)/gim,`[$1](//${Ct}/${Ne}/${Ze}/raw/${Un(yt.url)}/$2$3$4)`).replace(/\[([^\[\]]*)\]\((?!https?:\/\/)docs\/(.*?)(\.md)\)/gim,"[$1](docs/$2/)").replace(/\[([^\[\]]*)\]\((?!https?:\/\/)(.*?)(\.md)\)/gim,`[$1](//${Ct}/${Ne}/${Ze}/blob/${Un(yt.url)}/$2$3)`)}))):t.createElement(t.Fragment,null):t.createElement(B.sk,{annotation:Wr})};const K=(0,T.Z)(X=>({card:{boxShadow:"none"},protectedBranches:{display:"flex",flexDirection:"row",justifyContent:"space-between"},infoCard:{marginBottom:X.spacing(3),"& + .MuiAlert-root":{marginTop:X.spacing(3)}},listStyle:{paddingTop:0,"& :nth-child(1)":{paddingTop:"0.1rem"}},releaseTitle:{fontSize:"1.1rem",fontWeight:X.typography.fontWeightMedium,margin:0,marginRight:"0.5rem"},releaseTagIcon:{verticalAlign:"middle"},listItem:{justifyContent:"space-between"}}));var se=()=>{const X=K(),{entity:ae}=(0,d.X2)(),{owner:$e,repo:Ne}=cn(ae),{value:Ze,loading:Ue,error:Qe}=yn(ae,"releases",0,5),{hostname:rt}=cr(ae);return Qn(ae)?Ue?t.createElement(B.Ex,null):Qe?t.createElement(Lt,{severity:"error",className:X.infoCard},Qe.message):(Ze==null?void 0:Ze.length)&&$e&&Ne?t.createElement(B.rJ,{title:"Releases",deepLink:{link:`//${rt}/${$e}/${Ne}/releases`,title:"Releases",onClick:at=>{at.preventDefault(),window.open(`//${rt}/${$e}/${Ne}/releases`)}},className:X.infoCard},t.createElement(F.Z,null,Ze.map(at=>t.createElement(U.Z,{className:X.listItem,key:at.id},t.createElement(E.Z,{href:at.html_url,color:"inherit",target:"_blank",rel:"noopener noreferrer"},t.createElement("p",{className:X.releaseTitle},at.name),t.createElement(Ea.Z,{fontSize:"inherit",className:X.releaseTagIcon})," ",at.tag_name),at.prerelease&&t.createElement(S.Z,{color:"primary",size:"small",label:"Pre-release"}))))):t.createElement(t.Fragment,null):t.createElement(B.sk,{annotation:Wr})};const ge="No license file found",Pe=X=>{const ae=(0,e.h_)(e.F4),{baseUrl:$e}=cr(X),{owner:Ne,repo:Ze}=cn(X),{state:Ue,setState:Qe}=ta(mt=>mt.branches),{value:rt,loading:yt,error:at}=(0,re.Z)(async()=>{var mt;let Ct;try{const Ft=await ae.getAccessToken(["repo"]),rn=await new W.v({auth:Ft}).request("GET /repos/{owner}/{repo}/branches",{headers:{"if-none-match":Ue.etag},baseUrl:$e,owner:Ne,repo:Ze,protected:!0});Ct={data:rn.data,etag:(mt=rn.headers.etag)!=null?mt:""}}catch(Ft){Ft instanceof gr.RequestError&&Ft.status===304&&(Ct=Ue)}return Ct},[$e]);return rt&&Qe(rt),{branches:rt?rt==null?void 0:rt.data:void 0,loading:yt,error:at}},Oe=X=>{const ae=(0,e.h_)(e.F4),{baseUrl:$e}=cr(X),{owner:Ne,repo:Ze}=cn(X),{state:Ue,setState:Qe}=ta(mt=>mt.license),{value:rt,loading:yt,error:at}=(0,re.Z)(async()=>{var mt;if(Ue.data===ge)return Ue;const Ct=await ae.getAccessToken(["repo"]),Ft=new W.v({auth:Ct});let At;try{const rn=await Ft.request("GET /repos/{owner}/{repo}/contents/{path}",{headers:{"if-none-match":Ue.etag},baseUrl:$e,owner:Ne,repo:Ze,path:"LICENSE"}),un=atob(rn.data.content).split(`
`).map(hn=>hn.trim()).filter(Boolean)[0];At={etag:(mt=rn.headers.etag)!=null?mt:"",data:un}}catch(rn){if(rn instanceof gr.RequestError){if(rn.status===304)return Ue;rn.status===404&&(At={etag:"",data:ge})}}return At},[$e]);return rt&&Qe(rt),{license:rt?rt==null?void 0:rt.data:void 0,loading:yt,error:at}};var st=()=>{const{entity:X}=(0,d.X2)(),{branches:ae,loading:$e,error:Ne}=Pe(X),{license:Ze,loading:Ue,error:Qe}=Oe(X),rt=K(),{owner:yt,repo:at}=cn(X);return Qn(X)?$e||Ue?t.createElement(B.Ex,null):Ne||Qe?t.createElement(Lt,{severity:"error"},"Error occured while fetching data for the compliance card:"," ",Ne==null?void 0:Ne.message):t.createElement(B.rJ,{title:"Compliance report"},t.createElement(B.xT,{metadata:{"Protected branches":(ae==null?void 0:ae.length)&&yt&&at?t.createElement(F.Z,{className:rt.listStyle},ae.map(Ct=>t.createElement(U.Z,{key:Ct.name},Ct.name))):t.createElement(c.Z,{display:"flex",alignItems:"center"},t.createElement(Ia.Z,{style:{color:"orange",marginRight:"5px",flexShrink:0}}),t.createElement("span",null,"None")),License:Ze===ge?t.createElement(c.Z,{display:"flex",alignItems:"center"},t.createElement(Ia.Z,{style:{color:"orange",marginRight:"5px",flexShrink:0}}),t.createElement("span",null,"None")):Ze}})):t.createElement(B.sk,{annotation:Wr})};const pt=()=>{const{entity:X}=(0,d.X2)();return Qn(X)?t.createElement(B.T3,{themeId:"tool"},t.createElement(B.VY,null,t.createElement(B.yW,{title:"GitHub Insights"},t.createElement(B.qt,null,"Plugin to show GitHub Insights")),t.createElement(h.Z,{container:!0,spacing:3,direction:"row",alignItems:"stretch"},t.createElement(h.Z,{item:!0,sm:12,md:6,lg:4},t.createElement(ht,null),t.createElement(gn,null),t.createElement(se,null),t.createElement(st,null)),t.createElement(h.Z,{item:!0,sm:12,md:6,lg:8},t.createElement(ke,{maxHeight:450}))))):t.createElement(B.sk,{annotation:Wr})}},28316:function(Se,r,a){a.d(r,{M6:function(){return Yt},Ou:function(){return Qt},P1:function(){return bt},S4:function(){return ar},cz:function(){return Ya},of:function(){return bn},zG:function(){return w}});var e=a(76635),t=a.n(e),T=a(51085),h=a.n(T);const w="default",i="backstage.io/view-url",E="backstage.io/edit-url";class c{constructor(Ae=w){this.namespace=Ae}async enforce(Ae){return Ae.metadata.namespace?Ae:lodash.merge({metadata:{namespace:this.namespace}},Ae)}}class l{static isValidPrefixAndOrSuffix(Ae,ht,xt,qt){if(typeof Ae!="string")return!1;const nn=Ae.split(ht);return nn.length===1?qt(nn[0]):nn.length===2?xt(nn[0])&&qt(nn[1]):!1}static isJsonSafe(Ae){try{return t().isEqual(Ae,JSON.parse(JSON.stringify(Ae)))}catch{return!1}}static isValidDnsSubdomain(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=253&&Ae.split(".").every(l.isValidDnsLabel)}static isValidDnsLabel(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(Ae)}static isValidTag(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^[a-z0-9+#]+(\-[a-z0-9+#]+)*$/.test(Ae)}static isValidUrl(Ae){if(typeof Ae!="string")return!1;try{return new URL(Ae),!0}catch{return!1}}static isValidString(Ae){var ht;return typeof Ae=="string"&&((ht=Ae==null?void 0:Ae.trim())==null?void 0:ht.length)>=1}static isNonEmptyString(Ae){var ht;return typeof Ae=="string"&&((ht=Ae==null?void 0:Ae.trim())==null?void 0:ht.length)>=1}}var A="http://json-schema.org/draft-07/schema",S="EntityEnvelope",F="The envelope skeleton parts of an entity - whatever is necessary to be able to give it a ref and pass to further validation / policy checking.",U=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService"}}],B="object",V=["apiVersion","kind","metadata"],f=!0,p={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{type:"object",required:["name"],additionalProperties:!0,properties:{name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1}}}},I={$schema:A,$id:S,description:F,examples:U,type:B,required:V,additionalProperties:f,properties:p},y="http://json-schema.org/draft-07/schema",C="Entity",N="The parts of the format that's common to all versions/kinds of entity.",R=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],b="object",x=["apiVersion","kind","metadata"],H=!1,te={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{$ref:"EntityMeta"},spec:{type:"object",description:"The specification data describing the entity itself."},relations:{type:"array",description:"The relations that this entity has with other entities.",items:{$ref:"common#relation"}},status:{$ref:"common#status"}},oe={$schema:y,$id:C,description:N,examples:R,type:b,required:x,additionalProperties:H,properties:te},ce="http://json-schema.org/draft-07/schema",He="EntityMeta",De="Metadata fields common to all versions/kinds of entity.",et=[{uid:"e01199ab-08cc-44c2-8e19-5c29ded82521",etag:"lsndfkjsndfkjnsdfkjnsd==",name:"my-component-yay",namespace:"the-namespace",labels:{"backstage.io/custom":"ValueStuff"},annotations:{"example.com/bindings":"are-secret"},tags:["java","data"]}],lt="object",Et=["name"],Lt=!0,dt={uid:{type:"string",description:"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.",examples:["e01199ab-08cc-44c2-8e19-5c29ded82521"],minLength:1},etag:{type:"string",description:"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.",examples:["lsndfkjsndfkjnsdfkjnsd=="],minLength:1},name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1},title:{type:"string",description:"A display name of the entity, to be presented in user interfaces instead of the name property, when available.",examples:["React SSR Template"],minLength:1},description:{type:"string",description:"A short (typically relatively few words, on one line) description of the entity."},labels:{type:"object",description:"Key/value pairs of identifying information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},annotations:{type:"object",description:"Key/value pairs of non-identifying auxiliary information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},tags:{type:"array",description:"A list of single-valued strings, to for example classify catalog entities in various ways.",items:{type:"string",minLength:1}},links:{type:"array",description:"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.",items:{type:"object",required:["url"],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://admin.example-org.com"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["Admin Dashboard"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}}},he={$schema:ce,$id:He,description:De,examples:et,type:lt,required:Et,additionalProperties:Lt,properties:dt},j="http://json-schema.org/draft-07/schema",re="common",W="object",d="Common definitions to import from other schemas",k={reference:{$id:"#reference",type:"object",description:"A reference by name to another entity.",required:["kind","namespace","name"],additionalProperties:!1,properties:{kind:{type:"string",description:"The kind field of the entity.",minLength:1},namespace:{type:"string",description:"The metadata.namespace field of the entity.",minLength:1},name:{type:"string",description:"The metadata.name field of the entity.",minLength:1}}},relation:{$id:"#relation",type:"object",description:"A directed relation from one entity to another.",required:["type","target"],additionalProperties:!1,properties:{type:{type:"string",minLength:1,pattern:"^\\w+$",description:"The type of relation."},target:{$ref:"#reference"}}},status:{$id:"#status",type:"object",description:"The current status of the entity, as claimed by various sources.",required:[],additionalProperties:!0,properties:{items:{type:"array",items:{$ref:"#statusItem"}}}},statusItem:{$id:"#statusItem",type:"object",description:"A specific status item on a well known format.",required:["type","level","message"],additionalProperties:!0,properties:{type:{type:"string",minLength:1},level:{$ref:"#statusLevel",description:"The status level / severity of the status item."},message:{type:"string",description:"A brief message describing the status, intended for human consumption."},error:{$ref:"#error",description:"An optional serialized error object related to the status."}}},statusLevel:{$id:"#statusLevel",type:"string",description:"A status level / severity.",enum:["info","warning","error"]},error:{$id:"#error",type:"object",description:"A serialized error object.",required:["name","message"],additionalProperties:!0,properties:{name:{type:"string",examples:["Error","InputError"],description:"The type name of the error",minLength:1},message:{type:"string",description:"The message of the error"},code:{type:"string",description:"An error code associated with the error"},stack:{type:"string",description:"An error stack trace"}}}},J={$schema:j,$id:re,type:W,description:d,definitions:k};const Le=new Map,Me=[I,oe,he,J];function gt(qe){if(!(qe!=null&&qe.length))throw new TypeError("Unknown error");const Ae=qe[0];throw new TypeError(`${Ae.instancePath||"<root>"} ${Ae.message}${Ae.params?` - ${Object.entries(Ae.params).map(([ht,xt])=>`${ht}: ${xt}`).join(", ")}`:""}`)}function nt(qe,Ae={}){var ht;const xt=(ht=Ae==null?void 0:Ae.disableCache)!=null?ht:!1,qt=xt?"":JSON.stringify(qe);if(!xt){const Un=Le.get(qt);if(Un)return Un}const nn=M(qe),gn=new(h())({allowUnionTypes:!0,allErrors:!0,validateSchema:!0});nn.length&&gn.addSchema(nn,void 0,void 0,!0);const or=gn.compile(qe);return xt||Le.set(qt,or),or}function M(qe){if(typeof qe!="object")return[];const Ae=new Set;qe.$id&&Ae.add(qe.$id);const ht=new Array,xt=[qe];for(;xt.length;){const qt=xt.pop();for(const nn of Z(qt))if(!Ae.has(nn)){Ae.add(nn);const gn=Me.find(or=>or.$id===nn);gn&&(ht.push(gn),xt.push(gn))}}return ht}function*Z(qe){const Ae=[qe];for(;Ae.length;){const ht=Ae.pop();if(typeof ht=="object"&&ht)for(const[xt,qt]of Object.entries(ht))xt==="$ref"&&typeof qt=="string"?yield qt.split("#")[0]:Ae.push(qt)}}function ie(qe){const Ae=nt(qe||I);return ht=>{if(Ae(ht)===!0)return ht;throw gt(Ae.errors)}}function we(qe){const Ae=nt(qe);return ht=>{var xt;if(Ae(ht)===!0)return ht;const nn=(xt=Ae.errors)==null?void 0:xt.filter(gn=>["/kind","/apiVersion"].includes(gn.instancePath));if((nn==null?void 0:nn.length)&&nn.every(gn=>gn.keyword==="enum"))return!1;throw gt(Ae.errors)}}function je(qe){const Ae=nt(qe||oe);return ht=>{if(Ae(ht)===!0)return ht;throw gt(Ae.errors)}}class Xe{static isValidApiVersion(Ae){return l.isValidPrefixAndOrSuffix(Ae,"/",l.isValidDnsSubdomain,ht=>ht.length>=1&&ht.length<=63&&/^[a-z0-9A-Z]+$/.test(ht))}static isValidKind(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^[a-zA-Z][a-z0-9A-Z]*$/.test(Ae)}static isValidObjectName(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(Ae)}static isValidNamespace(Ae){return l.isValidDnsLabel(Ae)}static isValidLabelKey(Ae){return l.isValidPrefixAndOrSuffix(Ae,"/",l.isValidDnsSubdomain,Xe.isValidObjectName)}static isValidLabelValue(Ae){return Ae===""||Xe.isValidObjectName(Ae)}static isValidAnnotationKey(Ae){return l.isValidPrefixAndOrSuffix(Ae,"/",l.isValidDnsSubdomain,Xe.isValidObjectName)}static isValidAnnotationValue(Ae){return typeof Ae=="string"}}const Mt={isValidApiVersion:Xe.isValidApiVersion,isValidKind:Xe.isValidKind,isValidEntityName:Xe.isValidObjectName,isValidNamespace:Xe.isValidNamespace,isValidLabelKey:Xe.isValidLabelKey,isValidLabelValue:Xe.isValidLabelValue,isValidAnnotationKey:Xe.isValidAnnotationKey,isValidAnnotationValue:Xe.isValidAnnotationValue,isValidTag:qe=>typeof qe=="string"&&qe.length>=1&&qe.length<=63&&/^[a-z0-9:+#]+(\-[a-z0-9:+#]+)*$/.test(qe)};function Ut(qe={}){return{...Mt,...qe}}class Gt{constructor(Ae=Ut()){this.validators=Ae}async enforce(Ae){var ht,xt,qt,nn,gn,or,Un;function Fn(Q,se,ge){if(se==null)throw new Error(`${Q} must have a value`);let Pe;try{Pe=ge(se)}catch(Oe){throw new Error(`${Q} could not be validated, ${Oe}`)}if(!Pe){let Oe;switch(ge.name){case"isValidLabelValue":case"isValidObjectName":Oe="a string that is sequences of [a-zA-Z0-9] separated by any of [-_.], at most 63 characters in total";break;case"isValidLabelKey":case"isValidApiVersion":case"isValidAnnotationKey":Oe="a valid prefix and/or suffix";break;case"isValidNamespace":case"isValidDnsLabel":Oe="a string that is sequences of [a-z0-9] separated by [-], at most 63 characters in total";break;case"isValidTag":Oe="a string that is sequences of [a-z0-9+#] separated by [-], at most 63 characters in total";break;case"isValidAnnotationValue":Oe="a string";break;case"isValidKind":Oe="a string that is a sequence of [a-zA-Z][a-z0-9A-Z], at most 63 characters in total";break;case"isValidUrl":Oe="a string that is a valid url";break;case"isValidString":case"isNonEmptyString":Oe="a non empty string";break;default:Oe=void 0;break}const Ge=Oe?` expected ${Oe} but found "${se}".`:"";throw new Error(`"${Q}" is not valid;${Ge} To learn more about catalog file format, visit: https://github.com/backstage/backstage/blob/master/docs/architecture-decisions/adr002-default-catalog-file-format.md`)}}function Rr(Q,se,ge){return se===void 0||Fn(Q,se,ge)}Fn("apiVersion",Ae.apiVersion,this.validators.isValidApiVersion),Fn("kind",Ae.kind,this.validators.isValidKind),Fn("metadata.name",Ae.metadata.name,this.validators.isValidEntityName),Rr("metadata.namespace",Ae.metadata.namespace,this.validators.isValidNamespace);for(const[Q,se]of Object.entries((ht=Ae.metadata.labels)!=null?ht:[]))Fn(`labels.${Q}`,Q,this.validators.isValidLabelKey),Fn(`labels.${Q}`,se,this.validators.isValidLabelValue);for(const[Q,se]of Object.entries((xt=Ae.metadata.annotations)!=null?xt:[]))Fn(`annotations.${Q}`,Q,this.validators.isValidAnnotationKey),Fn(`annotations.${Q}`,se,this.validators.isValidAnnotationValue);const ke=(qt=Ae.metadata.tags)!=null?qt:[];for(let Q=0;Q<ke.length;++Q)Fn(`tags.${Q}`,ke[Q],this.validators.isValidTag);const K=(nn=Ae.metadata.links)!=null?nn:[];for(let Q=0;Q<K.length;++Q)Fn(`links.${Q}.url`,(gn=K[Q])==null?void 0:gn.url,l.isValidUrl),Rr(`links.${Q}.title`,(or=K[Q])==null?void 0:or.title,l.isNonEmptyString),Rr(`links.${Q}.icon`,(Un=K[Q])==null?void 0:Un.icon,Xe.isValidObjectName);return Ae}}const zt=null;class _t{constructor(Ae=zt){this.knownFields=Ae}async enforce(Ae){for(const ht of Object.keys(Ae))if(!this.knownFields.includes(ht))throw new Error(`Unknown field ${ht}`);return Ae}}class on{async enforce(Ae){if(!this.validate){const qt=new Ajv({allowUnionTypes:!0});this.validate=qt.addSchema([J,he],void 0,void 0,!0).compile(oe)}if(this.validate(Ae)===!0)return Ae;const[xt]=this.validate.errors||[];throw xt?new Error(`Malformed envelope, ${xt.instancePath||"<root>"} ${xt.message}`):new Error("Malformed envelope, Unknown error")}}function It(qe){let Ae=qe.indexOf(":");const ht=qe.indexOf("/");ht!==-1&&ht<Ae&&(Ae=-1);const xt=Ae===-1?void 0:qe.slice(0,Ae),qt=ht===-1?void 0:qe.slice(Ae+1,ht),nn=qe.slice(Math.max(Ae+1,ht+1));if(xt===""||qt===""||nn==="")throw new TypeError(`Entity reference "${qe}" was not on the form [<kind>:][<namespace>/]<name>`);return{kind:xt,namespace:qt,name:nn}}function dn(qe){return{kind:qe.kind,namespace:qe.metadata.namespace||w,name:qe.metadata.name}}function bn(qe,Ae){var ht,xt,qt,nn;if(!qe)throw new Error("Entity reference must not be empty");const gn=Ae==null?void 0:Ae.defaultKind,or=(Ae==null?void 0:Ae.defaultNamespace)||w;let Un,Fn,Rr;if(typeof qe=="string"){const ke=It(qe);Un=(ht=ke.kind)!=null?ht:gn,Fn=(xt=ke.namespace)!=null?xt:or,Rr=ke.name}else Un=(qt=qe.kind)!=null?qt:gn,Fn=(nn=qe.namespace)!=null?nn:or,Rr=qe.name;if(Un)if(Fn){if(!Rr){const ke=JSON.stringify(qe);throw new Error(`Entity reference ${ke} had missing or empty name`)}}else{const ke=JSON.stringify(qe);throw new Error(`Entity reference ${ke} had missing or empty namespace`)}else{const ke=JSON.stringify(qe);throw new Error(`Entity reference ${ke} had missing or empty kind (e.g. did not start with "component:" or similar)`)}return{kind:Un,namespace:Fn,name:Rr}}function pn(qe){var Ae,ht;let xt,qt,nn;return"metadata"in qe?(xt=qe.kind,qt=(Ae=qe.metadata.namespace)!=null?Ae:w,nn=qe.metadata.name):(xt=qe.kind,qt=(ht=qe.namespace)!=null?ht:w,nn=qe.name),`${xt.toLocaleLowerCase("en-US")}:${qt.toLocaleLowerCase("en-US")}/${nn.toLocaleLowerCase("en-US")}`}class wn{constructor(Ae){this.policies=Ae}async enforce(Ae){let ht=Ae;for(const xt of this.policies){const qt=await xt.enforce(ht);if(!qt)throw new Error(`Policy ${xt.constructor.name} did not return a result`);ht=qt}return ht}}class pe{constructor(Ae){this.policies=Ae}async enforce(Ae){for(const ht of this.policies){const xt=await ht.enforce(Ae);if(xt)return xt}throw new Error("The entity did not match any known policy")}}const ue={allOf(qe){return new wn(qe)},oneOf(qe){return new pe(qe)}};var Ce="http://json-schema.org/draft-07/schema",Be="ApiV1alpha1",Ke="An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.",wt=[{apiVersion:"backstage.io/v1alpha1",kind:"API",metadata:{name:"artist-api",description:"Retrieve artist details",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"openapi",lifecycle:"production",owner:"artist-relations-team",system:"artist-engagement-portal",definition:`openapi: "3.0.0"
info:...`}}],Ht=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["API"]},spec:{type:"object",required:["type","lifecycle","owner","definition"],properties:{type:{type:"string",description:"The type of the API definition.",examples:["openapi","asyncapi","graphql","grpc"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the API.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the API.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the API belongs to.",minLength:1},definition:{type:"string",description:"The definition of the API, based on the format defined by the type.",minLength:1}}}}}],ot={$schema:Ce,$id:Be,description:Ke,examples:wt,allOf:Ht};function Rt(qe){const Ae=we(qe);return{async check(ht){return Ae(ht)===ht}}}const Dt=Rt(ot);var tn="http://json-schema.org/draft-07/schema",Rn="ComponentV1alpha1",In='A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a "unit of software", usually with a distinct deployable or linkable artifact.',On=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],Mn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Component"]},spec:{type:"object",required:["type","lifecycle","owner"],properties:{type:{type:"string",description:"The type of component.",examples:["service","website","library"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the component.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the component belongs to.",minLength:1},subcomponentOf:{type:"string",description:"An entity reference to another component of which the component is a part.",minLength:1},providesApis:{type:"array",description:"An array of entity references to the APIs that are provided by the component.",items:{type:"string",minLength:1}},consumesApis:{type:"array",description:"An array of entity references to the APIs that are consumed by the component.",items:{type:"string",minLength:1}},dependsOn:{type:"array",description:"An array of references to other entities that the component depends on to function.",items:{type:"string",minLength:1}}}}}}],Bn={$schema:tn,$id:Rn,description:In,examples:On,allOf:Mn};const _n=Rt(Bn);var yr="http://json-schema.org/draft-07/schema",Yn="DomainV1alpha1",Ur="A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.",nr=[{apiVersion:"backstage.io/v1alpha1",kind:"Domain",metadata:{name:"artists",description:"Everything about artists"},spec:{owner:"artist-relations-team"}}],jn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Domain"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1}}}}}],rr={$schema:yr,$id:Yn,description:Ur,examples:nr,allOf:jn};const vr=Rt(rr);var Jn="http://json-schema.org/draft-07/schema",ir="GroupV1alpha1",Cr="A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.",Ir=[{apiVersion:"backstage.io/v1alpha1",kind:"Group",metadata:{name:"infrastructure",description:"The infra business unit"},spec:{type:"business-unit",profile:{displayName:"Infrastructure",email:"infrastructure@example.com",picture:"https://example.com/groups/bu-infrastructure.jpeg"},parent:"ops",children:["backstage","other"]}}],sn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Group"]},spec:{type:"object",required:["type","children"],properties:{type:{type:"string",description:"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.",examples:["team","business-unit","product-area","root"],minLength:1},profile:{type:"object",description:"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Infrastructure"],minLength:1},email:{type:"string",description:"An email where this entity can be reached.",examples:["infrastructure@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this entity.",examples:["https://example.com/groups/bu-infrastructure.jpeg"],minLength:1}}},parent:{type:"string",description:"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.",examples:["ops"],minLength:1},children:{type:"array",description:"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["backstage","other"],minLength:1}},members:{type:"array",description:"The users that are members of this group. The entries of this array are entity references.",items:{type:"string",examples:["jdoe"],minLength:1}}}}}}],wr={$schema:Jn,$id:ir,description:Cr,examples:Ir,allOf:sn};const _a=Rt(wr);var va="http://json-schema.org/draft-07/schema",Er="LocationV1alpha1",Gr="A location is a marker that references other places to look for catalog data.",Vr=[{apiVersion:"backstage.io/v1alpha1",kind:"Location",metadata:{name:"org-data"},spec:{type:"url",targets:["http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml"]}}],kr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Location"]},spec:{type:"object",required:[],properties:{type:{type:"string",description:"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.",examples:["url"],minLength:1},target:{type:"string",description:"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.",examples:["./details/catalog-info.yaml"],minLength:1},targets:{type:"array",description:"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.",items:{type:"string",examples:["./details/catalog-info.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml"],minLength:1}},presence:{type:"string",description:"Whether the presence of the location target is required and it should be considered an error if it can not be found",default:"required",examples:["required"],enum:["required","optional"]}}}}}],Mr={$schema:va,$id:Er,description:Gr,examples:Vr,allOf:kr};const sa=Rt(Mr),ar="ownedBy",ia="ownerOf",to="consumesApi",Pr="apiConsumedBy",Br="providesApi",Ua="apiProvidedBy",Ja="dependsOn",qr="dependencyOf",Fr="parentOf",gr="childOf",Ea="memberOf",Ia="hasMember",Ya="partOf",Or="hasPart";var la="http://json-schema.org/draft-07/schema",Ga="ResourceV1alpha1",pa="A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.",zr=[{apiVersion:"backstage.io/v1alpha1",kind:"Resource",metadata:{name:"artists-db",description:"Stores artist details"},spec:{type:"database",owner:"artist-relations-team",system:"artist-engagement-portal"}}],Zr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Resource"]},spec:{type:"object",required:["type","owner"],properties:{type:{type:"string",description:"The type of resource.",examples:["database","s3-bucket","cluster"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the resource.",examples:["artist-relations-team","user:john.johnson"],minLength:1},dependsOn:{type:"array",description:"An array of references to other entities that the resource depends on to function.",items:{type:"string",minLength:1}},system:{type:"string",description:"An entity reference to the system that the resource belongs to.",minLength:1}}}}}],mn={$schema:la,$id:Ga,description:pa,examples:zr,allOf:Zr};const Wr=Rt(mn);var Qn="http://json-schema.org/draft-07/schema",ea="SystemV1alpha1",cr="A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.",Xn=[{apiVersion:"backstage.io/v1alpha1",kind:"System",metadata:{name:"artist-engagement-portal",description:"Handy tools to keep artists in the loop"},spec:{owner:"artist-relations-team",domain:"artists"}}],hr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["System"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},domain:{type:"string",description:"An entity reference to the domain that the system belongs to.",examples:["artists"],minLength:1}}}}}],qn={$schema:Qn,$id:ea,description:cr,examples:Xn,allOf:hr};const ur=Rt(qn);var fa="http://json-schema.org/draft-07/schema",Hr="UserV1alpha1",ta="A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.",Ee=[{apiVersion:"backstage.io/v1alpha1",kind:"User",metadata:{name:"jdoe"},spec:{profile:{displayName:"Jenny Doe",email:"jenny-doe@example.com",picture:"https://example.com/staff/jenny-with-party-hat.jpeg"},memberOf:["team-b","employees"]}}],ve=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["User"]},spec:{type:"object",required:["memberOf"],properties:{profile:{type:"object",description:"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Jenny Doe"],minLength:1},email:{type:"string",description:"An email where this user can be reached.",examples:["jenny-doe@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this user.",examples:["https://example.com/staff/jenny-with-party-hat.jpeg"],minLength:1}}},memberOf:{type:"array",description:"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["team-b","employees"],minLength:1}}}}}}],Ie={$schema:fa,$id:Hr,description:ta,examples:Ee,allOf:ve};const Je=Rt(Ie),bt="backstage.io/managed-by-location",Ot="backstage.io/managed-by-origin-location",Yt="backstage.io/source-location";function Qt(qe){if(typeof qe!="string")throw new TypeError(`Unable to parse location ref '${qe}', unexpected argument ${typeof qe}`);const Ae=qe.indexOf(":");if(Ae<0)throw new TypeError(`Unable to parse location ref '${qe}', expected '<type>:<target>', e.g. 'url:https://host/path'`);const ht=qe.substring(0,Ae).trim(),xt=qe.substring(Ae+1).trim();if(!ht||!xt)throw new TypeError(`Unable to parse location ref '${qe}', expected '<type>:<target>', e.g. 'url:https://host/path'`);if(ht==="http"||ht==="https")throw new TypeError(`Invalid location ref '${qe}', please prefix it with 'url:', e.g. 'url:${qe}'`);return{type:ht,target:xt}}function cn(qe){const{type:Ae,target:ht}=qe;if(Ae){if(!ht)throw new TypeError("Unable to stringify location ref, empty target")}else throw new TypeError("Unable to stringify location ref, empty type");return`${Ae}:${ht}`}function yn(qe){var Ae,ht,xt,qt,nn;const gn=(nn=(ht=(Ae=qe.metadata)==null?void 0:Ae.annotations)==null?void 0:ht[Yt])!=null?nn:(qt=(xt=qe.metadata)==null?void 0:xt.annotations)==null?void 0:qt[bt];if(!gn)throw new Error(`Entity '${pn(qe)}' is missing location`);return Qt(gn)}},80204:function(Se,r,a){a.d(r,{VY:function(){return ai},yW:function(){return ui},rJ:function(){return lo},rU:function(){return Oa},SA:function(){return Di},sk:function(){return js},Or:function(){return sc},T3:function(){return ut},Ex:function(){return go},xT:function(){return vc},qt:function(){return $c},iA:function(){return Xa}});var e=a(2784),t=a(61837),T=a(66119),h=a(19928),w=a(79692),i=a(12420),E=a(60364),c=a(41128),l=a(15459),A=a(76600),S=a(41547),F=a(77277),U=a(72779),B=a.n(U),V=a(86689),f=a(62833),p=a(10289),I=a(80030),y=a(19353),C=a(95074),N=a(56553),R=a(26639),b=a(39595),x=a(41156),H=a(13387),te=a(46506),oe=a(54073),ce=a(10368),He=a(55876),De=a(66481),et=a(19574),lt=a(60905),Et=a(90436),Lt=a.p+"static/missingAnnotation.67f79e98..svg",dt=a.p+"static/noInformation.4b426325..svg",he=a.p+"static/createComponent.975d1e1e..svg",j=a.p+"static/noBuild.1715fa71..svg",re=a(11776),W=a(38402),d=a(49378),k=a(27616),J=a(8284),Le=a(70660),Me=a(91750),gt=a(38016),nt=a(85256),M=a(1292),Z=a(47093),ie=a(48049),we=a(51209),je=a(49448),Xe=a(60251),Mt=a(49429),Ut=a(10179),Gt=a(15277),zt=a.n(Gt),_t=a(77409),on=a(67358),It=a(94339),dn=a(14503),bn=a(24579),pn=a(32552),wn=a(95544),pe=a(27597),ue=a(7896),Ce=a(96234),Be=a(59740),Ke={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},wt=function(O){var Y=O.map(function(){return(0,e.useRef)()}),ne=(0,e.useRef)(null);return(0,e.useEffect)(function(){var fe=Date.now(),Te=!1;Object.keys(Y).forEach(function(_e){var Ye=Y[_e].current;if(!!Ye){Te=!0;var it=Ye.style;it.transitionDuration=".3s, .3s, .3s, .06s",ne.current&&fe-ne.current<100&&(it.transitionDuration="0s, 0s")}}),Te&&(ne.current=Date.now())}),[Y]},Ht=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],ot=function(O){var Y=O.className,ne=O.percent,fe=O.prefixCls,Te=O.strokeColor,_e=O.strokeLinecap,Ye=O.strokeWidth,it=O.style,ct=O.trailColor,kt=O.trailWidth,$t=O.transition,jt=(0,Be.Z)(O,Ht);delete jt.gapPosition;var Wt=Array.isArray(ne)?ne:[ne],Kt=Array.isArray(Te)?Te:[Te],Pn=wt(Wt),er=(0,Ce.Z)(Pn,1),Kn=er[0],dr=Ye/2,Cn=100-Ye/2,Vn="M ".concat(_e==="round"?dr:0,",").concat(dr,`
         L `).concat(_e==="round"?Cn:100,",").concat(dr),zn="0 0 100 ".concat(Ye),Qr=0;return e.createElement("svg",(0,ue.Z)({className:B()("".concat(fe,"-line"),Y),viewBox:zn,preserveAspectRatio:"none",style:it},jt),e.createElement("path",{className:"".concat(fe,"-line-trail"),d:Vn,strokeLinecap:_e,stroke:ct,strokeWidth:kt||Ye,fillOpacity:"0"}),Wt.map(function(Fa,ca){var aa=1;switch(_e){case"round":aa=1-Ye/100;break;case"square":aa=1-Ye/2/100;break;default:aa=1;break}var ua={strokeDasharray:"".concat(Fa*aa,"px, 100px"),strokeDashoffset:"-".concat(Qr,"px"),transition:$t||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},ja=Kt[ca]||Kt[Kt.length-1];return Qr+=Fa,e.createElement("path",{key:ca,className:"".concat(fe,"-line-path"),d:Vn,strokeLinecap:_e,stroke:ja,strokeWidth:Ye,fillOpacity:"0",ref:Kn[ca],style:ua})}))};ot.defaultProps=Ke,ot.displayName="Line";var Rt=ot,Dt=a(86522),tn=a(39588),Rn=0,In=(0,tn.Z)();function On(){var v;return In?(v=Rn,Rn+=1):v="TEST_OR_SSR",v}var Mn=function(v){var O=e.useState(),Y=(0,Ce.Z)(O,2),ne=Y[0],fe=Y[1];return e.useEffect(function(){fe("rc_progress_".concat(On()))},[]),v||ne},Bn=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function _n(v){return+v.replace("%","")}function yr(v){var O=v!=null?v:[];return Array.isArray(O)?O:[O]}var Yn=100,Ur=function(O,Y,ne,fe){var Te=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,_e=arguments.length>5?arguments[5]:void 0,Ye=arguments.length>6?arguments[6]:void 0,it=arguments.length>7?arguments[7]:void 0,ct=Te>0?90+Te/2:-90,kt=Math.PI*2*O,$t=kt*((360-Te)/360),jt=Y/100*360*((360-Te)/360),Wt=Te===0?0:{bottom:0,top:180,left:90,right:-90}[_e],Kt=(100-ne)/100*$t;return Ye==="round"&&ne!==100&&(Kt+=it/2,Kt>=$t&&(Kt=$t-.01)),{stroke:typeof fe=="string"?fe:void 0,strokeDasharray:"".concat($t,"px ").concat(kt),strokeDashoffset:Kt,transform:"rotate(".concat(ct+jt+Wt,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},nr=function(O){var Y=O.id,ne=O.prefixCls,fe=O.strokeWidth,Te=O.trailWidth,_e=O.gapDegree,Ye=O.gapPosition,it=O.trailColor,ct=O.strokeLinecap,kt=O.style,$t=O.className,jt=O.strokeColor,Wt=O.percent,Kt=(0,Be.Z)(O,Bn),Pn=Mn(Y),er="".concat(Pn,"-gradient"),Kn=Yn/2-fe/2,dr=Ur(Kn,0,100,it,_e,Ye,ct,fe),Cn=yr(Wt),Vn=yr(jt),zn=Vn.find(function(ua){return ua&&(0,Dt.Z)(ua)==="object"}),Qr=wt(Cn),Fa=(0,Ce.Z)(Qr,1),ca=Fa[0],aa=function(){var ja=0;return Cn.map(function(lr,ao){var Os=Vn[ao]||Vn[Vn.length-1],Ro=Os&&(0,Dt.Z)(Os)==="object"?"url(#".concat(er,")"):void 0,fi=Ur(Kn,ja,lr,Os,_e,Ye,ct,fe);return ja+=lr,e.createElement("circle",{key:ao,className:"".concat(ne,"-circle-path"),r:Kn,cx:Yn/2,cy:Yn/2,stroke:Ro,strokeLinecap:ct,strokeWidth:fe,opacity:lr===0?0:1,style:fi,ref:ca[ao]})}).reverse()};return e.createElement("svg",(0,ue.Z)({className:B()("".concat(ne,"-circle"),$t),viewBox:"0 0 ".concat(Yn," ").concat(Yn),style:kt,id:Y},Kt),zn&&e.createElement("defs",null,e.createElement("linearGradient",{id:er,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(zn).sort(function(ua,ja){return _n(ua)-_n(ja)}).map(function(ua,ja){return e.createElement("stop",{key:ja,offset:ua,stopColor:zn[ua]})}))),e.createElement("circle",{className:"".concat(ne,"-circle-trail"),r:Kn,cx:Yn/2,cy:Yn/2,stroke:it,strokeLinecap:ct,strokeWidth:Te||fe,style:dr}),aa())};nr.defaultProps=Ke,nr.displayName="Circle";var jn=nr,rr={Line:Rt,Circle:jn},vr=a(21324),Jn=a(7089),ir=a(42494),Cr=a(74603),Ir=a(56939),sn=a(12231),wr=a(73698),_a=a(72379),va=a(74600),Er=a.n(va),Gr=a(37390),Vr=a(97485),kr=a(15584),Mr=a(89571),sa=a(86136),ar=a(79784),ia=a(76635),to=a(19126),Pr=a.n(to),Br=a(80079),Ua=a(18671),Ja=a(72913);function qr(){return qr=Object.assign||function(v){for(var O=1;O<arguments.length;O++){var Y=arguments[O],ne;for(ne in Y)Object.prototype.hasOwnProperty.call(Y,ne)&&(v[ne]=Y[ne])}return v},qr.apply(this,arguments)}var Fr=function(v){return v};function gr(v,O){if(!v)throw Error(O)}function Ea(v,O){if(!v){typeof console!="undefined"&&console.warn(O);try{throw Error(O)}catch{}}}var Ia={};function Ya(v,O,Y){O||Ia[v]||(Ia[v]=!0)}var Or=(0,e.createContext)({static:!1}),la=(0,e.createContext)({outlet:null,params:Fr({}),pathname:"",route:null});function Ga(v){var O=v.children,Y=v.initialEntries;v=v.initialIndex;var ne=useRef();ne.current==null&&(ne.current=createMemoryHistory({initialEntries:Y,initialIndex:v}));var fe=ne.current;Y=useReducer(function(_e,Ye){return Ye},{action:fe.action,location:fe.location}),v=Y[0];var Te=Y[1];return useLayoutEffect(function(){return fe.listen(Te)},[fe]),createElement(mn,{children:O,action:v.action,location:v.location,navigator:fe})}function pa(v){var O=v.to,Y=v.replace,ne=v.state;Qn()||gr(!1);var fe=cr();return useEffect(function(){fe(O,{replace:Y,state:ne})}),null}function zr(){return Xn()}function Zr(v){return v=v.element,v===void 0?createElement(zr,null):v}function mn(v){var O=v.children;O=O===void 0?null:O;var Y=v.action;Y=Y===void 0?Action.Pop:Y;var ne=v.location,fe=v.navigator;return v=v.static,v=v===void 0?!1:v,Qn()&&gr(!1),createElement(Or.Provider,{children:O,value:{action:Y,location:ne,navigator:fe,static:v}})}function Wr(v){var O=v.basename;return O=O===void 0?"":O,v=fa(v.children),qn(v,O)}function Qn(){return(0,e.useContext)(Or).location!=null}function ea(){return Qn()||gr(!1),(0,e.useContext)(Or).location}function cr(){Qn()||gr(!1);var v=(0,e.useContext)(Or).navigator,O=(0,e.useContext)(la).pathname,Y=(0,e.useRef)(!1);return(0,e.useEffect)(function(){Y.current=!0}),(0,e.useCallback)(function(ne,fe){fe===void 0&&(fe={}),Y.current&&(typeof ne=="number"?v.go(ne):(ne=ht(ne,O),(fe.replace?v.replace:v.push)(ne,fe.state)))},[v,O])}function Xn(){return(0,e.useContext)(la).outlet}function hr(v){var O=useContext(la).pathname;return useMemo(function(){return ht(v,O)},[v,O])}function qn(v,O){O===void 0&&(O="");var Y=(0,e.useContext)(la),ne=Y.route,fe=Y.pathname,Te=Y.params;O=O?xt([fe,O]):fe;var _e=ea();return(ne=(0,e.useMemo)(function(){return Hr(v,_e,O)},[_e,v,O]))?ne.reduceRight(function(Ye,it){var ct=it.pathname,kt=it.route;return(0,e.createElement)(la.Provider,{children:kt.element,value:{outlet:Ye,params:Fr(qr({},Te,{},it.params)),pathname:xt([O,ct]),route:kt}})},null):null}function ur(v){return v.map(function(O){var Y={path:O.path||"/",caseSensitive:O.caseSensitive===!0,element:O.element||(0,e.createElement)(zr,null)};return O.children&&(Y.children=ur(O.children)),Y})}function fa(v){var O=[];return Children.forEach(v,function(Y){if(isValidElement(Y))if(Y.type===Fragment)O.push.apply(O,fa(Y.props.children));else{var ne={path:Y.props.path||"/",caseSensitive:Y.props.caseSensitive===!0,element:Y};Y.props.children&&(Y=fa(Y.props.children),Y.length&&(ne.children=Y)),O.push(ne)}}),O}function Hr(v,O,Y){if(Y===void 0&&(Y=""),typeof O=="string"&&(O=(0,Ja.cP)(O)),O=O.pathname||"/",Y)if(Y=Y.replace(/^\/*/,"/").replace(/\/+$/,""),O.startsWith(Y))O=O===Y?"/":O.slice(Y.length);else return null;v=ta(v),Ee(v);var ne=null;for(Y=0;ne==null&&Y<v.length;++Y)e:{ne=O;for(var fe=v[Y][1],Te="/",_e={},Ye=[],it=0;it<fe.length;++it){var ct=fe[it],kt=Te==="/"?ne:ne.slice(Te.length)||"/";if(kt=qe({path:ct.path,caseSensitive:ct.caseSensitive,end:it===fe.length-1},kt),!kt){ne=null;break e}Te=xt([Te,kt.pathname]),_e=qr({},_e,{},kt.params),Ye.push({route:ct,pathname:Te,params:Fr(_e)})}ne=Ye}return ne}function ta(v,O,Y,ne,fe){return O===void 0&&(O=[]),Y===void 0&&(Y=""),ne===void 0&&(ne=[]),fe===void 0&&(fe=[]),v.forEach(function(Te,_e){var Ye=xt([Y,Te.path]),it=ne.concat(Te);_e=fe.concat(_e),Te.children&&ta(Te.children,O,Ye,it,_e),O.push([Ye,it,_e])}),O}function Ee(v){var O=v.reduce(function(Y,ne){return ne=ne[0],Y[ne]=Qt(ne),Y},{});yn(v,function(Y,ne){var fe=Y[2];Y=O[Y[0]];var Te=ne[2];return ne=O[ne[0]],Y!==ne?ne-Y:cn(fe,Te)})}var ve=/^:\w+$/,Ie=2,Je=1,bt=10,Ot=-2;function Yt(v){return v==="*"}function Qt(v){v=v.split("/");var O=v.length;return v.some(Yt)&&(O+=Ot),v.filter(function(Y){return!Yt(Y)}).reduce(function(Y,ne){return Y+(ve.test(ne)?Ie:ne===""?Je:bt)},O)}function cn(v,O){return v.length===O.length&&v.slice(0,-1).every(function(Y,ne){return Y===O[ne]})?v[v.length-1]-O[O.length-1]:0}function yn(v,O){var Y=v.slice(0);v.sort(function(ne,fe){return O(ne,fe)||Y.indexOf(ne)-Y.indexOf(fe)})}function qe(v,O){typeof v=="string"&&(v={path:v});var Y=v;v=Y.path;var ne=Y.caseSensitive;if(Y=Y.end,Y=Ae(v,ne===void 0?!1:ne,Y===void 0?!0:Y),ne=Y[1],Y=O.match(Y[0]),!Y)return null;O=Y[1];var fe=Y.slice(2);return ne=ne.reduce(function(Te,_e,Ye){Ye=fe[Ye];try{var it=decodeURIComponent(Ye.replace(/\+/g," "))}catch{it=Ye}return Te[_e]=it,Te},{}),{path:v,pathname:O,params:ne}}function Ae(v,O,Y){var ne=[],fe="^("+v.replace(/^\/*/,"/").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,function(Te,_e){return ne.push(_e),"([^\\/]+)"})+")";return v.endsWith("*")?(v.endsWith("/*")&&(fe+="\\/?"),ne.push("*"),fe+="(.*)"):Y&&(fe+="\\/?"),Y&&(fe+="$"),[new RegExp(fe,O?void 0:"i"),ne]}function ht(v,O){O===void 0&&(O="/");var Y=typeof v=="string"?(0,Ja.cP)(v):v;v=Y.pathname;var ne=Y.search;return ne=ne===void 0?"":ne,Y=Y.hash,Y=Y===void 0?"":Y,{pathname:v?qt(v,v.startsWith("/")?"/":O):O,search:ne,hash:Y}}function xt(v){return v.join("/").replace(/\/\/+/g,"/")}function qt(v,O){var Y=O.replace(/\/+$/,"").replace(/\/\/+/g,"/").split("/");return v.replace(/\/\/+/g,"/").split("/").forEach(function(ne){ne===".."?1<Y.length&&Y.pop():ne!=="."&&Y.push(ne)}),1<Y.length?xt(Y):"/"}function nn(v,O){return O===void 0&&(O={}),v.replace(/:(\w+)/g,function(Y,ne){return O[ne]==null&&gr(!1),O[ne]}).replace(/\/*\*$/,function(){return O["*"]==null?"":O["*"].replace(/^\/*/,"/")})}function gn(v,O){O===void 0&&(O=!0),Qn()||gr(!1);var Y=useContext(Or).navigator;useEffect(function(){if(O){var ne=Y.block(function(fe){var Te=qr({},fe,{retry:function(){ne(),fe.retry()}});v(Te)});return ne}},[Y,v,O])}function or(v){Qn()||gr(!1);var O=useContext(Or).navigator;return v=hr(v),O.createHref(v)}function Un(v){Qn()||gr(!1);var O=ea();return qe(v,O.pathname)}function Fn(){return(0,e.useContext)(la).params}function Rr(v,O){O===void 0&&(O=""),Qn()||gr(!1);var Y=(0,e.useMemo)(function(){return ur(v)},[v]);return qn(Y,O)}var ke=a(57998),K=a(83543),Q=a(59797),se=a(26739),ge=a(86619),Pe=a(98989),Oe=a(6487),Ge=a(99152),st=a(21070),pt=a(90324),X=a(98281),ae=a(33375),$e=a(44233),Ne=a(27604),Ze=a(36444),Ue=a(37971),Qe=a(59709),rt=a(17373),yt=a(3702),at=a(93111),mt=a(67222),Ct=a(44311),Ft=a.p+"static/mic-drop.fe3ef4d0..svg",At=a(30195),rn=a(63955),un=a(74828),hn=a(45455),en=a.n(hn);function Tn(v){const[O,Y]=useState([]),ne=useApi(alertApiRef),{anchorOrigin:fe={vertical:"top",horizontal:"center"}}=v;if(useEffect(()=>{const Ye=ne.alert$().subscribe(it=>Y(ct=>ct.concat(it)));return()=>{Ye.unsubscribe()}},[ne]),O.length===0)return null;const[Te]=O,_e=()=>{Y(Ye=>Ye.filter(it=>it!==Te))};return React.createElement(Snackbar,{open:!0,anchorOrigin:fe},React.createElement(Alert,{action:React.createElement(IconButton,{color:"inherit",size:"small",onClick:_e,"data-testid":"error-button-close"},React.createElement(CloseIcon,null)),severity:Te.severity},React.createElement("span",null,Te.message.toString(),O.length>1&&React.createElement("em",null,` (${O.length-1} older ${pluralize("message",O.length-1)})`))))}function Nr(v){let O=0;for(let ne=0;ne<v.length;ne++)O=v.charCodeAt(ne)+((O<<5)-O);let Y="#";for(let ne=0;ne<3;ne++)Y+=`00${(O>>ne*8&255).toString(16)}`.substr(-2);return Y}function na(v){var O;return(O=v.match(/\b\w/g))==null?void 0:O.join("").substring(0,2)}const Ml=(0,w.Z)(v=>(0,i.Z)({avatar:{width:"4rem",height:"4rem",color:"#fff",fontWeight:v.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function iu(v){const{displayName:O,picture:Y,customStyles:ne}=v,fe=Ml();let Te={...ne};return Y||(Te={backgroundColor:Nr(O||""),...ne}),React.createElement(MaterialAvatar,{alt:O,src:Y,className:fe.avatar,style:Te},O&&na(O))}const Ls=(0,w.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),lu=v=>/^([a-z+.-]+):/.test(v),Uo=v=>{var O;return v instanceof Array?v.map(Uo).join(" ").trim():typeof v=="object"&&v?Uo((O=v==null?void 0:v.props)==null?void 0:O.children):["string","number"].includes(typeof v)?String(v):""},Oa=e.forwardRef(({onClick:v,noTrack:O,...Y},ne)=>{const fe=Ls(),Te=(0,T.z$)(),_e=String(Y.to),Ye=Uo(Y.children)||_e,it=lu(_e),ct=it&&!!/^https?:/.exec(_e),kt=$t=>{v==null||v($t),O||Te.captureEvent("click",Ye,{attributes:{to:_e}})};return it?e.createElement(V.Z,{ref:ne,href:_e,onClick:kt,...ct?{target:"_blank",rel:"noopener"}:{},...Y,className:B()(fe.externalLink,Y.className)},Y.children,e.createElement("span",{className:fe.visuallyHidden},", Opens in a new window")):e.createElement(V.Z,{ref:ne,component:f.rU,onClick:kt,...Y})}),xs=e.forwardRef((v,O)=>e.createElement(Oa,{ref:O,...v,color:"initial"})),bi=e.forwardRef((v,O)=>e.createElement(F.Z,{ref:O,component:xs,...v}));function Go(v){const{text:O,tooltipDelay:Y=1e3,tooltipText:ne="Text copied to clipboard"}=v,fe=(0,T.h_)(T.VE),[Te,_e]=(0,e.useState)(!1),[{error:Ye},it]=(0,C.Z)();(0,e.useEffect)(()=>{Ye&&fe.post(Ye)},[Ye,fe]);const ct=kt=>{kt.stopPropagation(),_e(!0),it(O)};return e.createElement(e.Fragment,null,e.createElement(I.ZP,{id:"copy-test-tooltip",title:ne,placement:"top",leaveDelay:Y,onClose:()=>_e(!1),open:Te},e.createElement(t.Z,{onClick:ct},e.createElement(y.Z,null))))}function wi(v){const{text:O,language:Y,showLineNumbers:ne=!1,highlightedNumbers:fe,customStyle:Te,showCopyCodeButton:_e=!1}=v,Ye=(0,E.Z)(),it=Ye.palette.type==="dark"?R.Z:b.Z,ct=Ye.palette.type==="dark"?"#256bf3":"#e6ffed";return e.createElement("div",{style:{position:"relative"}},e.createElement(N.Z,{customStyle:Te,language:Y,style:it,showLineNumbers:ne,wrapLines:!0,lineNumberStyle:{color:Ye.palette.textVerySubtle},lineProps:kt=>fe!=null&&fe.includes(kt)?{style:{backgroundColor:ct}}:{}},O),_e&&e.createElement("div",{style:{position:"absolute",top:0,right:0}},e.createElement(Go,{text:O})))}function Ri(v){const{title:O,to:Y}=v,ne=useMediaQuery(fe=>fe.breakpoints.down("xs"));return Y?ne?React.createElement(IconButton,{component:Link$2,color:"primary",title:O,size:"small",to:Y},React.createElement(AddCircleOutline,null)):React.createElement(Button$1,{component:Link$2,variant:"contained",color:"primary",to:Y},O):null}var Si=(v=>(v.TOP_BOTTOM="TB",v.BOTTOM_TOP="BT",v.LEFT_RIGHT="LR",v.RIGHT_LEFT="RL",v))(Si||{}),Ds=(v=>(v.UP_LEFT="UL",v.UP_RIGHT="UR",v.DOWN_LEFT="DL",v.DOWN_RIGHT="DR",v))(Ds||{}),Ms=(v=>(v.NETWORK_SIMPLEX="network-simplex",v.TIGHT_TREE="tight-tree",v.LONGEST_PATH="longest-path",v))(Ms||{}),Po=(v=>(v.LEFT="l",v.RIGHT="r",v.CENTER="c",v))(Po||{}),ss=Object.freeze({__proto__:null,Direction:Si,Alignment:Ds,Ranker:Ms,LabelPosition:Po});const is=(0,w.Z)(v=>({node:{fill:v.palette.primary.light,stroke:v.palette.primary.light},text:{fill:v.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function Bl({node:{id:v}}){const O=is(),[Y,ne]=React.useState(0),[fe,Te]=React.useState(0),_e=React.useRef(null);React.useLayoutEffect(()=>{if(_e.current){let{height:kt,width:$t}=_e.current.getBBox();kt=Math.round(kt),$t=Math.round($t),(kt!==fe||$t!==Y)&&(ne($t),Te(kt))}},[Y,fe]);const Ye=10,it=Y+Ye*2,ct=fe+Ye*2;return React.createElement("g",null,React.createElement("rect",{className:O.node,width:it,height:ct,rx:10}),React.createElement("text",{ref:_e,className:O.text,y:ct/2,x:it/2,textAnchor:"middle",alignmentBaseline:"middle"},v))}const Fl="arrow-marker",cu="node",jl="edge",_l="label",ls=(0,ce.Z)(v=>({node:{transition:`${v.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),Ul=v=>React.createElement(Bl,{...v});function uu({render:v=Ul,setNode:O,node:Y}){const{width:ne,height:fe,x:Te=0,y:_e=0}=Y,Ye=Y,it=ls(),ct=React.useRef(null);return React.useLayoutEffect(()=>{if(ct.current){let{height:kt,width:$t}=ct.current.getBBox();kt=Math.round(kt),$t=Math.round($t),(kt!==fe||$t!==ne)&&O(Y.id,{...Y,height:kt,width:$t})}},[Y,ne,fe,O]),React.createElement("g",{ref:ct,"data-testid":cu,className:it.node,transform:`translate(${Te-ne/2},${_e-fe/2})`},v({node:Ye}))}const du=(0,ce.Z)(v=>({text:{fill:v.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function Gl({edge:{label:v}}){const O=du();return React.createElement("text",{className:O.text,textAnchor:"middle"},v)}const Vl=(0,ce.Z)(v=>({path:{strokeWidth:2,stroke:v.palette.textSubtle,fill:"none",transition:`${v.transitions.duration.shortest}ms`},label:{transition:`${v.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),mu=v=>React.createElement(Gl,{...v}),pu=He.Z().x(v=>v.x).y(v=>v.y).curve(De.Z);function fu({render:v=mu,setEdge:O,id:Y,edge:ne}){const{x:fe=0,y:Te=0,width:_e,height:Ye,points:it}=ne,ct=ne,kt=Vl(),$t=React.useRef(null);React.useLayoutEffect(()=>{if($t.current){let{height:Wt,width:Kt}=$t.current.getBBox();Wt=Math.round(Wt),Kt=Math.round(Kt),(Wt!==Ye||Kt!==_e)&&O(Y,{...ne,height:Wt,width:Kt})}},[ne,Ye,_e,O,Y]);let jt="";if(it){const Wt=it.filter(Kt=>isFinite(Kt.x)&&isFinite(Kt.y));jt=pu(Wt)||""}return React.createElement(React.Fragment,null,jt&&React.createElement("path",{"data-testid":jl,className:kt.path,markerEnd:`url(#${Fl})`,d:jt}),ct.label?React.createElement("g",{ref:$t,"data-testid":_l,className:kt.label,transform:`translate(${fe},${Te})`},v({edge:ct})):null)}const Bs="workspace";function $i(v){var O,Y;const{edges:ne,nodes:fe,renderNode:Te,direction:_e=Si.TOP_BOTTOM,align:Ye,nodeMargin:it=50,edgeMargin:ct=10,rankMargin:kt=50,paddingX:$t=0,paddingY:jt=0,acyclicer:Wt,ranker:Kt=Ms.NETWORK_SIMPLEX,labelPosition:Pn=Po.RIGHT,labelOffset:er=10,edgeRanks:Kn=1,edgeWeight:dr=1,renderLabel:Cn,defs:Vn,zoom:zn="enabled",...Qr}=v,Fa=useTheme$1(),[ca,aa]=React.useState(100),[ua,ja]=React.useState(100),lr=React.useRef(new dagre.graphlib.Graph),[ao,Os]=React.useState(((O=lr.current.graph())==null?void 0:O.width)||0),[Ro,fi]=React.useState(((Y=lr.current.graph())==null?void 0:Y.height)||0),[Hu,Ra]=React.useState([]),[ho,ns]=React.useState([]),oo=Math.max(ao,ca),Lr=Math.max(Ro,ua),Ha=React.useMemo(()=>debounce(Xr=>{if(!Xr)return;const Sa=d3Selection.select(Xr),_r=d3Selection.select(Xr.getElementById(Bs));function qa(){Sa.call(d3Zoom.zoom().scaleExtent([1,10]).on("zoom",So=>{So.transform.x=Math.min(0,Math.max(So.transform.x,oo-oo*So.transform.k)),So.transform.y=Math.min(0,Math.max(So.transform.y,Lr-Lr*So.transform.k)),_r.attr("transform",So.transform)}))}zn==="enabled"?qa():zn==="enable-on-click"&&Sa.on("click",()=>qa());const{width:so,height:Pl}=Xr.getBoundingClientRect();ca!==so&&aa(so),ua!==Pl&&ja(Pl)},100),[ua,ca,oo,Lr,zn]),Ns=React.useCallback(()=>{const Xr=lr.current.nodes(),Sa=lr.current.edges();Xr.forEach(_r=>{fe.some(so=>so.id===_r)||lr.current.removeNode(_r)}),Sa.forEach(_r=>{ne.some(so=>so.from===_r.v&&so.to===_r.w)||lr.current.removeEdge(_r.v,_r.w)}),fe.forEach(_r=>{const qa=lr.current.nodes().find(so=>_r.id===so);if(qa&&lr.current.node(qa)){const{width:so,height:Pl,x:So,y:hd}=lr.current.node(qa);lr.current.setNode(qa,{..._r,width:so,height:Pl,x:So,y:hd})}else lr.current.setNode(_r.id,{..._r,width:0,height:0})}),ne.forEach(_r=>{lr.current.setEdge(_r.from,_r.to,{..._r,label:_r.label,width:0,height:0,labelpos:Pn,labeloffset:er,weight:dr,minlen:Kn})})},[ne,fe,Pn,er,dr,Kn]),Ka=React.useMemo(()=>debounce(()=>{dagre.layout(lr.current);const{height:Xr,width:Sa}=lr.current.graph(),_r=Math.max(0,Xr||0),qa=Math.max(0,Sa||0);Os(qa),fi(_r),Ra(lr.current.nodes()),ns(lr.current.edges())},250,{leading:!0}),[]);React.useEffect(()=>(lr.current.setGraph({rankdir:_e,align:Ye,nodesep:it,edgesep:ct,ranksep:kt,marginx:$t,marginy:jt,acyclicer:Wt,ranker:Kt}),Ns(),Ka(),Ka.cancel),[Wt,Ye,_e,ct,$t,jt,it,kt,Kt,Ns,Ka]);function hi(Xr,Sa){return lr.current.setNode(Xr,Sa),Ka(),lr.current}function fd(Xr,Sa){return lr.current.setEdge(Xr,Sa),Ka(),lr.current}return React.createElement("svg",{ref:Ha,...Qr,width:"100%",height:Lr,viewBox:`0 0 ${oo} ${Lr}`},React.createElement("defs",null,React.createElement("marker",{id:Fl,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},React.createElement("path",{fill:Fa.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),Vn),React.createElement("g",{id:Bs},React.createElement("svg",{width:ao,height:Ro,y:Lr/2-Ro/2,x:oo/2-ao/2,viewBox:`0 0 ${ao} ${Ro}`},ho.map(Xr=>{const Sa=lr.current.edge(Xr);return Sa?React.createElement(fu,{key:`${Xr.v}-${Xr.w}`,id:Xr,setEdge:fd,render:Cn,edge:Sa}):null}),Hu.map(Xr=>{const Sa=lr.current.node(Xr);return Sa?React.createElement(uu,{key:Xr,setNode:hi,render:Te,node:Sa}):null}))))}const zl=(0,w.Z)(v=>{var O;return{root:{padding:v.spacing(0),marginBottom:v.spacing(0),marginTop:v.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:v.spacing(6),marginTop:-v.spacing(3),zIndex:"unset"},icon:{fontSize:20},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap"},message:{display:"flex",alignItems:"center",color:v.palette.banner.text,"& a":{color:v.palette.banner.link}},info:{backgroundColor:v.palette.banner.info},error:{backgroundColor:v.palette.banner.error},warning:{backgroundColor:(O=v.palette.banner.warning)!=null?O:v.palette.banner.error}}},{name:"BackstageDismissableBanner"}),Zl=v=>{var O;const{variant:Y,message:ne,id:fe,fixed:Te=!1}=v,_e=zl(),it=useApi(storageApiRef).forBucket("notifications"),ct=(O=it.snapshot("dismissedBanners").value)!=null?O:[],[kt,$t]=useState(new Set(ct)),jt=useObservable(it.observe$("dismissedBanners"));useEffect(()=>{var Kt;if(jt!=null&&jt.value){const Pn=(Kt=jt==null?void 0:jt.value)!=null?Kt:[];$t(new Set(Pn))}},[jt==null?void 0:jt.value]);const Wt=()=>{it.set("dismissedBanners",[...kt,fe])};return React.createElement(Snackbar,{anchorOrigin:Te?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!kt.has(fe),classes:{root:classNames(_e.root,!Te&&_e.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(_e.content,_e[Y]),message:_e.message},message:ne,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",color:"inherit",onClick:Wt},React.createElement(CloseIcon,{className:_e.icon}))]}))},Ti=(0,w.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),cs=({missing:v})=>{const O=Ti();switch(v){case"field":return e.createElement("img",{src:Lt,className:O.generalImg,alt:"annotation is missing"});case"info":return e.createElement("img",{src:dt,alt:"no Information",className:O.generalImg});case"content":return e.createElement("img",{src:he,alt:"create Component",className:O.generalImg});case"data":return e.createElement("img",{src:j,alt:"no Build",className:O.generalImg});default:return null}},Wl=(0,w.Z)(v=>({root:{backgroundColor:v.palette.background.default,padding:v.spacing(2,0,0,0)},action:{marginTop:v.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function Ci(v){const{title:O,description:Y,missing:ne,action:fe}=v,Te=Wl();return e.createElement(lt.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:Te.root,spacing:2},e.createElement(lt.Z,{item:!0,xs:12,md:6},e.createElement(lt.Z,{container:!0,direction:"column"},e.createElement(lt.Z,{item:!0,xs:!0},e.createElement(Et.Z,{variant:"h5"},O)),e.createElement(lt.Z,{item:!0,xs:!0},e.createElement(Et.Z,{variant:"body1"},Y)),e.createElement(lt.Z,{item:!0,xs:!0,className:Te.action},fe))),e.createElement(lt.Z,{item:!0,xs:12,md:6,className:Te.imageContainer},e.createElement(cs,{missing:ne})))}const Fs=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,no=(0,w.Z)(v=>({code:{borderRadius:6,margin:`${v.spacing(2)}px 0px`,background:v.palette.type==="dark"?"#444":"#fff"}}),{name:"BackstageMissingAnnotationEmptyState"});function js(v){const{annotation:O,readMoreUrl:Y}=v,ne=Y||"https://backstage.io/docs/features/software-catalog/well-known-annotations",fe=no(),Te=e.createElement(e.Fragment,null,"The ",e.createElement("code",null,O)," annotation is missing. You need to add the annotation to your component if you want to enable this tool.");return e.createElement(Ci,{missing:"field",title:"Missing Annotation",description:Te,action:e.createElement(e.Fragment,null,e.createElement(Et.Z,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),e.createElement("div",{className:fe.code},e.createElement(wi,{text:Fs.replace("ANNOTATION",O),language:"yaml",showLineNumbers:!0,highlightedNumbers:[6,7],customStyle:{background:"inherit",fontSize:"115%"}})),e.createElement(F.Z,{color:"primary",component:Oa,to:ne},"Read more"))})}const Ao=(v,O)=>(O.palette.type==="light"?c._j:c.$n)(O.palette[v].light,.6),us=(v,O)=>(O.palette.type==="light"?c.$n:c._j)(O.palette[v].light,.9),_s=(0,w.Z)(v=>({root:{marginRight:v.spacing(1),fill:({severity:O})=>Ao(O,v)}})),ki=({severity:v})=>{const O=_s({severity:v});return e.createElement(Me.Z,{classes:O})},hu=({severity:v})=>{const O=_s({severity:v});return e.createElement(gt.Z,{classes:O})},Hl=(0,w.Z)(v=>({panel:{backgroundColor:({severity:O})=>us(O,v),color:({severity:O})=>Ao(O,v),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:O})=>Ao(O,v),fontWeight:"bold"},message:{width:"100%",display:"block",color:({severity:O})=>Ao(O,v),backgroundColor:({severity:O})=>us(O,v)},details:{width:"100%",display:"block",color:v.palette.textContrast,backgroundColor:v.palette.background.default,border:`1px solid ${v.palette.border}`,padding:v.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Io=v=>v.charAt(0).toLocaleUpperCase("en-US")+v.slice(1);function Kl(v){const{severity:O="warning",title:Y,message:ne,children:fe,defaultExpanded:Te}=v,_e=Hl({severity:O}),Ye=Io(O)+(Y?`: ${Y}`:"");return e.createElement(k.Z,{defaultExpanded:Te!=null?Te:!1,className:_e.panel,role:"alert"},e.createElement(J.Z,{expandIcon:e.createElement(hu,{severity:O}),className:_e.summary},e.createElement(ki,{severity:O}),e.createElement(Et.Z,{className:_e.summaryText,variant:"subtitle1"},Ye)),(ne||fe)&&e.createElement(Le.Z,null,e.createElement(lt.Z,{container:!0},ne&&e.createElement(lt.Z,{item:!0,xs:12},e.createElement(Et.Z,{className:_e.message,variant:"body1"},ne)),fe&&e.createElement(lt.Z,{item:!0,xs:12,className:_e.details},fe))))}const Us=(0,w.Z)(v=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:v.spacing(2)},divider:{margin:v.spacing(2)}}),{name:"BackstageErrorPanel"}),Gs=({error:v,message:O,stack:Y,children:ne})=>{const fe=Us();return e.createElement(re.Z,{dense:!0},e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:fe.text},primary:"Error",secondary:v}),e.createElement(Go,{text:v})),e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:fe.text},primary:"Message",secondary:O}),e.createElement(Go,{text:O})),Y&&e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:fe.text},primary:"Stack Trace",secondary:Y}),e.createElement(Go,{text:Y})),ne)};function Qa(v){const{title:O,error:Y,defaultExpanded:ne,children:fe}=v;return e.createElement(Kl,{severity:"error",title:O!=null?O:Y.message,defaultExpanded:ne},e.createElement(Gs,{error:Y.name,message:Y.message,stack:Y.stack,children:fe}))}const Pi=(0,w.Z)(v=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:v.spacing(2)},divider:{margin:v.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function Jl(v){var O;const{title:Y,error:ne,defaultExpanded:fe}=v,Te=Pi();if(ne.name!=="ResponseError")return React.createElement(Qa,{title:Y!=null?Y:ne.message,defaultExpanded:fe,error:ne});const{body:_e,cause:Ye}=ne,{request:it,response:ct}=_e,kt=`${ct.statusCode}: ${Ye.name}`,$t=it&&`${it.method} ${it.url}`,jt=Ye.message.replace(/\\n/g,`
`),Wt=(O=Ye.stack)==null?void 0:O.replace(/\\n/g,`
`),Kt=JSON.stringify(_e,void 0,2);return React.createElement(Qa,{title:Y!=null?Y:ne.message,defaultExpanded:fe,error:{name:kt,message:jt,stack:Wt}},$t&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:Te.text},primary:"Request",secondary:it?`${$t}`:void 0}),React.createElement(Go,{text:$t})),React.createElement(React.Fragment,null,React.createElement(Divider,{component:"li",className:Te.divider}),React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:Te.text},primary:"Full Error as JSON"})),React.createElement(wi,{language:"json",text:Kt,showCopyCodeButton:!0})))}function Ai(v){const O=document.createElement("div");return O.setAttribute("id",v),O}function Yl(v){document.body.insertBefore(v,document.body.lastElementChild.nextElementSibling)}function gu(v){const O=useRef(null);useEffect(function(){const fe=document.querySelector(`#${v}`),Te=fe||Ai(v);return fe||Yl(Te),Te.appendChild(O.current),function(){O.current.remove(),Te.childNodes.length===-1&&Te.remove()}},[v]);function Y(){return O.current||(O.current=document.createElement("div")),O.current}return Y()}const Vs="core.calloutSeen";function zs(){const[v,O]=useState(()=>{const ne=localStorage.getItem(Vs);return ne?JSON.parse(ne):{}}),Y=useCallback((ne,fe)=>{const Te=localStorage.getItem(Vs),Ye={...Te?JSON.parse(Te):{},[ne]:fe};O(Ye),localStorage.setItem(Vs,JSON.stringify(Ye))},[]);return{states:v,setState:Y}}function Ql(v){const{states:O,setState:Y}=zs(),ne=useCallback(()=>{Y(v,!0)},[Y,v]);return{seen:O[v]===!0,markSeen:ne}}function Xl(v){const{seen:O,markSeen:Y}=Ql(v);return{show:O===!1,hide:Y}}const Zs=(0,w.Z)({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:"2px solid white",zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:"white",zIndex:2003}},{name:"BackstageFeatureCalloutCircular"});function Ii(v){const{featureId:O,title:Y,description:ne,children:fe}=v,{show:Te,hide:_e}=Xl(O),Ye=gu("core.callout"),it=useRef(null),[ct,kt]=useState(),$t=Zs(),jt=useCallback(()=>{if(it.current){const Wt=it.current.getBoundingClientRect(),Kt=Math.max(Wt.width,Wt.height),Pn=800,er=Wt.x-(Kt-Wt.width)/2-Pn,Kn=Wt.y-(Kt-Wt.height)/2-Pn,dr=Kt+2*Pn,Cn=450,Vn=Wt.x+Wt.width/2-Cn,zn=Wt.y-(Kt-Wt.height)/2+Kt+20;kt({dotLeft:er,dotTop:Kn,dotSize:dr,borderWidth:Pn,textTop:zn,textLeft:Vn,textWidth:Cn})}},[]);return useEffect(()=>(window.addEventListener("resize",jt),window.addEventListener("scroll",jt),()=>{window.removeEventListener("resize",jt),window.removeEventListener("scroll",jt)}),[jt]),useLayoutEffect(jt,[it.current,jt]),Te?React.createElement(React.Fragment,null,React.createElement("div",{className:$t.featureWrapper,ref:it},fe),createPortal(React.createElement("div",{className:$t.backdrop},React.createElement(ClickAwayListener,{onClickAway:_e},React.createElement(React.Fragment,null,React.createElement("div",{className:$t.dot,"data-testid":"dot",style:{left:ct==null?void 0:ct.dotLeft,top:ct==null?void 0:ct.dotTop,width:ct==null?void 0:ct.dotSize,height:ct==null?void 0:ct.dotSize,borderWidth:ct==null?void 0:ct.borderWidth},onClick:_e,onKeyDown:_e,role:"button",tabIndex:0},React.createElement("div",{className:$t.pulseCircle})),React.createElement("div",{className:$t.text,"data-testid":"text",style:{left:ct==null?void 0:ct.textLeft,top:ct==null?void 0:ct.textTop,width:ct==null?void 0:ct.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},Y),React.createElement(Typography,null,ne))))),Ye)):React.createElement(React.Fragment,null,fe)}const Oi=(0,w.Z)(v=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:"gray",cursor:"default"},primary:{color:v.palette.primary.main},secondary:{color:v.palette.secondary.main},label:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function ds({color:v="primary",disabled:O=!1,href:Y="#",icon:ne=React.createElement(LinkIcon,null),label:fe,onClick:Te,title:_e}){const Ye=Oi();return O?React.createElement(Link$1,{title:_e,className:classNames(Ye.link,Ye.disabled),underline:"none"},ne,React.createElement("span",{className:Ye.label},fe)):React.createElement(Link$1,{title:_e,className:classNames(Ye.link,Ye[v]),to:Y,component:Oa,onClick:Te},ne,React.createElement("span",{className:Ye.label},fe))}const Ni=(0,w.Z)(v=>({links:{margin:v.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:v.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function ql(v){const{links:O}=v,Y=Ni();return React.createElement("nav",{className:Y.links},O.map((ne,fe)=>React.createElement(ds,{key:fe+1,...ne})))}const Li=v=>{const O=v==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${O}) 0%,
    hsla(0, 0%, ${O}, 0.987) 8.1%,
    hsla(0, 0%, ${O}, 0.951) 15.5%,
    hsla(0, 0%, ${O}, 0.896) 22.5%,
    hsla(0, 0%, ${O}, 0.825) 29%,
    hsla(0, 0%, ${O}, 0.741) 35.3%,
    hsla(0, 0%, ${O}, 0.648) 41.2%,
    hsla(0, 0%, ${O}, 0.55) 47.1%,
    hsla(0, 0%, ${O}, 0.45) 52.9%,
    hsla(0, 0%, ${O}, 0.352) 58.8%,
    hsla(0, 0%, ${O}, 0.259) 64.7%,
    hsla(0, 0%, ${O}, 0.175) 71%,
    hsla(0, 0%, ${O}, 0.104) 77.5%,
    hsla(0, 0%, ${O}, 0.049) 84.5%,
    hsla(0, 0%, ${O}, 0.013) 91.9%,
    hsla(0, 0%, ${O}, 0) 100%
  `},ec=100,Vo=10,tc=(0,w.Z)(v=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:ec,height:`calc(100% + ${Vo}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-Vo,background:`linear-gradient(90deg, ${Li(v.palette.type)})`},fadeRight:{right:-Vo,background:`linear-gradient(270deg, ${Li(v.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-v.spacing(2)},buttonRight:{right:-v.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function yu(v){const[[O,Y],ne]=React.useState([0,0]);return React.useLayoutEffect(()=>{const fe=v.current;if(!fe){ne([0,0]);return}const Te=()=>{const _e=fe.scrollLeft,Ye=fe.scrollWidth-fe.offsetWidth-fe.scrollLeft;ne([_e,Ye])};return Te(),fe.addEventListener("scroll",Te),window.addEventListener("resize",Te),()=>{fe.removeEventListener("scroll",Te),window.removeEventListener("resize",Te)}},[v]),[O,Y]}function Oo(v,O,Y){const[ne,fe]=React.useState(0);return React.useLayoutEffect(()=>{if(ne===0)return;const Te=performance.now(),_e=requestAnimationFrame(Ye=>{if(!v.current)return;const it=Ye-Te,ct=Math.abs(ne)*it/O,$t=Math.max(Y,ct)*Math.sign(ne);v.current.scrollBy({left:$t});const jt=ne-$t;Math.sign(ne)!==Math.sign(jt)?fe(0):fe(jt)});return()=>cancelAnimationFrame(_e)},[v,ne,O,Y]),fe}function ad(v){const{scrollStep:O=100,scrollSpeed:Y=50,minScrollDistance:ne=5,children:fe,...Te}=v,_e=tc(v),Ye=React.useRef(),[it,ct]=yu(Ye),kt=Oo(Ye,Y,ne),$t=jt=>{!Ye.current||kt(jt?O:-O)};return React.createElement("div",{...Te,className:_e.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:_e.container,ref:Ye},fe),React.createElement("div",{className:classNames(_e.fade,_e.fadeLeft,{[_e.fadeHidden]:it===0})}),React.createElement("div",{className:classNames(_e.fade,_e.fadeRight,{[_e.fadeHidden]:ct===0})}),it>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>$t(!1),className:classNames(_e.button,_e.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),ct>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>$t(!0),className:classNames(_e.button,_e.buttonRight,{})},React.createElement(ChevronRight,null)))}const nc=(0,w.Z)({alpha:{color:"#ffffff",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}},{name:"BackstageLifecycle"});function vu(v){const O=nc(v),{shorthand:Y,alpha:ne}=v;return Y?React.createElement("span",{className:O[ne?"alpha":"beta"],style:{fontSize:"120%"}},ne?React.createElement(React.Fragment,null,"\u03B1"):React.createElement(React.Fragment,null,"\u03B2")):React.createElement("span",{className:O[ne?"alpha":"beta"]},ne?"Alpha":"Beta")}const Eu=(0,e.lazy)(()=>Promise.all([a.e(7423),a.e(2446)]).then(a.bind(a,12446)).then(v=>({default:v.RealLogViewer})));function od(v){const{Progress:O}=useApp().getComponents();return React.createElement(Suspense,{fallback:React.createElement(O,null)},React.createElement(Eu,{...v}))}const bu=(0,w.Z)(v=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${v.palette.border}`},"& th, & td":{border:`1px solid ${v.palette.border}`,padding:v.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:v.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:v.palette.background.paper},"& tr":{backgroundColor:v.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:v.palette.background.default},"& a":{color:v.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),xi={code:({inline:v,className:O,children:Y,...ne})=>{const fe=String(Y).replace(/\n+$/,""),Te=/language-(\w+)/.exec(O||"");return!v&&Te?e.createElement(wi,{language:Te[1],text:fe}):e.createElement("code",{className:O,...ne},Y)}};function Di(v){const{content:O,dialect:Y="gfm",linkTarget:ne}=v,fe=bu();return e.createElement(je.D,{remarkPlugins:Y==="gfm"?[Xe.Z]:[],className:fe.markdown,children:O,components:xi,linkTarget:ne})}const Ws=(0,w.Z)(v=>({root:{paddingLeft:v.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),rc=({request:v,busy:O,setBusy:Y})=>{const ne=Ws(),[fe,Te]=useState(),_e=async()=>{Y(!0);try{await v.trigger()}catch(it){Te(isError(it)?it.message:"An unspecified error occurred")}finally{Y(!1)}},Ye=v.provider.icon;return React.createElement(ListItem,{disabled:O,classes:{root:ne.root}},React.createElement(ListItemAvatar,null,React.createElement(Ye,{fontSize:"large"})),React.createElement(ListItemText,{primary:v.provider.title,secondary:fe&&React.createElement(Typography,{color:"error"},fe)}),React.createElement(Button$1,{color:"primary",variant:"contained",onClick:_e},"Log in"))},Mi=(0,w.Z)(v=>({dialog:{paddingTop:v.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:v.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:v.spacing(2,0)}}),{name:"OAuthRequestDialog"});function ac(v){const O=Mi(),[Y,ne]=useState(!1),fe=useApi(oauthRequestApiRef),Te=useObservable(useMemo(()=>fe.authRequest$(),[fe]),[]),_e=()=>{Te.forEach(Ye=>Ye.reject())};return React.createElement(Dialog,{open:Boolean(Te.length),fullWidth:!0,maxWidth:"xs",classes:{paper:O.dialog},"aria-labelledby":"oauth-req-dialog-title"},React.createElement("main",null,React.createElement(DialogTitle,{classes:{root:O.title},id:"oauth-req-dialog-title"},React.createElement(Typography,{className:O.titleHeading,variant:"h1"},"Login Required")),React.createElement(DialogContent,{dividers:!0,classes:{root:O.contentList}},React.createElement(List,null,Te.map(Ye=>React.createElement(rc,{key:Ye.provider.title,request:Ye,busy:Y,setBusy:ne}))))),React.createElement(DialogActions,{classes:{root:O.actionButtons}},React.createElement(Button$1,{onClick:_e},"Reject All")))}const oc=(0,w.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function sc(v){var O;const[Y,ne]=(0,e.useState)(!1),fe=(0,_t.t)(),Te=oc(),_e=Ye=>{fe()&&ne(Ye)};return e.createElement(I.ZP,{title:(O=v.title)!=null?O:v.text||"",placement:v.placement,disableHoverListener:!Y},e.createElement(zt(),{text:v.text,line:v.line,onToggled:_e,containerClassName:Te.container}))}function go(v){const[O,Y]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{const ne=setTimeout(()=>Y(!0),250);return()=>clearTimeout(ne)},[]),O?e.createElement(on.Z,{...v,"data-testid":"progress"}):e.createElement("div",{style:{display:"none"}})}const Bi=(0,w.Z)(v=>({root:{maxWidth:"fit-content",padding:v.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:v.palette.textSubtle},arrow:{color:v.palette.textSubtle}}),{name:"BackstageBottomLink"});function No(v){const{link:O,title:Y,onClick:ne}=v,fe=Bi();return e.createElement("div",null,e.createElement(nt.Z,null),e.createElement(Oa,{to:O,onClick:ne,underline:"none"},e.createElement(wn.Z,{display:"flex",alignItems:"center",className:fe.root},e.createElement(wn.Z,{className:fe.boxTitle,fontWeight:"fontWeightBold",m:1},e.createElement(Et.Z,null,e.createElement("strong",null,Y))),e.createElement(pe.Z,{className:fe.arrow}))))}const wu=v=>{const{slackChannel:O}=v;if(O){if(typeof O=="string")return e.createElement(e.Fragment,null,"Please contact ",O," for help.");if(!O.href)return e.createElement(e.Fragment,null,"Please contact ",O.name," for help.")}else return null;return e.createElement(bi,{to:O.href,variant:"contained"},O.name)},ic=class extends e.Component{constructor(O){super(O),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(O,Y){console.error(`ErrorBoundary, error: ${O}, info: ${Y}`),this.setState({error:O,errorInfo:Y})}render(){const{slackChannel:O,children:Y}=this.props,{error:ne}=this.state;return ne?e.createElement(Qa,{title:"Something Went Wrong",error:ne},e.createElement(wu,{slackChannel:O})):Y}},Ln=(0,w.Z)(v=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:v.spacing(2,2,2,2.5)},headerTitle:{fontWeight:700},headerSubheader:{paddingTop:v.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),Fi=(0,l.Z)(v=>({root:{display:"inline-block",padding:v.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(dn.Z),ms={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function lo(v){const{title:O,subheader:Y,divider:ne=!0,deepLink:fe,slackChannel:Te,errorBoundaryProps:_e,variant:Ye,children:it,headerStyle:ct,headerProps:kt,icon:$t,action:jt,actionsClassName:Wt,actions:Kt,cardClassName:Pn,actionsTopRight:er,className:Kn,noPadding:dr,titleTypographyProps:Cn}=v,Vn=Ln();let zn={},Qr={};Ye&&Ye.split(/[\s]+/g).forEach(ua=>{zn={...zn,...ms.card[ua]},Qr={...Qr,...ms.cardContent[ua]}});const Fa=()=>e.createElement("div",{className:Vn.headerSubheader},Y&&e.createElement("div",{className:Vn.subheader},Y),$t),ca=_e||(Te?{slackChannel:Te}:{});return e.createElement(It.Z,{style:zn,className:Kn},e.createElement(ic,{...ca},O&&e.createElement(pn.Z,{classes:{root:Vn.header,title:Vn.headerTitle,subheader:Vn.headerSubheader,avatar:Vn.headerAvatar,action:Vn.headerAction,content:Vn.headerContent},title:O,subheader:Fa(),action:jt,style:{...ct},titleTypographyProps:Cn,...kt}),er&&e.createElement(Fi,null,er),ne&&e.createElement(nt.Z,null),e.createElement(bn.Z,{className:B()(Pn,{[Vn.noPadding]:dr}),style:Qr},it),Kt&&e.createElement(dn.Z,{className:Wt},Kt),fe&&e.createElement(No,{...fe})))}const Ru=(0,w.Z)(v=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:45,fontWeight:"bold",color:v.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),lc={fractional:!0,inverse:!1,unit:"%",max:100},Hs=({palette:v,value:O,inverse:Y,max:ne})=>{if(isNaN(O))return"#ddd";const fe=ne||lc.max,Te=Y?fe-O:O;return Te<fe/3?v.status.error:Te<fe*(2/3)?v.status.warning:v.status.ok};function Va(v){const[O,Y]=useState(null),{getColor:ne=Hs}=v,fe=Ru(v),{palette:Te}=useTheme(),{value:_e,fractional:Ye,inverse:it,unit:ct,max:kt,description:$t}={...lc,...v},jt=Ye?Math.round(_e*kt):_e,Wt=kt!==100?Math.round(_e):jt,[Kt,Pn]=useState(!1);return useEffect(()=>{const er=O,Kn=()=>Pn(!0),dr=()=>Pn(!1);return er&&$t?(er.addEventListener("mouseenter",Kn),er.addEventListener("mouseleave",dr),()=>{er.removeEventListener("mouseenter",Kn),er.removeEventListener("mouseleave",dr)}):()=>{Pn(!1)}},[$t,O]),React.createElement("div",{ref:Y,className:fe.root},React.createElement(Circle,{strokeLinecap:"butt",percent:jt,strokeWidth:12,trailWidth:12,strokeColor:ne({palette:Te,value:Wt,inverse:it,max:kt}),className:fe.circle}),$t&&Kt?React.createElement("div",{className:fe.description},$t):React.createElement("div",{className:fe.overlay},isNaN(_e)?"N/A":`${Wt}${ct}`))}const Su=(0,w.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function sd(v){const O=Su(v),{title:Y,subheader:ne,progress:fe,inverse:Te,deepLink:_e,description:Ye,icon:it,variant:ct,getColor:kt}=v,$t={inverse:Te,description:Ye,getColor:kt,value:fe};return React.createElement("div",{className:O.root},React.createElement(lo,{title:Y,subheader:ne,deepLink:_e,variant:ct,icon:it},React.createElement(Va,{...$t})))}function $u(v){const{value:O,getColor:Y=Hs}=v,{palette:ne}=useTheme();if(isNaN(O))return null;let fe=Math.round(O*100*100)/100;fe>100&&(fe=100);const Te=Y({palette:ne,value:fe,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${fe}%`},React.createElement("span",null,React.createElement(Line,{percent:fe,strokeWidth:4,trailWidth:4,strokeColor:Te})))}const Tu=(0,w.Z)(()=>(0,i.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageClosedDropdown"}),cc=()=>{const v=Tu();return e.createElement(_a.Z,{className:v.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},Na=(0,w.Z)(()=>(0,i.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"}),uc=()=>{const v=Na();return e.createElement(_a.Z,{className:v.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},La=(0,l.Z)(v=>(0,i.Z)({root:{"label + &":{marginTop:v.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:v.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:v.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:v.palette.background.paper,borderRadius:4}}}),{name:"BackstageSelectInputBase"})(Cr.Z),yo=(0,w.Z)(v=>(0,i.Z)({formControl:{margin:`${v.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:v.typography.fontFamily,color:v.palette.text.primary,"&.Mui-focused":{color:v.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:v.typography.fontFamily,color:v.palette.text.primary,"&.Mui-focused":{color:v.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function dc(v){const{multiple:O,items:Y,label:ne,placeholder:fe,selected:Te,onChange:_e,triggerReset:Ye,native:it=!1,disabled:ct=!1}=v,kt=yo(),[$t,jt]=(0,e.useState)(Te||(O?[]:"")),[Wt,Kt]=(0,e.useState)(!1);(0,e.useEffect)(()=>{jt(O?[]:"")},[Ye,O]),(0,e.useEffect)(()=>{Te!==void 0&&jt(Te)},[Te]);const Pn=Cn=>{jt(Cn.target.value),_e(Cn.target.value)},er=Cn=>{if(ct){Cn.preventDefault();return}Kt(Vn=>O&&!(Cn.target instanceof HTMLElement)?!0:!Vn)},Kn=()=>{Kt(!1)},dr=Cn=>()=>{const Vn=$t.filter(zn=>zn!==Cn);jt(Vn),_e(Vn)};return e.createElement("div",{className:kt.root},e.createElement(M.Z,{onClickAway:Kn},e.createElement(ir.Z,{className:kt.formControl},e.createElement(Ir.Z,{className:kt.formLabel},ne),e.createElement(wr.Z,{value:$t,native:it,disabled:ct,"data-testid":"select",displayEmpty:!0,multiple:O,onChange:Pn,onClick:er,open:Wt,input:e.createElement(La,null),label:ne,tabIndex:0,renderValue:Cn=>{var Vn;return O&&$t.length!==0?e.createElement("div",{className:kt.chips},Cn.map(zn=>{var Qr,Fa;return e.createElement(Jn.Z,{key:(Qr=Y.find(ca=>ca.value===zn))==null?void 0:Qr.value,label:(Fa=Y.find(ca=>ca.value===zn))==null?void 0:Fa.label,clickable:!0,onDelete:dr(zn),className:kt.chip})})):e.createElement(Et.Z,null,$t.length===0?fe||"":(Vn=Y.find(zn=>zn.value===Cn))==null?void 0:Vn.label)},IconComponent:()=>Wt?e.createElement(uc,null):e.createElement(cc,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},fe&&!O&&e.createElement(sn.Z,{value:[]},fe),it?Y&&Y.map(Cn=>e.createElement("option",{value:Cn.value,key:Cn.value},Cn.label)):Y&&Y.map(Cn=>e.createElement(sn.Z,{key:Cn.value,value:Cn.value},O&&e.createElement(vr.Z,{color:"primary",checked:$t.includes(Cn.value)||!1,className:kt.checkbox}),Cn.label))))))}const Cu=()=>{},Ks=e.createContext({stepperLength:0,stepIndex:0,setStepIndex:Cu,stepHistory:[],setStepHistory:Cu,onStepChange:Cu});function ku(v){const{children:O,elevated:Y,onStepChange:ne,activeStep:fe=0}=v,[Te,_e]=useState(fe),[Ye,it]=useState([0]);useEffect(()=>{_e(fe)},[fe]);const ct=[];let kt;return Children.forEach(O,$t=>{isValidElement($t)&&($t.props.end?kt=$t:ct.push($t))}),React.createElement(React.Fragment,null,React.createElement(Ks.Provider,{value:{stepIndex:Te,setStepIndex:_e,stepHistory:Ye,setStepHistory:it,onStepChange:ne,stepperLength:Children.count(O)}},React.createElement(MuiStepper,{activeStep:Te,orientation:"vertical",elevation:Y?2:0},ct)),Te>=Children.count(O)-1&&kt)}const ji=(0,w.Z)(v=>({root:{marginTop:v.spacing(3),"& button":{marginRight:v.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),_i=({text:v,handleClick:O})=>React.createElement(Button$1,{onClick:O},v||"Reset"),Nd=({text:v,handleClick:O,disabled:Y,last:ne,stepIndex:fe})=>React.createElement(Button$1,{variant:"contained",color:"primary",disabled:Y,"data-testid":`nextButton-${fe}`,onClick:O},v||(ne?"Finish":"Next")),vo=({text:v,handleClick:O,disabled:Y,stepIndex:ne})=>React.createElement(Button$1,{onClick:O,"data-testid":`backButton-${ne}`,disabled:Y},v||"Back"),Ui=({actions:v={},children:O})=>{const Y=ji(),{stepperLength:ne,stepIndex:fe,setStepIndex:Te,stepHistory:_e,setStepHistory:Ye,onStepChange:it}=useContext(Ks),ct=(Wt,Kt)=>{Kt&&Kt(),it&&it(fe,Wt),Te(Wt)},kt=()=>{const Wt=v.nextStep?v.nextStep(fe,ne-1):fe+1;ct(Wt,v.onNext),Ye([..._e,Wt])},$t=()=>{_e.pop(),ct(_e[_e.length-1],v.onBack),Ye([..._e])},jt=()=>{ct(0,v.onRestart),Ye([0])};return React.createElement("div",{className:Y.root},[void 0,!0].includes(v.showBack)&&fe!==0&&React.createElement(vo,{text:v.backText,handleClick:$t,disabled:fe===0,stepIndex:fe}),[void 0,!0].includes(v.showNext)&&React.createElement(Nd,{text:v.nextText,handleClick:kt,disabled:!!ne&&fe>=ne||!!v.canNext&&!v.canNext(),stepIndex:fe}),v.showRestart&&fe!==0&&React.createElement(_i,{text:v.restartText,handleClick:jt,stepIndex:fe}),O)},Gi=(0,w.Z)(v=>({end:{padding:v.spacing(3)}}),{name:"SimpleStepperStep"});function Eo(v){const{title:O,children:Y,end:ne,actions:fe,...Te}=v,_e=Gi();return ne?React.createElement("div",{className:_e.end},React.createElement(Typography,{variant:"h6"},O),Y,React.createElement(Ui,{actions:{...fe||{},showNext:!1}})):React.createElement(MuiStep,{...Te},React.createElement(StepLabel,null,React.createElement(Typography,{variant:"h6"},O)),React.createElement(StepContent,null,Y,React.createElement(Ui,{actions:fe})))}const Lo=(0,w.Z)(v=>({status:{fontWeight:500,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:8,borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:v.palette.status.ok}},warning:{"&::before":{backgroundColor:v.palette.status.warning}},error:{"&::before":{backgroundColor:v.palette.status.error}},pending:{"&::before":{backgroundColor:v.palette.status.pending}},running:{"&::before":{backgroundColor:v.palette.status.running}},aborted:{"&::before":{backgroundColor:v.palette.status.aborted}}}),{name:"BackstageStatus"});function mc(v){const O=Lo(v);return React.createElement("span",{className:classNames(O.status,O.ok),"aria-label":"Status ok","aria-hidden":"true",...v})}function Pu(v){const O=Lo(v);return React.createElement("span",{className:classNames(O.status,O.warning),"aria-label":"Status warning","aria-hidden":"true",...v})}function Au(v){const O=Lo(v);return React.createElement("span",{className:classNames(O.status,O.error),"aria-label":"Status error","aria-hidden":"true",...v})}function co(v){const O=Lo(v);return React.createElement("span",{className:classNames(O.status,O.pending),"aria-label":"Status pending","aria-hidden":"true",...v})}function Ta(v){const O=Lo(v);return React.createElement("span",{className:classNames(O.status,O.running),"aria-label":"Status running","aria-hidden":"true",...v})}function Js(v){const O=Lo(v);return React.createElement("span",{className:classNames(O.status,O.aborted),"aria-label":"Status aborted","aria-hidden":"true",...v})}const ro=v=>(0,i.Z)({root:{fontWeight:"bolder",whiteSpace:"nowrap",paddingRight:v.spacing(4),border:"0",verticalAlign:"top"}}),pc={root:{border:"0",verticalAlign:"top"}},xo=v=>(0,i.Z)({root:{listStyle:"none",margin:v.spacing(0,0,-1,0),padding:"0"}}),Vi=v=>(0,i.Z)({root:{padding:v.spacing(0,0,1,0)},random:{}}),fc=(0,l.Z)(ro,{name:"BackstageMetadataTableTitleCell"})(kr.Z),Do=(0,l.Z)(pc,{name:"BackstageMetadataTableCell"})(kr.Z),Ca=({dense:v,children:O})=>e.createElement(Gr.Z,{size:v?"small":"medium"},e.createElement(Vr.Z,null,O)),zi=({title:v,children:O,...Y})=>e.createElement(Mr.Z,null,v&&e.createElement(fc,null,v),e.createElement(Do,{colSpan:v?1:2,...Y},O)),ps=(0,l.Z)(xo,{name:"BackstageMetadataTableList"})(({classes:v,children:O})=>e.createElement("ul",{className:v.root},O)),Ys=(0,l.Z)(Vi,{name:"BackstageMetadataTableListItem"})(({classes:v,children:O})=>e.createElement("li",{className:v.root},O)),Mo=(0,i.Z)({root:{margin:"0 0",listStyleType:"none"}}),Zi=v=>(0,i.Z)({root:{...Mo.root,paddingLeft:v.spacing(1)}}),hc=(0,l.Z)(Mo,{name:"BackstageStructuredMetadataTableList"})(({classes:v,children:O})=>e.createElement(ps,{classes:v},O)),fs=(0,l.Z)(Zi,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:v,children:O})=>e.createElement(ps,{classes:v},O));function gc(v,O){const Y=v.map((ne,fe)=>e.createElement(Ys,{key:fe},Zo(ne)));return O?e.createElement(fs,null,Y):e.createElement(hc,null,Y)}function zo(v,O,Y){const ne=Object.keys(v).map(fe=>{const Te=Zo(v[fe],!0),_e=Y&&Y.titleFormat?Y.titleFormat(fe):Er()(fe);return e.createElement(Ys,{key:fe},`${_e}: `,Te)});return O?e.createElement(fs,null,ne):e.createElement(hc,null,ne)}function Zo(v,O,Y){return e.isValidElement(v)?e.createElement(e.Fragment,null,v):typeof v=="object"&&!Array.isArray(v)?zo(v,O,Y):Array.isArray(v)?gc(v,Y):typeof v=="boolean"?e.createElement(e.Fragment,null,v?"\u2705":"\u274C"):e.createElement(e.Fragment,null,v)}const Wi=({value:v,options:O})=>e.createElement(e.Fragment,null,Zo(v,O)),yc=({title:v,value:O,options:Y})=>e.createElement(zi,{title:Y&&Y.titleFormat?Y.titleFormat(v):Er()(v)},e.createElement(Wi,{value:O,options:Y}));function hs(v,O){return Object.keys(v).map(Y=>e.createElement(yc,{key:Y,title:Y,value:v[Y],options:O}))}function vc(v){const{metadata:O,dense:Y=!0,options:ne}=v,fe=hs(O,ne||{});return e.createElement(Ca,{dense:Y},fe)}function Ec(v){return qs.stringify(v,{strictNullHandling:!0})}function Hi(v){return qs.parse(v,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function Qs(v,O){return Hi(v)[O]}function bc(v,O,Y){const ne={...Hi(v),[O]:Y};return Ec(ne)}function Ki(v,O=250){const[Y,ne]=useSearchParams(),fe=Y.toString(),[Te,_e]=useState(Qs(fe,v));return useEffect(()=>{const Ye=Qs(fe,v);_e(it=>isEqual(Ye,it)?it:Ye)},[fe,_e,v]),useDebouncedEffect(()=>{const Ye=bc(fe,v,Te);fe!==Ye&&ne(Ye,{replace:!0})},[ne,Te,fe,v],O),[Te,_e]}const wc={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function gs(){const O=(0,T.I_)().get(T.Ds),Y=O==null?void 0:O.getOptionalConfig("app.support");return Y?{url:Y.getString("url"),items:Y.getConfigArray("items").flatMap(ne=>{var fe;return{title:ne.getString("title"),icon:ne.getOptionalString("icon"),links:((fe=ne.getOptionalConfigArray("links"))!=null?fe:[]).flatMap(Te=>({url:Te.getString("url"),title:Te.getString("title")}))}})}:wc}function za(v,O){const ne=(0,T.qD)().getSystemIcon(v);return ne?e.createElement(ne,{...O}):e.createElement(Br.Z,{...O})}function Ji(v){return za("brokenImage",v)}function Iu(v){return za("catalog",v)}function Xs(v){return za("chat",v)}function Ou(v){return za("dashboard",v)}function Nu(v){return za("docs",v)}function Rc(v){return za("email",v)}function Lu(v){return za("github",v)}function id(v){return za("group",v)}function Bo(v){return za("help",v)}function ld(v){return za("user",v)}function xu(v){return za("warning",v)}const Du=(0,w.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),Yi=({icon:v})=>{var O;const Y=(0,T.qD)(),ne=v&&(O=Y.getSystemIcon(v))!=null?O:Bo;return e.createElement(ne,null)},Sc=({link:v})=>{var O;return e.createElement(Oa,{to:v.url},(O=v.title)!=null?O:v.url)},Qi=({item:v})=>{var O;return e.createElement(W.Z,null,e.createElement(sa.Z,null,e.createElement(Yi,{icon:v.icon})),e.createElement(d.Z,{primary:v.title,secondary:(O=v.links)==null?void 0:O.reduce((Y,ne,fe)=>[...Y,fe>0&&e.createElement("br",{key:fe}),e.createElement(Sc,{link:ne,key:ne.url})],[])}))};function $c(v){const{title:O,children:Y}=v,{items:ne}=gs(),[fe,Te]=(0,e.useState)(!1),[_e,Ye]=(0,e.useState)(null),it=Du(),ct=(0,x.Z)(jt=>jt.breakpoints.down("sm")),kt=jt=>{Ye(jt.currentTarget),Te(!0)},$t=()=>{Te(!1)};return e.createElement(e.Fragment,null,e.createElement(wn.Z,{display:"flex",ml:1},ct?e.createElement(t.Z,{color:"primary",size:"small",onClick:kt,"data-testid":"support-button"},e.createElement(Bo,null)):e.createElement(F.Z,{"data-testid":"support-button","aria-label":"support",color:"primary",onClick:kt,startIcon:e.createElement(Bo,null)},"Support")),e.createElement(ar.ZP,{"data-testid":"support-button-popover",open:fe,anchorEl:_e,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:$t},e.createElement(re.Z,{className:it.popoverList},O&&e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(Et.Z,{variant:"subtitle1"},O)),e.Children.map(Y,(jt,Wt)=>e.createElement(W.Z,{alignItems:"flex-start",key:`child-${Wt}`},jt)),ne&&ne.map((jt,Wt)=>e.createElement(Qi,{item:jt,key:`item-${Wt}`}))),e.createElement(Mt.Z,null,e.createElement(F.Z,{color:"primary",onClick:$t},"Close"))))}const ei=72,Xi=24,Mu=18,uo={drawerWidthClosed:ei,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:ei,iconSize:ei-Xi*2,iconPadding:Xi,selectedIndicatorWidth:3,userBadgePadding:Mu,userBadgeDiameter:ei-Mu*2,mobileSidebarHeight:56},cd=v=>({...uo,...v,iconContainerWidth:uo.drawerWidthClosed,iconSize:uo.drawerWidthClosed-uo.iconPadding*2,userBadgeDiameter:uo.drawerWidthClosed-uo.userBadgePadding*2}),Tc={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:uo.defaultOpenDelayMs+200},qi=v=>({...Tc,...v}),Cc="@backstage/core/sidebar-intro-dismissed",Fo=(0,e.createContext)({isOpen:!1,setOpen:()=>{}}),ka=(0,e.createContext)({sidebarConfig:uo,submenuConfig:Tc}),ti=(0,e.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}}),ys={getSidebarPinState(){let v;try{v=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!v},setSidebarPinState(v){return window.localStorage.setItem("sidebarPinState",JSON.stringify(v))}},kc=(0,w.Z)(v=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[v.breakpoints.up("sm")]:{paddingLeft:O=>O.isPinned?O.sidebarConfig.drawerWidthOpen:O.sidebarConfig.drawerWidthClosed},[v.breakpoints.down("xs")]:{paddingBottom:O=>O.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),vs=(0,e.createContext)({isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1}),Wo=(0,e.createContext)({content:{contentRef:void 0}});function ud(v){const[O,Y]=useState(()=>ys.getSidebarPinState()),{sidebarConfig:ne}=useContext(ka),fe=useRef(null),Te=useMemo(()=>({content:{contentRef:fe}}),[fe]);useEffect(()=>{ys.setSidebarPinState(O)},[O]);const _e=useMediaQuery(ct=>ct.breakpoints.down("xs"),{noSsr:!0}),Ye=()=>Y(!O),it=kc({isPinned:O,sidebarConfig:ne});return React.createElement(vs.Provider,{value:{isPinned:O,toggleSidebarPinState:Ye,isMobile:_e}},React.createElement(Wo.Provider,{value:Te},React.createElement("div",{className:it.root},v.children)))}function Es(){const{content:v}=(0,e.useContext)(Wo);return{focusContent:(0,e.useCallback)(()=>{var Y,ne;(ne=(Y=v==null?void 0:v.contentRef)==null?void 0:Y.current)==null||ne.focus()},[v]),contentRef:v==null?void 0:v.contentRef}}const Pc=(0,w.Z)(v=>({root:{flexGrow:0,margin:v.spacing(0,2),color:v.palette.navigation.color},selected:O=>({color:`${v.palette.navigation.selectedColor}!important`,borderTop:`solid ${O.sidebarConfig.selectedIndicatorWidth}px ${v.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),el=v=>{const{to:O,label:Y,icon:ne,value:fe}=v,{sidebarConfig:Te}=(0,e.useContext)(ka),_e=Pc({sidebarConfig:Te}),Ye=(0,p.TH)(),{selectedMenuItemIndex:it,setSelectedMenuItemIndex:ct}=(0,e.useContext)(jo),kt=(jt,Wt)=>{ct(Wt===it?-1:Wt)},$t=fe===it&&it>=0||fe!==it&&!(it>=0)&&O===Ye.pathname;return e.createElement(ke.Z,{label:Y,icon:ne,component:Oa,to:O||Ye.pathname,onChange:kt,value:fe,selected:$t,classes:_e})},Ho=v=>{const{children:O,to:Y,label:ne,icon:fe,value:Te}=v,{isMobile:_e}=(0,e.useContext)(vs);return _e?e.createElement(el,{to:Y,label:ne,icon:fe,value:Te}):e.createElement(e.Fragment,null,O)},bs=(0,w.Z)(v=>({root:{position:"fixed",backgroundColor:v.palette.navigation.background,color:v.palette.navigation.color,bottom:0,left:0,right:0,zIndex:v.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:O=>({background:v.palette.navigation.background,width:"100%",bottom:`${O.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${O.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:v.palette.bursts.fontColor,alignItems:"center",justifyContent:"space-between",padding:v.spacing(2,3)},overlayHeaderClose:{color:v.palette.bursts.fontColor},marginMobileSidebar:O=>({marginBottom:`${O.sidebarConfig.mobileSidebarHeight}px`})})),tl=v=>orderBy(v,({props:{priority:O}})=>Number.isInteger(O)?O:-1,"desc"),Ac=e.createElement(Ho).type,Ic=({children:v,label:O="Menu",open:Y,onClose:ne})=>{const{sidebarConfig:fe}=useContext(ka),Te=bs({sidebarConfig:fe});return React.createElement(Drawer,{anchor:"bottom",open:Y,onClose:ne,ModalProps:{BackdropProps:{classes:{root:Te.marginMobileSidebar}}},classes:{root:Te.marginMobileSidebar,paperAnchorBottom:Te.overlay}},React.createElement(Box,{className:Te.overlayHeader},React.createElement(Typography,{variant:"h3"},O),React.createElement(IconButton,{onClick:ne,classes:{root:Te.overlayHeaderClose}},React.createElement(CloseIcon,null))),React.createElement(Box,{component:"nav"},v))},jo=(0,e.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),Oc=v=>{const{sidebarConfig:O}=useContext(ka),{children:Y}=v,ne=bs({sidebarConfig:O}),fe=useLocation$1(),[Te,_e]=useState(-1);useEffect(()=>{_e(-1)},[fe.pathname]);let Ye=useElementFilter(Y,ct=>ct.getElements().filter(kt=>kt.type===Ac));if(Y)Ye.length?Ye=tl(Ye):Ye.push(React.createElement(Ho,{key:"default_menu",icon:React.createElement(MenuIcon,null)},Y));else return null;const it=Te>=0&&!Ye[Te].props.to;return React.createElement(Fo.Provider,{value:{isOpen:!0,setOpen:()=>{}}},React.createElement(jo.Provider,{value:{selectedMenuItemIndex:Te,setSelectedMenuItemIndex:_e}},React.createElement(Ic,{label:Ye[Te]&&Ye[Te].props.label,open:it,onClose:()=>_e(-1)},Ye[Te]&&Ye[Te].props.children),React.createElement(BottomNavigation,{className:ne.root,"data-testid":"mobile-sidebar-root",component:"nav"},Ye)))},ws=(0,w.Z)(v=>({drawer:O=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:v.zIndex.appBar,background:v.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:O.sidebarConfig.drawerWidthClosed,transition:v.transitions.create("width",{easing:v.transitions.easing.sharp,duration:v.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:O=>({width:O.sidebarConfig.drawerWidthOpen,transition:v.transitions.create("width",{easing:v.transitions.easing.sharp,duration:v.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),ni=v=>{const{sidebarConfig:O}=useContext(ka),{openDelayMs:Y=O.defaultOpenDelayMs,closeDelayMs:ne=O.defaultCloseDelayMs,disableExpandOnHover:fe,children:Te}=v,_e=ws({sidebarConfig:O}),Ye=useMediaQuery(Kn=>Kn.breakpoints.down("md"),{noSsr:!0}),[it,ct]=useState(0),kt=useRef(),{isPinned:$t,toggleSidebarPinState:jt}=useContext(vs),Wt=()=>{$t||fe||(kt.current&&(clearTimeout(kt.current),kt.current=void 0),it!==2&&!Ye&&(kt.current=window.setTimeout(()=>{kt.current=void 0,ct(2)},Y),ct(1)))},Kt=()=>{$t||fe||(kt.current&&(clearTimeout(kt.current),kt.current=void 0),it===1?ct(0):it===2&&(kt.current=window.setTimeout(()=>{kt.current=void 0,ct(0)},ne)))},Pn=it===2&&!Ye||$t,er=Kn=>{Kn?(ct(2),jt()):(ct(0),jt())};return React.createElement("nav",{style:{},"aria-label":"sidebar nav"},React.createElement(nl,null),React.createElement(Fo.Provider,{value:{isOpen:Pn,setOpen:er}},React.createElement("div",{className:_e.root,"data-testid":"sidebar-root",onMouseEnter:fe?()=>{}:Wt,onFocus:fe?()=>{}:Wt,onMouseLeave:fe?()=>{}:Kt,onBlur:fe?()=>{}:Kt},React.createElement("div",{className:classNames(_e.drawer,{[_e.drawerOpen]:Pn})},Te))))},Nc=v=>{var O,Y;const ne=cd((O=v.sidebarOptions)!=null?O:{}),fe=qi((Y=v.submenuOptions)!=null?Y:{}),{children:Te,disableExpandOnHover:_e,openDelayMs:Ye,closeDelayMs:it}=v,{isMobile:ct}=useContext(vs);return ct?React.createElement(Oc,null,Te):React.createElement(ka.Provider,{value:{sidebarConfig:ne,submenuConfig:fe}},React.createElement(ni,{openDelayMs:Ye,closeDelayMs:it,disableExpandOnHover:_e},Te))};function nl(){const{sidebarConfig:v}=useContext(ka),{focusContent:O,contentRef:Y}=Es(),ne=ws({sidebarConfig:v});return Y!=null&&Y.current?React.createElement(Button$1,{onClick:O,variant:"contained",className:classNames(ne.visuallyHidden)},"Skip to content"):null}function Rs(v,O){const Y=new URLSearchParams(O.search).toString(),ne=Pr().parse(Y),fe=new URLSearchParams(v.search).toString(),Te=Pr().parse(fe);return(0,ia.isEqual)(O.pathname,v.pathname)&&(0,ia.isMatch)(Te,ne)}const Bu=(0,w.Z)(v=>({item:{height:48,width:"100%","&:hover":{background:"#6f6f6f",color:v.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:v.palette.navigation.color,padding:20,cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:"#FFF"},label:{margin:14,marginLeft:7,fontSize:14,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:"#6f6f6f",color:v.palette.navigation.selectedColor}},textContent:{color:v.palette.navigation.color,paddingLeft:v.spacing(4),paddingRight:v.spacing(1),fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}),{name:"BackstageSidebarSubmenuItem"}),Lc=v=>{const{title:O,to:Y,icon:ne,dropdownItems:fe}=v,Te=Bu(),{setIsHoveredOn:_e}=useContext(ti),Ye=()=>{_e(!1)},it=useResolvedPath(Y!=null?Y:""),ct=useLocation();let kt=Rs(ct,it);const[$t,jt]=useState(!1),Wt=()=>{jt(!$t)};return fe!==void 0?(fe.some(Kt=>{const Pn=resolvePath(Kt.to);return kt=Rs(ct,Pn),kt}),React.createElement("div",{className:Te.itemContainer},React.createElement(Tooltip,{title:O,enterDelay:500,enterNextDelay:500},React.createElement("button",{onClick:Wt,onTouchStart:Kt=>Kt.stopPropagation(),className:classNames(Te.item,kt?Te.selected:void 0)},ne&&React.createElement(ne,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:Te.label},O),$t?React.createElement(ArrowDropUpIcon,{className:Te.dropdownArrow}):React.createElement(ArrowDropDownIcon,{className:Te.dropdownArrow}))),fe&&$t&&React.createElement("div",{className:Te.dropdown},fe.map((Kt,Pn)=>React.createElement(Tooltip,{key:Pn,title:Kt.title,enterDelay:500,enterNextDelay:500},React.createElement(Oa,{to:Kt.to,underline:"none",className:Te.dropdownItem,onClick:Ye,onTouchStart:er=>er.stopPropagation()},React.createElement(Typography,{className:Te.textContent},Kt.title))))))):React.createElement("div",{className:Te.itemContainer},React.createElement(Tooltip,{title:O,enterDelay:500,enterNextDelay:500},React.createElement(Oa,{to:Y,underline:"none",className:classNames(Te.item,kt?Te.selected:void 0),onClick:Ye,onTouchStart:Kt=>Kt.stopPropagation()},ne&&React.createElement(ne,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:Te.label},O))))},xc=(0,w.Z)(v=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:v.spacing(7)+1},drawer:O=>{var Y,ne;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[v.breakpoints.up("sm")]:{marginLeft:O.left,transition:v.transitions.create("margin-left",{easing:v.transitions.easing.sharp,duration:v.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(ne=(Y=v.palette.navigation.submenu)==null?void 0:Y.background)!=null?ne:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:O.submenuConfig.drawerWidthClosed,transitionDelay:`${O.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:O=>({width:O.submenuConfig.drawerWidthOpen,[v.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:v.spacing(3),left:0,top:0}}),title:{fontSize:24,fontWeight:500,color:"#FFF",padding:20,[v.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),rl=v=>{const{isOpen:O}=(0,e.useContext)(Fo),{sidebarConfig:Y,submenuConfig:ne}=(0,e.useContext)(ka),fe=O?Y.drawerWidthOpen:Y.drawerWidthClosed,Te=xc({left:fe,submenuConfig:ne}),{isHoveredOn:_e}=(0,e.useContext)(ti),[Ye,it]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{it(_e)},[_e]),e.createElement("div",{className:B()(Te.drawer,{[Te.drawerOpen]:Ye})},e.createElement(Et.Z,{variant:"h5",className:Te.title},v.title),v.children)},Dc=(0,w.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Mc=()=>{const v=Dc();return React.createElement("div",{className:v.iconContainer},React.createElement("div",{className:v.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))},Bc=(0,w.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),al=()=>{const v=Bc();return React.createElement("div",{className:v.iconContainer},React.createElement("div",{className:v.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))},ol=v=>(0,w.Z)(O=>{var Y,ne,fe,Te;return{root:{color:O.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit"},closed:{width:v.drawerWidthClosed,justifyContent:"center"},open:{[O.breakpoints.up("sm")]:{width:v.drawerWidthOpen}},highlightable:{"&:hover":{background:(ne=(Y=O.palette.navigation.navItem)==null?void 0:Y.hoverBackground)!=null?ne:"#404040"}},highlighted:{background:(Te=(fe=O.palette.navigation.navItem)==null?void 0:fe.hoverBackground)!=null?Te:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:v.iconContainerWidth,marginRight:-O.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:"bold",fontSize:O.typography.fontSize},searchFieldHTMLInput:{padding:O.spacing(2,0,2)},searchContainer:{width:v.drawerWidthOpen-v.iconContainerWidth},secondaryAction:{width:O.spacing(6),textAlign:"center",marginRight:O.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:O.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${v.selectedIndicatorWidth}px ${O.palette.navigation.indicator}`,color:O.palette.navigation.selectedColor},"&$closed":{width:v.drawerWidthClosed},"& $closedItemIcon":{paddingRight:v.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-v.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function _o(v){return(0,e.useMemo)(()=>ol(v),[v])()}const dd=(v,O)=>(0,T.vJ)(v.props.children,Y=>{let ne=!1;return Y.getElements().forEach(({props:{to:fe,dropdownItems:Te}})=>{if(!ne){if(Te!=null&&Te.length){Te.forEach(({to:_e})=>ne=ne||Rs(O,(0,p.i3)(_e)));return}fe&&(ne=Rs(O,(0,p.i3)(fe)))}}),ne},[O.pathname]);function sl(v){return v.to===void 0}const Fc=e.createElement(rl).type,jc=e.forwardRef(function({to:O,end:Y,style:ne,className:fe,activeStyle:Te,caseSensitive:_e,activeClassName:Ye="active","aria-current":it="page",...ct},kt){let{pathname:$t}=(0,p.TH)(),{pathname:jt}=(0,p.WU)(O);_e||($t=$t.toLocaleLowerCase("en-US"),jt=jt.toLocaleLowerCase("en-US"));let Wt=$t===jt;!Wt&&!Y&&(Wt=$t.startsWith(`${jt}/`));const Kt=Wt?it:void 0;return e.createElement(f.rU,{...ct,to:O,ref:kt,"aria-current":Kt,style:{...ne,...Wt?Te:void 0},className:B()([fe,Wt?Ye:void 0])})}),il=(0,e.forwardRef)((v,O)=>{const{icon:Y,text:ne,hasNotifications:fe=!1,disableHighlight:Te=!1,onClick:_e,children:Ye,className:it,...ct}=v,{sidebarConfig:kt}=(0,e.useContext)(ka),$t=_o(kt),{isOpen:jt}=(0,e.useContext)(Fo),Wt=!jt&&Ye?{display:"flex",marginLeft:"24px"}:{},Kt=e.createElement("div",{style:Wt},e.createElement(Y,{fontSize:"small"}),!jt&&Ye?e.createElement(Pe.Z,null):e.createElement(e.Fragment,null)),Pn=e.createElement(se.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!fe,className:B()({[$t.closedItemIcon]:!jt})},Kt),er=e.createElement(e.Fragment,null,e.createElement("div",{"data-testid":"login-button",className:$t.iconContainer},Pn),ne&&e.createElement(Et.Z,{variant:"subtitle2",className:$t.label},ne),e.createElement("div",{className:$t.secondaryAction},Ye)),Kn=jt?er:Pn,dr={onClick:_e,className:B()(it,$t.root,jt?$t.open:$t.closed,sl(v)&&$t.buttonItem,{[$t.highlightable]:!Te})};return sl(v)?e.createElement("button",{"aria-label":ne,...dr,ref:O},Kn):e.createElement(jc,{...dr,activeClassName:$t.selected,to:v.to?v.to:"",ref:O,"aria-label":ne||v.to,...ct},Kn)}),ll=({children:v,...O})=>{const{sidebarConfig:Y}=(0,e.useContext)(ka),ne=_o(Y),[fe,Te]=(0,e.useState)(!1),_e=(0,p.TH)(),Ye=dd(v,_e),it=(0,x.Z)(jt=>jt.breakpoints.down("sm")),ct=()=>{Te(!0)},kt=()=>{Te(!1)},$t=()=>it?fe?e.createElement(Q.Z,{fontSize:"small",className:ne.submenuArrow}):e.createElement(K.Z,{fontSize:"small",className:ne.submenuArrow}):!fe&&e.createElement(Pe.Z,{fontSize:"small",className:ne.submenuArrow});return e.createElement(ti.Provider,{value:{isHoveredOn:fe,setIsHoveredOn:Te}},e.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:kt,onTouchStart:fe?kt:ct,onMouseEnter:ct,className:B()(fe&&ne.highlighted)},e.createElement(il,{className:Ye?ne.selected:"",...O},$t()),fe&&v))},Fu=(0,e.forwardRef)((v,O)=>{const[Y]=(0,T.vJ)(v.children,ne=>ne.getElements().filter(fe=>fe.type===Fc));return Y?e.createElement(ll,{...v},Y):e.createElement(il,{...v,ref:O})});function Ld(v){const{sidebarConfig:O}=useContext(ka),[Y,ne]=useState(""),fe=_o(O),Te=v.icon?v.icon:SearchIcon,_e=()=>{v.onSearch(Y),ne("")},Ye=$t=>{$t.key==="Enter"&&($t.preventDefault(),_e())},it=$t=>{ne($t.target.value)},ct=$t=>{$t.preventDefault(),$t.stopPropagation()},kt=$t=>{_e(),$t.preventDefault()};return React.createElement("div",{className:fe.searchRoot},React.createElement(Fu,{icon:Te,to:v.to,onClick:kt,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:Y,onClick:ct,onChange:it,onKeyDown:Ye,className:fe.searchContainer,InputProps:{disableUnderline:!0,className:fe.searchField},inputProps:{className:fe.searchFieldHTMLInput}})))}const Ss=(0,A.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),cl=(0,A.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),_c=(0,A.Z)("hr")({height:1,width:"100%",background:"#383838",border:"none",margin:"12px 0px"},{name:"BackstageSidebarDivider"}),ul=v=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:v.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:v.palette.text.hint,borderRadius:"5px"}}),ju=(0,A.Z)("div")(({theme:v})=>{const O=ul(v);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":O,"&:hover":O}}),_u=()=>{const{sidebarConfig:v}=useContext(ka),O=_o(v),{isOpen:Y,setOpen:ne}=useContext(Fo);if(useMediaQuery(_e=>_e.breakpoints.down("md"),{noSsr:!0}))return null;const Te=()=>{ne(!Y)};return React.createElement("button",{onClick:Te,className:O.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement("div",{className:O.arrows},Y?React.createElement(Mc,null):React.createElement(al,null)))},Uu=(0,w.Z)(v=>({introCard:O=>({color:"#b5b5b5",fontSize:12,width:O.sidebarConfig.drawerWidthOpen,marginTop:18,marginBottom:12,paddingLeft:O.sidebarConfig.iconPadding,paddingRight:O.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:12},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:4,"&:hover":{color:v.palette.linkHover,transition:v.transitions.create("color",{easing:v.transitions.easing.sharp,duration:v.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:12}}),{name:"BackstageSidebarIntro"});function dl(v){const{sidebarConfig:O}=useContext(ka),Y=Uu({sidebarConfig:O}),{text:ne,onClose:fe}=v,Te=()=>fe();return React.createElement("div",{className:Y.introCard},React.createElement(Typography,{variant:"subtitle2"},ne),React.createElement("div",{className:Y.introDismiss},React.createElement(Link$1,{component:"button",onClick:Te,underline:"none",className:Y.introDismissLink},React.createElement(CloseIcon,{className:Y.introDismissIcon}),React.createElement(Typography,{component:"span",className:Y.introDismissText},"Dismiss"))))}const ml=v=>{const{text:O,onDismiss:Y}=v,[ne,fe]=useState(!1),Te=()=>{fe(!0)};return React.createElement(Collapse,{in:!ne,onExited:Y},React.createElement(dl,{text:O,onClose:Te}))},ri=null,Uc="And your recently viewed plugins will pop up here!";function Gu(v){const{isOpen:O}=useContext(Fo),Y={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},[ne,fe]=useLocalStorageValue(Cc),{starredItemsDismissed:Te,recentlyViewedItemsDismissed:_e}=ne!=null?ne:{},Ye=()=>{fe(ct=>({...Y,...ct,starredItemsDismissed:!0}))},it=()=>{fe(ct=>({...Y,...ct,recentlyViewedItemsDismissed:!0}))};return O?React.createElement(React.Fragment,null,!Te&&React.createElement(React.Fragment,null,React.createElement(ml,{text:ri,onDismiss:Ye}),React.createElement(_c,null)),!_e&&React.createElement(ml,{text:Uc,onDismiss:it})):null}const pl=(0,w.Z)(v=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:v.spacing(3),paddingBottom:v.spacing(3),paddingLeft:v.spacing(2),paddingRight:v.spacing(2),[v.breakpoints.up("sm")]:{paddingLeft:v.spacing(3),paddingRight:v.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function ai(v){const{className:O,stretch:Y,noPadding:ne,children:fe,...Te}=v,{contentRef:_e}=Es(),Ye=pl();return e.createElement("article",{ref:_e,tabIndex:-1,...Te,className:B()(Ye.root,O,{[Ye.stretch]:Y,[Ye.noPadding]:ne})},fe)}const Gc=(0,w.Z)(v=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:v.palette.background.paper,paddingLeft:v.spacing(3)},defaultTab:{padding:v.spacing(3,3),...v.typography.caption,textTransform:"uppercase",fontWeight:"bold",color:v.palette.text.secondary},selected:{color:v.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:v.palette.background.default,color:v.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function $s(v){const{tabs:O,onChange:Y,selectedIndex:ne}=v,[fe,Te]=(0,e.useState)(ne!=null?ne:0),_e=Gc(),Ye=(it,ct)=>{ne===void 0&&Te(ct),Y&&Y(ct)};return(0,e.useEffect)(()=>{ne!==void 0&&Te(ne)},[ne]),e.createElement("div",{className:_e.tabsWrapper},e.createElement(Ge.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",onChange:Ye,value:fe},O.map((it,ct)=>e.createElement(Oe.Z,{...it.tabProps,"data-testid":`header-tab-${ct}`,label:it.label,key:it.id,value:ct,className:_e.defaultTab,classes:{selected:_e.selected,root:_e.tabRoot}}))))}function fl(v){var O,Y,ne;const fe=Fn(),_e=v.map(({path:kt,children:$t})=>({caseSensitive:!1,path:`${kt}/*`,element:$t})).sort((kt,$t)=>$t.path.replace(/\/\*$/,"").localeCompare(kt.path.replace(/\/\*$/,""))),Ye=(O=Rr(_e))!=null?O:v[0].children,[it]=(Y=Hr(_e,`/${fe["*"]}`))!=null?Y:[],ct=it?v.findIndex(kt=>`${kt.path}/*`===it.route.path):0;return{index:ct===-1?0:ct,element:Ye,route:(ne=v[ct])!=null?ne:v[0]}}function Vc(v){const{routes:O}=v,Y=cr(),{index:ne,route:fe,element:Te}=fl(O),_e=(0,e.useMemo)(()=>O.map(it=>({id:it.path,label:it.title,tabProps:it.tabProps})),[O]),Ye=it=>Y(O[it].path.replace(/\/\*$/,"").replace(/^\//,""));return e.createElement(e.Fragment,null,e.createElement($s,{tabs:_e,selectedIndex:ne,onChange:Ye}),e.createElement(ai,null,e.createElement(Ua.q,{title:fe.title}),Te))}const Ts=()=>null;(0,T.R5)(Ts,"core.gatherMountPoints",!0);function oi(v){const O=e.createElement(Ts,{path:"",title:""},e.createElement("div",null)).type;return e.Children.toArray(v).flatMap(Y=>{if(!(0,e.isValidElement)(Y))return[];if(Y.type===e.Fragment)return oi(Y.props.children);if(Y.type!==O)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:ne,title:fe,children:Te,tabProps:_e}=Y.props;return[{path:ne,title:fe,children:Te,tabProps:_e}]})}function hl(v){const O=oi(v.children);return e.createElement(Vc,{routes:O})}hl.Route=Ts;const Vu=(0,w.Z)(v=>({value:{marginBottom:"6px"},subvalue:{color:v.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function si(v){const{value:O,subvalue:Y}=v,ne=Vu();return React.createElement(React.Fragment,null,React.createElement("div",{className:ne.value},O),React.createElement("div",{className:ne.subvalue},Y))}const gl=(0,w.Z)(v=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:v.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:"60px",justifyContent:"space-between",borderBottom:`1px solid ${v.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:v.spacing(2)}}}),{name:"BackstageTableFilters"}),zc=v=>{var O;const Y=gl(),{onChangeFilters:ne}=v,[fe,Te]=(0,e.useState)({...v.selectedFilters}),[_e,Ye]=(0,e.useState)(!1),it=()=>{Te({}),Ye(ct=>!ct)};return(0,e.useEffect)(()=>{ne(fe)},[fe,ne]),e.createElement("div",{className:Y.root},e.createElement("div",{className:Y.header},e.createElement("div",{className:Y.value},"Filters"),e.createElement(F.Z,{color:"primary",onClick:it},"Clear all")),e.createElement("div",{className:Y.filters},((O=v.filters)==null?void 0:O.length)&&v.filters.map(ct=>e.createElement(dc,{triggerReset:_e,key:ct.element.label,...ct.element,selected:fe[ct.element.label],onChange:kt=>Te({...fe,[ct.element.label]:kt})}))))},Zc={Add:(0,e.forwardRef)((v,O)=>e.createElement(st.Z,{...v,ref:O})),Check:(0,e.forwardRef)((v,O)=>e.createElement(X.Z,{...v,ref:O})),Clear:(0,e.forwardRef)((v,O)=>e.createElement(ae.Z,{...v,ref:O})),Delete:(0,e.forwardRef)((v,O)=>e.createElement($e.Z,{...v,ref:O})),DetailPanel:(0,e.forwardRef)((v,O)=>e.createElement(we.Z,{...v,ref:O})),Edit:(0,e.forwardRef)((v,O)=>e.createElement(Ne.Z,{...v,ref:O})),Export:(0,e.forwardRef)((v,O)=>e.createElement(yt.Z,{...v,ref:O})),Filter:(0,e.forwardRef)((v,O)=>e.createElement(Ze.Z,{...v,ref:O})),FirstPage:(0,e.forwardRef)((v,O)=>e.createElement(Ue.Z,{...v,ref:O})),LastPage:(0,e.forwardRef)((v,O)=>e.createElement(Qe.Z,{...v,ref:O})),NextPage:(0,e.forwardRef)((v,O)=>e.createElement(we.Z,{...v,ref:O})),PreviousPage:(0,e.forwardRef)((v,O)=>e.createElement(ie.Z,{...v,ref:O})),ResetSearch:(0,e.forwardRef)((v,O)=>e.createElement(ae.Z,{...v,ref:O})),Search:(0,e.forwardRef)((v,O)=>e.createElement(Ze.Z,{...v,ref:O})),SortArrow:(0,e.forwardRef)((v,O)=>e.createElement(pt.Z,{...v,ref:O})),ThirdStateCheck:(0,e.forwardRef)((v,O)=>e.createElement(rt.Z,{...v,ref:O})),ViewColumn:(0,e.forwardRef)((v,O)=>e.createElement(at.Z,{...v,ref:O}))};function yl(v,O){const Y=O.split(".");let ne=v[Y[0]];for(let fe=1;fe<Y.length;++fe){if(ne===void 0)return ne;const Te=Y[fe];ne=ne[Te]}return ne}const zu=(0,l.Z)(v=>({header:{padding:v.spacing(1,2,1,2.5),borderTop:`1px solid ${v.palette.grey.A100}`,borderBottom:`1px solid ${v.palette.grey.A100}`,color:v.palette.textSubtle,fontWeight:v.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(mt.W$),Zu=(0,l.Z)(v=>({root:{padding:v.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:"bold"}},searchField:{paddingRight:v.spacing(2)}}),{name:"BackstageTableToolbar"})(mt.UW),Cs=(0,w.Z)(()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:"bold",fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),Ko=(0,w.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function vl(v,O){return v.map(Y=>{const ne={};let fe=Y.cellStyle||{};if(Y.highlight)if(ne.color=O.palette.textContrast,typeof fe=="object")fe.fontWeight=O.typography.fontWeightBold;else{const Te=fe;fe=(_e,Ye,it)=>({...Te(_e,Ye,it),fontWeight:O.typography.fontWeightBold})}return{...Y,headerStyle:ne,cellStyle:fe}})}function Jo(v,O){return(0,ia.transform)(v,(Y,ne,fe)=>{(0,ia.isEqual)(ne,O[fe])||(Y[fe]=ne)})}const Yo={search:"",filtersOpen:!1,filters:{}};function Qo(v){const{toolbarRef:O,setSearch:Y,hasFilters:ne,selectedFiltersLength:fe,toggleFilters:Te}=v,_e=Cs(),Ye=(0,e.useCallback)(it=>{v.onSearchChanged(it),Y(it)},[v,Y]);return ne?e.createElement("div",{className:_e.root},e.createElement("div",{className:_e.root},e.createElement(t.Z,{onClick:Te,"aria-label":"filter list"},e.createElement(Ze.Z,null)),e.createElement(Et.Z,{className:_e.title},"Filters (",fe,")")),e.createElement(Zu,{...v,ref:O,onSearchChanged:Ye})):e.createElement(Zu,{...v,ref:O,onSearchChanged:Ye})}function Xa(v){const{data:O,columns:Y,options:ne,title:fe,subtitle:Te,filters:_e,initialState:Ye,emptyContent:it,onStateChange:ct,...kt}=v,$t=Ko(),jt=(0,E.Z)(),Wt={...Yo,...Ye},[Kt,Pn]=(0,e.useState)(Wt.filtersOpen),er=(0,e.useCallback)(()=>Pn(Ra=>!Ra),[Pn]),[Kn,dr]=(0,e.useState)(0),[Cn,Vn]=(0,e.useState)(O),[zn,Qr]=(0,e.useState)(Wt.filters),Fa=vl(Y,jt),[ca,aa]=(0,e.useState)(Wt.search);(0,e.useEffect)(()=>{if(ct){const Ra=Jo({search:ca,filtersOpen:Kt,filters:zn},Yo);ct(Ra)}},[ca,Kt,zn,ct]);const ua={headerStyle:{textTransform:"uppercase"}},ja=(0,e.useCallback)(Ra=>{var ho;return(ho=Y.find(ns=>ns.title===Ra))==null?void 0:ho.field},[Y]);(0,e.useEffect)(()=>{if(typeof O=="function")return;if(!zn){Vn(O);return}const Ra=Object.values(zn);if(O&&Ra.flat().length){const ho=O.filter(ns=>!!Object.entries(zn).filter(([,oo])=>!!oo.length).every(([oo,Lr])=>{const Ha=yl(ns,ja(oo));return Array.isArray(Ha)&&Array.isArray(Lr)?Ha.some(Ns=>Lr.includes(Ns)):Array.isArray(Ha)?Ha.includes(Lr):Array.isArray(Lr)?Lr.includes(Ha):Ha===Lr}));Vn(ho)}else Vn(O);dr(Ra.flat().length)},[O,zn,ja]);const lr=(Ra,ho)=>{const ns=Lr=>{const Ha=new Set,Ns=Ka=>{Ka!=null&&Ha.add(Ka)};return ho&&ho.forEach(Ka=>{const hi=yl(Ka,ja(Lr));Array.isArray(hi)?hi.forEach(Ns):Ns(hi)}),Ha},oo=Lr=>({placeholder:"All results",label:Lr.column,multiple:Lr.type==="multiple-select",items:[...ns(Lr.column)].sort().map(Ha=>({label:Ha,value:Ha}))});return Ra.map(Lr=>({type:Lr.type,element:oo(Lr)}))},ao=!!(_e!=null&&_e.length),Os=(0,e.useCallback)(Ra=>e.createElement(Qo,{setSearch:aa,hasFilters:ao,selectedFiltersLength:Kn,toggleFilters:er,...Ra}),[er,ao,Kn,aa]),Ro=typeof O!="function"&&O.length===0,fi=Y.length,Hu=(0,e.useCallback)(Ra=>it&&Ro?e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{colSpan:fi},it))):e.createElement(mt.os,{...Ra}),[Ro,it,fi]);return e.createElement("div",{className:$t.root},Kt&&O&&typeof O!="function"&&(_e==null?void 0:_e.length)&&e.createElement(zc,{filters:lr(_e,O),selectedFilters:zn,onChangeFilters:Qr}),e.createElement(mt.ZP,{components:{Header:zu,Toolbar:Os,Body:Hu},options:{...ua,...ne},columns:Fa,icons:Zc,title:e.createElement(e.Fragment,null,e.createElement(Et.Z,{variant:"h5",component:"h3"},fe),Te&&e.createElement(Et.Z,{color:"textSecondary",variant:"body1"},Te)),data:typeof O=="function"?O:Cn,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter"}},...kt}))}function xd(v,O){if(O<=0)return[v];const Y=[];for(let ne=0;ne<v.length;ne+=O)Y.push(v.slice(ne,ne+O));return Y}const ii=v=>{const{children:O,value:Y,index:ne,...fe}=v;return React.createElement("div",{role:"tabpanel",hidden:Y!==ne,"aria-labelledby":`scrollable-auto-tab-${ne}`,...fe},Y===ne&&React.createElement(Box,{p:3},O))},md=(0,w.Z)(()=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:"1.5rem",textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:v=>v.isNext?"auto":"0",marginRight:v=>v.isNext?"0":"10px","&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}}),{name:"BackstageTabIcon"}),El=v=>{const O=md(v),{ariaLabel:Y,onClick:ne}=v;return React.createElement(IconButton,{onClick:ne,className:O.root,size:"small",disableRipple:!0,disableFocusRipple:!0,"aria-label":Y},v.children)},Xo=(v,O)=>O?v?"20px":"0":"40px",bl=(0,w.Z)(v=>({root:{textTransform:"none",height:"64px",fontWeight:v.typography.fontWeightBold,fontSize:v.typography.pxToRem(13),color:v.palette.textSubtle,marginLeft:O=>Xo(O.isFirstNav,O.isFirstIndex),width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:v.palette.textSubtle}}}),{name:"BackstageTab"}),li=v=>{const O=bl(v),{isFirstNav:Y,isFirstIndex:ne,...fe}=v;return React.createElement(Tab,{classes:O,disableRipple:!0,...fe})},Wu=(0,w.Z)(v=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:v.palette.tabbar.indicator,height:"4px"},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}}),{name:"BackstageTabBar"}),wl=v=>{const O=Wu(v);return React.createElement(Tabs$1,{classes:O,...v,TabIndicatorProps:{children:React.createElement("span",null)}})},pd=(0,w.Z)(v=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:v.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:v.palette.background.paper,paddingLeft:"10px",paddingRight:"10px"}}),{name:"BackstageTabs"});function Dd(v){const{tabs:O}=v,Y=pd(),[ne,fe]=useState([0,0]),[Te,_e]=useState(0),[Ye,it]=useState(0),[ct,kt]=useState([[]]),$t=useRef(),{width:jt}=useWindowSize(),Wt=(dr,Cn)=>{fe([Te,Cn])},Kt=()=>{_e(Te-1)},Pn=()=>{_e(Te+1)},er=()=>Te+1<ct.length;useEffect(()=>{const Cn=Te===0?1:2,Vn=$t.current.offsetWidth-20-Cn*30,zn=ne[0]*Ye+ne[1],Qr=Math.floor(Vn/170);it(Qr),kt(xd(O,Qr)),fe([Math.floor(zn/Qr),zn%Qr])},[jt,O]);const Kn=Te===ne[0]?ne[1]:!1;return React.createElement("div",{className:Y.root},React.createElement(AppBar,{ref:$t,className:Y.appbar,position:"static"},React.createElement("div",null,React.createElement(wl,{value:Kn,onChange:Wt,selectionFollowsFocus:!0},Te!==0&&React.createElement(El,{onClick:Kt,ariaLabel:"navigate-before"},React.createElement(NavigateBeforeIcon,null)),ct[Te].map((dr,Cn)=>React.createElement(li,{value:Cn,isFirstIndex:Cn===0,isFirstNav:Te===0,key:Cn,icon:dr.icon||void 0,label:dr.label||void 0})),er()&&React.createElement(El,{isNext:!0,onClick:Pn,ariaLabel:"navigate-next"},React.createElement(NavigateNextIcon,null))))),Kn!==!1?ct[Te].map((dr,Cn)=>React.createElement(ii,{key:Cn,value:Cn,index:Kn},dr.content)):React.createElement(ii,{key:"panel_outside_chunked_array",value:ne[1],index:ne[1]},ct[ne[0]][ne[1]].content))}function Rl(v,O){const Y=v[v.length-1];if(!!Y)return Y>=.9?O.palette.status.ok:Y>=.5?O.palette.status.warning:O.palette.status.error}function ci(v){var O;const Y=useTheme();return v.data?React.createElement(Sparklines,{width:120,height:30,min:0,max:1,...v},v.title&&React.createElement("title",null,v.title),React.createElement(SparklinesLine,{color:(O=v.color)!=null?O:Rl(v.data,Y)})):null}const Sl=v=>(0,w.Z)(O=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:O.spacing(2),textAlign:v.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:O.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),$l=({title:v="Unknown page",className:O})=>e.createElement(Et.Z,{variant:"h4",component:"h2",className:O,"data-testid":"header-title"},v);function ui(v){const{description:O,title:Y,titleComponent:ne=void 0,children:fe,textAlign:Te="left"}=v,_e=Sl({textAlign:Te})(),Ye=ne||e.createElement($l,{title:Y,className:_e.title});return e.createElement(e.Fragment,null,e.createElement(Ua.q,{title:Y}),e.createElement("div",{className:_e.container},e.createElement("div",{className:_e.leftItemsBox},Ye,O&&e.createElement(Et.Z,{className:_e.description,variant:"body2"},O)),e.createElement("div",{className:_e.rightItemsBox},fe)))}const di=(0,w.Z)(v=>({micDrop:{maxWidth:"60%",position:"absolute",bottom:v.spacing(2),right:v.spacing(2),[v.breakpoints.down("xs")]:{maxWidth:"96%",position:"relative",bottom:"unset",right:"unset",margin:`${v.spacing(10)}px auto ${v.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),Wc=()=>{const v=di();return React.createElement("img",{src:MicDropSvgUrl,className:v.micDrop,alt:"Girl dropping mic from her hands"})},Tl=(0,w.Z)(v=>({container:{padding:v.spacing(8),[v.breakpoints.down("xs")]:{padding:v.spacing(2)}},title:{paddingBottom:v.spacing(5),[v.breakpoints.down("xs")]:{paddingBottom:v.spacing(4),fontSize:32}},subtitle:{color:v.palette.textSubtle}}),{name:"BackstageErrorPage"});function mo(v){const{status:O,statusMessage:Y,additionalInfo:ne,supportUrl:fe}=v,Te=Tl(),_e=useNavigate(),Ye=gs();return React.createElement(Grid,{container:!0,spacing:0,className:Te.container},React.createElement(Wc,null),React.createElement(Grid,{item:!0,xs:12,sm:8,md:4},React.createElement(Typography,{"data-testid":"error",variant:"body1",className:Te.subtitle},"ERROR ",O,": ",Y),React.createElement(Typography,{variant:"body1",className:Te.subtitle},ne),React.createElement(Typography,{variant:"h2",className:Te.title},"Looks like someone dropped the mic!"),React.createElement(Typography,{variant:"h6"},React.createElement(Oa,{to:"#","data-testid":"go-back-link",onClick:()=>_e(-1)},"Go back"),"... or please"," ",React.createElement(Oa,{to:fe||Ye.url},"contact support")," if you think this is a bug.")))}const ks=(0,l.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(Et.Z),qo=(0,l.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(wn.Z);function Hc(v){const{children:O,...Y}=v,[ne,fe]=React.useState(null),Te=React.Children.toArray(O),[_e,Ye,...it]=Te,ct=it.length?it.pop():Te[Te.length-1],kt=Te.length>3,$t=Kt=>{fe(Kt.currentTarget)},jt=()=>{fe(null)},Wt=Boolean(ne);return React.createElement(Fragment,null,React.createElement(MaterialBreadcrumbs,{"aria-label":"breadcrumb",...Y},Te.length>1&&React.createElement(qo,{clone:!0},_e),Te.length>2&&React.createElement(qo,{clone:!0},Ye),kt&&React.createElement(ks,{onClick:$t},"..."),React.createElement(Box,{style:{fontStyle:"italic"}},ct)),React.createElement(Popover,{open:Wt,anchorEl:ne,onClose:jt,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},React.createElement(List,null,it.map((Kt,Pn)=>React.createElement(ListItem,{key:Pn,button:!0},React.createElement(qo,{clone:!0},Kt))))))}const Kc=(0,w.Z)(v=>({header:{gridArea:"pageHeader",padding:v.spacing(3),width:"100%",boxShadow:v.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:v.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[v.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto"},title:{color:v.palette.bursts.fontColor,wordBreak:"break-word",fontSize:v.typography.h3.fontSize,marginBottom:0},subtitle:{color:v.palette.bursts.fontColor,opacity:.8,display:"inline-block",marginTop:v.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:v.spacing(1),color:v.palette.bursts.fontColor},breadcrumb:{color:v.palette.bursts.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-v.spacing(.3),marginBottom:v.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-v.spacing(.3),marginBottom:v.spacing(.3)}}),{name:"BackstageHeader"}),es=({type:v,typeLink:O,classes:Y,pageTitle:ne})=>v?O?React.createElement(Hc,{className:Y.breadcrumb},React.createElement(Oa,{to:O},v),React.createElement(Typography,null,ne)):React.createElement(Typography,{className:Y.type},v):null,Pa=({pageTitle:v,classes:O,tooltip:Y})=>{const ne=React.createElement(Typography,{className:O.title,variant:"h1"},v);return Y?React.createElement(Tooltip,{title:Y,placement:"top-start"},ne):ne},mi=({classes:v,subtitle:O})=>O?typeof O!="string"?React.createElement(React.Fragment,null,O):React.createElement(Typography,{className:v.subtitle,variant:"subtitle2",component:"span"},O):null;function pi(v){const{children:O,pageTitleOverride:Y,style:ne,subtitle:fe,title:Te,tooltip:_e,type:Ye,typeLink:it}=v,ct=Kc(),$t=useApi(configApiRef).getOptionalString("app.title")||"Backstage",jt=Y||Te,Wt=Te||Y,Kt=`${jt} | %s | ${$t}`,Pn=`${jt} | ${$t}`;return React.createElement(React.Fragment,null,React.createElement(Helmet,{titleTemplate:Kt,defaultTitle:Pn}),React.createElement("header",{style:ne,className:ct.header},React.createElement(Box,{className:ct.leftItemsBox},React.createElement(es,{classes:ct,type:Ye,typeLink:it,pageTitle:Wt}),React.createElement(Pa,{classes:ct,pageTitle:Wt,tooltip:_e}),React.createElement(mi,{classes:ct,subtitle:fe})),React.createElement(Grid,{container:!0,className:ct.rightItemsBox,spacing:4},O)))}const Jc=(0,w.Z)(v=>({root:{textAlign:"left"},label:{color:v.palette.common.white,fontWeight:"bold",letterSpacing:0,fontSize:v.typography.fontSize,marginBottom:v.spacing(1)/2,lineHeight:1},value:{color:"rgba(255, 255, 255, 0.8)",fontSize:v.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),ts=({value:v,className:O})=>React.createElement(Typography,{className:O},v);function Yc(v){const{label:O,value:Y,url:ne}=v,fe=Jc(),Te=React.createElement(ts,{className:fe.value,value:Y||"<Unknown>"});return React.createElement(Grid,{item:!0},React.createElement("span",{className:fe.root},React.createElement(Typography,{className:fe.label},O),ne?React.createElement(Oa,{to:ne},Te):Te))}const Ps={hour:"2-digit",minute:"2-digit"};function Cl(v){const O=new Date,Y=window.navigator.language,ne=[];if(!v.has("homepage.clocks"))return ne;const fe=v.getConfigArray("homepage.clocks");for(const Te of fe)if(Te.has("label")&&Te.has("timezone")){let _e=Te.getString("label");const Ye={timeZone:Te.getString("timezone"),...Ps};try{new Date().toLocaleString(Y,Ye)}catch{console.warn(`The timezone ${Ye.timeZone} is invalid. Defaulting to GMT`),Ye.timeZone="GMT",_e="GMT"}const it=O.toLocaleTimeString(Y,Ye);ne.push({time:it,label:_e})}return ne}function $(v){const O=useApi(configApiRef),Y=[],[ne,fe]=React.useState(Y);return React.useEffect(()=>{fe(Cl(O));const Te=setInterval(()=>{fe(Cl(O))},1e3);return()=>{clearInterval(Te)}},[O]),ne.length!==0?React.createElement(React.Fragment,null,ne.map(Te=>React.createElement(Yc,{label:Te.label,value:Te.time,key:Te.label}))):null}const _=v=>(0,i.Z)({root:{color:v.palette.common.white,padding:v.spacing(2,2,3),backgroundImage:v.palette.bursts.gradient.linear,backgroundPosition:0,backgroundSize:"inherit"}}),le=(0,w.Z)(_,{name:"BackstageItemCardHeader"});function me(v){const{title:O,subtitle:Y,children:ne}=v,fe=le(v);return React.createElement("div",{className:fe.root},Y&&React.createElement(Typography,{variant:"subtitle2",component:"h3"},Y),O&&React.createElement(Typography,{variant:"h6",component:"h4"},O),ne)}function Re(v){const{description:O,tags:Y,title:ne,type:fe,subtitle:Te,label:_e,onClick:Ye,href:it}=v;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(me,{title:ne,subtitle:Te||fe})),React.createElement(CardContent,null,Y!=null&&Y.length?React.createElement(Box,null,Y.map((ct,kt)=>React.createElement(Chip,{size:"small",label:ct,key:kt}))):null,O),React.createElement(CardActions,null,!it&&React.createElement(bi,{to:"#",onClick:Ye,color:"primary"},_e),it&&React.createElement(bi,{to:it,color:"primary"},_e)))}const xe=v=>(0,i.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:v.spacing(2)}}),ze=(0,w.Z)(xe,{name:"BackstageItemCardGrid"});function tt(v){const{children:O,...Y}=v,ne=ze(Y);return React.createElement("div",{className:ne.root,...Y},O)}const ft=(0,w.Z)(()=>({root:({isMobile:v})=>({display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",height:v?"100%":"100vh",overflowY:"auto"})}),{name:"BackstagePage"});function ut(v){const{themeId:O,children:Y}=v,{isMobile:ne}=(0,e.useContext)(vs),fe=ft({isMobile:ne});return e.createElement(S.Z,{theme:Te=>({...Te,page:Te.getPageTheme({themeId:O})})},e.createElement("main",{className:fe.root},Y))}function Tt(v){const{themeId:O,children:Y,...ne}=v;return React.createElement(ut,{themeId:O},React.createElement(pi,{...ne}),Y)}const St=At.z.object({providerInfo:At.z.object({}).catchall(At.z.unknown()).optional(),profile:At.z.object({email:At.z.string().optional(),displayName:At.z.string().optional(),picture:At.z.string().optional()}),backstageIdentity:At.z.object({token:At.z.string(),identity:At.z.object({type:At.z.literal("user"),userEntityRef:At.z.string(),ownershipEntityRefs:At.z.array(At.z.string())})})}),Bt={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function Vt(v){const O=new Date(Date.now()+Bt.defaultTokenExpiryMillis);if(!v)return O;const[Y,ne,fe]=v.split("."),Te=JSON.parse(atob(ne));return typeof Te.exp!="number"?O:new Date(Te.exp*1e3-Bt.tokenExpiryMarginMillis)}class Zt{constructor(O){this.options=O,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:O}=this.getSessionSync(),Y=O.identity.userEntityRef,ne=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(Y);if(!ne)throw new TypeError(`Invalid user entity reference "${Y}"`);return ne[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const O=this.state.type==="active"?this.state.session:void 0,Y=this.fetchSession().then(ne=>(this.state={type:"active",session:ne,expiresAt:Vt(ne.backstageIdentity.token)},ne),ne=>{throw this.state={type:"failed",error:ne},ne});return this.state={type:"fetching",promise:Y,previous:O},Y}async fetchSession(){const O=await this.options.discoveryApi.getBaseUrl("auth"),Y=await fetch(`${O}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"});if(!Y.ok)throw await ResponseError.fromResponse(Y);return St.parse(await Y.json())}}const kn=v=>{const O=useApi(discoveryApiRef),[{status:Y,error:ne},{execute:fe}]=useAsync(async()=>{const Te=new Zt({provider:v.provider,discoveryApi:O});await Te.start(),v.onSignInSuccess(Te)});return useMountEffect(fe),Y==="loading"?React.createElement(go,null):ne?React.createElement(Qa,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:ne}):null};class Gn{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const O="user:default/guest";return{type:"user",userEntityRef:O,ownershipEntityRefs:[O]}}async getCredentials(){return{}}async signOut(){}}function Zn(v){const[O,Y,ne]=v.split(".");return JSON.parse(atob(Y))}class Hn{constructor(O){this.result=O}getUserId(){return this.result.userId}static fromResult(O){return new Hn(O)}async getIdToken(){var O,Y;return(Y=(O=this.result).getIdToken)==null?void 0:Y.call(O)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const O=await this.getIdToken();if(!O){const fe=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:fe,ownershipEntityRefs:[fe]}}const{sub:Y,ent:ne}=Zn(O);return{type:"user",userEntityRef:Y,ownershipEntityRefs:ne!=null?ne:[]}}async getCredentials(){var O,Y;return{token:await((Y=(O=this.result).getIdToken)==null?void 0:Y.call(O))}}async signOut(){var O,Y;return(Y=(O=this.result).signOut)==null?void 0:Y.call(O)}}class fn{constructor(O,Y,ne){this.identity=O,this.authApi=Y,this.profile=ne}static createGuest(){return new Gn}static fromLegacy(O){return Hn.fromResult(O)}static create(O){return new fn(O.identity,O.authApi,O.profile)}getUserId(){const O=this.identity.userEntityRef,Y=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(O);if(!Y)throw new TypeError(`Invalid user entity reference "${O}"`);return Y[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(O){throw this.profilePromise=void 0,O}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}const xn=(0,w.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),Dn=({children:v})=>{const O=xn();return e.createElement(lt.Z,{component:"li",item:!0,classes:O},v)},Kr={Component:({config:v,onSignInSuccess:O})=>{const{apiRef:Y,title:ne,message:fe}=v,Te=(0,T.h_)(Y),_e=(0,T.h_)(T.VE),Ye=async()=>{try{const it=await Te.getBackstageIdentity({instantPopup:!0});if(!it)throw new Error(`The ${ne} provider is not configured to support sign-in`);const ct=await Te.getProfile();O(fn.create({identity:it.identity,profile:ct,authApi:Te}))}catch(it){_e.post(new Ut.SP("Login failed",it))}};return e.createElement(Dn,null,e.createElement(lo,{variant:"fullHeight",title:ne,actions:e.createElement(F.Z,{color:"primary",variant:"outlined",onClick:Ye},"Sign In")},e.createElement(Et.Z,{variant:"body1"},fe)))},loader:async(v,O)=>{const Y=v.get(O),ne=await Y.getBackstageIdentity({optional:!0});if(!ne)return;const fe=await Y.getProfile();return fn.create({identity:ne.identity,profile:fe,authApi:Y})}},ba={Component:({onSignInSuccess:v})=>e.createElement(Dn,null,e.createElement(lo,{title:"Guest",variant:"fullHeight",actions:e.createElement(F.Z,{color:"primary",variant:"outlined",onClick:()=>v(new Gn)},"Enter")},e.createElement(Et.Z,{variant:"body1"},"Enter as a Guest User.",e.createElement("br",null),"You will not have a verified identity,",e.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new Gn},Wn=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,Za=(0,w.Z)(v=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:v.spacing(2)}}),{name:"BackstageCustomProvider"}),po=v=>{const{ref:O,...Y}=v;return{inputRef:O,...Y}},kl={Component:({onSignInSuccess:v})=>{const O=Za(),{register:Y,handleSubmit:ne,formState:fe}=(0,rn.cI)({mode:"onChange"}),{errors:Te}=fe,_e=({userId:Ye})=>{v(fn.fromLegacy({userId:Ye,profile:{email:`${Ye}@example.com`}}))};return e.createElement(Dn,null,e.createElement(lo,{title:"Custom User",variant:"fullHeight"},e.createElement(Et.Z,{variant:"body1"},"Enter your own User ID and credentials.",e.createElement("br",null),"This selection will not be stored."),e.createElement("form",{className:O.form,onSubmit:ne(_e)},e.createElement(ir.Z,null,e.createElement(ge.Z,{...po(Y("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(Te.userId)}),Te.userId&&e.createElement(un.Z,{error:!0},Te.userId.message)),e.createElement(ir.Z,null,e.createElement(ge.Z,{...po(Y("idToken",{required:!1,validate:Ye=>!Ye||Wn.test(Ye)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(Te.idToken)}),Te.idToken&&e.createElement(un.Z,{error:!0},Te.idToken.message)),e.createElement(F.Z,{type:"submit",color:"primary",variant:"outlined",className:O.button,disabled:!(fe!=null&&fe.isDirty)||!en()(Te)},"Continue"))))},loader:async()=>{}};class Yr{constructor(O){this.config=O}static from(O){return new Yr(O)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const Da="@backstage/core:SignInPage:provider",wo={guest:ba,custom:kl,common:Kr};function Ma(v,O){if(v in O)throw new Error(`"${v}" ID is duplicated. IDs of identity providers have to be unique.`)}function Sr(v){return v.reduce((Y,ne)=>{if(typeof ne=="string")return Ma(ne,Y),Y[ne]={components:wo[ne],id:ne},Y;const{id:fe}=ne;return Ma(fe,Y),Y[fe]={components:wo.common,id:fe,config:ne},Y},{})}const wa=(v,O)=>{const Y=useApi(errorApiRef),ne=useApiHolder(),[fe,Te]=useState(!0),_e=useCallback(it=>{O(Yr.from({identityApi:it,signOut:async()=>{var ct;localStorage.removeItem(Da),await((ct=it.signOut)==null?void 0:ct.call(it))}}))},[O]);useLayoutEffect(()=>{var it;if(!fe)return;const ct=localStorage.getItem(Da);if(ct===null){Te(!1);return}const kt=v[ct];if(!kt){Te(!1);return}let $t=!1;return kt.components.loader(ne,(it=kt.config)==null?void 0:it.apiRef).then(jt=>{$t||(jt?_e(jt):Te(!1))}).catch(jt=>{$t||(localStorage.removeItem(Da),Y.post(jt),Te(!1))}),()=>{$t=!0}},[fe,Y,O,ne,v,_e]);const Ye=useMemo(()=>Object.keys(v).map(it=>{const ct=v[it],{Component:kt}=ct.components,$t=jt=>{localStorage.setItem(Da,ct.id),_e(jt)};return React.createElement(kt,{key:ct.id,config:ct.config,onSignInSuccess:$t})}),[v,_e]);return[fe,Ye]},fo=({onSignInSuccess:v,providers:O=[],title:Y,align:ne="left"})=>{const fe=useApi(configApiRef),Te=xn(),_e=Sr(O),[Ye,it]=wa(_e,v);return Ye?React.createElement(go,null):React.createElement(ut,{themeId:"home"},React.createElement(pi,{title:fe.getString("app.title")}),React.createElement(ai,null,Y&&React.createElement(ui,{title:Y,textAlign:ne}),React.createElement(Grid,{container:!0,justifyContent:ne==="center"?ne:"flex-start",spacing:2,component:"ul",classes:Te},it)))},Wa=({provider:v,auto:O,onSignInSuccess:Y})=>{const ne=xn(),fe=useApi(v.apiRef),Te=useApi(configApiRef),[_e,Ye]=useState(),[it,ct]=useState(!1),kt=async({checkExisting:$t,showPopup:jt})=>{try{let Wt;if($t&&(Wt=await fe.getBackstageIdentity({optional:!0})),!Wt&&(jt||O)&&(ct(!0),Wt=await fe.getBackstageIdentity({instantPopup:!0}),!Wt))throw new Error(`The ${v.title} provider is not configured to support sign-in`);if(!Wt){ct(!0);return}const Kt=await fe.getProfile();Y(fn.create({identity:Wt.identity,authApi:fe,profile:Kt}))}catch(Wt){Ye(Wt),ct(!0)}};return useMountEffect(()=>kt({checkExisting:!0})),it?React.createElement(ut,{themeId:"home"},React.createElement(pi,{title:Te.getString("app.title")}),React.createElement(ai,null,React.createElement(Grid,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:ne},React.createElement(Dn,null,React.createElement(lo,{variant:"fullHeight",title:v.title,actions:React.createElement(Button$1,{color:"primary",variant:"outlined",onClick:()=>{kt({showPopup:!0})}},"Sign In")},React.createElement(Typography,{variant:"body1"},v.message),_e&&_e.name!=="PopupRejectedError"&&React.createElement(Typography,{variant:"body1",color:"error"},_e.message)))))):React.createElement(go,null)};function Is(v){return"provider"in v?React.createElement(Wa,{...v}):React.createElement(fo,{...v})}const Qc=(0,w.Z)(v=>({root:{padding:v.spacing(0,2,0,2.5),minHeight:v.spacing(3)},indicator:{backgroundColor:v.palette.info.main,height:v.spacing(.3)}}),{name:"BackstageTabbedCard"}),Ar=(0,l.Z)(v=>({root:{padding:v.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:v.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(pn.Z);function ra(v){const{slackChannel:O,errorBoundaryProps:Y,children:ne,title:fe,deepLink:Te,value:_e,onChange:Ye}=v,it=Qc(),[ct,kt]=useState(0),$t=Ye||((Kt,Pn)=>kt(Pn));let jt;_e?React.Children.map(ne,Kt=>{React.isValidElement(Kt)&&(Kt==null?void 0:Kt.props.value)===_e&&(jt=Kt==null?void 0:Kt.props.children)}):React.Children.map(ne,(Kt,Pn)=>{React.isValidElement(Kt)&&Pn===ct&&(jt=Kt==null?void 0:Kt.props.children)});const Wt=Y||(O?{slackChannel:O}:{});return React.createElement(Card,null,React.createElement(ic,{...Wt},fe&&React.createElement(Ar,{title:fe}),React.createElement(Tabs$1,{selectionFollowsFocus:!0,classes:it,value:_e||ct,onChange:$t},ne),React.createElement(Divider,null),React.createElement(CardContent,null,jt),Te&&React.createElement(No,{...Te})))}const br=(0,w.Z)(v=>({root:{minWidth:v.spacing(6),minHeight:v.spacing(3),margin:v.spacing(0,2,0,0),padding:v.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:v.palette.text.primary}},selected:{fontWeight:"bold"}}),{name:"BackstageCardTab"});function Ba(v){const{children:O,...Y}=v,ne=br();return React.createElement(Tab,{disableRipple:!0,classes:ne,...Y})}},66119:function(Se,r,a){a.d(r,{CO:function(){return _t},Ds:function(){return H},F4:function(){return V},I_:function(){return E},NT:function(){return gt},P4:function(){return zt},R5:function(){return d},T0:function(){return S},VE:function(){return oe},h_:function(){return c},qD:function(){return j},rx:function(){return wn},tg:function(){return Mt},vJ:function(){return bn},z$:function(){return he}});var e=a(76241),t=a(2784),T=a(10289);const h=(0,e.CT)("analytics-context"),w=()=>{const pe=(0,t.useContext)(h);if(pe===void 0)return{routeRef:"unknown",pluginId:"root",extension:"App"};const ue=pe.atVersion(1);if(ue===void 0)throw new Error("No context found for version 1.");return ue},i=pe=>{const{attributes:ue,children:Ce}=pe,Ke={...w(),...ue},wt=(0,e.EI)({1:Ke});return t.createElement(h.Provider,{value:wt},Ce)};function E(){const pe=(0,e.Vt)("api-context");if(!pe)throw new Error("API context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("ApiContext v1 not available");return ue}function c(pe){const Ce=E().get(pe);if(!Ce)throw new Error(`No implementation available for ${pe}`);return Ce}function l(pe){return function(Ce){const Be=wt=>{const Ht=E(),ot={};for(const Rt in pe)if(pe.hasOwnProperty(Rt)){const Dt=pe[Rt],tn=Ht.get(Dt);if(!tn)throw new Error(`No implementation available for ${Dt}`);ot[Rt]=tn}return React.createElement(Ce,{...wt,...ot})},Ke=Ce.displayName||Ce.name||"Component";return Be.displayName=`withApis(${Ke})`,Be}}class A{constructor(ue){if(this.config=ue,!ue.id.split(".").flatMap(Be=>Be.split("-")).every(Be=>Be.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${ue.id}'`)}get id(){return this.config.id}get T(){throw new Error(`tried to read ApiRef.T of ${this}`)}toString(){return`apiRef{${this.config.id}}`}}function S(pe){return new A(pe)}function F(pe,ue){return"id"in pe?{api:pe,deps:{},factory:()=>ue}:pe}var U=(pe=>(pe.SignedIn="SignedIn",pe.SignedOut="SignedOut",pe))(U||{});const B=S({id:"core.auth.google"}),V=S({id:"core.auth.github"}),f=S({id:"core.auth.okta"}),p=S({id:"core.auth.gitlab"}),I=S({id:"core.auth.microsoft"}),y=S({id:"core.auth.onelogin"}),C=S({id:"core.auth.bitbucket"}),N=S({id:"core.auth.atlassian"}),R=S({id:"core.alert"}),b=S({id:"core.analytics"}),x=S({id:"core.apptheme"}),H=S({id:"core.config"}),te=S({id:"core.discovery"}),oe=S({id:"core.error"});var ce=(pe=>(pe[pe.None=0]="None",pe[pe.Active=1]="Active",pe))(ce||{});const He=S({id:"core.featureflags"}),De=S({id:"core.fetch"}),et=S({id:"core.identity"}),lt=S({id:"core.oauthrequest"}),Et=S({id:"core.storage"});class Lt{constructor(ue,Ce={routeRef:"unknown",pluginId:"root",extension:"App"}){this.analyticsApi=ue,this.context=Ce}setContext(ue){this.context=ue}captureEvent(ue,Ce,{value:Be,attributes:Ke}={}){try{this.analyticsApi.captureEvent({action:ue,subject:Ce,value:Be,attributes:Ke,context:this.context})}catch(wt){console.warn("Error during analytics event capture. %o",wt)}}}function dt(){try{return c(b)}catch{return{captureEvent:()=>{}}}}function he(){const pe=(0,t.useRef)(null),ue=w(),Ce=dt();function Be(){return pe.current===null&&(pe.current=new Lt(Ce)),pe.current}const Ke=Be();return Ke.setContext(ue),Ke}const j=()=>{const pe=(0,e.Vt)("app-context");if(!pe)throw new Error("App context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("AppContext v1 not available");return ue},re=(0,e.uW)("component-data-store",()=>new WeakMap),W="__backstage_data";function d(pe,ue,Ce){var Be;const Ke=pe;let wt=(Be=Ke[W])!=null?Be:re.get(pe);if(wt||(wt={map:new Map},Object.defineProperty(Ke,W,{enumerable:!1,configurable:!0,writable:!1,value:wt}),re.set(pe,wt)),wt.map.has(ue)){const Ht=pe.displayName||pe.name;throw new Error(`Attempted to attach duplicate data "${ue}" to component "${Ht}"`)}wt.map.set(ue,Ce)}function k(pe,ue){var Ce;if(!pe)return;const Be=pe.type;if(!Be)return;const Ke=(Ce=Be[W])!=null?Ce:re.get(Be);if(!!Ke)return Ke.map.get(ue)}const J=(0,e.uW)("route-ref-type",()=>Symbol("route-ref-type"));var Le;class Me{constructor(ue,Ce){this.id=ue,this.params=Ce,this[Le]="absolute"}get title(){return this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}Le=J;function gt(pe){var ue;return new Me(pe.id,(ue=pe.params)!=null?ue:[])}var nt;const M=/^\w+$/;class Z{constructor(ue,Ce,Be,Ke){this.id=ue,this.path=Ce,this.parent=Be,this.params=Ke,this[nt]="sub"}toString(){return`routeRef{type=sub,id=${this.id}}`}}nt=J;function ie(pe){const{id:ue,path:Ce,parent:Be}=pe,Ke=Ce.split("/").filter(ot=>ot.startsWith(":")).map(ot=>ot.substring(1)),wt=[...Be.params,...Ke];if(Be.params.some(ot=>Ke.includes(ot)))throw new Error("SubRouteRef may not have params that overlap with its parent");if(!Ce.startsWith("/"))throw new Error(`SubRouteRef path must start with '/', got '${Ce}'`);if(Ce.endsWith("/"))throw new Error(`SubRouteRef path must not end with '/', got '${Ce}'`);for(const ot of Ke)if(!M.test(ot))throw new Error(`SubRouteRef path has invalid param, got '${ot}'`);return new Z(ue,Ce,Be,wt)}var we;class je{constructor(ue,Ce,Be){this.id=ue,this.params=Ce,this.optional=Be,this[we]="external"}toString(){return`routeRef{type=external,id=${this.id}}`}}we=J;function Xe(pe){var ue;return new je(pe.id,(ue=pe.params)!=null?ue:[],Boolean(pe.optional))}function Mt(pe){const ue=(0,T.TH)(),Ce=(0,e.Vt)("routing-context");if(!Ce)throw new Error("Routing context is not available");const Be=Ce.atVersion(1),Ke=(0,t.useMemo)(()=>Be&&Be.resolve(pe,ue),[Be,pe,ue]);if(!Ce)throw new Error("useRouteRef used outside of routing context");if(!Be)throw new Error("RoutingContext v1 not available");const wt="optional"in pe&&pe.optional;if(!Ke&&!wt)throw new Error(`No path for ${pe}`);return Ke}function Ut(pe){return useParams()}class Gt extends t.Component{constructor(){super(...arguments),this.state={error:void 0},this.handleErrorReset=()=>{this.setState({error:void 0})}}static getDerivedStateFromError(ue){return{error:ue}}render(){const{error:ue}=this.state,{app:Ce,plugin:Be}=this.props,{ErrorBoundaryFallback:Ke}=Ce.getComponents();return ue?t.createElement(Ke,{error:ue,resetError:this.handleErrorReset,plugin:Be}):this.props.children}}function zt(pe){const{component:ue,mountPoint:Ce,name:Be}=pe;return on({component:{lazy:()=>ue().then(Ke=>{const wt=ot=>{try{Mt(Ce)}catch(Rt){if(typeof Rt=="object"&&Rt!==null){const{message:Dt}=Rt;if(typeof Dt=="string"&&Dt.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${Ce} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`)}throw Rt}return t.createElement(Ke,{...ot})},Ht=Be||Ke.displayName||Ke.name||"LazyComponent";return wt.displayName=`RoutableExtension(${Ht})`,wt},Ke=>Ht=>{const ot=j(),{BootErrorPage:Rt}=ot.getComponents();return t.createElement(Rt,{step:"load-chunk",error:Ke})})},data:{"core.mountPoint":Ce},name:Be})}function _t(pe){const{component:ue,name:Ce}=pe;return on({component:ue,name:Ce})}function on(pe){const{data:ue={},name:Ce}=pe;Ce||console.warn("Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.");let Be;if("lazy"in pe.component){const wt=pe.component.lazy;Be=(0,t.lazy)(()=>wt().then(Ht=>({default:Ht})))}else Be=pe.component.sync;const Ke=Ce||Be.displayName||Be.name||"Component";return{expose(wt){const Ht=ot=>{const Rt=j(),{Progress:Dt}=Rt.getComponents(),tn=ue==null?void 0:ue["core.mountPoint"];return t.createElement(t.Suspense,{fallback:t.createElement(Dt,null)},t.createElement(Gt,{app:Rt,plugin:wt},t.createElement(i,{attributes:{pluginId:wt.getId(),...Ce&&{extension:Ce},...tn&&{routeRef:tn.id}}},t.createElement(Be,{...ot}))))};d(Ht,"core.plugin",wt);for(const[ot,Rt]of Object.entries(ue))d(Ht,ot,Rt);return Ht.displayName=`Extension(${Ke})`,Ht}}}function It(pe,ue,Ce,Be){return t.Children.toArray(pe).flatMap(Ke=>{if(!(0,t.isValidElement)(Ke))return[];if(Ke.type===t.Fragment)return It(Ke.props.children,ue,Ce,Be);if(k(Ke,"core.featureFlagged")){const wt=Ke.props;return("with"in wt?ue.isActive(wt.with):!ue.isActive(wt.without))?It(Ke.props.children,ue,Ce,Be):[]}if(Ce===void 0||Ce(Ke))return[Ke];if(Be)throw new Error(Be);return It(Ke.props.children,ue,Ce,Be)})}class dn{constructor(ue,Ce){this.node=ue,this.featureFlagsApi=Ce}selectByComponentData(ue){const Ce=It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0,ue.withStrictError);return new dn(Ce,this.featureFlagsApi)}findComponentData(ue){return It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0).map(Be=>k(Be,ue.key)).filter(Be=>Be!==void 0)}getElements(){return It(this.node,this.featureFlagsApi)}}function bn(pe,ue,Ce=[]){const Be=c(He),Ke=new dn(pe,Be);return(0,t.useMemo)(()=>ue(Ke),[pe,...Ce])}class pn{constructor(ue){this.config=ue}getId(){return this.config.id}getApis(){var ue;return(ue=this.config.apis)!=null?ue:[]}getFeatureFlags(){var ue,Ce;return(Ce=(ue=this.config.featureFlags)==null?void 0:ue.slice())!=null?Ce:[]}get routes(){var ue;return(ue=this.config.routes)!=null?ue:{}}get externalRoutes(){var ue;return(ue=this.config.externalRoutes)!=null?ue:{}}provide(ue){return ue.expose(this)}toString(){return`plugin{${this.config.id}}`}}function wn(pe){return new pn(pe)}},11377:function(Se,r,a){a.d(r,{q3:function(){return Hr}});var e=a(66119),t=a(82717),T=a.n(t),h=a(76635),w=a(96279),i=a(54733),E=a(28367),c=a(96299),l=a(10179),A=a(48834).Buffer;function S(Ee){const ve=new URL("http://example.com");return ve.host=Ee,ve.host===Ee}function F(Ee){try{return new URL(Ee),!0}catch{return!1}}function U(Ee,ve){return{list(){return Ee},byUrl(Ie){try{const Je=typeof Ie=="string"?new URL(Ie):Ie;return Ee.find(bt=>ve(bt)===Je.host)}catch{return}},byHost(Ie){return Ee.find(Je=>ve(Je)===Ie)}}}function B(Ee){const{url:ve,base:Ie,lineNumber:Je}=Ee;try{return new URL(ve),ve}catch{}let bt;if(ve.startsWith("/")){const{filepath:Ot}=T()(Ie);bt=new URL(Ie);const Yt=(0,h.trimEnd)(bt.pathname.substring(0,bt.pathname.length-Ot.length),"/");bt.pathname=`${Yt}${ve}`}else bt=new URL(ve,Ie);return bt.search=new URL(Ie).search,Je&&(bt.hash=`L${Je}`),bt.toString()}const V="amazonaws.com";function f(Ee){var ve;const Ie=Ee.getOptionalString("endpoint"),Je=(ve=Ee.getOptionalBoolean("s3ForcePathStyle"))!=null?ve:!1;let bt,Ot;if(Ie){try{const qe=new URL(Ie);bt=qe.host,Ot=qe.pathname}catch{throw new Error(`invalid awsS3 integration config, endpoint '${Ie}' is not a valid URL`)}if(Ot!=="/")throw new Error(`invalid awsS3 integration config, endpoints cannot contain path, got '${Ie}'`)}else bt=V;const Yt=Ee.getOptionalString("accessKeyId"),Qt=Ee.getOptionalString("secretAccessKey"),cn=Ee.getOptionalString("roleArn"),yn=Ee.getOptionalString("externalId");return{host:bt,endpoint:Ie,s3ForcePathStyle:Je,accessKeyId:Yt,secretAccessKey:Qt,roleArn:cn,externalId:yn}}function p(Ee){const ve=Ee.map(f);return ve.some(Ie=>Ie.host===V)||ve.push({host:V}),ve}const I=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"awsS3"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){return B(Ee)}resolveEditUrl(Ee){return Ee}};let y=I;y.factory=({config:Ee})=>{var ve;const Ie=p((ve=Ee.getOptionalConfigArray("integrations.awsS3"))!=null?ve:[]);return U(Ie.map(Je=>new I(Je)),Je=>Je.config.host)};var C=(Ee,ve,Ie)=>{if(!ve.has(Ee))throw TypeError("Cannot "+Ie)},N=(Ee,ve,Ie)=>(C(Ee,ve,"read from private field"),Ie?Ie.call(Ee):ve.get(Ee)),R=(Ee,ve,Ie)=>{if(ve.has(Ee))throw TypeError("Cannot add the same private member more than once");ve instanceof WeakSet?ve.add(Ee):ve.set(Ee,Ie)},b=(Ee,ve,Ie,Je)=>(C(Ee,ve,"write to private field"),Je?Je.call(Ee,Ie):ve.set(Ee,Ie),Ie),x,H,te,oe,ce,He,De;const et="GB",lt=class{constructor(Ee,ve,Ie,Je,bt,Ot){R(this,x,void 0),R(this,H,void 0),R(this,te,void 0),R(this,oe,void 0),R(this,ce,void 0),R(this,He,void 0),R(this,De,(...Yt)=>{const Qt=new URL(N(this,x));return Qt.pathname=Yt.map(cn=>encodeURIComponent(cn)).join("/"),Qt}),b(this,x,Ee),b(this,H,ve),b(this,te,Ie),b(this,oe,Je),b(this,ce,bt),b(this,He,Ot)}static fromRepoUrl(Ee){var ve;const Ie=new URL(Ee);let Je,bt,Ot;const Yt=Ie.pathname.split("/").map(qe=>decodeURIComponent(qe));if(Yt[2]==="_git"?(Je=Yt[1],bt=Ot=Yt[3]):Yt[3]==="_git"&&(Je=Yt[1],bt=Yt[2],Ot=Yt[4]),!Je||!bt||!Ot)throw new Error("Azure URL must point to a git repository");const Qt=(ve=Ie.searchParams.get("path"))!=null?ve:void 0;let cn;const yn=Ie.searchParams.get("version");if(yn){if(yn.slice(0,2)!=="GB")throw new Error("Azure URL version must point to a git branch");cn=yn.slice(2)}return new lt(Ie.origin,Je,bt,Ot,Qt,cn)}toRepoUrl(){let Ee;return N(this,te)===N(this,oe)?Ee=N(this,De).call(this,N(this,H),"_git",N(this,oe)):Ee=N(this,De).call(this,N(this,H),N(this,te),"_git",N(this,oe)),N(this,ce)&&Ee.searchParams.set("path",N(this,ce)),N(this,He)&&Ee.searchParams.set("version",et+N(this,He)),Ee.toString()}toFileUrl(){if(!N(this,ce))throw new Error("Azure URL must point to a specific path to be able to download a file");const Ee=N(this,De).call(this,N(this,H),N(this,te),"_apis","git","repositories",N(this,oe),"items");return Ee.searchParams.set("api-version","6.0"),Ee.searchParams.set("path",N(this,ce)),N(this,He)&&Ee.searchParams.set("version",N(this,He)),Ee.toString()}toArchiveUrl(){const Ee=N(this,De).call(this,N(this,H),N(this,te),"_apis","git","repositories",N(this,oe),"items");return Ee.searchParams.set("recursionLevel","full"),Ee.searchParams.set("download","true"),Ee.searchParams.set("api-version","6.0"),N(this,ce)&&Ee.searchParams.set("scopePath",N(this,ce)),N(this,He)&&Ee.searchParams.set("version",N(this,He)),Ee.toString()}toCommitsUrl(){const Ee=N(this,De).call(this,N(this,H),N(this,te),"_apis","git","repositories",N(this,oe),"commits");return Ee.searchParams.set("api-version","6.0"),N(this,He)&&Ee.searchParams.set("searchCriteria.itemVersion.version",N(this,He)),Ee.toString()}getOwner(){return N(this,H)}getProject(){return N(this,te)}getRepo(){return N(this,oe)}getPath(){return N(this,ce)}getRef(){return N(this,He)}};let Et=lt;x=new WeakMap,H=new WeakMap,te=new WeakMap,oe=new WeakMap,ce=new WeakMap,He=new WeakMap,De=new WeakMap;const Lt="dev.azure.com";function dt(Ee){var ve;const Ie=(ve=Ee.getOptionalString("host"))!=null?ve:Lt,Je=Ee.getOptionalString("token");if(!S(Ie))throw new Error(`Invalid Azure integration config, '${Ie}' is not a valid host`);return{host:Ie,token:Je}}function he(Ee){const ve=Ee.map(dt);return ve.some(Ie=>Ie.host===Lt)||ve.push({host:Lt}),ve}const j=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"azure"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){var ve;const{url:Ie,base:Je}=Ee;if(F(Ie))return Ie;try{const bt=Et.fromRepoUrl(Je),Ot=new URL(Je),Yt=new URL(`https://a.com${(ve=bt.getPath())!=null?ve:""}`),Qt=new URL(Ie,Yt).pathname;return Ot.searchParams.set("path",Qt),Ee.lineNumber&&(Ot.searchParams.set("line",String(Ee.lineNumber)),Ot.searchParams.set("lineEnd",String(Ee.lineNumber+1)),Ot.searchParams.set("lineStartColumn","1"),Ot.searchParams.set("lineEndColumn","1")),Ot.toString()}catch{return new URL(Ie,Je).toString()}}resolveEditUrl(Ee){return Ee}};let re=j;re.factory=({config:Ee})=>{var ve;const Ie=he((ve=Ee.getOptionalConfigArray("integrations.azure"))!=null?ve:[]);return U(Ie.map(Je=>new j(Je)),Je=>Je.config.host)};function W(Ee){return Et.fromRepoUrl(Ee).toFileUrl()}function d(Ee){return Et.fromRepoUrl(Ee).toArchiveUrl()}function k(Ee){return Et.fromRepoUrl(Ee).toCommitsUrl()}function J(Ee,ve){const Ie=ve?{...ve}:{};if(Ee.token){const Je=A.from(`:${Ee.token}`,"utf8");Ie.Authorization=`Basic ${Je.toString("base64")}`}return{headers:Ie}}const Le="bitbucket.org",Me="https://api.bitbucket.org/2.0";function gt(Ee){var ve;const Ie=(ve=Ee.getOptionalString("host"))!=null?ve:Le;let Je=Ee.getOptionalString("apiBaseUrl");const bt=Ee.getOptionalString("token"),Ot=Ee.getOptionalString("username"),Yt=Ee.getOptionalString("appPassword");if(!S(Ie))throw new Error(`Invalid Bitbucket integration config, '${Ie}' is not a valid host`);return Je?Je=(0,h.trimEnd)(Je,"/"):Ie===Le?Je=Me:Je=`https://${Ie}/rest/api/1.0`,{host:Ie,apiBaseUrl:Je,token:bt,username:Ot,appPassword:Yt}}function nt(Ee){const ve=Ee.map(gt);return ve.some(Ie=>Ie.host===Le)||ve.push({host:Le,apiBaseUrl:Me}),ve}const M=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"bitbucket"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){const ve=B(Ee);if(!Ee.lineNumber)return ve;const Ie=new URL(ve);return this.integrationConfig.host==="bitbucket.org"?Ie.hash=`lines-${Ee.lineNumber}`:Ie.hash=`${Ee.lineNumber}`,Ie.toString()}resolveEditUrl(Ee){const ve=T()(Ee),Ie=new URL(Ee);return Ie.searchParams.set("mode","edit"),Ie.searchParams.set("spa","0"),Ie.searchParams.set("at",ve.ref),Ie.toString()}};let Z=M;Z.factory=({config:Ee})=>{var ve,Ie,Je;const bt=nt((Je=Ee.getOptionalConfigArray("integrations.bitbucket"))!=null?Je:[...(ve=Ee.getOptionalConfigArray("integrations.bitbucketCloud"))!=null?ve:[],...(Ie=Ee.getOptionalConfigArray("integrations.bitbucketServer"))!=null?Ie:[]]);return U(bt.map(Ot=>new M(Ot)),Ot=>Ot.config.host)};async function ie(Ee,ve){const{name:Ie,owner:Je,resource:bt}=parseGitUrl(Ee),Ot=bt==="bitbucket.org";let Yt=Ot?`${ve.apiBaseUrl}/repositories/${Je}/${Ie}`:`${ve.apiBaseUrl}/projects/${Je}/repos/${Ie}/default-branch`,Qt=await fetch(Yt,Xe(ve));if(Qt.status===404&&!Ot&&(Yt=`${ve.apiBaseUrl}/projects/${Je}/repos/${Ie}/branches/default`,Qt=await fetch(Yt,Xe(ve))),!Qt.ok){const yn=`Failed to retrieve default branch from ${Yt}, ${Qt.status} ${Qt.statusText}`;throw new Error(yn)}let cn;if(Ot)cn=(await Qt.json()).mainbranch.name;else{const{displayId:yn}=await Qt.json();cn=yn}if(!cn)throw new Error(`Failed to read default branch from ${Yt}. Response ${Qt.status} ${Qt.json()}`);return cn}async function we(Ee,ve){const{name:Ie,owner:Je,ref:bt,protocol:Ot,resource:Yt,filepath:Qt}=parseGitUrl(Ee),cn=Yt==="bitbucket.org";let yn=bt;yn||(yn=await ie(Ee,ve));const qe=Qt?`&path=${encodeURIComponent(Qt)}`:"";return cn?`${Ot}://${Yt}/${Je}/${Ie}/get/${yn}.tar.gz`:`${ve.apiBaseUrl}/projects/${Je}/repos/${Ie}/archive?format=tgz&at=${yn}&prefix=${Je}-${Ie}${qe}`}function je(Ee,ve){try{const{owner:Ie,name:Je,ref:bt,filepathtype:Ot,filepath:Yt}=parseGitUrl(Ee);if(!Ie||!Je||Ot!=="browse"&&Ot!=="raw"&&Ot!=="src")throw new Error("Invalid Bitbucket URL or file path");const Qt=Yt.replace(/^\//,"");if(ve.host==="bitbucket.org"){if(!bt)throw new Error("Invalid Bitbucket URL or file path");return`${ve.apiBaseUrl}/repositories/${Ie}/${Je}/src/${bt}/${Qt}`}return`${ve.apiBaseUrl}/projects/${Ie}/repos/${Je}/raw/${Qt}?at=${bt}`}catch(Ie){throw new Error(`Incorrect URL: ${Ee}, ${Ie}`)}}function Xe(Ee){const ve={};if(Ee.token)ve.Authorization=`Bearer ${Ee.token}`;else if(Ee.username&&Ee.appPassword){const Ie=A.from(`${Ee.username}:${Ee.appPassword}`,"utf8");ve.Authorization=`Basic ${Ie.toString("base64")}`}return{headers:ve}}const Mt="bitbucket.org",Ut="https://api.bitbucket.org/2.0";function Gt(Ee){const ve=Mt,Ie=Ut,Je=Ee.getString("username"),bt=Ee.getString("appPassword");return{host:ve,apiBaseUrl:Ie,username:Je,appPassword:bt}}function zt(Ee){const ve=Ee.map(Gt);return ve.length===0&&ve.push({host:Mt,apiBaseUrl:Ut}),ve}const _t=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"bitbucketCloud"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){const ve=B(Ee);if(Ee.lineNumber){const Ie=new URL(ve);return Ie.hash=`lines-${Ee.lineNumber}`,Ie.toString()}return ve}resolveEditUrl(Ee){const ve=T()(Ee),Ie=new URL(Ee);return Ie.searchParams.set("mode","edit"),Ie.searchParams.set("at",ve.ref),Ie.toString()}};let on=_t;on.factory=({config:Ee})=>{var ve;const Ie=zt((ve=Ee.getOptionalConfigArray("integrations.bitbucketCloud"))!=null?ve:[]);return U(Ie.map(Je=>new _t(Je)),Je=>Je.config.host)};async function It(Ee,ve){const{name:Ie,owner:Je}=parseGitUrl(Ee),bt=`${ve.apiBaseUrl}/repositories/${Je}/${Ie}`,Ot=await fetch(bt,pn(ve));if(!Ot.ok){const cn=`Failed to retrieve default branch from ${bt}, ${Ot.status} ${Ot.statusText}`;throw new Error(cn)}const Qt=(await Ot.json()).mainbranch.name;if(!Qt)throw new Error(`Failed to read default branch from ${bt}. Response ${Ot.status} ${Ot.json()}`);return Qt}async function dn(Ee,ve){const{name:Ie,owner:Je,ref:bt,protocol:Ot,resource:Yt}=parseGitUrl(Ee);let Qt=bt;return Qt||(Qt=await It(Ee,ve)),`${Ot}://${Yt}/${Je}/${Ie}/get/${Qt}.tar.gz`}function bn(Ee,ve){try{const{owner:Ie,name:Je,ref:bt,filepathtype:Ot,filepath:Yt}=parseGitUrl(Ee);if(!Ie||!Je||Ot!=="src"&&Ot!=="raw")throw new Error("Invalid Bitbucket Cloud URL or file path");const Qt=Yt.replace(/^\//,"");if(!bt)throw new Error("Invalid Bitbucket Cloud URL or file path");return`${ve.apiBaseUrl}/repositories/${Ie}/${Je}/src/${bt}/${Qt}`}catch(Ie){throw new Error(`Incorrect URL: ${Ee}, ${Ie}`)}}function pn(Ee){const ve={};if(Ee.username&&Ee.appPassword){const Ie=A.from(`${Ee.username}:${Ee.appPassword}`,"utf8");ve.Authorization=`Basic ${Ie.toString("base64")}`}return{headers:ve}}function wn(Ee){const ve=Ee.getString("host");let Ie=Ee.getOptionalString("apiBaseUrl");const Je=Ee.getOptionalString("token");if(!S(ve))throw new Error(`Invalid Bitbucket Server integration config, '${ve}' is not a valid host`);return Ie?Ie=(0,h.trimEnd)(Ie,"/"):Ie=`https://${ve}/rest/api/1.0`,{host:ve,apiBaseUrl:Ie,token:Je}}function pe(Ee){return Ee.map(wn)}const ue=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"bitbucketServer"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){const ve=B(Ee);if(Ee.lineNumber){const Ie=new URL(ve),Je=Ie.pathname.split("/").slice(-1)[0];return Ie.hash=`${Je}-${Ee.lineNumber}`,Ie.toString()}return ve}resolveEditUrl(Ee){const ve=T()(Ee),Ie=new URL(Ee);return Ie.searchParams.set("mode","edit"),Ie.searchParams.set("spa","0"),Ie.searchParams.set("at",ve.ref),Ie.toString()}};let Ce=ue;Ce.factory=({config:Ee})=>{var ve;const Ie=pe((ve=Ee.getOptionalConfigArray("integrations.bitbucketServer"))!=null?ve:[]);return U(Ie.map(Je=>new ue(Je)),Je=>Je.config.host)};async function Be(Ee,ve){const{name:Ie,owner:Je}=parseGitUrl(Ee);let bt=`${ve.apiBaseUrl}/projects/${Je}/repos/${Ie}/default-branch`,Ot=await fetch(bt,Ht(ve));if(Ot.status===404&&(bt=`${ve.apiBaseUrl}/projects/${Je}/repos/${Ie}/branches/default`,Ot=await fetch(bt,Ht(ve))),!Ot.ok){const cn=`Failed to retrieve default branch from ${bt}, ${Ot.status} ${Ot.statusText}`;throw new Error(cn)}const{displayId:Yt}=await Ot.json(),Qt=Yt;if(!Qt)throw new Error(`Failed to read default branch from ${bt}. Response ${Ot.status} ${Ot.json()}`);return Qt}async function Ke(Ee,ve){const{name:Ie,owner:Je,ref:bt,filepath:Ot}=parseGitUrl(Ee);let Yt=bt;Yt||(Yt=await Be(Ee,ve));const Qt=Ot?`&path=${encodeURIComponent(Ot)}`:"";return`${ve.apiBaseUrl}/projects/${Je}/repos/${Ie}/archive?format=tgz&at=${Yt}&prefix=${Je}-${Ie}${Qt}`}function wt(Ee,ve){try{const{owner:Ie,name:Je,ref:bt,filepathtype:Ot,filepath:Yt}=parseGitUrl(Ee);if(!Ie||!Je||Ot!=="browse"&&Ot!=="raw"&&Ot!=="src")throw new Error("Invalid Bitbucket Server URL or file path");const Qt=Yt.replace(/^\//,"");return`${ve.apiBaseUrl}/projects/${Ie}/repos/${Je}/raw/${Qt}?at=${bt}`}catch(Ie){throw new Error(`Incorrect URL: ${Ee}, ${Ie}`)}}function Ht(Ee){const ve={};return Ee.token&&(ve.Authorization=`Bearer ${Ee.token}`),{headers:ve}}function ot(Ee){const ve=Ee.getString("host");let Ie=Ee.getOptionalString("baseUrl"),Je=Ee.getOptionalString("cloneUrl"),bt=Ee.getOptionalString("gitilesBaseUrl");const Ot=Ee.getOptionalString("username"),Yt=Ee.getOptionalString("password");if(S(ve)){if(Ie&&!F(Ie))throw new Error(`Invalid Gerrit integration config, '${Ie}' is not a valid baseUrl`);if(Je&&!F(Je))throw new Error(`Invalid Gerrit integration config, '${Je}' is not a valid cloneUrl`);if(bt&&!F(bt))throw new Error(`Invalid Gerrit integration config, '${bt}' is not a valid gitilesBaseUrl`)}else throw new Error(`Invalid Gerrit integration config, '${ve}' is not a valid host`);return Ie?Ie=(0,h.trimEnd)(Ie,"/"):Ie=`https://${ve}`,bt?bt=(0,h.trimEnd)(bt,"/"):bt=`https://${ve}`,Je?Je=(0,h.trimEnd)(Je,"/"):Je=Ie,{host:ve,baseUrl:Ie,cloneUrl:Je,gitilesBaseUrl:bt,username:Ot,password:Yt}}function Rt(Ee){return Ee.map(ot)}const Dt=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"gerrit"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){const{url:ve,base:Ie,lineNumber:Je}=Ee;let bt;return ve?bt=new URL(ve,Ie):bt=new URL(Ie),Je&&(bt.hash=Je.toString()),bt.toString()}resolveEditUrl(Ee){return Ee}};let tn=Dt;tn.factory=({config:Ee})=>{var ve;const Ie=Rt((ve=Ee.getOptionalConfigArray("integrations.gerrit"))!=null?ve:[]);return U(Ie.map(Je=>new Dt(Je)),Je=>Je.config.host)};const Rn=")]}'";function In(Ee,ve){const Je=ve.replace(Ee.gitilesBaseUrl,"").split("/").filter(yn=>!!yn),bt=Je.indexOf("+");if(bt<=0)throw new Error(`Unable to parse project from url: ${ve}`);const Ot=trimStart(Je.slice(0,bt).join("/"),"/"),Yt=Je.indexOf("heads");if(Yt<=0)throw new Error(`Unable to parse branch from url: ${ve}`);const Qt=Je[Yt+1],cn=Je.slice(Yt+2).join("/");return{branch:Qt,filePath:cn===""?"/":cn,project:Ot}}function On(Ee){return Ee.password?"/a/":"/"}function Mn(Ee,ve){const{branch:Ie,project:Je}=In(Ee,ve);return`${Ee.baseUrl}${On(Ee)}projects/${encodeURIComponent(Je)}/branches/${Ie}`}function Bn(Ee,ve){const{project:Ie}=In(Ee,ve);return`${Ee.cloneUrl}${On(Ee)}${Ie}`}function _n(Ee,ve){const{branch:Ie,filePath:Je,project:bt}=In(Ee,ve);return`${Ee.baseUrl}${On(Ee)}projects/${encodeURIComponent(bt)}/branches/${Ie}/files/${encodeURIComponent(Je)}/content`}function yr(Ee){return`${Ee.baseUrl}${On(Ee)}projects/`}function Yn(Ee){const ve={};if(!Ee.password)return ve;const Ie=A.from(`${Ee.username}:${Ee.password}`,"utf8");return ve.Authorization=`Basic ${Ie.toString("base64")}`,{headers:ve}}async function Ur(Ee){const ve=await Ee.text();if(ve.startsWith(Rn))try{return JSON.parse(ve.slice(Rn.length))}catch(Ie){throw new Error(`Invalid response from Gerrit: ${ve.slice(0,10)} - ${Ie}`)}throw new Error(`Gerrit JSON body prefix missing. Found: ${ve.slice(0,10)}`)}const nr="github.com",jn="https://api.github.com",rr="https://raw.githubusercontent.com";function vr(Ee){var ve,Ie;const Je=(ve=Ee.getOptionalString("host"))!=null?ve:nr;let bt=Ee.getOptionalString("apiBaseUrl"),Ot=Ee.getOptionalString("rawBaseUrl");const Yt=Ee.getOptionalString("token"),Qt=(Ie=Ee.getOptionalConfigArray("apps"))==null?void 0:Ie.map(cn=>({appId:cn.getNumber("appId"),clientId:cn.getString("clientId"),clientSecret:cn.getString("clientSecret"),webhookSecret:cn.getString("webhookSecret"),privateKey:cn.getString("privateKey"),allowedInstallationOwners:cn.getOptionalStringArray("allowedInstallationOwners")}));if(!S(Je))throw new Error(`Invalid GitHub integration config, '${Je}' is not a valid host`);return bt?bt=(0,h.trimEnd)(bt,"/"):Je===nr&&(bt=jn),Ot?Ot=(0,h.trimEnd)(Ot,"/"):Je===nr&&(Ot=rr),{host:Je,apiBaseUrl:bt,rawBaseUrl:Ot,token:Yt,apps:Qt}}function Jn(Ee){const ve=Ee.map(vr);return ve.some(Ie=>Ie.host===nr)||ve.push({host:nr,apiBaseUrl:jn,rawBaseUrl:rr}),ve}function ir(Ee,ve,Ie){try{const{owner:Je,name:bt,ref:Ot,filepathtype:Yt,filepath:Qt}=parseGitUrl(Ee);if(!Je||!bt||!Ot||Yt!=="blob"&&Yt!=="raw"&&Yt!=="tree")throw new Error("Invalid GitHub URL or file path");const cn=Qt.replace(/^\//,"");return Ir(ve,Ie)==="api"?`${ve.apiBaseUrl}/repos/${Je}/${bt}/contents/${cn}?ref=${Ot}`:`${ve.rawBaseUrl}/${Je}/${bt}/${Ot}/${cn}`}catch(Je){throw new Error(`Incorrect URL: ${Ee}, ${Je}`)}}function Cr(Ee,ve){const Ie={};return Ir(Ee,ve)==="api"&&(Ie.Accept="application/vnd.github.v3.raw"),ve.token&&(Ie.Authorization=`token ${ve.token}`),{headers:Ie}}function Ir(Ee,ve){return Ee.apiBaseUrl&&(ve.token||!Ee.rawBaseUrl)?"api":"raw"}class sn{constructor(){this.tokenCache=new Map,this.isNotExpired=ve=>ve.diff(c.ou.local(),"minutes").minutes>50}async getOrCreateToken(ve,Ie){const Je=this.tokenCache.get(ve);if(Je&&this.isNotExpired(Je.expiresAt))return{accessToken:Je.token};const bt=await Ie();return this.tokenCache.set(ve,bt),{accessToken:bt.token}}}const wr={Accept:"application/vnd.github.machine-man-preview+json"};class _a{constructor(ve,Ie){this.cache=new sn,this.allowedInstallationOwners=ve.allowedInstallationOwners,this.baseUrl=Ie,this.baseAuthConfig={appId:ve.appId,privateKey:ve.privateKey.replace(/\\n/gm,`
`)},this.appClient=new E.v({baseUrl:Ie,headers:wr,authStrategy:i.i,auth:this.baseAuthConfig})}async getInstallationCredentials(ve,Ie){var Je;const{installationId:bt,suspended:Ot}=await this.getInstallationData(ve);if(this.allowedInstallationOwners&&!((Je=this.allowedInstallationOwners)!=null&&Je.includes(ve)))return{accessToken:void 0};if(Ot)throw new Error(`The GitHub application for ${ve} is suspended`);const Yt=Ie?`${ve}/${Ie}`:ve;return this.cache.getOrCreateToken(Yt,async()=>{const Qt=await this.appClient.apps.createInstallationAccessToken({installation_id:bt,headers:wr});if(Ie&&Qt.data.repository_selection==="selected"){const cn=new E.v({baseUrl:this.baseUrl,auth:Qt.data.token});if(!(await cn.paginate(cn.apps.listReposAccessibleToInstallation)).some(Ae=>Ae.name===Ie))throw new Error(`The Backstage GitHub application used in the ${ve} organization does not have access to a repository with the name ${Ie}`)}return{token:Qt.data.token,expiresAt:c.ou.fromISO(Qt.data.expires_at)}})}getInstallations(){return this.appClient.paginate(this.appClient.apps.listInstallations)}async getInstallationData(ve){const Je=(await this.getInstallations()).find(Ot=>{var Yt,Qt;return((Qt=(Yt=Ot.account)==null?void 0:Yt.login)==null?void 0:Qt.toLocaleLowerCase("en-US"))===ve.toLocaleLowerCase("en-US")});if(Je)return{installationId:Je.id,suspended:Boolean(Je.suspended_by)};const bt=new Error(`No app installation found for ${ve} in ${this.baseAuthConfig.appId}`);throw bt.name="NotFoundError",bt}}class va{constructor(ve){var Ie,Je;this.apps=(Je=(Ie=ve.apps)==null?void 0:Ie.map(bt=>new _a(bt,ve.apiBaseUrl)))!=null?Je:[]}async getAllInstallations(){return this.apps.length?(await Promise.all(this.apps.map(Ie=>Ie.getInstallations()))).flat():[]}async getAppToken(ve,Ie){if(this.apps.length===0)return;const Je=await Promise.all(this.apps.map(Qt=>Qt.getInstallationCredentials(ve,Ie).then(cn=>({credentials:cn,error:void 0}),cn=>({credentials:void 0,error:cn})))),bt=Je.find(Qt=>Qt.credentials);if(bt)return bt.credentials.accessToken;const Yt=Je.map(Qt=>Qt.error).find(Qt=>Qt.name!=="NotFoundError");if(Yt)throw Yt}}const Er=class{constructor(Ee,ve){this.githubAppCredentialsMux=Ee,this.token=ve}async getCredentials(Ee){const ve=T()(Ee.url),Ie=ve.owner||ve.name,Je=ve.owner?ve.name:void 0;let bt="app",Ot=await this.githubAppCredentialsMux.getAppToken(Ie,Je);return Ot||(bt="token",Ot=this.token),{headers:Ot?{Authorization:`Bearer ${Ot}`}:void 0,token:Ot,type:bt}}};let Gr=Er;Gr.create=Ee=>new Er(new va(Ee),Ee.token);class Vr{constructor(ve){this.providers=ve}static fromIntegrations(ve){const Ie=new Map;return ve.github.list().forEach(Je=>{const bt=Gr.create(Je.config);Ie.set(Je.config.host,bt)}),new Vr(Ie)}async getCredentials(ve){const Ie=new URL(ve.url),Je=this.providers.get(Ie.host);if(!Je)throw new Error(`There is no GitHub integration that matches ${ve.url}. Please add a configuration for an integration.`);return Je.getCredentials(ve)}}const kr=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"github"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){return sa(B(Ee),"tree")}resolveEditUrl(Ee){return sa(Ee,"edit")}};let Mr=kr;Mr.factory=({config:Ee})=>{var ve;const Ie=Jn((ve=Ee.getOptionalConfigArray("integrations.github"))!=null?ve:[]);return U(Ie.map(Je=>new kr(Je)),Je=>Je.config.host)};function sa(Ee,ve){return Ee.replace(/\/\/([^/]+)\/([^/]+)\/([^/]+)\/(blob|tree|edit)\//,(Ie,Je,bt,Ot)=>`//${Je}/${bt}/${Ot}/${ve}/`)}const ar="gitlab.com",ia="https://gitlab.com/api/v4";function to(Ee){const ve=Ee.getString("host");let Ie=Ee.getOptionalString("apiBaseUrl");const Je=Ee.getOptionalString("token");let bt=Ee.getOptionalString("baseUrl");if(Ie?Ie=(0,h.trimEnd)(Ie,"/"):ve===ar&&(Ie=ia),bt?bt=(0,h.trimEnd)(bt,"/"):bt=`https://${ve}`,S(ve)){if(!Ie||!F(Ie))throw new Error(`Invalid GitLab integration config, '${Ie}' is not a valid apiBaseUrl`);if(!F(bt))throw new Error(`Invalid GitLab integration config, '${bt}' is not a valid baseUrl`)}else throw new Error(`Invalid GitLab integration config, '${ve}' is not a valid host`);return{host:ve,token:Je,apiBaseUrl:Ie,baseUrl:bt}}function Pr(Ee){const ve=Ee.map(to);return ve.some(Ie=>Ie.host===ar)||ve.push({host:ar,apiBaseUrl:ia,baseUrl:`https://${ar}`}),ve}async function Br(Ee,ve){if(Ee.includes("/-/blob/")){const Ie=await Fr(Ee,ve);return qr(Ee,Ie).toString()}return Ja(Ee).toString()}function Ua(Ee){const{token:ve=""}=Ee;return{headers:{"PRIVATE-TOKEN":ve}}}function Ja(Ee){try{const ve=new URL(Ee),Ie=ve.pathname.split("/").filter(Boolean),Je=Ie.indexOf("blob",2);if(Je<2||Je===Ie.length-1)throw new InputError("Wrong GitLab URL");const bt=Ie.slice(0,Je),Ot=Ie.slice(Je+1);if(!Ot.join("/").match(/\.(yaml|yml)$/))throw new InputError("Wrong GitLab URL");return ve.pathname=[...bt,"raw",...Ot].join("/"),ve}catch(ve){throw new InputError(`Incorrect url: ${Ee}, ${ve}`)}}function qr(Ee,ve){try{const Ie=new URL(Ee),Je=Ie.pathname.split("/-/blob/")[1],[bt,...Ot]=Je.split("/");return Ie.pathname=["/api/v4/projects",ve,"repository/files",encodeURIComponent(decodeURIComponent(Ot.join("/"))),"raw"].join("/"),Ie.search=`?ref=${bt}`,Ie}catch(Ie){throw new Error(`Incorrect url: ${Ee}, ${Ie}`)}}async function Fr(Ee,ve){const Ie=new URL(Ee);if(!Ie.pathname.includes("/-/blob/"))throw new Error("Please provide full path to yaml file from GitLab");try{const Je=Ie.pathname.split("/-/blob/")[0],bt=new URL(`${Ie.origin}/api/v4/projects/${encodeURIComponent(Je.replace(/^\//,""))}`),Ot=await fetch(bt.toString(),Ua(ve)),Yt=await Ot.json();if(!Ot.ok)throw new Error(`GitLab Error '${Yt.error}', ${Yt.error_description}`);return Number(Yt.id)}catch(Je){throw new Error(`Could not get GitLab project ID for: ${Ee}, ${Je}`)}}const gr=class{constructor(Ee){this.integrationConfig=Ee}get type(){return"gitlab"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(Ee){return B(Ee)}resolveEditUrl(Ee){return Ia(Ee,"edit")}};let Ea=gr;Ea.factory=({config:Ee})=>{var ve;const Ie=Pr((ve=Ee.getOptionalConfigArray("integrations.gitlab"))!=null?ve:[]);return U(Ie.map(Je=>new gr(Je)),Je=>Je.config.host)};function Ia(Ee,ve){return Ee.replace(/\/\-\/(blob|tree|edit)\//,`/-/${ve}/`)}function Ya(Ee){if(!Ee)return{};if(!Ee.has("clientEmail")&&!Ee.has("privateKey"))return{};const ve=Ee.getString("privateKey").split("\\n").join(`
`);return{clientEmail:Ee.getString("clientEmail"),privateKey:ve}}class Or{static fromConfig(ve){return new Or({awsS3:y.factory({config:ve}),azure:re.factory({config:ve}),bitbucket:Z.factory({config:ve}),bitbucketCloud:on.factory({config:ve}),bitbucketServer:Ce.factory({config:ve}),gerrit:tn.factory({config:ve}),github:Mr.factory({config:ve}),gitlab:Ea.factory({config:ve})})}constructor(ve){this.byType=ve}get awsS3(){return this.byType.awsS3}get azure(){return this.byType.azure}get bitbucket(){return this.byType.bitbucket}get bitbucketCloud(){return this.byType.bitbucketCloud}get bitbucketServer(){return this.byType.bitbucketServer}get gerrit(){return this.byType.gerrit}get github(){return this.byType.github}get gitlab(){return this.byType.gitlab}list(){return Object.values(this.byType).flatMap(ve=>ve.list())}byUrl(ve){return Object.values(this.byType).map(Ie=>Ie.byUrl(ve)).find(Boolean)}byHost(ve){return Object.values(this.byType).map(Ie=>Ie.byHost(ve)).find(Boolean)}resolveUrl(ve){const Ie=this.byUrl(ve.base);return Ie?Ie.resolveUrl(ve):B(ve)}resolveEditUrl(ve){const Ie=this.byUrl(ve);return Ie?Ie.resolveEditUrl(ve):ve}}var la=a(2784);const Ga=(0,e.T0)({id:"core.scmauth"});var pa=(Ee,ve,Ie)=>{if(!ve.has(Ee))throw TypeError("Cannot "+Ie)},zr=(Ee,ve,Ie)=>(pa(Ee,ve,"read from private field"),Ie?Ie.call(Ee):ve.get(Ee)),Zr=(Ee,ve,Ie)=>{if(ve.has(Ee))throw TypeError("Cannot add the same private member more than once");ve instanceof WeakSet?ve.add(Ee):ve.set(Ee,Ie)},mn=(Ee,ve,Ie,Je)=>(pa(Ee,ve,"write to private field"),Je?Je.call(Ee,Ie):ve.set(Ee,Ie),Ie),Wr,Qn,ea,cr,Xn;class hr{constructor(ve){Zr(this,Wr,void 0),mn(this,Wr,ve)}async getCredentials(ve){const Ie=new URL(ve.url),Je=zr(this,Wr).find(bt=>bt.isUrlSupported(Ie));if(!Je)throw new Error(`No auth provider available for '${ve.url}', see https://backstage.io/link?scm-auth`);return Je.getCredentials(ve)}}Wr=new WeakMap;const qn=class{constructor(Ee,ve,Ie,Je){Zr(this,Qn,void 0),Zr(this,ea,void 0),Zr(this,cr,void 0),Zr(this,Xn,void 0),mn(this,Qn,ve),mn(this,ea,Ie),mn(this,cr,Je),mn(this,Xn,Ee)}static createDefaultApiFactory(){return createApiFactory({api:Ga,deps:{github:githubAuthApiRef,gitlab:gitlabAuthApiRef,azure:microsoftAuthApiRef,bitbucket:bitbucketAuthApiRef},factory:({github:Ee,gitlab:ve,azure:Ie,bitbucket:Je})=>qn.merge(qn.forGithub(Ee),qn.forGitlab(ve),qn.forAzure(Ie),qn.forBitbucket(Je))})}static forAuthApi(Ee,ve){return new qn("generic",Ee,ve.host,ve.scopeMapping)}static forGithub(Ee,ve){var Ie;const Je=(Ie=ve==null?void 0:ve.host)!=null?Ie:"github.com";return new qn("github",Ee,Je,{default:["repo","read:org","read:user"],repoWrite:["gist"]})}static forGitlab(Ee,ve){var Ie;const Je=(Ie=ve==null?void 0:ve.host)!=null?Ie:"gitlab.com";return new qn("gitlab",Ee,Je,{default:["read_user","read_api","read_repository"],repoWrite:["write_repository","api"]})}static forAzure(Ee,ve){var Ie;const Je=(Ie=ve==null?void 0:ve.host)!=null?Ie:"dev.azure.com";return new qn("azure",Ee,Je,{default:["vso.build","vso.code","vso.graph","vso.project","vso.profile"],repoWrite:["vso.code_manage"]})}static forBitbucket(Ee,ve){var Ie;const Je=(Ie=ve==null?void 0:ve.host)!=null?Ie:"bitbucket.org";return new qn("bitbucket",Ee,Je,{default:["account","team","pullrequest","snippet","issue"],repoWrite:["pullrequest:write","snippet:write","issue:write"]})}static merge(...Ee){return new hr(Ee)}isUrlSupported(Ee){return Ee.host===zr(this,ea)}getAdditionalScopesForProvider(Ee){var ve,Ie;return!(Ee!=null&&Ee.customScopes)||zr(this,Xn)==="generic"?[]:(Ie=(ve=Ee.customScopes)==null?void 0:ve[zr(this,Xn)])!=null?Ie:[]}async getCredentials(Ee){const{url:ve,additionalScope:Ie,...Je}=Ee,bt=zr(this,cr).default.slice();Ie!=null&&Ie.repoWrite&&bt.push(...zr(this,cr).repoWrite);const Ot=this.getAdditionalScopesForProvider(Ie);Ot.length&&bt.push(...Ot);const Yt=[...new Set(bt)],Qt=await zr(this,Qn).getAccessToken(Yt,Je);return{token:Qt,headers:{Authorization:`Bearer ${Qt}`}}}};let ur=null;Qn=new WeakMap,ea=new WeakMap,cr=new WeakMap,Xn=new WeakMap;class fa{static fromConfig(ve){return ScmIntegrations.fromConfig(ve)}}const Hr=(0,e.T0)({id:"integration.scmintegrations"}),ta=Ee=>{var ve;const{type:Ie}=Ee,Je=useApp(),bt=CodeIcon,Ot=Ie&&(ve=Je.getSystemIcon(Ie))!=null?ve:bt;return React.createElement(Ot,null)}},14701:function(Se,r,a){a.d(r,{X2:function(){return wn}});var e=a(28316),t=a(10179),T=a(96279);const h=Symbol.for("CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111");class w{constructor(K){this.discoveryApi=K.discoveryApi,this.fetchApi=K.fetchApi||{fetch:crossFetch}}async getEntityAncestors(K,Q){const{kind:se,namespace:ge,name:Pe}=parseEntityRef(K.entityRef);return await this.requestRequired("GET",`/entities/by-name/${encodeURIComponent(se)}/${encodeURIComponent(ge)}/${encodeURIComponent(Pe)}/ancestry`,Q)}async getLocationById(K,Q){return await this.requestOptional("GET",`/locations/${encodeURIComponent(K)}`,Q)}async getEntities(K,Q){const{filter:se=[],fields:ge=[],offset:Pe,limit:Oe,after:Ge}=K!=null?K:{},st=[];for(const $e of[se].flat()){const Ne=[];for(const[Ze,Ue]of Object.entries($e))for(const Qe of[Ue].flat())Qe===h?Ne.push(encodeURIComponent(Ze)):typeof Qe=="string"&&Ne.push(`${encodeURIComponent(Ze)}=${encodeURIComponent(Qe)}`);Ne.length&&st.push(`filter=${Ne.join(",")}`)}ge.length&&st.push(`fields=${ge.map(encodeURIComponent).join(",")}`),Pe!==void 0&&st.push(`offset=${Pe}`),Oe!==void 0&&st.push(`limit=${Oe}`),Ge!==void 0&&st.push(`after=${encodeURIComponent(Ge)}`);const pt=st.length?`?${st.join("&")}`:"",X=await this.requestRequired("GET",`/entities${pt}`,Q),ae=($e,Ne)=>{var Ze,Ue;if(((Ze=$e.metadata)==null?void 0:Ze.name)===void 0||$e.kind===void 0||((Ue=Ne.metadata)==null?void 0:Ue.name)===void 0||Ne.kind===void 0)return 0;const Qe=stringifyEntityRef($e),rt=stringifyEntityRef(Ne);return Qe<rt?-1:Qe>rt?1:0};return{items:X.sort(ae)}}async getEntityByRef(K,Q){const{kind:se,namespace:ge,name:Pe}=parseEntityRef(K);return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(se)}/${encodeURIComponent(ge)}/${encodeURIComponent(Pe)}`,Q)}async getEntityByName(K,Q){const{kind:se,namespace:ge="default",name:Pe}=K;return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(se)}/${encodeURIComponent(ge)}/${encodeURIComponent(Pe)}`,Q)}async refreshEntity(K,Q){const se=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/refresh`,{headers:{"Content-Type":"application/json",...(Q==null?void 0:Q.token)&&{Authorization:`Bearer ${Q==null?void 0:Q.token}`}},method:"POST",body:JSON.stringify({entityRef:K})});if(se.status!==200)throw new Error(await se.text())}async getEntityFacets(K,Q){const{filter:se=[],facets:ge}=K,Pe=[];for(const Ge of[se].flat()){const st=[];for(const[pt,X]of Object.entries(Ge))for(const ae of[X].flat())ae===h?st.push(encodeURIComponent(pt)):typeof ae=="string"&&st.push(`${encodeURIComponent(pt)}=${encodeURIComponent(ae)}`);st.length&&Pe.push(`filter=${st.join(",")}`)}for(const Ge of ge)Pe.push(`facet=${encodeURIComponent(Ge)}`);const Oe=Pe.length?`?${Pe.join("&")}`:"";return await this.requestOptional("GET",`/entity-facets${Oe}`,Q)}async addLocation({type:K="url",target:Q,dryRun:se},ge){const Pe=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/locations${se?"?dryRun=true":""}`,{headers:{"Content-Type":"application/json",...(ge==null?void 0:ge.token)&&{Authorization:`Bearer ${ge==null?void 0:ge.token}`}},method:"POST",body:JSON.stringify({type:K,target:Q})});if(Pe.status!==201)throw new Error(await Pe.text());const{location:Oe,entities:Ge,exists:st}=await Pe.json();if(!Oe)throw new Error(`Location wasn't added: ${Q}`);return{location:Oe,entities:Ge,exists:st}}async getLocationByRef(K,Q){return(await this.requestRequired("GET","/locations",Q)).map(ge=>ge.data).find(ge=>K===stringifyLocationRef(ge))}async removeLocationById(K,Q){await this.requestIgnored("DELETE",`/locations/${encodeURIComponent(K)}`,Q)}async removeEntityByUid(K,Q){await this.requestIgnored("DELETE",`/entities/by-uid/${encodeURIComponent(K)}`,Q)}async requestIgnored(K,Q,se){const ge=`${await this.discoveryApi.getBaseUrl("catalog")}${Q}`,Pe=se!=null&&se.token?{Authorization:`Bearer ${se.token}`}:{},Oe=await this.fetchApi.fetch(ge,{method:K,headers:Pe});if(!Oe.ok)throw await ResponseError.fromResponse(Oe)}async requestRequired(K,Q,se){const ge=`${await this.discoveryApi.getBaseUrl("catalog")}${Q}`,Pe=se!=null&&se.token?{Authorization:`Bearer ${se.token}`}:{},Oe=await this.fetchApi.fetch(ge,{method:K,headers:Pe});if(!Oe.ok)throw await ResponseError.fromResponse(Oe);return await Oe.json()}async requestOptional(K,Q,se){const ge=`${await this.discoveryApi.getBaseUrl("catalog")}${Q}`,Pe=se!=null&&se.token?{Authorization:`Bearer ${se.token}`}:{},Oe=await this.fetchApi.fetch(ge,{method:K,headers:Pe});if(!Oe.ok){if(Oe.status===404)return;throw await ResponseError.fromResponse(Oe)}return await Oe.json()}}const i="backstage.io/catalog-processing";var E=a(66119),c=a(82394),l=a(2784),A=a(41156),S=a(60364),F=a(77277),U=a(4190),B=a(95544),V=a(90436),f=a(60905),p=a(80030),I=a(79692),y=a(15459),C=a(36444),N=a(76241),R=a(76635),b=a(19126),x=a(18149),H=a(829),te=a(80204),oe=a(30195),ce=(ke=>(ke.DENY="DENY",ke.ALLOW="ALLOW",ke.CONDITIONAL="CONDITIONAL",ke))(ce||{});function He(ke,K){return ke.name===K.name}function De(ke,K){return"resourceType"in ke?!K||ke.resourceType===K:!1}function et(ke){return ke.attributes.action==="create"}function lt(ke){return ke.attributes.action==="read"}function Et(ke){return ke.attributes.action==="update"}function Lt(ke){return ke.attributes.action==="delete"}function dt(ke){return{authorize:async(K,Q)=>await ke.authorize(K,Q),authorizeConditional(K,Q){const se=K;return ke.authorize(se,Q)}}}function he({name:ke,attributes:K,resourceType:Q}){return Q?{type:"resource",name:ke,attributes:K,resourceType:Q}:{type:"basic",name:ke,attributes:K}}const j=oe.z.lazy(()=>oe.z.object({rule:oe.z.string(),resourceType:oe.z.string(),params:oe.z.array(oe.z.unknown())}).or(oe.z.object({anyOf:oe.z.array(j).nonempty()})).or(oe.z.object({allOf:oe.z.array(j).nonempty()})).or(oe.z.object({not:j}))),re=oe.z.object({result:oe.z.literal(ce.ALLOW).or(oe.z.literal(ce.DENY))}),W=oe.z.union([oe.z.object({result:oe.z.literal(ce.ALLOW).or(oe.z.literal(ce.DENY))}),oe.z.object({result:oe.z.literal(ce.CONDITIONAL),pluginId:oe.z.string(),resourceType:oe.z.string(),conditions:j})]),d=(ke,K)=>z.object({items:z.array(z.intersection(z.object({id:z.string()}),ke)).refine(Q=>Q.length===K.size&&Q.every(({id:se})=>K.has(se)),{message:"Items in response do not match request"})});class k{constructor(K){var Q;this.discovery=K.discovery,this.enabled=(Q=K.config.getOptionalBoolean("permission.enabled"))!=null?Q:!1}async authorize(K,Q){return this.makeRequest(K,re,Q)}async authorizeConditional(K,Q){return this.makeRequest(K,W,Q)}async makeRequest(K,Q,se){if(!this.enabled)return K.map(X=>({result:ce.ALLOW}));const ge={items:K.map(X=>({id:uuid.v4(),...X}))},Pe=await this.discovery.getBaseUrl("permission"),Oe=await fetch(`${Pe}/authorize`,{method:"POST",body:JSON.stringify(ge),headers:{...this.getAuthorizationHeader(se==null?void 0:se.token),"content-type":"application/json"}});if(!Oe.ok)throw await ResponseError.fromResponse(Oe);const Ge=await Oe.json(),pt=d(Q,new Set(ge.items.map(({id:X})=>X))).parse(Ge).items.reduce((X,ae)=>(X[ae.id]=ae,X),{});return ge.items.map(X=>pt[X.id])}getAuthorizationHeader(K){return K?{Authorization:`Bearer ${K}`}:{}}}var J=a(49857);const Le=(0,E.T0)({id:"plugin.permission.api"});class Me{constructor(K,Q){this.permissionClient=K,this.identityApi=Q}static create(K){const{config:Q,discovery:se,identity:ge}=K,Pe=new PermissionClient({discovery:se,config:Q});return new Me(Pe,ge)}async authorize(K){return(await this.permissionClient.authorize([K],await this.identityApi.getCredentials()))[0]}}function gt(ke){const K=useApi(Le),{data:Q,error:se}=useSWR(ke,async ge=>{if(isResourcePermission(ge.permission)&&!ge.resourceRef)return AuthorizeResult.DENY;const{result:Pe}=await K.authorize(ge);return Pe});return se?{error:se,loading:!1,allowed:!1}:Q===void 0?{loading:!0,allowed:!1}:{loading:!1,allowed:Q===AuthorizeResult.ALLOW}}const nt=ke=>{const{permission:K,resourceRef:Q,errorComponent:se,...ge}=ke,Pe=gt(isResourcePermission(K)?{permission:K,resourceRef:Q}:{permission:K}),Oe=useApp(),{NotFoundErrorPage:Ge}=Oe.getComponents();let st=se===void 0?React.createElement(Ge,null):se;return Pe.loading?st=null:Pe.allowed&&(st=ke.element),React.createElement(Route,{...ge,element:st})};var M=a(19996),Z=a(25505),ie=a(82108),we=a(11640),je=a(72779),Xe=a(3440),Mt=a(60155);const Ut=(0,E.T0)({id:"plugin.catalog.service"}),Gt=(0,E.T0)({id:"catalog-react.starred-entities"});class zt{constructor(){this.starredEntities=new Set,this.subscribers=new Set,this.observable=new ObservableImpl(K=>(K.next(new Set(this.starredEntities)),this.subscribers.add(K),()=>{this.subscribers.delete(K)}))}async toggleStarred(K){this.starredEntities.delete(K)||this.starredEntities.add(K);for(const Q of this.subscribers)Q.next(new Set(this.starredEntities))}starredEntitie$(){return this.observable}}const _t=ke=>{const K=(0,A.Z)(Pe=>Pe.breakpoints.down("md")),Q=(0,S.Z)(),[se,ge]=(0,l.useState)(!1);return K?l.createElement(l.Fragment,null,l.createElement(F.Z,{style:{marginTop:Q.spacing(1),marginLeft:Q.spacing(1)},onClick:()=>ge(!0),startIcon:l.createElement(C.Z,null)},"Filters"),l.createElement(U.ZP,{open:se,onClose:()=>ge(!1),anchor:"left",disableAutoFocus:!0,keepMounted:!0,variant:"temporary"},l.createElement(B.Z,{m:2},l.createElement(V.Z,{variant:"h6",component:"h2",style:{marginBottom:Q.spacing(1)}},"Filters"),ke.children))):l.createElement(f.Z,{item:!0,lg:2},ke.children)},on=ke=>l.createElement(f.Z,{item:!0,xs:12,lg:10},ke.children),It=ke=>l.createElement(f.Z,{container:!0,style:{position:"relative"}},ke.children);It.Filters=_t,It.Content=on;const dn=(0,N.CT)("entity-context"),bn=({children:ke,entity:K,loading:Q,error:se,refresh:ge})=>{const Pe={entity:K,loading:Q,error:se,refresh:ge};return React.createElement(dn.Provider,{value:createVersionedValueMap({1:Pe})},ke)},pn=ke=>React.createElement(bn,{entity:ke.entity,loading:!Boolean(ke.entity),error:void 0,refresh:void 0,children:ke.children});function wn(){const ke=(0,N.Vt)("entity-context");if(!ke)throw new Error("Entity context is not available");const K=ke.atVersion(1);if(!K)throw new Error("EntityContext v1 not available");if(!K.entity)throw new Error("useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.");return{entity:K.entity}}function pe(){const ke=useVersionedContext("entity-context");if(!ke)throw new Error("Entity context is not available");const K=ke.atVersion(1);if(!K)throw new Error("EntityContext v1 not available");const{entity:Q,loading:se,error:ge,refresh:Pe}=K;return{entity:Q,loading:se,error:ge,refresh:Pe}}function ue(ke){return ke.reduce((K,Q)=>({...K,...Q.getCatalogFilters?Q.getCatalogFilters():{}}),{})}function Ce(ke){return K=>ke.every(Q=>!Q.filterEntity||Q.filterEntity(K))}function Be(ke,K,Q){var se;let ge=((se=ke==null?void 0:ke.relations)==null?void 0:se.filter(Pe=>Pe.type===K).map(Pe=>(0,e.of)(Pe.targetRef)))||[];return Q!=null&&Q.kind&&(ge=ge.filter(Pe=>Pe.kind.toLocaleLowerCase("en-US")===Q.kind.toLocaleLowerCase("en-US"))),ge}function Ke(ke,K){var Q;const se=(Q=ke.metadata.annotations)==null?void 0:Q[ANNOTATION_SOURCE_LOCATION];if(!!se)try{const ge=parseLocationRef(se),Pe=K.byUrl(ge.target);return{locationTargetUrl:ge.target,integrationType:Pe==null?void 0:Pe.type}}catch{return}}function wt(ke,K){const Q=new Set([...Be(ke,RELATION_MEMBER_OF,{kind:"group"}),...ke?[getCompoundEntityRef(ke)]:[]].map(stringifyEntityRef)),se=Be(K,RELATION_OWNED_BY).map(stringifyEntityRef);for(const ge of se)if(Q.has(ge))return!0;return!1}const Ht=(0,l.createContext)(void 0),ot=({children:ke})=>{const K=useMountedState(),Q=useApi(Ut),[se,ge]=useState({}),Pe=useLocation(),Oe=useMemo(()=>{var Ze;return(Ze=qs.parse(Pe.search,{ignoreQueryPrefix:!0}).filters)!=null?Ze:{}},[Pe]),[Ge,st]=useState(()=>({appliedFilters:{},entities:[],backendEntities:[]})),[{loading:pt,error:X},ae]=useAsyncFn(async()=>{var Ze;const Ue=compact(Object.values(se)),Qe=Ce(Ue),rt=ue(Ue),yt=ue(compact(Object.values(Ge.appliedFilters))),at=Object.keys(se).reduce((mt,Ct)=>{const Ft=se[Ct];return Ft!=null&&Ft.toQueryValue&&(mt[Ct]=Ft.toQueryValue()),mt},{});if(isEqual(yt,rt))st({appliedFilters:se,backendEntities:Ge.backendEntities,entities:Ge.backendEntities.filter(Qe)});else{const mt=await Q.getEntities({filter:rt});st({appliedFilters:se,backendEntities:mt.items,entities:mt.items.filter(Qe)})}if(K()){const mt=qs.parse(Pe.search,{ignoreQueryPrefix:!0}),Ct=qs.stringify({...mt,filters:at},{addQueryPrefix:!0,arrayFormat:"repeat"}),Ft=`${window.location.pathname}${Ct}`;(Ze=window.history)==null||Ze.replaceState(null,document.title,Ft)}},[Q,Oe,se,Ge],{loading:!0});useDebounce(ae,10,[se]);const $e=useCallback(Ze=>{ge(Ue=>{const Qe=typeof Ze=="function"?Ze(Ue):Ze;return{...Ue,...Qe}})},[]),Ne=useMemo(()=>({filters:Ge.appliedFilters,entities:Ge.entities,backendEntities:Ge.backendEntities,updateFilters:$e,queryParameters:Oe,loading:pt,error:X}),[Ge,$e,Oe,pt,X]);return React.createElement(Ht.Provider,{value:Ne},ke)};function Rt(){const ke=useContext(Ht);if(!ke)throw new Error("useEntityList must be used within EntityListProvider");return ke}const Dt=(0,N.uW)("catalog:entity-route-ref",()=>(0,E.NT)({id:"catalog:entity",params:["namespace","kind","name"]}));function tn(ke){var K,Q;return{kind:ke.kind.toLocaleLowerCase("en-US"),namespace:(Q=(K=ke.metadata.namespace)==null?void 0:K.toLocaleLowerCase("en-US"))!=null?Q:DEFAULT_NAMESPACE,name:ke.metadata.name}}function Rn(ke,K){const Q=K==null?void 0:K.defaultKind;let se,ge,Pe;return"metadata"in ke?(se=ke.kind,ge=ke.metadata.namespace,Pe=ke.metadata.name):(se=ke.kind,ge=ke.namespace,Pe=ke.name),ge===e.zG&&(ge=void 0),se=se.toLocaleLowerCase("en-US"),se=Q&&Q.toLocaleLowerCase("en-US")===se?void 0:se,`${se?`${se}:`:""}${ge?`${ge}/`:""}${Pe}`}const In=(0,l.forwardRef)((ke,K)=>{var Q;const{entityRef:se,defaultKind:ge,title:Pe,children:Oe,...Ge}=ke,st=(0,E.tg)(Dt);let pt,X,ae;if(typeof se=="string"){const Ue=(0,e.of)(se);pt=Ue.kind,X=Ue.namespace,ae=Ue.name}else"metadata"in se?(pt=se.kind,X=se.metadata.namespace,ae=se.metadata.name):(pt=se.kind,X=se.namespace,ae=se.name);pt=pt.toLocaleLowerCase("en-US"),X=(Q=X==null?void 0:X.toLocaleLowerCase("en-US"))!=null?Q:e.zG;const $e={kind:pt,namespace:X,name:ae},Ne=Rn({kind:pt,namespace:X,name:ae},{defaultKind:ge}),Ze=l.createElement(te.rU,{...Ge,ref:K,to:st($e)},Oe,!Oe&&(Pe!=null?Pe:Ne));return Pe?l.createElement(p.ZP,{title:Ne},Ze):Ze});function On(ke){const{entityRefs:K,defaultKind:Q,...se}=ke;return l.createElement(l.Fragment,null,K.map((ge,Pe)=>l.createElement(l.Fragment,{key:Pe},Pe>0&&", ",l.createElement(In,{...se,entityRef:ge,defaultKind:Q}))))}class Mn{constructor(K){this.value=K}getCatalogFilters(){return{kind:this.value}}toQueryValue(){return this.value}}class Bn{constructor(K){this.value=K}getTypes(){return Array.isArray(this.value)?this.value:[this.value]}getCatalogFilters(){return{"spec.type":this.getTypes()}}toQueryValue(){return this.getTypes()}}class _n{constructor(K){this.values=K}filterEntity(K){return this.values.every(Q=>{var se;return((se=K.metadata.tags)!=null?se:[]).includes(Q)})}toQueryValue(){return this.values}}class yr{constructor(K){this.value=K}filterEntity(K){var Q;const se=this.value.toLocaleUpperCase("en-US");return K.metadata.name.toLocaleUpperCase("en-US").includes(se)||`${K.metadata.title}`.toLocaleUpperCase("en-US").includes(se)||((Q=K.metadata.tags)==null?void 0:Q.join("").toLocaleUpperCase("en-US").indexOf(se))!==-1}}class Yn{constructor(K){this.values=K}filterEntity(K){return this.values.some(Q=>Be(K,RELATION_OWNED_BY).some(se=>Rn(se,{defaultKind:"group"})===Q))}toQueryValue(){return this.values}}class Ur{constructor(K){this.values=K}filterEntity(K){return this.values.some(Q=>{var se;return((se=K.spec)==null?void 0:se.lifecycle)===Q})}toQueryValue(){return this.values}}class nr{constructor(K,Q,se){this.value=K,this.isOwnedEntity=Q,this.isStarredEntity=se}filterEntity(K){switch(this.value){case"owned":return this.isOwnedEntity(K);case"starred":return this.isStarredEntity(K);default:return!0}}toQueryValue(){return this.value}}function jn(){var ke;const K=useApi(Ut),{filters:{kind:Q,type:se},queryParameters:{type:ge},updateFilters:Pe}=Rt(),Oe=useMemo(()=>[ge].flat().filter(Boolean),[ge]),[Ge,st]=useState(Oe.length?Oe:(ke=se==null?void 0:se.getTypes())!=null?ke:[]);useEffect(()=>{Oe.length&&st(Oe)},[Oe]);const[pt,X]=useState([]),ae=useMemo(()=>Q==null?void 0:Q.value,[Q]),{error:$e,loading:Ne,value:Ze}=useAsync(async()=>ae?await K.getEntityFacets({filter:{kind:ae},facets:["spec.type"]}).then(rt=>rt.facets["spec.type"]||[]):[],[ae,K]),Ue=useRef(Ze);return useEffect(()=>{const Qe=Ue.current;if(Ue.current=Ze,Ne||!ae||Qe===Ze||!Ze)return;const rt=[...new Set(sortBy(Ze,at=>-at.count).map(at=>at.value.toLocaleLowerCase("en-US")))];X(rt);const yt=Ge.filter(at=>rt.includes(at));isEqual$1(Ge,yt)||st(yt)},[Ne,ae,Ge,st,Ze]),useEffect(()=>{Pe({type:Ge.length?new Bn(Ge):void 0})},[Ge,Pe]),{loading:Ne,error:$e,availableTypes:pt,selectedTypes:Ge,setSelectedTypes:st}}const rr=20;function vr(ke,K){var Q,se;const ge=(Q=K==null?void 0:K.type)==null?void 0:Q.toLocaleLowerCase("en-US"),Pe=(se=K==null?void 0:K.kind)==null?void 0:se.toLocaleLowerCase("en-US"),Oe=useApi(Ut),{loading:Ge,value:st,error:pt}=useAsync(async()=>{var X;const ae=(X=ke.relations)==null?void 0:X.map(Ue=>({type:Ue.type,target:parseEntityRef(Ue.targetRef)})).filter(Ue=>(!ge||Ue.type.toLocaleLowerCase("en-US")===ge)&&(!Pe||Ue.target.kind===Pe));if(!ae)return[];const $e=Object.values(groupBy(ae,({target:Ue})=>`${Ue.kind}:${Ue.namespace}`.toLocaleLowerCase("en-US"))),Ne=[];for(const Ue of $e)Ne.push({kind:Ue[0].target.kind,namespace:Ue[0].target.namespace,nameBatches:chunk(Ue.map(Qe=>Qe.target.name),rr)});return(await Promise.all(Ne.flatMap(Ue=>Ue.nameBatches.map(Qe=>Oe.getEntities({filter:{kind:Ue.kind,"metadata.namespace":Ue.namespace,"metadata.name":Qe}}))))).flatMap(Ue=>Ue.items)},[ke,ge,Pe]);return{entities:st,loading:Ge,error:pt}}function Jn(ke){return typeof ke=="string"?ke:stringifyEntityRef(ke)}function ir(){const ke=useApi(Gt),K=useObservable(ke.starredEntitie$(),new Set),Q=useCallback(ge=>K.has(Jn(ge)),[K]),se=useCallback(ge=>ke.toggleStarred(Jn(ge)).then(),[ke]);return{starredEntities:K,toggleStarredEntity:se,isStarredEntity:Q}}function Cr(ke){return typeof ke=="string"?ke:stringifyEntityRef(ke)}function Ir(ke){const K=useApi(Gt),[Q,se]=useState(!1);return useEffect(()=>{const Pe=K.starredEntitie$().subscribe({next(Oe){se(Oe.has(Cr(ke)))}});return()=>{Pe.unsubscribe()}},[ke,K]),{toggleStarredEntity:useCallback(()=>K.toggleStarred(Cr(ke)).then(),[ke,K]),isStarredEntity:Q}}function sn(){const ke=useApi(identityApiRef),{loading:K,value:Q}=useAsync(async()=>{const{ownershipEntityRefs:ge}=await ke.getBackstageIdentity();return ge},[]),se=useMemo(()=>{const ge=new Set(Q!=null?Q:[]);return Pe=>{const Oe=Be(Pe,RELATION_OWNED_BY).map(stringifyEntityRef);for(const Ge of Oe)if(ge.has(Ge))return!0;return!1}},[Q]);return useMemo(()=>({loading:K,isOwnedEntity:se}),[K,se])}function wr(ke){const{entity:K,loading:Q,error:se}=pe(),{allowed:ge,loading:Pe,error:Oe}=usePermission({permission:ke,resourceRef:K?stringifyEntityRef(K):void 0});return Q||Pe?{loading:!0,allowed:!1}:se?{loading:!1,allowed:!1,error:se}:{loading:!1,allowed:ge,error:Oe}}const _a=ke=>{var K;const{initialFilter:Q,hidden:se}=ke,{updateFilters:ge,queryParameters:{kind:Pe}}=Rt(),[Oe]=useState((K=[Pe].flat()[0])!=null?K:Q);return useEffect(()=>{ge({kind:Oe?new Mn(Oe):void 0})},[Oe,ge]),se?null:React.createElement(Alert,{severity:"warning"},"Kind filter not yet available")},va=(0,I.Z)({input:{}},{name:"CatalogReactEntityLifecyclePicker"}),Er=l.createElement(Z.Z,{fontSize:"small"}),Gr=l.createElement(M.Z,{fontSize:"small"}),Vr=()=>{var ke,K;const Q=va(),{updateFilters:se,backendEntities:ge,filters:Pe,queryParameters:{lifecycles:Oe}}=Rt(),Ge=useMemo(()=>[Oe].flat().filter(Boolean),[Oe]),[st,pt]=useState(Ge.length?Ge:(K=(ke=Pe.lifecycles)==null?void 0:ke.values)!=null?K:[]);useEffect(()=>{Ge.length&&pt(Ge)},[Ge]),useEffect(()=>{se({lifecycles:st.length?new Ur(st):void 0})},[st,se]);const X=useMemo(()=>[...new Set(ge.map(ae=>{var $e;return($e=ae.spec)==null?void 0:$e.lifecycle}).filter(Boolean))].sort(),[ge]);return X.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Lifecycle"),React.createElement(Autocomplete,{"aria-label":"Lifecycle",multiple:!0,options:X,value:st,onChange:(ae,$e)=>pt($e),renderOption:(ae,{selected:$e})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:Er,checkedIcon:Gr,checked:$e}),label:ae}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"lifecycle-picker-expand"}),renderInput:ae=>React.createElement(TextField,{...ae,className:Q.input,variant:"outlined"})})):null},kr=(0,I.Z)({input:{}},{name:"CatalogReactEntityOwnerPicker"}),Mr=l.createElement(Z.Z,{fontSize:"small"}),sa=l.createElement(M.Z,{fontSize:"small"}),ar=()=>{var ke,K;const Q=kr(),{updateFilters:se,backendEntities:ge,filters:Pe,queryParameters:{owners:Oe}}=Rt(),Ge=useMemo(()=>[Oe].flat().filter(Boolean),[Oe]),[st,pt]=useState(Ge.length?Ge:(K=(ke=Pe.owners)==null?void 0:ke.values)!=null?K:[]);useEffect(()=>{Ge.length&&pt(Ge)},[Ge]),useEffect(()=>{se({owners:st.length?new Yn(st):void 0})},[st,se]);const X=useMemo(()=>[...new Set(ge.flatMap(ae=>Be(ae,RELATION_OWNED_BY).map($e=>Rn($e,{defaultKind:"group"}))).filter(Boolean))].sort(),[ge]);return X.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Owner"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Owner",options:X,value:st,onChange:(ae,$e)=>pt($e),renderOption:(ae,{selected:$e})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:Mr,checkedIcon:sa,checked:$e}),label:ae}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"owner-picker-expand"}),renderInput:ae=>React.createElement(TextField,{...ae,className:Q.input,variant:"outlined"})})):null},ia=(0,I.Z)(ke=>({searchToolbar:{paddingLeft:0,paddingRight:0},input:{}}),{name:"CatalogReactEntitySearchBar"}),to=()=>{var ke,K;const Q=ia(),{filters:se,updateFilters:ge}=Rt(),[Pe,Oe]=useState((K=(ke=se.text)==null?void 0:ke.value)!=null?K:"");return useDebounce(()=>{ge({text:Pe.length?new yr(Pe):void 0})},250,[Pe,ge]),React.createElement(Toolbar,{className:Q.searchToolbar},React.createElement(FormControl,null,React.createElement(Input,{"aria-label":"search",id:"input-with-icon-adornment",className:Q.input,placeholder:"Search",autoComplete:"off",onChange:Ge=>Oe(Ge.target.value),value:Pe,startAdornment:React.createElement(InputAdornment,{position:"start"},React.createElement(Search,null)),endAdornment:React.createElement(InputAdornment,{position:"end"},React.createElement(IconButton,{"aria-label":"clear search",onClick:()=>Oe(""),edge:"end",disabled:Pe.length===0},React.createElement(Clear,null)))})))},Pr=Object.freeze({createEntityRefColumn(ke){const{defaultKind:K}=ke;function Q(se){var ge;return((ge=se.metadata)==null?void 0:ge.title)||Rn(se,{defaultKind:K})}return{title:"Name",highlight:!0,customFilterAndSearch(se,ge){return Q(ge).includes(se)},customSort(se,ge){return Q(se).localeCompare(Q(ge))},render:se=>{var ge;return l.createElement(In,{entityRef:se,defaultKind:K,title:(ge=se.metadata)==null?void 0:ge.title})}}},createEntityRelationColumn({title:ke,relation:K,defaultKind:Q,filter:se}){function ge(Oe){return Be(Oe,K,se)}function Pe(Oe){return ge(Oe).map(Ge=>Rn(Ge,{defaultKind:Q})).join(", ")}return{title:ke,customFilterAndSearch(Oe,Ge){return Pe(Ge).includes(Oe)},customSort(Oe,Ge){return Pe(Oe).localeCompare(Pe(Ge))},render:Oe=>l.createElement(On,{entityRefs:ge(Oe),defaultKind:Q})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:e.S4,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:e.cz,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:e.cz,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:ke=>l.createElement(te.Or,{text:ke.metadata.description,placement:"bottom-start",line:2}),width:"auto"}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),Br=[Pr.createEntityRefColumn({defaultKind:"system"}),Pr.createDomainColumn(),Pr.createOwnerColumn(),Pr.createMetadataDescriptionColumn()],Ua=[Pr.createEntityRefColumn({defaultKind:"component"}),Pr.createSystemColumn(),Pr.createOwnerColumn(),Pr.createSpecTypeColumn(),Pr.createSpecLifecycleColumn(),Pr.createMetadataDescriptionColumn()],Ja=(0,I.Z)(ke=>({empty:{padding:ke.spacing(2),display:"flex",justifyContent:"center"}})),qr=ke=>{const{entities:K,title:Q,emptyContent:se,variant:ge="gridItem",columns:Pe}=ke,Oe=Ja(),Ge={minWidth:"0",width:"100%"};return ge==="gridItem"&&(Ge.height="calc(100% - 10px)"),l.createElement(te.iA,{columns:Pe,title:Q,style:Ge,emptyContent:se&&l.createElement("div",{className:Oe.empty},se),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense"},data:K})};qr.columns=Pr,qr.systemEntityColumns=Br,qr.componentEntityColumns=Ua;const Fr=(0,I.Z)({input:{}},{name:"CatalogReactEntityTagPicker"}),gr=l.createElement(Z.Z,{fontSize:"small"}),Ea=l.createElement(M.Z,{fontSize:"small"}),Ia=()=>{var ke,K;const Q=Fr(),{updateFilters:se,filters:ge,queryParameters:{tags:Pe}}=Rt(),Oe=useApi(Ut),{value:Ge}=useAsync(async()=>{var ae;const $e="metadata.tags",{facets:Ne}=await Oe.getEntityFacets({facets:[$e],filter:(ae=ge.kind)==null?void 0:ae.getCatalogFilters()});return Ne[$e].map(({value:Ze})=>Ze)},[ge.kind]),st=useMemo(()=>[Pe].flat().filter(Boolean),[Pe]),[pt,X]=useState(st.length?st:(K=(ke=ge.tags)==null?void 0:ke.values)!=null?K:[]);return useEffect(()=>{st.length&&X(st)},[st]),useEffect(()=>{se({tags:pt.length?new _n(pt):void 0})},[pt,se]),Ge!=null&&Ge.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Tags"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Tags",options:Ge,value:pt,onChange:(ae,$e)=>X($e),renderOption:(ae,{selected:$e})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:gr,checkedIcon:Ea,checked:$e}),label:ae}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"tag-picker-expand"}),renderInput:ae=>React.createElement(TextField,{...ae,className:Q.input,variant:"outlined"})})):null},Ya=ke=>{var K;const{hidden:Q,initialFilter:se}=ke,ge=useApi(alertApiRef),{error:Pe,availableTypes:Oe,selectedTypes:Ge,setSelectedTypes:st}=jn();if(useEffect(()=>{Pe&&ge.post({message:"Failed to load entity types",severity:"error"}),se&&st([se])},[Pe,ge,se,st]),Oe.length===0||Pe)return null;const pt=[{value:"all",label:"All"},...Oe.map(X=>({value:X,label:capitalize(X)}))];return Q?null:React.createElement(Box,{pb:1,pt:1},React.createElement(Select,{label:"Type",items:pt,selected:(K=pt.length>1?Ge[0]:void 0)!=null?K:"all",onChange:X=>st(X==="all"?[]:[String(X)])}))},Or=(0,y.Z)({root:{color:"#f3ba37"}})(we.Z),la=ke=>{const{toggleStarredEntity:K,isStarredEntity:Q}=Ir(ke.entity);return React.createElement(IconButton,{"aria-label":"favorite",color:"inherit",...ke,onClick:()=>K()},React.createElement(Tooltip,{title:Q?"Remove from favorites":"Add to favorites"},Q?React.createElement(Or,null):React.createElement(StarBorder,null)))},Ga=null;function pa(ke,K){if(ke)return ke.toLocaleLowerCase("en-US");if(K)try{return parseEntityRef(K).kind.toLocaleLowerCase("en-US")}catch{return}}function zr(ke,K){const Q=useApp(),se=pa(ke,K);return se&&Q.getSystemIcon(`kind:${se}`)||Ga}function Zr(ke){const{kind:K,entityRef:Q,...se}=ke,ge=zr(K,Q);return React.createElement(ge,{...se})}const mn=(0,I.Z)(ke=>({node:{fill:ke.palette.grey[300],stroke:ke.palette.grey[300],"&.primary":{fill:ke.palette.primary.light,stroke:ke.palette.primary.light},"&.secondary":{fill:ke.palette.secondary.light,stroke:ke.palette.secondary.light}},text:{fill:ke.palette.getContrastText(ke.palette.grey[300]),"&.primary":{fill:ke.palette.primary.contrastText},"&.secondary":{fill:ke.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}));function Wr(ke){const K=useApi(Ut),Q=stringifyEntityRef(ke),{loading:se,error:ge,value:Pe}=useAsync(async()=>{const Oe=await K.getEntityAncestors({entityRef:Q}),Ge=new Array,st=new Array;for(const pt of Oe.items){const X=stringifyEntityRef(pt.entity),ae=X===Oe.rootEntityRef;Ge.push({id:X,root:ae,...pt.entity});for(const $e of pt.parentEntityRefs)st.push({from:X,to:$e})}return{nodes:Ge,edges:st}},[Q]);return{loading:se,error:ge,nodes:(Pe==null?void 0:Pe.nodes)||[],edges:(Pe==null?void 0:Pe.edges)||[]}}function Qn({node:ke}){const K=mn(),Q=useNavigate(),se=useRouteRef(Dt),[ge,Pe]=useState(0),[Oe,Ge]=useState(0),st=useRef(null);useLayoutEffect(()=>{if(st.current){let{height:Qe,width:rt}=st.current.getBBox();Qe=Math.round(Qe),rt=Math.round(rt),(Qe!==Oe||rt!==ge)&&(Pe(rt),Ge(Qe))}},[ge,Oe]);const pt=10,X=Oe,ae=X+pt,$e=ae+ge+pt*2,Ne=Oe+pt*2,Ze=ke.metadata.title||(ke.kind&&ke.metadata.name&&ke.metadata.namespace?Rn({kind:ke.kind,name:ke.metadata.name,namespace:ke.metadata.namespace||""}):ke.id),Ue=()=>{Q(se({kind:ke.kind,namespace:ke.metadata.namespace||DEFAULT_NAMESPACE,name:ke.metadata.name}))};return React.createElement("g",{onClick:Ue,className:K.clickable},React.createElement("rect",{className:classNames(K.node,ke.root?"secondary":"primary"),width:$e,height:Ne,rx:10}),React.createElement(Zr,{kind:ke.kind,y:pt,x:pt,width:X,height:X,className:classNames(K.text,ke.root?"secondary":"primary")}),React.createElement("text",{ref:st,className:classNames(K.text,ke.root?"secondary":"primary"),y:Ne/2,x:ae+(ge+pt*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},Ze))}function ea(ke){const{loading:K,error:Q,nodes:se,edges:ge}=Wr(ke.entity);return K?React.createElement(Progress,null):Q?React.createElement(ResponseErrorPanel,{error:Q}):React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Ancestry"),React.createElement(DialogContentText,{gutterBottom:!0},"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where"," ",React.createElement(Link,{to:"https://backstage.io/docs/features/software-catalog/life-of-an-entity"},"processors emitted")," ","child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations."),React.createElement(Box,{mt:4},React.createElement(DependencyGraph,{nodes:se,edges:ge,renderNode:Qn,direction:DependencyGraphTypes.Direction.BOTTOM_TOP,zoom:"enable-on-click"})))}const cr=(0,I.Z)(ke=>({root:{display:"flex",flexDirection:"column"},marginTop:{marginTop:ke.spacing(2)},helpIcon:{marginLeft:ke.spacing(1),color:ke.palette.text.disabled},monospace:{fontFamily:"monospace"}}));function Xn(ke){const K=cr();return React.createElement(ListItemText$1,{...ke,primaryTypographyProps:{className:K.monospace},secondaryTypographyProps:{className:K.monospace}})}function hr(ke){const K=cr();return React.createElement(ListSubheader$1,{className:K.monospace},ke.children)}function qn(ke){return React.createElement(Box,{mt:2},React.createElement(Card,{variant:"outlined"},React.createElement(CardContent,null,React.createElement(Typography,{variant:"h6",gutterBottom:!0},ke.title,ke.helpLink&&React.createElement(Hr,{to:ke.helpLink})),ke.children)))}function ur(ke){if(ke.match(/^url:https?:\/\//))return ke.slice(4);if(ke.match(/^https?:\/\//))return ke}function fa(ke){const[K,Q]=ke.entry,se=ur(Q);return React.createElement(ListItem,null,ke.indent&&React.createElement(ListItemIcon,null),React.createElement(Xn,{primary:K,secondary:se?React.createElement(Link,{to:se},Q):Q}))}function Hr(ke){const K=cr();return React.createElement(Link,{to:ke.to,className:K.helpIcon},React.createElement(HelpOutlineIcon,{fontSize:"inherit"}))}const ta=(0,I.Z)({root:{display:"flex",flexDirection:"column"}});function Ee(ke){var K,Q;const se=useApi(Ut),ge=stringifyEntityRef(ke),Pe=(K=ke.metadata.annotations)==null?void 0:K[ANNOTATION_LOCATION],Oe=(Q=ke.metadata.annotations)==null?void 0:Q[ANNOTATION_ORIGIN_LOCATION],{loading:Ge,error:st,value:pt}=useAsync(async()=>!Pe&&!Oe?[]:(await se.getEntities({filter:[...Pe?[{[`metadata.annotations.${ANNOTATION_LOCATION}`]:Pe}]:[],...Oe?[{[`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]:Oe}]:[]]})).items,[Pe,Oe]);return{loading:Ge,error:st,location:Pe,originLocation:Oe,colocatedEntities:pt==null?void 0:pt.filter(X=>stringifyEntityRef(X)!==ge)}}function ve(ke){return React.createElement(List,{dense:!0},ke.header&&React.createElement(fa,{key:"header",entry:ke.header}),ke.entities.map(K=>React.createElement(ListItem,{key:stringifyEntityRef(K)},React.createElement(ListItemIcon,null,React.createElement(Zr,{kind:K.kind})),React.createElement(Xn,{primary:React.createElement(In,{entityRef:K})}))))}function Ie(ke){const{entity:K}=ke,{loading:Q,error:se,location:ge,originLocation:Pe,colocatedEntities:Oe}=Ee(K);if(Q)return React.createElement(Progress,null);if(se)return React.createElement(ResponseErrorPanel,{error:se});if(!ge&&!Pe)return React.createElement(Alert,{severity:"warning"},"Entity had no location information.");if(!(Oe!=null&&Oe.length))return React.createElement(Alert,{severity:"info"},"There were no other entities on this location.");if(ge===Pe)return React.createElement(ve,{entities:Oe});const Ge=Oe.filter(pt=>{var X;return((X=pt.metadata.annotations)==null?void 0:X[ANNOTATION_LOCATION])===ge}),st=Oe.filter(pt=>{var X;return((X=pt.metadata.annotations)==null?void 0:X[ANNOTATION_ORIGIN_LOCATION])===Pe});return React.createElement(React.Fragment,null,Ge.length>0&&React.createElement(ve,{entities:Ge,header:["At the same location",ge]}),st.length>0&&React.createElement(ve,{entities:st,header:["At the same origin",Pe]}))}function Je(ke){const K=ta();return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Colocated"),React.createElement(DialogContentText,null,"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL)."),React.createElement("div",{className:K.root},React.createElement(Ie,{entity:ke.entity})))}function bt(ke){return Object.fromEntries([...Object.entries(ke)].sort((K,Q)=>K[0]<Q[0]?-1:1))}function Ot(ke){return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Entity as JSON"),React.createElement(DialogContentText,null,"This is the raw entity data as received from the catalog, on JSON form."),React.createElement(DialogContentText,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:JSON.stringify(bt(ke.entity),void 0,2),language:"json",showCopyCodeButton:!0}))))}const Yt=(0,I.Z)({root:{display:"flex",flexDirection:"column"}});function Qt(ke){var K,Q;const se=Yt(),{apiVersion:ge,kind:Pe,metadata:Oe,spec:Ge,relations:st=[],status:pt={}}=ke.entity,X=groupBy$1(sortBy(st,ae=>ae.targetRef),"type");return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Overview"),React.createElement("div",{className:se.root},React.createElement(qn,{title:"Identity"},React.createElement(List,{dense:!0},React.createElement(ListItem,null,React.createElement(Xn,{primary:"apiVersion",secondary:ge})),React.createElement(ListItem,null,React.createElement(Xn,{primary:"kind",secondary:Pe})),(Ge==null?void 0:Ge.type)&&React.createElement(ListItem,null,React.createElement(Xn,{primary:"spec.type",secondary:Ge.type})),Oe.uid&&React.createElement(ListItem,null,React.createElement(Xn,{primary:"uid",secondary:Oe.uid})),Oe.etag&&React.createElement(ListItem,null,React.createElement(Xn,{primary:"etag",secondary:Oe.etag})))),React.createElement(qn,{title:"Metadata"},!!Object.keys(Oe.annotations||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(hr,null,"Annotations",React.createElement(Hr,{to:"https://backstage.io/docs/features/software-catalog/well-known-annotations"}))},Object.entries(Oe.annotations).map(ae=>React.createElement(fa,{key:ae[0],indent:!0,entry:ae}))),!!Object.keys(Oe.labels||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(hr,null,"Labels")},Object.entries(Oe.labels).map(ae=>React.createElement(fa,{key:ae[0],indent:!0,entry:ae}))),!!((K=Oe.tags)!=null&&K.length)&&React.createElement(List,{dense:!0,subheader:React.createElement(hr,null,"Tags")},Oe.tags.map((ae,$e)=>React.createElement(ListItem,{key:`${ae}-${$e}`},React.createElement(ListItemIcon,null),React.createElement(Xn,{primary:ae}))))),!!st.length&&React.createElement(qn,{title:"Relations",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-relations"},Object.entries(X).map(([ae,$e],Ne)=>React.createElement("div",{key:Ne},React.createElement(List,{dense:!0,subheader:React.createElement(hr,null,ae)},$e.map(Ze=>React.createElement(ListItem,{key:Ze.targetRef},React.createElement(ListItemIcon,null,React.createElement(Zr,{entityRef:Ze.targetRef})),React.createElement(Xn,{primary:React.createElement(In,{entityRef:Ze.targetRef})}))))))),!!((Q=pt.items)!=null&&Q.length)&&React.createElement(qn,{title:"Status",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-statuses"},pt.items.map((ae,$e)=>React.createElement("div",{key:$e},React.createElement(Typography,null,ae.level,": ",ae.type),React.createElement(Box,{ml:2},ae.message))))))}function cn(ke){return React.createElement(React.Fragment,null,React.createElement(DialogContentText$1,{variant:"h2"},"Entity as YAML"),React.createElement(DialogContentText$1,null,"This is the raw entity data as received from the catalog, on YAML form."),React.createElement(DialogContentText$1,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:YAML.stringify(bt(ke.entity)),language:"yaml",showCopyCodeButton:!0}))))}const yn=(0,I.Z)(ke=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",backgroundColor:ke.palette.background.paper},tabs:{borderRight:`1px solid ${ke.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"}}));function qe(ke){const{children:K,value:Q,index:se,...ge}=ke,Pe=yn();return React.createElement("div",{role:"tabpanel",hidden:Q!==se,id:`vertical-tabpanel-${se}`,"aria-labelledby":`vertical-tab-${se}`,className:Pe.tabContents,...ge},Q===se&&React.createElement(Box,{pl:3,pr:3},K))}function Ae(ke){return{id:`vertical-tab-${ke}`,"aria-controls":`vertical-tabpanel-${ke}`}}function ht(ke){const K=yn(),[Q,se]=React.useState(0);return useEffect(()=>{se(0)},[ke.open]),ke.entity?React.createElement(Dialog,{fullWidth:!0,maxWidth:"xl",open:ke.open,onClose:ke.onClose,"aria-labelledby":"entity-inspector-dialog-title",PaperProps:{className:K.fullHeightDialog}},React.createElement(DialogTitle,{id:"entity-inspector-dialog-title"},"Entity Inspector"),React.createElement(DialogContent,{dividers:!0},React.createElement("div",{className:K.root},React.createElement(Tabs,{orientation:"vertical",variant:"scrollable",value:Q,onChange:(ge,Pe)=>se(Pe),"aria-label":"Inspector options",className:K.tabs},React.createElement(Tab,{label:"Overview",...Ae(0)}),React.createElement(Tab,{label:"Ancestry",...Ae(1)}),React.createElement(Tab,{label:"Colocated",...Ae(2)}),React.createElement(Tab,{label:"Raw JSON",...Ae(3)}),React.createElement(Tab,{label:"Raw YAML",...Ae(4)})),React.createElement(qe,{value:Q,index:0},React.createElement(Qt,{entity:ke.entity})),React.createElement(qe,{value:Q,index:1},React.createElement(ea,{entity:ke.entity})),React.createElement(qe,{value:Q,index:2},React.createElement(Je,{entity:ke.entity})),React.createElement(qe,{value:Q,index:3},React.createElement(Ot,{entity:ke.entity})),React.createElement(qe,{value:Q,index:4},React.createElement(cn,{entity:ke.entity})))),React.createElement(DialogActions,null,React.createElement(Button,{onClick:ke.onClose,color:"primary"},"Close"))):null}function xt(ke){var K;const Q=useApi(Ut),se=(K=ke.metadata.annotations)==null?void 0:K[ANNOTATION_ORIGIN_LOCATION],ge=ke.metadata.uid,Pe=se==="bootstrap:bootstrap",Oe=useAsync(async()=>{const Ze=Q.getLocationByRef(se);let Ue;if(!se)Ue=Promise.resolve([]);else{const Qe=`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;Ue=Q.getEntities({filter:{[Qe]:se},fields:["kind","metadata.uid","metadata.name","metadata.namespace"]}).then(rt=>rt.items)}return Promise.all([Ze,Ue]).then(([Qe,rt])=>({location:Qe,colocatedEntities:rt}))},[Q,ke]),Ge=useCallback(async function(){const{location:Ue}=Oe.value;await Q.removeLocationById(Ue.id)},[Q,Oe]),st=useCallback(async function(){await Q.removeEntityByUid(ge)},[Q,ge]);if(Pe)return{type:"bootstrap",location:se,deleteEntity:st};const{loading:pt,error:X,value:ae}=Oe;if(pt)return{type:"loading"};if(X)return{type:"error",error:X};const{location:$e,colocatedEntities:Ne}=ae;return $e?{type:"unregister",location:se,colocatedEntities:Ne.map(getCompoundEntityRef),unregisterLocation:Ge,deleteEntity:st}:{type:"only-delete",deleteEntity:st}}const qt=(0,I.Z)({advancedButton:{fontSize:"0.7em"}}),nn=({entity:ke,onConfirm:K})=>{var Q;const se=useApi(alertApiRef),ge=useApi(configApiRef),Pe=qt(),Oe=xt(ke),[Ge,st]=useState(!1),[pt,X]=useState(!1),ae=(Q=ge.getOptionalString("app.title"))!=null?Q:"Backstage",$e=useCallback(async function(){if("unregisterLocation"in Oe){X(!0);try{await Oe.unregisterLocation(),K()}catch(Ue){assertError(Ue),se.post({message:Ue.message})}finally{X(!1)}}},[se,K,Oe]),Ne=useCallback(async function(){if("deleteEntity"in Oe){X(!0);try{await Oe.deleteEntity(),K()}catch(Ue){assertError(Ue),se.post({message:Ue.message})}finally{X(!1)}}},[se,K,Oe]);return Oe.type==="loading"?React.createElement(Progress,null):Oe.type==="error"?React.createElement(ResponseErrorPanel,{error:Oe.error}):Oe.type==="bootstrap"?React.createElement(React.Fragment,null,React.createElement(Alert$1,{severity:"info"},'You cannot unregister this entity, since it originates from a protected Backstage configuration (location "',Oe.location,'"). If you believe this is in error, please contact the ',ae," ","integrator."),React.createElement(Box,{marginTop:2},!Ge&&React.createElement(Button,{variant:"text",size:"small",color:"primary",className:Pe.advancedButton,onClick:()=>st(!0)},"Advanced Options"),Ge&&React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:pt,onClick:Ne},"Delete Entity")))):Oe.type==="only-delete"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:pt,onClick:Ne},"Delete Entity")):Oe.type==="unregister"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This action will unregister the following entities:"),React.createElement(DialogContentText,{component:"ul"},Oe.colocatedEntities.map(Ze=>React.createElement("li",{key:`${Ze.kind}:${Ze.namespace}/${Ze.name}`},React.createElement(In,{entityRef:Ze})))),React.createElement(DialogContentText,null,"Located at the following location:"),React.createElement(DialogContentText,{component:"ul"},React.createElement("li",null,Oe.location)),React.createElement(DialogContentText,null,"To undo, just re-register the entity in ",ae,"."),React.createElement(Box,{marginTop:2},React.createElement(Button,{variant:"contained",color:"secondary",disabled:pt,onClick:$e},"Unregister Location"),!Ge&&React.createElement(Box,{component:"span",marginLeft:2},React.createElement(Button,{variant:"text",size:"small",color:"primary",className:Pe.advancedButton,onClick:()=>st(!0)},"Advanced Options"))),Ge&&React.createElement(React.Fragment,null,React.createElement(Box,{paddingTop:4,paddingBottom:4},React.createElement(Divider,null)),React.createElement(DialogContentText,null,"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:pt,onClick:Ne},"Delete Entity"))):React.createElement(Alert$1,{severity:"error"},"Internal error: Unknown state")},gn=ke=>{const{open:K,onConfirm:Q,onClose:se,entity:ge}=ke;return React.createElement(Dialog,{open:K,onClose:se},React.createElement(DialogTitle,{id:"responsive-dialog-title"},"Are you sure you want to unregister this entity?"),React.createElement(DialogContent,null,React.createElement(nn,{entity:ge,onConfirm:Q})),React.createElement(DialogActions,null,React.createElement(Button,{onClick:se,color:"primary"},"Cancel")))},or=(0,I.Z)(ke=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:ke.spacing(1,0,1,0)},title:{margin:ke.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:ke.palette.text.primary},menuItem:{minHeight:ke.spacing(6)},groupWrapper:{margin:ke.spacing(1,1,2,1)}}),{name:"CatalogReactUserListPicker"});function Un(ke){return[{name:"Personal",items:[{id:"owned",label:"Owned",icon:SettingsIcon},{id:"starred",label:"Starred",icon:Star}]},{name:ke!=null?ke:"Company",items:[{id:"all",label:"All"}]}]}const Fn=ke=>{var K;const{initialFilter:Q,availableFilters:se}=ke,ge=or(),Oe=(K=useApi(configApiRef).getOptionalString("organization.name"))!=null?K:"Company",{filters:Ge,updateFilters:st,backendEntities:pt,queryParameters:{kind:X,user:ae},loading:$e}=Rt(),Ne=["starred","all"],Ze=Un(Oe).map(hn=>({...hn,items:hn.items.filter(({id:en})=>["group","user"].some(Tn=>Tn===X)?Ne.includes(en):!se||se.includes(en))})).filter(({items:hn})=>!!hn.length),{isStarredEntity:Ue}=ir(),{isOwnedEntity:Qe,loading:rt}=sn(),yt=$e||rt,at=useMemo(()=>new nr("owned",Qe,Ue),[Qe,Ue]),mt=useMemo(()=>new nr("starred",Qe,Ue),[Qe,Ue]),Ct=useMemo(()=>[ae].flat()[0],[ae]),[Ft,At]=useState(Ct!=null?Ct:Q),rn=useMemo(()=>pt.filter(Ce(compact(Object.values({...Ge,user:void 0})))),[Ge,pt]),un=useMemo(()=>({all:rn.length,starred:rn.filter(hn=>mt.filterEntity(hn)).length,owned:rn.filter(hn=>at.filterEntity(hn)).length}),[rn,mt,at]);return useEffect(()=>{Ct&&At(Ct)},[Ct]),useEffect(()=>{!yt&&!!Ft&&Ft!=="all"&&un[Ft]===0&&At("all")},[yt,un,Ft,At]),useEffect(()=>{st({user:Ft?new nr(Ft,Qe,Ue):void 0})},[Ft,Qe,Ue,st]),React.createElement(Card,{className:ge.root},Ze.map(hn=>React.createElement(Fragment,{key:hn.name},React.createElement(Typography,{variant:"subtitle2",className:ge.title},hn.name),React.createElement(Card,{className:ge.groupWrapper},React.createElement(List,{disablePadding:!0,dense:!0,role:"menu"},hn.items.map(en=>{var Tn,Nr;return React.createElement(MenuItem,{key:en.id,button:!0,divider:!0,onClick:()=>At(en.id),selected:en.id===((Tn=Ge.user)==null?void 0:Tn.value),className:ge.menuItem,disabled:un[en.id]===0,"data-testid":`user-picker-${en.id}`,tabIndex:0},en.icon&&React.createElement(ListItemIcon,{className:ge.listIcon},React.createElement(en.icon,{fontSize:"small"})),React.createElement(ListItemText$1,null,React.createElement(Typography,{variant:"body1"},en.label)),React.createElement(ListItemSecondaryAction,null,(Nr=un[en.id])!=null?Nr:"-"))}))))))},Rr=({children:ke,value:K})=>{var Q;const[se,ge]=useState((Q=K==null?void 0:K.filters)!=null?Q:{}),Pe=useCallback(st=>{ge(pt=>{const X=typeof st=="function"?st(pt):st;return{...pt,...X}})},[]),Oe=useMemo(()=>({entities:[],backendEntities:[],queryParameters:{}}),[]),Ge=useMemo(()=>{var st,pt,X,ae,$e;return{entities:(st=K==null?void 0:K.entities)!=null?st:Oe.entities,backendEntities:(pt=K==null?void 0:K.backendEntities)!=null?pt:Oe.backendEntities,updateFilters:(X=K==null?void 0:K.updateFilters)!=null?X:Pe,filters:se,loading:(ae=K==null?void 0:K.loading)!=null?ae:!1,queryParameters:($e=K==null?void 0:K.queryParameters)!=null?$e:Oe.queryParameters,error:K==null?void 0:K.error}},[K,Oe,se,Pe]);return React.createElement(Ht.Provider,{value:Ge},ke)}},28367:function(Se,r,a){a.d(r,{v:function(){return x}});var e=a(7502),t=a(93222),T=a(81014),h=a(53853),w=a(99066);const i="3.2.4";class E{constructor(te={}){const oe=new t.Collection,ce={baseUrl:T.request.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},te.request,{hook:oe.bind(null,"request")}),mediaType:{previews:[],format:""}};if(ce.headers["user-agent"]=[te.userAgent,`octokit-core.js/${i} ${(0,e.i)()}`].filter(Boolean).join(" "),te.baseUrl&&(ce.baseUrl=te.baseUrl),te.previews&&(ce.mediaType.previews=te.previews),te.timeZone&&(ce.headers["time-zone"]=te.timeZone),this.request=T.request.defaults(ce),this.graphql=(0,h.Zi)(this.request).defaults(ce),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},te.log),this.hook=oe,te.authStrategy){const{authStrategy:De,...et}=te,lt=De(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:et},te.auth));oe.wrap("request",lt.hook),this.auth=lt}else if(!te.auth)this.auth=async()=>({type:"unauthenticated"});else{const De=(0,w.q)(te.auth);oe.wrap("request",De.hook),this.auth=De}this.constructor.plugins.forEach(De=>{Object.assign(this,De(this,te))})}static defaults(te){return class extends this{constructor(...ce){const He=ce[0]||{};if(typeof te=="function"){super(te(He));return}super(Object.assign({},te,He,He.userAgent&&te.userAgent?{userAgent:`${He.userAgent} ${te.userAgent}`}:null))}}}static plugin(...te){var oe;const ce=this.plugins;return oe=class extends this{},oe.plugins=ce.concat(te.filter(De=>!ce.includes(De))),oe}}E.VERSION=i,E.plugins=[];const c="1.0.2";function l(H){H.hook.wrap("request",(te,oe)=>{H.log.debug("request",oe);const ce=Date.now(),He=H.request.endpoint.parse(oe),De=He.url.replace(oe.baseUrl,"");return te(oe).then(et=>(H.log.info(`${He.method} ${De} - ${et.status} in ${Date.now()-ce}ms`),et)).catch(et=>{throw H.log.info(`${He.method} ${De} - ${et.status} in ${Date.now()-ce}ms`),et})})}l.VERSION=c;const A="2.7.0";function S(H){if(!("total_count"in H.data&&!("url"in H.data)))return H;const oe=H.data.incomplete_results,ce=H.data.repository_selection,He=H.data.total_count;delete H.data.incomplete_results,delete H.data.repository_selection,delete H.data.total_count;const De=Object.keys(H.data)[0],et=H.data[De];return H.data=et,typeof oe!="undefined"&&(H.data.incomplete_results=oe),typeof ce!="undefined"&&(H.data.repository_selection=ce),H.data.total_count=He,H}function F(H,te,oe){const ce=typeof te=="function"?te.endpoint(oe):H.request.endpoint(te,oe),He=typeof te=="function"?te:H.request,De=ce.method,et=ce.headers;let lt=ce.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!lt)return{done:!0};const Et=await He({method:De,url:lt,headers:et}),Lt=S(Et);return lt=((Lt.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:Lt}}})}}function U(H,te,oe,ce){return typeof oe=="function"&&(ce=oe,oe=void 0),B(H,[],F(H,te,oe)[Symbol.asyncIterator](),ce)}function B(H,te,oe,ce){return oe.next().then(He=>{if(He.done)return te;let De=!1;function et(){De=!0}return te=te.concat(ce?ce(He.value,et):He.value.data),De?te:B(H,te,oe,ce)})}const V=Object.assign(U,{iterator:F});function f(H){return{paginate:Object.assign(U.bind(null,H),{iterator:F.bind(null,H)})}}f.VERSION=A;const p={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createContentAttachmentForRepo:["POST /repos/{owner}/{repo}/content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.rest.reactions.deleteLegacy() is deprecated, see https://docs.github.com/rest/reference/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},I="5.3.1";function y(H,te){const oe={};for(const[ce,He]of Object.entries(te))for(const[De,et]of Object.entries(He)){const[lt,Et,Lt]=et,[dt,he]=lt.split(/ /),j=Object.assign({method:dt,url:he},Et);oe[ce]||(oe[ce]={});const re=oe[ce];if(Lt){re[De]=C(H,ce,De,j,Lt);continue}re[De]=H.request.defaults(j)}return oe}function C(H,te,oe,ce,He){const De=H.request.defaults(ce);function et(...lt){let Et=De.endpoint.merge(...lt);if(He.mapToData)return Et=Object.assign({},Et,{data:Et[He.mapToData],[He.mapToData]:void 0}),De(Et);if(He.renamed){const[Lt,dt]=He.renamed;H.log.warn(`octokit.${te}.${oe}() has been renamed to octokit.${Lt}.${dt}()`)}if(He.deprecated&&H.log.warn(He.deprecated),He.renamedParameters){const Lt=De.endpoint.merge(...lt);for(const[dt,he]of Object.entries(He.renamedParameters))dt in Lt&&(H.log.warn(`"${dt}" parameter is deprecated for "octokit.${te}.${oe}()". Use "${he}" instead`),he in Lt||(Lt[he]=Lt[dt]),delete Lt[dt]);return De(Lt)}return De(...lt)}return Object.assign(et,De)}function N(H){return{rest:y(H,p)}}N.VERSION=I;function R(H){const te=y(H,p);return{...te,rest:te}}R.VERSION=I;const b="18.5.6",x=E.plugin(l,R,f).defaults({userAgent:`octokit-rest.js/${b}`})},77409:function(Se,r,a){a.d(r,{t:function(){return t}});var e=a(2784);function t(){var T=(0,e.useRef)(!1),h=(0,e.useCallback)(function(){return T.current},[]);return(0,e.useEffect)(function(){return T.current=!0,function(){T.current=!1}},[]),h}},51085:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const e=a(38910),t=a(33581),T=a(29124),h=a(35624),w=["/properties"],i="http://json-schema.org/draft-07/schema";class E extends e.default{_addVocabularies(){super._addVocabularies(),t.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(T.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(h,w):h;this.addMetaSchema(S,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}Se.exports=r=E,Object.defineProperty(r,"__esModule",{value:!0}),r.default=E;var c=a(76324);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=a(73150);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}})},34710:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class a{}r._CodeOrName=a,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class e extends a{constructor(p){if(super(),!r.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=e;class t extends a{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((I,y)=>`${I}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((I,y)=>(y instanceof e&&(I[y.str]=(I[y.str]||0)+1),I),{})}}r._Code=t,r.nil=new t("");function T(f,...p){const I=[f[0]];let y=0;for(;y<p.length;)i(I,p[y]),I.push(f[++y]);return new t(I)}r._=T;const h=new t("+");function w(f,...p){const I=[F(f[0])];let y=0;for(;y<p.length;)I.push(h),i(I,p[y]),I.push(h,F(f[++y]));return E(I),new t(I)}r.str=w;function i(f,p){p instanceof t?f.push(...p._items):p instanceof e?f.push(p):f.push(A(p))}r.addCodeArg=i;function E(f){let p=1;for(;p<f.length-1;){if(f[p]===h){const I=c(f[p-1],f[p+1]);if(I!==void 0){f.splice(p-1,3,I);continue}f[p++]="+"}p++}}function c(f,p){if(p==='""')return f;if(f==='""')return p;if(typeof f=="string")return p instanceof e||f[f.length-1]!=='"'?void 0:typeof p!="string"?`${f.slice(0,-1)}${p}"`:p[0]==='"'?f.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(f instanceof e))return`"${f}${p.slice(1)}`}function l(f,p){return p.emptyStr()?f:f.emptyStr()?p:w`${f}${p}`}r.strConcat=l;function A(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:F(Array.isArray(f)?f.join(","):f)}function S(f){return new t(F(f))}r.stringify=S;function F(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.safeStringify=F;function U(f){return typeof f=="string"&&r.IDENTIFIER.test(f)?new t(`.${f}`):T`[${f}]`}r.getProperty=U;function B(f){if(typeof f=="string"&&r.IDENTIFIER.test(f))return new t(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}r.getEsmExportName=B;function V(f){return new t(f.toString())}r.regexpCode=V},73150:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const e=a(34710),t=a(57082);var T=a(34710);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return T._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return T.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return T.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return T.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return T.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return T.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return T.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return T.Name}});var h=a(57082);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return h.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return h.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return h.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return h.varKinds}}),r.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class w{optimizeNodes(){return this}optimizeNames(d,k){return this}}class i extends w{constructor(d,k,J){super(),this.varKind=d,this.name=k,this.rhs=J}render({es5:d,_n:k}){const J=d?t.varKinds.var:this.varKind,Le=this.rhs===void 0?"":` = ${this.rhs}`;return`${J} ${this.name}${Le};`+k}optimizeNames(d,k){if(!!d[this.name.str])return this.rhs&&(this.rhs=De(this.rhs,d,k)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class E extends w{constructor(d,k,J){super(),this.lhs=d,this.rhs=k,this.sideEffects=J}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,k){if(!(this.lhs instanceof e.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=De(this.rhs,d,k),this}get names(){const d=this.lhs instanceof e.Name?{}:{...this.lhs.names};return He(d,this.rhs)}}class c extends E{constructor(d,k,J,Le){super(d,J,Le),this.op=k}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class A extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class S extends w{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class F extends w{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,k){return this.code=De(this.code,d,k),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class U extends w{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((k,J)=>k+J.render(d),"")}optimizeNodes(){const{nodes:d}=this;let k=d.length;for(;k--;){const J=d[k].optimizeNodes();Array.isArray(J)?d.splice(k,1,...J):J?d[k]=J:d.splice(k,1)}return d.length>0?this:void 0}optimizeNames(d,k){const{nodes:J}=this;let Le=J.length;for(;Le--;){const Me=J[Le];Me.optimizeNames(d,k)||(et(d,Me.names),J.splice(Le,1))}return J.length>0?this:void 0}get names(){return this.nodes.reduce((d,k)=>ce(d,k.names),{})}}class B extends U{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class V extends U{}class f extends B{}f.kind="else";class p extends B{constructor(d,k){super(k),this.condition=d}render(d){let k=`if(${this.condition})`+super.render(d);return this.else&&(k+="else "+this.else.render(d)),k}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let k=this.else;if(k){const J=k.optimizeNodes();k=this.else=Array.isArray(J)?new f(J):J}if(k)return d===!1?k instanceof p?k:k.nodes:this.nodes.length?this:new p(lt(d),k instanceof p?[k]:k.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,k){var J;if(this.else=(J=this.else)===null||J===void 0?void 0:J.optimizeNames(d,k),!!(super.optimizeNames(d,k)||this.else))return this.condition=De(this.condition,d,k),this}get names(){const d=super.names;return He(d,this.condition),this.else&&ce(d,this.else.names),d}}p.kind="if";class I extends B{}I.kind="for";class y extends I{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iteration=De(this.iteration,d,k),this}get names(){return ce(super.names,this.iteration.names)}}class C extends I{constructor(d,k,J,Le){super(),this.varKind=d,this.name=k,this.from=J,this.to=Le}render(d){const k=d.es5?t.varKinds.var:this.varKind,{name:J,from:Le,to:Me}=this;return`for(${k} ${J}=${Le}; ${J}<${Me}; ${J}++)`+super.render(d)}get names(){const d=He(super.names,this.from);return He(d,this.to)}}class N extends I{constructor(d,k,J,Le){super(),this.loop=d,this.varKind=k,this.name=J,this.iterable=Le}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iterable=De(this.iterable,d,k),this}get names(){return ce(super.names,this.iterable.names)}}class R extends B{constructor(d,k,J){super(),this.name=d,this.args=k,this.async=J}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}R.kind="func";class b extends U{render(d){return"return "+super.render(d)}}b.kind="return";class x extends B{render(d){let k="try"+super.render(d);return this.catch&&(k+=this.catch.render(d)),this.finally&&(k+=this.finally.render(d)),k}optimizeNodes(){var d,k;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(d,k){var J,Le;return super.optimizeNames(d,k),(J=this.catch)===null||J===void 0||J.optimizeNames(d,k),(Le=this.finally)===null||Le===void 0||Le.optimizeNames(d,k),this}get names(){const d=super.names;return this.catch&&ce(d,this.catch.names),this.finally&&ce(d,this.finally.names),d}}class H extends B{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}H.kind="catch";class te extends B{render(d){return"finally"+super.render(d)}}te.kind="finally";class oe{constructor(d,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=d,this._scope=new t.Scope({parent:d}),this._nodes=[new V]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,k){const J=this._extScope.value(d,k);return(this._values[J.prefix]||(this._values[J.prefix]=new Set)).add(J),J}getScopeValue(d,k){return this._extScope.getValue(d,k)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,k,J,Le){const Me=this._scope.toName(k);return J!==void 0&&Le&&(this._constants[Me.str]=J),this._leafNode(new i(d,Me,J)),Me}const(d,k,J){return this._def(t.varKinds.const,d,k,J)}let(d,k,J){return this._def(t.varKinds.let,d,k,J)}var(d,k,J){return this._def(t.varKinds.var,d,k,J)}assign(d,k,J){return this._leafNode(new E(d,k,J))}add(d,k){return this._leafNode(new c(d,r.operators.ADD,k))}code(d){return typeof d=="function"?d():d!==e.nil&&this._leafNode(new F(d)),this}object(...d){const k=["{"];for(const[J,Le]of d)k.length>1&&k.push(","),k.push(J),(J!==Le||this.opts.es5)&&(k.push(":"),(0,e.addCodeArg)(k,Le));return k.push("}"),new e._Code(k)}if(d,k,J){if(this._blockNode(new p(d)),k&&J)this.code(k).else().code(J).endIf();else if(k)this.code(k).endIf();else if(J)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new p(d))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(p,f)}_for(d,k){return this._blockNode(d),k&&this.code(k).endFor(),this}for(d,k){return this._for(new y(d),k)}forRange(d,k,J,Le,Me=this.opts.es5?t.varKinds.var:t.varKinds.let){const gt=this._scope.toName(d);return this._for(new C(Me,gt,k,J),()=>Le(gt))}forOf(d,k,J,Le=t.varKinds.const){const Me=this._scope.toName(d);if(this.opts.es5){const gt=k instanceof e.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,e._)`${gt}.length`,nt=>{this.var(Me,(0,e._)`${gt}[${nt}]`),J(Me)})}return this._for(new N("of",Le,Me,k),()=>J(Me))}forIn(d,k,J,Le=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,e._)`Object.keys(${k})`,J);const Me=this._scope.toName(d);return this._for(new N("in",Le,Me,k),()=>J(Me))}endFor(){return this._endBlockNode(I)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new A(d))}return(d){const k=new b;if(this._blockNode(k),this.code(d),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,k,J){if(!k&&!J)throw new Error('CodeGen: "try" without "catch" and "finally"');const Le=new x;if(this._blockNode(Le),this.code(d),k){const Me=this.name("e");this._currNode=Le.catch=new H(Me),k(Me)}return J&&(this._currNode=Le.finally=new te,this.code(J)),this._endBlockNode(H,te)}throw(d){return this._leafNode(new S(d))}block(d,k){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(k),this}endBlock(d){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const J=this._nodes.length-k;if(J<0||d!==void 0&&J!==d)throw new Error(`CodeGen: wrong number of nodes: ${J} vs ${d} expected`);return this._nodes.length=k,this}func(d,k=e.nil,J,Le){return this._blockNode(new R(d,k,J)),Le&&this.code(Le).endFunc(),this}endFunc(){return this._endBlockNode(R)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,k){const J=this._currNode;if(J instanceof d||k&&J instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${d.kind}/${k.kind}`:d.kind}"`)}_elseNode(d){const k=this._currNode;if(!(k instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const k=this._nodes;k[k.length-1]=d}}r.CodeGen=oe;function ce(W,d){for(const k in d)W[k]=(W[k]||0)+(d[k]||0);return W}function He(W,d){return d instanceof e._CodeOrName?ce(W,d.names):W}function De(W,d,k){if(W instanceof e.Name)return J(W);if(!Le(W))return W;return new e._Code(W._items.reduce((Me,gt)=>(gt instanceof e.Name&&(gt=J(gt)),gt instanceof e._Code?Me.push(...gt._items):Me.push(gt),Me),[]));function J(Me){const gt=k[Me.str];return gt===void 0||d[Me.str]!==1?Me:(delete d[Me.str],gt)}function Le(Me){return Me instanceof e._Code&&Me._items.some(gt=>gt instanceof e.Name&&d[gt.str]===1&&k[gt.str]!==void 0)}}function et(W,d){for(const k in d)W[k]=(W[k]||0)-(d[k]||0)}function lt(W){return typeof W=="boolean"||typeof W=="number"||W===null?!W:(0,e._)`!${re(W)}`}r.not=lt;const Et=j(r.operators.AND);function Lt(...W){return W.reduce(Et)}r.and=Lt;const dt=j(r.operators.OR);function he(...W){return W.reduce(dt)}r.or=he;function j(W){return(d,k)=>d===e.nil?k:k===e.nil?d:(0,e._)`${re(d)} ${W} ${re(k)}`}function re(W){return W instanceof e.Name?W:(0,e._)`(${W})`}},57082:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const e=a(34710);class t extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var T;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(T=r.UsedValueState||(r.UsedValueState={})),r.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class h{constructor({prefixes:l,parent:A}={}){this._names={},this._prefixes=l,this._parent=A}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const A=this._names[l]||this._nameGroup(l);return`${l}${A.index++}`}_nameGroup(l){var A,S;if(((S=(A=this._parent)===null||A===void 0?void 0:A._prefixes)===null||S===void 0?void 0:S.has(l))||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}r.Scope=h;class w extends e.Name{constructor(l,A){super(A),this.prefix=l}setValue(l,{property:A,itemIndex:S}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(A)}[${S}]`}}r.ValueScopeName=w;const i=(0,e._)`\n`;class E extends h{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:e.nil}}get(){return this._scope}name(l){return new w(l,this._newName(l))}value(l,A){var S;if(A.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const F=this.toName(l),{prefix:U}=F,B=(S=A.key)!==null&&S!==void 0?S:A.ref;let V=this._values[U];if(V){const I=V.get(B);if(I)return I}else V=this._values[U]=new Map;V.set(B,F);const f=this._scope[U]||(this._scope[U]=[]),p=f.length;return f[p]=A.ref,F.setValue(A,{property:U,itemIndex:p}),F}getValue(l,A){const S=this._values[l];if(!!S)return S.get(A)}scopeRefs(l,A=this._values){return this._reduceValues(A,S=>{if(S.scopePath===void 0)throw new Error(`CodeGen: name "${S}" has no value`);return(0,e._)`${l}${S.scopePath}`})}scopeCode(l=this._values,A,S){return this._reduceValues(l,F=>{if(F.value===void 0)throw new Error(`CodeGen: name "${F}" has no value`);return F.value.code},A,S)}_reduceValues(l,A,S={},F){let U=e.nil;for(const B in l){const V=l[B];if(!V)continue;const f=S[B]=S[B]||new Map;V.forEach(p=>{if(f.has(p))return;f.set(p,T.Started);let I=A(p);if(I){const y=this.opts.es5?r.varKinds.var:r.varKinds.const;U=(0,e._)`${U}${y} ${p} = ${I};${this.opts._n}`}else if(I=F==null?void 0:F(p))U=(0,e._)`${U}${I}${this.opts._n}`;else throw new t(p);f.set(p,T.Completed)})}return U}}r.ValueScope=E},76883:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const e=a(73150),t=a(92303),T=a(39213);r.keywordError={message:({keyword:f})=>(0,e.str)`must pass "${f}" keyword validation`},r.keyword$DataError={message:({keyword:f,schemaType:p})=>p?(0,e.str)`"${f}" keyword must be ${p} ($data)`:(0,e.str)`"${f}" keyword is invalid ($data)`};function h(f,p=r.keywordError,I,y){const{it:C}=f,{gen:N,compositeRule:R,allErrors:b}=C,x=S(f,p,I);(y!=null?y:R||b)?c(N,x):l(C,(0,e._)`[${x}]`)}r.reportError=h;function w(f,p=r.keywordError,I){const{it:y}=f,{gen:C,compositeRule:N,allErrors:R}=y,b=S(f,p,I);c(C,b),N||R||l(y,T.default.vErrors)}r.reportExtraError=w;function i(f,p){f.assign(T.default.errors,p),f.if((0,e._)`${T.default.vErrors} !== null`,()=>f.if(p,()=>f.assign((0,e._)`${T.default.vErrors}.length`,p),()=>f.assign(T.default.vErrors,null)))}r.resetErrorsCount=i;function E({gen:f,keyword:p,schemaValue:I,data:y,errsCount:C,it:N}){if(C===void 0)throw new Error("ajv implementation error");const R=f.name("err");f.forRange("i",C,T.default.errors,b=>{f.const(R,(0,e._)`${T.default.vErrors}[${b}]`),f.if((0,e._)`${R}.instancePath === undefined`,()=>f.assign((0,e._)`${R}.instancePath`,(0,e.strConcat)(T.default.instancePath,N.errorPath))),f.assign((0,e._)`${R}.schemaPath`,(0,e.str)`${N.errSchemaPath}/${p}`),N.opts.verbose&&(f.assign((0,e._)`${R}.schema`,I),f.assign((0,e._)`${R}.data`,y))})}r.extendErrors=E;function c(f,p){const I=f.const("err",p);f.if((0,e._)`${T.default.vErrors} === null`,()=>f.assign(T.default.vErrors,(0,e._)`[${I}]`),(0,e._)`${T.default.vErrors}.push(${I})`),f.code((0,e._)`${T.default.errors}++`)}function l(f,p){const{gen:I,validateName:y,schemaEnv:C}=f;C.$async?I.throw((0,e._)`new ${f.ValidationError}(${p})`):(I.assign((0,e._)`${y}.errors`,p),I.return(!1))}const A={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function S(f,p,I){const{createErrors:y}=f.it;return y===!1?(0,e._)`{}`:F(f,p,I)}function F(f,p,I={}){const{gen:y,it:C}=f,N=[U(C,I),B(f,I)];return V(f,p,N),y.object(...N)}function U({errorPath:f},{instancePath:p}){const I=p?(0,e.str)`${f}${(0,t.getErrorPath)(p,t.Type.Str)}`:f;return[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,I)]}function B({keyword:f,it:{errSchemaPath:p}},{schemaPath:I,parentSchema:y}){let C=y?p:(0,e.str)`${p}/${f}`;return I&&(C=(0,e.str)`${C}${(0,t.getErrorPath)(I,t.Type.Str)}`),[A.schemaPath,C]}function V(f,{params:p,message:I},y){const{keyword:C,data:N,schemaValue:R,it:b}=f,{opts:x,propertyName:H,topSchemaRef:te,schemaPath:oe}=b;y.push([A.keyword,C],[A.params,typeof p=="function"?p(f):p||(0,e._)`{}`]),x.messages&&y.push([A.message,typeof I=="function"?I(f):I]),x.verbose&&y.push([A.schema,R],[A.parentSchema,(0,e._)`${te}${oe}`],[T.default.data,N]),H&&y.push([A.propertyName,H])}},41932:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const e=a(73150),t=a(1024),T=a(39213),h=a(17917),w=a(92303),i=a(76324);class E{constructor(I){var y;this.refs={},this.dynamicAnchors={};let C;typeof I.schema=="object"&&(C=I.schema),this.schema=I.schema,this.schemaId=I.schemaId,this.root=I.root||this,this.baseId=(y=I.baseId)!==null&&y!==void 0?y:(0,h.normalizeId)(C==null?void 0:C[I.schemaId||"$id"]),this.schemaPath=I.schemaPath,this.localRefs=I.localRefs,this.meta=I.meta,this.$async=C==null?void 0:C.$async,this.refs={}}}r.SchemaEnv=E;function c(p){const I=S.call(this,p);if(I)return I;const y=(0,h.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:C,lines:N}=this.opts.code,{ownProperties:R}=this.opts,b=new e.CodeGen(this.scope,{es5:C,lines:N,ownProperties:R});let x;p.$async&&(x=b.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const H=b.scopeName("validate");p.validateName=H;const te={gen:b,allErrors:this.opts.allErrors,data:T.default.data,parentData:T.default.parentData,parentDataProperty:T.default.parentDataProperty,dataNames:[T.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,e.stringify)(p.schema)}:{ref:p.schema}),validateName:H,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:e.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let oe;try{this._compilations.add(p),(0,i.validateFunctionCode)(te),b.optimize(this.opts.code.optimize);const ce=b.toString();oe=`${b.scopeRefs(T.default.scope)}return ${ce}`,this.opts.code.process&&(oe=this.opts.code.process(oe,p));const De=new Function(`${T.default.self}`,`${T.default.scope}`,oe)(this,this.scope.get());if(this.scope.value(H,{ref:De}),De.errors=null,De.schema=p.schema,De.schemaEnv=p,p.$async&&(De.$async=!0),this.opts.code.source===!0&&(De.source={validateName:H,validateCode:ce,scopeValues:b._values}),this.opts.unevaluated){const{props:et,items:lt}=te;De.evaluated={props:et instanceof e.Name?void 0:et,items:lt instanceof e.Name?void 0:lt,dynamicProps:et instanceof e.Name,dynamicItems:lt instanceof e.Name},De.source&&(De.source.evaluated=(0,e.stringify)(De.evaluated))}return p.validate=De,p}catch(ce){throw delete p.validate,delete p.validateName,oe&&this.logger.error("Error compiling schema, function code:",oe),ce}finally{this._compilations.delete(p)}}r.compileSchema=c;function l(p,I,y){var C;y=(0,h.resolveUrl)(this.opts.uriResolver,I,y);const N=p.refs[y];if(N)return N;let R=U.call(this,p,y);if(R===void 0){const b=(C=p.localRefs)===null||C===void 0?void 0:C[y],{schemaId:x}=this.opts;b&&(R=new E({schema:b,schemaId:x,root:p,baseId:I}))}if(R!==void 0)return p.refs[y]=A.call(this,R)}r.resolveRef=l;function A(p){return(0,h.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:c.call(this,p)}function S(p){for(const I of this._compilations)if(F(I,p))return I}r.getCompilingSchema=S;function F(p,I){return p.schema===I.schema&&p.root===I.root&&p.baseId===I.baseId}function U(p,I){let y;for(;typeof(y=this.refs[I])=="string";)I=y;return y||this.schemas[I]||B.call(this,p,I)}function B(p,I){const y=this.opts.uriResolver.parse(I),C=(0,h._getFullPath)(this.opts.uriResolver,y);let N=(0,h.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&C===N)return f.call(this,y,p);const R=(0,h.normalizeId)(C),b=this.refs[R]||this.schemas[R];if(typeof b=="string"){const x=B.call(this,p,b);return typeof(x==null?void 0:x.schema)!="object"?void 0:f.call(this,y,x)}if(typeof(b==null?void 0:b.schema)=="object"){if(b.validate||c.call(this,b),R===(0,h.normalizeId)(I)){const{schema:x}=b,{schemaId:H}=this.opts,te=x[H];return te&&(N=(0,h.resolveUrl)(this.opts.uriResolver,N,te)),new E({schema:x,schemaId:H,root:p,baseId:N})}return f.call(this,y,b)}}r.resolveSchema=B;const V=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function f(p,{baseId:I,schema:y,root:C}){var N;if(((N=p.fragment)===null||N===void 0?void 0:N[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const H=y[(0,w.unescapeFragment)(x)];if(H===void 0)return;y=H;const te=typeof y=="object"&&y[this.opts.schemaId];!V.has(x)&&te&&(I=(0,h.resolveUrl)(this.opts.uriResolver,I,te))}let R;if(typeof y!="boolean"&&y.$ref&&!(0,w.schemaHasRulesButRef)(y,this.RULES)){const x=(0,h.resolveUrl)(this.opts.uriResolver,I,y.$ref);R=B.call(this,C,x)}const{schemaId:b}=this.opts;if(R=R||new E({schema:y,schemaId:b,root:C,baseId:I}),R.schema!==R.root.schema)return R}},39213:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};r.default=t},60906:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(17917);class t extends Error{constructor(h,w,i,E){super(E||`can't resolve reference ${i} from id ${w}`),this.missingRef=(0,e.resolveUrl)(h,w,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(h,this.missingRef))}}r.default=t},17917:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const e=a(92303),t=a(69378),T=a(19522),h=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function w(f,p=!0){return typeof f=="boolean"?!0:p===!0?!E(f):p?c(f)<=p:!1}r.inlineRef=w;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function E(f){for(const p in f){if(i.has(p))return!0;const I=f[p];if(Array.isArray(I)&&I.some(E)||typeof I=="object"&&E(I))return!0}return!1}function c(f){let p=0;for(const I in f){if(I==="$ref")return 1/0;if(p++,!h.has(I)&&(typeof f[I]=="object"&&(0,e.eachItem)(f[I],y=>p+=c(y)),p===1/0))return 1/0}return p}function l(f,p="",I){I!==!1&&(p=F(p));const y=f.parse(p);return A(f,y)}r.getFullPath=l;function A(f,p){return f.serialize(p).split("#")[0]+"#"}r._getFullPath=A;const S=/#\/?$/;function F(f){return f?f.replace(S,""):""}r.normalizeId=F;function U(f,p,I){return I=F(I),f.resolve(p,I)}r.resolveUrl=U;const B=/^[a-z_][-a-z0-9._]*$/i;function V(f,p){if(typeof f=="boolean")return{};const{schemaId:I,uriResolver:y}=this.opts,C=F(f[I]||p),N={"":C},R=l(y,C,!1),b={},x=new Set;return T(f,{allKeys:!0},(oe,ce,He,De)=>{if(De===void 0)return;const et=R+ce;let lt=N[De];typeof oe[I]=="string"&&(lt=Et.call(this,oe[I])),Lt.call(this,oe.$anchor),Lt.call(this,oe.$dynamicAnchor),N[ce]=lt;function Et(dt){const he=this.opts.uriResolver.resolve;if(dt=F(lt?he(lt,dt):dt),x.has(dt))throw te(dt);x.add(dt);let j=this.refs[dt];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?H(oe,j.schema,dt):dt!==F(et)&&(dt[0]==="#"?(H(oe,b[dt],dt),b[dt]=oe):this.refs[dt]=et),dt}function Lt(dt){if(typeof dt=="string"){if(!B.test(dt))throw new Error(`invalid anchor "${dt}"`);Et.call(this,`#${dt}`)}}}),b;function H(oe,ce,He){if(ce!==void 0&&!t(oe,ce))throw te(He)}function te(oe){return new Error(`reference "${oe}" resolves to more than one schema`)}}r.getSchemaRefs=V},61218:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const a=["string","number","integer","boolean","null","object","array"],e=new Set(a);function t(h){return typeof h=="string"&&e.has(h)}r.isJSONType=t;function T(){const h={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...h,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},h.number,h.string,h.array,h.object],post:{rules:[]},all:{},keywords:{}}}r.getRules=T},92303:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const e=a(73150),t=a(34710);function T(R){const b={};for(const x of R)b[x]=!0;return b}r.toHash=T;function h(R,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(w(R,b),!i(b,R.self.RULES.all))}r.alwaysValidSchema=h;function w(R,b=R.schema){const{opts:x,self:H}=R;if(!x.strictSchema||typeof b=="boolean")return;const te=H.RULES.keywords;for(const oe in b)te[oe]||N(R,`unknown keyword: "${oe}"`)}r.checkUnknownRules=w;function i(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(b[x])return!0;return!1}r.schemaHasRules=i;function E(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(x!=="$ref"&&b.all[x])return!0;return!1}r.schemaHasRulesButRef=E;function c({topSchemaRef:R,schemaPath:b},x,H,te){if(!te){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,e._)`${x}`}return(0,e._)`${R}${b}${(0,e.getProperty)(H)}`}r.schemaRefOrVal=c;function l(R){return F(decodeURIComponent(R))}r.unescapeFragment=l;function A(R){return encodeURIComponent(S(R))}r.escapeFragment=A;function S(R){return typeof R=="number"?`${R}`:R.replace(/~/g,"~0").replace(/\//g,"~1")}r.escapeJsonPointer=S;function F(R){return R.replace(/~1/g,"/").replace(/~0/g,"~")}r.unescapeJsonPointer=F;function U(R,b){if(Array.isArray(R))for(const x of R)b(x);else b(R)}r.eachItem=U;function B({mergeNames:R,mergeToName:b,mergeValues:x,resultToName:H}){return(te,oe,ce,He)=>{const De=ce===void 0?oe:ce instanceof e.Name?(oe instanceof e.Name?R(te,oe,ce):b(te,oe,ce),ce):oe instanceof e.Name?(b(te,ce,oe),oe):x(oe,ce);return He===e.Name&&!(De instanceof e.Name)?H(te,De):De}}r.mergeEvaluated={props:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>{R.if((0,e._)`${b} === true`,()=>R.assign(x,!0),()=>R.assign(x,(0,e._)`${x} || {}`).code((0,e._)`Object.assign(${x}, ${b})`))}),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>{b===!0?R.assign(x,!0):(R.assign(x,(0,e._)`${x} || {}`),f(R,x,b))}),mergeValues:(R,b)=>R===!0?!0:{...R,...b},resultToName:V}),items:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>R.assign(x,(0,e._)`${b} === true ? true : ${x} > ${b} ? ${x} : ${b}`)),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>R.assign(x,b===!0?!0:(0,e._)`${x} > ${b} ? ${x} : ${b}`)),mergeValues:(R,b)=>R===!0?!0:Math.max(R,b),resultToName:(R,b)=>R.var("items",b)})};function V(R,b){if(b===!0)return R.var("props",!0);const x=R.var("props",(0,e._)`{}`);return b!==void 0&&f(R,x,b),x}r.evaluatedPropsToName=V;function f(R,b,x){Object.keys(x).forEach(H=>R.assign((0,e._)`${b}${(0,e.getProperty)(H)}`,!0))}r.setEvaluated=f;const p={};function I(R,b){return R.scopeValue("func",{ref:b,code:p[b.code]||(p[b.code]=new t._Code(b.code))})}r.useFunc=I;var y;(function(R){R[R.Num=0]="Num",R[R.Str=1]="Str"})(y=r.Type||(r.Type={}));function C(R,b,x){if(R instanceof e.Name){const H=b===y.Num;return x?H?(0,e._)`"[" + ${R} + "]"`:(0,e._)`"['" + ${R} + "']"`:H?(0,e._)`"/" + ${R}`:(0,e._)`"/" + ${R}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,e.getProperty)(R).toString():"/"+S(R)}r.getErrorPath=C;function N(R,b,x=R.opts.strictSchema){if(!!x){if(b=`strict mode: ${b}`,x===!0)throw new Error(b);R.self.logger.warn(b)}}r.checkStrictMode=N},31155:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0;function a({schema:T,self:h},w){const i=h.RULES.types[w];return i&&i!==!0&&e(T,i)}r.schemaHasRulesForType=a;function e(T,h){return h.rules.some(w=>t(T,w))}r.shouldUseGroup=e;function t(T,h){var w;return T[h.keyword]!==void 0||((w=h.definition.implements)===null||w===void 0?void 0:w.some(i=>T[i]!==void 0))}r.shouldUseRule=t},16256:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const e=a(76883),t=a(73150),T=a(39213),h={message:"boolean schema is false"};function w(c){const{gen:l,schema:A,validateName:S}=c;A===!1?E(c,!1):typeof A=="object"&&A.$async===!0?l.return(T.default.data):(l.assign((0,t._)`${S}.errors`,null),l.return(!0))}r.topBoolOrEmptySchema=w;function i(c,l){const{gen:A,schema:S}=c;S===!1?(A.var(l,!1),E(c)):A.var(l,!0)}r.boolOrEmptySchema=i;function E(c,l){const{gen:A,data:S}=c,F={gen:A,keyword:"false schema",data:S,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(F,h,void 0,l)}},52503:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const e=a(61218),t=a(31155),T=a(76883),h=a(73150),w=a(92303);var i;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(i=r.DataType||(r.DataType={}));function E(y){const C=c(y.type);if(C.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&C.push("null")}return C}r.getSchemaTypes=E;function c(y){const C=Array.isArray(y)?y:y?[y]:[];if(C.every(e.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}r.getJSONTypes=c;function l(y,C){const{gen:N,data:R,opts:b}=y,x=S(C,b.coerceTypes),H=C.length>0&&!(x.length===0&&C.length===1&&(0,t.schemaHasRulesForType)(y,C[0]));if(H){const te=V(C,R,b.strictNumbers,i.Wrong);N.if(te,()=>{x.length?F(y,C,x):p(y)})}return H}r.coerceAndCheckDataType=l;const A=new Set(["string","number","integer","boolean","null"]);function S(y,C){return C?y.filter(N=>A.has(N)||C==="array"&&N==="array"):[]}function F(y,C,N){const{gen:R,data:b,opts:x}=y,H=R.let("dataType",(0,h._)`typeof ${b}`),te=R.let("coerced",(0,h._)`undefined`);x.coerceTypes==="array"&&R.if((0,h._)`${H} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>R.assign(b,(0,h._)`${b}[0]`).assign(H,(0,h._)`typeof ${b}`).if(V(C,b,x.strictNumbers),()=>R.assign(te,b))),R.if((0,h._)`${te} !== undefined`);for(const ce of N)(A.has(ce)||ce==="array"&&x.coerceTypes==="array")&&oe(ce);R.else(),p(y),R.endIf(),R.if((0,h._)`${te} !== undefined`,()=>{R.assign(b,te),U(y,te)});function oe(ce){switch(ce){case"string":R.elseIf((0,h._)`${H} == "number" || ${H} == "boolean"`).assign(te,(0,h._)`"" + ${b}`).elseIf((0,h._)`${b} === null`).assign(te,(0,h._)`""`);return;case"number":R.elseIf((0,h._)`${H} == "boolean" || ${b} === null
              || (${H} == "string" && ${b} && ${b} == +${b})`).assign(te,(0,h._)`+${b}`);return;case"integer":R.elseIf((0,h._)`${H} === "boolean" || ${b} === null
              || (${H} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(te,(0,h._)`+${b}`);return;case"boolean":R.elseIf((0,h._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(te,!1).elseIf((0,h._)`${b} === "true" || ${b} === 1`).assign(te,!0);return;case"null":R.elseIf((0,h._)`${b} === "" || ${b} === 0 || ${b} === false`),R.assign(te,null);return;case"array":R.elseIf((0,h._)`${H} === "string" || ${H} === "number"
              || ${H} === "boolean" || ${b} === null`).assign(te,(0,h._)`[${b}]`)}}}function U({gen:y,parentData:C,parentDataProperty:N},R){y.if((0,h._)`${C} !== undefined`,()=>y.assign((0,h._)`${C}[${N}]`,R))}function B(y,C,N,R=i.Correct){const b=R===i.Correct?h.operators.EQ:h.operators.NEQ;let x;switch(y){case"null":return(0,h._)`${C} ${b} null`;case"array":x=(0,h._)`Array.isArray(${C})`;break;case"object":x=(0,h._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":x=H((0,h._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":x=H();break;default:return(0,h._)`typeof ${C} ${b} ${y}`}return R===i.Correct?x:(0,h.not)(x);function H(te=h.nil){return(0,h.and)((0,h._)`typeof ${C} == "number"`,te,N?(0,h._)`isFinite(${C})`:h.nil)}}r.checkDataType=B;function V(y,C,N,R){if(y.length===1)return B(y[0],C,N,R);let b;const x=(0,w.toHash)(y);if(x.array&&x.object){const H=(0,h._)`typeof ${C} != "object"`;b=x.null?H:(0,h._)`!${C} || ${H}`,delete x.null,delete x.array,delete x.object}else b=h.nil;x.number&&delete x.integer;for(const H in x)b=(0,h.and)(b,B(H,C,N,R));return b}r.checkDataTypes=V;const f={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:C})=>typeof y=="string"?(0,h._)`{type: ${y}}`:(0,h._)`{type: ${C}}`};function p(y){const C=I(y);(0,T.reportError)(C,f)}r.reportTypeError=p;function I(y){const{gen:C,data:N,schema:R}=y,b=(0,w.schemaRefOrVal)(y,R,"type");return{gen:C,keyword:"type",data:N,schema:R.type,schemaCode:b,schemaValue:b,parentSchema:R,params:{},it:y}}},30096:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const e=a(73150),t=a(92303);function T(w,i){const{properties:E,items:c}=w.schema;if(i==="object"&&E)for(const l in E)h(w,l,E[l].default);else i==="array"&&Array.isArray(c)&&c.forEach((l,A)=>h(w,A,l.default))}r.assignDefaults=T;function h(w,i,E){const{gen:c,compositeRule:l,data:A,opts:S}=w;if(E===void 0)return;const F=(0,e._)`${A}${(0,e.getProperty)(i)}`;if(l){(0,t.checkStrictMode)(w,`default is ignored for: ${F}`);return}let U=(0,e._)`${F} === undefined`;S.useDefaults==="empty"&&(U=(0,e._)`${U} || ${F} === null || ${F} === ""`),c.if(U,(0,e._)`${F} = ${(0,e.stringify)(E)}`)}},76324:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const e=a(16256),t=a(52503),T=a(31155),h=a(52503),w=a(30096),i=a(16294),E=a(55571),c=a(73150),l=a(39213),A=a(17917),S=a(92303),F=a(76883);function U(M){if(R(M)&&(x(M),N(M))){p(M);return}B(M,()=>(0,e.topBoolOrEmptySchema)(M))}r.validateFunctionCode=U;function B({gen:M,validateName:Z,schema:ie,schemaEnv:we,opts:je},Xe){je.code.es5?M.func(Z,(0,c._)`${l.default.data}, ${l.default.valCxt}`,we.$async,()=>{M.code((0,c._)`"use strict"; ${y(ie,je)}`),f(M,je),M.code(Xe)}):M.func(Z,(0,c._)`${l.default.data}, ${V(je)}`,we.$async,()=>M.code(y(ie,je)).code(Xe))}function V(M){return(0,c._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${M.dynamicRef?(0,c._)`, ${l.default.dynamicAnchors}={}`:c.nil}}={}`}function f(M,Z){M.if(l.default.valCxt,()=>{M.var(l.default.instancePath,(0,c._)`${l.default.valCxt}.${l.default.instancePath}`),M.var(l.default.parentData,(0,c._)`${l.default.valCxt}.${l.default.parentData}`),M.var(l.default.parentDataProperty,(0,c._)`${l.default.valCxt}.${l.default.parentDataProperty}`),M.var(l.default.rootData,(0,c._)`${l.default.valCxt}.${l.default.rootData}`),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{M.var(l.default.instancePath,(0,c._)`""`),M.var(l.default.parentData,(0,c._)`undefined`),M.var(l.default.parentDataProperty,(0,c._)`undefined`),M.var(l.default.rootData,l.default.data),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`{}`)})}function p(M){const{schema:Z,opts:ie,gen:we}=M;B(M,()=>{ie.$comment&&Z.$comment&&De(M),oe(M),we.let(l.default.vErrors,null),we.let(l.default.errors,0),ie.unevaluated&&I(M),H(M),et(M)})}function I(M){const{gen:Z,validateName:ie}=M;M.evaluated=Z.const("evaluated",(0,c._)`${ie}.evaluated`),Z.if((0,c._)`${M.evaluated}.dynamicProps`,()=>Z.assign((0,c._)`${M.evaluated}.props`,(0,c._)`undefined`)),Z.if((0,c._)`${M.evaluated}.dynamicItems`,()=>Z.assign((0,c._)`${M.evaluated}.items`,(0,c._)`undefined`))}function y(M,Z){const ie=typeof M=="object"&&M[Z.schemaId];return ie&&(Z.code.source||Z.code.process)?(0,c._)`/*# sourceURL=${ie} */`:c.nil}function C(M,Z){if(R(M)&&(x(M),N(M))){b(M,Z);return}(0,e.boolOrEmptySchema)(M,Z)}function N({schema:M,self:Z}){if(typeof M=="boolean")return!M;for(const ie in M)if(Z.RULES.all[ie])return!0;return!1}function R(M){return typeof M.schema!="boolean"}function b(M,Z){const{schema:ie,gen:we,opts:je}=M;je.$comment&&ie.$comment&&De(M),ce(M),He(M);const Xe=we.const("_errs",l.default.errors);H(M,Xe),we.var(Z,(0,c._)`${Xe} === ${l.default.errors}`)}function x(M){(0,S.checkUnknownRules)(M),te(M)}function H(M,Z){if(M.opts.jtd)return Et(M,[],!1,Z);const ie=(0,t.getSchemaTypes)(M.schema),we=(0,t.coerceAndCheckDataType)(M,ie);Et(M,ie,!we,Z)}function te(M){const{schema:Z,errSchemaPath:ie,opts:we,self:je}=M;Z.$ref&&we.ignoreKeywordsWithRef&&(0,S.schemaHasRulesButRef)(Z,je.RULES)&&je.logger.warn(`$ref: keywords ignored in schema at path "${ie}"`)}function oe(M){const{schema:Z,opts:ie}=M;Z.default!==void 0&&ie.useDefaults&&ie.strictSchema&&(0,S.checkStrictMode)(M,"default is ignored in the schema root")}function ce(M){const Z=M.schema[M.opts.schemaId];Z&&(M.baseId=(0,A.resolveUrl)(M.opts.uriResolver,M.baseId,Z))}function He(M){if(M.schema.$async&&!M.schemaEnv.$async)throw new Error("async schema in sync schema")}function De({gen:M,schemaEnv:Z,schema:ie,errSchemaPath:we,opts:je}){const Xe=ie.$comment;if(je.$comment===!0)M.code((0,c._)`${l.default.self}.logger.log(${Xe})`);else if(typeof je.$comment=="function"){const Mt=(0,c.str)`${we}/$comment`,Ut=M.scopeValue("root",{ref:Z.root});M.code((0,c._)`${l.default.self}.opts.$comment(${Xe}, ${Mt}, ${Ut}.schema)`)}}function et(M){const{gen:Z,schemaEnv:ie,validateName:we,ValidationError:je,opts:Xe}=M;ie.$async?Z.if((0,c._)`${l.default.errors} === 0`,()=>Z.return(l.default.data),()=>Z.throw((0,c._)`new ${je}(${l.default.vErrors})`)):(Z.assign((0,c._)`${we}.errors`,l.default.vErrors),Xe.unevaluated&&lt(M),Z.return((0,c._)`${l.default.errors} === 0`))}function lt({gen:M,evaluated:Z,props:ie,items:we}){ie instanceof c.Name&&M.assign((0,c._)`${Z}.props`,ie),we instanceof c.Name&&M.assign((0,c._)`${Z}.items`,we)}function Et(M,Z,ie,we){const{gen:je,schema:Xe,data:Mt,allErrors:Ut,opts:Gt,self:zt}=M,{RULES:_t}=zt;if(Xe.$ref&&(Gt.ignoreKeywordsWithRef||!(0,S.schemaHasRulesButRef)(Xe,_t))){je.block(()=>Le(M,"$ref",_t.all.$ref.definition));return}Gt.jtd||dt(M,Z),je.block(()=>{for(const It of _t.rules)on(It);on(_t.post)});function on(It){!(0,T.shouldUseGroup)(Xe,It)||(It.type?(je.if((0,h.checkDataType)(It.type,Mt,Gt.strictNumbers)),Lt(M,It),Z.length===1&&Z[0]===It.type&&ie&&(je.else(),(0,h.reportTypeError)(M)),je.endIf()):Lt(M,It),Ut||je.if((0,c._)`${l.default.errors} === ${we||0}`))}}function Lt(M,Z){const{gen:ie,schema:we,opts:{useDefaults:je}}=M;je&&(0,w.assignDefaults)(M,Z.type),ie.block(()=>{for(const Xe of Z.rules)(0,T.shouldUseRule)(we,Xe)&&Le(M,Xe.keyword,Xe.definition,Z.type)})}function dt(M,Z){M.schemaEnv.meta||!M.opts.strictTypes||(he(M,Z),M.opts.allowUnionTypes||j(M,Z),re(M,M.dataTypes))}function he(M,Z){if(!!Z.length){if(!M.dataTypes.length){M.dataTypes=Z;return}Z.forEach(ie=>{d(M.dataTypes,ie)||k(M,`type "${ie}" not allowed by context "${M.dataTypes.join(",")}"`)}),M.dataTypes=M.dataTypes.filter(ie=>d(Z,ie))}}function j(M,Z){Z.length>1&&!(Z.length===2&&Z.includes("null"))&&k(M,"use allowUnionTypes to allow union type keyword")}function re(M,Z){const ie=M.self.RULES.all;for(const we in ie){const je=ie[we];if(typeof je=="object"&&(0,T.shouldUseRule)(M.schema,je)){const{type:Xe}=je.definition;Xe.length&&!Xe.some(Mt=>W(Z,Mt))&&k(M,`missing type "${Xe.join(",")}" for keyword "${we}"`)}}}function W(M,Z){return M.includes(Z)||Z==="number"&&M.includes("integer")}function d(M,Z){return M.includes(Z)||Z==="integer"&&M.includes("number")}function k(M,Z){Z+=` at "${M.schemaEnv.baseId+M.errSchemaPath}" (strictTypes)`,(0,S.checkStrictMode)(M,Z,M.opts.strictTypes)}class J{constructor(Z,ie,we){if((0,i.validateKeywordUsage)(Z,ie,we),this.gen=Z.gen,this.allErrors=Z.allErrors,this.keyword=we,this.data=Z.data,this.schema=Z.schema[we],this.$data=ie.$data&&Z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,S.schemaRefOrVal)(Z,this.schema,we,this.$data),this.schemaType=ie.schemaType,this.parentSchema=Z.schema,this.params={},this.it=Z,this.def=ie,this.$data)this.schemaCode=Z.gen.const("vSchema",nt(this.$data,Z));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,ie.schemaType,ie.allowUndefined))throw new Error(`${we} value must be ${JSON.stringify(ie.schemaType)}`);("code"in ie?ie.trackErrors:ie.errors!==!1)&&(this.errsCount=Z.gen.const("_errs",l.default.errors))}result(Z,ie,we){this.failResult((0,c.not)(Z),ie,we)}failResult(Z,ie,we){this.gen.if(Z),we?we():this.error(),ie?(this.gen.else(),ie(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Z,ie){this.failResult((0,c.not)(Z),void 0,ie)}fail(Z){if(Z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Z){if(!this.$data)return this.fail(Z);const{schemaCode:ie}=this;this.fail((0,c._)`${ie} !== undefined && (${(0,c.or)(this.invalid$data(),Z)})`)}error(Z,ie,we){if(ie){this.setParams(ie),this._error(Z,we),this.setParams({});return}this._error(Z,we)}_error(Z,ie){(Z?F.reportExtraError:F.reportError)(this,this.def.error,ie)}$dataError(){(0,F.reportError)(this,this.def.$dataError||F.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,F.resetErrorsCount)(this.gen,this.errsCount)}ok(Z){this.allErrors||this.gen.if(Z)}setParams(Z,ie){ie?Object.assign(this.params,Z):this.params=Z}block$data(Z,ie,we=c.nil){this.gen.block(()=>{this.check$data(Z,we),ie()})}check$data(Z=c.nil,ie=c.nil){if(!this.$data)return;const{gen:we,schemaCode:je,schemaType:Xe,def:Mt}=this;we.if((0,c.or)((0,c._)`${je} === undefined`,ie)),Z!==c.nil&&we.assign(Z,!0),(Xe.length||Mt.validateSchema)&&(we.elseIf(this.invalid$data()),this.$dataError(),Z!==c.nil&&we.assign(Z,!1)),we.else()}invalid$data(){const{gen:Z,schemaCode:ie,schemaType:we,def:je,it:Xe}=this;return(0,c.or)(Mt(),Ut());function Mt(){if(we.length){if(!(ie instanceof c.Name))throw new Error("ajv implementation error");const Gt=Array.isArray(we)?we:[we];return(0,c._)`${(0,h.checkDataTypes)(Gt,ie,Xe.opts.strictNumbers,h.DataType.Wrong)}`}return c.nil}function Ut(){if(je.validateSchema){const Gt=Z.scopeValue("validate$data",{ref:je.validateSchema});return(0,c._)`!${Gt}(${ie})`}return c.nil}}subschema(Z,ie){const we=(0,E.getSubschema)(this.it,Z);(0,E.extendSubschemaData)(we,this.it,Z),(0,E.extendSubschemaMode)(we,Z);const je={...this.it,...we,items:void 0,props:void 0};return C(je,ie),je}mergeEvaluated(Z,ie){const{it:we,gen:je}=this;!we.opts.unevaluated||(we.props!==!0&&Z.props!==void 0&&(we.props=S.mergeEvaluated.props(je,Z.props,we.props,ie)),we.items!==!0&&Z.items!==void 0&&(we.items=S.mergeEvaluated.items(je,Z.items,we.items,ie)))}mergeValidEvaluated(Z,ie){const{it:we,gen:je}=this;if(we.opts.unevaluated&&(we.props!==!0||we.items!==!0))return je.if(ie,()=>this.mergeEvaluated(Z,c.Name)),!0}}r.KeywordCxt=J;function Le(M,Z,ie,we){const je=new J(M,ie,Z);"code"in ie?ie.code(je,we):je.$data&&ie.validate?(0,i.funcKeywordCode)(je,ie):"macro"in ie?(0,i.macroKeywordCode)(je,ie):(ie.compile||ie.validate)&&(0,i.funcKeywordCode)(je,ie)}const Me=/^\/(?:[^~]|~0|~1)*$/,gt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function nt(M,{dataLevel:Z,dataNames:ie,dataPathArr:we}){let je,Xe;if(M==="")return l.default.rootData;if(M[0]==="/"){if(!Me.test(M))throw new Error(`Invalid JSON-pointer: ${M}`);je=M,Xe=l.default.rootData}else{const zt=gt.exec(M);if(!zt)throw new Error(`Invalid JSON-pointer: ${M}`);const _t=+zt[1];if(je=zt[2],je==="#"){if(_t>=Z)throw new Error(Gt("property/index",_t));return we[Z-_t]}if(_t>Z)throw new Error(Gt("data",_t));if(Xe=ie[Z-_t],!je)return Xe}let Mt=Xe;const Ut=je.split("/");for(const zt of Ut)zt&&(Xe=(0,c._)`${Xe}${(0,c.getProperty)((0,S.unescapeJsonPointer)(zt))}`,Mt=(0,c._)`${Mt} && ${Xe}`);return Mt;function Gt(zt,_t){return`Cannot access ${zt} ${_t} levels up, current level is ${Z}`}}r.getData=nt},16294:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const e=a(73150),t=a(39213),T=a(20328),h=a(76883);function w(U,B){const{gen:V,keyword:f,schema:p,parentSchema:I,it:y}=U,C=B.macro.call(y.self,p,I,y),N=A(V,f,C);y.opts.validateSchema!==!1&&y.self.validateSchema(C,!0);const R=V.name("valid");U.subschema({schema:C,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${f}`,topSchemaRef:N,compositeRule:!0},R),U.pass(R,()=>U.error(!0))}r.macroKeywordCode=w;function i(U,B){var V;const{gen:f,keyword:p,schema:I,parentSchema:y,$data:C,it:N}=U;l(N,B);const R=!C&&B.compile?B.compile.call(N.self,I,y,N):B.validate,b=A(f,p,R),x=f.let("valid");U.block$data(x,H),U.ok((V=B.valid)!==null&&V!==void 0?V:x);function H(){if(B.errors===!1)ce(),B.modifying&&E(U),He(()=>U.error());else{const De=B.async?te():oe();B.modifying&&E(U),He(()=>c(U,De))}}function te(){const De=f.let("ruleErrs",null);return f.try(()=>ce((0,e._)`await `),et=>f.assign(x,!1).if((0,e._)`${et} instanceof ${N.ValidationError}`,()=>f.assign(De,(0,e._)`${et}.errors`),()=>f.throw(et))),De}function oe(){const De=(0,e._)`${b}.errors`;return f.assign(De,null),ce(e.nil),De}function ce(De=B.async?(0,e._)`await `:e.nil){const et=N.opts.passContext?t.default.this:t.default.self,lt=!("compile"in B&&!C||B.schema===!1);f.assign(x,(0,e._)`${De}${(0,T.callValidateCode)(U,b,et,lt)}`,B.modifying)}function He(De){var et;f.if((0,e.not)((et=B.valid)!==null&&et!==void 0?et:x),De)}}r.funcKeywordCode=i;function E(U){const{gen:B,data:V,it:f}=U;B.if(f.parentData,()=>B.assign(V,(0,e._)`${f.parentData}[${f.parentDataProperty}]`))}function c(U,B){const{gen:V}=U;V.if((0,e._)`Array.isArray(${B})`,()=>{V.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${B} : ${t.default.vErrors}.concat(${B})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,h.extendErrors)(U)},()=>U.error())}function l({schemaEnv:U},B){if(B.async&&!U.$async)throw new Error("async keyword in sync schema")}function A(U,B,V){if(V===void 0)throw new Error(`keyword "${B}" failed to compile`);return U.scopeValue("keyword",typeof V=="function"?{ref:V}:{ref:V,code:(0,e.stringify)(V)})}function S(U,B,V=!1){return!B.length||B.some(f=>f==="array"?Array.isArray(U):f==="object"?U&&typeof U=="object"&&!Array.isArray(U):typeof U==f||V&&typeof U=="undefined")}r.validSchemaType=S;function F({schema:U,opts:B,self:V,errSchemaPath:f},p,I){if(Array.isArray(p.keyword)?!p.keyword.includes(I):p.keyword!==I)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(C=>!Object.prototype.hasOwnProperty.call(U,C)))throw new Error(`parent schema must have dependencies of ${I}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(U[I])){const N=`keyword "${I}" value is invalid at path "${f}": `+V.errorsText(p.validateSchema.errors);if(B.validateSchema==="log")V.logger.error(N);else throw new Error(N)}}r.validateKeywordUsage=F},55571:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const e=a(73150),t=a(92303);function T(i,{keyword:E,schemaProp:c,schema:l,schemaPath:A,errSchemaPath:S,topSchemaRef:F}){if(E!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(E!==void 0){const U=i.schema[E];return c===void 0?{schema:U,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}`,errSchemaPath:`${i.errSchemaPath}/${E}`}:{schema:U[c],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}${(0,e.getProperty)(c)}`,errSchemaPath:`${i.errSchemaPath}/${E}/${(0,t.escapeFragment)(c)}`}}if(l!==void 0){if(A===void 0||S===void 0||F===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:A,topSchemaRef:F,errSchemaPath:S}}throw new Error('either "keyword" or "schema" must be passed')}r.getSubschema=T;function h(i,E,{dataProp:c,dataPropType:l,data:A,dataTypes:S,propertyName:F}){if(A!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:U}=E;if(c!==void 0){const{errorPath:V,dataPathArr:f,opts:p}=E,I=U.let("data",(0,e._)`${E.data}${(0,e.getProperty)(c)}`,!0);B(I),i.errorPath=(0,e.str)`${V}${(0,t.getErrorPath)(c,l,p.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${c}`,i.dataPathArr=[...f,i.parentDataProperty]}if(A!==void 0){const V=A instanceof e.Name?A:U.let("data",A,!0);B(V),F!==void 0&&(i.propertyName=F)}S&&(i.dataTypes=S);function B(V){i.data=V,i.dataLevel=E.dataLevel+1,i.dataTypes=[],E.definedProperties=new Set,i.parentData=E.data,i.dataNames=[...E.dataNames,V]}}r.extendSubschemaData=h;function w(i,{jtdDiscriminator:E,jtdMetadata:c,compositeRule:l,createErrors:A,allErrors:S}){l!==void 0&&(i.compositeRule=l),A!==void 0&&(i.createErrors=A),S!==void 0&&(i.allErrors=S),i.jtdDiscriminator=E,i.jtdMetadata=c}r.extendSubschemaMode=w},38910:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var e=a(76324);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var t=a(73150);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const T=a(1024),h=a(60906),w=a(61218),i=a(41932),E=a(73150),c=a(17917),l=a(52503),A=a(92303),S=a(35682),F=a(79807),U=(he,j)=>new RegExp(he,j);U.code="new RegExp";const B=["removeAdditional","useDefaults","coerceTypes"],V=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},I=200;function y(he){var j,re,W,d,k,J,Le,Me,gt,nt,M,Z,ie,we,je,Xe,Mt,Ut,Gt,zt,_t,on,It,dn,bn;const pn=he.strict,wn=(j=he.code)===null||j===void 0?void 0:j.optimize,pe=wn===!0||wn===void 0?1:wn||0,ue=(W=(re=he.code)===null||re===void 0?void 0:re.regExp)!==null&&W!==void 0?W:U,Ce=(d=he.uriResolver)!==null&&d!==void 0?d:F.default;return{strictSchema:(J=(k=he.strictSchema)!==null&&k!==void 0?k:pn)!==null&&J!==void 0?J:!0,strictNumbers:(Me=(Le=he.strictNumbers)!==null&&Le!==void 0?Le:pn)!==null&&Me!==void 0?Me:!0,strictTypes:(nt=(gt=he.strictTypes)!==null&&gt!==void 0?gt:pn)!==null&&nt!==void 0?nt:"log",strictTuples:(Z=(M=he.strictTuples)!==null&&M!==void 0?M:pn)!==null&&Z!==void 0?Z:"log",strictRequired:(we=(ie=he.strictRequired)!==null&&ie!==void 0?ie:pn)!==null&&we!==void 0?we:!1,code:he.code?{...he.code,optimize:pe,regExp:ue}:{optimize:pe,regExp:ue},loopRequired:(je=he.loopRequired)!==null&&je!==void 0?je:I,loopEnum:(Xe=he.loopEnum)!==null&&Xe!==void 0?Xe:I,meta:(Mt=he.meta)!==null&&Mt!==void 0?Mt:!0,messages:(Ut=he.messages)!==null&&Ut!==void 0?Ut:!0,inlineRefs:(Gt=he.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(zt=he.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(_t=he.addUsedSchema)!==null&&_t!==void 0?_t:!0,validateSchema:(on=he.validateSchema)!==null&&on!==void 0?on:!0,validateFormats:(It=he.validateFormats)!==null&&It!==void 0?It:!0,unicodeRegExp:(dn=he.unicodeRegExp)!==null&&dn!==void 0?dn:!0,int32range:(bn=he.int32range)!==null&&bn!==void 0?bn:!0,uriResolver:Ce}}class C{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...y(j)};const{es5:re,lines:W}=this.opts.code;this.scope=new E.ValueScope({scope:{},prefixes:V,es5:re,lines:W}),this.logger=ce(j.logger);const d=j.validateFormats;j.validateFormats=!1,this.RULES=(0,w.getRules)(),N.call(this,f,j,"NOT SUPPORTED"),N.call(this,p,j,"DEPRECATED","warn"),this._metaOpts=te.call(this),j.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&H.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),b.call(this),j.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:re,schemaId:W}=this.opts;let d=S;W==="id"&&(d={...S},d.id=d.$id,delete d.$id),re&&j&&this.addMetaSchema(d,d[W],!1)}defaultMeta(){const{meta:j,schemaId:re}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[re]||j:void 0}validate(j,re){let W;if(typeof j=="string"){if(W=this.getSchema(j),!W)throw new Error(`no schema with key or ref "${j}"`)}else W=this.compile(j);const d=W(re);return"$async"in W||(this.errors=W.errors),d}compile(j,re){const W=this._addSchema(j,re);return W.validate||this._compileSchemaEnv(W)}compileAsync(j,re){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return d.call(this,j,re);async function d(nt,M){await k.call(this,nt.$schema);const Z=this._addSchema(nt,M);return Z.validate||J.call(this,Z)}async function k(nt){nt&&!this.getSchema(nt)&&await d.call(this,{$ref:nt},!0)}async function J(nt){try{return this._compileSchemaEnv(nt)}catch(M){if(!(M instanceof h.default))throw M;return Le.call(this,M),await Me.call(this,M.missingSchema),J.call(this,nt)}}function Le({missingSchema:nt,missingRef:M}){if(this.refs[nt])throw new Error(`AnySchema ${nt} is loaded but ${M} cannot be resolved`)}async function Me(nt){const M=await gt.call(this,nt);this.refs[nt]||await k.call(this,M.$schema),this.refs[nt]||this.addSchema(M,nt,re)}async function gt(nt){const M=this._loading[nt];if(M)return M;try{return await(this._loading[nt]=W(nt))}finally{delete this._loading[nt]}}}addSchema(j,re,W,d=this.opts.validateSchema){if(Array.isArray(j)){for(const J of j)this.addSchema(J,void 0,W,d);return this}let k;if(typeof j=="object"){const{schemaId:J}=this.opts;if(k=j[J],k!==void 0&&typeof k!="string")throw new Error(`schema ${J} must be string`)}return re=(0,c.normalizeId)(re||k),this._checkUnique(re),this.schemas[re]=this._addSchema(j,W,re,d,!0),this}addMetaSchema(j,re,W=this.opts.validateSchema){return this.addSchema(j,re,!0,W),this}validateSchema(j,re){if(typeof j=="boolean")return!0;let W;if(W=j.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(W,j);if(!d&&re){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return d}getSchema(j){let re;for(;typeof(re=R.call(this,j))=="string";)j=re;if(re===void 0){const{schemaId:W}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:W});if(re=i.resolveSchema.call(this,d,j),!re)return;this.refs[j]=re}return re.validate||this._compileSchemaEnv(re)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const re=R.call(this,j);return typeof re=="object"&&this._cache.delete(re.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const re=j;this._cache.delete(re);let W=j[this.opts.schemaId];return W&&(W=(0,c.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const re of j)this.addKeyword(re);return this}addKeyword(j,re){let W;if(typeof j=="string")W=j,typeof re=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),re.keyword=W);else if(typeof j=="object"&&re===void 0){if(re=j,W=re.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(De.call(this,W,re),!re)return(0,A.eachItem)(W,k=>et.call(this,k)),this;Et.call(this,re);const d={...re,type:(0,l.getJSONTypes)(re.type),schemaType:(0,l.getJSONTypes)(re.schemaType)};return(0,A.eachItem)(W,d.type.length===0?k=>et.call(this,k,d):k=>d.type.forEach(J=>et.call(this,k,d,J))),this}getKeyword(j){const re=this.RULES.all[j];return typeof re=="object"?re.definition:!!re}removeKeyword(j){const{RULES:re}=this;delete re.keywords[j],delete re.all[j];for(const W of re.rules){const d=W.rules.findIndex(k=>k.keyword===j);d>=0&&W.rules.splice(d,1)}return this}addFormat(j,re){return typeof re=="string"&&(re=new RegExp(re)),this.formats[j]=re,this}errorsText(j=this.errors,{separator:re=", ",dataVar:W="data"}={}){return!j||j.length===0?"No errors":j.map(d=>`${W}${d.instancePath} ${d.message}`).reduce((d,k)=>d+re+k)}$dataMetaSchema(j,re){const W=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const d of re){const k=d.split("/").slice(1);let J=j;for(const Le of k)J=J[Le];for(const Le in W){const Me=W[Le];if(typeof Me!="object")continue;const{$data:gt}=Me.definition,nt=J[Le];gt&&nt&&(J[Le]=dt(nt))}}return j}_removeAllSchemas(j,re){for(const W in j){const d=j[W];(!re||re.test(W))&&(typeof d=="string"?delete j[W]:d&&!d.meta&&(this._cache.delete(d.schema),delete j[W]))}}_addSchema(j,re,W,d=this.opts.validateSchema,k=this.opts.addUsedSchema){let J;const{schemaId:Le}=this.opts;if(typeof j=="object")J=j[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let Me=this._cache.get(j);if(Me!==void 0)return Me;W=(0,c.normalizeId)(J||W);const gt=c.getSchemaRefs.call(this,j,W);return Me=new i.SchemaEnv({schema:j,schemaId:Le,meta:re,baseId:W,localRefs:gt}),this._cache.set(Me.schema,Me),k&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=Me),d&&this.validateSchema(j,!0),Me}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):i.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const re=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,j)}finally{this.opts=re}}}r.default=C,C.ValidationError=T.default,C.MissingRefError=h.default;function N(he,j,re,W="error"){for(const d in he){const k=d;k in j&&this.logger[W](`${re}: option ${d}. ${he[k]}`)}}function R(he){return he=(0,c.normalizeId)(he),this.schemas[he]||this.refs[he]}function b(){const he=this.opts.schemas;if(!!he)if(Array.isArray(he))this.addSchema(he);else for(const j in he)this.addSchema(he[j],j)}function x(){for(const he in this.opts.formats){const j=this.opts.formats[he];j&&this.addFormat(he,j)}}function H(he){if(Array.isArray(he)){this.addVocabulary(he);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in he){const re=he[j];re.keyword||(re.keyword=j),this.addKeyword(re)}}function te(){const he={...this.opts};for(const j of B)delete he[j];return he}const oe={log(){},warn(){},error(){}};function ce(he){if(he===!1)return oe;if(he===void 0)return console;if(he.log&&he.warn&&he.error)return he;throw new Error("logger must implement log, warn and error methods")}const He=/^[a-z_$][a-z0-9_$:-]*$/i;function De(he,j){const{RULES:re}=this;if((0,A.eachItem)(he,W=>{if(re.keywords[W])throw new Error(`Keyword ${W} is already defined`);if(!He.test(W))throw new Error(`Keyword ${W} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function et(he,j,re){var W;const d=j==null?void 0:j.post;if(re&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let J=d?k.post:k.rules.find(({type:Me})=>Me===re);if(J||(J={type:re,rules:[]},k.rules.push(J)),k.keywords[he]=!0,!j)return;const Le={keyword:he,definition:{...j,type:(0,l.getJSONTypes)(j.type),schemaType:(0,l.getJSONTypes)(j.schemaType)}};j.before?lt.call(this,J,Le,j.before):J.rules.push(Le),k.all[he]=Le,(W=j.implements)===null||W===void 0||W.forEach(Me=>this.addKeyword(Me))}function lt(he,j,re){const W=he.rules.findIndex(d=>d.keyword===re);W>=0?he.rules.splice(W,0,j):(he.rules.push(j),this.logger.warn(`rule ${re} is not defined`))}function Et(he){let{metaSchema:j}=he;j!==void 0&&(he.$data&&this.opts.$data&&(j=dt(j)),he.validateSchema=this.compile(j,!0))}const Lt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function dt(he){return{anyOf:[he,Lt]}}},75641:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(69378);e.code='require("ajv/dist/runtime/equal").default',r.default=e},34955:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});function a(e){const t=e.length;let T=0,h=0,w;for(;h<t;)T++,w=e.charCodeAt(h++),w>=55296&&w<=56319&&h<t&&(w=e.charCodeAt(h),(w&64512)===56320&&h++);return T}r.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},79807:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(12854);e.code='require("ajv/dist/runtime/uri").default',r.default=e},1024:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});class a extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}r.default=a},12190:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const e=a(73150),t=a(92303),h={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:E,it:c}=i,{items:l}=E;if(!Array.isArray(l)){(0,t.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}w(i,l)}};function w(i,E){const{gen:c,schema:l,data:A,keyword:S,it:F}=i;F.items=!0;const U=c.const("len",(0,e._)`${A}.length`);if(l===!1)i.setParams({len:E.length}),i.pass((0,e._)`${U} <= ${E.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(F,l)){const V=c.var("valid",(0,e._)`${U} <= ${E.length}`);c.if((0,e.not)(V),()=>B(V)),i.ok(V)}function B(V){c.forRange("i",E.length,U,f=>{i.subschema({keyword:S,dataProp:f,dataPropType:t.Type.Num},V),F.allErrors||c.if((0,e.not)(V),()=>c.break())})}}r.validateAdditionalItems=w,r.default=h},9811:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(20328),t=a(73150),T=a(39213),h=a(92303),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:E})=>(0,t._)`{additionalProperty: ${E.additionalProperty}}`},code(E){const{gen:c,schema:l,parentSchema:A,data:S,errsCount:F,it:U}=E;if(!F)throw new Error("ajv implementation error");const{allErrors:B,opts:V}=U;if(U.props=!0,V.removeAdditional!=="all"&&(0,h.alwaysValidSchema)(U,l))return;const f=(0,e.allSchemaProperties)(A.properties),p=(0,e.allSchemaProperties)(A.patternProperties);I(),E.ok((0,t._)`${F} === ${T.default.errors}`);function I(){c.forIn("key",S,b=>{!f.length&&!p.length?N(b):c.if(y(b),()=>N(b))})}function y(b){let x;if(f.length>8){const H=(0,h.schemaRefOrVal)(U,A.properties,"properties");x=(0,e.isOwnProperty)(c,H,b)}else f.length?x=(0,t.or)(...f.map(H=>(0,t._)`${b} === ${H}`)):x=t.nil;return p.length&&(x=(0,t.or)(x,...p.map(H=>(0,t._)`${(0,e.usePattern)(E,H)}.test(${b})`))),(0,t.not)(x)}function C(b){c.code((0,t._)`delete ${S}[${b}]`)}function N(b){if(V.removeAdditional==="all"||V.removeAdditional&&l===!1){C(b);return}if(l===!1){E.setParams({additionalProperty:b}),E.error(),B||c.break();return}if(typeof l=="object"&&!(0,h.alwaysValidSchema)(U,l)){const x=c.name("valid");V.removeAdditional==="failing"?(R(b,x,!1),c.if((0,t.not)(x),()=>{E.reset(),C(b)})):(R(b,x),B||c.if((0,t.not)(x),()=>c.break()))}}function R(b,x,H){const te={keyword:"additionalProperties",dataProp:b,dataPropType:h.Type.Str};H===!1&&Object.assign(te,{compositeRule:!0,createErrors:!1,allErrors:!1}),E.subschema(te,x)}}};r.default=i},75350:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(92303),t={keyword:"allOf",schemaType:"array",code(T){const{gen:h,schema:w,it:i}=T;if(!Array.isArray(w))throw new Error("ajv implementation error");const E=h.name("valid");w.forEach((c,l)=>{if((0,e.alwaysValidSchema)(i,c))return;const A=T.subschema({keyword:"allOf",schemaProp:l},E);T.ok(E),T.mergeEvaluated(A)})}};r.default=t},41404:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(20328),t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e.validateUnion,error:{message:"must match a schema in anyOf"}};r.default=t},36055:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),h={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:w,max:i}})=>i===void 0?(0,e.str)`must contain at least ${w} valid item(s)`:(0,e.str)`must contain at least ${w} and no more than ${i} valid item(s)`,params:({params:{min:w,max:i}})=>i===void 0?(0,e._)`{minContains: ${w}}`:(0,e._)`{minContains: ${w}, maxContains: ${i}}`},code(w){const{gen:i,schema:E,parentSchema:c,data:l,it:A}=w;let S,F;const{minContains:U,maxContains:B}=c;A.opts.next?(S=U===void 0?1:U,F=B):S=1;const V=i.const("len",(0,e._)`${l}.length`);if(w.setParams({min:S,max:F}),F===void 0&&S===0){(0,t.checkStrictMode)(A,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(F!==void 0&&S>F){(0,t.checkStrictMode)(A,'"minContains" > "maxContains" is always invalid'),w.fail();return}if((0,t.alwaysValidSchema)(A,E)){let C=(0,e._)`${V} >= ${S}`;F!==void 0&&(C=(0,e._)`${C} && ${V} <= ${F}`),w.pass(C);return}A.items=!0;const f=i.name("valid");F===void 0&&S===1?I(f,()=>i.if(f,()=>i.break())):S===0?(i.let(f,!0),F!==void 0&&i.if((0,e._)`${l}.length > 0`,p)):(i.let(f,!1),p()),w.result(f,()=>w.reset());function p(){const C=i.name("_valid"),N=i.let("count",0);I(C,()=>i.if(C,()=>y(N)))}function I(C,N){i.forRange("i",0,V,R=>{w.subschema({keyword:"contains",dataProp:R,dataPropType:t.Type.Num,compositeRule:!0},C),N()})}function y(C){i.code((0,e._)`${C}++`),F===void 0?i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0).break()):(i.if((0,e._)`${C} > ${F}`,()=>i.assign(f,!1).break()),S===1?i.assign(f,!0):i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0)))}}};r.default=h},35090:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const e=a(73150),t=a(92303),T=a(20328);r.error={message:({params:{property:c,depsCount:l,deps:A}})=>{const S=l===1?"property":"properties";return(0,e.str)`must have ${S} ${A} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:A,missingProperty:S}})=>(0,e._)`{property: ${c},
    missingProperty: ${S},
    depsCount: ${l},
    deps: ${A}}`};const h={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(c){const[l,A]=w(c);i(c,l),E(c,A)}};function w({schema:c}){const l={},A={};for(const S in c){if(S==="__proto__")continue;const F=Array.isArray(c[S])?l:A;F[S]=c[S]}return[l,A]}function i(c,l=c.schema){const{gen:A,data:S,it:F}=c;if(Object.keys(l).length===0)return;const U=A.let("missing");for(const B in l){const V=l[B];if(V.length===0)continue;const f=(0,T.propertyInData)(A,S,B,F.opts.ownProperties);c.setParams({property:B,depsCount:V.length,deps:V.join(", ")}),F.allErrors?A.if(f,()=>{for(const p of V)(0,T.checkReportMissingProp)(c,p)}):(A.if((0,e._)`${f} && (${(0,T.checkMissingProp)(c,V,U)})`),(0,T.reportMissingProp)(c,U),A.else())}}r.validatePropertyDeps=i;function E(c,l=c.schema){const{gen:A,data:S,keyword:F,it:U}=c,B=A.name("valid");for(const V in l)(0,t.alwaysValidSchema)(U,l[V])||(A.if((0,T.propertyInData)(A,S,V,U.opts.ownProperties),()=>{const f=c.subschema({keyword:F,schemaProp:V},B);c.mergeValidEvaluated(f,B)},()=>A.var(B,!0)),c.ok(B))}r.validateSchemaDeps=E,r.default=h},83219:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),h={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:E,parentSchema:c,it:l}=i;c.then===void 0&&c.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const A=w(l,"then"),S=w(l,"else");if(!A&&!S)return;const F=E.let("valid",!0),U=E.name("_valid");if(B(),i.reset(),A&&S){const f=E.let("ifClause");i.setParams({ifClause:f}),E.if(U,V("then",f),V("else",f))}else A?E.if(U,V("then")):E.if((0,e.not)(U),V("else"));i.pass(F,()=>i.error(!0));function B(){const f=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},U);i.mergeEvaluated(f)}function V(f,p){return()=>{const I=i.subschema({keyword:f},U);E.assign(F,U),i.mergeValidEvaluated(I,F),p?E.assign(p,(0,e._)`${f}`):i.setParams({ifClause:f})}}}};function w(i,E){const c=i.schema[E];return c!==void 0&&!(0,t.alwaysValidSchema)(i,c)}r.default=h},63294:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(12190),t=a(45478),T=a(65707),h=a(32473),w=a(36055),i=a(35090),E=a(82238),c=a(9811),l=a(88430),A=a(20201),S=a(29502),F=a(41404),U=a(23157),B=a(75350),V=a(83219),f=a(51387);function p(I=!1){const y=[S.default,F.default,U.default,B.default,V.default,f.default,E.default,c.default,i.default,l.default,A.default];return I?y.push(t.default,h.default):y.push(e.default,T.default),y.push(w.default),y}r.default=p},65707:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const e=a(73150),t=a(92303),T=a(20328),h={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:E,it:c}=i;if(Array.isArray(E))return w(i,"additionalItems",E);c.items=!0,!(0,t.alwaysValidSchema)(c,E)&&i.ok((0,T.validateArray)(i))}};function w(i,E,c=i.schema){const{gen:l,parentSchema:A,data:S,keyword:F,it:U}=i;f(A),U.opts.unevaluated&&c.length&&U.items!==!0&&(U.items=t.mergeEvaluated.items(l,c.length,U.items));const B=l.name("valid"),V=l.const("len",(0,e._)`${S}.length`);c.forEach((p,I)=>{(0,t.alwaysValidSchema)(U,p)||(l.if((0,e._)`${V} > ${I}`,()=>i.subschema({keyword:F,schemaProp:I,dataProp:I},B)),i.ok(B))});function f(p){const{opts:I,errSchemaPath:y}=U,C=c.length,N=C===p.minItems&&(C===p.maxItems||p[E]===!1);if(I.strictTuples&&!N){const R=`"${F}" is ${C}-tuple, but minItems or maxItems/${E} are not specified or different at path "${y}"`;(0,t.checkStrictMode)(U,R,I.strictTuples)}}}r.validateTuple=w,r.default=h},32473:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),T=a(20328),h=a(12190),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:E}})=>(0,e.str)`must NOT have more than ${E} items`,params:({params:{len:E}})=>(0,e._)`{limit: ${E}}`},code(E){const{schema:c,parentSchema:l,it:A}=E,{prefixItems:S}=l;A.items=!0,!(0,t.alwaysValidSchema)(A,c)&&(S?(0,h.validateAdditionalItems)(E,S):E.ok((0,T.validateArray)(E)))}};r.default=i},29502:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(92303),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(T){const{gen:h,schema:w,it:i}=T;if((0,e.alwaysValidSchema)(i,w)){T.fail();return}const E=h.name("valid");T.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},E),T.failResult(E,()=>T.reset(),()=>T.error())},error:{message:"must NOT be valid"}};r.default=t},23157:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),h={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:w})=>(0,e._)`{passingSchemas: ${w.passing}}`},code(w){const{gen:i,schema:E,parentSchema:c,it:l}=w;if(!Array.isArray(E))throw new Error("ajv implementation error");if(l.opts.discriminator&&c.discriminator)return;const A=E,S=i.let("valid",!1),F=i.let("passing",null),U=i.name("_valid");w.setParams({passing:F}),i.block(B),w.result(S,()=>w.reset(),()=>w.error(!0));function B(){A.forEach((V,f)=>{let p;(0,t.alwaysValidSchema)(l,V)?i.var(U,!0):p=w.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},U),f>0&&i.if((0,e._)`${U} && ${S}`).assign(S,!1).assign(F,(0,e._)`[${F}, ${f}]`).else(),i.if(U,()=>{i.assign(S,!0),i.assign(F,f),p&&w.mergeEvaluated(p,e.Name)})})}}};r.default=h},20201:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(20328),t=a(73150),T=a(92303),h=a(92303),w={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,data:l,parentSchema:A,it:S}=i,{opts:F}=S,U=(0,e.allSchemaProperties)(c),B=U.filter(N=>(0,T.alwaysValidSchema)(S,c[N]));if(U.length===0||B.length===U.length&&(!S.opts.unevaluated||S.props===!0))return;const V=F.strictSchema&&!F.allowMatchingProperties&&A.properties,f=E.name("valid");S.props!==!0&&!(S.props instanceof t.Name)&&(S.props=(0,h.evaluatedPropsToName)(E,S.props));const{props:p}=S;I();function I(){for(const N of U)V&&y(N),S.allErrors?C(N):(E.var(f,!0),C(N),E.if(f))}function y(N){for(const R in V)new RegExp(N).test(R)&&(0,T.checkStrictMode)(S,`property ${R} matches pattern ${N} (use allowMatchingProperties)`)}function C(N){E.forIn("key",l,R=>{E.if((0,t._)`${(0,e.usePattern)(i,N)}.test(${R})`,()=>{const b=B.includes(N);b||i.subschema({keyword:"patternProperties",schemaProp:N,dataProp:R,dataPropType:h.Type.Str},f),S.opts.unevaluated&&p!==!0?E.assign((0,t._)`${p}[${R}]`,!0):!b&&!S.allErrors&&E.if((0,t.not)(f),()=>E.break())})})}}};r.default=w},45478:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(65707),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:T=>(0,e.validateTuple)(T,"items")};r.default=t},88430:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(76324),t=a(20328),T=a(92303),h=a(9811),w={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,parentSchema:l,data:A,it:S}=i;S.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&h.default.code(new e.KeywordCxt(S,h.default,"additionalProperties"));const F=(0,t.allSchemaProperties)(c);for(const p of F)S.definedProperties.add(p);S.opts.unevaluated&&F.length&&S.props!==!0&&(S.props=T.mergeEvaluated.props(E,(0,T.toHash)(F),S.props));const U=F.filter(p=>!(0,T.alwaysValidSchema)(S,c[p]));if(U.length===0)return;const B=E.name("valid");for(const p of U)V(p)?f(p):(E.if((0,t.propertyInData)(E,A,p,S.opts.ownProperties)),f(p),S.allErrors||E.else().var(B,!0),E.endIf()),i.it.definedProperties.add(p),i.ok(B);function V(p){return S.opts.useDefaults&&!S.compositeRule&&c[p].default!==void 0}function f(p){i.subschema({keyword:"properties",schemaProp:p,dataProp:p},B)}}};r.default=w},82238:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),h={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:w})=>(0,e._)`{propertyName: ${w.propertyName}}`},code(w){const{gen:i,schema:E,data:c,it:l}=w;if((0,t.alwaysValidSchema)(l,E))return;const A=i.name("valid");i.forIn("key",c,S=>{w.setParams({propertyName:S}),w.subschema({keyword:"propertyNames",data:S,dataTypes:["string"],propertyName:S,compositeRule:!0},A),i.if((0,e.not)(A),()=>{w.error(!0),l.allErrors||i.break()})}),w.ok(A)}};r.default=h},51387:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(92303),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:T,parentSchema:h,it:w}){h.if===void 0&&(0,e.checkStrictMode)(w,`"${T}" without "if" is ignored`)}};r.default=t},20328:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const e=a(73150),t=a(92303),T=a(39213),h=a(92303);function w(y,C){const{gen:N,data:R,it:b}=y;N.if(S(N,R,C,b.opts.ownProperties),()=>{y.setParams({missingProperty:(0,e._)`${C}`},!0),y.error()})}r.checkReportMissingProp=w;function i({gen:y,data:C,it:{opts:N}},R,b){return(0,e.or)(...R.map(x=>(0,e.and)(S(y,C,x,N.ownProperties),(0,e._)`${b} = ${x}`)))}r.checkMissingProp=i;function E(y,C){y.setParams({missingProperty:C},!0),y.error()}r.reportMissingProp=E;function c(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}r.hasPropFunc=c;function l(y,C,N){return(0,e._)`${c(y)}.call(${C}, ${N})`}r.isOwnProperty=l;function A(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} !== undefined`;return R?(0,e._)`${b} && ${l(y,C,N)}`:b}r.propertyInData=A;function S(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} === undefined`;return R?(0,e.or)(b,(0,e.not)(l(y,C,N))):b}r.noPropertyInData=S;function F(y){return y?Object.keys(y).filter(C=>C!=="__proto__"):[]}r.allSchemaProperties=F;function U(y,C){return F(C).filter(N=>!(0,t.alwaysValidSchema)(y,C[N]))}r.schemaProperties=U;function B({schemaCode:y,data:C,it:{gen:N,topSchemaRef:R,schemaPath:b,errorPath:x},it:H},te,oe,ce){const He=ce?(0,e._)`${y}, ${C}, ${R}${b}`:C,De=[[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,x)],[T.default.parentData,H.parentData],[T.default.parentDataProperty,H.parentDataProperty],[T.default.rootData,T.default.rootData]];H.opts.dynamicRef&&De.push([T.default.dynamicAnchors,T.default.dynamicAnchors]);const et=(0,e._)`${He}, ${N.object(...De)}`;return oe!==e.nil?(0,e._)`${te}.call(${oe}, ${et})`:(0,e._)`${te}(${et})`}r.callValidateCode=B;const V=(0,e._)`new RegExp`;function f({gen:y,it:{opts:C}},N){const R=C.unicodeRegExp?"u":"",{regExp:b}=C.code,x=b(N,R);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,e._)`${b.code==="new RegExp"?V:(0,h.useFunc)(y,b)}(${N}, ${R})`})}r.usePattern=f;function p(y){const{gen:C,data:N,keyword:R,it:b}=y,x=C.name("valid");if(b.allErrors){const te=C.let("valid",!0);return H(()=>C.assign(te,!1)),te}return C.var(x,!0),H(()=>C.break()),x;function H(te){const oe=C.const("len",(0,e._)`${N}.length`);C.forRange("i",0,oe,ce=>{y.subschema({keyword:R,dataProp:ce,dataPropType:t.Type.Num},x),C.if((0,e.not)(x),te)})}}r.validateArray=p;function I(y){const{gen:C,schema:N,keyword:R,it:b}=y;if(!Array.isArray(N))throw new Error("ajv implementation error");if(N.some(oe=>(0,t.alwaysValidSchema)(b,oe))&&!b.opts.unevaluated)return;const H=C.let("valid",!1),te=C.name("_valid");C.block(()=>N.forEach((oe,ce)=>{const He=y.subschema({keyword:R,schemaProp:ce,compositeRule:!0},te);C.assign(H,(0,e._)`${H} || ${te}`),y.mergeValidEvaluated(He,te)||C.if((0,e.not)(H))})),y.result(H,()=>y.reset(),()=>y.error(!0))}r.validateUnion=I},42226:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});const a={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};r.default=a},68996:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(42226),t=a(13159),T=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];r.default=T},13159:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const e=a(60906),t=a(20328),T=a(73150),h=a(39213),w=a(41932),i=a(92303),E={keyword:"$ref",schemaType:"string",code(A){const{gen:S,schema:F,it:U}=A,{baseId:B,schemaEnv:V,validateName:f,opts:p,self:I}=U,{root:y}=V;if((F==="#"||F==="#/")&&B===y.baseId)return N();const C=w.resolveRef.call(I,y,B,F);if(C===void 0)throw new e.default(U.opts.uriResolver,B,F);if(C instanceof w.SchemaEnv)return R(C);return b(C);function N(){if(V===y)return l(A,f,V,V.$async);const x=S.scopeValue("root",{ref:y});return l(A,(0,T._)`${x}.validate`,y,y.$async)}function R(x){const H=c(A,x);l(A,H,x,x.$async)}function b(x){const H=S.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,T.stringify)(x)}:{ref:x}),te=S.name("valid"),oe=A.subschema({schema:x,dataTypes:[],schemaPath:T.nil,topSchemaRef:H,errSchemaPath:F},te);A.mergeEvaluated(oe),A.ok(te)}}};function c(A,S){const{gen:F}=A;return S.validate?F.scopeValue("validate",{ref:S.validate}):(0,T._)`${F.scopeValue("wrapper",{ref:S})}.validate`}r.getValidate=c;function l(A,S,F,U){const{gen:B,it:V}=A,{allErrors:f,schemaEnv:p,opts:I}=V,y=I.passContext?h.default.this:T.nil;U?C():N();function C(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=B.let("valid");B.try(()=>{B.code((0,T._)`await ${(0,t.callValidateCode)(A,S,y)}`),b(S),f||B.assign(x,!0)},H=>{B.if((0,T._)`!(${H} instanceof ${V.ValidationError})`,()=>B.throw(H)),R(H),f||B.assign(x,!1)}),A.ok(x)}function N(){A.result((0,t.callValidateCode)(A,S,y),()=>b(S),()=>R(S))}function R(x){const H=(0,T._)`${x}.errors`;B.assign(h.default.vErrors,(0,T._)`${h.default.vErrors} === null ? ${H} : ${h.default.vErrors}.concat(${H})`),B.assign(h.default.errors,(0,T._)`${h.default.vErrors}.length`)}function b(x){var H;if(!V.opts.unevaluated)return;const te=(H=F==null?void 0:F.validate)===null||H===void 0?void 0:H.evaluated;if(V.props!==!0)if(te&&!te.dynamicProps)te.props!==void 0&&(V.props=i.mergeEvaluated.props(B,te.props,V.props));else{const oe=B.var("props",(0,T._)`${x}.evaluated.props`);V.props=i.mergeEvaluated.props(B,oe,V.props,T.Name)}if(V.items!==!0)if(te&&!te.dynamicItems)te.items!==void 0&&(V.items=i.mergeEvaluated.items(B,te.items,V.items));else{const oe=B.var("items",(0,T._)`${x}.evaluated.items`);V.items=i.mergeEvaluated.items(B,oe,V.items,T.Name)}}}r.callRef=l,r.default=E},29124:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(12192),T=a(41932),h=a(92303),i={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:E,tagName:c}})=>E===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:E,tag:c,tagName:l}})=>(0,e._)`{error: ${E}, tag: ${l}, tagValue: ${c}}`},code(E){const{gen:c,data:l,schema:A,parentSchema:S,it:F}=E,{oneOf:U}=S;if(!F.opts.discriminator)throw new Error("discriminator: requires discriminator option");const B=A.propertyName;if(typeof B!="string")throw new Error("discriminator: requires propertyName");if(A.mapping)throw new Error("discriminator: mapping is not supported");if(!U)throw new Error("discriminator: requires oneOf keyword");const V=c.let("valid",!1),f=c.const("tag",(0,e._)`${l}${(0,e.getProperty)(B)}`);c.if((0,e._)`typeof ${f} == "string"`,()=>p(),()=>E.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:B})),E.ok(V);function p(){const C=y();c.if(!1);for(const N in C)c.elseIf((0,e._)`${f} === ${N}`),c.assign(V,I(C[N]));c.else(),E.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:B}),c.endIf()}function I(C){const N=c.name("valid"),R=E.subschema({keyword:"oneOf",schemaProp:C},N);return E.mergeEvaluated(R,e.Name),N}function y(){var C;const N={},R=x(S);let b=!0;for(let oe=0;oe<U.length;oe++){let ce=U[oe];(ce==null?void 0:ce.$ref)&&!(0,h.schemaHasRulesButRef)(ce,F.self.RULES)&&(ce=T.resolveRef.call(F.self,F.schemaEnv.root,F.baseId,ce==null?void 0:ce.$ref),ce instanceof T.SchemaEnv&&(ce=ce.schema));const He=(C=ce==null?void 0:ce.properties)===null||C===void 0?void 0:C[B];if(typeof He!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${B}"`);b=b&&(R||x(ce)),H(He,oe)}if(!b)throw new Error(`discriminator: "${B}" must be required`);return N;function x({required:oe}){return Array.isArray(oe)&&oe.includes(B)}function H(oe,ce){if(oe.const)te(oe.const,ce);else if(oe.enum)for(const He of oe.enum)te(He,ce);else throw new Error(`discriminator: "properties/${B}" must have "const" or "enum"`)}function te(oe,ce){if(typeof oe!="string"||oe in N)throw new Error(`discriminator: "${B}" values must be unique strings`);N[oe]=ce}}}};r.default=i},12192:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0;var a;(function(e){e.Tag="tag",e.Mapping="mapping"})(a=r.DiscrError||(r.DiscrError={}))},33581:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(68996),t=a(67462),T=a(63294),h=a(23840),w=a(92041),i=[e.default,t.default,(0,T.default)(),h.default,w.metadataVocabulary,w.contentVocabulary];r.default=i},7763:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),T={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must match format "${h}"`,params:({schemaCode:h})=>(0,e._)`{format: ${h}}`},code(h,w){const{gen:i,data:E,$data:c,schema:l,schemaCode:A,it:S}=h,{opts:F,errSchemaPath:U,schemaEnv:B,self:V}=S;if(!F.validateFormats)return;c?f():p();function f(){const I=i.scopeValue("formats",{ref:V.formats,code:F.code.formats}),y=i.const("fDef",(0,e._)`${I}[${A}]`),C=i.let("fType"),N=i.let("format");i.if((0,e._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>i.assign(C,(0,e._)`${y}.type || "string"`).assign(N,(0,e._)`${y}.validate`),()=>i.assign(C,(0,e._)`"string"`).assign(N,y)),h.fail$data((0,e.or)(R(),b()));function R(){return F.strictSchema===!1?e.nil:(0,e._)`${A} && !${N}`}function b(){const x=B.$async?(0,e._)`(${y}.async ? await ${N}(${E}) : ${N}(${E}))`:(0,e._)`${N}(${E})`,H=(0,e._)`(typeof ${N} == "function" ? ${x} : ${N}.test(${E}))`;return(0,e._)`${N} && ${N} !== true && ${C} === ${w} && !${H}`}}function p(){const I=V.formats[l];if(!I){R();return}if(I===!0)return;const[y,C,N]=b(I);y===w&&h.pass(x());function R(){if(F.strictSchema===!1){V.logger.warn(H());return}throw new Error(H());function H(){return`unknown format "${l}" ignored in schema at path "${U}"`}}function b(H){const te=H instanceof RegExp?(0,e.regexpCode)(H):F.code.formats?(0,e._)`${F.code.formats}${(0,e.getProperty)(l)}`:void 0,oe=i.scopeValue("formats",{key:l,ref:H,code:te});return typeof H=="object"&&!(H instanceof RegExp)?[H.type||"string",H.validate,(0,e._)`${oe}.validate`]:["string",H,oe]}function x(){if(typeof I=="object"&&!(I instanceof RegExp)&&I.async){if(!B.$async)throw new Error("async format in sync schema");return(0,e._)`await ${N}(${E})`}return typeof C=="function"?(0,e._)`${N}(${E})`:(0,e._)`${N}.test(${E})`}}}};r.default=T},23840:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const t=[a(7763).default];r.default=t},92041:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},95557:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),T=a(75641),w={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:E,data:c,$data:l,schemaCode:A,schema:S}=i;l||S&&typeof S=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(E,T.default)}(${c}, ${A})`):i.fail((0,e._)`${S} !== ${c}`)}};r.default=w},87255:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),T=a(75641),w={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:E,data:c,$data:l,schema:A,schemaCode:S,it:F}=i;if(!l&&A.length===0)throw new Error("enum must have non-empty array");const U=A.length>=F.opts.loopEnum;let B;const V=()=>B!=null?B:B=(0,t.useFunc)(E,T.default);let f;if(U||l)f=E.let("valid"),i.block$data(f,p);else{if(!Array.isArray(A))throw new Error("ajv implementation error");const y=E.const("vSchema",S);f=(0,e.or)(...A.map((C,N)=>I(y,N)))}i.pass(f);function p(){E.assign(f,!1),E.forOf("v",S,y=>E.if((0,e._)`${V()}(${c}, ${y})`,()=>E.assign(f,!0).break()))}function I(y,C){const N=A[C];return typeof N=="object"&&N!==null?(0,e._)`${V()}(${c}, ${y}[${C}])`:(0,e._)`${c} === ${N}`}}};r.default=w},67462:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(33077),t=a(3731),T=a(42464),h=a(41656),w=a(45626),i=a(86164),E=a(34203),c=a(46819),l=a(95557),A=a(87255),S=[e.default,t.default,T.default,h.default,w.default,i.default,E.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,A.default];r.default=S},34203:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),T={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} items`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxItems"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`${i}.length ${c} ${E}`)}};r.default=T},42464:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=a(92303),T=a(34955),w={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:E}){const c=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${E} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:E,data:c,schemaCode:l,it:A}=i,S=E==="maxLength"?e.operators.GT:e.operators.LT,F=A.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,t.useFunc)(i.gen,T.default)}(${c})`;i.fail$data((0,e._)`${F} ${S} ${l}`)}};r.default=w},33077:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),t=e.operators,T={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},h={message:({keyword:i,schemaCode:E})=>(0,e.str)`must be ${T[i].okStr} ${E}`,params:({keyword:i,schemaCode:E})=>(0,e._)`{comparison: ${T[i].okStr}, limit: ${E}}`},w={keyword:Object.keys(T),type:"number",schemaType:"number",$data:!0,error:h,code(i){const{keyword:E,data:c,schemaCode:l}=i;i.fail$data((0,e._)`${c} ${T[E].fail} ${l} || isNaN(${c})`)}};r.default=w},45626:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),T={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} properties`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxProperties"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`Object.keys(${i}).length ${c} ${E}`)}};r.default=T},3731:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(73150),T={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must be multiple of ${h}`,params:({schemaCode:h})=>(0,e._)`{multipleOf: ${h}}`},code(h){const{gen:w,data:i,schemaCode:E,it:c}=h,l=c.opts.multipleOfPrecision,A=w.let("res"),S=l?(0,e._)`Math.abs(Math.round(${A}) - ${A}) > 1e-${l}`:(0,e._)`${A} !== parseInt(${A})`;h.fail$data((0,e._)`(${E} === 0 || (${A} = ${i}/${E}, ${S}))`)}};r.default=T},41656:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(20328),t=a(73150),h={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:w})=>(0,t.str)`must match pattern "${w}"`,params:({schemaCode:w})=>(0,t._)`{pattern: ${w}}`},code(w){const{data:i,$data:E,schema:c,schemaCode:l,it:A}=w,S=A.opts.unicodeRegExp?"u":"",F=E?(0,t._)`(new RegExp(${l}, ${S}))`:(0,e.usePattern)(w,c);w.fail$data((0,t._)`!${F}.test(${i})`)}};r.default=h},86164:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(20328),t=a(73150),T=a(92303),w={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:E,schema:c,schemaCode:l,data:A,$data:S,it:F}=i,{opts:U}=F;if(!S&&c.length===0)return;const B=c.length>=U.loopRequired;if(F.allErrors?V():f(),U.strictRequired){const y=i.parentSchema.properties,{definedProperties:C}=i.it;for(const N of c)if((y==null?void 0:y[N])===void 0&&!C.has(N)){const R=F.schemaEnv.baseId+F.errSchemaPath,b=`required property "${N}" is not defined at "${R}" (strictRequired)`;(0,T.checkStrictMode)(F,b,F.opts.strictRequired)}}function V(){if(B||S)i.block$data(t.nil,p);else for(const y of c)(0,e.checkReportMissingProp)(i,y)}function f(){const y=E.let("missing");if(B||S){const C=E.let("valid",!0);i.block$data(C,()=>I(y,C)),i.ok(C)}else E.if((0,e.checkMissingProp)(i,c,y)),(0,e.reportMissingProp)(i,y),E.else()}function p(){E.forOf("prop",l,y=>{i.setParams({missingProperty:y}),E.if((0,e.noPropertyInData)(E,A,y,U.ownProperties),()=>i.error())})}function I(y,C){i.setParams({missingProperty:y}),E.forOf(y,l,()=>{E.assign(C,(0,e.propertyInData)(E,A,y,U.ownProperties)),E.if((0,t.not)(C),()=>{i.error(),E.break()})},t.nil)}}};r.default=w},46819:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(52503),t=a(73150),T=a(92303),h=a(75641),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:E,j:c}})=>(0,t.str)`must NOT have duplicate items (items ## ${c} and ${E} are identical)`,params:({params:{i:E,j:c}})=>(0,t._)`{i: ${E}, j: ${c}}`},code(E){const{gen:c,data:l,$data:A,schema:S,parentSchema:F,schemaCode:U,it:B}=E;if(!A&&!S)return;const V=c.let("valid"),f=F.items?(0,e.getSchemaTypes)(F.items):[];E.block$data(V,p,(0,t._)`${U} === false`),E.ok(V);function p(){const N=c.let("i",(0,t._)`${l}.length`),R=c.let("j");E.setParams({i:N,j:R}),c.assign(V,!0),c.if((0,t._)`${N} > 1`,()=>(I()?y:C)(N,R))}function I(){return f.length>0&&!f.some(N=>N==="object"||N==="array")}function y(N,R){const b=c.name("item"),x=(0,e.checkDataTypes)(f,b,B.opts.strictNumbers,e.DataType.Wrong),H=c.const("indices",(0,t._)`{}`);c.for((0,t._)`;${N}--;`,()=>{c.let(b,(0,t._)`${l}[${N}]`),c.if(x,(0,t._)`continue`),f.length>1&&c.if((0,t._)`typeof ${b} == "string"`,(0,t._)`${b} += "_"`),c.if((0,t._)`typeof ${H}[${b}] == "number"`,()=>{c.assign(R,(0,t._)`${H}[${b}]`),E.error(),c.assign(V,!1).break()}).code((0,t._)`${H}[${b}] = ${N}`)})}function C(N,R){const b=(0,T.useFunc)(c,h.default),x=c.name("outer");c.label(x).for((0,t._)`;${N}--;`,()=>c.for((0,t._)`${R} = ${N}; ${R}--;`,()=>c.if((0,t._)`${b}(${l}[${N}], ${l}[${R}])`,()=>{E.error(),c.assign(V,!1).break(x)})))}}};r.default=i},56222:function(Se,r,a){a.d(r,{C:function(){return Mt},E:function(){return j},G:function(){return Lt},P:function(){return Ht},a:function(){return on},b:function(){return zt},d:function(){return re},g:function(){return Ut},i:function(){return dn},u:function(){return nt}});var e=a(76377),t=a(38785),T=a(98422),h=a(2784),w=a(10289),i=a(79692),E=a(80030),c=a(95544),l=a(90436),A=a(38592),S=a(77277),F=a(86619),U=a(50581),B=a(61837),V=a(60905),f=a(4614),p=a(42494),I=a(73698),y=a(12231),C=a(74828),N=a(56939),R=a(93809),b=a(76635),x=a.n(b),H=a(58838),te=a(33375),oe=a(21853),ce=a(84767),He=a(4812),De=a(19034),et=a.n(De),lt=a(63249);const Et=(0,e.T0)({id:"plugin.githubpullrequests.service"});class Lt{async listPullRequests({search:Rt="",token:Dt,owner:tn,repo:Rn,pageSize:In=5,page:On,baseUrl:Mn}){return{pullRequestsData:(await new T.v({auth:Dt,...Mn&&{baseUrl:Mn}}).search.issuesAndPullRequests({q:`${Rt} in:title type:pr repo:${tn}/${Rn}`,per_page:In,page:On})).data}}async getRepositoryData({baseUrl:Rt,token:Dt,url:tn}){const Rn=await new T.v({auth:Dt,...Rt&&{baseUrl:Rt}}).request({url:tn});return{htmlUrl:Rn.data.html_url,fullName:Rn.data.full_name,additions:Rn.data.additions,deletions:Rn.data.deletions,changedFiles:Rn.data.changed_files}}}const dt=(0,e.NT)({id:"github-pull-requests"}),he=(0,e.rx)({id:"github-pull-requests",apis:[(0,e.ni)(Et,new Lt)],routes:{entityContent:dt}}),j=he.provide((0,e.P4)({name:"EntityGithubPullRequestsContent",component:()=>Promise.resolve().then(function(){return pn}).then(ot=>ot.Router),mountPoint:dt})),re=he.provide((0,e.CO)({name:"EntityGithubPullRequestsOverviewCard",component:{lazy:()=>a.e(3743).then(a.bind(a,83743)).then(ot=>ot.PullRequestsStatsCard)}})),W=he.provide((0,e.CO)({name:"EntityGithubPullRequestsTable",component:{lazy:()=>a.e(9608).then(a.bind(a,29608)).then(ot=>ot.PullRequestsTable)}})),d=he.provide((0,t._B)({name:"HomePageRequestedReviewsCard",title:"Review requests",components:()=>a.e(2874).then(a.bind(a,22874))})),k=he.provide((0,t._B)({name:"HomePageRequestedReviewsCard",title:"Your open pull requests",components:()=>a.e(3089).then(a.bind(a,83089))})),J="github.com/project-slug",Le=ot=>{var Rt,Dt;return(Dt=(Rt=ot==null?void 0:ot.metadata.annotations)==null?void 0:Rt[J])!=null?Dt:""},Me="roadie-backstage-pull-requests/default-filter",gt=ot=>{var Rt,Dt;return(Dt=(Rt=ot==null?void 0:ot.metadata.annotations)==null?void 0:Rt[Me])!=null?Dt:""},nt=()=>{var ot;const tn=((ot=(0,e.h_)(e.Ds).getOptionalConfigArray("integrations.github"))!=null?ot:[])[0];return tn==null?void 0:tn.getOptionalString("apiBaseUrl")};function M({search:ot,owner:Rt,repo:Dt,branch:tn}){const Rn=(0,e.h_)(Et),In=(0,e.h_)(e.F4),On=nt(),[Mn,Bn]=(0,h.useState)(0),[_n,yr]=(0,h.useState)(0),[Yn,Ur]=(0,h.useState)(5),nr=ir=>et()(ir).fromNow(),{loading:jn,value:rr,retry:vr,error:Jn}=(0,ce.Z)(async()=>{const ir=await In.getAccessToken(["repo"]);return Dt?Rn.listPullRequests({token:ir,search:ot,owner:Rt,repo:Dt,pageSize:Yn,page:_n+1,branch:tn,baseUrl:On}).then(({pullRequestsData:{total_count:Cr,items:Ir}})=>(Cr>=0&&Bn(Cr),Ir.map(({id:sn,html_url:wr,title:_a,number:va,created_at:Er,updated_at:Gr,user:Vr,state:kr,draft:Mr,pull_request:{merged_at:sa}})=>({url:wr,id:sn,number:va,title:_a,state:kr,draft:Mr,merged:sa,creatorNickname:Vr.login,creatorProfileLink:Vr.html_url,createdTime:nr(Er),updatedTime:nr(Gr)})))):[]},[_n,Yn,Dt,Rt]);return(0,h.useEffect)(()=>{yr(0),vr()},[ot]),[{page:_n,pageSize:Yn,loading:jn,prData:rr,projectName:`${Rt}/${Dt}`,total:Mn,error:Jn},{prData:rr,setPage:yr,setPageSize:Ur,retry:vr}]}const Z=(0,i.Z)(()=>({open:{fill:"#22863a",verticalAlign:"sub"},closed:{fill:"#cb2431",verticalAlign:"sub"},merged:{fill:"#6f42c1",verticalAlign:"sub"},draft:{fill:"#6a737d",verticalAlign:"sub"},comment:{fill:"#768390",verticalAlign:"sub"}})),ie=()=>{const ot=Z();return h.createElement("svg",{width:"16",height:"16",className:ot.open,viewBox:"0 0 16 16"},h.createElement("path",{fillRule:"evenodd",d:"M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"}))},we=()=>{const ot=Z();return h.createElement("svg",{width:"16",height:"16",className:ot.closed,viewBox:"0 0 16 16"},h.createElement("path",{fillRule:"evenodd",d:"M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"}))},je=()=>{const ot=Z();return h.createElement("svg",{width:"16",height:"16",className:ot.merged,viewBox:"0 0 16 16"},h.createElement("path",{fillRule:"evenodd",d:"M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"}))},Xe=()=>{const ot=Z();return h.createElement("svg",{width:"16",height:"16",className:ot.draft,viewBox:"0 0 16 16"},h.createElement("path",{fillRule:"evenodd",d:"M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"}))},Mt=()=>{const ot=Z();return h.createElement("svg",{width:"16",height:"16",className:ot.comment,viewBox:"0 0 16 16"},h.createElement("path",{fillRule:"evenodd",d:"M2.75 2.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h4.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25H2.75zM1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0113.25 12H9.06l-2.573 2.573A1.457 1.457 0 014 13.543V12H2.75A1.75 1.75 0 011 10.25v-7.5z"}))},Ut=ot=>{switch(!0){case(ot.state==="open"&&ot.draft):return h.createElement(E.ZP,{title:"Draft"},h.createElement("span",null,h.createElement(Xe,null)));case ot.state==="open":return h.createElement(E.ZP,{title:"Open"},h.createElement("span",null,h.createElement(ie,null)));case(ot.state==="closed"&&Boolean(ot.merged)):return h.createElement(E.ZP,{title:"Merged"},h.createElement("span",null,h.createElement(je,null)));case ot.state==="closed":return h.createElement(E.ZP,{title:"Closed"},h.createElement("span",null,h.createElement(we,null)));default:return null}},Gt=[{title:"ID",field:"number",highlight:!0,width:"150px",render:ot=>h.createElement(c.Z,{fontWeight:"fontWeightBold"},h.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:ot.url},"#",ot.number))},{title:"Title",field:"title",highlight:!0,render:ot=>h.createElement(l.Z,{variant:"body2",noWrap:!0},Ut(ot)," ",h.createElement(c.Z,{ml:1,component:"span"},ot.title))},{title:"Creator",field:"creatorNickname",highlight:!0,width:"250px",render:ot=>h.createElement(c.Z,{fontWeight:"fontWeightBold"},h.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:ot.creatorProfileLink},ot.creatorNickname))},{title:"Created",field:"createdTime",highlight:!0,render:ot=>h.createElement(l.Z,{variant:"body2",noWrap:!0},ot.createdTime)},{title:"Last updated",field:"updatedTime",highlight:!0,render:ot=>h.createElement(l.Z,{variant:"body2",noWrap:!0},ot.updatedTime)}],zt=({projectName:ot,loading:Rt,pageSize:Dt,page:tn,prData:Rn,onChangePage:In,onChangePageSize:On,total:Mn,StateFilterComponent:Bn,SearchComponent:_n})=>h.createElement(R.iA,{isLoading:Rt,options:{paging:!0,search:!1,pageSize:Dt,padding:"dense"},totalCount:Mn,page:tn,actions:[],data:Rn!=null?Rn:[],onPageChange:In,onRowsPerPageChange:On,title:h.createElement(h.Fragment,null,h.createElement(c.Z,{display:"flex",alignItems:"center"},h.createElement(H.Z,null),h.createElement(c.Z,{mr:1}),h.createElement(l.Z,{variant:"h6"},ot)),Bn?h.createElement(Bn,null):h.createElement(h.Fragment,null),_n?h.createElement(_n,null):h.createElement(h.Fragment,null)),columns:Gt}),_t=ot=>{const{entity:Rt}=(0,lt.X2)(),Dt=Le(Rt),tn=gt(Rt),[Rn,In]=(Dt!=null?Dt:"/").split("/"),[On,Mn]=(0,h.useState)(`state:open ${tn}`),Bn=(0,h.useRef)((0,b.debounce)(Mn,500)),_n=vr=>{Mn(vr==="all"?Jn=>Jn.replace(/state:(open|closed)/g,"").trim():Jn=>Jn.search(/state:(open|closed)/g)===-1?`state:${vr} ${Jn}`:Jn.replace(/state:(open|closed)/g,`state:${vr}`))},[yr,{retry:Yn,setPage:Ur,setPageSize:nr}]=M({search:On,owner:Rn,repo:In}),jn=()=>h.createElement(c.Z,{position:"absolute",right:525,top:20},h.createElement(A.Z,{color:"primary","aria-label":"text primary button group"},h.createElement(S.Z,{color:On.search("state:open")!==-1?"primary":"default",onClick:()=>_n("open")},"OPEN"),h.createElement(S.Z,{color:On.search("state:closed")!==-1?"primary":"default",onClick:()=>_n("closed")},"CLOSED"),h.createElement(S.Z,{color:On.search("state")===-1?"primary":"default",onClick:()=>_n("all")},"ALL"))),rr=()=>{const[vr,Jn]=(0,h.useState)(On);return h.createElement(c.Z,{position:"absolute",width:500,right:10,top:25},h.createElement(F.Z,{fullWidth:!0,onChange:ir=>{Jn(ir.target.value),Bn.current(ir.target.value)},placeholder:"Filter",value:vr,InputProps:{startAdornment:h.createElement(U.Z,{position:"start"},h.createElement(oe.Z,{fontSize:"small"})),endAdornment:h.createElement(U.Z,{position:"end"},h.createElement(B.Z,{disabled:!vr,onClick:()=>{Jn(""),Mn("")}},h.createElement(te.Z,{fontSize:"small","aria-label":"clear"})))}}))};return h.createElement(zt,{...yr,StateFilterComponent:jn,SearchComponent:rr,loading:yr.loading,retry:Yn,onChangePageSize:nr,onChangePage:Ur})},on=ot=>{const{entity:Rt}=(0,lt.X2)(),Dt=Le(Rt);return!Dt||Dt===""?h.createElement(R.sk,{annotation:J}):h.createElement(_t,null)},It=()=>h.createElement(R.T3,{themeId:"tool"},h.createElement(R.VY,null,h.createElement(R.yW,{title:"GitHub Pull Requests"},h.createElement(R.qt,null,"Plugin to show a project's pull requests on GitHub")),h.createElement(V.Z,{container:!0,spacing:3,direction:"column"},h.createElement(V.Z,{item:!0},h.createElement(on,null))))),dn=ot=>{var Rt;return Boolean((Rt=ot.metadata.annotations)==null?void 0:Rt[J])};var pn=Object.freeze({__proto__:null,isGithubPullRequestsAvailable:dn,Router:()=>{const{entity:ot}=(0,lt.X2)();return dn(ot)?h.createElement(w.Z5,null,h.createElement(w.AW,{path:"/",element:h.createElement(It,null)})):h.createElement(R.sk,{annotation:J})}});function wn(ot){const Rt=ot.reduce((Dt,tn)=>(Dt.avgTimeUntilMerge+=tn.pullRequest.mergedAt?new Date(tn.pullRequest.mergedAt).getTime()-new Date(tn.createdAt).getTime():0,Dt.mergedCount+=tn.pullRequest.mergedAt?1:0,Dt.closedCount+=tn.closedAt?1:0,Dt.additions+=tn.pullRequest.additions,Dt.deletions+=tn.pullRequest.deletions,Dt.changedLinesCount+=tn.pullRequest.additions+tn.pullRequest.deletions,Dt.changedFilesCount+=tn.pullRequest.changedFiles,Dt),{avgTimeUntilMerge:0,closedCount:0,mergedCount:0,changedLinesCount:0,changedFilesCount:0,additions:0,deletions:0});return{...Rt,avgChangedLinesCount:Math.round(Rt.changedLinesCount/ot.length),avgChangedFilesCount:Math.round(Rt.changedFilesCount/ot.length),avgAdditions:Math.round(Rt.additions/ot.length),avgDeletions:Math.round(Rt.deletions/ot.length)}}function pe({owner:ot,repo:Rt,branch:Dt,pageSize:tn,state:Rn}){const In=(0,e.h_)(Et),On=(0,e.h_)(e.F4),Mn=nt(),{loading:Bn,value:_n,error:yr}=(0,He.Z)(async()=>{const Yn=await On.getAccessToken(["repo"]);if(!Rt)return{avgTimeUntilMerge:"Never",mergedToClosedRatio:"0%",avgChangedLinesCount:0,avgChangedFilesCount:0,avgAdditions:0,avgDeletions:0};const{pullRequestsData:Ur}=await In.listPullRequests({search:`state:${Rn}`,token:Yn,owner:ot,repo:Rt,pageSize:tn,page:1,branch:Dt,baseUrl:Mn}),nr=await Promise.all(Ur.items.map(async Jn=>{const ir=await In.getRepositoryData({url:Jn.pull_request.url,baseUrl:Mn,token:Yn});return{createdAt:Jn.created_at,closedAt:Jn.closed_at,pullRequest:{mergedAt:Jn.pull_request.merged_at,additions:ir.additions,deletions:ir.deletions,changedFiles:ir.changedFiles}}})),jn=wn(nr);if(jn.closedCount===0||jn.mergedCount===0)return{...jn,avgTimeUntilMerge:"Never",mergedToClosedRatio:"0%"};const vr=et().duration(jn.avgTimeUntilMerge/jn.mergedCount).humanize();return{...jn,avgTimeUntilMerge:vr,mergedToClosedRatio:`${Math.round(jn.mergedCount/jn.closedCount*100)}%`}},[tn,Rt,ot]);return[{loading:Bn,statsData:_n,projectName:`${ot}/${Rt}`,error:yr}]}const ue=(0,i.Z)(ot=>({container:{backgroundColor:ot.palette.background.paper,fontSize:"1rem",fontWeight:Number(ot.typography.fontWeightBold),borderRadius:"6px",boxShadow:ot.shadows[10]},additions:{color:ot.palette.success.main},deletions:{color:ot.palette.error.main}})),Ce=ot=>{const{additions:Rt,deletions:Dt}=ot,tn=ue();return h.createElement(V.Z,{container:!0,className:tn.container},h.createElement(V.Z,{item:!0,className:tn.additions},"+",Rt),h.createElement(V.Z,{item:!0,className:tn.deletions},"-",Dt))},Be=(0,i.Z)(ot=>({infoCard:{marginBottom:ot.spacing(3),"& + .MuiAlert-root":{marginTop:ot.spacing(3)},"& .MuiCardContent-root":{padding:ot.spacing(2,1,2,2)},"& td":{whiteSpace:"normal"}}})),Ke=ot=>{const{entity:Rt}=(0,lt.X2)(),Dt=Be(),[tn,Rn]=(0,h.useState)(20),In=Le(Rt),[On,Mn]=(In!=null?In:"/").split("/"),[{statsData:Bn,loading:_n}]=pe({owner:On,repo:Mn,pageSize:tn,state:"closed"}),yr={"average time of PR until merge":Bn==null?void 0:Bn.avgTimeUntilMerge,"merged to closed ratio":Bn==null?void 0:Bn.mergedToClosedRatio,"average size of PR":h.createElement(E.ZP,{title:h.createElement(Ce,{additions:Bn==null?void 0:Bn.avgAdditions,deletions:Bn==null?void 0:Bn.avgDeletions})},h.createElement("div",null,Bn==null?void 0:Bn.avgChangedLinesCount," lines")),"average changed files of PR":`${Bn==null?void 0:Bn.avgChangedFilesCount}`};return h.createElement(R.rJ,{title:"GitHub Pull Requests Statistics",className:Dt.infoCard,variant:ot.variant},_n?h.createElement(f.Z,null):h.createElement(c.Z,{position:"relative"},h.createElement(R.xT,{metadata:yr}),h.createElement(c.Z,{display:"flex",justifyContent:"flex-end"},h.createElement(p.Z,null,h.createElement(I.Z,{value:tn,onChange:Yn=>Rn(Number(Yn.target.value))},h.createElement(y.Z,{value:10},"10"),h.createElement(y.Z,{value:20},"20"),h.createElement(y.Z,{value:50},"50"),h.createElement(y.Z,{value:100},"100")),h.createElement(C.Z,null,h.createElement(N.Z,null,"Number of PRs"))))))};var Ht=ot=>{const{entity:Rt}=(0,lt.X2)(),Dt=Le(Rt);return!Dt||Dt===""?h.createElement(R.sk,{annotation:J}):h.createElement(Ke,{...ot})}},4933:function(Se,r,a){a.d(r,{a7:function(){return e.E},oS:function(){return e.i},oW:function(){return e.d}});var e=a(56222),t=a(76377),T=a(38785),h=a(2784),w=a(93809),i=a(76635),E=a.n(i),c=a(19034),l=a.n(c),A=a(63249)},50617:function(Se,r,a){a.d(r,{S4:function(){return ar},cz:function(){return Ya},eE:function(){return pn},of:function(){return bn},zG:function(){return w}});var e=a(76635),t=a.n(e),T=a(42530),h=a.n(T);const w="default",i="backstage.io/view-url",E="backstage.io/edit-url";class c{constructor(Ae=w){this.namespace=Ae}async enforce(Ae){return Ae.metadata.namespace?Ae:lodash.merge({metadata:{namespace:this.namespace}},Ae)}}class l{static isValidPrefixAndOrSuffix(Ae,ht,xt,qt){if(typeof Ae!="string")return!1;const nn=Ae.split(ht);return nn.length===1?qt(nn[0]):nn.length===2?xt(nn[0])&&qt(nn[1]):!1}static isJsonSafe(Ae){try{return t().isEqual(Ae,JSON.parse(JSON.stringify(Ae)))}catch{return!1}}static isValidDnsSubdomain(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=253&&Ae.split(".").every(l.isValidDnsLabel)}static isValidDnsLabel(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(Ae)}static isValidTag(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^[a-z0-9+#]+(\-[a-z0-9+#]+)*$/.test(Ae)}static isValidUrl(Ae){if(typeof Ae!="string")return!1;try{return new URL(Ae),!0}catch{return!1}}static isValidString(Ae){var ht;return typeof Ae=="string"&&((ht=Ae==null?void 0:Ae.trim())==null?void 0:ht.length)>=1}static isNonEmptyString(Ae){var ht;return typeof Ae=="string"&&((ht=Ae==null?void 0:Ae.trim())==null?void 0:ht.length)>=1}}var A="http://json-schema.org/draft-07/schema",S="EntityEnvelope",F="The envelope skeleton parts of an entity - whatever is necessary to be able to give it a ref and pass to further validation / policy checking.",U=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService"}}],B="object",V=["apiVersion","kind","metadata"],f=!0,p={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{type:"object",required:["name"],additionalProperties:!0,properties:{name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1}}}},I={$schema:A,$id:S,description:F,examples:U,type:B,required:V,additionalProperties:f,properties:p},y="http://json-schema.org/draft-07/schema",C="Entity",N="The parts of the format that's common to all versions/kinds of entity.",R=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],b="object",x=["apiVersion","kind","metadata"],H=!1,te={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{$ref:"EntityMeta"},spec:{type:"object",description:"The specification data describing the entity itself."},relations:{type:"array",description:"The relations that this entity has with other entities.",items:{$ref:"common#relation"}},status:{$ref:"common#status"}},oe={$schema:y,$id:C,description:N,examples:R,type:b,required:x,additionalProperties:H,properties:te},ce="http://json-schema.org/draft-07/schema",He="EntityMeta",De="Metadata fields common to all versions/kinds of entity.",et=[{uid:"e01199ab-08cc-44c2-8e19-5c29ded82521",etag:"lsndfkjsndfkjnsdfkjnsd==",name:"my-component-yay",namespace:"the-namespace",labels:{"backstage.io/custom":"ValueStuff"},annotations:{"example.com/bindings":"are-secret"},tags:["java","data"]}],lt="object",Et=["name"],Lt=!0,dt={uid:{type:"string",description:"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.",examples:["e01199ab-08cc-44c2-8e19-5c29ded82521"],minLength:1},etag:{type:"string",description:"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.",examples:["lsndfkjsndfkjnsdfkjnsd=="],minLength:1},name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1},title:{type:"string",description:"A display name of the entity, to be presented in user interfaces instead of the name property, when available.",examples:["React SSR Template"],minLength:1},description:{type:"string",description:"A short (typically relatively few words, on one line) description of the entity."},labels:{type:"object",description:"Key/value pairs of identifying information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},annotations:{type:"object",description:"Key/value pairs of non-identifying auxiliary information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},tags:{type:"array",description:"A list of single-valued strings, to for example classify catalog entities in various ways.",items:{type:"string",minLength:1}},links:{type:"array",description:"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.",items:{type:"object",required:["url"],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://admin.example-org.com"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["Admin Dashboard"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}}},he={$schema:ce,$id:He,description:De,examples:et,type:lt,required:Et,additionalProperties:Lt,properties:dt},j="http://json-schema.org/draft-07/schema",re="common",W="object",d="Common definitions to import from other schemas",k={reference:{$id:"#reference",type:"object",description:"A reference by name to another entity.",required:["kind","namespace","name"],additionalProperties:!1,properties:{kind:{type:"string",description:"The kind field of the entity.",minLength:1},namespace:{type:"string",description:"The metadata.namespace field of the entity.",minLength:1},name:{type:"string",description:"The metadata.name field of the entity.",minLength:1}}},relation:{$id:"#relation",type:"object",description:"A directed relation from one entity to another.",required:["type","target"],additionalProperties:!1,properties:{type:{type:"string",minLength:1,pattern:"^\\w+$",description:"The type of relation."},target:{$ref:"#reference"}}},status:{$id:"#status",type:"object",description:"The current status of the entity, as claimed by various sources.",required:[],additionalProperties:!0,properties:{items:{type:"array",items:{$ref:"#statusItem"}}}},statusItem:{$id:"#statusItem",type:"object",description:"A specific status item on a well known format.",required:["type","level","message"],additionalProperties:!0,properties:{type:{type:"string",minLength:1},level:{$ref:"#statusLevel",description:"The status level / severity of the status item."},message:{type:"string",description:"A brief message describing the status, intended for human consumption."},error:{$ref:"#error",description:"An optional serialized error object related to the status."}}},statusLevel:{$id:"#statusLevel",type:"string",description:"A status level / severity.",enum:["info","warning","error"]},error:{$id:"#error",type:"object",description:"A serialized error object.",required:["name","message"],additionalProperties:!0,properties:{name:{type:"string",examples:["Error","InputError"],description:"The type name of the error",minLength:1},message:{type:"string",description:"The message of the error"},code:{type:"string",description:"An error code associated with the error"},stack:{type:"string",description:"An error stack trace"}}}},J={$schema:j,$id:re,type:W,description:d,definitions:k};const Le=new Map,Me=[I,oe,he,J];function gt(qe){if(!(qe!=null&&qe.length))throw new TypeError("Unknown error");const Ae=qe[0];throw new TypeError(`${Ae.instancePath||"<root>"} ${Ae.message}${Ae.params?` - ${Object.entries(Ae.params).map(([ht,xt])=>`${ht}: ${xt}`).join(", ")}`:""}`)}function nt(qe,Ae={}){var ht;const xt=(ht=Ae==null?void 0:Ae.disableCache)!=null?ht:!1,qt=xt?"":JSON.stringify(qe);if(!xt){const Un=Le.get(qt);if(Un)return Un}const nn=M(qe),gn=new(h())({allowUnionTypes:!0,allErrors:!0,validateSchema:!0});nn.length&&gn.addSchema(nn,void 0,void 0,!0);const or=gn.compile(qe);return xt||Le.set(qt,or),or}function M(qe){if(typeof qe!="object")return[];const Ae=new Set;qe.$id&&Ae.add(qe.$id);const ht=new Array,xt=[qe];for(;xt.length;){const qt=xt.pop();for(const nn of Z(qt))if(!Ae.has(nn)){Ae.add(nn);const gn=Me.find(or=>or.$id===nn);gn&&(ht.push(gn),xt.push(gn))}}return ht}function*Z(qe){const Ae=[qe];for(;Ae.length;){const ht=Ae.pop();if(typeof ht=="object"&&ht)for(const[xt,qt]of Object.entries(ht))xt==="$ref"&&typeof qt=="string"?yield qt.split("#")[0]:Ae.push(qt)}}function ie(qe){const Ae=nt(qe||I);return ht=>{if(Ae(ht)===!0)return ht;throw gt(Ae.errors)}}function we(qe){const Ae=nt(qe);return ht=>{var xt;if(Ae(ht)===!0)return ht;const nn=(xt=Ae.errors)==null?void 0:xt.filter(gn=>["/kind","/apiVersion"].includes(gn.instancePath));if((nn==null?void 0:nn.length)&&nn.every(gn=>gn.keyword==="enum"))return!1;throw gt(Ae.errors)}}function je(qe){const Ae=nt(qe||oe);return ht=>{if(Ae(ht)===!0)return ht;throw gt(Ae.errors)}}class Xe{static isValidApiVersion(Ae){return l.isValidPrefixAndOrSuffix(Ae,"/",l.isValidDnsSubdomain,ht=>ht.length>=1&&ht.length<=63&&/^[a-z0-9A-Z]+$/.test(ht))}static isValidKind(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^[a-zA-Z][a-z0-9A-Z]*$/.test(Ae)}static isValidObjectName(Ae){return typeof Ae=="string"&&Ae.length>=1&&Ae.length<=63&&/^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(Ae)}static isValidNamespace(Ae){return l.isValidDnsLabel(Ae)}static isValidLabelKey(Ae){return l.isValidPrefixAndOrSuffix(Ae,"/",l.isValidDnsSubdomain,Xe.isValidObjectName)}static isValidLabelValue(Ae){return Ae===""||Xe.isValidObjectName(Ae)}static isValidAnnotationKey(Ae){return l.isValidPrefixAndOrSuffix(Ae,"/",l.isValidDnsSubdomain,Xe.isValidObjectName)}static isValidAnnotationValue(Ae){return typeof Ae=="string"}}const Mt={isValidApiVersion:Xe.isValidApiVersion,isValidKind:Xe.isValidKind,isValidEntityName:Xe.isValidObjectName,isValidNamespace:Xe.isValidNamespace,isValidLabelKey:Xe.isValidLabelKey,isValidLabelValue:Xe.isValidLabelValue,isValidAnnotationKey:Xe.isValidAnnotationKey,isValidAnnotationValue:Xe.isValidAnnotationValue,isValidTag:qe=>typeof qe=="string"&&qe.length>=1&&qe.length<=63&&/^[a-z0-9:+#]+(\-[a-z0-9:+#]+)*$/.test(qe)};function Ut(qe={}){return{...Mt,...qe}}class Gt{constructor(Ae=Ut()){this.validators=Ae}async enforce(Ae){var ht,xt,qt,nn,gn,or,Un;function Fn(Q,se,ge){if(se==null)throw new Error(`${Q} must have a value`);let Pe;try{Pe=ge(se)}catch(Oe){throw new Error(`${Q} could not be validated, ${Oe}`)}if(!Pe){let Oe;switch(ge.name){case"isValidLabelValue":case"isValidObjectName":Oe="a string that is sequences of [a-zA-Z0-9] separated by any of [-_.], at most 63 characters in total";break;case"isValidLabelKey":case"isValidApiVersion":case"isValidAnnotationKey":Oe="a valid prefix and/or suffix";break;case"isValidNamespace":case"isValidDnsLabel":Oe="a string that is sequences of [a-z0-9] separated by [-], at most 63 characters in total";break;case"isValidTag":Oe="a string that is sequences of [a-z0-9+#] separated by [-], at most 63 characters in total";break;case"isValidAnnotationValue":Oe="a string";break;case"isValidKind":Oe="a string that is a sequence of [a-zA-Z][a-z0-9A-Z], at most 63 characters in total";break;case"isValidUrl":Oe="a string that is a valid url";break;case"isValidString":case"isNonEmptyString":Oe="a non empty string";break;default:Oe=void 0;break}const Ge=Oe?` expected ${Oe} but found "${se}".`:"";throw new Error(`"${Q}" is not valid;${Ge} To learn more about catalog file format, visit: https://github.com/backstage/backstage/blob/master/docs/architecture-decisions/adr002-default-catalog-file-format.md`)}}function Rr(Q,se,ge){return se===void 0||Fn(Q,se,ge)}Fn("apiVersion",Ae.apiVersion,this.validators.isValidApiVersion),Fn("kind",Ae.kind,this.validators.isValidKind),Fn("metadata.name",Ae.metadata.name,this.validators.isValidEntityName),Rr("metadata.namespace",Ae.metadata.namespace,this.validators.isValidNamespace);for(const[Q,se]of Object.entries((ht=Ae.metadata.labels)!=null?ht:[]))Fn(`labels.${Q}`,Q,this.validators.isValidLabelKey),Fn(`labels.${Q}`,se,this.validators.isValidLabelValue);for(const[Q,se]of Object.entries((xt=Ae.metadata.annotations)!=null?xt:[]))Fn(`annotations.${Q}`,Q,this.validators.isValidAnnotationKey),Fn(`annotations.${Q}`,se,this.validators.isValidAnnotationValue);const ke=(qt=Ae.metadata.tags)!=null?qt:[];for(let Q=0;Q<ke.length;++Q)Fn(`tags.${Q}`,ke[Q],this.validators.isValidTag);const K=(nn=Ae.metadata.links)!=null?nn:[];for(let Q=0;Q<K.length;++Q)Fn(`links.${Q}.url`,(gn=K[Q])==null?void 0:gn.url,l.isValidUrl),Rr(`links.${Q}.title`,(or=K[Q])==null?void 0:or.title,l.isNonEmptyString),Rr(`links.${Q}.icon`,(Un=K[Q])==null?void 0:Un.icon,Xe.isValidObjectName);return Ae}}const zt=null;class _t{constructor(Ae=zt){this.knownFields=Ae}async enforce(Ae){for(const ht of Object.keys(Ae))if(!this.knownFields.includes(ht))throw new Error(`Unknown field ${ht}`);return Ae}}class on{async enforce(Ae){if(!this.validate){const qt=new Ajv({allowUnionTypes:!0});this.validate=qt.addSchema([J,he],void 0,void 0,!0).compile(oe)}if(this.validate(Ae)===!0)return Ae;const[xt]=this.validate.errors||[];throw xt?new Error(`Malformed envelope, ${xt.instancePath||"<root>"} ${xt.message}`):new Error("Malformed envelope, Unknown error")}}function It(qe){let Ae=qe.indexOf(":");const ht=qe.indexOf("/");ht!==-1&&ht<Ae&&(Ae=-1);const xt=Ae===-1?void 0:qe.slice(0,Ae),qt=ht===-1?void 0:qe.slice(Ae+1,ht),nn=qe.slice(Math.max(Ae+1,ht+1));if(xt===""||qt===""||nn==="")throw new TypeError(`Entity reference "${qe}" was not on the form [<kind>:][<namespace>/]<name>`);return{kind:xt,namespace:qt,name:nn}}function dn(qe){return{kind:qe.kind,namespace:qe.metadata.namespace||w,name:qe.metadata.name}}function bn(qe,Ae){var ht,xt,qt,nn;if(!qe)throw new Error("Entity reference must not be empty");const gn=Ae==null?void 0:Ae.defaultKind,or=(Ae==null?void 0:Ae.defaultNamespace)||w;let Un,Fn,Rr;if(typeof qe=="string"){const ke=It(qe);Un=(ht=ke.kind)!=null?ht:gn,Fn=(xt=ke.namespace)!=null?xt:or,Rr=ke.name}else Un=(qt=qe.kind)!=null?qt:gn,Fn=(nn=qe.namespace)!=null?nn:or,Rr=qe.name;if(Un)if(Fn){if(!Rr){const ke=JSON.stringify(qe);throw new Error(`Entity reference ${ke} had missing or empty name`)}}else{const ke=JSON.stringify(qe);throw new Error(`Entity reference ${ke} had missing or empty namespace`)}else{const ke=JSON.stringify(qe);throw new Error(`Entity reference ${ke} had missing or empty kind (e.g. did not start with "component:" or similar)`)}return{kind:Un,namespace:Fn,name:Rr}}function pn(qe){var Ae,ht;let xt,qt,nn;return"metadata"in qe?(xt=qe.kind,qt=(Ae=qe.metadata.namespace)!=null?Ae:w,nn=qe.metadata.name):(xt=qe.kind,qt=(ht=qe.namespace)!=null?ht:w,nn=qe.name),`${xt.toLocaleLowerCase("en-US")}:${qt.toLocaleLowerCase("en-US")}/${nn.toLocaleLowerCase("en-US")}`}class wn{constructor(Ae){this.policies=Ae}async enforce(Ae){let ht=Ae;for(const xt of this.policies){const qt=await xt.enforce(ht);if(!qt)throw new Error(`Policy ${xt.constructor.name} did not return a result`);ht=qt}return ht}}class pe{constructor(Ae){this.policies=Ae}async enforce(Ae){for(const ht of this.policies){const xt=await ht.enforce(Ae);if(xt)return xt}throw new Error("The entity did not match any known policy")}}const ue={allOf(qe){return new wn(qe)},oneOf(qe){return new pe(qe)}};var Ce="http://json-schema.org/draft-07/schema",Be="ApiV1alpha1",Ke="An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.",wt=[{apiVersion:"backstage.io/v1alpha1",kind:"API",metadata:{name:"artist-api",description:"Retrieve artist details",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"openapi",lifecycle:"production",owner:"artist-relations-team",system:"artist-engagement-portal",definition:`openapi: "3.0.0"
info:...`}}],Ht=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["API"]},spec:{type:"object",required:["type","lifecycle","owner","definition"],properties:{type:{type:"string",description:"The type of the API definition.",examples:["openapi","asyncapi","graphql","grpc"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the API.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the API.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the API belongs to.",minLength:1},definition:{type:"string",description:"The definition of the API, based on the format defined by the type.",minLength:1}}}}}],ot={$schema:Ce,$id:Be,description:Ke,examples:wt,allOf:Ht};function Rt(qe){const Ae=we(qe);return{async check(ht){return Ae(ht)===ht}}}const Dt=Rt(ot);var tn="http://json-schema.org/draft-07/schema",Rn="ComponentV1alpha1",In='A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a "unit of software", usually with a distinct deployable or linkable artifact.',On=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],Mn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Component"]},spec:{type:"object",required:["type","lifecycle","owner"],properties:{type:{type:"string",description:"The type of component.",examples:["service","website","library"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the component.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the component belongs to.",minLength:1},subcomponentOf:{type:"string",description:"An entity reference to another component of which the component is a part.",minLength:1},providesApis:{type:"array",description:"An array of entity references to the APIs that are provided by the component.",items:{type:"string",minLength:1}},consumesApis:{type:"array",description:"An array of entity references to the APIs that are consumed by the component.",items:{type:"string",minLength:1}},dependsOn:{type:"array",description:"An array of references to other entities that the component depends on to function.",items:{type:"string",minLength:1}}}}}}],Bn={$schema:tn,$id:Rn,description:In,examples:On,allOf:Mn};const _n=Rt(Bn);var yr="http://json-schema.org/draft-07/schema",Yn="DomainV1alpha1",Ur="A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.",nr=[{apiVersion:"backstage.io/v1alpha1",kind:"Domain",metadata:{name:"artists",description:"Everything about artists"},spec:{owner:"artist-relations-team"}}],jn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Domain"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1}}}}}],rr={$schema:yr,$id:Yn,description:Ur,examples:nr,allOf:jn};const vr=Rt(rr);var Jn="http://json-schema.org/draft-07/schema",ir="GroupV1alpha1",Cr="A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.",Ir=[{apiVersion:"backstage.io/v1alpha1",kind:"Group",metadata:{name:"infrastructure",description:"The infra business unit"},spec:{type:"business-unit",profile:{displayName:"Infrastructure",email:"infrastructure@example.com",picture:"https://example.com/groups/bu-infrastructure.jpeg"},parent:"ops",children:["backstage","other"]}}],sn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Group"]},spec:{type:"object",required:["type","children"],properties:{type:{type:"string",description:"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.",examples:["team","business-unit","product-area","root"],minLength:1},profile:{type:"object",description:"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Infrastructure"],minLength:1},email:{type:"string",description:"An email where this entity can be reached.",examples:["infrastructure@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this entity.",examples:["https://example.com/groups/bu-infrastructure.jpeg"],minLength:1}}},parent:{type:"string",description:"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.",examples:["ops"],minLength:1},children:{type:"array",description:"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["backstage","other"],minLength:1}},members:{type:"array",description:"The users that are members of this group. The entries of this array are entity references.",items:{type:"string",examples:["jdoe"],minLength:1}}}}}}],wr={$schema:Jn,$id:ir,description:Cr,examples:Ir,allOf:sn};const _a=Rt(wr);var va="http://json-schema.org/draft-07/schema",Er="LocationV1alpha1",Gr="A location is a marker that references other places to look for catalog data.",Vr=[{apiVersion:"backstage.io/v1alpha1",kind:"Location",metadata:{name:"org-data"},spec:{type:"url",targets:["http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml"]}}],kr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Location"]},spec:{type:"object",required:[],properties:{type:{type:"string",description:"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.",examples:["url"],minLength:1},target:{type:"string",description:"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.",examples:["./details/catalog-info.yaml"],minLength:1},targets:{type:"array",description:"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.",items:{type:"string",examples:["./details/catalog-info.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml"],minLength:1}},presence:{type:"string",description:"Whether the presence of the location target is required and it should be considered an error if it can not be found",default:"required",examples:["required"],enum:["required","optional"]}}}}}],Mr={$schema:va,$id:Er,description:Gr,examples:Vr,allOf:kr};const sa=Rt(Mr),ar="ownedBy",ia="ownerOf",to="consumesApi",Pr="apiConsumedBy",Br="providesApi",Ua="apiProvidedBy",Ja="dependsOn",qr="dependencyOf",Fr="parentOf",gr="childOf",Ea="memberOf",Ia="hasMember",Ya="partOf",Or="hasPart";var la="http://json-schema.org/draft-07/schema",Ga="ResourceV1alpha1",pa="A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.",zr=[{apiVersion:"backstage.io/v1alpha1",kind:"Resource",metadata:{name:"artists-db",description:"Stores artist details"},spec:{type:"database",owner:"artist-relations-team",system:"artist-engagement-portal"}}],Zr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Resource"]},spec:{type:"object",required:["type","owner"],properties:{type:{type:"string",description:"The type of resource.",examples:["database","s3-bucket","cluster"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the resource.",examples:["artist-relations-team","user:john.johnson"],minLength:1},dependsOn:{type:"array",description:"An array of references to other entities that the resource depends on to function.",items:{type:"string",minLength:1}},system:{type:"string",description:"An entity reference to the system that the resource belongs to.",minLength:1}}}}}],mn={$schema:la,$id:Ga,description:pa,examples:zr,allOf:Zr};const Wr=Rt(mn);var Qn="http://json-schema.org/draft-07/schema",ea="SystemV1alpha1",cr="A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.",Xn=[{apiVersion:"backstage.io/v1alpha1",kind:"System",metadata:{name:"artist-engagement-portal",description:"Handy tools to keep artists in the loop"},spec:{owner:"artist-relations-team",domain:"artists"}}],hr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["System"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},domain:{type:"string",description:"An entity reference to the domain that the system belongs to.",examples:["artists"],minLength:1}}}}}],qn={$schema:Qn,$id:ea,description:cr,examples:Xn,allOf:hr};const ur=Rt(qn);var fa="http://json-schema.org/draft-07/schema",Hr="UserV1alpha1",ta="A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.",Ee=[{apiVersion:"backstage.io/v1alpha1",kind:"User",metadata:{name:"jdoe"},spec:{profile:{displayName:"Jenny Doe",email:"jenny-doe@example.com",picture:"https://example.com/staff/jenny-with-party-hat.jpeg"},memberOf:["team-b","employees"]}}],ve=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["User"]},spec:{type:"object",required:["memberOf"],properties:{profile:{type:"object",description:"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Jenny Doe"],minLength:1},email:{type:"string",description:"An email where this user can be reached.",examples:["jenny-doe@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this user.",examples:["https://example.com/staff/jenny-with-party-hat.jpeg"],minLength:1}}},memberOf:{type:"array",description:"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["team-b","employees"],minLength:1}}}}}}],Ie={$schema:fa,$id:Hr,description:ta,examples:Ee,allOf:ve};const Je=Rt(Ie),bt="backstage.io/managed-by-location",Ot="backstage.io/managed-by-origin-location",Yt="backstage.io/source-location";function Qt(qe){if(typeof qe!="string")throw new TypeError(`Unable to parse location ref '${qe}', unexpected argument ${typeof qe}`);const Ae=qe.indexOf(":");if(Ae<0)throw new TypeError(`Unable to parse location ref '${qe}', expected '<type>:<target>', e.g. 'url:https://host/path'`);const ht=qe.substring(0,Ae).trim(),xt=qe.substring(Ae+1).trim();if(!ht||!xt)throw new TypeError(`Unable to parse location ref '${qe}', expected '<type>:<target>', e.g. 'url:https://host/path'`);if(ht==="http"||ht==="https")throw new TypeError(`Invalid location ref '${qe}', please prefix it with 'url:', e.g. 'url:${qe}'`);return{type:ht,target:xt}}function cn(qe){const{type:Ae,target:ht}=qe;if(Ae){if(!ht)throw new TypeError("Unable to stringify location ref, empty target")}else throw new TypeError("Unable to stringify location ref, empty type");return`${Ae}:${ht}`}function yn(qe){var Ae,ht,xt,qt,nn;const gn=(nn=(ht=(Ae=qe.metadata)==null?void 0:Ae.annotations)==null?void 0:ht[Yt])!=null?nn:(qt=(xt=qe.metadata)==null?void 0:xt.annotations)==null?void 0:qt[bt];if(!gn)throw new Error(`Entity '${pn(qe)}' is missing location`);return Qt(gn)}},93809:function(Se,r,a){a.d(r,{VY:function(){return Wo},yW:function(){return ul},i9:function(){return Ts},rJ:function(){return Io},rU:function(){return yn},sk:function(){return rn},Or:function(){return Fs},T3:function(){return Ko},Ex:function(){return no},Gk:function(){return xs},xT:function(){return Va},qt:function(){return Au},iA:function(){return Mc}});var e=a(2784),t=a(61837),T=a(76377),h=a(19928),w=a(79692),i=a(12420),E=a(60364),c=a(41128),l=a(15459),A=a(76600),S=a(41547),F=a(77277),U=a(72779),B=a.n(U),V=a(86689),f=a(62833),p=a(10289),I=a(80030),y=a(19353),C=a(95074),N=a(56553),R=a(26639),b=a(39595),x=a(41156),H=a(13387),te=a(46506),oe=a(54073),ce=a(10368),He=a(55876),De=a(66481),et=a(19574),lt=a(60905),Et=a(90436),Lt=a.p+"static/missingAnnotation.67f79e98..svg",dt=a.p+"static/noInformation.4b426325..svg",he=a.p+"static/createComponent.975d1e1e..svg",j=a.p+"static/noBuild.1715fa71..svg",re=a(11776),W=a(38402),d=a(49378),k=a(27616),J=a(8284),Le=a(70660),Me=a(91750),gt=a(38016),nt=a(85256),M=a(1292),Z=a(47093),ie=a(48049),we=a(51209),je=a(49429),Xe=a(10179),Mt=a(15277),Ut=a.n(Mt),Gt=a(37857),zt=a(67358),_t=a(94339),on=a(14503),It=a(24579),dn=a(32552),bn=a(95544),pn=a(27597),wn=a(7896),pe=a(96234),ue=a(59740),Ce={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Be=function(_){var le=_.map(function(){return(0,e.useRef)()}),me=(0,e.useRef)(null);return(0,e.useEffect)(function(){var Re=Date.now(),xe=!1;Object.keys(le).forEach(function(ze){var tt=le[ze].current;if(!!tt){xe=!0;var ft=tt.style;ft.transitionDuration=".3s, .3s, .3s, .06s",me.current&&Re-me.current<100&&(ft.transitionDuration="0s, 0s")}}),xe&&(me.current=Date.now())}),[le]},Ke=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],wt=function(_){var le=_.className,me=_.percent,Re=_.prefixCls,xe=_.strokeColor,ze=_.strokeLinecap,tt=_.strokeWidth,ft=_.style,ut=_.trailColor,Tt=_.trailWidth,St=_.transition,Bt=(0,ue.Z)(_,Ke);delete Bt.gapPosition;var Vt=Array.isArray(me)?me:[me],Zt=Array.isArray(xe)?xe:[xe],kn=Be(Vt),Gn=(0,pe.Z)(kn,1),Zn=Gn[0],Hn=tt/2,fn=100-tt/2,xn="M ".concat(ze==="round"?Hn:0,",").concat(Hn,`
         L `).concat(ze==="round"?fn:100,",").concat(Hn),Dn="0 0 100 ".concat(tt),jr=0;return e.createElement("svg",(0,wn.Z)({className:B()("".concat(Re,"-line"),le),viewBox:Dn,preserveAspectRatio:"none",style:ft},Bt),e.createElement("path",{className:"".concat(Re,"-line-trail"),d:xn,strokeLinecap:ze,stroke:ut,strokeWidth:Tt||tt,fillOpacity:"0"}),Vt.map(function(ha,Kr){var xa=1;switch(ze){case"round":xa=1-tt/100;break;case"square":xa=1-tt/2/100;break;default:xa=1;break}var Jr={strokeDasharray:"".concat(ha*xa,"px, 100px"),strokeDashoffset:"-".concat(jr,"px"),transition:St||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},ba=Zt[Kr]||Zt[Zt.length-1];return jr+=ha,e.createElement("path",{key:Kr,className:"".concat(Re,"-line-path"),d:xn,strokeLinecap:ze,stroke:ba,strokeWidth:tt,fillOpacity:"0",ref:Zn[Kr],style:Jr})}))};wt.defaultProps=Ce,wt.displayName="Line";var Ht=wt,ot=a(86522),Rt=a(39588),Dt=0,tn=(0,Rt.Z)();function Rn(){var $;return tn?($=Dt,Dt+=1):$="TEST_OR_SSR",$}var In=function($){var _=e.useState(),le=(0,pe.Z)(_,2),me=le[0],Re=le[1];return e.useEffect(function(){Re("rc_progress_".concat(Rn()))},[]),$||me},On=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Mn($){return+$.replace("%","")}function Bn($){var _=$!=null?$:[];return Array.isArray(_)?_:[_]}var _n=100,yr=function(_,le,me,Re){var xe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,ze=arguments.length>5?arguments[5]:void 0,tt=arguments.length>6?arguments[6]:void 0,ft=arguments.length>7?arguments[7]:void 0,ut=xe>0?90+xe/2:-90,Tt=Math.PI*2*_,St=Tt*((360-xe)/360),Bt=le/100*360*((360-xe)/360),Vt=xe===0?0:{bottom:0,top:180,left:90,right:-90}[ze],Zt=(100-me)/100*St;return tt==="round"&&me!==100&&(Zt+=ft/2,Zt>=St&&(Zt=St-.01)),{stroke:typeof Re=="string"?Re:void 0,strokeDasharray:"".concat(St,"px ").concat(Tt),strokeDashoffset:Zt,transform:"rotate(".concat(ut+Bt+Vt,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Yn=function(_){var le=_.id,me=_.prefixCls,Re=_.strokeWidth,xe=_.trailWidth,ze=_.gapDegree,tt=_.gapPosition,ft=_.trailColor,ut=_.strokeLinecap,Tt=_.style,St=_.className,Bt=_.strokeColor,Vt=_.percent,Zt=(0,ue.Z)(_,On),kn=In(le),Gn="".concat(kn,"-gradient"),Zn=_n/2-Re/2,Hn=yr(Zn,0,100,ft,ze,tt,ut,Re),fn=Bn(Vt),xn=Bn(Bt),Dn=xn.find(function(Jr){return Jr&&(0,ot.Z)(Jr)==="object"}),jr=Be(fn),ha=(0,pe.Z)(jr,1),Kr=ha[0],xa=function(){var ba=0;return fn.map(function(Wn,Za){var po=xn[Za]||xn[xn.length-1],bo=po&&(0,ot.Z)(po)==="object"?"url(#".concat(Gn,")"):void 0,As=yr(Zn,ba,Wn,po,ze,tt,ut,Re);return ba+=Wn,e.createElement("circle",{key:Za,className:"".concat(me,"-circle-path"),r:Zn,cx:_n/2,cy:_n/2,stroke:bo,strokeLinecap:ut,strokeWidth:Re,opacity:Wn===0?0:1,style:As,ref:Kr[Za]})}).reverse()};return e.createElement("svg",(0,wn.Z)({className:B()("".concat(me,"-circle"),St),viewBox:"0 0 ".concat(_n," ").concat(_n),style:Tt,id:le},Zt),Dn&&e.createElement("defs",null,e.createElement("linearGradient",{id:Gn,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(Dn).sort(function(Jr,ba){return Mn(Jr)-Mn(ba)}).map(function(Jr,ba){return e.createElement("stop",{key:ba,offset:Jr,stopColor:Dn[Jr]})}))),e.createElement("circle",{className:"".concat(me,"-circle-trail"),r:Zn,cx:_n/2,cy:_n/2,stroke:ft,strokeLinecap:ut,strokeWidth:xe||Re,style:Hn}),xa())};Yn.defaultProps=Ce,Yn.displayName="Circle";var Ur=Yn,nr={Line:Ht,Circle:Ur},jn=a(21324),rr=a(7089),vr=a(42494),Jn=a(74603),ir=a(56939),Cr=a(12231),Ir=a(73698),sn=a(72379),wr=a(74600),_a=a.n(wr),va=a(37390),Er=a(97485),Gr=a(15584),Vr=a(89571),kr=a(86136),Mr=a(79784),sa=a(76635),ar=a(19126),ia=a.n(ar),to=a(80079),Pr=a(18671),Br=a(57998),Ua=a(83543),Ja=a(59797),qr=a(26739),Fr=a(86619),gr=a(98989),Ea=a(6487),Ia=a(99152),Ya=a(21070),Or=a(90324),la=a(98281),Ga=a(33375),pa=a(44233),zr=a(27604),Zr=a(36444),mn=a(37971),Wr=a(59709),Qn=a(17373),ea=a(3702),cr=a(93111),Xn=a(67222),hr=a(44311),qn=a.p+"static/mic-drop.fe3ef4d0..svg",ur=a(30195),fa=a(63955),Hr=a(74828),ta=a(45455),Ee=a.n(ta);function ve($){const[_,le]=useState([]),me=useApi(alertApiRef),{anchorOrigin:Re={vertical:"top",horizontal:"center"}}=$;if(useEffect(()=>{const tt=me.alert$().subscribe(ft=>le(ut=>ut.concat(ft)));return()=>{tt.unsubscribe()}},[me]),_.length===0)return null;const[xe]=_,ze=()=>{le(tt=>tt.filter(ft=>ft!==xe))};return React.createElement(Snackbar,{open:!0,anchorOrigin:Re},React.createElement(Alert,{action:React.createElement(IconButton,{color:"inherit",size:"small",onClick:ze,"data-testid":"error-button-close"},React.createElement(CloseIcon,null)),severity:xe.severity},React.createElement("span",null,xe.message.toString(),_.length>1&&React.createElement("em",null,` (${_.length-1} older ${pluralize("message",_.length-1)})`))))}function Ie($){let _=0;for(let me=0;me<$.length;me++)_=$.charCodeAt(me)+((_<<5)-_);let le="#";for(let me=0;me<3;me++)le+=`00${(_>>me*8&255).toString(16)}`.substr(-2);return le}function Je($){var _;return(_=$.match(/\b\w/g))==null?void 0:_.join("").substring(0,2)}const bt=(0,w.Z)($=>(0,i.Z)({avatar:{width:"4rem",height:"4rem",color:"#fff",fontWeight:$.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function Ot($){const{displayName:_,picture:le,customStyles:me}=$,Re=bt();let xe={...me};return le||(xe={backgroundColor:Ie(_||""),...me}),React.createElement(MaterialAvatar,{alt:_,src:le,className:Re.avatar,style:xe},_&&Je(_))}const Yt=(0,w.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),Qt=$=>/^([a-z+.-]+):/.test($),cn=$=>{var _;return $ instanceof Array?$.map(cn).join(" ").trim():typeof $=="object"&&$?cn((_=$==null?void 0:$.props)==null?void 0:_.children):["string","number"].includes(typeof $)?String($):""},yn=e.forwardRef(({onClick:$,noTrack:_,...le},me)=>{const Re=Yt(),xe=(0,T.z$)(),ze=String(le.to),tt=cn(le.children)||ze,ft=Qt(ze),ut=ft&&!!/^https?:/.exec(ze),Tt=St=>{$==null||$(St),_||xe.captureEvent("click",tt,{attributes:{to:ze}})};return ft?e.createElement(V.Z,{ref:me,href:ze,onClick:Tt,...ut?{target:"_blank",rel:"noopener"}:{},...le,className:B()(Re.externalLink,le.className)},le.children,e.createElement("span",{className:Re.visuallyHidden},", Opens in a new window")):e.createElement(V.Z,{ref:me,component:f.rU,onClick:Tt,...le})}),qe=e.forwardRef(($,_)=>e.createElement(yn,{ref:_,...$,color:"initial"})),Ae=e.forwardRef(($,_)=>e.createElement(F.Z,{ref:_,component:qe,...$}));function ht($){const{text:_,tooltipDelay:le=1e3,tooltipText:me="Text copied to clipboard"}=$,Re=(0,T.h_)(T.VE),[xe,ze]=(0,e.useState)(!1),[{error:tt},ft]=(0,C.Z)();(0,e.useEffect)(()=>{tt&&Re.post(tt)},[tt,Re]);const ut=Tt=>{Tt.stopPropagation(),ze(!0),ft(_)};return e.createElement(e.Fragment,null,e.createElement(I.ZP,{id:"copy-test-tooltip",title:me,placement:"top",leaveDelay:le,onClose:()=>ze(!1),open:xe},e.createElement(t.Z,{onClick:ut},e.createElement(y.Z,null))))}function xt($){const{text:_,language:le,showLineNumbers:me=!1,highlightedNumbers:Re,customStyle:xe,showCopyCodeButton:ze=!1}=$,tt=(0,E.Z)(),ft=tt.palette.type==="dark"?R.Z:b.Z,ut=tt.palette.type==="dark"?"#256bf3":"#e6ffed";return e.createElement("div",{style:{position:"relative"}},e.createElement(N.Z,{customStyle:xe,language:le,style:ft,showLineNumbers:me,wrapLines:!0,lineNumberStyle:{color:tt.palette.textVerySubtle},lineProps:Tt=>Re!=null&&Re.includes(Tt)?{style:{backgroundColor:ut}}:{}},_),ze&&e.createElement("div",{style:{position:"absolute",top:0,right:0}},e.createElement(ht,{text:_})))}function qt($){const{title:_,to:le}=$,me=useMediaQuery(Re=>Re.breakpoints.down("xs"));return le?me?React.createElement(IconButton,{component:Link$2,color:"primary",title:_,size:"small",to:le},React.createElement(AddCircleOutline,null)):React.createElement(Button$1,{component:Link$2,variant:"contained",color:"primary",to:le},_):null}var nn=($=>($.TOP_BOTTOM="TB",$.BOTTOM_TOP="BT",$.LEFT_RIGHT="LR",$.RIGHT_LEFT="RL",$))(nn||{}),gn=($=>($.UP_LEFT="UL",$.UP_RIGHT="UR",$.DOWN_LEFT="DL",$.DOWN_RIGHT="DR",$))(gn||{}),or=($=>($.NETWORK_SIMPLEX="network-simplex",$.TIGHT_TREE="tight-tree",$.LONGEST_PATH="longest-path",$))(or||{}),Un=($=>($.LEFT="l",$.RIGHT="r",$.CENTER="c",$))(Un||{}),Fn=Object.freeze({__proto__:null,Direction:nn,Alignment:gn,Ranker:or,LabelPosition:Un});const Rr=(0,w.Z)($=>({node:{fill:$.palette.primary.light,stroke:$.palette.primary.light},text:{fill:$.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function ke({node:{id:$}}){const _=Rr(),[le,me]=React.useState(0),[Re,xe]=React.useState(0),ze=React.useRef(null);React.useLayoutEffect(()=>{if(ze.current){let{height:Tt,width:St}=ze.current.getBBox();Tt=Math.round(Tt),St=Math.round(St),(Tt!==Re||St!==le)&&(me(St),xe(Tt))}},[le,Re]);const tt=10,ft=le+tt*2,ut=Re+tt*2;return React.createElement("g",null,React.createElement("rect",{className:_.node,width:ft,height:ut,rx:10}),React.createElement("text",{ref:ze,className:_.text,y:ut/2,x:ft/2,textAnchor:"middle",alignmentBaseline:"middle"},$))}const K="arrow-marker",Q="node",se="edge",ge="label",Pe=(0,ce.Z)($=>({node:{transition:`${$.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),Oe=$=>React.createElement(ke,{...$});function Ge({render:$=Oe,setNode:_,node:le}){const{width:me,height:Re,x:xe=0,y:ze=0}=le,tt=le,ft=Pe(),ut=React.useRef(null);return React.useLayoutEffect(()=>{if(ut.current){let{height:Tt,width:St}=ut.current.getBBox();Tt=Math.round(Tt),St=Math.round(St),(Tt!==Re||St!==me)&&_(le.id,{...le,height:Tt,width:St})}},[le,me,Re,_]),React.createElement("g",{ref:ut,"data-testid":Q,className:ft.node,transform:`translate(${xe-me/2},${ze-Re/2})`},$({node:tt}))}const st=(0,ce.Z)($=>({text:{fill:$.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function pt({edge:{label:$}}){const _=st();return React.createElement("text",{className:_.text,textAnchor:"middle"},$)}const X=(0,ce.Z)($=>({path:{strokeWidth:2,stroke:$.palette.textSubtle,fill:"none",transition:`${$.transitions.duration.shortest}ms`},label:{transition:`${$.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),ae=$=>React.createElement(pt,{...$}),$e=He.Z().x($=>$.x).y($=>$.y).curve(De.Z);function Ne({render:$=ae,setEdge:_,id:le,edge:me}){const{x:Re=0,y:xe=0,width:ze,height:tt,points:ft}=me,ut=me,Tt=X(),St=React.useRef(null);React.useLayoutEffect(()=>{if(St.current){let{height:Vt,width:Zt}=St.current.getBBox();Vt=Math.round(Vt),Zt=Math.round(Zt),(Vt!==tt||Zt!==ze)&&_(le,{...me,height:Vt,width:Zt})}},[me,tt,ze,_,le]);let Bt="";if(ft){const Vt=ft.filter(Zt=>isFinite(Zt.x)&&isFinite(Zt.y));Bt=$e(Vt)||""}return React.createElement(React.Fragment,null,Bt&&React.createElement("path",{"data-testid":se,className:Tt.path,markerEnd:`url(#${K})`,d:Bt}),ut.label?React.createElement("g",{ref:St,"data-testid":ge,className:Tt.label,transform:`translate(${Re},${xe})`},$({edge:ut})):null)}const Ze="workspace";function Ue($){var _,le;const{edges:me,nodes:Re,renderNode:xe,direction:ze=nn.TOP_BOTTOM,align:tt,nodeMargin:ft=50,edgeMargin:ut=10,rankMargin:Tt=50,paddingX:St=0,paddingY:Bt=0,acyclicer:Vt,ranker:Zt=or.NETWORK_SIMPLEX,labelPosition:kn=Un.RIGHT,labelOffset:Gn=10,edgeRanks:Zn=1,edgeWeight:Hn=1,renderLabel:fn,defs:xn,zoom:Dn="enabled",...jr}=$,ha=useTheme$1(),[Kr,xa]=React.useState(100),[Jr,ba]=React.useState(100),Wn=React.useRef(new dagre.graphlib.Graph),[Za,po]=React.useState(((_=Wn.current.graph())==null?void 0:_.width)||0),[bo,As]=React.useState(((le=Wn.current.graph())==null?void 0:le.height)||0),[kl,Yr]=React.useState([]),[Da,wo]=React.useState([]),Ma=Math.max(Za,Kr),Sr=Math.max(bo,Jr),wa=React.useMemo(()=>debounce(Ar=>{if(!Ar)return;const ra=d3Selection.select(Ar),br=d3Selection.select(Ar.getElementById(Ze));function Ba(){ra.call(d3Zoom.zoom().scaleExtent([1,10]).on("zoom",Y=>{Y.transform.x=Math.min(0,Math.max(Y.transform.x,Ma-Ma*Y.transform.k)),Y.transform.y=Math.min(0,Math.max(Y.transform.y,Sr-Sr*Y.transform.k)),br.attr("transform",Y.transform)}))}Dn==="enabled"?Ba():Dn==="enable-on-click"&&ra.on("click",()=>Ba());const{width:v,height:O}=Ar.getBoundingClientRect();Kr!==v&&xa(v),Jr!==O&&ba(O)},100),[Jr,Kr,Ma,Sr,Dn]),fo=React.useCallback(()=>{const Ar=Wn.current.nodes(),ra=Wn.current.edges();Ar.forEach(br=>{Re.some(v=>v.id===br)||Wn.current.removeNode(br)}),ra.forEach(br=>{me.some(v=>v.from===br.v&&v.to===br.w)||Wn.current.removeEdge(br.v,br.w)}),Re.forEach(br=>{const Ba=Wn.current.nodes().find(v=>br.id===v);if(Ba&&Wn.current.node(Ba)){const{width:v,height:O,x:Y,y:ne}=Wn.current.node(Ba);Wn.current.setNode(Ba,{...br,width:v,height:O,x:Y,y:ne})}else Wn.current.setNode(br.id,{...br,width:0,height:0})}),me.forEach(br=>{Wn.current.setEdge(br.from,br.to,{...br,label:br.label,width:0,height:0,labelpos:kn,labeloffset:Gn,weight:Hn,minlen:Zn})})},[me,Re,kn,Gn,Hn,Zn]),Wa=React.useMemo(()=>debounce(()=>{dagre.layout(Wn.current);const{height:Ar,width:ra}=Wn.current.graph(),br=Math.max(0,Ar||0),Ba=Math.max(0,ra||0);po(Ba),As(br),Yr(Wn.current.nodes()),wo(Wn.current.edges())},250,{leading:!0}),[]);React.useEffect(()=>(Wn.current.setGraph({rankdir:ze,align:tt,nodesep:ft,edgesep:ut,ranksep:Tt,marginx:St,marginy:Bt,acyclicer:Vt,ranker:Zt}),fo(),Wa(),Wa.cancel),[Vt,tt,ze,ut,St,Bt,ft,Tt,Zt,fo,Wa]);function Is(Ar,ra){return Wn.current.setNode(Ar,ra),Wa(),Wn.current}function Qc(Ar,ra){return Wn.current.setEdge(Ar,ra),Wa(),Wn.current}return React.createElement("svg",{ref:wa,...jr,width:"100%",height:Sr,viewBox:`0 0 ${Ma} ${Sr}`},React.createElement("defs",null,React.createElement("marker",{id:K,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},React.createElement("path",{fill:ha.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),xn),React.createElement("g",{id:Ze},React.createElement("svg",{width:Za,height:bo,y:Sr/2-bo/2,x:Ma/2-Za/2,viewBox:`0 0 ${Za} ${bo}`},Da.map(Ar=>{const ra=Wn.current.edge(Ar);return ra?React.createElement(Ne,{key:`${Ar.v}-${Ar.w}`,id:Ar,setEdge:Qc,render:fn,edge:ra}):null}),kl.map(Ar=>{const ra=Wn.current.node(Ar);return ra?React.createElement(Ge,{key:Ar,setNode:Is,render:xe,node:ra}):null}))))}const Qe=(0,w.Z)($=>{var _;return{root:{padding:$.spacing(0),marginBottom:$.spacing(0),marginTop:$.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:$.spacing(6),marginTop:-$.spacing(3),zIndex:"unset"},icon:{fontSize:20},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap"},message:{display:"flex",alignItems:"center",color:$.palette.banner.text,"& a":{color:$.palette.banner.link}},info:{backgroundColor:$.palette.banner.info},error:{backgroundColor:$.palette.banner.error},warning:{backgroundColor:(_=$.palette.banner.warning)!=null?_:$.palette.banner.error}}},{name:"BackstageDismissableBanner"}),rt=$=>{var _;const{variant:le,message:me,id:Re,fixed:xe=!1}=$,ze=Qe(),ft=useApi(storageApiRef).forBucket("notifications"),ut=(_=ft.snapshot("dismissedBanners").value)!=null?_:[],[Tt,St]=useState(new Set(ut)),Bt=useObservable(ft.observe$("dismissedBanners"));useEffect(()=>{var Zt;if(Bt!=null&&Bt.value){const kn=(Zt=Bt==null?void 0:Bt.value)!=null?Zt:[];St(new Set(kn))}},[Bt==null?void 0:Bt.value]);const Vt=()=>{ft.set("dismissedBanners",[...Tt,Re])};return React.createElement(Snackbar,{anchorOrigin:xe?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!Tt.has(Re),classes:{root:classNames(ze.root,!xe&&ze.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(ze.content,ze[le]),message:ze.message},message:me,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",color:"inherit",onClick:Vt},React.createElement(CloseIcon,{className:ze.icon}))]}))},yt=(0,w.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),at=({missing:$})=>{const _=yt();switch($){case"field":return e.createElement("img",{src:Lt,className:_.generalImg,alt:"annotation is missing"});case"info":return e.createElement("img",{src:dt,alt:"no Information",className:_.generalImg});case"content":return e.createElement("img",{src:he,alt:"create Component",className:_.generalImg});case"data":return e.createElement("img",{src:j,alt:"no Build",className:_.generalImg});default:return null}},mt=(0,w.Z)($=>({root:{backgroundColor:$.palette.background.default,padding:$.spacing(2,0,0,0)},action:{marginTop:$.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function Ct($){const{title:_,description:le,missing:me,action:Re}=$,xe=mt();return e.createElement(lt.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:xe.root,spacing:2},e.createElement(lt.Z,{item:!0,xs:12,md:6},e.createElement(lt.Z,{container:!0,direction:"column"},e.createElement(lt.Z,{item:!0,xs:!0},e.createElement(Et.Z,{variant:"h5"},_)),e.createElement(lt.Z,{item:!0,xs:!0},e.createElement(Et.Z,{variant:"body1"},le)),e.createElement(lt.Z,{item:!0,xs:!0,className:xe.action},Re))),e.createElement(lt.Z,{item:!0,xs:12,md:6,className:xe.imageContainer},e.createElement(at,{missing:me})))}const Ft=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,At=(0,w.Z)($=>({code:{borderRadius:6,margin:`${$.spacing(2)}px 0px`,background:$.palette.type==="dark"?"#444":"#fff"}}),{name:"BackstageMissingAnnotationEmptyState"});function rn($){const{annotation:_,readMoreUrl:le}=$,me=le||"https://backstage.io/docs/features/software-catalog/well-known-annotations",Re=At(),xe=e.createElement(e.Fragment,null,"The ",e.createElement("code",null,_)," annotation is missing. You need to add the annotation to your component if you want to enable this tool.");return e.createElement(Ct,{missing:"field",title:"Missing Annotation",description:xe,action:e.createElement(e.Fragment,null,e.createElement(Et.Z,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),e.createElement("div",{className:Re.code},e.createElement(xt,{text:Ft.replace("ANNOTATION",_),language:"yaml",showLineNumbers:!0,highlightedNumbers:[6,7],customStyle:{background:"inherit",fontSize:"115%"}})),e.createElement(F.Z,{color:"primary",component:yn,to:me},"Read more"))})}const un=($,_)=>(_.palette.type==="light"?c._j:c.$n)(_.palette[$].light,.6),hn=($,_)=>(_.palette.type==="light"?c.$n:c._j)(_.palette[$].light,.9),en=(0,w.Z)($=>({root:{marginRight:$.spacing(1),fill:({severity:_})=>un(_,$)}})),Tn=({severity:$})=>{const _=en({severity:$});return e.createElement(Me.Z,{classes:_})},Nr=({severity:$})=>{const _=en({severity:$});return e.createElement(gt.Z,{classes:_})},na=(0,w.Z)($=>({panel:{backgroundColor:({severity:_})=>hn(_,$),color:({severity:_})=>un(_,$),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:_})=>un(_,$),fontWeight:"bold"},message:{width:"100%",display:"block",color:({severity:_})=>un(_,$),backgroundColor:({severity:_})=>hn(_,$)},details:{width:"100%",display:"block",color:$.palette.textContrast,backgroundColor:$.palette.background.default,border:`1px solid ${$.palette.border}`,padding:$.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Ml=$=>$.charAt(0).toLocaleUpperCase("en-US")+$.slice(1);function iu($){const{severity:_="warning",title:le,message:me,children:Re,defaultExpanded:xe}=$,ze=na({severity:_}),tt=Ml(_)+(le?`: ${le}`:"");return e.createElement(k.Z,{defaultExpanded:xe!=null?xe:!1,className:ze.panel,role:"alert"},e.createElement(J.Z,{expandIcon:e.createElement(Nr,{severity:_}),className:ze.summary},e.createElement(Tn,{severity:_}),e.createElement(Et.Z,{className:ze.summaryText,variant:"subtitle1"},tt)),(me||Re)&&e.createElement(Le.Z,null,e.createElement(lt.Z,{container:!0},me&&e.createElement(lt.Z,{item:!0,xs:12},e.createElement(Et.Z,{className:ze.message,variant:"body1"},me)),Re&&e.createElement(lt.Z,{item:!0,xs:12,className:ze.details},Re))))}const Ls=(0,w.Z)($=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:$.spacing(2)},divider:{margin:$.spacing(2)}}),{name:"BackstageErrorPanel"}),lu=({error:$,message:_,stack:le,children:me})=>{const Re=Ls();return e.createElement(re.Z,{dense:!0},e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:Re.text},primary:"Error",secondary:$}),e.createElement(ht,{text:$})),e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:Re.text},primary:"Message",secondary:_}),e.createElement(ht,{text:_})),le&&e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:Re.text},primary:"Stack Trace",secondary:le}),e.createElement(ht,{text:le})),me)};function Uo($){const{title:_,error:le,defaultExpanded:me,children:Re}=$;return e.createElement(iu,{severity:"error",title:_!=null?_:le.message,defaultExpanded:me},e.createElement(lu,{error:le.name,message:le.message,stack:le.stack,children:Re}))}const Oa=(0,w.Z)($=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:$.spacing(2)},divider:{margin:$.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function xs($){var _;const{title:le,error:me,defaultExpanded:Re}=$,xe=Oa();if(me.name!=="ResponseError")return e.createElement(Uo,{title:le!=null?le:me.message,defaultExpanded:Re,error:me});const{body:ze,cause:tt}=me,{request:ft,response:ut}=ze,Tt=`${ut.statusCode}: ${tt.name}`,St=ft&&`${ft.method} ${ft.url}`,Bt=tt.message.replace(/\\n/g,`
`),Vt=(_=tt.stack)==null?void 0:_.replace(/\\n/g,`
`),Zt=JSON.stringify(ze,void 0,2);return e.createElement(Uo,{title:le!=null?le:me.message,defaultExpanded:Re,error:{name:Tt,message:Bt,stack:Vt}},St&&e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:xe.text},primary:"Request",secondary:ft?`${St}`:void 0}),e.createElement(ht,{text:St})),e.createElement(e.Fragment,null,e.createElement(nt.Z,{component:"li",className:xe.divider}),e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(d.Z,{classes:{secondary:xe.text},primary:"Full Error as JSON"})),e.createElement(xt,{language:"json",text:Zt,showCopyCodeButton:!0})))}function bi($){const _=document.createElement("div");return _.setAttribute("id",$),_}function Go($){document.body.insertBefore($,document.body.lastElementChild.nextElementSibling)}function wi($){const _=useRef(null);useEffect(function(){const Re=document.querySelector(`#${$}`),xe=Re||bi($);return Re||Go(xe),xe.appendChild(_.current),function(){_.current.remove(),xe.childNodes.length===-1&&xe.remove()}},[$]);function le(){return _.current||(_.current=document.createElement("div")),_.current}return le()}const Ri="core.calloutSeen";function Si(){const[$,_]=useState(()=>{const me=localStorage.getItem(Ri);return me?JSON.parse(me):{}}),le=useCallback((me,Re)=>{const xe=localStorage.getItem(Ri),tt={...xe?JSON.parse(xe):{},[me]:Re};_(tt),localStorage.setItem(Ri,JSON.stringify(tt))},[]);return{states:$,setState:le}}function Ds($){const{states:_,setState:le}=Si(),me=useCallback(()=>{le($,!0)},[le,$]);return{seen:_[$]===!0,markSeen:me}}function Ms($){const{seen:_,markSeen:le}=Ds($);return{show:_===!1,hide:le}}const Po=(0,w.Z)({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:"2px solid white",zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:"white",zIndex:2003}},{name:"BackstageFeatureCalloutCircular"});function ss($){const{featureId:_,title:le,description:me,children:Re}=$,{show:xe,hide:ze}=Ms(_),tt=wi("core.callout"),ft=useRef(null),[ut,Tt]=useState(),St=Po(),Bt=useCallback(()=>{if(ft.current){const Vt=ft.current.getBoundingClientRect(),Zt=Math.max(Vt.width,Vt.height),kn=800,Gn=Vt.x-(Zt-Vt.width)/2-kn,Zn=Vt.y-(Zt-Vt.height)/2-kn,Hn=Zt+2*kn,fn=450,xn=Vt.x+Vt.width/2-fn,Dn=Vt.y-(Zt-Vt.height)/2+Zt+20;Tt({dotLeft:Gn,dotTop:Zn,dotSize:Hn,borderWidth:kn,textTop:Dn,textLeft:xn,textWidth:fn})}},[]);return useEffect(()=>(window.addEventListener("resize",Bt),window.addEventListener("scroll",Bt),()=>{window.removeEventListener("resize",Bt),window.removeEventListener("scroll",Bt)}),[Bt]),useLayoutEffect(Bt,[ft.current,Bt]),xe?React.createElement(React.Fragment,null,React.createElement("div",{className:St.featureWrapper,ref:ft},Re),createPortal(React.createElement("div",{className:St.backdrop},React.createElement(ClickAwayListener,{onClickAway:ze},React.createElement(React.Fragment,null,React.createElement("div",{className:St.dot,"data-testid":"dot",style:{left:ut==null?void 0:ut.dotLeft,top:ut==null?void 0:ut.dotTop,width:ut==null?void 0:ut.dotSize,height:ut==null?void 0:ut.dotSize,borderWidth:ut==null?void 0:ut.borderWidth},onClick:ze,onKeyDown:ze,role:"button",tabIndex:0},React.createElement("div",{className:St.pulseCircle})),React.createElement("div",{className:St.text,"data-testid":"text",style:{left:ut==null?void 0:ut.textLeft,top:ut==null?void 0:ut.textTop,width:ut==null?void 0:ut.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},le),React.createElement(Typography,null,me))))),tt)):React.createElement(React.Fragment,null,Re)}const is=(0,w.Z)($=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:"gray",cursor:"default"},primary:{color:$.palette.primary.main},secondary:{color:$.palette.secondary.main},label:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function Bl({color:$="primary",disabled:_=!1,href:le="#",icon:me=React.createElement(LinkIcon,null),label:Re,onClick:xe,title:ze}){const tt=is();return _?React.createElement(Link$1,{title:ze,className:classNames(tt.link,tt.disabled),underline:"none"},me,React.createElement("span",{className:tt.label},Re)):React.createElement(Link$1,{title:ze,className:classNames(tt.link,tt[$]),to:le,component:yn,onClick:xe},me,React.createElement("span",{className:tt.label},Re))}const Fl=(0,w.Z)($=>({links:{margin:$.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:$.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function cu($){const{links:_}=$,le=Fl();return React.createElement("nav",{className:le.links},_.map((me,Re)=>React.createElement(Bl,{key:Re+1,...me})))}const jl=$=>{const _=$==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${_}) 0%,
    hsla(0, 0%, ${_}, 0.987) 8.1%,
    hsla(0, 0%, ${_}, 0.951) 15.5%,
    hsla(0, 0%, ${_}, 0.896) 22.5%,
    hsla(0, 0%, ${_}, 0.825) 29%,
    hsla(0, 0%, ${_}, 0.741) 35.3%,
    hsla(0, 0%, ${_}, 0.648) 41.2%,
    hsla(0, 0%, ${_}, 0.55) 47.1%,
    hsla(0, 0%, ${_}, 0.45) 52.9%,
    hsla(0, 0%, ${_}, 0.352) 58.8%,
    hsla(0, 0%, ${_}, 0.259) 64.7%,
    hsla(0, 0%, ${_}, 0.175) 71%,
    hsla(0, 0%, ${_}, 0.104) 77.5%,
    hsla(0, 0%, ${_}, 0.049) 84.5%,
    hsla(0, 0%, ${_}, 0.013) 91.9%,
    hsla(0, 0%, ${_}, 0) 100%
  `},_l=100,ls=10,Ul=(0,w.Z)($=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:_l,height:`calc(100% + ${ls}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-ls,background:`linear-gradient(90deg, ${jl($.palette.type)})`},fadeRight:{right:-ls,background:`linear-gradient(270deg, ${jl($.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-$.spacing(2)},buttonRight:{right:-$.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function uu($){const[[_,le],me]=React.useState([0,0]);return React.useLayoutEffect(()=>{const Re=$.current;if(!Re){me([0,0]);return}const xe=()=>{const ze=Re.scrollLeft,tt=Re.scrollWidth-Re.offsetWidth-Re.scrollLeft;me([ze,tt])};return xe(),Re.addEventListener("scroll",xe),window.addEventListener("resize",xe),()=>{Re.removeEventListener("scroll",xe),window.removeEventListener("resize",xe)}},[$]),[_,le]}function du($,_,le){const[me,Re]=React.useState(0);return React.useLayoutEffect(()=>{if(me===0)return;const xe=performance.now(),ze=requestAnimationFrame(tt=>{if(!$.current)return;const ft=tt-xe,ut=Math.abs(me)*ft/_,St=Math.max(le,ut)*Math.sign(me);$.current.scrollBy({left:St});const Bt=me-St;Math.sign(me)!==Math.sign(Bt)?Re(0):Re(Bt)});return()=>cancelAnimationFrame(ze)},[$,me,_,le]),Re}function Gl($){const{scrollStep:_=100,scrollSpeed:le=50,minScrollDistance:me=5,children:Re,...xe}=$,ze=Ul($),tt=React.useRef(),[ft,ut]=uu(tt),Tt=du(tt,le,me),St=Bt=>{!tt.current||Tt(Bt?_:-_)};return React.createElement("div",{...xe,className:ze.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:ze.container,ref:tt},Re),React.createElement("div",{className:classNames(ze.fade,ze.fadeLeft,{[ze.fadeHidden]:ft===0})}),React.createElement("div",{className:classNames(ze.fade,ze.fadeRight,{[ze.fadeHidden]:ut===0})}),ft>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>St(!1),className:classNames(ze.button,ze.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),ut>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>St(!0),className:classNames(ze.button,ze.buttonRight,{})},React.createElement(ChevronRight,null)))}const Vl=(0,w.Z)({alpha:{color:"#ffffff",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}},{name:"BackstageLifecycle"});function mu($){const _=Vl($),{shorthand:le,alpha:me}=$;return le?React.createElement("span",{className:_[me?"alpha":"beta"],style:{fontSize:"120%"}},me?React.createElement(React.Fragment,null,"\u03B1"):React.createElement(React.Fragment,null,"\u03B2")):React.createElement("span",{className:_[me?"alpha":"beta"]},me?"Alpha":"Beta")}const pu=(0,e.lazy)(()=>Promise.all([a.e(7423),a.e(8467)]).then(a.bind(a,98467)).then($=>({default:$.RealLogViewer})));function fu($){const{Progress:_}=useApp().getComponents();return React.createElement(Suspense,{fallback:React.createElement(_,null)},React.createElement(pu,{...$}))}const Bs=(0,w.Z)($=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${$.palette.border}`},"& th, & td":{border:`1px solid ${$.palette.border}`,padding:$.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:$.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:$.palette.background.paper},"& tr":{backgroundColor:$.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:$.palette.background.default},"& a":{color:$.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),$i={code:({inline:$,className:_,children:le,...me})=>{const Re=String(le).replace(/\n+$/,""),xe=/language-(\w+)/.exec(_||"");return!$&&xe?e.createElement(xt,{language:xe[1],text:Re}):e.createElement("code",{className:_,...me},le)}};function zl($){const{content:_,dialect:le="gfm",linkTarget:me}=$,Re=Bs();return React.createElement(ReactMarkdown,{remarkPlugins:le==="gfm"?[gfm]:[],className:Re.markdown,children:_,components:$i,linkTarget:me})}const Zl=(0,w.Z)($=>({root:{paddingLeft:$.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),Ti=({request:$,busy:_,setBusy:le})=>{const me=Zl(),[Re,xe]=useState(),ze=async()=>{le(!0);try{await $.trigger()}catch(ft){xe(isError(ft)?ft.message:"An unspecified error occurred")}finally{le(!1)}},tt=$.provider.icon;return React.createElement(ListItem,{disabled:_,classes:{root:me.root}},React.createElement(ListItemAvatar,null,React.createElement(tt,{fontSize:"large"})),React.createElement(ListItemText,{primary:$.provider.title,secondary:Re&&React.createElement(Typography,{color:"error"},Re)}),React.createElement(Button$1,{color:"primary",variant:"contained",onClick:ze},"Log in"))},cs=(0,w.Z)($=>({dialog:{paddingTop:$.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:$.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:$.spacing(2,0)}}),{name:"OAuthRequestDialog"});function Wl($){const _=cs(),[le,me]=useState(!1),Re=useApi(oauthRequestApiRef),xe=useObservable(useMemo(()=>Re.authRequest$(),[Re]),[]),ze=()=>{xe.forEach(tt=>tt.reject())};return React.createElement(Dialog,{open:Boolean(xe.length),fullWidth:!0,maxWidth:"xs",classes:{paper:_.dialog},"aria-labelledby":"oauth-req-dialog-title"},React.createElement("main",null,React.createElement(DialogTitle,{classes:{root:_.title},id:"oauth-req-dialog-title"},React.createElement(Typography,{className:_.titleHeading,variant:"h1"},"Login Required")),React.createElement(DialogContent,{dividers:!0,classes:{root:_.contentList}},React.createElement(List,null,xe.map(tt=>React.createElement(Ti,{key:tt.provider.title,request:tt,busy:le,setBusy:me}))))),React.createElement(DialogActions,{classes:{root:_.actionButtons}},React.createElement(Button$1,{onClick:ze},"Reject All")))}const Ci=(0,w.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function Fs($){var _;const[le,me]=(0,e.useState)(!1),Re=(0,Gt.t)(),xe=Ci(),ze=tt=>{Re()&&me(tt)};return e.createElement(I.ZP,{title:(_=$.title)!=null?_:$.text||"",placement:$.placement,disableHoverListener:!le},e.createElement(Ut(),{text:$.text,line:$.line,onToggled:ze,containerClassName:xe.container}))}function no($){const[_,le]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{const me=setTimeout(()=>le(!0),250);return()=>clearTimeout(me)},[]),_?e.createElement(zt.Z,{...$,"data-testid":"progress"}):e.createElement("div",{style:{display:"none"}})}const js=(0,w.Z)($=>({root:{maxWidth:"fit-content",padding:$.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:$.palette.textSubtle},arrow:{color:$.palette.textSubtle}}),{name:"BackstageBottomLink"});function Ao($){const{link:_,title:le,onClick:me}=$,Re=js();return e.createElement("div",null,e.createElement(nt.Z,null),e.createElement(yn,{to:_,onClick:me,underline:"none"},e.createElement(bn.Z,{display:"flex",alignItems:"center",className:Re.root},e.createElement(bn.Z,{className:Re.boxTitle,fontWeight:"fontWeightBold",m:1},e.createElement(Et.Z,null,e.createElement("strong",null,le))),e.createElement(pn.Z,{className:Re.arrow}))))}const us=$=>{const{slackChannel:_}=$;if(_){if(typeof _=="string")return e.createElement(e.Fragment,null,"Please contact ",_," for help.");if(!_.href)return e.createElement(e.Fragment,null,"Please contact ",_.name," for help.")}else return null;return e.createElement(Ae,{to:_.href,variant:"contained"},_.name)},_s=class extends e.Component{constructor(_){super(_),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(_,le){console.error(`ErrorBoundary, error: ${_}, info: ${le}`),this.setState({error:_,errorInfo:le})}render(){const{slackChannel:_,children:le}=this.props,{error:me}=this.state;return me?e.createElement(Uo,{title:"Something Went Wrong",error:me},e.createElement(us,{slackChannel:_})):le}},ki=(0,w.Z)($=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:$.spacing(2,2,2,2.5)},headerTitle:{fontWeight:700},headerSubheader:{paddingTop:$.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),hu=(0,l.Z)($=>({root:{display:"inline-block",padding:$.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(on.Z),Hl={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function Io($){const{title:_,subheader:le,divider:me=!0,deepLink:Re,slackChannel:xe,errorBoundaryProps:ze,variant:tt,children:ft,headerStyle:ut,headerProps:Tt,icon:St,action:Bt,actionsClassName:Vt,actions:Zt,cardClassName:kn,actionsTopRight:Gn,className:Zn,noPadding:Hn,titleTypographyProps:fn}=$,xn=ki();let Dn={},jr={};tt&&tt.split(/[\s]+/g).forEach(Jr=>{Dn={...Dn,...Hl.card[Jr]},jr={...jr,...Hl.cardContent[Jr]}});const ha=()=>e.createElement("div",{className:xn.headerSubheader},le&&e.createElement("div",{className:xn.subheader},le),St),Kr=ze||(xe?{slackChannel:xe}:{});return e.createElement(_t.Z,{style:Dn,className:Zn},e.createElement(_s,{...Kr},_&&e.createElement(dn.Z,{classes:{root:xn.header,title:xn.headerTitle,subheader:xn.headerSubheader,avatar:xn.headerAvatar,action:xn.headerAction,content:xn.headerContent},title:_,subheader:ha(),action:Bt,style:{...ut},titleTypographyProps:fn,...Tt}),Gn&&e.createElement(hu,null,Gn),me&&e.createElement(nt.Z,null),e.createElement(It.Z,{className:B()(kn,{[xn.noPadding]:Hn}),style:jr},ft),Zt&&e.createElement(on.Z,{className:Vt},Zt),Re&&e.createElement(Ao,{...Re})))}const Kl=(0,w.Z)($=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:45,fontWeight:"bold",color:$.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),Us={fractional:!0,inverse:!1,unit:"%",max:100},Gs=({palette:$,value:_,inverse:le,max:me})=>{if(isNaN(_))return"#ddd";const Re=me||Us.max,xe=le?Re-_:_;return xe<Re/3?$.status.error:xe<Re*(2/3)?$.status.warning:$.status.ok};function Qa($){const[_,le]=useState(null),{getColor:me=Gs}=$,Re=Kl($),{palette:xe}=useTheme(),{value:ze,fractional:tt,inverse:ft,unit:ut,max:Tt,description:St}={...Us,...$},Bt=tt?Math.round(ze*Tt):ze,Vt=Tt!==100?Math.round(ze):Bt,[Zt,kn]=useState(!1);return useEffect(()=>{const Gn=_,Zn=()=>kn(!0),Hn=()=>kn(!1);return Gn&&St?(Gn.addEventListener("mouseenter",Zn),Gn.addEventListener("mouseleave",Hn),()=>{Gn.removeEventListener("mouseenter",Zn),Gn.removeEventListener("mouseleave",Hn)}):()=>{kn(!1)}},[St,_]),React.createElement("div",{ref:le,className:Re.root},React.createElement(Circle,{strokeLinecap:"butt",percent:Bt,strokeWidth:12,trailWidth:12,strokeColor:me({palette:xe,value:Vt,inverse:ft,max:Tt}),className:Re.circle}),St&&Zt?React.createElement("div",{className:Re.description},St):React.createElement("div",{className:Re.overlay},isNaN(ze)?"N/A":`${Vt}${ut}`))}const Pi=(0,w.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function Jl($){const _=Pi($),{title:le,subheader:me,progress:Re,inverse:xe,deepLink:ze,description:tt,icon:ft,variant:ut,getColor:Tt}=$,St={inverse:xe,description:tt,getColor:Tt,value:Re};return React.createElement("div",{className:_.root},React.createElement(Io,{title:le,subheader:me,deepLink:ze,variant:ut,icon:ft},React.createElement(Qa,{...St})))}function Ai($){const{value:_,getColor:le=Gs}=$,{palette:me}=useTheme();if(isNaN(_))return null;let Re=Math.round(_*100*100)/100;Re>100&&(Re=100);const xe=le({palette:me,value:Re,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${Re}%`},React.createElement("span",null,React.createElement(Line,{percent:Re,strokeWidth:4,trailWidth:4,strokeColor:xe})))}const Yl=(0,w.Z)(()=>(0,i.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageClosedDropdown"}),gu=()=>{const $=Yl();return e.createElement(sn.Z,{className:$.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},Vs=(0,w.Z)(()=>(0,i.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"}),zs=()=>{const $=Vs();return e.createElement(sn.Z,{className:$.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},Ql=(0,l.Z)($=>(0,i.Z)({root:{"label + &":{marginTop:$.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:$.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:$.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:$.palette.background.paper,borderRadius:4}}}),{name:"BackstageSelectInputBase"})(Jn.Z),Xl=(0,w.Z)($=>(0,i.Z)({formControl:{margin:`${$.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:$.typography.fontFamily,color:$.palette.text.primary,"&.Mui-focused":{color:$.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:$.typography.fontFamily,color:$.palette.text.primary,"&.Mui-focused":{color:$.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function Zs($){const{multiple:_,items:le,label:me,placeholder:Re,selected:xe,onChange:ze,triggerReset:tt,native:ft=!1,disabled:ut=!1}=$,Tt=Xl(),[St,Bt]=(0,e.useState)(xe||(_?[]:"")),[Vt,Zt]=(0,e.useState)(!1);(0,e.useEffect)(()=>{Bt(_?[]:"")},[tt,_]),(0,e.useEffect)(()=>{xe!==void 0&&Bt(xe)},[xe]);const kn=fn=>{Bt(fn.target.value),ze(fn.target.value)},Gn=fn=>{if(ut){fn.preventDefault();return}Zt(xn=>_&&!(fn.target instanceof HTMLElement)?!0:!xn)},Zn=()=>{Zt(!1)},Hn=fn=>()=>{const xn=St.filter(Dn=>Dn!==fn);Bt(xn),ze(xn)};return e.createElement("div",{className:Tt.root},e.createElement(M.Z,{onClickAway:Zn},e.createElement(vr.Z,{className:Tt.formControl},e.createElement(ir.Z,{className:Tt.formLabel},me),e.createElement(Ir.Z,{value:St,native:ft,disabled:ut,"data-testid":"select",displayEmpty:!0,multiple:_,onChange:kn,onClick:Gn,open:Vt,input:e.createElement(Ql,null),label:me,tabIndex:0,renderValue:fn=>{var xn;return _&&St.length!==0?e.createElement("div",{className:Tt.chips},fn.map(Dn=>{var jr,ha;return e.createElement(rr.Z,{key:(jr=le.find(Kr=>Kr.value===Dn))==null?void 0:jr.value,label:(ha=le.find(Kr=>Kr.value===Dn))==null?void 0:ha.label,clickable:!0,onDelete:Hn(Dn),className:Tt.chip})})):e.createElement(Et.Z,null,St.length===0?Re||"":(xn=le.find(Dn=>Dn.value===fn))==null?void 0:xn.label)},IconComponent:()=>Vt?e.createElement(zs,null):e.createElement(gu,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},Re&&!_&&e.createElement(Cr.Z,{value:[]},Re),ft?le&&le.map(fn=>e.createElement("option",{value:fn.value,key:fn.value},fn.label)):le&&le.map(fn=>e.createElement(Cr.Z,{key:fn.value,value:fn.value},_&&e.createElement(jn.Z,{color:"primary",checked:St.includes(fn.value)||!1,className:Tt.checkbox}),fn.label))))))}const Ii=()=>{},Oi=e.createContext({stepperLength:0,stepIndex:0,setStepIndex:Ii,stepHistory:[],setStepHistory:Ii,onStepChange:Ii});function ds($){const{children:_,elevated:le,onStepChange:me,activeStep:Re=0}=$,[xe,ze]=useState(Re),[tt,ft]=useState([0]);useEffect(()=>{ze(Re)},[Re]);const ut=[];let Tt;return Children.forEach(_,St=>{isValidElement(St)&&(St.props.end?Tt=St:ut.push(St))}),React.createElement(React.Fragment,null,React.createElement(Oi.Provider,{value:{stepIndex:xe,setStepIndex:ze,stepHistory:tt,setStepHistory:ft,onStepChange:me,stepperLength:Children.count(_)}},React.createElement(MuiStepper,{activeStep:xe,orientation:"vertical",elevation:le?2:0},ut)),xe>=Children.count(_)-1&&Tt)}const Ni=(0,w.Z)($=>({root:{marginTop:$.spacing(3),"& button":{marginRight:$.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),ql=({text:$,handleClick:_})=>React.createElement(Button$1,{onClick:_},$||"Reset"),Li=({text:$,handleClick:_,disabled:le,last:me,stepIndex:Re})=>React.createElement(Button$1,{variant:"contained",color:"primary",disabled:le,"data-testid":`nextButton-${Re}`,onClick:_},$||(me?"Finish":"Next")),ec=({text:$,handleClick:_,disabled:le,stepIndex:me})=>React.createElement(Button$1,{onClick:_,"data-testid":`backButton-${me}`,disabled:le},$||"Back"),Vo=({actions:$={},children:_})=>{const le=Ni(),{stepperLength:me,stepIndex:Re,setStepIndex:xe,stepHistory:ze,setStepHistory:tt,onStepChange:ft}=useContext(Oi),ut=(Vt,Zt)=>{Zt&&Zt(),ft&&ft(Re,Vt),xe(Vt)},Tt=()=>{const Vt=$.nextStep?$.nextStep(Re,me-1):Re+1;ut(Vt,$.onNext),tt([...ze,Vt])},St=()=>{ze.pop(),ut(ze[ze.length-1],$.onBack),tt([...ze])},Bt=()=>{ut(0,$.onRestart),tt([0])};return React.createElement("div",{className:le.root},[void 0,!0].includes($.showBack)&&Re!==0&&React.createElement(ec,{text:$.backText,handleClick:St,disabled:Re===0,stepIndex:Re}),[void 0,!0].includes($.showNext)&&React.createElement(Li,{text:$.nextText,handleClick:Tt,disabled:!!me&&Re>=me||!!$.canNext&&!$.canNext(),stepIndex:Re}),$.showRestart&&Re!==0&&React.createElement(ql,{text:$.restartText,handleClick:Bt,stepIndex:Re}),_)},tc=(0,w.Z)($=>({end:{padding:$.spacing(3)}}),{name:"SimpleStepperStep"});function yu($){const{title:_,children:le,end:me,actions:Re,...xe}=$,ze=tc();return me?React.createElement("div",{className:ze.end},React.createElement(Typography,{variant:"h6"},_),le,React.createElement(Vo,{actions:{...Re||{},showNext:!1}})):React.createElement(MuiStep,{...xe},React.createElement(StepLabel,null,React.createElement(Typography,{variant:"h6"},_)),React.createElement(StepContent,null,le,React.createElement(Vo,{actions:Re})))}const Oo=(0,w.Z)($=>({status:{fontWeight:500,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:8,borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:$.palette.status.ok}},warning:{"&::before":{backgroundColor:$.palette.status.warning}},error:{"&::before":{backgroundColor:$.palette.status.error}},pending:{"&::before":{backgroundColor:$.palette.status.pending}},running:{"&::before":{backgroundColor:$.palette.status.running}},aborted:{"&::before":{backgroundColor:$.palette.status.aborted}}}),{name:"BackstageStatus"});function ad($){const _=Oo($);return React.createElement("span",{className:classNames(_.status,_.ok),"aria-label":"Status ok","aria-hidden":"true",...$})}function nc($){const _=Oo($);return React.createElement("span",{className:classNames(_.status,_.warning),"aria-label":"Status warning","aria-hidden":"true",...$})}function vu($){const _=Oo($);return React.createElement("span",{className:classNames(_.status,_.error),"aria-label":"Status error","aria-hidden":"true",...$})}function Eu($){const _=Oo($);return React.createElement("span",{className:classNames(_.status,_.pending),"aria-label":"Status pending","aria-hidden":"true",...$})}function od($){const _=Oo($);return React.createElement("span",{className:classNames(_.status,_.running),"aria-label":"Status running","aria-hidden":"true",...$})}function bu($){const _=Oo($);return React.createElement("span",{className:classNames(_.status,_.aborted),"aria-label":"Status aborted","aria-hidden":"true",...$})}const xi=$=>(0,i.Z)({root:{fontWeight:"bolder",whiteSpace:"nowrap",paddingRight:$.spacing(4),border:"0",verticalAlign:"top"}}),Di={root:{border:"0",verticalAlign:"top"}},Ws=$=>(0,i.Z)({root:{listStyle:"none",margin:$.spacing(0,0,-1,0),padding:"0"}}),rc=$=>(0,i.Z)({root:{padding:$.spacing(0,0,1,0)},random:{}}),Mi=(0,l.Z)(xi,{name:"BackstageMetadataTableTitleCell"})(Gr.Z),ac=(0,l.Z)(Di,{name:"BackstageMetadataTableCell"})(Gr.Z),oc=({dense:$,children:_})=>e.createElement(va.Z,{size:$?"small":"medium"},e.createElement(Er.Z,null,_)),sc=({title:$,children:_,...le})=>e.createElement(Vr.Z,null,$&&e.createElement(Mi,null,$),e.createElement(ac,{colSpan:$?1:2,...le},_)),go=(0,l.Z)(Ws,{name:"BackstageMetadataTableList"})(({classes:$,children:_})=>e.createElement("ul",{className:$.root},_)),Bi=(0,l.Z)(rc,{name:"BackstageMetadataTableListItem"})(({classes:$,children:_})=>e.createElement("li",{className:$.root},_)),No=(0,i.Z)({root:{margin:"0 0",listStyleType:"none"}}),wu=$=>(0,i.Z)({root:{...No.root,paddingLeft:$.spacing(1)}}),ic=(0,l.Z)(No,{name:"BackstageStructuredMetadataTableList"})(({classes:$,children:_})=>e.createElement(go,{classes:$},_)),Ln=(0,l.Z)(wu,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:$,children:_})=>e.createElement(go,{classes:$},_));function Fi($,_){const le=$.map((me,Re)=>e.createElement(Bi,{key:Re},lo(me)));return _?e.createElement(Ln,null,le):e.createElement(ic,null,le)}function ms($,_,le){const me=Object.keys($).map(Re=>{const xe=lo($[Re],!0),ze=le&&le.titleFormat?le.titleFormat(Re):_a()(Re);return e.createElement(Bi,{key:Re},`${ze}: `,xe)});return _?e.createElement(Ln,null,me):e.createElement(ic,null,me)}function lo($,_,le){return e.isValidElement($)?e.createElement(e.Fragment,null,$):typeof $=="object"&&!Array.isArray($)?ms($,_,le):Array.isArray($)?Fi($,le):typeof $=="boolean"?e.createElement(e.Fragment,null,$?"\u2705":"\u274C"):e.createElement(e.Fragment,null,$)}const Ru=({value:$,options:_})=>e.createElement(e.Fragment,null,lo($,_)),lc=({title:$,value:_,options:le})=>e.createElement(sc,{title:le&&le.titleFormat?le.titleFormat($):_a()($)},e.createElement(Ru,{value:_,options:le}));function Hs($,_){return Object.keys($).map(le=>e.createElement(lc,{key:le,title:le,value:$[le],options:_}))}function Va($){const{metadata:_,dense:le=!0,options:me}=$,Re=Hs(_,me||{});return e.createElement(oc,{dense:le},Re)}function Su($){return qs.stringify($,{strictNullHandling:!0})}function sd($){return qs.parse($,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function $u($,_){return sd($)[_]}function Tu($,_,le){const me={...sd($),[_]:le};return Su(me)}function cc($,_=250){const[le,me]=useSearchParams(),Re=le.toString(),[xe,ze]=useState($u(Re,$));return useEffect(()=>{const tt=$u(Re,$);ze(ft=>isEqual(tt,ft)?ft:tt)},[Re,ze,$]),useDebouncedEffect(()=>{const tt=Tu(Re,$,xe);Re!==tt&&me(tt,{replace:!0})},[me,xe,Re,$],_),[xe,ze]}const Na={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function uc(){const _=(0,T.I_)().get(T.Ds),le=_==null?void 0:_.getOptionalConfig("app.support");return le?{url:le.getString("url"),items:le.getConfigArray("items").flatMap(me=>{var Re;return{title:me.getString("title"),icon:me.getOptionalString("icon"),links:((Re=me.getOptionalConfigArray("links"))!=null?Re:[]).flatMap(xe=>({url:xe.getString("url"),title:xe.getString("title")}))}})}:Na}function La($,_){const me=(0,T.qD)().getSystemIcon($);return me?e.createElement(me,{..._}):e.createElement(to.Z,{..._})}function yo($){return La("brokenImage",$)}function dc($){return La("catalog",$)}function Cu($){return La("chat",$)}function Ks($){return La("dashboard",$)}function ku($){return La("docs",$)}function ji($){return La("email",$)}function _i($){return La("github",$)}function Nd($){return La("group",$)}function vo($){return La("help",$)}function Ui($){return La("user",$)}function Gi($){return La("warning",$)}const Eo=(0,w.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),Lo=({icon:$})=>{var _;const le=(0,T.qD)(),me=$&&(_=le.getSystemIcon($))!=null?_:vo;return e.createElement(me,null)},mc=({link:$})=>{var _;return e.createElement(yn,{to:$.url},(_=$.title)!=null?_:$.url)},Pu=({item:$})=>{var _;return e.createElement(W.Z,null,e.createElement(kr.Z,null,e.createElement(Lo,{icon:$.icon})),e.createElement(d.Z,{primary:$.title,secondary:(_=$.links)==null?void 0:_.reduce((le,me,Re)=>[...le,Re>0&&e.createElement("br",{key:Re}),e.createElement(mc,{link:me,key:me.url})],[])}))};function Au($){const{title:_,children:le}=$,{items:me}=uc(),[Re,xe]=(0,e.useState)(!1),[ze,tt]=(0,e.useState)(null),ft=Eo(),ut=(0,x.Z)(Bt=>Bt.breakpoints.down("sm")),Tt=Bt=>{tt(Bt.currentTarget),xe(!0)},St=()=>{xe(!1)};return e.createElement(e.Fragment,null,e.createElement(bn.Z,{display:"flex",ml:1},ut?e.createElement(t.Z,{color:"primary",size:"small",onClick:Tt,"data-testid":"support-button"},e.createElement(vo,null)):e.createElement(F.Z,{"data-testid":"support-button","aria-label":"support",color:"primary",onClick:Tt,startIcon:e.createElement(vo,null)},"Support")),e.createElement(Mr.ZP,{"data-testid":"support-button-popover",open:Re,anchorEl:ze,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:St},e.createElement(re.Z,{className:ft.popoverList},_&&e.createElement(W.Z,{alignItems:"flex-start"},e.createElement(Et.Z,{variant:"subtitle1"},_)),e.Children.map(le,(Bt,Vt)=>e.createElement(W.Z,{alignItems:"flex-start",key:`child-${Vt}`},Bt)),me&&me.map((Bt,Vt)=>e.createElement(Pu,{item:Bt,key:`item-${Vt}`}))),e.createElement(je.Z,null,e.createElement(F.Z,{color:"primary",onClick:St},"Close"))))}const co=72,Ta=24,Js=18,ro={drawerWidthClosed:co,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:co,iconSize:co-Ta*2,iconPadding:Ta,selectedIndicatorWidth:3,userBadgePadding:Js,userBadgeDiameter:co-Js*2,mobileSidebarHeight:56},pc=$=>({...ro,...$,iconContainerWidth:ro.drawerWidthClosed,iconSize:ro.drawerWidthClosed-ro.iconPadding*2,userBadgeDiameter:ro.drawerWidthClosed-ro.userBadgePadding*2}),xo={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:ro.defaultOpenDelayMs+200},Vi=$=>({...xo,...$}),fc="@backstage/core/sidebar-intro-dismissed",Do=(0,e.createContext)({isOpen:!1,setOpen:()=>{}}),Ca=(0,e.createContext)({sidebarConfig:ro,submenuConfig:xo}),zi=(0,e.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}}),ps={getSidebarPinState(){let $;try{$=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!$},setSidebarPinState($){return window.localStorage.setItem("sidebarPinState",JSON.stringify($))}},Ys=(0,w.Z)($=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[$.breakpoints.up("sm")]:{paddingLeft:_=>_.isPinned?_.sidebarConfig.drawerWidthOpen:_.sidebarConfig.drawerWidthClosed},[$.breakpoints.down("xs")]:{paddingBottom:_=>_.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),Mo=(0,e.createContext)({isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1}),Zi=(0,e.createContext)({content:{contentRef:void 0}});function hc($){const[_,le]=useState(()=>ps.getSidebarPinState()),{sidebarConfig:me}=useContext(Ca),Re=useRef(null),xe=useMemo(()=>({content:{contentRef:Re}}),[Re]);useEffect(()=>{ps.setSidebarPinState(_)},[_]);const ze=useMediaQuery(ut=>ut.breakpoints.down("xs"),{noSsr:!0}),tt=()=>le(!_),ft=Ys({isPinned:_,sidebarConfig:me});return React.createElement(Mo.Provider,{value:{isPinned:_,toggleSidebarPinState:tt,isMobile:ze}},React.createElement(Zi.Provider,{value:xe},React.createElement("div",{className:ft.root},$.children)))}function fs(){const{content:$}=(0,e.useContext)(Zi);return{focusContent:(0,e.useCallback)(()=>{var le,me;(me=(le=$==null?void 0:$.contentRef)==null?void 0:le.current)==null||me.focus()},[$]),contentRef:$==null?void 0:$.contentRef}}const gc=(0,w.Z)($=>({root:{flexGrow:0,margin:$.spacing(0,2),color:$.palette.navigation.color},selected:_=>({color:`${$.palette.navigation.selectedColor}!important`,borderTop:`solid ${_.sidebarConfig.selectedIndicatorWidth}px ${$.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),zo=$=>{const{to:_,label:le,icon:me,value:Re}=$,{sidebarConfig:xe}=(0,e.useContext)(Ca),ze=gc({sidebarConfig:xe}),tt=(0,p.TH)(),{selectedMenuItemIndex:ft,setSelectedMenuItemIndex:ut}=(0,e.useContext)(Ec),Tt=(Bt,Vt)=>{ut(Vt===ft?-1:Vt)},St=Re===ft&&ft>=0||Re!==ft&&!(ft>=0)&&_===tt.pathname;return e.createElement(Br.Z,{label:le,icon:me,component:yn,to:_||tt.pathname,onChange:Tt,value:Re,selected:St,classes:ze})},Zo=$=>{const{children:_,to:le,label:me,icon:Re,value:xe}=$,{isMobile:ze}=(0,e.useContext)(Mo);return ze?e.createElement(zo,{to:le,label:me,icon:Re,value:xe}):e.createElement(e.Fragment,null,_)},Wi=(0,w.Z)($=>({root:{position:"fixed",backgroundColor:$.palette.navigation.background,color:$.palette.navigation.color,bottom:0,left:0,right:0,zIndex:$.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:_=>({background:$.palette.navigation.background,width:"100%",bottom:`${_.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${_.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:$.palette.bursts.fontColor,alignItems:"center",justifyContent:"space-between",padding:$.spacing(2,3)},overlayHeaderClose:{color:$.palette.bursts.fontColor},marginMobileSidebar:_=>({marginBottom:`${_.sidebarConfig.mobileSidebarHeight}px`})})),yc=$=>orderBy($,({props:{priority:_}})=>Number.isInteger(_)?_:-1,"desc"),hs=e.createElement(Zo).type,vc=({children:$,label:_="Menu",open:le,onClose:me})=>{const{sidebarConfig:Re}=useContext(Ca),xe=Wi({sidebarConfig:Re});return React.createElement(Drawer,{anchor:"bottom",open:le,onClose:me,ModalProps:{BackdropProps:{classes:{root:xe.marginMobileSidebar}}},classes:{root:xe.marginMobileSidebar,paperAnchorBottom:xe.overlay}},React.createElement(Box,{className:xe.overlayHeader},React.createElement(Typography,{variant:"h3"},_),React.createElement(IconButton,{onClick:me,classes:{root:xe.overlayHeaderClose}},React.createElement(CloseIcon,null))),React.createElement(Box,{component:"nav"},$))},Ec=(0,e.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),Hi=$=>{const{sidebarConfig:_}=useContext(Ca),{children:le}=$,me=Wi({sidebarConfig:_}),Re=useLocation$1(),[xe,ze]=useState(-1);useEffect(()=>{ze(-1)},[Re.pathname]);let tt=useElementFilter(le,ut=>ut.getElements().filter(Tt=>Tt.type===hs));if(le)tt.length?tt=yc(tt):tt.push(React.createElement(Zo,{key:"default_menu",icon:React.createElement(MenuIcon,null)},le));else return null;const ft=xe>=0&&!tt[xe].props.to;return React.createElement(Do.Provider,{value:{isOpen:!0,setOpen:()=>{}}},React.createElement(Ec.Provider,{value:{selectedMenuItemIndex:xe,setSelectedMenuItemIndex:ze}},React.createElement(vc,{label:tt[xe]&&tt[xe].props.label,open:ft,onClose:()=>ze(-1)},tt[xe]&&tt[xe].props.children),React.createElement(BottomNavigation,{className:me.root,"data-testid":"mobile-sidebar-root",component:"nav"},tt)))},Qs=(0,w.Z)($=>({drawer:_=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:$.zIndex.appBar,background:$.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:_.sidebarConfig.drawerWidthClosed,transition:$.transitions.create("width",{easing:$.transitions.easing.sharp,duration:$.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:_=>({width:_.sidebarConfig.drawerWidthOpen,transition:$.transitions.create("width",{easing:$.transitions.easing.sharp,duration:$.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),bc=$=>{const{sidebarConfig:_}=useContext(Ca),{openDelayMs:le=_.defaultOpenDelayMs,closeDelayMs:me=_.defaultCloseDelayMs,disableExpandOnHover:Re,children:xe}=$,ze=Qs({sidebarConfig:_}),tt=useMediaQuery(Zn=>Zn.breakpoints.down("md"),{noSsr:!0}),[ft,ut]=useState(0),Tt=useRef(),{isPinned:St,toggleSidebarPinState:Bt}=useContext(Mo),Vt=()=>{St||Re||(Tt.current&&(clearTimeout(Tt.current),Tt.current=void 0),ft!==2&&!tt&&(Tt.current=window.setTimeout(()=>{Tt.current=void 0,ut(2)},le),ut(1)))},Zt=()=>{St||Re||(Tt.current&&(clearTimeout(Tt.current),Tt.current=void 0),ft===1?ut(0):ft===2&&(Tt.current=window.setTimeout(()=>{Tt.current=void 0,ut(0)},me)))},kn=ft===2&&!tt||St,Gn=Zn=>{Zn?(ut(2),Bt()):(ut(0),Bt())};return React.createElement("nav",{style:{},"aria-label":"sidebar nav"},React.createElement(wc,null),React.createElement(Do.Provider,{value:{isOpen:kn,setOpen:Gn}},React.createElement("div",{className:ze.root,"data-testid":"sidebar-root",onMouseEnter:Re?()=>{}:Vt,onFocus:Re?()=>{}:Vt,onMouseLeave:Re?()=>{}:Zt,onBlur:Re?()=>{}:Zt},React.createElement("div",{className:classNames(ze.drawer,{[ze.drawerOpen]:kn})},xe))))},Ki=$=>{var _,le;const me=pc((_=$.sidebarOptions)!=null?_:{}),Re=Vi((le=$.submenuOptions)!=null?le:{}),{children:xe,disableExpandOnHover:ze,openDelayMs:tt,closeDelayMs:ft}=$,{isMobile:ut}=useContext(Mo);return ut?React.createElement(Hi,null,xe):React.createElement(Ca.Provider,{value:{sidebarConfig:me,submenuConfig:Re}},React.createElement(bc,{openDelayMs:tt,closeDelayMs:ft,disableExpandOnHover:ze},xe))};function wc(){const{sidebarConfig:$}=useContext(Ca),{focusContent:_,contentRef:le}=fs(),me=Qs({sidebarConfig:$});return le!=null&&le.current?React.createElement(Button$1,{onClick:_,variant:"contained",className:classNames(me.visuallyHidden)},"Skip to content"):null}function gs($,_){const le=new URLSearchParams(_.search).toString(),me=ia().parse(le),Re=new URLSearchParams($.search).toString(),xe=ia().parse(Re);return(0,sa.isEqual)(_.pathname,$.pathname)&&(0,sa.isMatch)(xe,me)}const za=(0,w.Z)($=>({item:{height:48,width:"100%","&:hover":{background:"#6f6f6f",color:$.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:$.palette.navigation.color,padding:20,cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:"#FFF"},label:{margin:14,marginLeft:7,fontSize:14,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:"#6f6f6f",color:$.palette.navigation.selectedColor}},textContent:{color:$.palette.navigation.color,paddingLeft:$.spacing(4),paddingRight:$.spacing(1),fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}),{name:"BackstageSidebarSubmenuItem"}),Ji=$=>{const{title:_,to:le,icon:me,dropdownItems:Re}=$,xe=za(),{setIsHoveredOn:ze}=useContext(zi),tt=()=>{ze(!1)},ft=useResolvedPath(le!=null?le:""),ut=useLocation();let Tt=gs(ut,ft);const[St,Bt]=useState(!1),Vt=()=>{Bt(!St)};return Re!==void 0?(Re.some(Zt=>{const kn=resolvePath(Zt.to);return Tt=gs(ut,kn),Tt}),React.createElement("div",{className:xe.itemContainer},React.createElement(Tooltip,{title:_,enterDelay:500,enterNextDelay:500},React.createElement("button",{onClick:Vt,onTouchStart:Zt=>Zt.stopPropagation(),className:classNames(xe.item,Tt?xe.selected:void 0)},me&&React.createElement(me,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:xe.label},_),St?React.createElement(ArrowDropUpIcon,{className:xe.dropdownArrow}):React.createElement(ArrowDropDownIcon,{className:xe.dropdownArrow}))),Re&&St&&React.createElement("div",{className:xe.dropdown},Re.map((Zt,kn)=>React.createElement(Tooltip,{key:kn,title:Zt.title,enterDelay:500,enterNextDelay:500},React.createElement(yn,{to:Zt.to,underline:"none",className:xe.dropdownItem,onClick:tt,onTouchStart:Gn=>Gn.stopPropagation()},React.createElement(Typography,{className:xe.textContent},Zt.title))))))):React.createElement("div",{className:xe.itemContainer},React.createElement(Tooltip,{title:_,enterDelay:500,enterNextDelay:500},React.createElement(yn,{to:le,underline:"none",className:classNames(xe.item,Tt?xe.selected:void 0),onClick:tt,onTouchStart:Zt=>Zt.stopPropagation()},me&&React.createElement(me,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:xe.label},_))))},Iu=(0,w.Z)($=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:$.spacing(7)+1},drawer:_=>{var le,me;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[$.breakpoints.up("sm")]:{marginLeft:_.left,transition:$.transitions.create("margin-left",{easing:$.transitions.easing.sharp,duration:$.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(me=(le=$.palette.navigation.submenu)==null?void 0:le.background)!=null?me:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:_.submenuConfig.drawerWidthClosed,transitionDelay:`${_.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:_=>({width:_.submenuConfig.drawerWidthOpen,[$.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:$.spacing(3),left:0,top:0}}),title:{fontSize:24,fontWeight:500,color:"#FFF",padding:20,[$.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),Xs=$=>{const{isOpen:_}=(0,e.useContext)(Do),{sidebarConfig:le,submenuConfig:me}=(0,e.useContext)(Ca),Re=_?le.drawerWidthOpen:le.drawerWidthClosed,xe=Iu({left:Re,submenuConfig:me}),{isHoveredOn:ze}=(0,e.useContext)(zi),[tt,ft]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{ft(ze)},[ze]),e.createElement("div",{className:B()(xe.drawer,{[xe.drawerOpen]:tt})},e.createElement(Et.Z,{variant:"h5",className:xe.title},$.title),$.children)},Ou=(0,w.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Nu=()=>{const $=Ou();return React.createElement("div",{className:$.iconContainer},React.createElement("div",{className:$.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))},Rc=(0,w.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Lu=()=>{const $=Rc();return React.createElement("div",{className:$.iconContainer},React.createElement("div",{className:$.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))},id=$=>(0,w.Z)(_=>{var le,me,Re,xe;return{root:{color:_.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit"},closed:{width:$.drawerWidthClosed,justifyContent:"center"},open:{[_.breakpoints.up("sm")]:{width:$.drawerWidthOpen}},highlightable:{"&:hover":{background:(me=(le=_.palette.navigation.navItem)==null?void 0:le.hoverBackground)!=null?me:"#404040"}},highlighted:{background:(xe=(Re=_.palette.navigation.navItem)==null?void 0:Re.hoverBackground)!=null?xe:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:$.iconContainerWidth,marginRight:-_.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:"bold",fontSize:_.typography.fontSize},searchFieldHTMLInput:{padding:_.spacing(2,0,2)},searchContainer:{width:$.drawerWidthOpen-$.iconContainerWidth},secondaryAction:{width:_.spacing(6),textAlign:"center",marginRight:_.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:_.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${$.selectedIndicatorWidth}px ${_.palette.navigation.indicator}`,color:_.palette.navigation.selectedColor},"&$closed":{width:$.drawerWidthClosed},"& $closedItemIcon":{paddingRight:$.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-$.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function Bo($){return(0,e.useMemo)(()=>id($),[$])()}const ld=($,_)=>(0,T.vJ)($.props.children,le=>{let me=!1;return le.getElements().forEach(({props:{to:Re,dropdownItems:xe}})=>{if(!me){if(xe!=null&&xe.length){xe.forEach(({to:ze})=>me=me||gs(_,(0,p.i3)(ze)));return}Re&&(me=gs(_,(0,p.i3)(Re)))}}),me},[_.pathname]);function xu($){return $.to===void 0}const Du=e.createElement(Xs).type,Yi=e.forwardRef(function({to:_,end:le,style:me,className:Re,activeStyle:xe,caseSensitive:ze,activeClassName:tt="active","aria-current":ft="page",...ut},Tt){let{pathname:St}=(0,p.TH)(),{pathname:Bt}=(0,p.WU)(_);ze||(St=St.toLocaleLowerCase("en-US"),Bt=Bt.toLocaleLowerCase("en-US"));let Vt=St===Bt;!Vt&&!le&&(Vt=St.startsWith(`${Bt}/`));const Zt=Vt?ft:void 0;return e.createElement(f.rU,{...ut,to:_,ref:Tt,"aria-current":Zt,style:{...me,...Vt?xe:void 0},className:B()([Re,Vt?tt:void 0])})}),Sc=(0,e.forwardRef)(($,_)=>{const{icon:le,text:me,hasNotifications:Re=!1,disableHighlight:xe=!1,onClick:ze,children:tt,className:ft,...ut}=$,{sidebarConfig:Tt}=(0,e.useContext)(Ca),St=Bo(Tt),{isOpen:Bt}=(0,e.useContext)(Do),Vt=!Bt&&tt?{display:"flex",marginLeft:"24px"}:{},Zt=e.createElement("div",{style:Vt},e.createElement(le,{fontSize:"small"}),!Bt&&tt?e.createElement(gr.Z,null):e.createElement(e.Fragment,null)),kn=e.createElement(qr.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!Re,className:B()({[St.closedItemIcon]:!Bt})},Zt),Gn=e.createElement(e.Fragment,null,e.createElement("div",{"data-testid":"login-button",className:St.iconContainer},kn),me&&e.createElement(Et.Z,{variant:"subtitle2",className:St.label},me),e.createElement("div",{className:St.secondaryAction},tt)),Zn=Bt?Gn:kn,Hn={onClick:ze,className:B()(ft,St.root,Bt?St.open:St.closed,xu($)&&St.buttonItem,{[St.highlightable]:!xe})};return xu($)?e.createElement("button",{"aria-label":me,...Hn,ref:_},Zn):e.createElement(Yi,{...Hn,activeClassName:St.selected,to:$.to?$.to:"",ref:_,"aria-label":me||$.to,...ut},Zn)}),Qi=({children:$,..._})=>{const{sidebarConfig:le}=(0,e.useContext)(Ca),me=Bo(le),[Re,xe]=(0,e.useState)(!1),ze=(0,p.TH)(),tt=ld($,ze),ft=(0,x.Z)(Bt=>Bt.breakpoints.down("sm")),ut=()=>{xe(!0)},Tt=()=>{xe(!1)},St=()=>ft?Re?e.createElement(Ja.Z,{fontSize:"small",className:me.submenuArrow}):e.createElement(Ua.Z,{fontSize:"small",className:me.submenuArrow}):!Re&&e.createElement(gr.Z,{fontSize:"small",className:me.submenuArrow});return e.createElement(zi.Provider,{value:{isHoveredOn:Re,setIsHoveredOn:xe}},e.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:Tt,onTouchStart:Re?Tt:ut,onMouseEnter:ut,className:B()(Re&&me.highlighted)},e.createElement(Sc,{className:tt?me.selected:"",..._},St()),Re&&$))},$c=(0,e.forwardRef)(($,_)=>{const[le]=(0,T.vJ)($.children,me=>me.getElements().filter(Re=>Re.type===Du));return le?e.createElement(Qi,{...$},le):e.createElement(Sc,{...$,ref:_})});function ei($){const{sidebarConfig:_}=useContext(Ca),[le,me]=useState(""),Re=Bo(_),xe=$.icon?$.icon:SearchIcon,ze=()=>{$.onSearch(le),me("")},tt=St=>{St.key==="Enter"&&(St.preventDefault(),ze())},ft=St=>{me(St.target.value)},ut=St=>{St.preventDefault(),St.stopPropagation()},Tt=St=>{ze(),St.preventDefault()};return React.createElement("div",{className:Re.searchRoot},React.createElement($c,{icon:xe,to:$.to,onClick:Tt,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:le,onClick:ut,onChange:ft,onKeyDown:tt,className:Re.searchContainer,InputProps:{disableUnderline:!0,className:Re.searchField},inputProps:{className:Re.searchFieldHTMLInput}})))}const Xi=(0,A.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),Mu=(0,A.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),uo=(0,A.Z)("hr")({height:1,width:"100%",background:"#383838",border:"none",margin:"12px 0px"},{name:"BackstageSidebarDivider"}),cd=$=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:$.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:$.palette.text.hint,borderRadius:"5px"}}),Tc=(0,A.Z)("div")(({theme:$})=>{const _=cd($);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":_,"&:hover":_}}),qi=()=>{const{sidebarConfig:$}=useContext(Ca),_=Bo($),{isOpen:le,setOpen:me}=useContext(Do);if(useMediaQuery(ze=>ze.breakpoints.down("md"),{noSsr:!0}))return null;const xe=()=>{me(!le)};return React.createElement("button",{onClick:xe,className:_.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement("div",{className:_.arrows},le?React.createElement(Nu,null):React.createElement(Lu,null)))},Cc=(0,w.Z)($=>({introCard:_=>({color:"#b5b5b5",fontSize:12,width:_.sidebarConfig.drawerWidthOpen,marginTop:18,marginBottom:12,paddingLeft:_.sidebarConfig.iconPadding,paddingRight:_.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:12},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:4,"&:hover":{color:$.palette.linkHover,transition:$.transitions.create("color",{easing:$.transitions.easing.sharp,duration:$.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:12}}),{name:"BackstageSidebarIntro"});function Fo($){const{sidebarConfig:_}=useContext(Ca),le=Cc({sidebarConfig:_}),{text:me,onClose:Re}=$,xe=()=>Re();return React.createElement("div",{className:le.introCard},React.createElement(Typography,{variant:"subtitle2"},me),React.createElement("div",{className:le.introDismiss},React.createElement(Link$1,{component:"button",onClick:xe,underline:"none",className:le.introDismissLink},React.createElement(CloseIcon,{className:le.introDismissIcon}),React.createElement(Typography,{component:"span",className:le.introDismissText},"Dismiss"))))}const ka=$=>{const{text:_,onDismiss:le}=$,[me,Re]=useState(!1),xe=()=>{Re(!0)};return React.createElement(Collapse,{in:!me,onExited:le},React.createElement(Fo,{text:_,onClose:xe}))},ti=null,ys="And your recently viewed plugins will pop up here!";function kc($){const{isOpen:_}=useContext(Do),le={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},[me,Re]=useLocalStorageValue(fc),{starredItemsDismissed:xe,recentlyViewedItemsDismissed:ze}=me!=null?me:{},tt=()=>{Re(ut=>({...le,...ut,starredItemsDismissed:!0}))},ft=()=>{Re(ut=>({...le,...ut,recentlyViewedItemsDismissed:!0}))};return _?React.createElement(React.Fragment,null,!xe&&React.createElement(React.Fragment,null,React.createElement(ka,{text:ti,onDismiss:tt}),React.createElement(uo,null)),!ze&&React.createElement(ka,{text:ys,onDismiss:ft})):null}const vs=(0,w.Z)($=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:$.spacing(3),paddingBottom:$.spacing(3),paddingLeft:$.spacing(2),paddingRight:$.spacing(2),[$.breakpoints.up("sm")]:{paddingLeft:$.spacing(3),paddingRight:$.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function Wo($){const{className:_,stretch:le,noPadding:me,children:Re,...xe}=$,{contentRef:ze}=fs(),tt=vs();return e.createElement("article",{ref:ze,tabIndex:-1,...xe,className:B()(tt.root,_,{[tt.stretch]:le,[tt.noPadding]:me})},Re)}const ud=(0,w.Z)($=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:$.palette.background.paper,paddingLeft:$.spacing(3)},defaultTab:{padding:$.spacing(3,3),...$.typography.caption,textTransform:"uppercase",fontWeight:"bold",color:$.palette.text.secondary},selected:{color:$.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:$.palette.background.default,color:$.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function Es($){const{tabs:_,onChange:le,selectedIndex:me}=$,[Re,xe]=(0,e.useState)(me!=null?me:0),ze=ud(),tt=(ft,ut)=>{me===void 0&&xe(ut),le&&le(ut)};return(0,e.useEffect)(()=>{me!==void 0&&xe(me)},[me]),e.createElement("div",{className:ze.tabsWrapper},e.createElement(Ia.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",onChange:tt,value:Re},_.map((ft,ut)=>e.createElement(Ea.Z,{...ft.tabProps,"data-testid":`header-tab-${ut}`,label:ft.label,key:ft.id,value:ut,className:ze.defaultTab,classes:{selected:ze.selected,root:ze.tabRoot}}))))}function Pc($){var _,le,me;const Re=(0,p.UO)(),ze=$.map(({path:Tt,children:St})=>({caseSensitive:!1,path:`${Tt}/*`,element:St})).sort((Tt,St)=>St.path.replace(/\/\*$/,"").localeCompare(Tt.path.replace(/\/\*$/,""))),tt=(_=(0,p.V$)(ze))!=null?_:$[0].children,[ft]=(le=(0,p.fp)(ze,`/${Re["*"]}`))!=null?le:[],ut=ft?$.findIndex(Tt=>`${Tt.path}/*`===ft.route.path):0;return{index:ut===-1?0:ut,element:tt,route:(me=$[ut])!=null?me:$[0]}}function el($){const{routes:_}=$,le=(0,p.s0)(),{index:me,route:Re,element:xe}=Pc(_),ze=(0,e.useMemo)(()=>_.map(ft=>({id:ft.path,label:ft.title,tabProps:ft.tabProps})),[_]),tt=ft=>le(_[ft].path.replace(/\/\*$/,"").replace(/^\//,""));return e.createElement(e.Fragment,null,e.createElement(Es,{tabs:ze,selectedIndex:me,onChange:tt}),e.createElement(Wo,null,e.createElement(Pr.q,{title:Re.title}),xe))}const Ho=()=>null;(0,T.R5)(Ho,"core.gatherMountPoints",!0);function bs($){const _=e.createElement(Ho,{path:"",title:""},e.createElement("div",null)).type;return e.Children.toArray($).flatMap(le=>{if(!(0,e.isValidElement)(le))return[];if(le.type===e.Fragment)return bs(le.props.children);if(le.type!==_)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:me,title:Re,children:xe,tabProps:ze}=le.props;return[{path:me,title:Re,children:xe,tabProps:ze}]})}function tl($){const _=bs($.children);return e.createElement(el,{routes:_})}tl.Route=Ho;const Ac=(0,w.Z)($=>({value:{marginBottom:"6px"},subvalue:{color:$.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function Ic($){const{value:_,subvalue:le}=$,me=Ac();return React.createElement(React.Fragment,null,React.createElement("div",{className:me.value},_),React.createElement("div",{className:me.subvalue},le))}const jo=(0,w.Z)($=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:$.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:"60px",justifyContent:"space-between",borderBottom:`1px solid ${$.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:$.spacing(2)}}}),{name:"BackstageTableFilters"}),Oc=$=>{var _;const le=jo(),{onChangeFilters:me}=$,[Re,xe]=(0,e.useState)({...$.selectedFilters}),[ze,tt]=(0,e.useState)(!1),ft=()=>{xe({}),tt(ut=>!ut)};return(0,e.useEffect)(()=>{me(Re)},[Re,me]),e.createElement("div",{className:le.root},e.createElement("div",{className:le.header},e.createElement("div",{className:le.value},"Filters"),e.createElement(F.Z,{color:"primary",onClick:ft},"Clear all")),e.createElement("div",{className:le.filters},((_=$.filters)==null?void 0:_.length)&&$.filters.map(ut=>e.createElement(Zs,{triggerReset:ze,key:ut.element.label,...ut.element,selected:Re[ut.element.label],onChange:Tt=>xe({...Re,[ut.element.label]:Tt})}))))},ws={Add:(0,e.forwardRef)(($,_)=>e.createElement(Ya.Z,{...$,ref:_})),Check:(0,e.forwardRef)(($,_)=>e.createElement(la.Z,{...$,ref:_})),Clear:(0,e.forwardRef)(($,_)=>e.createElement(Ga.Z,{...$,ref:_})),Delete:(0,e.forwardRef)(($,_)=>e.createElement(pa.Z,{...$,ref:_})),DetailPanel:(0,e.forwardRef)(($,_)=>e.createElement(we.Z,{...$,ref:_})),Edit:(0,e.forwardRef)(($,_)=>e.createElement(zr.Z,{...$,ref:_})),Export:(0,e.forwardRef)(($,_)=>e.createElement(ea.Z,{...$,ref:_})),Filter:(0,e.forwardRef)(($,_)=>e.createElement(Zr.Z,{...$,ref:_})),FirstPage:(0,e.forwardRef)(($,_)=>e.createElement(mn.Z,{...$,ref:_})),LastPage:(0,e.forwardRef)(($,_)=>e.createElement(Wr.Z,{...$,ref:_})),NextPage:(0,e.forwardRef)(($,_)=>e.createElement(we.Z,{...$,ref:_})),PreviousPage:(0,e.forwardRef)(($,_)=>e.createElement(ie.Z,{...$,ref:_})),ResetSearch:(0,e.forwardRef)(($,_)=>e.createElement(Ga.Z,{...$,ref:_})),Search:(0,e.forwardRef)(($,_)=>e.createElement(Zr.Z,{...$,ref:_})),SortArrow:(0,e.forwardRef)(($,_)=>e.createElement(Or.Z,{...$,ref:_})),ThirdStateCheck:(0,e.forwardRef)(($,_)=>e.createElement(Qn.Z,{...$,ref:_})),ViewColumn:(0,e.forwardRef)(($,_)=>e.createElement(cr.Z,{...$,ref:_}))};function ni($,_){const le=_.split(".");let me=$[le[0]];for(let Re=1;Re<le.length;++Re){if(me===void 0)return me;const xe=le[Re];me=me[xe]}return me}const Nc=(0,l.Z)($=>({header:{padding:$.spacing(1,2,1,2.5),borderTop:`1px solid ${$.palette.grey.A100}`,borderBottom:`1px solid ${$.palette.grey.A100}`,color:$.palette.textSubtle,fontWeight:$.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(Xn.W$),nl=(0,l.Z)($=>({root:{padding:$.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:"bold"}},searchField:{paddingRight:$.spacing(2)}}),{name:"BackstageTableToolbar"})(Xn.UW),Rs=(0,w.Z)(()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:"bold",fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),Bu=(0,w.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function Lc($,_){return $.map(le=>{const me={};let Re=le.cellStyle||{};if(le.highlight)if(me.color=_.palette.textContrast,typeof Re=="object")Re.fontWeight=_.typography.fontWeightBold;else{const xe=Re;Re=(ze,tt,ft)=>({...xe(ze,tt,ft),fontWeight:_.typography.fontWeightBold})}return{...le,headerStyle:me,cellStyle:Re}})}function xc($,_){return(0,sa.transform)($,(le,me,Re)=>{(0,sa.isEqual)(me,_[Re])||(le[Re]=me)})}const rl={search:"",filtersOpen:!1,filters:{}};function Dc($){const{toolbarRef:_,setSearch:le,hasFilters:me,selectedFiltersLength:Re,toggleFilters:xe}=$,ze=Rs(),tt=(0,e.useCallback)(ft=>{$.onSearchChanged(ft),le(ft)},[$,le]);return me?e.createElement("div",{className:ze.root},e.createElement("div",{className:ze.root},e.createElement(t.Z,{onClick:xe,"aria-label":"filter list"},e.createElement(Zr.Z,null)),e.createElement(Et.Z,{className:ze.title},"Filters (",Re,")")),e.createElement(nl,{...$,ref:_,onSearchChanged:tt})):e.createElement(nl,{...$,ref:_,onSearchChanged:tt})}function Mc($){const{data:_,columns:le,options:me,title:Re,subtitle:xe,filters:ze,initialState:tt,emptyContent:ft,onStateChange:ut,...Tt}=$,St=Bu(),Bt=(0,E.Z)(),Vt={...rl,...tt},[Zt,kn]=(0,e.useState)(Vt.filtersOpen),Gn=(0,e.useCallback)(()=>kn(Yr=>!Yr),[kn]),[Zn,Hn]=(0,e.useState)(0),[fn,xn]=(0,e.useState)(_),[Dn,jr]=(0,e.useState)(Vt.filters),ha=Lc(le,Bt),[Kr,xa]=(0,e.useState)(Vt.search);(0,e.useEffect)(()=>{if(ut){const Yr=xc({search:Kr,filtersOpen:Zt,filters:Dn},rl);ut(Yr)}},[Kr,Zt,Dn,ut]);const Jr={headerStyle:{textTransform:"uppercase"}},ba=(0,e.useCallback)(Yr=>{var Da;return(Da=le.find(wo=>wo.title===Yr))==null?void 0:Da.field},[le]);(0,e.useEffect)(()=>{if(typeof _=="function")return;if(!Dn){xn(_);return}const Yr=Object.values(Dn);if(_&&Yr.flat().length){const Da=_.filter(wo=>!!Object.entries(Dn).filter(([,Ma])=>!!Ma.length).every(([Ma,Sr])=>{const wa=ni(wo,ba(Ma));return Array.isArray(wa)&&Array.isArray(Sr)?wa.some(fo=>Sr.includes(fo)):Array.isArray(wa)?wa.includes(Sr):Array.isArray(Sr)?Sr.includes(wa):wa===Sr}));xn(Da)}else xn(_);Hn(Yr.flat().length)},[_,Dn,ba]);const Wn=(Yr,Da)=>{const wo=Sr=>{const wa=new Set,fo=Wa=>{Wa!=null&&wa.add(Wa)};return Da&&Da.forEach(Wa=>{const Is=ni(Wa,ba(Sr));Array.isArray(Is)?Is.forEach(fo):fo(Is)}),wa},Ma=Sr=>({placeholder:"All results",label:Sr.column,multiple:Sr.type==="multiple-select",items:[...wo(Sr.column)].sort().map(wa=>({label:wa,value:wa}))});return Yr.map(Sr=>({type:Sr.type,element:Ma(Sr)}))},Za=!!(ze!=null&&ze.length),po=(0,e.useCallback)(Yr=>e.createElement(Dc,{setSearch:xa,hasFilters:Za,selectedFiltersLength:Zn,toggleFilters:Gn,...Yr}),[Gn,Za,Zn,xa]),bo=typeof _!="function"&&_.length===0,As=le.length,kl=(0,e.useCallback)(Yr=>ft&&bo?e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{colSpan:As},ft))):e.createElement(Xn.os,{...Yr}),[bo,ft,As]);return e.createElement("div",{className:St.root},Zt&&_&&typeof _!="function"&&(ze==null?void 0:ze.length)&&e.createElement(Oc,{filters:Wn(ze,_),selectedFilters:Dn,onChangeFilters:jr}),e.createElement(Xn.ZP,{components:{Header:Nc,Toolbar:po,Body:kl},options:{...Jr,...me},columns:ha,icons:ws,title:e.createElement(e.Fragment,null,e.createElement(Et.Z,{variant:"h5",component:"h3"},Re),xe&&e.createElement(Et.Z,{color:"textSecondary",variant:"body1"},xe)),data:typeof _=="function"?_:fn,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter"}},...Tt}))}function Bc($,_){if(_<=0)return[$];const le=[];for(let me=0;me<$.length;me+=_)le.push($.slice(me,me+_));return le}const al=$=>{const{children:_,value:le,index:me,...Re}=$;return React.createElement("div",{role:"tabpanel",hidden:le!==me,"aria-labelledby":`scrollable-auto-tab-${me}`,...Re},le===me&&React.createElement(Box,{p:3},_))},ol=(0,w.Z)(()=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:"1.5rem",textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:$=>$.isNext?"auto":"0",marginRight:$=>$.isNext?"0":"10px","&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}}),{name:"BackstageTabIcon"}),_o=$=>{const _=ol($),{ariaLabel:le,onClick:me}=$;return React.createElement(IconButton,{onClick:me,className:_.root,size:"small",disableRipple:!0,disableFocusRipple:!0,"aria-label":le},$.children)},dd=($,_)=>_?$?"20px":"0":"40px",sl=(0,w.Z)($=>({root:{textTransform:"none",height:"64px",fontWeight:$.typography.fontWeightBold,fontSize:$.typography.pxToRem(13),color:$.palette.textSubtle,marginLeft:_=>dd(_.isFirstNav,_.isFirstIndex),width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:$.palette.textSubtle}}}),{name:"BackstageTab"}),Fc=$=>{const _=sl($),{isFirstNav:le,isFirstIndex:me,...Re}=$;return React.createElement(Tab,{classes:_,disableRipple:!0,...Re})},jc=(0,w.Z)($=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:$.palette.tabbar.indicator,height:"4px"},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}}),{name:"BackstageTabBar"}),il=$=>{const _=jc($);return React.createElement(Tabs$1,{classes:_,...$,TabIndicatorProps:{children:React.createElement("span",null)}})},ll=(0,w.Z)($=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:$.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:$.palette.background.paper,paddingLeft:"10px",paddingRight:"10px"}}),{name:"BackstageTabs"});function Fu($){const{tabs:_}=$,le=ll(),[me,Re]=useState([0,0]),[xe,ze]=useState(0),[tt,ft]=useState(0),[ut,Tt]=useState([[]]),St=useRef(),{width:Bt}=useWindowSize(),Vt=(Hn,fn)=>{Re([xe,fn])},Zt=()=>{ze(xe-1)},kn=()=>{ze(xe+1)},Gn=()=>xe+1<ut.length;useEffect(()=>{const fn=xe===0?1:2,xn=St.current.offsetWidth-20-fn*30,Dn=me[0]*tt+me[1],jr=Math.floor(xn/170);ft(jr),Tt(Bc(_,jr)),Re([Math.floor(Dn/jr),Dn%jr])},[Bt,_]);const Zn=xe===me[0]?me[1]:!1;return React.createElement("div",{className:le.root},React.createElement(AppBar,{ref:St,className:le.appbar,position:"static"},React.createElement("div",null,React.createElement(il,{value:Zn,onChange:Vt,selectionFollowsFocus:!0},xe!==0&&React.createElement(_o,{onClick:Zt,ariaLabel:"navigate-before"},React.createElement(NavigateBeforeIcon,null)),ut[xe].map((Hn,fn)=>React.createElement(Fc,{value:fn,isFirstIndex:fn===0,isFirstNav:xe===0,key:fn,icon:Hn.icon||void 0,label:Hn.label||void 0})),Gn()&&React.createElement(_o,{isNext:!0,onClick:kn,ariaLabel:"navigate-next"},React.createElement(NavigateNextIcon,null))))),Zn!==!1?ut[xe].map((Hn,fn)=>React.createElement(al,{key:fn,value:fn,index:Zn},Hn.content)):React.createElement(al,{key:"panel_outside_chunked_array",value:me[1],index:me[1]},ut[me[0]][me[1]].content))}function Ld($,_){const le=$[$.length-1];if(!!le)return le>=.9?_.palette.status.ok:le>=.5?_.palette.status.warning:_.palette.status.error}function Ss($){var _;const le=useTheme();return $.data?React.createElement(Sparklines,{width:120,height:30,min:0,max:1,...$},$.title&&React.createElement("title",null,$.title),React.createElement(SparklinesLine,{color:(_=$.color)!=null?_:Ld($.data,le)})):null}const cl=$=>(0,w.Z)(_=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:_.spacing(2),textAlign:$.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:_.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),_c=({title:$="Unknown page",className:_})=>e.createElement(Et.Z,{variant:"h4",component:"h2",className:_,"data-testid":"header-title"},$);function ul($){const{description:_,title:le,titleComponent:me=void 0,children:Re,textAlign:xe="left"}=$,ze=cl({textAlign:xe})(),tt=me||e.createElement(_c,{title:le,className:ze.title});return e.createElement(e.Fragment,null,e.createElement(Pr.q,{title:le}),e.createElement("div",{className:ze.container},e.createElement("div",{className:ze.leftItemsBox},tt,_&&e.createElement(Et.Z,{className:ze.description,variant:"body2"},_)),e.createElement("div",{className:ze.rightItemsBox},Re)))}const ju=(0,w.Z)($=>({micDrop:{maxWidth:"60%",position:"absolute",bottom:$.spacing(2),right:$.spacing(2),[$.breakpoints.down("xs")]:{maxWidth:"96%",position:"relative",bottom:"unset",right:"unset",margin:`${$.spacing(10)}px auto ${$.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),_u=()=>{const $=ju();return React.createElement("img",{src:MicDropSvgUrl,className:$.micDrop,alt:"Girl dropping mic from her hands"})},Uu=(0,w.Z)($=>({container:{padding:$.spacing(8),[$.breakpoints.down("xs")]:{padding:$.spacing(2)}},title:{paddingBottom:$.spacing(5),[$.breakpoints.down("xs")]:{paddingBottom:$.spacing(4),fontSize:32}},subtitle:{color:$.palette.textSubtle}}),{name:"BackstageErrorPage"});function dl($){const{status:_,statusMessage:le,additionalInfo:me,supportUrl:Re}=$,xe=Uu(),ze=useNavigate(),tt=uc();return React.createElement(Grid,{container:!0,spacing:0,className:xe.container},React.createElement(_u,null),React.createElement(Grid,{item:!0,xs:12,sm:8,md:4},React.createElement(Typography,{"data-testid":"error",variant:"body1",className:xe.subtitle},"ERROR ",_,": ",le),React.createElement(Typography,{variant:"body1",className:xe.subtitle},me),React.createElement(Typography,{variant:"h2",className:xe.title},"Looks like someone dropped the mic!"),React.createElement(Typography,{variant:"h6"},React.createElement(yn,{to:"#","data-testid":"go-back-link",onClick:()=>ze(-1)},"Go back"),"... or please"," ",React.createElement(yn,{to:Re||tt.url},"contact support")," if you think this is a bug.")))}const ml=(0,l.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(Et.Z),ri=(0,l.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(bn.Z);function Uc($){const{children:_,...le}=$,[me,Re]=React.useState(null),xe=React.Children.toArray(_),[ze,tt,...ft]=xe,ut=ft.length?ft.pop():xe[xe.length-1],Tt=xe.length>3,St=Zt=>{Re(Zt.currentTarget)},Bt=()=>{Re(null)},Vt=Boolean(me);return React.createElement(Fragment,null,React.createElement(MaterialBreadcrumbs,{"aria-label":"breadcrumb",...le},xe.length>1&&React.createElement(ri,{clone:!0},ze),xe.length>2&&React.createElement(ri,{clone:!0},tt),Tt&&React.createElement(ml,{onClick:St},"..."),React.createElement(Box,{style:{fontStyle:"italic"}},ut)),React.createElement(Popover,{open:Vt,anchorEl:me,onClose:Bt,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},React.createElement(List,null,ft.map((Zt,kn)=>React.createElement(ListItem,{key:kn,button:!0},React.createElement(ri,{clone:!0},Zt))))))}const Gu=(0,w.Z)($=>({header:{gridArea:"pageHeader",padding:$.spacing(3),width:"100%",boxShadow:$.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:$.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[$.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto"},title:{color:$.palette.bursts.fontColor,wordBreak:"break-word",fontSize:$.typography.h3.fontSize,marginBottom:0},subtitle:{color:$.palette.bursts.fontColor,opacity:.8,display:"inline-block",marginTop:$.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:$.spacing(1),color:$.palette.bursts.fontColor},breadcrumb:{color:$.palette.bursts.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-$.spacing(.3),marginBottom:$.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-$.spacing(.3),marginBottom:$.spacing(.3)}}),{name:"BackstageHeader"}),pl=({type:$,typeLink:_,classes:le,pageTitle:me})=>$?_?React.createElement(Uc,{className:le.breadcrumb},React.createElement(yn,{to:_},$),React.createElement(Typography,null,me)):React.createElement(Typography,{className:le.type},$):null,ai=({pageTitle:$,classes:_,tooltip:le})=>{const me=React.createElement(Typography,{className:_.title,variant:"h1"},$);return le?React.createElement(Tooltip,{title:le,placement:"top-start"},me):me},Gc=({classes:$,subtitle:_})=>_?typeof _!="string"?React.createElement(React.Fragment,null,_):React.createElement(Typography,{className:$.subtitle,variant:"subtitle2",component:"span"},_):null;function $s($){const{children:_,pageTitleOverride:le,style:me,subtitle:Re,title:xe,tooltip:ze,type:tt,typeLink:ft}=$,ut=Gu(),St=useApi(configApiRef).getOptionalString("app.title")||"Backstage",Bt=le||xe,Vt=xe||le,Zt=`${Bt} | %s | ${St}`,kn=`${Bt} | ${St}`;return React.createElement(React.Fragment,null,React.createElement(Helmet,{titleTemplate:Zt,defaultTitle:kn}),React.createElement("header",{style:me,className:ut.header},React.createElement(Box,{className:ut.leftItemsBox},React.createElement(pl,{classes:ut,type:tt,typeLink:ft,pageTitle:Vt}),React.createElement(ai,{classes:ut,pageTitle:Vt,tooltip:ze}),React.createElement(Gc,{classes:ut,subtitle:Re})),React.createElement(Grid,{container:!0,className:ut.rightItemsBox,spacing:4},_)))}const fl=(0,w.Z)($=>({root:{textAlign:"left"},label:{color:$.palette.common.white,fontWeight:"bold",letterSpacing:0,fontSize:$.typography.fontSize,marginBottom:$.spacing(1)/2,lineHeight:1},value:{color:"rgba(255, 255, 255, 0.8)",fontSize:$.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),Vc=({value:$,className:_})=>e.createElement(Et.Z,{className:_},$);function Ts($){const{label:_,value:le,url:me}=$,Re=fl(),xe=e.createElement(Vc,{className:Re.value,value:le||"<Unknown>"});return e.createElement(lt.Z,{item:!0},e.createElement("span",{className:Re.root},e.createElement(Et.Z,{className:Re.label},_),me?e.createElement(yn,{to:me},xe):xe))}const oi={hour:"2-digit",minute:"2-digit"};function hl($){const _=new Date,le=window.navigator.language,me=[];if(!$.has("homepage.clocks"))return me;const Re=$.getConfigArray("homepage.clocks");for(const xe of Re)if(xe.has("label")&&xe.has("timezone")){let ze=xe.getString("label");const tt={timeZone:xe.getString("timezone"),...oi};try{new Date().toLocaleString(le,tt)}catch{console.warn(`The timezone ${tt.timeZone} is invalid. Defaulting to GMT`),tt.timeZone="GMT",ze="GMT"}const ft=_.toLocaleTimeString(le,tt);me.push({time:ft,label:ze})}return me}function Vu($){const _=useApi(configApiRef),le=[],[me,Re]=React.useState(le);return React.useEffect(()=>{Re(hl(_));const xe=setInterval(()=>{Re(hl(_))},1e3);return()=>{clearInterval(xe)}},[_]),me.length!==0?React.createElement(React.Fragment,null,me.map(xe=>React.createElement(Ts,{label:xe.label,value:xe.time,key:xe.label}))):null}const si=$=>(0,i.Z)({root:{color:$.palette.common.white,padding:$.spacing(2,2,3),backgroundImage:$.palette.bursts.gradient.linear,backgroundPosition:0,backgroundSize:"inherit"}}),gl=(0,w.Z)(si,{name:"BackstageItemCardHeader"});function zc($){const{title:_,subtitle:le,children:me}=$,Re=gl($);return React.createElement("div",{className:Re.root},le&&React.createElement(Typography,{variant:"subtitle2",component:"h3"},le),_&&React.createElement(Typography,{variant:"h6",component:"h4"},_),me)}function Zc($){const{description:_,tags:le,title:me,type:Re,subtitle:xe,label:ze,onClick:tt,href:ft}=$;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(zc,{title:me,subtitle:xe||Re})),React.createElement(CardContent,null,le!=null&&le.length?React.createElement(Box,null,le.map((ut,Tt)=>React.createElement(Chip,{size:"small",label:ut,key:Tt}))):null,_),React.createElement(CardActions,null,!ft&&React.createElement(Ae,{to:"#",onClick:tt,color:"primary"},ze),ft&&React.createElement(Ae,{to:ft,color:"primary"},ze)))}const yl=$=>(0,i.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:$.spacing(2)}}),zu=(0,w.Z)(yl,{name:"BackstageItemCardGrid"});function Zu($){const{children:_,...le}=$,me=zu(le);return React.createElement("div",{className:me.root,...le},_)}const Cs=(0,w.Z)(()=>({root:({isMobile:$})=>({display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",height:$?"100%":"100vh",overflowY:"auto"})}),{name:"BackstagePage"});function Ko($){const{themeId:_,children:le}=$,{isMobile:me}=(0,e.useContext)(Mo),Re=Cs({isMobile:me});return e.createElement(S.Z,{theme:xe=>({...xe,page:xe.getPageTheme({themeId:_})})},e.createElement("main",{className:Re.root},le))}function vl($){const{themeId:_,children:le,...me}=$;return React.createElement(Ko,{themeId:_},React.createElement($s,{...me}),le)}const Jo=ur.z.object({providerInfo:ur.z.object({}).catchall(ur.z.unknown()).optional(),profile:ur.z.object({email:ur.z.string().optional(),displayName:ur.z.string().optional(),picture:ur.z.string().optional()}),backstageIdentity:ur.z.object({token:ur.z.string(),identity:ur.z.object({type:ur.z.literal("user"),userEntityRef:ur.z.string(),ownershipEntityRefs:ur.z.array(ur.z.string())})})}),Yo={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function Qo($){const _=new Date(Date.now()+Yo.defaultTokenExpiryMillis);if(!$)return _;const[le,me,Re]=$.split("."),xe=JSON.parse(atob(me));return typeof xe.exp!="number"?_:new Date(xe.exp*1e3-Yo.tokenExpiryMarginMillis)}class Xa{constructor(_){this.options=_,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:_}=this.getSessionSync(),le=_.identity.userEntityRef,me=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(le);if(!me)throw new TypeError(`Invalid user entity reference "${le}"`);return me[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const _=this.state.type==="active"?this.state.session:void 0,le=this.fetchSession().then(me=>(this.state={type:"active",session:me,expiresAt:Qo(me.backstageIdentity.token)},me),me=>{throw this.state={type:"failed",error:me},me});return this.state={type:"fetching",promise:le,previous:_},le}async fetchSession(){const _=await this.options.discoveryApi.getBaseUrl("auth"),le=await fetch(`${_}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"});if(!le.ok)throw await ResponseError.fromResponse(le);return Jo.parse(await le.json())}}const xd=$=>{const _=useApi(discoveryApiRef),[{status:le,error:me},{execute:Re}]=useAsync(async()=>{const xe=new Xa({provider:$.provider,discoveryApi:_});await xe.start(),$.onSignInSuccess(xe)});return useMountEffect(Re),le==="loading"?React.createElement(no,null):me?React.createElement(Uo,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:me}):null};class ii{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const _="user:default/guest";return{type:"user",userEntityRef:_,ownershipEntityRefs:[_]}}async getCredentials(){return{}}async signOut(){}}function md($){const[_,le,me]=$.split(".");return JSON.parse(atob(le))}class El{constructor(_){this.result=_}getUserId(){return this.result.userId}static fromResult(_){return new El(_)}async getIdToken(){var _,le;return(le=(_=this.result).getIdToken)==null?void 0:le.call(_)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const _=await this.getIdToken();if(!_){const Re=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:Re,ownershipEntityRefs:[Re]}}const{sub:le,ent:me}=md(_);return{type:"user",userEntityRef:le,ownershipEntityRefs:me!=null?me:[]}}async getCredentials(){var _,le;return{token:await((le=(_=this.result).getIdToken)==null?void 0:le.call(_))}}async signOut(){var _,le;return(le=(_=this.result).signOut)==null?void 0:le.call(_)}}class Xo{constructor(_,le,me){this.identity=_,this.authApi=le,this.profile=me}static createGuest(){return new ii}static fromLegacy(_){return El.fromResult(_)}static create(_){return new Xo(_.identity,_.authApi,_.profile)}getUserId(){const _=this.identity.userEntityRef,le=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(_);if(!le)throw new TypeError(`Invalid user entity reference "${_}"`);return le[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(_){throw this.profilePromise=void 0,_}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}const bl=(0,w.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),li=({children:$})=>{const _=bl();return e.createElement(lt.Z,{component:"li",item:!0,classes:_},$)},pd={Component:({config:$,onSignInSuccess:_})=>{const{apiRef:le,title:me,message:Re}=$,xe=(0,T.h_)(le),ze=(0,T.h_)(T.VE),tt=async()=>{try{const ft=await xe.getBackstageIdentity({instantPopup:!0});if(!ft)throw new Error(`The ${me} provider is not configured to support sign-in`);const ut=await xe.getProfile();_(Xo.create({identity:ft.identity,profile:ut,authApi:xe}))}catch(ft){ze.post(new Xe.SP("Login failed",ft))}};return e.createElement(li,null,e.createElement(Io,{variant:"fullHeight",title:me,actions:e.createElement(F.Z,{color:"primary",variant:"outlined",onClick:tt},"Sign In")},e.createElement(Et.Z,{variant:"body1"},Re)))},loader:async($,_)=>{const le=$.get(_),me=await le.getBackstageIdentity({optional:!0});if(!me)return;const Re=await le.getProfile();return Xo.create({identity:me.identity,profile:Re,authApi:le})}},ci={Component:({onSignInSuccess:$})=>e.createElement(li,null,e.createElement(Io,{title:"Guest",variant:"fullHeight",actions:e.createElement(F.Z,{color:"primary",variant:"outlined",onClick:()=>$(new ii)},"Enter")},e.createElement(Et.Z,{variant:"body1"},"Enter as a Guest User.",e.createElement("br",null),"You will not have a verified identity,",e.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new ii},Sl=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,$l=(0,w.Z)($=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:$.spacing(2)}}),{name:"BackstageCustomProvider"}),ui=$=>{const{ref:_,...le}=$;return{inputRef:_,...le}},Tl={Component:({onSignInSuccess:$})=>{const _=$l(),{register:le,handleSubmit:me,formState:Re}=(0,fa.cI)({mode:"onChange"}),{errors:xe}=Re,ze=({userId:tt})=>{$(Xo.fromLegacy({userId:tt,profile:{email:`${tt}@example.com`}}))};return e.createElement(li,null,e.createElement(Io,{title:"Custom User",variant:"fullHeight"},e.createElement(Et.Z,{variant:"body1"},"Enter your own User ID and credentials.",e.createElement("br",null),"This selection will not be stored."),e.createElement("form",{className:_.form,onSubmit:me(ze)},e.createElement(vr.Z,null,e.createElement(Fr.Z,{...ui(le("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(xe.userId)}),xe.userId&&e.createElement(Hr.Z,{error:!0},xe.userId.message)),e.createElement(vr.Z,null,e.createElement(Fr.Z,{...ui(le("idToken",{required:!1,validate:tt=>!tt||Sl.test(tt)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(xe.idToken)}),xe.idToken&&e.createElement(Hr.Z,{error:!0},xe.idToken.message)),e.createElement(F.Z,{type:"submit",color:"primary",variant:"outlined",className:_.button,disabled:!(Re!=null&&Re.isDirty)||!Ee()(xe)},"Continue"))))},loader:async()=>{}};class mo{constructor(_){this.config=_}static from(_){return new mo(_)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const ks="@backstage/core:SignInPage:provider",qo={guest:ci,custom:Tl,common:pd};function Hc($,_){if($ in _)throw new Error(`"${$}" ID is duplicated. IDs of identity providers have to be unique.`)}function Kc($){return $.reduce((le,me)=>{if(typeof me=="string")return Hc(me,le),le[me]={components:qo[me],id:me},le;const{id:Re}=me;return Hc(Re,le),le[Re]={components:qo.common,id:Re,config:me},le},{})}const es=($,_)=>{const le=useApi(errorApiRef),me=useApiHolder(),[Re,xe]=useState(!0),ze=useCallback(ft=>{_(mo.from({identityApi:ft,signOut:async()=>{var ut;localStorage.removeItem(ks),await((ut=ft.signOut)==null?void 0:ut.call(ft))}}))},[_]);useLayoutEffect(()=>{var ft;if(!Re)return;const ut=localStorage.getItem(ks);if(ut===null){xe(!1);return}const Tt=$[ut];if(!Tt){xe(!1);return}let St=!1;return Tt.components.loader(me,(ft=Tt.config)==null?void 0:ft.apiRef).then(Bt=>{St||(Bt?ze(Bt):xe(!1))}).catch(Bt=>{St||(localStorage.removeItem(ks),le.post(Bt),xe(!1))}),()=>{St=!0}},[Re,le,_,me,$,ze]);const tt=useMemo(()=>Object.keys($).map(ft=>{const ut=$[ft],{Component:Tt}=ut.components,St=Bt=>{localStorage.setItem(ks,ut.id),ze(Bt)};return React.createElement(Tt,{key:ut.id,config:ut.config,onSignInSuccess:St})}),[$,ze]);return[Re,tt]},Pa=({onSignInSuccess:$,providers:_=[],title:le,align:me="left"})=>{const Re=useApi(configApiRef),xe=bl(),ze=Kc(_),[tt,ft]=es(ze,$);return tt?React.createElement(no,null):React.createElement(Ko,{themeId:"home"},React.createElement($s,{title:Re.getString("app.title")}),React.createElement(Wo,null,le&&React.createElement(ul,{title:le,textAlign:me}),React.createElement(Grid,{container:!0,justifyContent:me==="center"?me:"flex-start",spacing:2,component:"ul",classes:xe},ft)))},mi=({provider:$,auto:_,onSignInSuccess:le})=>{const me=bl(),Re=useApi($.apiRef),xe=useApi(configApiRef),[ze,tt]=useState(),[ft,ut]=useState(!1),Tt=async({checkExisting:St,showPopup:Bt})=>{try{let Vt;if(St&&(Vt=await Re.getBackstageIdentity({optional:!0})),!Vt&&(Bt||_)&&(ut(!0),Vt=await Re.getBackstageIdentity({instantPopup:!0}),!Vt))throw new Error(`The ${$.title} provider is not configured to support sign-in`);if(!Vt){ut(!0);return}const Zt=await Re.getProfile();le(Xo.create({identity:Vt.identity,authApi:Re,profile:Zt}))}catch(Vt){tt(Vt),ut(!0)}};return useMountEffect(()=>Tt({checkExisting:!0})),ft?React.createElement(Ko,{themeId:"home"},React.createElement($s,{title:xe.getString("app.title")}),React.createElement(Wo,null,React.createElement(Grid,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:me},React.createElement(li,null,React.createElement(Io,{variant:"fullHeight",title:$.title,actions:React.createElement(Button$1,{color:"primary",variant:"outlined",onClick:()=>{Tt({showPopup:!0})}},"Sign In")},React.createElement(Typography,{variant:"body1"},$.message),ze&&ze.name!=="PopupRejectedError"&&React.createElement(Typography,{variant:"body1",color:"error"},ze.message)))))):React.createElement(no,null)};function pi($){return"provider"in $?React.createElement(mi,{...$}):React.createElement(Pa,{...$})}const Jc=(0,w.Z)($=>({root:{padding:$.spacing(0,2,0,2.5),minHeight:$.spacing(3)},indicator:{backgroundColor:$.palette.info.main,height:$.spacing(.3)}}),{name:"BackstageTabbedCard"}),ts=(0,l.Z)($=>({root:{padding:$.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:$.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(dn.Z);function Yc($){const{slackChannel:_,errorBoundaryProps:le,children:me,title:Re,deepLink:xe,value:ze,onChange:tt}=$,ft=Jc(),[ut,Tt]=useState(0),St=tt||((Zt,kn)=>Tt(kn));let Bt;ze?React.Children.map(me,Zt=>{React.isValidElement(Zt)&&(Zt==null?void 0:Zt.props.value)===ze&&(Bt=Zt==null?void 0:Zt.props.children)}):React.Children.map(me,(Zt,kn)=>{React.isValidElement(Zt)&&kn===ut&&(Bt=Zt==null?void 0:Zt.props.children)});const Vt=le||(_?{slackChannel:_}:{});return React.createElement(Card,null,React.createElement(_s,{...Vt},Re&&React.createElement(ts,{title:Re}),React.createElement(Tabs$1,{selectionFollowsFocus:!0,classes:ft,value:ze||ut,onChange:St},me),React.createElement(Divider,null),React.createElement(CardContent,null,Bt),xe&&React.createElement(Ao,{...xe})))}const Ps=(0,w.Z)($=>({root:{minWidth:$.spacing(6),minHeight:$.spacing(3),margin:$.spacing(0,2,0,0),padding:$.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:$.palette.text.primary}},selected:{fontWeight:"bold"}}),{name:"BackstageCardTab"});function Cl($){const{children:_,...le}=$,me=Ps();return React.createElement(Tab,{disableRipple:!0,classes:me,...le})}},76377:function(Se,r,a){a.d(r,{$4:function(){return et},$v:function(){return R},CO:function(){return _t},Ds:function(){return H},F4:function(){return V},I_:function(){return E},NT:function(){return gt},P4:function(){return zt},R5:function(){return d},T0:function(){return S},VE:function(){return oe},YO:function(){return on},h_:function(){return c},ni:function(){return F},qD:function(){return j},rx:function(){return wn},sM:function(){return U},tg:function(){return Mt},vJ:function(){return bn},z$:function(){return he}});var e=a(76241),t=a(2784),T=a(10289);const h=(0,e.CT)("analytics-context"),w=()=>{const pe=(0,t.useContext)(h);if(pe===void 0)return{routeRef:"unknown",pluginId:"root",extension:"App"};const ue=pe.atVersion(1);if(ue===void 0)throw new Error("No context found for version 1.");return ue},i=pe=>{const{attributes:ue,children:Ce}=pe,Ke={...w(),...ue},wt=(0,e.EI)({1:Ke});return t.createElement(h.Provider,{value:wt},Ce)};function E(){const pe=(0,e.Vt)("api-context");if(!pe)throw new Error("API context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("ApiContext v1 not available");return ue}function c(pe){const Ce=E().get(pe);if(!Ce)throw new Error(`No implementation available for ${pe}`);return Ce}function l(pe){return function(Ce){const Be=wt=>{const Ht=E(),ot={};for(const Rt in pe)if(pe.hasOwnProperty(Rt)){const Dt=pe[Rt],tn=Ht.get(Dt);if(!tn)throw new Error(`No implementation available for ${Dt}`);ot[Rt]=tn}return React.createElement(Ce,{...wt,...ot})},Ke=Ce.displayName||Ce.name||"Component";return Be.displayName=`withApis(${Ke})`,Be}}class A{constructor(ue){if(this.config=ue,!ue.id.split(".").flatMap(Be=>Be.split("-")).every(Be=>Be.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${ue.id}'`)}get id(){return this.config.id}get T(){throw new Error(`tried to read ApiRef.T of ${this}`)}toString(){return`apiRef{${this.config.id}}`}}function S(pe){return new A(pe)}function F(pe,ue){return"id"in pe?{api:pe,deps:{},factory:()=>ue}:pe}var U=(pe=>(pe.SignedIn="SignedIn",pe.SignedOut="SignedOut",pe))(U||{});const B=S({id:"core.auth.google"}),V=S({id:"core.auth.github"}),f=S({id:"core.auth.okta"}),p=S({id:"core.auth.gitlab"}),I=S({id:"core.auth.microsoft"}),y=S({id:"core.auth.onelogin"}),C=S({id:"core.auth.bitbucket"}),N=S({id:"core.auth.atlassian"}),R=S({id:"core.alert"}),b=S({id:"core.analytics"}),x=S({id:"core.apptheme"}),H=S({id:"core.config"}),te=S({id:"core.discovery"}),oe=S({id:"core.error"});var ce=(pe=>(pe[pe.None=0]="None",pe[pe.Active=1]="Active",pe))(ce||{});const He=S({id:"core.featureflags"}),De=S({id:"core.fetch"}),et=S({id:"core.identity"}),lt=S({id:"core.oauthrequest"}),Et=S({id:"core.storage"});class Lt{constructor(ue,Ce={routeRef:"unknown",pluginId:"root",extension:"App"}){this.analyticsApi=ue,this.context=Ce}setContext(ue){this.context=ue}captureEvent(ue,Ce,{value:Be,attributes:Ke}={}){try{this.analyticsApi.captureEvent({action:ue,subject:Ce,value:Be,attributes:Ke,context:this.context})}catch(wt){console.warn("Error during analytics event capture. %o",wt)}}}function dt(){try{return c(b)}catch{return{captureEvent:()=>{}}}}function he(){const pe=(0,t.useRef)(null),ue=w(),Ce=dt();function Be(){return pe.current===null&&(pe.current=new Lt(Ce)),pe.current}const Ke=Be();return Ke.setContext(ue),Ke}const j=()=>{const pe=(0,e.Vt)("app-context");if(!pe)throw new Error("App context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("AppContext v1 not available");return ue},re=(0,e.uW)("component-data-store",()=>new WeakMap),W="__backstage_data";function d(pe,ue,Ce){var Be;const Ke=pe;let wt=(Be=Ke[W])!=null?Be:re.get(pe);if(wt||(wt={map:new Map},Object.defineProperty(Ke,W,{enumerable:!1,configurable:!0,writable:!1,value:wt}),re.set(pe,wt)),wt.map.has(ue)){const Ht=pe.displayName||pe.name;throw new Error(`Attempted to attach duplicate data "${ue}" to component "${Ht}"`)}wt.map.set(ue,Ce)}function k(pe,ue){var Ce;if(!pe)return;const Be=pe.type;if(!Be)return;const Ke=(Ce=Be[W])!=null?Ce:re.get(Be);if(!!Ke)return Ke.map.get(ue)}const J=(0,e.uW)("route-ref-type",()=>Symbol("route-ref-type"));var Le;class Me{constructor(ue,Ce){this.id=ue,this.params=Ce,this[Le]="absolute"}get title(){return this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}Le=J;function gt(pe){var ue;return new Me(pe.id,(ue=pe.params)!=null?ue:[])}var nt;const M=/^\w+$/;class Z{constructor(ue,Ce,Be,Ke){this.id=ue,this.path=Ce,this.parent=Be,this.params=Ke,this[nt]="sub"}toString(){return`routeRef{type=sub,id=${this.id}}`}}nt=J;function ie(pe){const{id:ue,path:Ce,parent:Be}=pe,Ke=Ce.split("/").filter(ot=>ot.startsWith(":")).map(ot=>ot.substring(1)),wt=[...Be.params,...Ke];if(Be.params.some(ot=>Ke.includes(ot)))throw new Error("SubRouteRef may not have params that overlap with its parent");if(!Ce.startsWith("/"))throw new Error(`SubRouteRef path must start with '/', got '${Ce}'`);if(Ce.endsWith("/"))throw new Error(`SubRouteRef path must not end with '/', got '${Ce}'`);for(const ot of Ke)if(!M.test(ot))throw new Error(`SubRouteRef path has invalid param, got '${ot}'`);return new Z(ue,Ce,Be,wt)}var we;class je{constructor(ue,Ce,Be){this.id=ue,this.params=Ce,this.optional=Be,this[we]="external"}toString(){return`routeRef{type=external,id=${this.id}}`}}we=J;function Xe(pe){var ue;return new je(pe.id,(ue=pe.params)!=null?ue:[],Boolean(pe.optional))}function Mt(pe){const ue=(0,T.TH)(),Ce=(0,e.Vt)("routing-context");if(!Ce)throw new Error("Routing context is not available");const Be=Ce.atVersion(1),Ke=(0,t.useMemo)(()=>Be&&Be.resolve(pe,ue),[Be,pe,ue]);if(!Ce)throw new Error("useRouteRef used outside of routing context");if(!Be)throw new Error("RoutingContext v1 not available");const wt="optional"in pe&&pe.optional;if(!Ke&&!wt)throw new Error(`No path for ${pe}`);return Ke}function Ut(pe){return useParams()}class Gt extends t.Component{constructor(){super(...arguments),this.state={error:void 0},this.handleErrorReset=()=>{this.setState({error:void 0})}}static getDerivedStateFromError(ue){return{error:ue}}render(){const{error:ue}=this.state,{app:Ce,plugin:Be}=this.props,{ErrorBoundaryFallback:Ke}=Ce.getComponents();return ue?t.createElement(Ke,{error:ue,resetError:this.handleErrorReset,plugin:Be}):this.props.children}}function zt(pe){const{component:ue,mountPoint:Ce,name:Be}=pe;return on({component:{lazy:()=>ue().then(Ke=>{const wt=ot=>{try{Mt(Ce)}catch(Rt){if(typeof Rt=="object"&&Rt!==null){const{message:Dt}=Rt;if(typeof Dt=="string"&&Dt.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${Ce} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`)}throw Rt}return t.createElement(Ke,{...ot})},Ht=Be||Ke.displayName||Ke.name||"LazyComponent";return wt.displayName=`RoutableExtension(${Ht})`,wt},Ke=>Ht=>{const ot=j(),{BootErrorPage:Rt}=ot.getComponents();return t.createElement(Rt,{step:"load-chunk",error:Ke})})},data:{"core.mountPoint":Ce},name:Be})}function _t(pe){const{component:ue,name:Ce}=pe;return on({component:ue,name:Ce})}function on(pe){const{data:ue={},name:Ce}=pe;Ce||console.warn("Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.");let Be;if("lazy"in pe.component){const wt=pe.component.lazy;Be=(0,t.lazy)(()=>wt().then(Ht=>({default:Ht})))}else Be=pe.component.sync;const Ke=Ce||Be.displayName||Be.name||"Component";return{expose(wt){const Ht=ot=>{const Rt=j(),{Progress:Dt}=Rt.getComponents(),tn=ue==null?void 0:ue["core.mountPoint"];return t.createElement(t.Suspense,{fallback:t.createElement(Dt,null)},t.createElement(Gt,{app:Rt,plugin:wt},t.createElement(i,{attributes:{pluginId:wt.getId(),...Ce&&{extension:Ce},...tn&&{routeRef:tn.id}}},t.createElement(Be,{...ot}))))};d(Ht,"core.plugin",wt);for(const[ot,Rt]of Object.entries(ue))d(Ht,ot,Rt);return Ht.displayName=`Extension(${Ke})`,Ht}}}function It(pe,ue,Ce,Be){return t.Children.toArray(pe).flatMap(Ke=>{if(!(0,t.isValidElement)(Ke))return[];if(Ke.type===t.Fragment)return It(Ke.props.children,ue,Ce,Be);if(k(Ke,"core.featureFlagged")){const wt=Ke.props;return("with"in wt?ue.isActive(wt.with):!ue.isActive(wt.without))?It(Ke.props.children,ue,Ce,Be):[]}if(Ce===void 0||Ce(Ke))return[Ke];if(Be)throw new Error(Be);return It(Ke.props.children,ue,Ce,Be)})}class dn{constructor(ue,Ce){this.node=ue,this.featureFlagsApi=Ce}selectByComponentData(ue){const Ce=It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0,ue.withStrictError);return new dn(Ce,this.featureFlagsApi)}findComponentData(ue){return It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0).map(Be=>k(Be,ue.key)).filter(Be=>Be!==void 0)}getElements(){return It(this.node,this.featureFlagsApi)}}function bn(pe,ue,Ce=[]){const Be=c(He),Ke=new dn(pe,Be);return(0,t.useMemo)(()=>ue(Ke),[pe,...Ce])}class pn{constructor(ue){this.config=ue}getId(){return this.config.id}getApis(){var ue;return(ue=this.config.apis)!=null?ue:[]}getFeatureFlags(){var ue,Ce;return(Ce=(ue=this.config.featureFlags)==null?void 0:ue.slice())!=null?Ce:[]}get routes(){var ue;return(ue=this.config.routes)!=null?ue:{}}get externalRoutes(){var ue;return(ue=this.config.externalRoutes)!=null?ue:{}}provide(ue){return ue.expose(this)}toString(){return`plugin{${this.config.id}}`}}function wn(pe){return new pn(pe)}},63249:function(Se,r,a){a.d(r,{Ah:function(){return Gt},hd:function(){return Rn},wi:function(){return tn},X2:function(){return pe},CR:function(){return Cr}});var e=a(50617),t=a(10179),T=a(96279);const h=Symbol.for("CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111");class w{constructor(Q){this.discoveryApi=Q.discoveryApi,this.fetchApi=Q.fetchApi||{fetch:crossFetch}}async getEntityAncestors(Q,se){const{kind:ge,namespace:Pe,name:Oe}=parseEntityRef(Q.entityRef);return await this.requestRequired("GET",`/entities/by-name/${encodeURIComponent(ge)}/${encodeURIComponent(Pe)}/${encodeURIComponent(Oe)}/ancestry`,se)}async getLocationById(Q,se){return await this.requestOptional("GET",`/locations/${encodeURIComponent(Q)}`,se)}async getEntities(Q,se){const{filter:ge=[],fields:Pe=[],offset:Oe,limit:Ge,after:st}=Q!=null?Q:{},pt=[];for(const Ne of[ge].flat()){const Ze=[];for(const[Ue,Qe]of Object.entries(Ne))for(const rt of[Qe].flat())rt===h?Ze.push(encodeURIComponent(Ue)):typeof rt=="string"&&Ze.push(`${encodeURIComponent(Ue)}=${encodeURIComponent(rt)}`);Ze.length&&pt.push(`filter=${Ze.join(",")}`)}Pe.length&&pt.push(`fields=${Pe.map(encodeURIComponent).join(",")}`),Oe!==void 0&&pt.push(`offset=${Oe}`),Ge!==void 0&&pt.push(`limit=${Ge}`),st!==void 0&&pt.push(`after=${encodeURIComponent(st)}`);const X=pt.length?`?${pt.join("&")}`:"",ae=await this.requestRequired("GET",`/entities${X}`,se),$e=(Ne,Ze)=>{var Ue,Qe;if(((Ue=Ne.metadata)==null?void 0:Ue.name)===void 0||Ne.kind===void 0||((Qe=Ze.metadata)==null?void 0:Qe.name)===void 0||Ze.kind===void 0)return 0;const rt=stringifyEntityRef(Ne),yt=stringifyEntityRef(Ze);return rt<yt?-1:rt>yt?1:0};return{items:ae.sort($e)}}async getEntityByRef(Q,se){const{kind:ge,namespace:Pe,name:Oe}=parseEntityRef(Q);return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(ge)}/${encodeURIComponent(Pe)}/${encodeURIComponent(Oe)}`,se)}async getEntityByName(Q,se){const{kind:ge,namespace:Pe="default",name:Oe}=Q;return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(ge)}/${encodeURIComponent(Pe)}/${encodeURIComponent(Oe)}`,se)}async refreshEntity(Q,se){const ge=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/refresh`,{headers:{"Content-Type":"application/json",...(se==null?void 0:se.token)&&{Authorization:`Bearer ${se==null?void 0:se.token}`}},method:"POST",body:JSON.stringify({entityRef:Q})});if(ge.status!==200)throw new Error(await ge.text())}async getEntityFacets(Q,se){const{filter:ge=[],facets:Pe}=Q,Oe=[];for(const st of[ge].flat()){const pt=[];for(const[X,ae]of Object.entries(st))for(const $e of[ae].flat())$e===h?pt.push(encodeURIComponent(X)):typeof $e=="string"&&pt.push(`${encodeURIComponent(X)}=${encodeURIComponent($e)}`);pt.length&&Oe.push(`filter=${pt.join(",")}`)}for(const st of Pe)Oe.push(`facet=${encodeURIComponent(st)}`);const Ge=Oe.length?`?${Oe.join("&")}`:"";return await this.requestOptional("GET",`/entity-facets${Ge}`,se)}async addLocation({type:Q="url",target:se,dryRun:ge},Pe){const Oe=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/locations${ge?"?dryRun=true":""}`,{headers:{"Content-Type":"application/json",...(Pe==null?void 0:Pe.token)&&{Authorization:`Bearer ${Pe==null?void 0:Pe.token}`}},method:"POST",body:JSON.stringify({type:Q,target:se})});if(Oe.status!==201)throw new Error(await Oe.text());const{location:Ge,entities:st,exists:pt}=await Oe.json();if(!Ge)throw new Error(`Location wasn't added: ${se}`);return{location:Ge,entities:st,exists:pt}}async getLocationByRef(Q,se){return(await this.requestRequired("GET","/locations",se)).map(Pe=>Pe.data).find(Pe=>Q===stringifyLocationRef(Pe))}async removeLocationById(Q,se){await this.requestIgnored("DELETE",`/locations/${encodeURIComponent(Q)}`,se)}async removeEntityByUid(Q,se){await this.requestIgnored("DELETE",`/entities/by-uid/${encodeURIComponent(Q)}`,se)}async requestIgnored(Q,se,ge){const Pe=`${await this.discoveryApi.getBaseUrl("catalog")}${se}`,Oe=ge!=null&&ge.token?{Authorization:`Bearer ${ge.token}`}:{},Ge=await this.fetchApi.fetch(Pe,{method:Q,headers:Oe});if(!Ge.ok)throw await ResponseError.fromResponse(Ge)}async requestRequired(Q,se,ge){const Pe=`${await this.discoveryApi.getBaseUrl("catalog")}${se}`,Oe=ge!=null&&ge.token?{Authorization:`Bearer ${ge.token}`}:{},Ge=await this.fetchApi.fetch(Pe,{method:Q,headers:Oe});if(!Ge.ok)throw await ResponseError.fromResponse(Ge);return await Ge.json()}async requestOptional(Q,se,ge){const Pe=`${await this.discoveryApi.getBaseUrl("catalog")}${se}`,Oe=ge!=null&&ge.token?{Authorization:`Bearer ${ge.token}`}:{},Ge=await this.fetchApi.fetch(Pe,{method:Q,headers:Oe});if(!Ge.ok){if(Ge.status===404)return;throw await ResponseError.fromResponse(Ge)}return await Ge.json()}}const i="backstage.io/catalog-processing";var E=a(76377),c=a(82394),l=a(2784),A=a(41156),S=a(60364),F=a(77277),U=a(4190),B=a(95544),V=a(90436),f=a(60905),p=a(80030),I=a(79692),y=a(15459),C=a(36444),N=a(76241),R=a(76635),b=a(19126),x=a(18149),H=a(829),te=a(93809),oe=a(72164),ce=a(30195),He=(K=>(K.DENY="DENY",K.ALLOW="ALLOW",K.CONDITIONAL="CONDITIONAL",K))(He||{});function De(K,Q){return K.name===Q.name}function et(K,Q){return"resourceType"in K?!Q||K.resourceType===Q:!1}function lt(K){return K.attributes.action==="create"}function Et(K){return K.attributes.action==="read"}function Lt(K){return K.attributes.action==="update"}function dt(K){return K.attributes.action==="delete"}function he(K){return{authorize:async(Q,se)=>await K.authorize(Q,se),authorizeConditional(Q,se){const ge=Q;return K.authorize(ge,se)}}}function j({name:K,attributes:Q,resourceType:se}){return se?{type:"resource",name:K,attributes:Q,resourceType:se}:{type:"basic",name:K,attributes:Q}}const re=ce.z.lazy(()=>ce.z.object({rule:ce.z.string(),resourceType:ce.z.string(),params:ce.z.array(ce.z.unknown())}).or(ce.z.object({anyOf:ce.z.array(re).nonempty()})).or(ce.z.object({allOf:ce.z.array(re).nonempty()})).or(ce.z.object({not:re}))),W=ce.z.object({result:ce.z.literal(He.ALLOW).or(ce.z.literal(He.DENY))}),d=ce.z.union([ce.z.object({result:ce.z.literal(He.ALLOW).or(ce.z.literal(He.DENY))}),ce.z.object({result:ce.z.literal(He.CONDITIONAL),pluginId:ce.z.string(),resourceType:ce.z.string(),conditions:re})]),k=(K,Q)=>z.object({items:z.array(z.intersection(z.object({id:z.string()}),K)).refine(se=>se.length===Q.size&&se.every(({id:ge})=>Q.has(ge)),{message:"Items in response do not match request"})});class J{constructor(Q){var se;this.discovery=Q.discovery,this.enabled=(se=Q.config.getOptionalBoolean("permission.enabled"))!=null?se:!1}async authorize(Q,se){return this.makeRequest(Q,W,se)}async authorizeConditional(Q,se){return this.makeRequest(Q,d,se)}async makeRequest(Q,se,ge){if(!this.enabled)return Q.map(ae=>({result:He.ALLOW}));const Pe={items:Q.map(ae=>({id:uuid.v4(),...ae}))},Oe=await this.discovery.getBaseUrl("permission"),Ge=await fetch(`${Oe}/authorize`,{method:"POST",body:JSON.stringify(Pe),headers:{...this.getAuthorizationHeader(ge==null?void 0:ge.token),"content-type":"application/json"}});if(!Ge.ok)throw await ResponseError.fromResponse(Ge);const st=await Ge.json(),X=k(se,new Set(Pe.items.map(({id:ae})=>ae))).parse(st).items.reduce((ae,$e)=>(ae[$e.id]=$e,ae),{});return Pe.items.map(ae=>X[ae.id])}getAuthorizationHeader(Q){return Q?{Authorization:`Bearer ${Q}`}:{}}}var Le=a(49857);const Me=(0,E.T0)({id:"plugin.permission.api"});class gt{constructor(Q,se){this.permissionClient=Q,this.identityApi=se}static create(Q){const{config:se,discovery:ge,identity:Pe}=Q,Oe=new PermissionClient({discovery:ge,config:se});return new gt(Oe,Pe)}async authorize(Q){return(await this.permissionClient.authorize([Q],await this.identityApi.getCredentials()))[0]}}function nt(K){const Q=useApi(Me),{data:se,error:ge}=useSWR(K,async Pe=>{if(isResourcePermission(Pe.permission)&&!Pe.resourceRef)return AuthorizeResult.DENY;const{result:Oe}=await Q.authorize(Pe);return Oe});return ge?{error:ge,loading:!1,allowed:!1}:se===void 0?{loading:!0,allowed:!1}:{loading:!1,allowed:se===AuthorizeResult.ALLOW}}const M=K=>{const{permission:Q,resourceRef:se,errorComponent:ge,...Pe}=K,Oe=nt(isResourcePermission(Q)?{permission:Q,resourceRef:se}:{permission:Q}),Ge=useApp(),{NotFoundErrorPage:st}=Ge.getComponents();let pt=ge===void 0?React.createElement(st,null):ge;return Oe.loading?pt=null:Oe.allowed&&(pt=K.element),React.createElement(Route,{...Pe,element:pt})};var Z=a(19996),ie=a(25505),we=a(82108),je=a(11640),Xe=a(72779),Mt=a(3440),Ut=a(60155);const Gt=(0,E.T0)({id:"plugin.catalog.service"}),zt=(0,E.T0)({id:"catalog-react.starred-entities"});class _t{constructor(){this.starredEntities=new Set,this.subscribers=new Set,this.observable=new ObservableImpl(Q=>(Q.next(new Set(this.starredEntities)),this.subscribers.add(Q),()=>{this.subscribers.delete(Q)}))}async toggleStarred(Q){this.starredEntities.delete(Q)||this.starredEntities.add(Q);for(const se of this.subscribers)se.next(new Set(this.starredEntities))}starredEntitie$(){return this.observable}}const on=K=>{const Q=(0,A.Z)(Oe=>Oe.breakpoints.down("md")),se=(0,S.Z)(),[ge,Pe]=(0,l.useState)(!1);return Q?l.createElement(l.Fragment,null,l.createElement(F.Z,{style:{marginTop:se.spacing(1),marginLeft:se.spacing(1)},onClick:()=>Pe(!0),startIcon:l.createElement(C.Z,null)},"Filters"),l.createElement(U.ZP,{open:ge,onClose:()=>Pe(!1),anchor:"left",disableAutoFocus:!0,keepMounted:!0,variant:"temporary"},l.createElement(B.Z,{m:2},l.createElement(V.Z,{variant:"h6",component:"h2",style:{marginBottom:se.spacing(1)}},"Filters"),K.children))):l.createElement(f.Z,{item:!0,lg:2},K.children)},It=K=>l.createElement(f.Z,{item:!0,xs:12,lg:10},K.children),dn=K=>l.createElement(f.Z,{container:!0,style:{position:"relative"}},K.children);dn.Filters=on,dn.Content=It;const bn=(0,N.CT)("entity-context"),pn=({children:K,entity:Q,loading:se,error:ge,refresh:Pe})=>{const Oe={entity:Q,loading:se,error:ge,refresh:Pe};return React.createElement(bn.Provider,{value:createVersionedValueMap({1:Oe})},K)},wn=K=>React.createElement(pn,{entity:K.entity,loading:!Boolean(K.entity),error:void 0,refresh:void 0,children:K.children});function pe(){const K=(0,N.Vt)("entity-context");if(!K)throw new Error("Entity context is not available");const Q=K.atVersion(1);if(!Q)throw new Error("EntityContext v1 not available");if(!Q.entity)throw new Error("useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.");return{entity:Q.entity}}function ue(){const K=useVersionedContext("entity-context");if(!K)throw new Error("Entity context is not available");const Q=K.atVersion(1);if(!Q)throw new Error("EntityContext v1 not available");const{entity:se,loading:ge,error:Pe,refresh:Oe}=Q;return{entity:se,loading:ge,error:Pe,refresh:Oe}}function Ce(K){return K.reduce((Q,se)=>({...Q,...se.getCatalogFilters?se.getCatalogFilters():{}}),{})}function Be(K){return Q=>K.every(se=>!se.filterEntity||se.filterEntity(Q))}function Ke(K,Q,se){var ge;let Pe=((ge=K==null?void 0:K.relations)==null?void 0:ge.filter(Oe=>Oe.type===Q).map(Oe=>(0,e.of)(Oe.targetRef)))||[];return se!=null&&se.kind&&(Pe=Pe.filter(Oe=>Oe.kind.toLocaleLowerCase("en-US")===se.kind.toLocaleLowerCase("en-US"))),Pe}function wt(K,Q){var se;const ge=(se=K.metadata.annotations)==null?void 0:se[ANNOTATION_SOURCE_LOCATION];if(!!ge)try{const Pe=parseLocationRef(ge),Oe=Q.byUrl(Pe.target);return{locationTargetUrl:Pe.target,integrationType:Oe==null?void 0:Oe.type}}catch{return}}function Ht(K,Q){const se=new Set([...Ke(K,RELATION_MEMBER_OF,{kind:"group"}),...K?[getCompoundEntityRef(K)]:[]].map(stringifyEntityRef)),ge=Ke(Q,RELATION_OWNED_BY).map(stringifyEntityRef);for(const Pe of ge)if(se.has(Pe))return!0;return!1}const ot=(0,l.createContext)(void 0),Rt=({children:K})=>{const Q=useMountedState(),se=useApi(Gt),[ge,Pe]=useState({}),Oe=useLocation(),Ge=useMemo(()=>{var Ue;return(Ue=qs.parse(Oe.search,{ignoreQueryPrefix:!0}).filters)!=null?Ue:{}},[Oe]),[st,pt]=useState(()=>({appliedFilters:{},entities:[],backendEntities:[]})),[{loading:X,error:ae},$e]=useAsyncFn(async()=>{var Ue;const Qe=compact(Object.values(ge)),rt=Be(Qe),yt=Ce(Qe),at=Ce(compact(Object.values(st.appliedFilters))),mt=Object.keys(ge).reduce((Ct,Ft)=>{const At=ge[Ft];return At!=null&&At.toQueryValue&&(Ct[Ft]=At.toQueryValue()),Ct},{});if(isEqual(at,yt))pt({appliedFilters:ge,backendEntities:st.backendEntities,entities:st.backendEntities.filter(rt)});else{const Ct=await se.getEntities({filter:yt});pt({appliedFilters:ge,backendEntities:Ct.items,entities:Ct.items.filter(rt)})}if(Q()){const Ct=qs.parse(Oe.search,{ignoreQueryPrefix:!0}),Ft=qs.stringify({...Ct,filters:mt},{addQueryPrefix:!0,arrayFormat:"repeat"}),At=`${window.location.pathname}${Ft}`;(Ue=window.history)==null||Ue.replaceState(null,document.title,At)}},[se,Ge,ge,st],{loading:!0});useDebounce($e,10,[ge]);const Ne=useCallback(Ue=>{Pe(Qe=>{const rt=typeof Ue=="function"?Ue(Qe):Ue;return{...Qe,...rt}})},[]),Ze=useMemo(()=>({filters:st.appliedFilters,entities:st.entities,backendEntities:st.backendEntities,updateFilters:Ne,queryParameters:Ge,loading:X,error:ae}),[st,Ne,Ge,X,ae]);return React.createElement(ot.Provider,{value:Ze},K)};function Dt(){const K=useContext(ot);if(!K)throw new Error("useEntityList must be used within EntityListProvider");return K}const tn=(0,N.uW)("catalog:entity-route-ref",()=>(0,E.NT)({id:"catalog:entity",params:["namespace","kind","name"]}));function Rn(K){var Q,se;return{kind:K.kind.toLocaleLowerCase("en-US"),namespace:(se=(Q=K.metadata.namespace)==null?void 0:Q.toLocaleLowerCase("en-US"))!=null?se:e.zG,name:K.metadata.name}}function In(K,Q){const se=Q==null?void 0:Q.defaultKind;let ge,Pe,Oe;return"metadata"in K?(ge=K.kind,Pe=K.metadata.namespace,Oe=K.metadata.name):(ge=K.kind,Pe=K.namespace,Oe=K.name),Pe===e.zG&&(Pe=void 0),ge=ge.toLocaleLowerCase("en-US"),ge=se&&se.toLocaleLowerCase("en-US")===ge?void 0:ge,`${ge?`${ge}:`:""}${Pe?`${Pe}/`:""}${Oe}`}const On=(0,l.forwardRef)((K,Q)=>{var se;const{entityRef:ge,defaultKind:Pe,title:Oe,children:Ge,...st}=K,pt=(0,E.tg)(tn);let X,ae,$e;if(typeof ge=="string"){const Qe=(0,e.of)(ge);X=Qe.kind,ae=Qe.namespace,$e=Qe.name}else"metadata"in ge?(X=ge.kind,ae=ge.metadata.namespace,$e=ge.metadata.name):(X=ge.kind,ae=ge.namespace,$e=ge.name);X=X.toLocaleLowerCase("en-US"),ae=(se=ae==null?void 0:ae.toLocaleLowerCase("en-US"))!=null?se:e.zG;const Ne={kind:X,namespace:ae,name:$e},Ze=In({kind:X,namespace:ae,name:$e},{defaultKind:Pe}),Ue=l.createElement(te.rU,{...st,ref:Q,to:pt(Ne)},Ge,!Ge&&(Oe!=null?Oe:Ze));return Oe?l.createElement(p.ZP,{title:Ze},Ue):Ue});function Mn(K){const{entityRefs:Q,defaultKind:se,...ge}=K;return l.createElement(l.Fragment,null,Q.map((Pe,Oe)=>l.createElement(l.Fragment,{key:Oe},Oe>0&&", ",l.createElement(On,{...ge,entityRef:Pe,defaultKind:se}))))}class Bn{constructor(Q){this.value=Q}getCatalogFilters(){return{kind:this.value}}toQueryValue(){return this.value}}class _n{constructor(Q){this.value=Q}getTypes(){return Array.isArray(this.value)?this.value:[this.value]}getCatalogFilters(){return{"spec.type":this.getTypes()}}toQueryValue(){return this.getTypes()}}class yr{constructor(Q){this.values=Q}filterEntity(Q){return this.values.every(se=>{var ge;return((ge=Q.metadata.tags)!=null?ge:[]).includes(se)})}toQueryValue(){return this.values}}class Yn{constructor(Q){this.value=Q}filterEntity(Q){var se;const ge=this.value.toLocaleUpperCase("en-US");return Q.metadata.name.toLocaleUpperCase("en-US").includes(ge)||`${Q.metadata.title}`.toLocaleUpperCase("en-US").includes(ge)||((se=Q.metadata.tags)==null?void 0:se.join("").toLocaleUpperCase("en-US").indexOf(ge))!==-1}}class Ur{constructor(Q){this.values=Q}filterEntity(Q){return this.values.some(se=>Ke(Q,RELATION_OWNED_BY).some(ge=>In(ge,{defaultKind:"group"})===se))}toQueryValue(){return this.values}}class nr{constructor(Q){this.values=Q}filterEntity(Q){return this.values.some(se=>{var ge;return((ge=Q.spec)==null?void 0:ge.lifecycle)===se})}toQueryValue(){return this.values}}class jn{constructor(Q,se,ge){this.value=Q,this.isOwnedEntity=se,this.isStarredEntity=ge}filterEntity(Q){switch(this.value){case"owned":return this.isOwnedEntity(Q);case"starred":return this.isStarredEntity(Q);default:return!0}}toQueryValue(){return this.value}}function rr(){var K;const Q=useApi(Gt),{filters:{kind:se,type:ge},queryParameters:{type:Pe},updateFilters:Oe}=Dt(),Ge=useMemo(()=>[Pe].flat().filter(Boolean),[Pe]),[st,pt]=useState(Ge.length?Ge:(K=ge==null?void 0:ge.getTypes())!=null?K:[]);useEffect(()=>{Ge.length&&pt(Ge)},[Ge]);const[X,ae]=useState([]),$e=useMemo(()=>se==null?void 0:se.value,[se]),{error:Ne,loading:Ze,value:Ue}=useAsync(async()=>$e?await Q.getEntityFacets({filter:{kind:$e},facets:["spec.type"]}).then(yt=>yt.facets["spec.type"]||[]):[],[$e,Q]),Qe=useRef(Ue);return useEffect(()=>{const rt=Qe.current;if(Qe.current=Ue,Ze||!$e||rt===Ue||!Ue)return;const yt=[...new Set(sortBy(Ue,mt=>-mt.count).map(mt=>mt.value.toLocaleLowerCase("en-US")))];ae(yt);const at=st.filter(mt=>yt.includes(mt));isEqual$1(st,at)||pt(at)},[Ze,$e,st,pt,Ue]),useEffect(()=>{Oe({type:st.length?new _n(st):void 0})},[st,Oe]),{loading:Ze,error:Ne,availableTypes:X,selectedTypes:st,setSelectedTypes:pt}}const vr=20;function Jn(K,Q){var se,ge;const Pe=(se=Q==null?void 0:Q.type)==null?void 0:se.toLocaleLowerCase("en-US"),Oe=(ge=Q==null?void 0:Q.kind)==null?void 0:ge.toLocaleLowerCase("en-US"),Ge=useApi(Gt),{loading:st,value:pt,error:X}=useAsync(async()=>{var ae;const $e=(ae=K.relations)==null?void 0:ae.map(Qe=>({type:Qe.type,target:parseEntityRef(Qe.targetRef)})).filter(Qe=>(!Pe||Qe.type.toLocaleLowerCase("en-US")===Pe)&&(!Oe||Qe.target.kind===Oe));if(!$e)return[];const Ne=Object.values(groupBy($e,({target:Qe})=>`${Qe.kind}:${Qe.namespace}`.toLocaleLowerCase("en-US"))),Ze=[];for(const Qe of Ne)Ze.push({kind:Qe[0].target.kind,namespace:Qe[0].target.namespace,nameBatches:chunk(Qe.map(rt=>rt.target.name),vr)});return(await Promise.all(Ze.flatMap(Qe=>Qe.nameBatches.map(rt=>Ge.getEntities({filter:{kind:Qe.kind,"metadata.namespace":Qe.namespace,"metadata.name":rt}}))))).flatMap(Qe=>Qe.items)},[K,Pe,Oe]);return{entities:pt,loading:st,error:X}}function ir(K){return typeof K=="string"?K:(0,e.eE)(K)}function Cr(){const K=(0,E.h_)(zt),Q=(0,oe.Z)(K.starredEntitie$(),new Set),se=(0,l.useCallback)(Pe=>Q.has(ir(Pe)),[Q]),ge=(0,l.useCallback)(Pe=>K.toggleStarred(ir(Pe)).then(),[K]);return{starredEntities:Q,toggleStarredEntity:ge,isStarredEntity:se}}function Ir(K){return typeof K=="string"?K:stringifyEntityRef(K)}function sn(K){const Q=useApi(zt),[se,ge]=useState(!1);return useEffect(()=>{const Oe=Q.starredEntitie$().subscribe({next(Ge){ge(Ge.has(Ir(K)))}});return()=>{Oe.unsubscribe()}},[K,Q]),{toggleStarredEntity:useCallback(()=>Q.toggleStarred(Ir(K)).then(),[K,Q]),isStarredEntity:se}}function wr(){const K=useApi(identityApiRef),{loading:Q,value:se}=useAsync(async()=>{const{ownershipEntityRefs:Pe}=await K.getBackstageIdentity();return Pe},[]),ge=useMemo(()=>{const Pe=new Set(se!=null?se:[]);return Oe=>{const Ge=Ke(Oe,RELATION_OWNED_BY).map(stringifyEntityRef);for(const st of Ge)if(Pe.has(st))return!0;return!1}},[se]);return useMemo(()=>({loading:Q,isOwnedEntity:ge}),[Q,ge])}function _a(K){const{entity:Q,loading:se,error:ge}=ue(),{allowed:Pe,loading:Oe,error:Ge}=usePermission({permission:K,resourceRef:Q?stringifyEntityRef(Q):void 0});return se||Oe?{loading:!0,allowed:!1}:ge?{loading:!1,allowed:!1,error:ge}:{loading:!1,allowed:Pe,error:Ge}}const va=K=>{var Q;const{initialFilter:se,hidden:ge}=K,{updateFilters:Pe,queryParameters:{kind:Oe}}=Dt(),[Ge]=useState((Q=[Oe].flat()[0])!=null?Q:se);return useEffect(()=>{Pe({kind:Ge?new Bn(Ge):void 0})},[Ge,Pe]),ge?null:React.createElement(Alert,{severity:"warning"},"Kind filter not yet available")},Er=(0,I.Z)({input:{}},{name:"CatalogReactEntityLifecyclePicker"}),Gr=l.createElement(ie.Z,{fontSize:"small"}),Vr=l.createElement(Z.Z,{fontSize:"small"}),kr=()=>{var K,Q;const se=Er(),{updateFilters:ge,backendEntities:Pe,filters:Oe,queryParameters:{lifecycles:Ge}}=Dt(),st=useMemo(()=>[Ge].flat().filter(Boolean),[Ge]),[pt,X]=useState(st.length?st:(Q=(K=Oe.lifecycles)==null?void 0:K.values)!=null?Q:[]);useEffect(()=>{st.length&&X(st)},[st]),useEffect(()=>{ge({lifecycles:pt.length?new nr(pt):void 0})},[pt,ge]);const ae=useMemo(()=>[...new Set(Pe.map($e=>{var Ne;return(Ne=$e.spec)==null?void 0:Ne.lifecycle}).filter(Boolean))].sort(),[Pe]);return ae.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Lifecycle"),React.createElement(Autocomplete,{"aria-label":"Lifecycle",multiple:!0,options:ae,value:pt,onChange:($e,Ne)=>X(Ne),renderOption:($e,{selected:Ne})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:Gr,checkedIcon:Vr,checked:Ne}),label:$e}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"lifecycle-picker-expand"}),renderInput:$e=>React.createElement(TextField,{...$e,className:se.input,variant:"outlined"})})):null},Mr=(0,I.Z)({input:{}},{name:"CatalogReactEntityOwnerPicker"}),sa=l.createElement(ie.Z,{fontSize:"small"}),ar=l.createElement(Z.Z,{fontSize:"small"}),ia=()=>{var K,Q;const se=Mr(),{updateFilters:ge,backendEntities:Pe,filters:Oe,queryParameters:{owners:Ge}}=Dt(),st=useMemo(()=>[Ge].flat().filter(Boolean),[Ge]),[pt,X]=useState(st.length?st:(Q=(K=Oe.owners)==null?void 0:K.values)!=null?Q:[]);useEffect(()=>{st.length&&X(st)},[st]),useEffect(()=>{ge({owners:pt.length?new Ur(pt):void 0})},[pt,ge]);const ae=useMemo(()=>[...new Set(Pe.flatMap($e=>Ke($e,RELATION_OWNED_BY).map(Ne=>In(Ne,{defaultKind:"group"}))).filter(Boolean))].sort(),[Pe]);return ae.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Owner"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Owner",options:ae,value:pt,onChange:($e,Ne)=>X(Ne),renderOption:($e,{selected:Ne})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:sa,checkedIcon:ar,checked:Ne}),label:$e}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"owner-picker-expand"}),renderInput:$e=>React.createElement(TextField,{...$e,className:se.input,variant:"outlined"})})):null},to=(0,I.Z)(K=>({searchToolbar:{paddingLeft:0,paddingRight:0},input:{}}),{name:"CatalogReactEntitySearchBar"}),Pr=()=>{var K,Q;const se=to(),{filters:ge,updateFilters:Pe}=Dt(),[Oe,Ge]=useState((Q=(K=ge.text)==null?void 0:K.value)!=null?Q:"");return useDebounce(()=>{Pe({text:Oe.length?new Yn(Oe):void 0})},250,[Oe,Pe]),React.createElement(Toolbar,{className:se.searchToolbar},React.createElement(FormControl,null,React.createElement(Input,{"aria-label":"search",id:"input-with-icon-adornment",className:se.input,placeholder:"Search",autoComplete:"off",onChange:st=>Ge(st.target.value),value:Oe,startAdornment:React.createElement(InputAdornment,{position:"start"},React.createElement(Search,null)),endAdornment:React.createElement(InputAdornment,{position:"end"},React.createElement(IconButton,{"aria-label":"clear search",onClick:()=>Ge(""),edge:"end",disabled:Oe.length===0},React.createElement(Clear,null)))})))},Br=Object.freeze({createEntityRefColumn(K){const{defaultKind:Q}=K;function se(ge){var Pe;return((Pe=ge.metadata)==null?void 0:Pe.title)||In(ge,{defaultKind:Q})}return{title:"Name",highlight:!0,customFilterAndSearch(ge,Pe){return se(Pe).includes(ge)},customSort(ge,Pe){return se(ge).localeCompare(se(Pe))},render:ge=>{var Pe;return l.createElement(On,{entityRef:ge,defaultKind:Q,title:(Pe=ge.metadata)==null?void 0:Pe.title})}}},createEntityRelationColumn({title:K,relation:Q,defaultKind:se,filter:ge}){function Pe(Ge){return Ke(Ge,Q,ge)}function Oe(Ge){return Pe(Ge).map(st=>In(st,{defaultKind:se})).join(", ")}return{title:K,customFilterAndSearch(Ge,st){return Oe(st).includes(Ge)},customSort(Ge,st){return Oe(Ge).localeCompare(Oe(st))},render:Ge=>l.createElement(Mn,{entityRefs:Pe(Ge),defaultKind:se})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:e.S4,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:e.cz,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:e.cz,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:K=>l.createElement(te.Or,{text:K.metadata.description,placement:"bottom-start",line:2}),width:"auto"}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),Ua=[Br.createEntityRefColumn({defaultKind:"system"}),Br.createDomainColumn(),Br.createOwnerColumn(),Br.createMetadataDescriptionColumn()],Ja=[Br.createEntityRefColumn({defaultKind:"component"}),Br.createSystemColumn(),Br.createOwnerColumn(),Br.createSpecTypeColumn(),Br.createSpecLifecycleColumn(),Br.createMetadataDescriptionColumn()],qr=(0,I.Z)(K=>({empty:{padding:K.spacing(2),display:"flex",justifyContent:"center"}})),Fr=K=>{const{entities:Q,title:se,emptyContent:ge,variant:Pe="gridItem",columns:Oe}=K,Ge=qr(),st={minWidth:"0",width:"100%"};return Pe==="gridItem"&&(st.height="calc(100% - 10px)"),l.createElement(te.iA,{columns:Oe,title:se,style:st,emptyContent:ge&&l.createElement("div",{className:Ge.empty},ge),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense"},data:Q})};Fr.columns=Br,Fr.systemEntityColumns=Ua,Fr.componentEntityColumns=Ja;const gr=(0,I.Z)({input:{}},{name:"CatalogReactEntityTagPicker"}),Ea=l.createElement(ie.Z,{fontSize:"small"}),Ia=l.createElement(Z.Z,{fontSize:"small"}),Ya=()=>{var K,Q;const se=gr(),{updateFilters:ge,filters:Pe,queryParameters:{tags:Oe}}=Dt(),Ge=useApi(Gt),{value:st}=useAsync(async()=>{var $e;const Ne="metadata.tags",{facets:Ze}=await Ge.getEntityFacets({facets:[Ne],filter:($e=Pe.kind)==null?void 0:$e.getCatalogFilters()});return Ze[Ne].map(({value:Ue})=>Ue)},[Pe.kind]),pt=useMemo(()=>[Oe].flat().filter(Boolean),[Oe]),[X,ae]=useState(pt.length?pt:(Q=(K=Pe.tags)==null?void 0:K.values)!=null?Q:[]);return useEffect(()=>{pt.length&&ae(pt)},[pt]),useEffect(()=>{ge({tags:X.length?new yr(X):void 0})},[X,ge]),st!=null&&st.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Tags"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Tags",options:st,value:X,onChange:($e,Ne)=>ae(Ne),renderOption:($e,{selected:Ne})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:Ea,checkedIcon:Ia,checked:Ne}),label:$e}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"tag-picker-expand"}),renderInput:$e=>React.createElement(TextField,{...$e,className:se.input,variant:"outlined"})})):null},Or=K=>{var Q;const{hidden:se,initialFilter:ge}=K,Pe=useApi(alertApiRef),{error:Oe,availableTypes:Ge,selectedTypes:st,setSelectedTypes:pt}=rr();if(useEffect(()=>{Oe&&Pe.post({message:"Failed to load entity types",severity:"error"}),ge&&pt([ge])},[Oe,Pe,ge,pt]),Ge.length===0||Oe)return null;const X=[{value:"all",label:"All"},...Ge.map(ae=>({value:ae,label:capitalize(ae)}))];return se?null:React.createElement(Box,{pb:1,pt:1},React.createElement(Select,{label:"Type",items:X,selected:(Q=X.length>1?st[0]:void 0)!=null?Q:"all",onChange:ae=>pt(ae==="all"?[]:[String(ae)])}))},la=(0,y.Z)({root:{color:"#f3ba37"}})(je.Z),Ga=K=>{const{toggleStarredEntity:Q,isStarredEntity:se}=sn(K.entity);return React.createElement(IconButton,{"aria-label":"favorite",color:"inherit",...K,onClick:()=>Q()},React.createElement(Tooltip,{title:se?"Remove from favorites":"Add to favorites"},se?React.createElement(la,null):React.createElement(StarBorder,null)))},pa=null;function zr(K,Q){if(K)return K.toLocaleLowerCase("en-US");if(Q)try{return parseEntityRef(Q).kind.toLocaleLowerCase("en-US")}catch{return}}function Zr(K,Q){const se=useApp(),ge=zr(K,Q);return ge&&se.getSystemIcon(`kind:${ge}`)||pa}function mn(K){const{kind:Q,entityRef:se,...ge}=K,Pe=Zr(Q,se);return React.createElement(Pe,{...ge})}const Wr=(0,I.Z)(K=>({node:{fill:K.palette.grey[300],stroke:K.palette.grey[300],"&.primary":{fill:K.palette.primary.light,stroke:K.palette.primary.light},"&.secondary":{fill:K.palette.secondary.light,stroke:K.palette.secondary.light}},text:{fill:K.palette.getContrastText(K.palette.grey[300]),"&.primary":{fill:K.palette.primary.contrastText},"&.secondary":{fill:K.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}));function Qn(K){const Q=useApi(Gt),se=stringifyEntityRef(K),{loading:ge,error:Pe,value:Oe}=useAsync(async()=>{const Ge=await Q.getEntityAncestors({entityRef:se}),st=new Array,pt=new Array;for(const X of Ge.items){const ae=stringifyEntityRef(X.entity),$e=ae===Ge.rootEntityRef;st.push({id:ae,root:$e,...X.entity});for(const Ne of X.parentEntityRefs)pt.push({from:ae,to:Ne})}return{nodes:st,edges:pt}},[se]);return{loading:ge,error:Pe,nodes:(Oe==null?void 0:Oe.nodes)||[],edges:(Oe==null?void 0:Oe.edges)||[]}}function ea({node:K}){const Q=Wr(),se=useNavigate(),ge=useRouteRef(tn),[Pe,Oe]=useState(0),[Ge,st]=useState(0),pt=useRef(null);useLayoutEffect(()=>{if(pt.current){let{height:rt,width:yt}=pt.current.getBBox();rt=Math.round(rt),yt=Math.round(yt),(rt!==Ge||yt!==Pe)&&(Oe(yt),st(rt))}},[Pe,Ge]);const X=10,ae=Ge,$e=ae+X,Ne=$e+Pe+X*2,Ze=Ge+X*2,Ue=K.metadata.title||(K.kind&&K.metadata.name&&K.metadata.namespace?In({kind:K.kind,name:K.metadata.name,namespace:K.metadata.namespace||""}):K.id),Qe=()=>{se(ge({kind:K.kind,namespace:K.metadata.namespace||DEFAULT_NAMESPACE,name:K.metadata.name}))};return React.createElement("g",{onClick:Qe,className:Q.clickable},React.createElement("rect",{className:classNames(Q.node,K.root?"secondary":"primary"),width:Ne,height:Ze,rx:10}),React.createElement(mn,{kind:K.kind,y:X,x:X,width:ae,height:ae,className:classNames(Q.text,K.root?"secondary":"primary")}),React.createElement("text",{ref:pt,className:classNames(Q.text,K.root?"secondary":"primary"),y:Ze/2,x:$e+(Pe+X*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},Ue))}function cr(K){const{loading:Q,error:se,nodes:ge,edges:Pe}=Qn(K.entity);return Q?React.createElement(Progress,null):se?React.createElement(ResponseErrorPanel,{error:se}):React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Ancestry"),React.createElement(DialogContentText,{gutterBottom:!0},"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where"," ",React.createElement(Link,{to:"https://backstage.io/docs/features/software-catalog/life-of-an-entity"},"processors emitted")," ","child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations."),React.createElement(Box,{mt:4},React.createElement(DependencyGraph,{nodes:ge,edges:Pe,renderNode:ea,direction:DependencyGraphTypes.Direction.BOTTOM_TOP,zoom:"enable-on-click"})))}const Xn=(0,I.Z)(K=>({root:{display:"flex",flexDirection:"column"},marginTop:{marginTop:K.spacing(2)},helpIcon:{marginLeft:K.spacing(1),color:K.palette.text.disabled},monospace:{fontFamily:"monospace"}}));function hr(K){const Q=Xn();return React.createElement(ListItemText$1,{...K,primaryTypographyProps:{className:Q.monospace},secondaryTypographyProps:{className:Q.monospace}})}function qn(K){const Q=Xn();return React.createElement(ListSubheader$1,{className:Q.monospace},K.children)}function ur(K){return React.createElement(Box,{mt:2},React.createElement(Card,{variant:"outlined"},React.createElement(CardContent,null,React.createElement(Typography,{variant:"h6",gutterBottom:!0},K.title,K.helpLink&&React.createElement(ta,{to:K.helpLink})),K.children)))}function fa(K){if(K.match(/^url:https?:\/\//))return K.slice(4);if(K.match(/^https?:\/\//))return K}function Hr(K){const[Q,se]=K.entry,ge=fa(se);return React.createElement(ListItem,null,K.indent&&React.createElement(ListItemIcon,null),React.createElement(hr,{primary:Q,secondary:ge?React.createElement(Link,{to:ge},se):se}))}function ta(K){const Q=Xn();return React.createElement(Link,{to:K.to,className:Q.helpIcon},React.createElement(HelpOutlineIcon,{fontSize:"inherit"}))}const Ee=(0,I.Z)({root:{display:"flex",flexDirection:"column"}});function ve(K){var Q,se;const ge=useApi(Gt),Pe=stringifyEntityRef(K),Oe=(Q=K.metadata.annotations)==null?void 0:Q[ANNOTATION_LOCATION],Ge=(se=K.metadata.annotations)==null?void 0:se[ANNOTATION_ORIGIN_LOCATION],{loading:st,error:pt,value:X}=useAsync(async()=>!Oe&&!Ge?[]:(await ge.getEntities({filter:[...Oe?[{[`metadata.annotations.${ANNOTATION_LOCATION}`]:Oe}]:[],...Ge?[{[`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]:Ge}]:[]]})).items,[Oe,Ge]);return{loading:st,error:pt,location:Oe,originLocation:Ge,colocatedEntities:X==null?void 0:X.filter(ae=>stringifyEntityRef(ae)!==Pe)}}function Ie(K){return React.createElement(List,{dense:!0},K.header&&React.createElement(Hr,{key:"header",entry:K.header}),K.entities.map(Q=>React.createElement(ListItem,{key:stringifyEntityRef(Q)},React.createElement(ListItemIcon,null,React.createElement(mn,{kind:Q.kind})),React.createElement(hr,{primary:React.createElement(On,{entityRef:Q})}))))}function Je(K){const{entity:Q}=K,{loading:se,error:ge,location:Pe,originLocation:Oe,colocatedEntities:Ge}=ve(Q);if(se)return React.createElement(Progress,null);if(ge)return React.createElement(ResponseErrorPanel,{error:ge});if(!Pe&&!Oe)return React.createElement(Alert,{severity:"warning"},"Entity had no location information.");if(!(Ge!=null&&Ge.length))return React.createElement(Alert,{severity:"info"},"There were no other entities on this location.");if(Pe===Oe)return React.createElement(Ie,{entities:Ge});const st=Ge.filter(X=>{var ae;return((ae=X.metadata.annotations)==null?void 0:ae[ANNOTATION_LOCATION])===Pe}),pt=Ge.filter(X=>{var ae;return((ae=X.metadata.annotations)==null?void 0:ae[ANNOTATION_ORIGIN_LOCATION])===Oe});return React.createElement(React.Fragment,null,st.length>0&&React.createElement(Ie,{entities:st,header:["At the same location",Pe]}),pt.length>0&&React.createElement(Ie,{entities:pt,header:["At the same origin",Oe]}))}function bt(K){const Q=Ee();return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Colocated"),React.createElement(DialogContentText,null,"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL)."),React.createElement("div",{className:Q.root},React.createElement(Je,{entity:K.entity})))}function Ot(K){return Object.fromEntries([...Object.entries(K)].sort((Q,se)=>Q[0]<se[0]?-1:1))}function Yt(K){return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Entity as JSON"),React.createElement(DialogContentText,null,"This is the raw entity data as received from the catalog, on JSON form."),React.createElement(DialogContentText,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:JSON.stringify(Ot(K.entity),void 0,2),language:"json",showCopyCodeButton:!0}))))}const Qt=(0,I.Z)({root:{display:"flex",flexDirection:"column"}});function cn(K){var Q,se;const ge=Qt(),{apiVersion:Pe,kind:Oe,metadata:Ge,spec:st,relations:pt=[],status:X={}}=K.entity,ae=groupBy$1(sortBy(pt,$e=>$e.targetRef),"type");return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Overview"),React.createElement("div",{className:ge.root},React.createElement(ur,{title:"Identity"},React.createElement(List,{dense:!0},React.createElement(ListItem,null,React.createElement(hr,{primary:"apiVersion",secondary:Pe})),React.createElement(ListItem,null,React.createElement(hr,{primary:"kind",secondary:Oe})),(st==null?void 0:st.type)&&React.createElement(ListItem,null,React.createElement(hr,{primary:"spec.type",secondary:st.type})),Ge.uid&&React.createElement(ListItem,null,React.createElement(hr,{primary:"uid",secondary:Ge.uid})),Ge.etag&&React.createElement(ListItem,null,React.createElement(hr,{primary:"etag",secondary:Ge.etag})))),React.createElement(ur,{title:"Metadata"},!!Object.keys(Ge.annotations||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(qn,null,"Annotations",React.createElement(ta,{to:"https://backstage.io/docs/features/software-catalog/well-known-annotations"}))},Object.entries(Ge.annotations).map($e=>React.createElement(Hr,{key:$e[0],indent:!0,entry:$e}))),!!Object.keys(Ge.labels||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(qn,null,"Labels")},Object.entries(Ge.labels).map($e=>React.createElement(Hr,{key:$e[0],indent:!0,entry:$e}))),!!((Q=Ge.tags)!=null&&Q.length)&&React.createElement(List,{dense:!0,subheader:React.createElement(qn,null,"Tags")},Ge.tags.map(($e,Ne)=>React.createElement(ListItem,{key:`${$e}-${Ne}`},React.createElement(ListItemIcon,null),React.createElement(hr,{primary:$e}))))),!!pt.length&&React.createElement(ur,{title:"Relations",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-relations"},Object.entries(ae).map(([$e,Ne],Ze)=>React.createElement("div",{key:Ze},React.createElement(List,{dense:!0,subheader:React.createElement(qn,null,$e)},Ne.map(Ue=>React.createElement(ListItem,{key:Ue.targetRef},React.createElement(ListItemIcon,null,React.createElement(mn,{entityRef:Ue.targetRef})),React.createElement(hr,{primary:React.createElement(On,{entityRef:Ue.targetRef})}))))))),!!((se=X.items)!=null&&se.length)&&React.createElement(ur,{title:"Status",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-statuses"},X.items.map(($e,Ne)=>React.createElement("div",{key:Ne},React.createElement(Typography,null,$e.level,": ",$e.type),React.createElement(Box,{ml:2},$e.message))))))}function yn(K){return React.createElement(React.Fragment,null,React.createElement(DialogContentText$1,{variant:"h2"},"Entity as YAML"),React.createElement(DialogContentText$1,null,"This is the raw entity data as received from the catalog, on YAML form."),React.createElement(DialogContentText$1,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:YAML.stringify(Ot(K.entity)),language:"yaml",showCopyCodeButton:!0}))))}const qe=(0,I.Z)(K=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",backgroundColor:K.palette.background.paper},tabs:{borderRight:`1px solid ${K.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"}}));function Ae(K){const{children:Q,value:se,index:ge,...Pe}=K,Oe=qe();return React.createElement("div",{role:"tabpanel",hidden:se!==ge,id:`vertical-tabpanel-${ge}`,"aria-labelledby":`vertical-tab-${ge}`,className:Oe.tabContents,...Pe},se===ge&&React.createElement(Box,{pl:3,pr:3},Q))}function ht(K){return{id:`vertical-tab-${K}`,"aria-controls":`vertical-tabpanel-${K}`}}function xt(K){const Q=qe(),[se,ge]=React.useState(0);return useEffect(()=>{ge(0)},[K.open]),K.entity?React.createElement(Dialog,{fullWidth:!0,maxWidth:"xl",open:K.open,onClose:K.onClose,"aria-labelledby":"entity-inspector-dialog-title",PaperProps:{className:Q.fullHeightDialog}},React.createElement(DialogTitle,{id:"entity-inspector-dialog-title"},"Entity Inspector"),React.createElement(DialogContent,{dividers:!0},React.createElement("div",{className:Q.root},React.createElement(Tabs,{orientation:"vertical",variant:"scrollable",value:se,onChange:(Pe,Oe)=>ge(Oe),"aria-label":"Inspector options",className:Q.tabs},React.createElement(Tab,{label:"Overview",...ht(0)}),React.createElement(Tab,{label:"Ancestry",...ht(1)}),React.createElement(Tab,{label:"Colocated",...ht(2)}),React.createElement(Tab,{label:"Raw JSON",...ht(3)}),React.createElement(Tab,{label:"Raw YAML",...ht(4)})),React.createElement(Ae,{value:se,index:0},React.createElement(cn,{entity:K.entity})),React.createElement(Ae,{value:se,index:1},React.createElement(cr,{entity:K.entity})),React.createElement(Ae,{value:se,index:2},React.createElement(bt,{entity:K.entity})),React.createElement(Ae,{value:se,index:3},React.createElement(Yt,{entity:K.entity})),React.createElement(Ae,{value:se,index:4},React.createElement(yn,{entity:K.entity})))),React.createElement(DialogActions,null,React.createElement(Button,{onClick:K.onClose,color:"primary"},"Close"))):null}function qt(K){var Q;const se=useApi(Gt),ge=(Q=K.metadata.annotations)==null?void 0:Q[ANNOTATION_ORIGIN_LOCATION],Pe=K.metadata.uid,Oe=ge==="bootstrap:bootstrap",Ge=useAsync(async()=>{const Ue=se.getLocationByRef(ge);let Qe;if(!ge)Qe=Promise.resolve([]);else{const rt=`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;Qe=se.getEntities({filter:{[rt]:ge},fields:["kind","metadata.uid","metadata.name","metadata.namespace"]}).then(yt=>yt.items)}return Promise.all([Ue,Qe]).then(([rt,yt])=>({location:rt,colocatedEntities:yt}))},[se,K]),st=useCallback(async function(){const{location:Qe}=Ge.value;await se.removeLocationById(Qe.id)},[se,Ge]),pt=useCallback(async function(){await se.removeEntityByUid(Pe)},[se,Pe]);if(Oe)return{type:"bootstrap",location:ge,deleteEntity:pt};const{loading:X,error:ae,value:$e}=Ge;if(X)return{type:"loading"};if(ae)return{type:"error",error:ae};const{location:Ne,colocatedEntities:Ze}=$e;return Ne?{type:"unregister",location:ge,colocatedEntities:Ze.map(getCompoundEntityRef),unregisterLocation:st,deleteEntity:pt}:{type:"only-delete",deleteEntity:pt}}const nn=(0,I.Z)({advancedButton:{fontSize:"0.7em"}}),gn=({entity:K,onConfirm:Q})=>{var se;const ge=useApi(alertApiRef),Pe=useApi(configApiRef),Oe=nn(),Ge=qt(K),[st,pt]=useState(!1),[X,ae]=useState(!1),$e=(se=Pe.getOptionalString("app.title"))!=null?se:"Backstage",Ne=useCallback(async function(){if("unregisterLocation"in Ge){ae(!0);try{await Ge.unregisterLocation(),Q()}catch(Qe){assertError(Qe),ge.post({message:Qe.message})}finally{ae(!1)}}},[ge,Q,Ge]),Ze=useCallback(async function(){if("deleteEntity"in Ge){ae(!0);try{await Ge.deleteEntity(),Q()}catch(Qe){assertError(Qe),ge.post({message:Qe.message})}finally{ae(!1)}}},[ge,Q,Ge]);return Ge.type==="loading"?React.createElement(Progress,null):Ge.type==="error"?React.createElement(ResponseErrorPanel,{error:Ge.error}):Ge.type==="bootstrap"?React.createElement(React.Fragment,null,React.createElement(Alert$1,{severity:"info"},'You cannot unregister this entity, since it originates from a protected Backstage configuration (location "',Ge.location,'"). If you believe this is in error, please contact the ',$e," ","integrator."),React.createElement(Box,{marginTop:2},!st&&React.createElement(Button,{variant:"text",size:"small",color:"primary",className:Oe.advancedButton,onClick:()=>pt(!0)},"Advanced Options"),st&&React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:X,onClick:Ze},"Delete Entity")))):Ge.type==="only-delete"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:X,onClick:Ze},"Delete Entity")):Ge.type==="unregister"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This action will unregister the following entities:"),React.createElement(DialogContentText,{component:"ul"},Ge.colocatedEntities.map(Ue=>React.createElement("li",{key:`${Ue.kind}:${Ue.namespace}/${Ue.name}`},React.createElement(On,{entityRef:Ue})))),React.createElement(DialogContentText,null,"Located at the following location:"),React.createElement(DialogContentText,{component:"ul"},React.createElement("li",null,Ge.location)),React.createElement(DialogContentText,null,"To undo, just re-register the entity in ",$e,"."),React.createElement(Box,{marginTop:2},React.createElement(Button,{variant:"contained",color:"secondary",disabled:X,onClick:Ne},"Unregister Location"),!st&&React.createElement(Box,{component:"span",marginLeft:2},React.createElement(Button,{variant:"text",size:"small",color:"primary",className:Oe.advancedButton,onClick:()=>pt(!0)},"Advanced Options"))),st&&React.createElement(React.Fragment,null,React.createElement(Box,{paddingTop:4,paddingBottom:4},React.createElement(Divider,null)),React.createElement(DialogContentText,null,"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:X,onClick:Ze},"Delete Entity"))):React.createElement(Alert$1,{severity:"error"},"Internal error: Unknown state")},or=K=>{const{open:Q,onConfirm:se,onClose:ge,entity:Pe}=K;return React.createElement(Dialog,{open:Q,onClose:ge},React.createElement(DialogTitle,{id:"responsive-dialog-title"},"Are you sure you want to unregister this entity?"),React.createElement(DialogContent,null,React.createElement(gn,{entity:Pe,onConfirm:se})),React.createElement(DialogActions,null,React.createElement(Button,{onClick:ge,color:"primary"},"Cancel")))},Un=(0,I.Z)(K=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:K.spacing(1,0,1,0)},title:{margin:K.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:K.palette.text.primary},menuItem:{minHeight:K.spacing(6)},groupWrapper:{margin:K.spacing(1,1,2,1)}}),{name:"CatalogReactUserListPicker"});function Fn(K){return[{name:"Personal",items:[{id:"owned",label:"Owned",icon:SettingsIcon},{id:"starred",label:"Starred",icon:Star}]},{name:K!=null?K:"Company",items:[{id:"all",label:"All"}]}]}const Rr=K=>{var Q;const{initialFilter:se,availableFilters:ge}=K,Pe=Un(),Ge=(Q=useApi(configApiRef).getOptionalString("organization.name"))!=null?Q:"Company",{filters:st,updateFilters:pt,backendEntities:X,queryParameters:{kind:ae,user:$e},loading:Ne}=Dt(),Ze=["starred","all"],Ue=Fn(Ge).map(en=>({...en,items:en.items.filter(({id:Tn})=>["group","user"].some(Nr=>Nr===ae)?Ze.includes(Tn):!ge||ge.includes(Tn))})).filter(({items:en})=>!!en.length),{isStarredEntity:Qe}=Cr(),{isOwnedEntity:rt,loading:yt}=wr(),at=Ne||yt,mt=useMemo(()=>new jn("owned",rt,Qe),[rt,Qe]),Ct=useMemo(()=>new jn("starred",rt,Qe),[rt,Qe]),Ft=useMemo(()=>[$e].flat()[0],[$e]),[At,rn]=useState(Ft!=null?Ft:se),un=useMemo(()=>X.filter(Be(compact(Object.values({...st,user:void 0})))),[st,X]),hn=useMemo(()=>({all:un.length,starred:un.filter(en=>Ct.filterEntity(en)).length,owned:un.filter(en=>mt.filterEntity(en)).length}),[un,Ct,mt]);return useEffect(()=>{Ft&&rn(Ft)},[Ft]),useEffect(()=>{!at&&!!At&&At!=="all"&&hn[At]===0&&rn("all")},[at,hn,At,rn]),useEffect(()=>{pt({user:At?new jn(At,rt,Qe):void 0})},[At,rt,Qe,pt]),React.createElement(Card,{className:Pe.root},Ue.map(en=>React.createElement(Fragment,{key:en.name},React.createElement(Typography,{variant:"subtitle2",className:Pe.title},en.name),React.createElement(Card,{className:Pe.groupWrapper},React.createElement(List,{disablePadding:!0,dense:!0,role:"menu"},en.items.map(Tn=>{var Nr,na;return React.createElement(MenuItem,{key:Tn.id,button:!0,divider:!0,onClick:()=>rn(Tn.id),selected:Tn.id===((Nr=st.user)==null?void 0:Nr.value),className:Pe.menuItem,disabled:hn[Tn.id]===0,"data-testid":`user-picker-${Tn.id}`,tabIndex:0},Tn.icon&&React.createElement(ListItemIcon,{className:Pe.listIcon},React.createElement(Tn.icon,{fontSize:"small"})),React.createElement(ListItemText$1,null,React.createElement(Typography,{variant:"body1"},Tn.label)),React.createElement(ListItemSecondaryAction,null,(na=hn[Tn.id])!=null?na:"-"))}))))))},ke=({children:K,value:Q})=>{var se;const[ge,Pe]=useState((se=Q==null?void 0:Q.filters)!=null?se:{}),Oe=useCallback(pt=>{Pe(X=>{const ae=typeof pt=="function"?pt(X):pt;return{...X,...ae}})},[]),Ge=useMemo(()=>({entities:[],backendEntities:[],queryParameters:{}}),[]),st=useMemo(()=>{var pt,X,ae,$e,Ne;return{entities:(pt=Q==null?void 0:Q.entities)!=null?pt:Ge.entities,backendEntities:(X=Q==null?void 0:Q.backendEntities)!=null?X:Ge.backendEntities,updateFilters:(ae=Q==null?void 0:Q.updateFilters)!=null?ae:Oe,filters:ge,loading:($e=Q==null?void 0:Q.loading)!=null?$e:!1,queryParameters:(Ne=Q==null?void 0:Q.queryParameters)!=null?Ne:Ge.queryParameters,error:Q==null?void 0:Q.error}},[Q,Ge,ge,Oe]);return React.createElement(ot.Provider,{value:st},K)}},38785:function(Se,r,a){a.d(r,{Il:function(){return V},TB:function(){return F},_B:function(){return f}});var e=a(76377),t=a(2784),T=a(8629),h=a(79249),w=a(38724),i=a(49429),E=a(77277),c=a(61837),l=a(79692),A=a(47603),S=a(93809);const F=et=>{const{open:lt,close:Et,componentName:Lt,children:dt}=et;return t.createElement(T.Z,{open:lt,onClose:()=>Et()},t.createElement(h.Z,null,"Settings - ",Lt),t.createElement(w.Z,null,dt),t.createElement(i.Z,null,t.createElement(E.Z,{onClick:()=>Et(),color:"primary",variant:"contained"},"Close")))},U={hour:"2-digit",minute:"2-digit"};function B(et){const lt=new Date,Et=window.navigator.language,Lt=[];if(!et)return Lt;for(const dt of et){let he=dt.label;const j={timeZone:dt.timeZone,...U};try{new Date().toLocaleString(Et,j)}catch{console.warn(`The timezone ${j.timeZone} is invalid. Defaulting to GMT`),j.timeZone="GMT",he="GMT"}const re=lt.toLocaleTimeString(Et,j);Lt.push({time:re,label:he})}return Lt}const V=et=>{const{clockConfigs:lt}=et,Et=[],[Lt,dt]=t.useState(Et);return t.useEffect(()=>{dt(B(lt));const he=setInterval(()=>{dt(B(lt))},1e3);return()=>{clearInterval(he)}},[lt]),Lt.length!==0?t.createElement(t.Fragment,null,Lt.map(he=>t.createElement(S.i9,{label:he.label,value:he.time,key:he.label}))):null};function f(et){const{title:lt,components:Et,name:Lt}=et;return(0,e.YO)({name:Lt,component:{lazy:()=>Et().then(({Content:dt,Actions:he,Settings:j,ContextProvider:re})=>d=>{const{Renderer:k,title:J,...Le}=d,Me=(0,e.qD)(),{Progress:gt}=Me.getComponents(),[nt,M]=t.useState(!1);if(k)return t.createElement(t.Suspense,{fallback:t.createElement(gt,null)},t.createElement(k,{title:J||lt,Content:dt,...he?{Actions:he}:{},...j?{Settings:j}:{},...re?{ContextProvider:re}:{},...Le}));const Z={title:J!=null?J:lt,...j?{action:t.createElement(c.Z,{onClick:()=>M(!0)},t.createElement(A.Z,null,"Settings"))}:{},...he?{actions:t.createElement(he,null)}:{}},ie=t.createElement(S.rJ,{...Z},j&&t.createElement(F,{open:nt,componentName:lt,close:()=>M(!1)},t.createElement(j,null)),t.createElement(dt,{...Le}));return t.createElement(t.Suspense,{fallback:t.createElement(gt,null)},re?t.createElement(re,{...Le},ie):ie)})}})}const p=(0,e.NT)({id:"home"}),I=(0,e.rx)({id:"home",routes:{root:p}}),y=I.provide((0,e.P4)({name:"HomepageCompositionRoot",component:()=>a.e(9887).then(a.bind(a,9887)).then(et=>et.HomepageCompositionRoot),mountPoint:p})),C=I.provide((0,e.CO)({name:"ComponentAccordion",component:{lazy:()=>a.e(9464).then(a.bind(a,69464)).then(et=>et.ComponentAccordion)}})),N=I.provide((0,e.CO)({name:"ComponentTabs",component:{lazy:()=>a.e(9464).then(a.bind(a,69464)).then(et=>et.ComponentTabs)}})),R=I.provide((0,e.CO)({name:"ComponentTab",component:{lazy:()=>a.e(9464).then(a.bind(a,69464)).then(et=>et.ComponentTab)}})),b=I.provide((0,e.CO)({name:"WelcomeTitle",component:{lazy:()=>a.e(9388).then(a.bind(a,19388)).then(et=>et.WelcomeTitle)}})),x=I.provide((0,e.CO)({name:"CompanyLogo",component:{lazy:()=>a.e(8507).then(a.bind(a,58507)).then(et=>et.CompanyLogo)}})),H=I.provide(f({name:"HomePageRandomJoke",title:"Random Joke",components:()=>a.e(1866).then(a.bind(a,81866))})),te=I.provide(f({name:"HomePageToolkit",title:"Toolkit",components:()=>a.e(955).then(a.bind(a,70955))})),oe=I.provide(f({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>a.e(5846).then(a.bind(a,45846))})),ce=et=>React.createElement("svg",{className:et.classes.svg,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2079.95 456.05"},React.createElement("path",{className:et.classes.path,d:"M302.9,180a80.62,80.62,0,0,0,13.44-10.37c.8-.77,1.55-1.54,2.31-2.31a81.89,81.89,0,0,0,7.92-9.37,62.37,62.37,0,0,0,6.27-10.77,48.6,48.6,0,0,0,4.36-16.4c1.49-19.39-10-38.67-35.62-54.22L198.42,14,78.16,129.22l-78.29,75,108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.69,49.69,0,0,0-6.8-8.87,89.78,89.78,0,0,0,19.28,2.15H259a85.09,85.09,0,0,0,31-5.79A80.88,80.88,0,0,0,302.9,180Zm-100.59,59.8c-19.32,18.51-50.4,21.24-75.7,5.9l-75.13-45.6,67.44-64.65,76.42,46.39C222.88,198.57,221.36,221.6,202.31,239.84Zm8.94-82.21L140.6,114.74,205,53l69.37,42.11c25.94,15.73,29.31,37.05,10.55,55A60.71,60.71,0,0,1,211.25,157.63Zm29.86,190c-19.57,18.75-46.17,29.08-74.88,29.08a123.84,123.84,0,0,1-64.11-18.19L-.13,296.51v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.85,87.85,0,0,1,241.11,347.67Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,257.52V282.2l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.79A86.86,86.86,0,0,1,241.11,308.68Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,218.54v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.12,19.68-41.49v-1.82A87.14,87.14,0,0,1,241.11,269.7Zm83.69,25.74a94.16,94.16,0,0,1-60.19,25.86h0V348a81.6,81.6,0,0,0,51.73-22.37c14-13.38,21.15-28.11,21-42.64v-2.2A95.14,95.14,0,0,1,324.8,295.44Zm-83.69,91.21c-19.57,18.75-46.17,29.09-74.88,29.09a123.76,123.76,0,0,1-64.11-18.2L-.13,335.49v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.35,87.35,0,0,1,241.11,386.65Zm85.75-210.21c-.68.69-1.35,1.38-2.06,2.05a99.19,99.19,0,0,1-22.23,15.69,94.53,94.53,0,0,1-26.24,8.71,97.84,97.84,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a52.7,52.7,0,0,1,1.13,12V231h.05A84.48,84.48,0,0,0,290,225.47a80.83,80.83,0,0,0,26.38-16.82c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,62.85,62.85,0,0,0,6.29-10.78,48.5,48.5,0,0,0,4.32-16.44c.09-1.23.2-2.47.19-3.7v-2c-.72,1-1.48,2.06-2.26,3.09A98,98,0,0,1,326.86,176.44Zm0,77.92c-.68.7-1.3,1.41-2,2.1a94.09,94.09,0,0,1-60.19,25.85h0V309h0a81.65,81.65,0,0,0,51.73-22.37,73.51,73.51,0,0,0,16.48-22.49,48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A95.81,95.81,0,0,1,326.82,254.36Zm0-39c-.68.7-1.3,1.41-2,2.1a92.22,92.22,0,0,1-10.62,8.65,93.53,93.53,0,0,1-11.63,7,95.63,95.63,0,0,1-37.94,10.18h-.05l0,26.67h0a81.63,81.63,0,0,0,51.73-22.37c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,63.16,63.16,0,0,0,6.29-10.77,48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A98.19,98.19,0,0,1,326.82,215.38Zm241-88.84q7.94,0,17.09.17t18.12,1a139.3,139.3,0,0,1,16.74,2.57,42.78,42.78,0,0,1,13.3,5.14,64.27,64.27,0,0,1,20.54,19.89Q662,168,662,186.54q0,19.54-9.49,33.78t-27.1,21.09v.68q22.78,4.82,34.87,20.58t12.08,38.4a72.62,72.62,0,0,1-4.83,26.06,65.29,65.29,0,0,1-14.33,22.46,71.57,71.57,0,0,1-23.47,15.78q-14,6-32.28,6H478.38V126.54Zm9,105.27q28,0,40.21-9.78t12.26-29.31q0-13-4.14-20.58a29.47,29.47,0,0,0-11.4-11.66A45,45,0,0,0,597,155.17a161.2,161.2,0,0,0-20.19-1.2h-65.6v77.84Zm16.57,112.13q21.74,0,34-11.66T639.59,300q0-12-4.48-19.88a34.85,34.85,0,0,0-11.91-12.52,50.14,50.14,0,0,0-17.09-6.52,105,105,0,0,0-20-1.88H511.17v84.7Zm274.79,26.74q-7.61,4.45-21.06,4.46-11.4,0-18.12-6.34t-6.74-20.75a70.17,70.17,0,0,1-28.13,20.75,97.87,97.87,0,0,1-57.65,3.6,53.51,53.51,0,0,1-18.82-8.58A41.19,41.19,0,0,1,705,348.56q-4.65-9.42-4.66-22.8,0-15.09,5.18-24.69a44.92,44.92,0,0,1,13.64-15.6,62.63,62.63,0,0,1,19.33-9.09q10.88-3.08,22.27-5.14,12.08-2.4,23-3.6a128,128,0,0,0,19.16-3.43c5.53-1.48,9.89-3.65,13.12-6.51s4.83-7,4.83-12.52q0-9.6-3.62-15.43a24.94,24.94,0,0,0-9.32-8.92,38.38,38.38,0,0,0-12.78-4.11,96.54,96.54,0,0,0-14-1q-18.63,0-31.07,7T736.6,249.29H707.26q.69-16.46,6.9-27.77a52.21,52.21,0,0,1,16.57-18.35,70,70,0,0,1,23.65-10.11A125.51,125.51,0,0,1,782.86,190a168.63,168.63,0,0,1,24,1.72,63.26,63.26,0,0,1,21.58,7A41.23,41.23,0,0,1,844,213.59q5.87,9.57,5.87,25v91q0,10.26,1.21,15.05t8.11,4.79a35.57,35.57,0,0,0,9-1.37Zm-47.64-90.87c-3.69,2.74-8.52,4.72-14.5,6s-12.26,2.27-18.82,3.07-13.17,1.71-19.85,2.73a73.7,73.7,0,0,0-18,4.94,32.62,32.62,0,0,0-12.94,9.73q-5,6.32-5,17.23a23.31,23.31,0,0,0,2.94,12.11,24.11,24.11,0,0,0,7.59,8,32,32,0,0,0,10.88,4.44,60.94,60.94,0,0,0,13.11,1.36q14.5,0,24.86-3.92a52.49,52.49,0,0,0,16.91-9.9,39.1,39.1,0,0,0,9.67-13,32.53,32.53,0,0,0,3.11-13.14ZM1002.07,225q-11.05-9.25-29.69-9.26-15.89,0-26.58,5.83A47.29,47.29,0,0,0,928.71,237a64.66,64.66,0,0,0-9.15,22.12A119.83,119.83,0,0,0,916.8,285a98.22,98.22,0,0,0,2.93,24,64.18,64.18,0,0,0,9.15,20.74,46.2,46.2,0,0,0,16.23,14.58q10,5.49,23.82,5.48,21.75,0,34-11.31t15-31.89h30q-4.83,32.91-24.68,50.75t-54,17.83q-20.37,0-36.07-6.52A69.86,69.86,0,0,1,907,350.11a79.92,79.92,0,0,1-15.88-28.63A118.64,118.64,0,0,1,885.73,285a129.41,129.41,0,0,1,5.18-37.21,85.63,85.63,0,0,1,15.71-30.17A73.46,73.46,0,0,1,933,197.35Q948.91,190,970,190a108.54,108.54,0,0,1,28.48,3.6,69.59,69.59,0,0,1,23.48,11.15,61,61,0,0,1,16.74,19q6.55,11.49,8.29,27.26h-30.38Q1013.11,234.21,1002.07,225Zm109.77-98.41v145l81.47-77.49h39.36l-70.77,64.46,75.95,112.82h-37.29l-61.1-92.59-27.62,25.38v67.21H1082.5V126.54Zm170.54,205.22a31.07,31.07,0,0,0,10.87,10.63,49,49,0,0,0,15.19,5.66,87.06,87.06,0,0,0,17.44,1.71,109.18,109.18,0,0,0,14.5-1,53.22,53.22,0,0,0,14-3.78,26.27,26.27,0,0,0,10.53-8q4.14-5.32,4.14-13.55,0-11.31-8.63-17.14a73.69,73.69,0,0,0-21.58-9.43q-12.94-3.6-28.13-6.52a146,146,0,0,1-28.14-8.23A58.16,58.16,0,0,1,1261,267.13q-8.64-9.6-8.63-26.75,0-13.38,6-23a49.26,49.26,0,0,1,15.53-15.61,71.76,71.76,0,0,1,21.4-8.91A99.41,99.41,0,0,1,1319,190a141.31,141.31,0,0,1,28,2.58,64.85,64.85,0,0,1,22.62,8.91,46.16,46.16,0,0,1,15.7,17.15q5.87,10.8,6.91,26.91h-29.35q-.69-8.57-4.48-14.23a29.36,29.36,0,0,0-9.67-9.08,44.16,44.16,0,0,0-12.94-5,67.68,67.68,0,0,0-14.33-1.54,87.29,87.29,0,0,0-13.29,1,45.28,45.28,0,0,0-12.26,3.6,24.49,24.49,0,0,0-9,6.86q-3.46,4.29-3.46,11.14a16.32,16.32,0,0,0,5.36,12.52,42.75,42.75,0,0,0,13.63,8.23,120,120,0,0,0,18.64,5.48q10.37,2.24,20.72,4.63,11,2.4,21.57,5.83A70.74,70.74,0,0,1,1382,284.1a44.55,44.55,0,0,1,13.12,14.23q5,8.58,5,21.26,0,16.13-6.73,26.75a52.5,52.5,0,0,1-17.61,17.14,73.89,73.89,0,0,1-24.51,9.09,146.3,146.3,0,0,1-27.1,2.57,126.24,126.24,0,0,1-28.31-3.09A69.56,69.56,0,0,1,1272,361.94a51.74,51.74,0,0,1-16.57-18.52q-6.21-11.49-6.9-27.95h29.34A32.65,32.65,0,0,0,1282.38,331.76Zm226.46-137.67v25.72h-35.56V329.88a31.37,31.37,0,0,0,.87,8.23,8.42,8.42,0,0,0,3.28,4.8,14.61,14.61,0,0,0,6.73,2.23,99.19,99.19,0,0,0,11.22.51h13.46v25.72H1486.4a105.8,105.8,0,0,1-19.5-1.55,28.65,28.65,0,0,1-13.12-5.65,24.09,24.09,0,0,1-7.42-11.66q-2.43-7.54-2.42-19.89V219.81h-30.38V194.09h30.38V140.94h29.34v53.15ZM1699.4,370.68q-7.61,4.45-21.06,4.46-11.4,0-18.12-6.34t-6.74-20.75a70.17,70.17,0,0,1-28.13,20.75,97.87,97.87,0,0,1-57.65,3.6,53.51,53.51,0,0,1-18.82-8.58,41.19,41.19,0,0,1-12.6-15.26q-4.65-9.42-4.66-22.8,0-15.09,5.18-24.69a44.92,44.92,0,0,1,13.64-15.6,62.63,62.63,0,0,1,19.33-9.09q10.88-3.08,22.27-5.14,12.07-2.4,23-3.6a128,128,0,0,0,19.16-3.43c5.53-1.48,9.89-3.65,13.12-6.51s4.83-7,4.83-12.52q0-9.6-3.62-15.43a24.94,24.94,0,0,0-9.32-8.92,38.38,38.38,0,0,0-12.78-4.11,96.54,96.54,0,0,0-14-1q-18.63,0-31.07,7t-13.46,26.57h-29.34q.67-16.46,6.9-27.77A52.21,52.21,0,0,1,1562,203.17a70,70,0,0,1,23.65-10.11,125.51,125.51,0,0,1,28.48-3.09,168.63,168.63,0,0,1,24,1.72,63.26,63.26,0,0,1,21.58,7,41.23,41.23,0,0,1,15.53,14.89q5.87,9.57,5.87,25v91q0,10.26,1.21,15.05t8.11,4.79a35.57,35.57,0,0,0,9-1.37Zm-47.64-90.87c-3.69,2.74-8.52,4.72-14.5,6s-12.26,2.27-18.82,3.07-13.17,1.71-19.85,2.73a73.7,73.7,0,0,0-17.95,4.94,32.62,32.62,0,0,0-12.94,9.73q-5,6.32-5,17.23a23.31,23.31,0,0,0,2.94,12.11,24.11,24.11,0,0,0,7.59,8,32,32,0,0,0,10.88,4.44,60.94,60.94,0,0,0,13.11,1.36q14.51,0,24.86-3.92a52.49,52.49,0,0,0,16.91-9.9,39.1,39.1,0,0,0,9.67-13,32.53,32.53,0,0,0,3.11-13.14Zm208.85,141.62q-20,21.6-62.83,21.6a122.11,122.11,0,0,1-25.37-2.74,78,78,0,0,1-23.48-8.92,54.41,54.41,0,0,1-17.43-16.11q-6.91-10-7.6-24.35h29.35a21.47,21.47,0,0,0,5,13.38,36.67,36.67,0,0,0,11.4,8.91,55.52,55.52,0,0,0,14.67,5,79.51,79.51,0,0,0,15.19,1.55q14.49,0,24.51-5A46,46,0,0,0,1840.59,401a56.53,56.53,0,0,0,9.49-21.09,117.46,117.46,0,0,0,2.94-27.09V341.19h-.7q-7.59,16.46-23,24.18a71.8,71.8,0,0,1-32.63,7.71q-20,0-34.86-7.2A72.88,72.88,0,0,1,1737,346.51a82.13,82.13,0,0,1-15-28.46,116.62,116.62,0,0,1-5-34.47,133.92,133.92,0,0,1,4.14-32.4A88.17,88.17,0,0,1,1735,221a75.49,75.49,0,0,1,25.55-22.29q15.87-8.75,39-8.75a66.21,66.21,0,0,1,31.07,7.38,52.13,52.13,0,0,1,22.09,22.11h.35V194.09h27.61V356.28Q1880.63,399.83,1860.61,421.43Zm-37.46-79.72a47.94,47.94,0,0,0,16.4-15.78,71.89,71.89,0,0,0,9.15-22.11,106.77,106.77,0,0,0,2.93-24.69,96.71,96.71,0,0,0-2.76-23,64,64,0,0,0-8.8-20.4,45.76,45.76,0,0,0-15.71-14.57q-9.66-5.49-23.47-5.49-14.16,0-24.17,5.32a46.77,46.77,0,0,0-16.4,14.23,60.14,60.14,0,0,0-9.32,20.57,99.69,99.69,0,0,0-2.93,24.35,120.63,120.63,0,0,0,2.42,24,67.5,67.5,0,0,0,8.28,21.77,46.37,46.37,0,0,0,15.54,15.78q9.66,6,24.16,6T1823.15,341.71Zm228,18.34q-20,15.09-50.41,15.09-21.4,0-37.11-6.86a73.16,73.16,0,0,1-26.41-19.2,81.52,81.52,0,0,1-16-29.49,141.12,141.12,0,0,1-6-37.38,106.1,106.1,0,0,1,6.21-37A88.56,88.56,0,0,1,1938.8,216a79.09,79.09,0,0,1,26.58-19.2A81.66,81.66,0,0,1,1999,190q23.82,0,39.53,9.78a78,78,0,0,1,25.2,24.86,98.18,98.18,0,0,1,13.12,32.91,140.6,140.6,0,0,1,2.93,34h-133.6a70,70,0,0,0,2.76,22.12,49.9,49.9,0,0,0,10,18.51A49.1,49.1,0,0,0,1976.6,345q10.7,4.82,25.2,4.8,18.65,0,30.55-8.57t15.71-26.06h29Q2071.18,345,2051.17,360.05Zm-7.08-113.84a50,50,0,0,0-10.7-16,53.1,53.1,0,0,0-56.62-10.63,47.48,47.48,0,0,0-15.71,10.81,51.69,51.69,0,0,0-10.35,15.94,60.18,60.18,0,0,0-4.49,19.37h102.53A59.47,59.47,0,0,0,2044.09,246.21ZM302.9,180a80.62,80.62,0,0,0,13.44-10.37c.8-.77,1.55-1.54,2.31-2.31a81.89,81.89,0,0,0,7.92-9.37,62.37,62.37,0,0,0,6.27-10.77,48.6,48.6,0,0,0,4.36-16.4c1.49-19.39-10-38.67-35.62-54.22L198.42,14,78.16,129.22l-78.29,75,108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.69,49.69,0,0,0-6.8-8.87,89.78,89.78,0,0,0,19.28,2.15H259a85.09,85.09,0,0,0,31-5.79A80.88,80.88,0,0,0,302.9,180Zm-100.59,59.8c-19.32,18.51-50.4,21.24-75.7,5.9l-75.13-45.6,67.44-64.65,76.42,46.39C222.88,198.57,221.36,221.6,202.31,239.84Zm8.94-82.21L140.6,114.74,205,53l69.37,42.11c25.94,15.73,29.31,37.05,10.55,55A60.71,60.71,0,0,1,211.25,157.63Zm29.86,190c-19.57,18.75-46.17,29.08-74.88,29.08a123.84,123.84,0,0,1-64.11-18.19L-.13,296.51v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.85,87.85,0,0,1,241.11,347.67Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,257.52V282.2l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.79A86.86,86.86,0,0,1,241.11,308.68Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.84,123.84,0,0,1-64.11-18.19L-.13,218.54v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.12,19.68-41.49v-1.82A87.14,87.14,0,0,1,241.11,269.7Zm83.69,25.74a94.16,94.16,0,0,1-60.19,25.86h0V348a81.6,81.6,0,0,0,51.73-22.37c14-13.38,21.15-28.11,21-42.64v-2.2A95.14,95.14,0,0,1,324.8,295.44Zm-83.69,91.21c-19.57,18.75-46.17,29.09-74.88,29.09a123.76,123.76,0,0,1-64.11-18.2L-.13,335.49v24.67l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.35,87.35,0,0,1,241.11,386.65Zm85.75-210.21c-.68.69-1.35,1.38-2.06,2.05a99.19,99.19,0,0,1-22.23,15.69,94.53,94.53,0,0,1-26.24,8.71,97.84,97.84,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a52.7,52.7,0,0,1,1.13,12V231h.05A84.48,84.48,0,0,0,290,225.47a80.83,80.83,0,0,0,26.38-16.82c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,62.85,62.85,0,0,0,6.29-10.78,48.5,48.5,0,0,0,4.32-16.44c.09-1.23.2-2.47.19-3.7v-2c-.72,1-1.48,2.06-2.26,3.09A98,98,0,0,1,326.86,176.44Zm0,77.92c-.68.7-1.3,1.41-2,2.1a94.09,94.09,0,0,1-60.19,25.85h0V309h0a81.65,81.65,0,0,0,51.73-22.37,73.51,73.51,0,0,0,16.48-22.49,48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A95.81,95.81,0,0,1,326.82,254.36Zm0-39c-.68.7-1.3,1.41-2,2.1a92.22,92.22,0,0,1-10.62,8.65,93.53,93.53,0,0,1-11.63,7,95.63,95.63,0,0,1-37.94,10.18h-.05l0,26.67h0a81.63,81.63,0,0,0,51.73-22.37c.81-.77,1.51-1.56,2.27-2.34a82,82,0,0,0,7.92-9.38,63.16,63.16,0,0,0,6.29-10.77,48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7v-2.2c-.74,1.08-1.47,2.16-2.27,3.22A98.19,98.19,0,0,1,326.82,215.38Z"})),He=(0,l.Z)({svg:{width:"auto",height:28},path:{fill:"#7df3e1"}}),De=()=>{const et=He();return React.createElement("svg",{className:et.svg,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 337.46 428.5"},React.createElement("path",{className:et.path,d:"M303,166.05a80.69,80.69,0,0,0,13.45-10.37c.79-.77,1.55-1.53,2.3-2.3a83.12,83.12,0,0,0,7.93-9.38A63.69,63.69,0,0,0,333,133.23a48.58,48.58,0,0,0,4.35-16.4c1.49-19.39-10-38.67-35.62-54.22L198.56,0,78.3,115.23,0,190.25l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.69,19.16-18.36,25.52-42.12,13.7-61.87a49.22,49.22,0,0,0-6.8-8.87A89.17,89.17,0,0,0,259,178.29h.15a85.08,85.08,0,0,0,31-5.79A80.88,80.88,0,0,0,303,166.05ZM202.45,225.86c-19.32,18.51-50.4,21.23-75.7,5.9L51.61,186.15l67.45-64.64,76.41,46.38C223,184.58,221.49,207.61,202.45,225.86Zm8.93-82.22-70.65-42.89L205.14,39,274.51,81.1c25.94,15.72,29.31,37,10.55,55A60.69,60.69,0,0,1,211.38,143.64Zm29.86,190c-19.57,18.75-46.17,29.09-74.88,29.09a123.73,123.73,0,0,1-64.1-18.2L0,282.52v24.67L108.6,373.1a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A87.27,87.27,0,0,1,241.24,333.68Zm0-39c-19.57,18.75-46.17,29.08-74.88,29.08a123.81,123.81,0,0,1-64.1-18.19L0,243.53v24.68l108.6,65.91a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.81,66.42-25.69,12.88-12.34,20-27.13,19.68-41.5v-1.78A87.27,87.27,0,0,1,241.24,294.7Zm0-39c-19.57,18.76-46.17,29.09-74.88,29.09a123.81,123.81,0,0,1-64.1-18.19L0,204.55v24.68l108.6,65.91a111.59,111.59,0,0,0,57.76,16.41c24.92,0,48.8-8.8,66.42-25.68,12.88-12.35,20-27.13,19.68-41.5v-1.82A86.09,86.09,0,0,1,241.24,255.71Zm83.7,25.74a94.15,94.15,0,0,1-60.2,25.86h0V334a81.6,81.6,0,0,0,51.74-22.37c14-13.38,21.14-28.11,21-42.64v-2.19A94.92,94.92,0,0,1,324.94,281.45Zm-83.7,91.21c-19.57,18.76-46.17,29.09-74.88,29.09a123.73,123.73,0,0,1-64.1-18.2L0,321.5v24.68l108.6,65.9a111.6,111.6,0,0,0,57.76,16.42c24.92,0,48.8-8.8,66.42-25.69,12.88-12.34,20-27.13,19.68-41.49v-1.79A86.29,86.29,0,0,1,241.24,372.66ZM327,162.45c-.68.69-1.35,1.38-2.05,2.06a94.37,94.37,0,0,1-10.64,8.65,91.35,91.35,0,0,1-11.6,7,94.53,94.53,0,0,1-26.24,8.71,97.69,97.69,0,0,1-14.16,1.57c.5,1.61.9,3.25,1.25,4.9a53.27,53.27,0,0,1,1.14,12V217h.05a84.41,84.41,0,0,0,25.35-5.55,81,81,0,0,0,26.39-16.82c.8-.77,1.5-1.56,2.26-2.34a82.08,82.08,0,0,0,7.93-9.38A63.76,63.76,0,0,0,333,172.17a48.55,48.55,0,0,0,4.32-16.45c.09-1.23.2-2.47.19-3.7V150q-1.08,1.54-2.25,3.09A96.73,96.73,0,0,1,327,162.45Zm0,77.92c-.69.7-1.31,1.41-2,2.1a94.2,94.2,0,0,1-60.2,25.86h0l0,26.67h0a81.6,81.6,0,0,0,51.74-22.37A73.51,73.51,0,0,0,333,250.13a48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.47.19-3.71v-2.19c-.74,1.07-1.46,2.15-2.27,3.21A95.68,95.68,0,0,1,327,240.37Zm0-39c-.69.7-1.31,1.41-2,2.1a93.18,93.18,0,0,1-10.63,8.65,91.63,91.63,0,0,1-11.63,7,95.47,95.47,0,0,1-37.94,10.18h0V256h0a81.65,81.65,0,0,0,51.74-22.37c.8-.77,1.5-1.56,2.26-2.34a82.08,82.08,0,0,0,7.93-9.38A63.76,63.76,0,0,0,333,211.15a48.56,48.56,0,0,0,4.32-16.44c.09-1.24.2-2.48.19-3.71v-2.2c-.74,1.08-1.46,2.16-2.27,3.22A95.68,95.68,0,0,1,327,201.39Z"}))}},98422:function(Se,r,a){a.d(r,{v:function(){return x}});var e=a(7502),t=a(93222),T=a(81014),h=a(53853),w=a(99066);const i="3.2.4";class E{constructor(te={}){const oe=new t.Collection,ce={baseUrl:T.request.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},te.request,{hook:oe.bind(null,"request")}),mediaType:{previews:[],format:""}};if(ce.headers["user-agent"]=[te.userAgent,`octokit-core.js/${i} ${(0,e.i)()}`].filter(Boolean).join(" "),te.baseUrl&&(ce.baseUrl=te.baseUrl),te.previews&&(ce.mediaType.previews=te.previews),te.timeZone&&(ce.headers["time-zone"]=te.timeZone),this.request=T.request.defaults(ce),this.graphql=(0,h.Zi)(this.request).defaults(ce),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},te.log),this.hook=oe,te.authStrategy){const{authStrategy:De,...et}=te,lt=De(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:et},te.auth));oe.wrap("request",lt.hook),this.auth=lt}else if(!te.auth)this.auth=async()=>({type:"unauthenticated"});else{const De=(0,w.q)(te.auth);oe.wrap("request",De.hook),this.auth=De}this.constructor.plugins.forEach(De=>{Object.assign(this,De(this,te))})}static defaults(te){return class extends this{constructor(...ce){const He=ce[0]||{};if(typeof te=="function"){super(te(He));return}super(Object.assign({},te,He,He.userAgent&&te.userAgent?{userAgent:`${He.userAgent} ${te.userAgent}`}:null))}}}static plugin(...te){var oe;const ce=this.plugins;return oe=class extends this{},oe.plugins=ce.concat(te.filter(De=>!ce.includes(De))),oe}}E.VERSION=i,E.plugins=[];const c="1.0.2";function l(H){H.hook.wrap("request",(te,oe)=>{H.log.debug("request",oe);const ce=Date.now(),He=H.request.endpoint.parse(oe),De=He.url.replace(oe.baseUrl,"");return te(oe).then(et=>(H.log.info(`${He.method} ${De} - ${et.status} in ${Date.now()-ce}ms`),et)).catch(et=>{throw H.log.info(`${He.method} ${De} - ${et.status} in ${Date.now()-ce}ms`),et})})}l.VERSION=c;const A="2.7.0";function S(H){if(!("total_count"in H.data&&!("url"in H.data)))return H;const oe=H.data.incomplete_results,ce=H.data.repository_selection,He=H.data.total_count;delete H.data.incomplete_results,delete H.data.repository_selection,delete H.data.total_count;const De=Object.keys(H.data)[0],et=H.data[De];return H.data=et,typeof oe!="undefined"&&(H.data.incomplete_results=oe),typeof ce!="undefined"&&(H.data.repository_selection=ce),H.data.total_count=He,H}function F(H,te,oe){const ce=typeof te=="function"?te.endpoint(oe):H.request.endpoint(te,oe),He=typeof te=="function"?te:H.request,De=ce.method,et=ce.headers;let lt=ce.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!lt)return{done:!0};const Et=await He({method:De,url:lt,headers:et}),Lt=S(Et);return lt=((Lt.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:Lt}}})}}function U(H,te,oe,ce){return typeof oe=="function"&&(ce=oe,oe=void 0),B(H,[],F(H,te,oe)[Symbol.asyncIterator](),ce)}function B(H,te,oe,ce){return oe.next().then(He=>{if(He.done)return te;let De=!1;function et(){De=!0}return te=te.concat(ce?ce(He.value,et):He.value.data),De?te:B(H,te,oe,ce)})}const V=Object.assign(U,{iterator:F});function f(H){return{paginate:Object.assign(U.bind(null,H),{iterator:F.bind(null,H)})}}f.VERSION=A;const p={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createContentAttachmentForRepo:["POST /repos/{owner}/{repo}/content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.rest.reactions.deleteLegacy() is deprecated, see https://docs.github.com/rest/reference/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},I="5.3.1";function y(H,te){const oe={};for(const[ce,He]of Object.entries(te))for(const[De,et]of Object.entries(He)){const[lt,Et,Lt]=et,[dt,he]=lt.split(/ /),j=Object.assign({method:dt,url:he},Et);oe[ce]||(oe[ce]={});const re=oe[ce];if(Lt){re[De]=C(H,ce,De,j,Lt);continue}re[De]=H.request.defaults(j)}return oe}function C(H,te,oe,ce,He){const De=H.request.defaults(ce);function et(...lt){let Et=De.endpoint.merge(...lt);if(He.mapToData)return Et=Object.assign({},Et,{data:Et[He.mapToData],[He.mapToData]:void 0}),De(Et);if(He.renamed){const[Lt,dt]=He.renamed;H.log.warn(`octokit.${te}.${oe}() has been renamed to octokit.${Lt}.${dt}()`)}if(He.deprecated&&H.log.warn(He.deprecated),He.renamedParameters){const Lt=De.endpoint.merge(...lt);for(const[dt,he]of Object.entries(He.renamedParameters))dt in Lt&&(H.log.warn(`"${dt}" parameter is deprecated for "octokit.${te}.${oe}()". Use "${he}" instead`),he in Lt||(Lt[he]=Lt[dt]),delete Lt[dt]);return De(Lt)}return De(...lt)}return Object.assign(et,De)}function N(H){return{rest:y(H,p)}}N.VERSION=I;function R(H){const te=y(H,p);return{...te,rest:te}}R.VERSION=I;const b="18.5.6",x=E.plugin(l,R,f).defaults({userAgent:`octokit-rest.js/${b}`})},37857:function(Se,r,a){a.d(r,{t:function(){return t}});var e=a(2784);function t(){var T=(0,e.useRef)(!1),h=(0,e.useCallback)(function(){return T.current},[]);return(0,e.useEffect)(function(){return T.current=!0,function(){T.current=!1}},[]),h}},42530:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const e=a(47942),t=a(50035),T=a(69359),h=a(23536),w=["/properties"],i="http://json-schema.org/draft-07/schema";class E extends e.default{_addVocabularies(){super._addVocabularies(),t.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(T.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(h,w):h;this.addMetaSchema(S,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}Se.exports=r=E,Object.defineProperty(r,"__esModule",{value:!0}),r.default=E;var c=a(89352);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=a(51172);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}})},34310:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class a{}r._CodeOrName=a,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class e extends a{constructor(p){if(super(),!r.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=e;class t extends a{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((I,y)=>`${I}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((I,y)=>(y instanceof e&&(I[y.str]=(I[y.str]||0)+1),I),{})}}r._Code=t,r.nil=new t("");function T(f,...p){const I=[f[0]];let y=0;for(;y<p.length;)i(I,p[y]),I.push(f[++y]);return new t(I)}r._=T;const h=new t("+");function w(f,...p){const I=[F(f[0])];let y=0;for(;y<p.length;)I.push(h),i(I,p[y]),I.push(h,F(f[++y]));return E(I),new t(I)}r.str=w;function i(f,p){p instanceof t?f.push(...p._items):p instanceof e?f.push(p):f.push(A(p))}r.addCodeArg=i;function E(f){let p=1;for(;p<f.length-1;){if(f[p]===h){const I=c(f[p-1],f[p+1]);if(I!==void 0){f.splice(p-1,3,I);continue}f[p++]="+"}p++}}function c(f,p){if(p==='""')return f;if(f==='""')return p;if(typeof f=="string")return p instanceof e||f[f.length-1]!=='"'?void 0:typeof p!="string"?`${f.slice(0,-1)}${p}"`:p[0]==='"'?f.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(f instanceof e))return`"${f}${p.slice(1)}`}function l(f,p){return p.emptyStr()?f:f.emptyStr()?p:w`${f}${p}`}r.strConcat=l;function A(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:F(Array.isArray(f)?f.join(","):f)}function S(f){return new t(F(f))}r.stringify=S;function F(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.safeStringify=F;function U(f){return typeof f=="string"&&r.IDENTIFIER.test(f)?new t(`.${f}`):T`[${f}]`}r.getProperty=U;function B(f){if(typeof f=="string"&&r.IDENTIFIER.test(f))return new t(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}r.getEsmExportName=B;function V(f){return new t(f.toString())}r.regexpCode=V},51172:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const e=a(34310),t=a(91176);var T=a(34310);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return T._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return T.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return T.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return T.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return T.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return T.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return T.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return T.Name}});var h=a(91176);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return h.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return h.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return h.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return h.varKinds}}),r.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class w{optimizeNodes(){return this}optimizeNames(d,k){return this}}class i extends w{constructor(d,k,J){super(),this.varKind=d,this.name=k,this.rhs=J}render({es5:d,_n:k}){const J=d?t.varKinds.var:this.varKind,Le=this.rhs===void 0?"":` = ${this.rhs}`;return`${J} ${this.name}${Le};`+k}optimizeNames(d,k){if(!!d[this.name.str])return this.rhs&&(this.rhs=De(this.rhs,d,k)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class E extends w{constructor(d,k,J){super(),this.lhs=d,this.rhs=k,this.sideEffects=J}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,k){if(!(this.lhs instanceof e.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=De(this.rhs,d,k),this}get names(){const d=this.lhs instanceof e.Name?{}:{...this.lhs.names};return He(d,this.rhs)}}class c extends E{constructor(d,k,J,Le){super(d,J,Le),this.op=k}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class A extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class S extends w{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class F extends w{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,k){return this.code=De(this.code,d,k),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class U extends w{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((k,J)=>k+J.render(d),"")}optimizeNodes(){const{nodes:d}=this;let k=d.length;for(;k--;){const J=d[k].optimizeNodes();Array.isArray(J)?d.splice(k,1,...J):J?d[k]=J:d.splice(k,1)}return d.length>0?this:void 0}optimizeNames(d,k){const{nodes:J}=this;let Le=J.length;for(;Le--;){const Me=J[Le];Me.optimizeNames(d,k)||(et(d,Me.names),J.splice(Le,1))}return J.length>0?this:void 0}get names(){return this.nodes.reduce((d,k)=>ce(d,k.names),{})}}class B extends U{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class V extends U{}class f extends B{}f.kind="else";class p extends B{constructor(d,k){super(k),this.condition=d}render(d){let k=`if(${this.condition})`+super.render(d);return this.else&&(k+="else "+this.else.render(d)),k}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let k=this.else;if(k){const J=k.optimizeNodes();k=this.else=Array.isArray(J)?new f(J):J}if(k)return d===!1?k instanceof p?k:k.nodes:this.nodes.length?this:new p(lt(d),k instanceof p?[k]:k.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,k){var J;if(this.else=(J=this.else)===null||J===void 0?void 0:J.optimizeNames(d,k),!!(super.optimizeNames(d,k)||this.else))return this.condition=De(this.condition,d,k),this}get names(){const d=super.names;return He(d,this.condition),this.else&&ce(d,this.else.names),d}}p.kind="if";class I extends B{}I.kind="for";class y extends I{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iteration=De(this.iteration,d,k),this}get names(){return ce(super.names,this.iteration.names)}}class C extends I{constructor(d,k,J,Le){super(),this.varKind=d,this.name=k,this.from=J,this.to=Le}render(d){const k=d.es5?t.varKinds.var:this.varKind,{name:J,from:Le,to:Me}=this;return`for(${k} ${J}=${Le}; ${J}<${Me}; ${J}++)`+super.render(d)}get names(){const d=He(super.names,this.from);return He(d,this.to)}}class N extends I{constructor(d,k,J,Le){super(),this.loop=d,this.varKind=k,this.name=J,this.iterable=Le}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iterable=De(this.iterable,d,k),this}get names(){return ce(super.names,this.iterable.names)}}class R extends B{constructor(d,k,J){super(),this.name=d,this.args=k,this.async=J}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}R.kind="func";class b extends U{render(d){return"return "+super.render(d)}}b.kind="return";class x extends B{render(d){let k="try"+super.render(d);return this.catch&&(k+=this.catch.render(d)),this.finally&&(k+=this.finally.render(d)),k}optimizeNodes(){var d,k;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(d,k){var J,Le;return super.optimizeNames(d,k),(J=this.catch)===null||J===void 0||J.optimizeNames(d,k),(Le=this.finally)===null||Le===void 0||Le.optimizeNames(d,k),this}get names(){const d=super.names;return this.catch&&ce(d,this.catch.names),this.finally&&ce(d,this.finally.names),d}}class H extends B{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}H.kind="catch";class te extends B{render(d){return"finally"+super.render(d)}}te.kind="finally";class oe{constructor(d,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=d,this._scope=new t.Scope({parent:d}),this._nodes=[new V]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,k){const J=this._extScope.value(d,k);return(this._values[J.prefix]||(this._values[J.prefix]=new Set)).add(J),J}getScopeValue(d,k){return this._extScope.getValue(d,k)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,k,J,Le){const Me=this._scope.toName(k);return J!==void 0&&Le&&(this._constants[Me.str]=J),this._leafNode(new i(d,Me,J)),Me}const(d,k,J){return this._def(t.varKinds.const,d,k,J)}let(d,k,J){return this._def(t.varKinds.let,d,k,J)}var(d,k,J){return this._def(t.varKinds.var,d,k,J)}assign(d,k,J){return this._leafNode(new E(d,k,J))}add(d,k){return this._leafNode(new c(d,r.operators.ADD,k))}code(d){return typeof d=="function"?d():d!==e.nil&&this._leafNode(new F(d)),this}object(...d){const k=["{"];for(const[J,Le]of d)k.length>1&&k.push(","),k.push(J),(J!==Le||this.opts.es5)&&(k.push(":"),(0,e.addCodeArg)(k,Le));return k.push("}"),new e._Code(k)}if(d,k,J){if(this._blockNode(new p(d)),k&&J)this.code(k).else().code(J).endIf();else if(k)this.code(k).endIf();else if(J)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new p(d))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(p,f)}_for(d,k){return this._blockNode(d),k&&this.code(k).endFor(),this}for(d,k){return this._for(new y(d),k)}forRange(d,k,J,Le,Me=this.opts.es5?t.varKinds.var:t.varKinds.let){const gt=this._scope.toName(d);return this._for(new C(Me,gt,k,J),()=>Le(gt))}forOf(d,k,J,Le=t.varKinds.const){const Me=this._scope.toName(d);if(this.opts.es5){const gt=k instanceof e.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,e._)`${gt}.length`,nt=>{this.var(Me,(0,e._)`${gt}[${nt}]`),J(Me)})}return this._for(new N("of",Le,Me,k),()=>J(Me))}forIn(d,k,J,Le=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,e._)`Object.keys(${k})`,J);const Me=this._scope.toName(d);return this._for(new N("in",Le,Me,k),()=>J(Me))}endFor(){return this._endBlockNode(I)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new A(d))}return(d){const k=new b;if(this._blockNode(k),this.code(d),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,k,J){if(!k&&!J)throw new Error('CodeGen: "try" without "catch" and "finally"');const Le=new x;if(this._blockNode(Le),this.code(d),k){const Me=this.name("e");this._currNode=Le.catch=new H(Me),k(Me)}return J&&(this._currNode=Le.finally=new te,this.code(J)),this._endBlockNode(H,te)}throw(d){return this._leafNode(new S(d))}block(d,k){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(k),this}endBlock(d){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const J=this._nodes.length-k;if(J<0||d!==void 0&&J!==d)throw new Error(`CodeGen: wrong number of nodes: ${J} vs ${d} expected`);return this._nodes.length=k,this}func(d,k=e.nil,J,Le){return this._blockNode(new R(d,k,J)),Le&&this.code(Le).endFunc(),this}endFunc(){return this._endBlockNode(R)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,k){const J=this._currNode;if(J instanceof d||k&&J instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${d.kind}/${k.kind}`:d.kind}"`)}_elseNode(d){const k=this._currNode;if(!(k instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const k=this._nodes;k[k.length-1]=d}}r.CodeGen=oe;function ce(W,d){for(const k in d)W[k]=(W[k]||0)+(d[k]||0);return W}function He(W,d){return d instanceof e._CodeOrName?ce(W,d.names):W}function De(W,d,k){if(W instanceof e.Name)return J(W);if(!Le(W))return W;return new e._Code(W._items.reduce((Me,gt)=>(gt instanceof e.Name&&(gt=J(gt)),gt instanceof e._Code?Me.push(...gt._items):Me.push(gt),Me),[]));function J(Me){const gt=k[Me.str];return gt===void 0||d[Me.str]!==1?Me:(delete d[Me.str],gt)}function Le(Me){return Me instanceof e._Code&&Me._items.some(gt=>gt instanceof e.Name&&d[gt.str]===1&&k[gt.str]!==void 0)}}function et(W,d){for(const k in d)W[k]=(W[k]||0)-(d[k]||0)}function lt(W){return typeof W=="boolean"||typeof W=="number"||W===null?!W:(0,e._)`!${re(W)}`}r.not=lt;const Et=j(r.operators.AND);function Lt(...W){return W.reduce(Et)}r.and=Lt;const dt=j(r.operators.OR);function he(...W){return W.reduce(dt)}r.or=he;function j(W){return(d,k)=>d===e.nil?k:k===e.nil?d:(0,e._)`${re(d)} ${W} ${re(k)}`}function re(W){return W instanceof e.Name?W:(0,e._)`(${W})`}},91176:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const e=a(34310);class t extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var T;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(T=r.UsedValueState||(r.UsedValueState={})),r.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class h{constructor({prefixes:l,parent:A}={}){this._names={},this._prefixes=l,this._parent=A}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const A=this._names[l]||this._nameGroup(l);return`${l}${A.index++}`}_nameGroup(l){var A,S;if(((S=(A=this._parent)===null||A===void 0?void 0:A._prefixes)===null||S===void 0?void 0:S.has(l))||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}r.Scope=h;class w extends e.Name{constructor(l,A){super(A),this.prefix=l}setValue(l,{property:A,itemIndex:S}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(A)}[${S}]`}}r.ValueScopeName=w;const i=(0,e._)`\n`;class E extends h{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:e.nil}}get(){return this._scope}name(l){return new w(l,this._newName(l))}value(l,A){var S;if(A.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const F=this.toName(l),{prefix:U}=F,B=(S=A.key)!==null&&S!==void 0?S:A.ref;let V=this._values[U];if(V){const I=V.get(B);if(I)return I}else V=this._values[U]=new Map;V.set(B,F);const f=this._scope[U]||(this._scope[U]=[]),p=f.length;return f[p]=A.ref,F.setValue(A,{property:U,itemIndex:p}),F}getValue(l,A){const S=this._values[l];if(!!S)return S.get(A)}scopeRefs(l,A=this._values){return this._reduceValues(A,S=>{if(S.scopePath===void 0)throw new Error(`CodeGen: name "${S}" has no value`);return(0,e._)`${l}${S.scopePath}`})}scopeCode(l=this._values,A,S){return this._reduceValues(l,F=>{if(F.value===void 0)throw new Error(`CodeGen: name "${F}" has no value`);return F.value.code},A,S)}_reduceValues(l,A,S={},F){let U=e.nil;for(const B in l){const V=l[B];if(!V)continue;const f=S[B]=S[B]||new Map;V.forEach(p=>{if(f.has(p))return;f.set(p,T.Started);let I=A(p);if(I){const y=this.opts.es5?r.varKinds.var:r.varKinds.const;U=(0,e._)`${U}${y} ${p} = ${I};${this.opts._n}`}else if(I=F==null?void 0:F(p))U=(0,e._)`${U}${I}${this.opts._n}`;else throw new t(p);f.set(p,T.Completed)})}return U}}r.ValueScope=E},36891:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const e=a(51172),t=a(1048),T=a(57277);r.keywordError={message:({keyword:f})=>(0,e.str)`must pass "${f}" keyword validation`},r.keyword$DataError={message:({keyword:f,schemaType:p})=>p?(0,e.str)`"${f}" keyword must be ${p} ($data)`:(0,e.str)`"${f}" keyword is invalid ($data)`};function h(f,p=r.keywordError,I,y){const{it:C}=f,{gen:N,compositeRule:R,allErrors:b}=C,x=S(f,p,I);(y!=null?y:R||b)?c(N,x):l(C,(0,e._)`[${x}]`)}r.reportError=h;function w(f,p=r.keywordError,I){const{it:y}=f,{gen:C,compositeRule:N,allErrors:R}=y,b=S(f,p,I);c(C,b),N||R||l(y,T.default.vErrors)}r.reportExtraError=w;function i(f,p){f.assign(T.default.errors,p),f.if((0,e._)`${T.default.vErrors} !== null`,()=>f.if(p,()=>f.assign((0,e._)`${T.default.vErrors}.length`,p),()=>f.assign(T.default.vErrors,null)))}r.resetErrorsCount=i;function E({gen:f,keyword:p,schemaValue:I,data:y,errsCount:C,it:N}){if(C===void 0)throw new Error("ajv implementation error");const R=f.name("err");f.forRange("i",C,T.default.errors,b=>{f.const(R,(0,e._)`${T.default.vErrors}[${b}]`),f.if((0,e._)`${R}.instancePath === undefined`,()=>f.assign((0,e._)`${R}.instancePath`,(0,e.strConcat)(T.default.instancePath,N.errorPath))),f.assign((0,e._)`${R}.schemaPath`,(0,e.str)`${N.errSchemaPath}/${p}`),N.opts.verbose&&(f.assign((0,e._)`${R}.schema`,I),f.assign((0,e._)`${R}.data`,y))})}r.extendErrors=E;function c(f,p){const I=f.const("err",p);f.if((0,e._)`${T.default.vErrors} === null`,()=>f.assign(T.default.vErrors,(0,e._)`[${I}]`),(0,e._)`${T.default.vErrors}.push(${I})`),f.code((0,e._)`${T.default.errors}++`)}function l(f,p){const{gen:I,validateName:y,schemaEnv:C}=f;C.$async?I.throw((0,e._)`new ${f.ValidationError}(${p})`):(I.assign((0,e._)`${y}.errors`,p),I.return(!1))}const A={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function S(f,p,I){const{createErrors:y}=f.it;return y===!1?(0,e._)`{}`:F(f,p,I)}function F(f,p,I={}){const{gen:y,it:C}=f,N=[U(C,I),B(f,I)];return V(f,p,N),y.object(...N)}function U({errorPath:f},{instancePath:p}){const I=p?(0,e.str)`${f}${(0,t.getErrorPath)(p,t.Type.Str)}`:f;return[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,I)]}function B({keyword:f,it:{errSchemaPath:p}},{schemaPath:I,parentSchema:y}){let C=y?p:(0,e.str)`${p}/${f}`;return I&&(C=(0,e.str)`${C}${(0,t.getErrorPath)(I,t.Type.Str)}`),[A.schemaPath,C]}function V(f,{params:p,message:I},y){const{keyword:C,data:N,schemaValue:R,it:b}=f,{opts:x,propertyName:H,topSchemaRef:te,schemaPath:oe}=b;y.push([A.keyword,C],[A.params,typeof p=="function"?p(f):p||(0,e._)`{}`]),x.messages&&y.push([A.message,typeof I=="function"?I(f):I]),x.verbose&&y.push([A.schema,R],[A.parentSchema,(0,e._)`${te}${oe}`],[T.default.data,N]),H&&y.push([A.propertyName,H])}},27330:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const e=a(51172),t=a(56569),T=a(57277),h=a(41819),w=a(1048),i=a(89352);class E{constructor(I){var y;this.refs={},this.dynamicAnchors={};let C;typeof I.schema=="object"&&(C=I.schema),this.schema=I.schema,this.schemaId=I.schemaId,this.root=I.root||this,this.baseId=(y=I.baseId)!==null&&y!==void 0?y:(0,h.normalizeId)(C==null?void 0:C[I.schemaId||"$id"]),this.schemaPath=I.schemaPath,this.localRefs=I.localRefs,this.meta=I.meta,this.$async=C==null?void 0:C.$async,this.refs={}}}r.SchemaEnv=E;function c(p){const I=S.call(this,p);if(I)return I;const y=(0,h.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:C,lines:N}=this.opts.code,{ownProperties:R}=this.opts,b=new e.CodeGen(this.scope,{es5:C,lines:N,ownProperties:R});let x;p.$async&&(x=b.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const H=b.scopeName("validate");p.validateName=H;const te={gen:b,allErrors:this.opts.allErrors,data:T.default.data,parentData:T.default.parentData,parentDataProperty:T.default.parentDataProperty,dataNames:[T.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,e.stringify)(p.schema)}:{ref:p.schema}),validateName:H,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:e.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let oe;try{this._compilations.add(p),(0,i.validateFunctionCode)(te),b.optimize(this.opts.code.optimize);const ce=b.toString();oe=`${b.scopeRefs(T.default.scope)}return ${ce}`,this.opts.code.process&&(oe=this.opts.code.process(oe,p));const De=new Function(`${T.default.self}`,`${T.default.scope}`,oe)(this,this.scope.get());if(this.scope.value(H,{ref:De}),De.errors=null,De.schema=p.schema,De.schemaEnv=p,p.$async&&(De.$async=!0),this.opts.code.source===!0&&(De.source={validateName:H,validateCode:ce,scopeValues:b._values}),this.opts.unevaluated){const{props:et,items:lt}=te;De.evaluated={props:et instanceof e.Name?void 0:et,items:lt instanceof e.Name?void 0:lt,dynamicProps:et instanceof e.Name,dynamicItems:lt instanceof e.Name},De.source&&(De.source.evaluated=(0,e.stringify)(De.evaluated))}return p.validate=De,p}catch(ce){throw delete p.validate,delete p.validateName,oe&&this.logger.error("Error compiling schema, function code:",oe),ce}finally{this._compilations.delete(p)}}r.compileSchema=c;function l(p,I,y){var C;y=(0,h.resolveUrl)(this.opts.uriResolver,I,y);const N=p.refs[y];if(N)return N;let R=U.call(this,p,y);if(R===void 0){const b=(C=p.localRefs)===null||C===void 0?void 0:C[y],{schemaId:x}=this.opts;b&&(R=new E({schema:b,schemaId:x,root:p,baseId:I}))}if(R!==void 0)return p.refs[y]=A.call(this,R)}r.resolveRef=l;function A(p){return(0,h.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:c.call(this,p)}function S(p){for(const I of this._compilations)if(F(I,p))return I}r.getCompilingSchema=S;function F(p,I){return p.schema===I.schema&&p.root===I.root&&p.baseId===I.baseId}function U(p,I){let y;for(;typeof(y=this.refs[I])=="string";)I=y;return y||this.schemas[I]||B.call(this,p,I)}function B(p,I){const y=this.opts.uriResolver.parse(I),C=(0,h._getFullPath)(this.opts.uriResolver,y);let N=(0,h.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&C===N)return f.call(this,y,p);const R=(0,h.normalizeId)(C),b=this.refs[R]||this.schemas[R];if(typeof b=="string"){const x=B.call(this,p,b);return typeof(x==null?void 0:x.schema)!="object"?void 0:f.call(this,y,x)}if(typeof(b==null?void 0:b.schema)=="object"){if(b.validate||c.call(this,b),R===(0,h.normalizeId)(I)){const{schema:x}=b,{schemaId:H}=this.opts,te=x[H];return te&&(N=(0,h.resolveUrl)(this.opts.uriResolver,N,te)),new E({schema:x,schemaId:H,root:p,baseId:N})}return f.call(this,y,b)}}r.resolveSchema=B;const V=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function f(p,{baseId:I,schema:y,root:C}){var N;if(((N=p.fragment)===null||N===void 0?void 0:N[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const H=y[(0,w.unescapeFragment)(x)];if(H===void 0)return;y=H;const te=typeof y=="object"&&y[this.opts.schemaId];!V.has(x)&&te&&(I=(0,h.resolveUrl)(this.opts.uriResolver,I,te))}let R;if(typeof y!="boolean"&&y.$ref&&!(0,w.schemaHasRulesButRef)(y,this.RULES)){const x=(0,h.resolveUrl)(this.opts.uriResolver,I,y.$ref);R=B.call(this,C,x)}const{schemaId:b}=this.opts;if(R=R||new E({schema:y,schemaId:b,root:C,baseId:I}),R.schema!==R.root.schema)return R}},57277:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};r.default=t},84928:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(41819);class t extends Error{constructor(h,w,i,E){super(E||`can't resolve reference ${i} from id ${w}`),this.missingRef=(0,e.resolveUrl)(h,w,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(h,this.missingRef))}}r.default=t},41819:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const e=a(1048),t=a(69378),T=a(19522),h=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function w(f,p=!0){return typeof f=="boolean"?!0:p===!0?!E(f):p?c(f)<=p:!1}r.inlineRef=w;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function E(f){for(const p in f){if(i.has(p))return!0;const I=f[p];if(Array.isArray(I)&&I.some(E)||typeof I=="object"&&E(I))return!0}return!1}function c(f){let p=0;for(const I in f){if(I==="$ref")return 1/0;if(p++,!h.has(I)&&(typeof f[I]=="object"&&(0,e.eachItem)(f[I],y=>p+=c(y)),p===1/0))return 1/0}return p}function l(f,p="",I){I!==!1&&(p=F(p));const y=f.parse(p);return A(f,y)}r.getFullPath=l;function A(f,p){return f.serialize(p).split("#")[0]+"#"}r._getFullPath=A;const S=/#\/?$/;function F(f){return f?f.replace(S,""):""}r.normalizeId=F;function U(f,p,I){return I=F(I),f.resolve(p,I)}r.resolveUrl=U;const B=/^[a-z_][-a-z0-9._]*$/i;function V(f,p){if(typeof f=="boolean")return{};const{schemaId:I,uriResolver:y}=this.opts,C=F(f[I]||p),N={"":C},R=l(y,C,!1),b={},x=new Set;return T(f,{allKeys:!0},(oe,ce,He,De)=>{if(De===void 0)return;const et=R+ce;let lt=N[De];typeof oe[I]=="string"&&(lt=Et.call(this,oe[I])),Lt.call(this,oe.$anchor),Lt.call(this,oe.$dynamicAnchor),N[ce]=lt;function Et(dt){const he=this.opts.uriResolver.resolve;if(dt=F(lt?he(lt,dt):dt),x.has(dt))throw te(dt);x.add(dt);let j=this.refs[dt];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?H(oe,j.schema,dt):dt!==F(et)&&(dt[0]==="#"?(H(oe,b[dt],dt),b[dt]=oe):this.refs[dt]=et),dt}function Lt(dt){if(typeof dt=="string"){if(!B.test(dt))throw new Error(`invalid anchor "${dt}"`);Et.call(this,`#${dt}`)}}}),b;function H(oe,ce,He){if(ce!==void 0&&!t(oe,ce))throw te(He)}function te(oe){return new Error(`reference "${oe}" resolves to more than one schema`)}}r.getSchemaRefs=V},24104:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const a=["string","number","integer","boolean","null","object","array"],e=new Set(a);function t(h){return typeof h=="string"&&e.has(h)}r.isJSONType=t;function T(){const h={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...h,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},h.number,h.string,h.array,h.object],post:{rules:[]},all:{},keywords:{}}}r.getRules=T},1048:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const e=a(51172),t=a(34310);function T(R){const b={};for(const x of R)b[x]=!0;return b}r.toHash=T;function h(R,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(w(R,b),!i(b,R.self.RULES.all))}r.alwaysValidSchema=h;function w(R,b=R.schema){const{opts:x,self:H}=R;if(!x.strictSchema||typeof b=="boolean")return;const te=H.RULES.keywords;for(const oe in b)te[oe]||N(R,`unknown keyword: "${oe}"`)}r.checkUnknownRules=w;function i(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(b[x])return!0;return!1}r.schemaHasRules=i;function E(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(x!=="$ref"&&b.all[x])return!0;return!1}r.schemaHasRulesButRef=E;function c({topSchemaRef:R,schemaPath:b},x,H,te){if(!te){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,e._)`${x}`}return(0,e._)`${R}${b}${(0,e.getProperty)(H)}`}r.schemaRefOrVal=c;function l(R){return F(decodeURIComponent(R))}r.unescapeFragment=l;function A(R){return encodeURIComponent(S(R))}r.escapeFragment=A;function S(R){return typeof R=="number"?`${R}`:R.replace(/~/g,"~0").replace(/\//g,"~1")}r.escapeJsonPointer=S;function F(R){return R.replace(/~1/g,"/").replace(/~0/g,"~")}r.unescapeJsonPointer=F;function U(R,b){if(Array.isArray(R))for(const x of R)b(x);else b(R)}r.eachItem=U;function B({mergeNames:R,mergeToName:b,mergeValues:x,resultToName:H}){return(te,oe,ce,He)=>{const De=ce===void 0?oe:ce instanceof e.Name?(oe instanceof e.Name?R(te,oe,ce):b(te,oe,ce),ce):oe instanceof e.Name?(b(te,ce,oe),oe):x(oe,ce);return He===e.Name&&!(De instanceof e.Name)?H(te,De):De}}r.mergeEvaluated={props:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>{R.if((0,e._)`${b} === true`,()=>R.assign(x,!0),()=>R.assign(x,(0,e._)`${x} || {}`).code((0,e._)`Object.assign(${x}, ${b})`))}),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>{b===!0?R.assign(x,!0):(R.assign(x,(0,e._)`${x} || {}`),f(R,x,b))}),mergeValues:(R,b)=>R===!0?!0:{...R,...b},resultToName:V}),items:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>R.assign(x,(0,e._)`${b} === true ? true : ${x} > ${b} ? ${x} : ${b}`)),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>R.assign(x,b===!0?!0:(0,e._)`${x} > ${b} ? ${x} : ${b}`)),mergeValues:(R,b)=>R===!0?!0:Math.max(R,b),resultToName:(R,b)=>R.var("items",b)})};function V(R,b){if(b===!0)return R.var("props",!0);const x=R.var("props",(0,e._)`{}`);return b!==void 0&&f(R,x,b),x}r.evaluatedPropsToName=V;function f(R,b,x){Object.keys(x).forEach(H=>R.assign((0,e._)`${b}${(0,e.getProperty)(H)}`,!0))}r.setEvaluated=f;const p={};function I(R,b){return R.scopeValue("func",{ref:b,code:p[b.code]||(p[b.code]=new t._Code(b.code))})}r.useFunc=I;var y;(function(R){R[R.Num=0]="Num",R[R.Str=1]="Str"})(y=r.Type||(r.Type={}));function C(R,b,x){if(R instanceof e.Name){const H=b===y.Num;return x?H?(0,e._)`"[" + ${R} + "]"`:(0,e._)`"['" + ${R} + "']"`:H?(0,e._)`"/" + ${R}`:(0,e._)`"/" + ${R}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,e.getProperty)(R).toString():"/"+S(R)}r.getErrorPath=C;function N(R,b,x=R.opts.strictSchema){if(!!x){if(b=`strict mode: ${b}`,x===!0)throw new Error(b);R.self.logger.warn(b)}}r.checkStrictMode=N},37241:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0;function a({schema:T,self:h},w){const i=h.RULES.types[w];return i&&i!==!0&&e(T,i)}r.schemaHasRulesForType=a;function e(T,h){return h.rules.some(w=>t(T,w))}r.shouldUseGroup=e;function t(T,h){var w;return T[h.keyword]!==void 0||((w=h.definition.implements)===null||w===void 0?void 0:w.some(i=>T[i]!==void 0))}r.shouldUseRule=t},73821:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const e=a(36891),t=a(51172),T=a(57277),h={message:"boolean schema is false"};function w(c){const{gen:l,schema:A,validateName:S}=c;A===!1?E(c,!1):typeof A=="object"&&A.$async===!0?l.return(T.default.data):(l.assign((0,t._)`${S}.errors`,null),l.return(!0))}r.topBoolOrEmptySchema=w;function i(c,l){const{gen:A,schema:S}=c;S===!1?(A.var(l,!1),E(c)):A.var(l,!0)}r.boolOrEmptySchema=i;function E(c,l){const{gen:A,data:S}=c,F={gen:A,keyword:"false schema",data:S,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(F,h,void 0,l)}},64116:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const e=a(24104),t=a(37241),T=a(36891),h=a(51172),w=a(1048);var i;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(i=r.DataType||(r.DataType={}));function E(y){const C=c(y.type);if(C.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&C.push("null")}return C}r.getSchemaTypes=E;function c(y){const C=Array.isArray(y)?y:y?[y]:[];if(C.every(e.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}r.getJSONTypes=c;function l(y,C){const{gen:N,data:R,opts:b}=y,x=S(C,b.coerceTypes),H=C.length>0&&!(x.length===0&&C.length===1&&(0,t.schemaHasRulesForType)(y,C[0]));if(H){const te=V(C,R,b.strictNumbers,i.Wrong);N.if(te,()=>{x.length?F(y,C,x):p(y)})}return H}r.coerceAndCheckDataType=l;const A=new Set(["string","number","integer","boolean","null"]);function S(y,C){return C?y.filter(N=>A.has(N)||C==="array"&&N==="array"):[]}function F(y,C,N){const{gen:R,data:b,opts:x}=y,H=R.let("dataType",(0,h._)`typeof ${b}`),te=R.let("coerced",(0,h._)`undefined`);x.coerceTypes==="array"&&R.if((0,h._)`${H} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>R.assign(b,(0,h._)`${b}[0]`).assign(H,(0,h._)`typeof ${b}`).if(V(C,b,x.strictNumbers),()=>R.assign(te,b))),R.if((0,h._)`${te} !== undefined`);for(const ce of N)(A.has(ce)||ce==="array"&&x.coerceTypes==="array")&&oe(ce);R.else(),p(y),R.endIf(),R.if((0,h._)`${te} !== undefined`,()=>{R.assign(b,te),U(y,te)});function oe(ce){switch(ce){case"string":R.elseIf((0,h._)`${H} == "number" || ${H} == "boolean"`).assign(te,(0,h._)`"" + ${b}`).elseIf((0,h._)`${b} === null`).assign(te,(0,h._)`""`);return;case"number":R.elseIf((0,h._)`${H} == "boolean" || ${b} === null
              || (${H} == "string" && ${b} && ${b} == +${b})`).assign(te,(0,h._)`+${b}`);return;case"integer":R.elseIf((0,h._)`${H} === "boolean" || ${b} === null
              || (${H} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(te,(0,h._)`+${b}`);return;case"boolean":R.elseIf((0,h._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(te,!1).elseIf((0,h._)`${b} === "true" || ${b} === 1`).assign(te,!0);return;case"null":R.elseIf((0,h._)`${b} === "" || ${b} === 0 || ${b} === false`),R.assign(te,null);return;case"array":R.elseIf((0,h._)`${H} === "string" || ${H} === "number"
              || ${H} === "boolean" || ${b} === null`).assign(te,(0,h._)`[${b}]`)}}}function U({gen:y,parentData:C,parentDataProperty:N},R){y.if((0,h._)`${C} !== undefined`,()=>y.assign((0,h._)`${C}[${N}]`,R))}function B(y,C,N,R=i.Correct){const b=R===i.Correct?h.operators.EQ:h.operators.NEQ;let x;switch(y){case"null":return(0,h._)`${C} ${b} null`;case"array":x=(0,h._)`Array.isArray(${C})`;break;case"object":x=(0,h._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":x=H((0,h._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":x=H();break;default:return(0,h._)`typeof ${C} ${b} ${y}`}return R===i.Correct?x:(0,h.not)(x);function H(te=h.nil){return(0,h.and)((0,h._)`typeof ${C} == "number"`,te,N?(0,h._)`isFinite(${C})`:h.nil)}}r.checkDataType=B;function V(y,C,N,R){if(y.length===1)return B(y[0],C,N,R);let b;const x=(0,w.toHash)(y);if(x.array&&x.object){const H=(0,h._)`typeof ${C} != "object"`;b=x.null?H:(0,h._)`!${C} || ${H}`,delete x.null,delete x.array,delete x.object}else b=h.nil;x.number&&delete x.integer;for(const H in x)b=(0,h.and)(b,B(H,C,N,R));return b}r.checkDataTypes=V;const f={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:C})=>typeof y=="string"?(0,h._)`{type: ${y}}`:(0,h._)`{type: ${C}}`};function p(y){const C=I(y);(0,T.reportError)(C,f)}r.reportTypeError=p;function I(y){const{gen:C,data:N,schema:R}=y,b=(0,w.schemaRefOrVal)(y,R,"type");return{gen:C,keyword:"type",data:N,schema:R.type,schemaCode:b,schemaValue:b,parentSchema:R,params:{},it:y}}},75793:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const e=a(51172),t=a(1048);function T(w,i){const{properties:E,items:c}=w.schema;if(i==="object"&&E)for(const l in E)h(w,l,E[l].default);else i==="array"&&Array.isArray(c)&&c.forEach((l,A)=>h(w,A,l.default))}r.assignDefaults=T;function h(w,i,E){const{gen:c,compositeRule:l,data:A,opts:S}=w;if(E===void 0)return;const F=(0,e._)`${A}${(0,e.getProperty)(i)}`;if(l){(0,t.checkStrictMode)(w,`default is ignored for: ${F}`);return}let U=(0,e._)`${F} === undefined`;S.useDefaults==="empty"&&(U=(0,e._)`${U} || ${F} === null || ${F} === ""`),c.if(U,(0,e._)`${F} = ${(0,e.stringify)(E)}`)}},89352:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const e=a(73821),t=a(64116),T=a(37241),h=a(64116),w=a(75793),i=a(32742),E=a(66849),c=a(51172),l=a(57277),A=a(41819),S=a(1048),F=a(36891);function U(M){if(R(M)&&(x(M),N(M))){p(M);return}B(M,()=>(0,e.topBoolOrEmptySchema)(M))}r.validateFunctionCode=U;function B({gen:M,validateName:Z,schema:ie,schemaEnv:we,opts:je},Xe){je.code.es5?M.func(Z,(0,c._)`${l.default.data}, ${l.default.valCxt}`,we.$async,()=>{M.code((0,c._)`"use strict"; ${y(ie,je)}`),f(M,je),M.code(Xe)}):M.func(Z,(0,c._)`${l.default.data}, ${V(je)}`,we.$async,()=>M.code(y(ie,je)).code(Xe))}function V(M){return(0,c._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${M.dynamicRef?(0,c._)`, ${l.default.dynamicAnchors}={}`:c.nil}}={}`}function f(M,Z){M.if(l.default.valCxt,()=>{M.var(l.default.instancePath,(0,c._)`${l.default.valCxt}.${l.default.instancePath}`),M.var(l.default.parentData,(0,c._)`${l.default.valCxt}.${l.default.parentData}`),M.var(l.default.parentDataProperty,(0,c._)`${l.default.valCxt}.${l.default.parentDataProperty}`),M.var(l.default.rootData,(0,c._)`${l.default.valCxt}.${l.default.rootData}`),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{M.var(l.default.instancePath,(0,c._)`""`),M.var(l.default.parentData,(0,c._)`undefined`),M.var(l.default.parentDataProperty,(0,c._)`undefined`),M.var(l.default.rootData,l.default.data),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`{}`)})}function p(M){const{schema:Z,opts:ie,gen:we}=M;B(M,()=>{ie.$comment&&Z.$comment&&De(M),oe(M),we.let(l.default.vErrors,null),we.let(l.default.errors,0),ie.unevaluated&&I(M),H(M),et(M)})}function I(M){const{gen:Z,validateName:ie}=M;M.evaluated=Z.const("evaluated",(0,c._)`${ie}.evaluated`),Z.if((0,c._)`${M.evaluated}.dynamicProps`,()=>Z.assign((0,c._)`${M.evaluated}.props`,(0,c._)`undefined`)),Z.if((0,c._)`${M.evaluated}.dynamicItems`,()=>Z.assign((0,c._)`${M.evaluated}.items`,(0,c._)`undefined`))}function y(M,Z){const ie=typeof M=="object"&&M[Z.schemaId];return ie&&(Z.code.source||Z.code.process)?(0,c._)`/*# sourceURL=${ie} */`:c.nil}function C(M,Z){if(R(M)&&(x(M),N(M))){b(M,Z);return}(0,e.boolOrEmptySchema)(M,Z)}function N({schema:M,self:Z}){if(typeof M=="boolean")return!M;for(const ie in M)if(Z.RULES.all[ie])return!0;return!1}function R(M){return typeof M.schema!="boolean"}function b(M,Z){const{schema:ie,gen:we,opts:je}=M;je.$comment&&ie.$comment&&De(M),ce(M),He(M);const Xe=we.const("_errs",l.default.errors);H(M,Xe),we.var(Z,(0,c._)`${Xe} === ${l.default.errors}`)}function x(M){(0,S.checkUnknownRules)(M),te(M)}function H(M,Z){if(M.opts.jtd)return Et(M,[],!1,Z);const ie=(0,t.getSchemaTypes)(M.schema),we=(0,t.coerceAndCheckDataType)(M,ie);Et(M,ie,!we,Z)}function te(M){const{schema:Z,errSchemaPath:ie,opts:we,self:je}=M;Z.$ref&&we.ignoreKeywordsWithRef&&(0,S.schemaHasRulesButRef)(Z,je.RULES)&&je.logger.warn(`$ref: keywords ignored in schema at path "${ie}"`)}function oe(M){const{schema:Z,opts:ie}=M;Z.default!==void 0&&ie.useDefaults&&ie.strictSchema&&(0,S.checkStrictMode)(M,"default is ignored in the schema root")}function ce(M){const Z=M.schema[M.opts.schemaId];Z&&(M.baseId=(0,A.resolveUrl)(M.opts.uriResolver,M.baseId,Z))}function He(M){if(M.schema.$async&&!M.schemaEnv.$async)throw new Error("async schema in sync schema")}function De({gen:M,schemaEnv:Z,schema:ie,errSchemaPath:we,opts:je}){const Xe=ie.$comment;if(je.$comment===!0)M.code((0,c._)`${l.default.self}.logger.log(${Xe})`);else if(typeof je.$comment=="function"){const Mt=(0,c.str)`${we}/$comment`,Ut=M.scopeValue("root",{ref:Z.root});M.code((0,c._)`${l.default.self}.opts.$comment(${Xe}, ${Mt}, ${Ut}.schema)`)}}function et(M){const{gen:Z,schemaEnv:ie,validateName:we,ValidationError:je,opts:Xe}=M;ie.$async?Z.if((0,c._)`${l.default.errors} === 0`,()=>Z.return(l.default.data),()=>Z.throw((0,c._)`new ${je}(${l.default.vErrors})`)):(Z.assign((0,c._)`${we}.errors`,l.default.vErrors),Xe.unevaluated&&lt(M),Z.return((0,c._)`${l.default.errors} === 0`))}function lt({gen:M,evaluated:Z,props:ie,items:we}){ie instanceof c.Name&&M.assign((0,c._)`${Z}.props`,ie),we instanceof c.Name&&M.assign((0,c._)`${Z}.items`,we)}function Et(M,Z,ie,we){const{gen:je,schema:Xe,data:Mt,allErrors:Ut,opts:Gt,self:zt}=M,{RULES:_t}=zt;if(Xe.$ref&&(Gt.ignoreKeywordsWithRef||!(0,S.schemaHasRulesButRef)(Xe,_t))){je.block(()=>Le(M,"$ref",_t.all.$ref.definition));return}Gt.jtd||dt(M,Z),je.block(()=>{for(const It of _t.rules)on(It);on(_t.post)});function on(It){!(0,T.shouldUseGroup)(Xe,It)||(It.type?(je.if((0,h.checkDataType)(It.type,Mt,Gt.strictNumbers)),Lt(M,It),Z.length===1&&Z[0]===It.type&&ie&&(je.else(),(0,h.reportTypeError)(M)),je.endIf()):Lt(M,It),Ut||je.if((0,c._)`${l.default.errors} === ${we||0}`))}}function Lt(M,Z){const{gen:ie,schema:we,opts:{useDefaults:je}}=M;je&&(0,w.assignDefaults)(M,Z.type),ie.block(()=>{for(const Xe of Z.rules)(0,T.shouldUseRule)(we,Xe)&&Le(M,Xe.keyword,Xe.definition,Z.type)})}function dt(M,Z){M.schemaEnv.meta||!M.opts.strictTypes||(he(M,Z),M.opts.allowUnionTypes||j(M,Z),re(M,M.dataTypes))}function he(M,Z){if(!!Z.length){if(!M.dataTypes.length){M.dataTypes=Z;return}Z.forEach(ie=>{d(M.dataTypes,ie)||k(M,`type "${ie}" not allowed by context "${M.dataTypes.join(",")}"`)}),M.dataTypes=M.dataTypes.filter(ie=>d(Z,ie))}}function j(M,Z){Z.length>1&&!(Z.length===2&&Z.includes("null"))&&k(M,"use allowUnionTypes to allow union type keyword")}function re(M,Z){const ie=M.self.RULES.all;for(const we in ie){const je=ie[we];if(typeof je=="object"&&(0,T.shouldUseRule)(M.schema,je)){const{type:Xe}=je.definition;Xe.length&&!Xe.some(Mt=>W(Z,Mt))&&k(M,`missing type "${Xe.join(",")}" for keyword "${we}"`)}}}function W(M,Z){return M.includes(Z)||Z==="number"&&M.includes("integer")}function d(M,Z){return M.includes(Z)||Z==="integer"&&M.includes("number")}function k(M,Z){Z+=` at "${M.schemaEnv.baseId+M.errSchemaPath}" (strictTypes)`,(0,S.checkStrictMode)(M,Z,M.opts.strictTypes)}class J{constructor(Z,ie,we){if((0,i.validateKeywordUsage)(Z,ie,we),this.gen=Z.gen,this.allErrors=Z.allErrors,this.keyword=we,this.data=Z.data,this.schema=Z.schema[we],this.$data=ie.$data&&Z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,S.schemaRefOrVal)(Z,this.schema,we,this.$data),this.schemaType=ie.schemaType,this.parentSchema=Z.schema,this.params={},this.it=Z,this.def=ie,this.$data)this.schemaCode=Z.gen.const("vSchema",nt(this.$data,Z));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,ie.schemaType,ie.allowUndefined))throw new Error(`${we} value must be ${JSON.stringify(ie.schemaType)}`);("code"in ie?ie.trackErrors:ie.errors!==!1)&&(this.errsCount=Z.gen.const("_errs",l.default.errors))}result(Z,ie,we){this.failResult((0,c.not)(Z),ie,we)}failResult(Z,ie,we){this.gen.if(Z),we?we():this.error(),ie?(this.gen.else(),ie(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Z,ie){this.failResult((0,c.not)(Z),void 0,ie)}fail(Z){if(Z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Z){if(!this.$data)return this.fail(Z);const{schemaCode:ie}=this;this.fail((0,c._)`${ie} !== undefined && (${(0,c.or)(this.invalid$data(),Z)})`)}error(Z,ie,we){if(ie){this.setParams(ie),this._error(Z,we),this.setParams({});return}this._error(Z,we)}_error(Z,ie){(Z?F.reportExtraError:F.reportError)(this,this.def.error,ie)}$dataError(){(0,F.reportError)(this,this.def.$dataError||F.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,F.resetErrorsCount)(this.gen,this.errsCount)}ok(Z){this.allErrors||this.gen.if(Z)}setParams(Z,ie){ie?Object.assign(this.params,Z):this.params=Z}block$data(Z,ie,we=c.nil){this.gen.block(()=>{this.check$data(Z,we),ie()})}check$data(Z=c.nil,ie=c.nil){if(!this.$data)return;const{gen:we,schemaCode:je,schemaType:Xe,def:Mt}=this;we.if((0,c.or)((0,c._)`${je} === undefined`,ie)),Z!==c.nil&&we.assign(Z,!0),(Xe.length||Mt.validateSchema)&&(we.elseIf(this.invalid$data()),this.$dataError(),Z!==c.nil&&we.assign(Z,!1)),we.else()}invalid$data(){const{gen:Z,schemaCode:ie,schemaType:we,def:je,it:Xe}=this;return(0,c.or)(Mt(),Ut());function Mt(){if(we.length){if(!(ie instanceof c.Name))throw new Error("ajv implementation error");const Gt=Array.isArray(we)?we:[we];return(0,c._)`${(0,h.checkDataTypes)(Gt,ie,Xe.opts.strictNumbers,h.DataType.Wrong)}`}return c.nil}function Ut(){if(je.validateSchema){const Gt=Z.scopeValue("validate$data",{ref:je.validateSchema});return(0,c._)`!${Gt}(${ie})`}return c.nil}}subschema(Z,ie){const we=(0,E.getSubschema)(this.it,Z);(0,E.extendSubschemaData)(we,this.it,Z),(0,E.extendSubschemaMode)(we,Z);const je={...this.it,...we,items:void 0,props:void 0};return C(je,ie),je}mergeEvaluated(Z,ie){const{it:we,gen:je}=this;!we.opts.unevaluated||(we.props!==!0&&Z.props!==void 0&&(we.props=S.mergeEvaluated.props(je,Z.props,we.props,ie)),we.items!==!0&&Z.items!==void 0&&(we.items=S.mergeEvaluated.items(je,Z.items,we.items,ie)))}mergeValidEvaluated(Z,ie){const{it:we,gen:je}=this;if(we.opts.unevaluated&&(we.props!==!0||we.items!==!0))return je.if(ie,()=>this.mergeEvaluated(Z,c.Name)),!0}}r.KeywordCxt=J;function Le(M,Z,ie,we){const je=new J(M,ie,Z);"code"in ie?ie.code(je,we):je.$data&&ie.validate?(0,i.funcKeywordCode)(je,ie):"macro"in ie?(0,i.macroKeywordCode)(je,ie):(ie.compile||ie.validate)&&(0,i.funcKeywordCode)(je,ie)}const Me=/^\/(?:[^~]|~0|~1)*$/,gt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function nt(M,{dataLevel:Z,dataNames:ie,dataPathArr:we}){let je,Xe;if(M==="")return l.default.rootData;if(M[0]==="/"){if(!Me.test(M))throw new Error(`Invalid JSON-pointer: ${M}`);je=M,Xe=l.default.rootData}else{const zt=gt.exec(M);if(!zt)throw new Error(`Invalid JSON-pointer: ${M}`);const _t=+zt[1];if(je=zt[2],je==="#"){if(_t>=Z)throw new Error(Gt("property/index",_t));return we[Z-_t]}if(_t>Z)throw new Error(Gt("data",_t));if(Xe=ie[Z-_t],!je)return Xe}let Mt=Xe;const Ut=je.split("/");for(const zt of Ut)zt&&(Xe=(0,c._)`${Xe}${(0,c.getProperty)((0,S.unescapeJsonPointer)(zt))}`,Mt=(0,c._)`${Mt} && ${Xe}`);return Mt;function Gt(zt,_t){return`Cannot access ${zt} ${_t} levels up, current level is ${Z}`}}r.getData=nt},32742:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const e=a(51172),t=a(57277),T=a(98365),h=a(36891);function w(U,B){const{gen:V,keyword:f,schema:p,parentSchema:I,it:y}=U,C=B.macro.call(y.self,p,I,y),N=A(V,f,C);y.opts.validateSchema!==!1&&y.self.validateSchema(C,!0);const R=V.name("valid");U.subschema({schema:C,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${f}`,topSchemaRef:N,compositeRule:!0},R),U.pass(R,()=>U.error(!0))}r.macroKeywordCode=w;function i(U,B){var V;const{gen:f,keyword:p,schema:I,parentSchema:y,$data:C,it:N}=U;l(N,B);const R=!C&&B.compile?B.compile.call(N.self,I,y,N):B.validate,b=A(f,p,R),x=f.let("valid");U.block$data(x,H),U.ok((V=B.valid)!==null&&V!==void 0?V:x);function H(){if(B.errors===!1)ce(),B.modifying&&E(U),He(()=>U.error());else{const De=B.async?te():oe();B.modifying&&E(U),He(()=>c(U,De))}}function te(){const De=f.let("ruleErrs",null);return f.try(()=>ce((0,e._)`await `),et=>f.assign(x,!1).if((0,e._)`${et} instanceof ${N.ValidationError}`,()=>f.assign(De,(0,e._)`${et}.errors`),()=>f.throw(et))),De}function oe(){const De=(0,e._)`${b}.errors`;return f.assign(De,null),ce(e.nil),De}function ce(De=B.async?(0,e._)`await `:e.nil){const et=N.opts.passContext?t.default.this:t.default.self,lt=!("compile"in B&&!C||B.schema===!1);f.assign(x,(0,e._)`${De}${(0,T.callValidateCode)(U,b,et,lt)}`,B.modifying)}function He(De){var et;f.if((0,e.not)((et=B.valid)!==null&&et!==void 0?et:x),De)}}r.funcKeywordCode=i;function E(U){const{gen:B,data:V,it:f}=U;B.if(f.parentData,()=>B.assign(V,(0,e._)`${f.parentData}[${f.parentDataProperty}]`))}function c(U,B){const{gen:V}=U;V.if((0,e._)`Array.isArray(${B})`,()=>{V.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${B} : ${t.default.vErrors}.concat(${B})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,h.extendErrors)(U)},()=>U.error())}function l({schemaEnv:U},B){if(B.async&&!U.$async)throw new Error("async keyword in sync schema")}function A(U,B,V){if(V===void 0)throw new Error(`keyword "${B}" failed to compile`);return U.scopeValue("keyword",typeof V=="function"?{ref:V}:{ref:V,code:(0,e.stringify)(V)})}function S(U,B,V=!1){return!B.length||B.some(f=>f==="array"?Array.isArray(U):f==="object"?U&&typeof U=="object"&&!Array.isArray(U):typeof U==f||V&&typeof U=="undefined")}r.validSchemaType=S;function F({schema:U,opts:B,self:V,errSchemaPath:f},p,I){if(Array.isArray(p.keyword)?!p.keyword.includes(I):p.keyword!==I)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(C=>!Object.prototype.hasOwnProperty.call(U,C)))throw new Error(`parent schema must have dependencies of ${I}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(U[I])){const N=`keyword "${I}" value is invalid at path "${f}": `+V.errorsText(p.validateSchema.errors);if(B.validateSchema==="log")V.logger.error(N);else throw new Error(N)}}r.validateKeywordUsage=F},66849:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const e=a(51172),t=a(1048);function T(i,{keyword:E,schemaProp:c,schema:l,schemaPath:A,errSchemaPath:S,topSchemaRef:F}){if(E!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(E!==void 0){const U=i.schema[E];return c===void 0?{schema:U,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}`,errSchemaPath:`${i.errSchemaPath}/${E}`}:{schema:U[c],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}${(0,e.getProperty)(c)}`,errSchemaPath:`${i.errSchemaPath}/${E}/${(0,t.escapeFragment)(c)}`}}if(l!==void 0){if(A===void 0||S===void 0||F===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:A,topSchemaRef:F,errSchemaPath:S}}throw new Error('either "keyword" or "schema" must be passed')}r.getSubschema=T;function h(i,E,{dataProp:c,dataPropType:l,data:A,dataTypes:S,propertyName:F}){if(A!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:U}=E;if(c!==void 0){const{errorPath:V,dataPathArr:f,opts:p}=E,I=U.let("data",(0,e._)`${E.data}${(0,e.getProperty)(c)}`,!0);B(I),i.errorPath=(0,e.str)`${V}${(0,t.getErrorPath)(c,l,p.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${c}`,i.dataPathArr=[...f,i.parentDataProperty]}if(A!==void 0){const V=A instanceof e.Name?A:U.let("data",A,!0);B(V),F!==void 0&&(i.propertyName=F)}S&&(i.dataTypes=S);function B(V){i.data=V,i.dataLevel=E.dataLevel+1,i.dataTypes=[],E.definedProperties=new Set,i.parentData=E.data,i.dataNames=[...E.dataNames,V]}}r.extendSubschemaData=h;function w(i,{jtdDiscriminator:E,jtdMetadata:c,compositeRule:l,createErrors:A,allErrors:S}){l!==void 0&&(i.compositeRule=l),A!==void 0&&(i.createErrors=A),S!==void 0&&(i.allErrors=S),i.jtdDiscriminator=E,i.jtdMetadata=c}r.extendSubschemaMode=w},47942:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var e=a(89352);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var t=a(51172);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const T=a(56569),h=a(84928),w=a(24104),i=a(27330),E=a(51172),c=a(41819),l=a(64116),A=a(1048),S=a(24297),F=a(44461),U=(he,j)=>new RegExp(he,j);U.code="new RegExp";const B=["removeAdditional","useDefaults","coerceTypes"],V=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},I=200;function y(he){var j,re,W,d,k,J,Le,Me,gt,nt,M,Z,ie,we,je,Xe,Mt,Ut,Gt,zt,_t,on,It,dn,bn;const pn=he.strict,wn=(j=he.code)===null||j===void 0?void 0:j.optimize,pe=wn===!0||wn===void 0?1:wn||0,ue=(W=(re=he.code)===null||re===void 0?void 0:re.regExp)!==null&&W!==void 0?W:U,Ce=(d=he.uriResolver)!==null&&d!==void 0?d:F.default;return{strictSchema:(J=(k=he.strictSchema)!==null&&k!==void 0?k:pn)!==null&&J!==void 0?J:!0,strictNumbers:(Me=(Le=he.strictNumbers)!==null&&Le!==void 0?Le:pn)!==null&&Me!==void 0?Me:!0,strictTypes:(nt=(gt=he.strictTypes)!==null&&gt!==void 0?gt:pn)!==null&&nt!==void 0?nt:"log",strictTuples:(Z=(M=he.strictTuples)!==null&&M!==void 0?M:pn)!==null&&Z!==void 0?Z:"log",strictRequired:(we=(ie=he.strictRequired)!==null&&ie!==void 0?ie:pn)!==null&&we!==void 0?we:!1,code:he.code?{...he.code,optimize:pe,regExp:ue}:{optimize:pe,regExp:ue},loopRequired:(je=he.loopRequired)!==null&&je!==void 0?je:I,loopEnum:(Xe=he.loopEnum)!==null&&Xe!==void 0?Xe:I,meta:(Mt=he.meta)!==null&&Mt!==void 0?Mt:!0,messages:(Ut=he.messages)!==null&&Ut!==void 0?Ut:!0,inlineRefs:(Gt=he.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(zt=he.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(_t=he.addUsedSchema)!==null&&_t!==void 0?_t:!0,validateSchema:(on=he.validateSchema)!==null&&on!==void 0?on:!0,validateFormats:(It=he.validateFormats)!==null&&It!==void 0?It:!0,unicodeRegExp:(dn=he.unicodeRegExp)!==null&&dn!==void 0?dn:!0,int32range:(bn=he.int32range)!==null&&bn!==void 0?bn:!0,uriResolver:Ce}}class C{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...y(j)};const{es5:re,lines:W}=this.opts.code;this.scope=new E.ValueScope({scope:{},prefixes:V,es5:re,lines:W}),this.logger=ce(j.logger);const d=j.validateFormats;j.validateFormats=!1,this.RULES=(0,w.getRules)(),N.call(this,f,j,"NOT SUPPORTED"),N.call(this,p,j,"DEPRECATED","warn"),this._metaOpts=te.call(this),j.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&H.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),b.call(this),j.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:re,schemaId:W}=this.opts;let d=S;W==="id"&&(d={...S},d.id=d.$id,delete d.$id),re&&j&&this.addMetaSchema(d,d[W],!1)}defaultMeta(){const{meta:j,schemaId:re}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[re]||j:void 0}validate(j,re){let W;if(typeof j=="string"){if(W=this.getSchema(j),!W)throw new Error(`no schema with key or ref "${j}"`)}else W=this.compile(j);const d=W(re);return"$async"in W||(this.errors=W.errors),d}compile(j,re){const W=this._addSchema(j,re);return W.validate||this._compileSchemaEnv(W)}compileAsync(j,re){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return d.call(this,j,re);async function d(nt,M){await k.call(this,nt.$schema);const Z=this._addSchema(nt,M);return Z.validate||J.call(this,Z)}async function k(nt){nt&&!this.getSchema(nt)&&await d.call(this,{$ref:nt},!0)}async function J(nt){try{return this._compileSchemaEnv(nt)}catch(M){if(!(M instanceof h.default))throw M;return Le.call(this,M),await Me.call(this,M.missingSchema),J.call(this,nt)}}function Le({missingSchema:nt,missingRef:M}){if(this.refs[nt])throw new Error(`AnySchema ${nt} is loaded but ${M} cannot be resolved`)}async function Me(nt){const M=await gt.call(this,nt);this.refs[nt]||await k.call(this,M.$schema),this.refs[nt]||this.addSchema(M,nt,re)}async function gt(nt){const M=this._loading[nt];if(M)return M;try{return await(this._loading[nt]=W(nt))}finally{delete this._loading[nt]}}}addSchema(j,re,W,d=this.opts.validateSchema){if(Array.isArray(j)){for(const J of j)this.addSchema(J,void 0,W,d);return this}let k;if(typeof j=="object"){const{schemaId:J}=this.opts;if(k=j[J],k!==void 0&&typeof k!="string")throw new Error(`schema ${J} must be string`)}return re=(0,c.normalizeId)(re||k),this._checkUnique(re),this.schemas[re]=this._addSchema(j,W,re,d,!0),this}addMetaSchema(j,re,W=this.opts.validateSchema){return this.addSchema(j,re,!0,W),this}validateSchema(j,re){if(typeof j=="boolean")return!0;let W;if(W=j.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(W,j);if(!d&&re){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return d}getSchema(j){let re;for(;typeof(re=R.call(this,j))=="string";)j=re;if(re===void 0){const{schemaId:W}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:W});if(re=i.resolveSchema.call(this,d,j),!re)return;this.refs[j]=re}return re.validate||this._compileSchemaEnv(re)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const re=R.call(this,j);return typeof re=="object"&&this._cache.delete(re.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const re=j;this._cache.delete(re);let W=j[this.opts.schemaId];return W&&(W=(0,c.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const re of j)this.addKeyword(re);return this}addKeyword(j,re){let W;if(typeof j=="string")W=j,typeof re=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),re.keyword=W);else if(typeof j=="object"&&re===void 0){if(re=j,W=re.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(De.call(this,W,re),!re)return(0,A.eachItem)(W,k=>et.call(this,k)),this;Et.call(this,re);const d={...re,type:(0,l.getJSONTypes)(re.type),schemaType:(0,l.getJSONTypes)(re.schemaType)};return(0,A.eachItem)(W,d.type.length===0?k=>et.call(this,k,d):k=>d.type.forEach(J=>et.call(this,k,d,J))),this}getKeyword(j){const re=this.RULES.all[j];return typeof re=="object"?re.definition:!!re}removeKeyword(j){const{RULES:re}=this;delete re.keywords[j],delete re.all[j];for(const W of re.rules){const d=W.rules.findIndex(k=>k.keyword===j);d>=0&&W.rules.splice(d,1)}return this}addFormat(j,re){return typeof re=="string"&&(re=new RegExp(re)),this.formats[j]=re,this}errorsText(j=this.errors,{separator:re=", ",dataVar:W="data"}={}){return!j||j.length===0?"No errors":j.map(d=>`${W}${d.instancePath} ${d.message}`).reduce((d,k)=>d+re+k)}$dataMetaSchema(j,re){const W=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const d of re){const k=d.split("/").slice(1);let J=j;for(const Le of k)J=J[Le];for(const Le in W){const Me=W[Le];if(typeof Me!="object")continue;const{$data:gt}=Me.definition,nt=J[Le];gt&&nt&&(J[Le]=dt(nt))}}return j}_removeAllSchemas(j,re){for(const W in j){const d=j[W];(!re||re.test(W))&&(typeof d=="string"?delete j[W]:d&&!d.meta&&(this._cache.delete(d.schema),delete j[W]))}}_addSchema(j,re,W,d=this.opts.validateSchema,k=this.opts.addUsedSchema){let J;const{schemaId:Le}=this.opts;if(typeof j=="object")J=j[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let Me=this._cache.get(j);if(Me!==void 0)return Me;W=(0,c.normalizeId)(J||W);const gt=c.getSchemaRefs.call(this,j,W);return Me=new i.SchemaEnv({schema:j,schemaId:Le,meta:re,baseId:W,localRefs:gt}),this._cache.set(Me.schema,Me),k&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=Me),d&&this.validateSchema(j,!0),Me}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):i.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const re=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,j)}finally{this.opts=re}}}r.default=C,C.ValidationError=T.default,C.MissingRefError=h.default;function N(he,j,re,W="error"){for(const d in he){const k=d;k in j&&this.logger[W](`${re}: option ${d}. ${he[k]}`)}}function R(he){return he=(0,c.normalizeId)(he),this.schemas[he]||this.refs[he]}function b(){const he=this.opts.schemas;if(!!he)if(Array.isArray(he))this.addSchema(he);else for(const j in he)this.addSchema(he[j],j)}function x(){for(const he in this.opts.formats){const j=this.opts.formats[he];j&&this.addFormat(he,j)}}function H(he){if(Array.isArray(he)){this.addVocabulary(he);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in he){const re=he[j];re.keyword||(re.keyword=j),this.addKeyword(re)}}function te(){const he={...this.opts};for(const j of B)delete he[j];return he}const oe={log(){},warn(){},error(){}};function ce(he){if(he===!1)return oe;if(he===void 0)return console;if(he.log&&he.warn&&he.error)return he;throw new Error("logger must implement log, warn and error methods")}const He=/^[a-z_$][a-z0-9_$:-]*$/i;function De(he,j){const{RULES:re}=this;if((0,A.eachItem)(he,W=>{if(re.keywords[W])throw new Error(`Keyword ${W} is already defined`);if(!He.test(W))throw new Error(`Keyword ${W} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function et(he,j,re){var W;const d=j==null?void 0:j.post;if(re&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let J=d?k.post:k.rules.find(({type:Me})=>Me===re);if(J||(J={type:re,rules:[]},k.rules.push(J)),k.keywords[he]=!0,!j)return;const Le={keyword:he,definition:{...j,type:(0,l.getJSONTypes)(j.type),schemaType:(0,l.getJSONTypes)(j.schemaType)}};j.before?lt.call(this,J,Le,j.before):J.rules.push(Le),k.all[he]=Le,(W=j.implements)===null||W===void 0||W.forEach(Me=>this.addKeyword(Me))}function lt(he,j,re){const W=he.rules.findIndex(d=>d.keyword===re);W>=0?he.rules.splice(W,0,j):(he.rules.push(j),this.logger.warn(`rule ${re} is not defined`))}function Et(he){let{metaSchema:j}=he;j!==void 0&&(he.$data&&this.opts.$data&&(j=dt(j)),he.validateSchema=this.compile(j,!0))}const Lt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function dt(he){return{anyOf:[he,Lt]}}},63764:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(69378);e.code='require("ajv/dist/runtime/equal").default',r.default=e},19332:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});function a(e){const t=e.length;let T=0,h=0,w;for(;h<t;)T++,w=e.charCodeAt(h++),w>=55296&&w<=56319&&h<t&&(w=e.charCodeAt(h),(w&64512)===56320&&h++);return T}r.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},44461:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(12854);e.code='require("ajv/dist/runtime/uri").default',r.default=e},56569:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});class a extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}r.default=a},63823:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const e=a(51172),t=a(1048),h={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:E,it:c}=i,{items:l}=E;if(!Array.isArray(l)){(0,t.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}w(i,l)}};function w(i,E){const{gen:c,schema:l,data:A,keyword:S,it:F}=i;F.items=!0;const U=c.const("len",(0,e._)`${A}.length`);if(l===!1)i.setParams({len:E.length}),i.pass((0,e._)`${U} <= ${E.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(F,l)){const V=c.var("valid",(0,e._)`${U} <= ${E.length}`);c.if((0,e.not)(V),()=>B(V)),i.ok(V)}function B(V){c.forRange("i",E.length,U,f=>{i.subschema({keyword:S,dataProp:f,dataPropType:t.Type.Num},V),F.allErrors||c.if((0,e.not)(V),()=>c.break())})}}r.validateAdditionalItems=w,r.default=h},89210:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(98365),t=a(51172),T=a(57277),h=a(1048),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:E})=>(0,t._)`{additionalProperty: ${E.additionalProperty}}`},code(E){const{gen:c,schema:l,parentSchema:A,data:S,errsCount:F,it:U}=E;if(!F)throw new Error("ajv implementation error");const{allErrors:B,opts:V}=U;if(U.props=!0,V.removeAdditional!=="all"&&(0,h.alwaysValidSchema)(U,l))return;const f=(0,e.allSchemaProperties)(A.properties),p=(0,e.allSchemaProperties)(A.patternProperties);I(),E.ok((0,t._)`${F} === ${T.default.errors}`);function I(){c.forIn("key",S,b=>{!f.length&&!p.length?N(b):c.if(y(b),()=>N(b))})}function y(b){let x;if(f.length>8){const H=(0,h.schemaRefOrVal)(U,A.properties,"properties");x=(0,e.isOwnProperty)(c,H,b)}else f.length?x=(0,t.or)(...f.map(H=>(0,t._)`${b} === ${H}`)):x=t.nil;return p.length&&(x=(0,t.or)(x,...p.map(H=>(0,t._)`${(0,e.usePattern)(E,H)}.test(${b})`))),(0,t.not)(x)}function C(b){c.code((0,t._)`delete ${S}[${b}]`)}function N(b){if(V.removeAdditional==="all"||V.removeAdditional&&l===!1){C(b);return}if(l===!1){E.setParams({additionalProperty:b}),E.error(),B||c.break();return}if(typeof l=="object"&&!(0,h.alwaysValidSchema)(U,l)){const x=c.name("valid");V.removeAdditional==="failing"?(R(b,x,!1),c.if((0,t.not)(x),()=>{E.reset(),C(b)})):(R(b,x),B||c.if((0,t.not)(x),()=>c.break()))}}function R(b,x,H){const te={keyword:"additionalProperties",dataProp:b,dataPropType:h.Type.Str};H===!1&&Object.assign(te,{compositeRule:!0,createErrors:!1,allErrors:!1}),E.subschema(te,x)}}};r.default=i},46779:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(1048),t={keyword:"allOf",schemaType:"array",code(T){const{gen:h,schema:w,it:i}=T;if(!Array.isArray(w))throw new Error("ajv implementation error");const E=h.name("valid");w.forEach((c,l)=>{if((0,e.alwaysValidSchema)(i,c))return;const A=T.subschema({keyword:"allOf",schemaProp:l},E);T.ok(E),T.mergeEvaluated(A)})}};r.default=t},73557:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(98365),t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e.validateUnion,error:{message:"must match a schema in anyOf"}};r.default=t},85115:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),h={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:w,max:i}})=>i===void 0?(0,e.str)`must contain at least ${w} valid item(s)`:(0,e.str)`must contain at least ${w} and no more than ${i} valid item(s)`,params:({params:{min:w,max:i}})=>i===void 0?(0,e._)`{minContains: ${w}}`:(0,e._)`{minContains: ${w}, maxContains: ${i}}`},code(w){const{gen:i,schema:E,parentSchema:c,data:l,it:A}=w;let S,F;const{minContains:U,maxContains:B}=c;A.opts.next?(S=U===void 0?1:U,F=B):S=1;const V=i.const("len",(0,e._)`${l}.length`);if(w.setParams({min:S,max:F}),F===void 0&&S===0){(0,t.checkStrictMode)(A,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(F!==void 0&&S>F){(0,t.checkStrictMode)(A,'"minContains" > "maxContains" is always invalid'),w.fail();return}if((0,t.alwaysValidSchema)(A,E)){let C=(0,e._)`${V} >= ${S}`;F!==void 0&&(C=(0,e._)`${C} && ${V} <= ${F}`),w.pass(C);return}A.items=!0;const f=i.name("valid");F===void 0&&S===1?I(f,()=>i.if(f,()=>i.break())):S===0?(i.let(f,!0),F!==void 0&&i.if((0,e._)`${l}.length > 0`,p)):(i.let(f,!1),p()),w.result(f,()=>w.reset());function p(){const C=i.name("_valid"),N=i.let("count",0);I(C,()=>i.if(C,()=>y(N)))}function I(C,N){i.forRange("i",0,V,R=>{w.subschema({keyword:"contains",dataProp:R,dataPropType:t.Type.Num,compositeRule:!0},C),N()})}function y(C){i.code((0,e._)`${C}++`),F===void 0?i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0).break()):(i.if((0,e._)`${C} > ${F}`,()=>i.assign(f,!1).break()),S===1?i.assign(f,!0):i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0)))}}};r.default=h},80169:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const e=a(51172),t=a(1048),T=a(98365);r.error={message:({params:{property:c,depsCount:l,deps:A}})=>{const S=l===1?"property":"properties";return(0,e.str)`must have ${S} ${A} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:A,missingProperty:S}})=>(0,e._)`{property: ${c},
    missingProperty: ${S},
    depsCount: ${l},
    deps: ${A}}`};const h={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(c){const[l,A]=w(c);i(c,l),E(c,A)}};function w({schema:c}){const l={},A={};for(const S in c){if(S==="__proto__")continue;const F=Array.isArray(c[S])?l:A;F[S]=c[S]}return[l,A]}function i(c,l=c.schema){const{gen:A,data:S,it:F}=c;if(Object.keys(l).length===0)return;const U=A.let("missing");for(const B in l){const V=l[B];if(V.length===0)continue;const f=(0,T.propertyInData)(A,S,B,F.opts.ownProperties);c.setParams({property:B,depsCount:V.length,deps:V.join(", ")}),F.allErrors?A.if(f,()=>{for(const p of V)(0,T.checkReportMissingProp)(c,p)}):(A.if((0,e._)`${f} && (${(0,T.checkMissingProp)(c,V,U)})`),(0,T.reportMissingProp)(c,U),A.else())}}r.validatePropertyDeps=i;function E(c,l=c.schema){const{gen:A,data:S,keyword:F,it:U}=c,B=A.name("valid");for(const V in l)(0,t.alwaysValidSchema)(U,l[V])||(A.if((0,T.propertyInData)(A,S,V,U.opts.ownProperties),()=>{const f=c.subschema({keyword:F,schemaProp:V},B);c.mergeValidEvaluated(f,B)},()=>A.var(B,!0)),c.ok(B))}r.validateSchemaDeps=E,r.default=h},30567:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),h={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:E,parentSchema:c,it:l}=i;c.then===void 0&&c.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const A=w(l,"then"),S=w(l,"else");if(!A&&!S)return;const F=E.let("valid",!0),U=E.name("_valid");if(B(),i.reset(),A&&S){const f=E.let("ifClause");i.setParams({ifClause:f}),E.if(U,V("then",f),V("else",f))}else A?E.if(U,V("then")):E.if((0,e.not)(U),V("else"));i.pass(F,()=>i.error(!0));function B(){const f=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},U);i.mergeEvaluated(f)}function V(f,p){return()=>{const I=i.subschema({keyword:f},U);E.assign(F,U),i.mergeValidEvaluated(I,F),p?E.assign(p,(0,e._)`${f}`):i.setParams({ifClause:f})}}}};function w(i,E){const c=i.schema[E];return c!==void 0&&!(0,t.alwaysValidSchema)(i,c)}r.default=h},30686:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(63823),t=a(98040),T=a(94512),h=a(17098),w=a(85115),i=a(80169),E=a(69246),c=a(89210),l=a(6977),A=a(7666),S=a(37074),F=a(73557),U=a(45819),B=a(46779),V=a(30567),f=a(34229);function p(I=!1){const y=[S.default,F.default,U.default,B.default,V.default,f.default,E.default,c.default,i.default,l.default,A.default];return I?y.push(t.default,h.default):y.push(e.default,T.default),y.push(w.default),y}r.default=p},94512:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const e=a(51172),t=a(1048),T=a(98365),h={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:E,it:c}=i;if(Array.isArray(E))return w(i,"additionalItems",E);c.items=!0,!(0,t.alwaysValidSchema)(c,E)&&i.ok((0,T.validateArray)(i))}};function w(i,E,c=i.schema){const{gen:l,parentSchema:A,data:S,keyword:F,it:U}=i;f(A),U.opts.unevaluated&&c.length&&U.items!==!0&&(U.items=t.mergeEvaluated.items(l,c.length,U.items));const B=l.name("valid"),V=l.const("len",(0,e._)`${S}.length`);c.forEach((p,I)=>{(0,t.alwaysValidSchema)(U,p)||(l.if((0,e._)`${V} > ${I}`,()=>i.subschema({keyword:F,schemaProp:I,dataProp:I},B)),i.ok(B))});function f(p){const{opts:I,errSchemaPath:y}=U,C=c.length,N=C===p.minItems&&(C===p.maxItems||p[E]===!1);if(I.strictTuples&&!N){const R=`"${F}" is ${C}-tuple, but minItems or maxItems/${E} are not specified or different at path "${y}"`;(0,t.checkStrictMode)(U,R,I.strictTuples)}}}r.validateTuple=w,r.default=h},17098:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),T=a(98365),h=a(63823),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:E}})=>(0,e.str)`must NOT have more than ${E} items`,params:({params:{len:E}})=>(0,e._)`{limit: ${E}}`},code(E){const{schema:c,parentSchema:l,it:A}=E,{prefixItems:S}=l;A.items=!0,!(0,t.alwaysValidSchema)(A,c)&&(S?(0,h.validateAdditionalItems)(E,S):E.ok((0,T.validateArray)(E)))}};r.default=i},37074:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(1048),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(T){const{gen:h,schema:w,it:i}=T;if((0,e.alwaysValidSchema)(i,w)){T.fail();return}const E=h.name("valid");T.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},E),T.failResult(E,()=>T.reset(),()=>T.error())},error:{message:"must NOT be valid"}};r.default=t},45819:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),h={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:w})=>(0,e._)`{passingSchemas: ${w.passing}}`},code(w){const{gen:i,schema:E,parentSchema:c,it:l}=w;if(!Array.isArray(E))throw new Error("ajv implementation error");if(l.opts.discriminator&&c.discriminator)return;const A=E,S=i.let("valid",!1),F=i.let("passing",null),U=i.name("_valid");w.setParams({passing:F}),i.block(B),w.result(S,()=>w.reset(),()=>w.error(!0));function B(){A.forEach((V,f)=>{let p;(0,t.alwaysValidSchema)(l,V)?i.var(U,!0):p=w.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},U),f>0&&i.if((0,e._)`${U} && ${S}`).assign(S,!1).assign(F,(0,e._)`[${F}, ${f}]`).else(),i.if(U,()=>{i.assign(S,!0),i.assign(F,f),p&&w.mergeEvaluated(p,e.Name)})})}}};r.default=h},7666:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(98365),t=a(51172),T=a(1048),h=a(1048),w={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,data:l,parentSchema:A,it:S}=i,{opts:F}=S,U=(0,e.allSchemaProperties)(c),B=U.filter(N=>(0,T.alwaysValidSchema)(S,c[N]));if(U.length===0||B.length===U.length&&(!S.opts.unevaluated||S.props===!0))return;const V=F.strictSchema&&!F.allowMatchingProperties&&A.properties,f=E.name("valid");S.props!==!0&&!(S.props instanceof t.Name)&&(S.props=(0,h.evaluatedPropsToName)(E,S.props));const{props:p}=S;I();function I(){for(const N of U)V&&y(N),S.allErrors?C(N):(E.var(f,!0),C(N),E.if(f))}function y(N){for(const R in V)new RegExp(N).test(R)&&(0,T.checkStrictMode)(S,`property ${R} matches pattern ${N} (use allowMatchingProperties)`)}function C(N){E.forIn("key",l,R=>{E.if((0,t._)`${(0,e.usePattern)(i,N)}.test(${R})`,()=>{const b=B.includes(N);b||i.subschema({keyword:"patternProperties",schemaProp:N,dataProp:R,dataPropType:h.Type.Str},f),S.opts.unevaluated&&p!==!0?E.assign((0,t._)`${p}[${R}]`,!0):!b&&!S.allErrors&&E.if((0,t.not)(f),()=>E.break())})})}}};r.default=w},98040:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(94512),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:T=>(0,e.validateTuple)(T,"items")};r.default=t},6977:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(89352),t=a(98365),T=a(1048),h=a(89210),w={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,parentSchema:l,data:A,it:S}=i;S.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&h.default.code(new e.KeywordCxt(S,h.default,"additionalProperties"));const F=(0,t.allSchemaProperties)(c);for(const p of F)S.definedProperties.add(p);S.opts.unevaluated&&F.length&&S.props!==!0&&(S.props=T.mergeEvaluated.props(E,(0,T.toHash)(F),S.props));const U=F.filter(p=>!(0,T.alwaysValidSchema)(S,c[p]));if(U.length===0)return;const B=E.name("valid");for(const p of U)V(p)?f(p):(E.if((0,t.propertyInData)(E,A,p,S.opts.ownProperties)),f(p),S.allErrors||E.else().var(B,!0),E.endIf()),i.it.definedProperties.add(p),i.ok(B);function V(p){return S.opts.useDefaults&&!S.compositeRule&&c[p].default!==void 0}function f(p){i.subschema({keyword:"properties",schemaProp:p,dataProp:p},B)}}};r.default=w},69246:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),h={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:w})=>(0,e._)`{propertyName: ${w.propertyName}}`},code(w){const{gen:i,schema:E,data:c,it:l}=w;if((0,t.alwaysValidSchema)(l,E))return;const A=i.name("valid");i.forIn("key",c,S=>{w.setParams({propertyName:S}),w.subschema({keyword:"propertyNames",data:S,dataTypes:["string"],propertyName:S,compositeRule:!0},A),i.if((0,e.not)(A),()=>{w.error(!0),l.allErrors||i.break()})}),w.ok(A)}};r.default=h},34229:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(1048),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:T,parentSchema:h,it:w}){h.if===void 0&&(0,e.checkStrictMode)(w,`"${T}" without "if" is ignored`)}};r.default=t},98365:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const e=a(51172),t=a(1048),T=a(57277),h=a(1048);function w(y,C){const{gen:N,data:R,it:b}=y;N.if(S(N,R,C,b.opts.ownProperties),()=>{y.setParams({missingProperty:(0,e._)`${C}`},!0),y.error()})}r.checkReportMissingProp=w;function i({gen:y,data:C,it:{opts:N}},R,b){return(0,e.or)(...R.map(x=>(0,e.and)(S(y,C,x,N.ownProperties),(0,e._)`${b} = ${x}`)))}r.checkMissingProp=i;function E(y,C){y.setParams({missingProperty:C},!0),y.error()}r.reportMissingProp=E;function c(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}r.hasPropFunc=c;function l(y,C,N){return(0,e._)`${c(y)}.call(${C}, ${N})`}r.isOwnProperty=l;function A(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} !== undefined`;return R?(0,e._)`${b} && ${l(y,C,N)}`:b}r.propertyInData=A;function S(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} === undefined`;return R?(0,e.or)(b,(0,e.not)(l(y,C,N))):b}r.noPropertyInData=S;function F(y){return y?Object.keys(y).filter(C=>C!=="__proto__"):[]}r.allSchemaProperties=F;function U(y,C){return F(C).filter(N=>!(0,t.alwaysValidSchema)(y,C[N]))}r.schemaProperties=U;function B({schemaCode:y,data:C,it:{gen:N,topSchemaRef:R,schemaPath:b,errorPath:x},it:H},te,oe,ce){const He=ce?(0,e._)`${y}, ${C}, ${R}${b}`:C,De=[[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,x)],[T.default.parentData,H.parentData],[T.default.parentDataProperty,H.parentDataProperty],[T.default.rootData,T.default.rootData]];H.opts.dynamicRef&&De.push([T.default.dynamicAnchors,T.default.dynamicAnchors]);const et=(0,e._)`${He}, ${N.object(...De)}`;return oe!==e.nil?(0,e._)`${te}.call(${oe}, ${et})`:(0,e._)`${te}(${et})`}r.callValidateCode=B;const V=(0,e._)`new RegExp`;function f({gen:y,it:{opts:C}},N){const R=C.unicodeRegExp?"u":"",{regExp:b}=C.code,x=b(N,R);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,e._)`${b.code==="new RegExp"?V:(0,h.useFunc)(y,b)}(${N}, ${R})`})}r.usePattern=f;function p(y){const{gen:C,data:N,keyword:R,it:b}=y,x=C.name("valid");if(b.allErrors){const te=C.let("valid",!0);return H(()=>C.assign(te,!1)),te}return C.var(x,!0),H(()=>C.break()),x;function H(te){const oe=C.const("len",(0,e._)`${N}.length`);C.forRange("i",0,oe,ce=>{y.subschema({keyword:R,dataProp:ce,dataPropType:t.Type.Num},x),C.if((0,e.not)(x),te)})}}r.validateArray=p;function I(y){const{gen:C,schema:N,keyword:R,it:b}=y;if(!Array.isArray(N))throw new Error("ajv implementation error");if(N.some(oe=>(0,t.alwaysValidSchema)(b,oe))&&!b.opts.unevaluated)return;const H=C.let("valid",!1),te=C.name("_valid");C.block(()=>N.forEach((oe,ce)=>{const He=y.subschema({keyword:R,schemaProp:ce,compositeRule:!0},te);C.assign(H,(0,e._)`${H} || ${te}`),y.mergeValidEvaluated(He,te)||C.if((0,e.not)(H))})),y.result(H,()=>y.reset(),()=>y.error(!0))}r.validateUnion=I},14714:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});const a={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};r.default=a},13777:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(14714),t=a(3658),T=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];r.default=T},3658:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const e=a(84928),t=a(98365),T=a(51172),h=a(57277),w=a(27330),i=a(1048),E={keyword:"$ref",schemaType:"string",code(A){const{gen:S,schema:F,it:U}=A,{baseId:B,schemaEnv:V,validateName:f,opts:p,self:I}=U,{root:y}=V;if((F==="#"||F==="#/")&&B===y.baseId)return N();const C=w.resolveRef.call(I,y,B,F);if(C===void 0)throw new e.default(U.opts.uriResolver,B,F);if(C instanceof w.SchemaEnv)return R(C);return b(C);function N(){if(V===y)return l(A,f,V,V.$async);const x=S.scopeValue("root",{ref:y});return l(A,(0,T._)`${x}.validate`,y,y.$async)}function R(x){const H=c(A,x);l(A,H,x,x.$async)}function b(x){const H=S.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,T.stringify)(x)}:{ref:x}),te=S.name("valid"),oe=A.subschema({schema:x,dataTypes:[],schemaPath:T.nil,topSchemaRef:H,errSchemaPath:F},te);A.mergeEvaluated(oe),A.ok(te)}}};function c(A,S){const{gen:F}=A;return S.validate?F.scopeValue("validate",{ref:S.validate}):(0,T._)`${F.scopeValue("wrapper",{ref:S})}.validate`}r.getValidate=c;function l(A,S,F,U){const{gen:B,it:V}=A,{allErrors:f,schemaEnv:p,opts:I}=V,y=I.passContext?h.default.this:T.nil;U?C():N();function C(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=B.let("valid");B.try(()=>{B.code((0,T._)`await ${(0,t.callValidateCode)(A,S,y)}`),b(S),f||B.assign(x,!0)},H=>{B.if((0,T._)`!(${H} instanceof ${V.ValidationError})`,()=>B.throw(H)),R(H),f||B.assign(x,!1)}),A.ok(x)}function N(){A.result((0,t.callValidateCode)(A,S,y),()=>b(S),()=>R(S))}function R(x){const H=(0,T._)`${x}.errors`;B.assign(h.default.vErrors,(0,T._)`${h.default.vErrors} === null ? ${H} : ${h.default.vErrors}.concat(${H})`),B.assign(h.default.errors,(0,T._)`${h.default.vErrors}.length`)}function b(x){var H;if(!V.opts.unevaluated)return;const te=(H=F==null?void 0:F.validate)===null||H===void 0?void 0:H.evaluated;if(V.props!==!0)if(te&&!te.dynamicProps)te.props!==void 0&&(V.props=i.mergeEvaluated.props(B,te.props,V.props));else{const oe=B.var("props",(0,T._)`${x}.evaluated.props`);V.props=i.mergeEvaluated.props(B,oe,V.props,T.Name)}if(V.items!==!0)if(te&&!te.dynamicItems)te.items!==void 0&&(V.items=i.mergeEvaluated.items(B,te.items,V.items));else{const oe=B.var("items",(0,T._)`${x}.evaluated.items`);V.items=i.mergeEvaluated.items(B,oe,V.items,T.Name)}}}r.callRef=l,r.default=E},69359:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(99643),T=a(27330),h=a(1048),i={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:E,tagName:c}})=>E===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:E,tag:c,tagName:l}})=>(0,e._)`{error: ${E}, tag: ${l}, tagValue: ${c}}`},code(E){const{gen:c,data:l,schema:A,parentSchema:S,it:F}=E,{oneOf:U}=S;if(!F.opts.discriminator)throw new Error("discriminator: requires discriminator option");const B=A.propertyName;if(typeof B!="string")throw new Error("discriminator: requires propertyName");if(A.mapping)throw new Error("discriminator: mapping is not supported");if(!U)throw new Error("discriminator: requires oneOf keyword");const V=c.let("valid",!1),f=c.const("tag",(0,e._)`${l}${(0,e.getProperty)(B)}`);c.if((0,e._)`typeof ${f} == "string"`,()=>p(),()=>E.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:B})),E.ok(V);function p(){const C=y();c.if(!1);for(const N in C)c.elseIf((0,e._)`${f} === ${N}`),c.assign(V,I(C[N]));c.else(),E.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:B}),c.endIf()}function I(C){const N=c.name("valid"),R=E.subschema({keyword:"oneOf",schemaProp:C},N);return E.mergeEvaluated(R,e.Name),N}function y(){var C;const N={},R=x(S);let b=!0;for(let oe=0;oe<U.length;oe++){let ce=U[oe];(ce==null?void 0:ce.$ref)&&!(0,h.schemaHasRulesButRef)(ce,F.self.RULES)&&(ce=T.resolveRef.call(F.self,F.schemaEnv.root,F.baseId,ce==null?void 0:ce.$ref),ce instanceof T.SchemaEnv&&(ce=ce.schema));const He=(C=ce==null?void 0:ce.properties)===null||C===void 0?void 0:C[B];if(typeof He!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${B}"`);b=b&&(R||x(ce)),H(He,oe)}if(!b)throw new Error(`discriminator: "${B}" must be required`);return N;function x({required:oe}){return Array.isArray(oe)&&oe.includes(B)}function H(oe,ce){if(oe.const)te(oe.const,ce);else if(oe.enum)for(const He of oe.enum)te(He,ce);else throw new Error(`discriminator: "properties/${B}" must have "const" or "enum"`)}function te(oe,ce){if(typeof oe!="string"||oe in N)throw new Error(`discriminator: "${B}" values must be unique strings`);N[oe]=ce}}}};r.default=i},99643:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0;var a;(function(e){e.Tag="tag",e.Mapping="mapping"})(a=r.DiscrError||(r.DiscrError={}))},50035:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(13777),t=a(49526),T=a(30686),h=a(4011),w=a(3560),i=[e.default,t.default,(0,T.default)(),h.default,w.metadataVocabulary,w.contentVocabulary];r.default=i},67580:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),T={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must match format "${h}"`,params:({schemaCode:h})=>(0,e._)`{format: ${h}}`},code(h,w){const{gen:i,data:E,$data:c,schema:l,schemaCode:A,it:S}=h,{opts:F,errSchemaPath:U,schemaEnv:B,self:V}=S;if(!F.validateFormats)return;c?f():p();function f(){const I=i.scopeValue("formats",{ref:V.formats,code:F.code.formats}),y=i.const("fDef",(0,e._)`${I}[${A}]`),C=i.let("fType"),N=i.let("format");i.if((0,e._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>i.assign(C,(0,e._)`${y}.type || "string"`).assign(N,(0,e._)`${y}.validate`),()=>i.assign(C,(0,e._)`"string"`).assign(N,y)),h.fail$data((0,e.or)(R(),b()));function R(){return F.strictSchema===!1?e.nil:(0,e._)`${A} && !${N}`}function b(){const x=B.$async?(0,e._)`(${y}.async ? await ${N}(${E}) : ${N}(${E}))`:(0,e._)`${N}(${E})`,H=(0,e._)`(typeof ${N} == "function" ? ${x} : ${N}.test(${E}))`;return(0,e._)`${N} && ${N} !== true && ${C} === ${w} && !${H}`}}function p(){const I=V.formats[l];if(!I){R();return}if(I===!0)return;const[y,C,N]=b(I);y===w&&h.pass(x());function R(){if(F.strictSchema===!1){V.logger.warn(H());return}throw new Error(H());function H(){return`unknown format "${l}" ignored in schema at path "${U}"`}}function b(H){const te=H instanceof RegExp?(0,e.regexpCode)(H):F.code.formats?(0,e._)`${F.code.formats}${(0,e.getProperty)(l)}`:void 0,oe=i.scopeValue("formats",{key:l,ref:H,code:te});return typeof H=="object"&&!(H instanceof RegExp)?[H.type||"string",H.validate,(0,e._)`${oe}.validate`]:["string",H,oe]}function x(){if(typeof I=="object"&&!(I instanceof RegExp)&&I.async){if(!B.$async)throw new Error("async format in sync schema");return(0,e._)`await ${N}(${E})`}return typeof C=="function"?(0,e._)`${N}(${E})`:(0,e._)`${N}.test(${E})`}}}};r.default=T},4011:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const t=[a(67580).default];r.default=t},3560:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},31925:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),T=a(63764),w={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:E,data:c,$data:l,schemaCode:A,schema:S}=i;l||S&&typeof S=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(E,T.default)}(${c}, ${A})`):i.fail((0,e._)`${S} !== ${c}`)}};r.default=w},65351:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),T=a(63764),w={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:E,data:c,$data:l,schema:A,schemaCode:S,it:F}=i;if(!l&&A.length===0)throw new Error("enum must have non-empty array");const U=A.length>=F.opts.loopEnum;let B;const V=()=>B!=null?B:B=(0,t.useFunc)(E,T.default);let f;if(U||l)f=E.let("valid"),i.block$data(f,p);else{if(!Array.isArray(A))throw new Error("ajv implementation error");const y=E.const("vSchema",S);f=(0,e.or)(...A.map((C,N)=>I(y,N)))}i.pass(f);function p(){E.assign(f,!1),E.forOf("v",S,y=>E.if((0,e._)`${V()}(${c}, ${y})`,()=>E.assign(f,!0).break()))}function I(y,C){const N=A[C];return typeof N=="object"&&N!==null?(0,e._)`${V()}(${c}, ${y}[${C}])`:(0,e._)`${c} === ${N}`}}};r.default=w},49526:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(86196),t=a(20154),T=a(4092),h=a(41941),w=a(24621),i=a(65888),E=a(55820),c=a(12547),l=a(31925),A=a(65351),S=[e.default,t.default,T.default,h.default,w.default,i.default,E.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,A.default];r.default=S},55820:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),T={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} items`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxItems"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`${i}.length ${c} ${E}`)}};r.default=T},4092:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=a(1048),T=a(19332),w={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:E}){const c=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${E} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:E,data:c,schemaCode:l,it:A}=i,S=E==="maxLength"?e.operators.GT:e.operators.LT,F=A.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,t.useFunc)(i.gen,T.default)}(${c})`;i.fail$data((0,e._)`${F} ${S} ${l}`)}};r.default=w},86196:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),t=e.operators,T={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},h={message:({keyword:i,schemaCode:E})=>(0,e.str)`must be ${T[i].okStr} ${E}`,params:({keyword:i,schemaCode:E})=>(0,e._)`{comparison: ${T[i].okStr}, limit: ${E}}`},w={keyword:Object.keys(T),type:"number",schemaType:"number",$data:!0,error:h,code(i){const{keyword:E,data:c,schemaCode:l}=i;i.fail$data((0,e._)`${c} ${T[E].fail} ${l} || isNaN(${c})`)}};r.default=w},24621:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),T={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} properties`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxProperties"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`Object.keys(${i}).length ${c} ${E}`)}};r.default=T},20154:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(51172),T={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must be multiple of ${h}`,params:({schemaCode:h})=>(0,e._)`{multipleOf: ${h}}`},code(h){const{gen:w,data:i,schemaCode:E,it:c}=h,l=c.opts.multipleOfPrecision,A=w.let("res"),S=l?(0,e._)`Math.abs(Math.round(${A}) - ${A}) > 1e-${l}`:(0,e._)`${A} !== parseInt(${A})`;h.fail$data((0,e._)`(${E} === 0 || (${A} = ${i}/${E}, ${S}))`)}};r.default=T},41941:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(98365),t=a(51172),h={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:w})=>(0,t.str)`must match pattern "${w}"`,params:({schemaCode:w})=>(0,t._)`{pattern: ${w}}`},code(w){const{data:i,$data:E,schema:c,schemaCode:l,it:A}=w,S=A.opts.unicodeRegExp?"u":"",F=E?(0,t._)`(new RegExp(${l}, ${S}))`:(0,e.usePattern)(w,c);w.fail$data((0,t._)`!${F}.test(${i})`)}};r.default=h},65888:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(98365),t=a(51172),T=a(1048),w={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:E,schema:c,schemaCode:l,data:A,$data:S,it:F}=i,{opts:U}=F;if(!S&&c.length===0)return;const B=c.length>=U.loopRequired;if(F.allErrors?V():f(),U.strictRequired){const y=i.parentSchema.properties,{definedProperties:C}=i.it;for(const N of c)if((y==null?void 0:y[N])===void 0&&!C.has(N)){const R=F.schemaEnv.baseId+F.errSchemaPath,b=`required property "${N}" is not defined at "${R}" (strictRequired)`;(0,T.checkStrictMode)(F,b,F.opts.strictRequired)}}function V(){if(B||S)i.block$data(t.nil,p);else for(const y of c)(0,e.checkReportMissingProp)(i,y)}function f(){const y=E.let("missing");if(B||S){const C=E.let("valid",!0);i.block$data(C,()=>I(y,C)),i.ok(C)}else E.if((0,e.checkMissingProp)(i,c,y)),(0,e.reportMissingProp)(i,y),E.else()}function p(){E.forOf("prop",l,y=>{i.setParams({missingProperty:y}),E.if((0,e.noPropertyInData)(E,A,y,U.ownProperties),()=>i.error())})}function I(y,C){i.setParams({missingProperty:y}),E.forOf(y,l,()=>{E.assign(C,(0,e.propertyInData)(E,A,y,U.ownProperties)),E.if((0,t.not)(C),()=>{i.error(),E.break()})},t.nil)}}};r.default=w},12547:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(64116),t=a(51172),T=a(1048),h=a(63764),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:E,j:c}})=>(0,t.str)`must NOT have duplicate items (items ## ${c} and ${E} are identical)`,params:({params:{i:E,j:c}})=>(0,t._)`{i: ${E}, j: ${c}}`},code(E){const{gen:c,data:l,$data:A,schema:S,parentSchema:F,schemaCode:U,it:B}=E;if(!A&&!S)return;const V=c.let("valid"),f=F.items?(0,e.getSchemaTypes)(F.items):[];E.block$data(V,p,(0,t._)`${U} === false`),E.ok(V);function p(){const N=c.let("i",(0,t._)`${l}.length`),R=c.let("j");E.setParams({i:N,j:R}),c.assign(V,!0),c.if((0,t._)`${N} > 1`,()=>(I()?y:C)(N,R))}function I(){return f.length>0&&!f.some(N=>N==="object"||N==="array")}function y(N,R){const b=c.name("item"),x=(0,e.checkDataTypes)(f,b,B.opts.strictNumbers,e.DataType.Wrong),H=c.const("indices",(0,t._)`{}`);c.for((0,t._)`;${N}--;`,()=>{c.let(b,(0,t._)`${l}[${N}]`),c.if(x,(0,t._)`continue`),f.length>1&&c.if((0,t._)`typeof ${b} == "string"`,(0,t._)`${b} += "_"`),c.if((0,t._)`typeof ${H}[${b}] == "number"`,()=>{c.assign(R,(0,t._)`${H}[${b}]`),E.error(),c.assign(V,!1).break()}).code((0,t._)`${H}[${b}] = ${N}`)})}function C(N,R){const b=(0,T.useFunc)(c,h.default),x=c.name("outer");c.label(x).for((0,t._)`;${N}--;`,()=>c.for((0,t._)`${R} = ${N}; ${R}--;`,()=>c.if((0,t._)`${b}(${l}[${N}], ${l}[${R}])`,()=>{E.error(),c.assign(V,!1).break(x)})))}}};r.default=i},41069:function(Se,r,a){a.d(r,{GK:function(){return lm},$Y:function(){return mf},o3:function(){return rd}});var e=a(67507),t=a(2784),T=a(10289),h=a(86689),w=a(95544),i=a(90436),E=a(61837),c=a(37265),l=a(79692),A=a(67358),S=a(91256),F=a(94339),U=a(84767),B=a(63738),V=a(76635),f=a.n(V),p=a(9695),I=a.n(p);const y="default",C="backstage.io/view-url",N="backstage.io/edit-url";class R{constructor(m=y){this.namespace=m}async enforce(m){return m.metadata.namespace?m:lodash.merge({metadata:{namespace:this.namespace}},m)}}class b{static isValidPrefixAndOrSuffix(m,D,n,o){if(typeof m!="string")return!1;const u=m.split(D);return u.length===1?o(u[0]):u.length===2?n(u[0])&&o(u[1]):!1}static isJsonSafe(m){try{return f().isEqual(m,JSON.parse(JSON.stringify(m)))}catch{return!1}}static isValidDnsSubdomain(m){return typeof m=="string"&&m.length>=1&&m.length<=253&&m.split(".").every(b.isValidDnsLabel)}static isValidDnsLabel(m){return typeof m=="string"&&m.length>=1&&m.length<=63&&/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(m)}static isValidTag(m){return typeof m=="string"&&m.length>=1&&m.length<=63&&/^[a-z0-9+#]+(\-[a-z0-9+#]+)*$/.test(m)}static isValidUrl(m){if(typeof m!="string")return!1;try{return new URL(m),!0}catch{return!1}}static isValidString(m){var D;return typeof m=="string"&&((D=m==null?void 0:m.trim())==null?void 0:D.length)>=1}static isNonEmptyString(m){var D;return typeof m=="string"&&((D=m==null?void 0:m.trim())==null?void 0:D.length)>=1}}var x="http://json-schema.org/draft-07/schema",H="EntityEnvelope",te="The envelope skeleton parts of an entity - whatever is necessary to be able to give it a ref and pass to further validation / policy checking.",oe=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService"}}],ce="object",He=["apiVersion","kind","metadata"],De=!0,et={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{type:"object",required:["name"],additionalProperties:!0,properties:{name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1}}}},lt={$schema:x,$id:H,description:te,examples:oe,type:ce,required:He,additionalProperties:De,properties:et},Et="http://json-schema.org/draft-07/schema",Lt="Entity",dt="The parts of the format that's common to all versions/kinds of entity.",he=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],j="object",re=["apiVersion","kind","metadata"],W=!1,d={apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{$ref:"EntityMeta"},spec:{type:"object",description:"The specification data describing the entity itself."},relations:{type:"array",description:"The relations that this entity has with other entities.",items:{$ref:"common#relation"}},status:{$ref:"common#status"}},k={$schema:Et,$id:Lt,description:dt,examples:he,type:j,required:re,additionalProperties:W,properties:d},J="http://json-schema.org/draft-07/schema",Le="EntityMeta",Me="Metadata fields common to all versions/kinds of entity.",gt=[{uid:"e01199ab-08cc-44c2-8e19-5c29ded82521",etag:"lsndfkjsndfkjnsdfkjnsd==",name:"my-component-yay",namespace:"the-namespace",labels:{"backstage.io/custom":"ValueStuff"},annotations:{"example.com/bindings":"are-secret"},tags:["java","data"]}],nt="object",M=["name"],Z=!0,ie={uid:{type:"string",description:"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.",examples:["e01199ab-08cc-44c2-8e19-5c29ded82521"],minLength:1},etag:{type:"string",description:"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.",examples:["lsndfkjsndfkjnsdfkjnsd=="],minLength:1},name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1},title:{type:"string",description:"A display name of the entity, to be presented in user interfaces instead of the name property, when available.",examples:["React SSR Template"],minLength:1},description:{type:"string",description:"A short (typically relatively few words, on one line) description of the entity."},labels:{type:"object",description:"Key/value pairs of identifying information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},annotations:{type:"object",description:"Key/value pairs of non-identifying auxiliary information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},tags:{type:"array",description:"A list of single-valued strings, to for example classify catalog entities in various ways.",items:{type:"string",minLength:1}},links:{type:"array",description:"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.",items:{type:"object",required:["url"],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://admin.example-org.com"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["Admin Dashboard"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}}},we={$schema:J,$id:Le,description:Me,examples:gt,type:nt,required:M,additionalProperties:Z,properties:ie},je="http://json-schema.org/draft-07/schema",Xe="common",Mt="object",Ut="Common definitions to import from other schemas",Gt={reference:{$id:"#reference",type:"object",description:"A reference by name to another entity.",required:["kind","namespace","name"],additionalProperties:!1,properties:{kind:{type:"string",description:"The kind field of the entity.",minLength:1},namespace:{type:"string",description:"The metadata.namespace field of the entity.",minLength:1},name:{type:"string",description:"The metadata.name field of the entity.",minLength:1}}},relation:{$id:"#relation",type:"object",description:"A directed relation from one entity to another.",required:["type","target"],additionalProperties:!1,properties:{type:{type:"string",minLength:1,pattern:"^\\w+$",description:"The type of relation."},target:{$ref:"#reference"}}},status:{$id:"#status",type:"object",description:"The current status of the entity, as claimed by various sources.",required:[],additionalProperties:!0,properties:{items:{type:"array",items:{$ref:"#statusItem"}}}},statusItem:{$id:"#statusItem",type:"object",description:"A specific status item on a well known format.",required:["type","level","message"],additionalProperties:!0,properties:{type:{type:"string",minLength:1},level:{$ref:"#statusLevel",description:"The status level / severity of the status item."},message:{type:"string",description:"A brief message describing the status, intended for human consumption."},error:{$ref:"#error",description:"An optional serialized error object related to the status."}}},statusLevel:{$id:"#statusLevel",type:"string",description:"A status level / severity.",enum:["info","warning","error"]},error:{$id:"#error",type:"object",description:"A serialized error object.",required:["name","message"],additionalProperties:!0,properties:{name:{type:"string",examples:["Error","InputError"],description:"The type name of the error",minLength:1},message:{type:"string",description:"The message of the error"},code:{type:"string",description:"An error code associated with the error"},stack:{type:"string",description:"An error stack trace"}}}},zt={$schema:je,$id:Xe,type:Mt,description:Ut,definitions:Gt};const _t=new Map,on=[lt,k,we,zt];function It(s){if(!(s!=null&&s.length))throw new TypeError("Unknown error");const m=s[0];throw new TypeError(`${m.instancePath||"<root>"} ${m.message}${m.params?` - ${Object.entries(m.params).map(([D,n])=>`${D}: ${n}`).join(", ")}`:""}`)}function dn(s,m={}){var D;const n=(D=m==null?void 0:m.disableCache)!=null?D:!1,o=n?"":JSON.stringify(s);if(!n){const L=_t.get(o);if(L)return L}const u=bn(s),g=new(I())({allowUnionTypes:!0,allErrors:!0,validateSchema:!0});u.length&&g.addSchema(u,void 0,void 0,!0);const P=g.compile(s);return n||_t.set(o,P),P}function bn(s){if(typeof s!="object")return[];const m=new Set;s.$id&&m.add(s.$id);const D=new Array,n=[s];for(;n.length;){const o=n.pop();for(const u of pn(o))if(!m.has(u)){m.add(u);const g=on.find(P=>P.$id===u);g&&(D.push(g),n.push(g))}}return D}function*pn(s){const m=[s];for(;m.length;){const D=m.pop();if(typeof D=="object"&&D)for(const[n,o]of Object.entries(D))n==="$ref"&&typeof o=="string"?yield o.split("#")[0]:m.push(o)}}function wn(s){const m=dn(s||lt);return D=>{if(m(D)===!0)return D;throw It(m.errors)}}function pe(s){const m=dn(s);return D=>{var n;if(m(D)===!0)return D;const u=(n=m.errors)==null?void 0:n.filter(g=>["/kind","/apiVersion"].includes(g.instancePath));if((u==null?void 0:u.length)&&u.every(g=>g.keyword==="enum"))return!1;throw It(m.errors)}}function ue(s){const m=dn(s||k);return D=>{if(m(D)===!0)return D;throw It(m.errors)}}class Ce{static isValidApiVersion(m){return b.isValidPrefixAndOrSuffix(m,"/",b.isValidDnsSubdomain,D=>D.length>=1&&D.length<=63&&/^[a-z0-9A-Z]+$/.test(D))}static isValidKind(m){return typeof m=="string"&&m.length>=1&&m.length<=63&&/^[a-zA-Z][a-z0-9A-Z]*$/.test(m)}static isValidObjectName(m){return typeof m=="string"&&m.length>=1&&m.length<=63&&/^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(m)}static isValidNamespace(m){return b.isValidDnsLabel(m)}static isValidLabelKey(m){return b.isValidPrefixAndOrSuffix(m,"/",b.isValidDnsSubdomain,Ce.isValidObjectName)}static isValidLabelValue(m){return m===""||Ce.isValidObjectName(m)}static isValidAnnotationKey(m){return b.isValidPrefixAndOrSuffix(m,"/",b.isValidDnsSubdomain,Ce.isValidObjectName)}static isValidAnnotationValue(m){return typeof m=="string"}}const Be={isValidApiVersion:Ce.isValidApiVersion,isValidKind:Ce.isValidKind,isValidEntityName:Ce.isValidObjectName,isValidNamespace:Ce.isValidNamespace,isValidLabelKey:Ce.isValidLabelKey,isValidLabelValue:Ce.isValidLabelValue,isValidAnnotationKey:Ce.isValidAnnotationKey,isValidAnnotationValue:Ce.isValidAnnotationValue,isValidTag:s=>typeof s=="string"&&s.length>=1&&s.length<=63&&/^[a-z0-9:+#]+(\-[a-z0-9:+#]+)*$/.test(s)};function Ke(s={}){return{...Be,...s}}class wt{constructor(m=Ke()){this.validators=m}async enforce(m){var D,n,o,u,g,P,L;function G(be,ye,Fe){if(ye==null)throw new Error(`${be} must have a value`);let Ve;try{Ve=Fe(ye)}catch(We){throw new Error(`${be} could not be validated, ${We}`)}if(!Ve){let We;switch(Fe.name){case"isValidLabelValue":case"isValidObjectName":We="a string that is sequences of [a-zA-Z0-9] separated by any of [-_.], at most 63 characters in total";break;case"isValidLabelKey":case"isValidApiVersion":case"isValidAnnotationKey":We="a valid prefix and/or suffix";break;case"isValidNamespace":case"isValidDnsLabel":We="a string that is sequences of [a-z0-9] separated by [-], at most 63 characters in total";break;case"isValidTag":We="a string that is sequences of [a-z0-9+#] separated by [-], at most 63 characters in total";break;case"isValidAnnotationValue":We="a string";break;case"isValidKind":We="a string that is a sequence of [a-zA-Z][a-z0-9A-Z], at most 63 characters in total";break;case"isValidUrl":We="a string that is a valid url";break;case"isValidString":case"isNonEmptyString":We="a non empty string";break;default:We=void 0;break}const vt=We?` expected ${We} but found "${ye}".`:"";throw new Error(`"${be}" is not valid;${vt} To learn more about catalog file format, visit: https://github.com/backstage/backstage/blob/master/docs/architecture-decisions/adr002-default-catalog-file-format.md`)}}function q(be,ye,Fe){return ye===void 0||G(be,ye,Fe)}G("apiVersion",m.apiVersion,this.validators.isValidApiVersion),G("kind",m.kind,this.validators.isValidKind),G("metadata.name",m.metadata.name,this.validators.isValidEntityName),q("metadata.namespace",m.metadata.namespace,this.validators.isValidNamespace);for(const[be,ye]of Object.entries((D=m.metadata.labels)!=null?D:[]))G(`labels.${be}`,be,this.validators.isValidLabelKey),G(`labels.${be}`,ye,this.validators.isValidLabelValue);for(const[be,ye]of Object.entries((n=m.metadata.annotations)!=null?n:[]))G(`annotations.${be}`,be,this.validators.isValidAnnotationKey),G(`annotations.${be}`,ye,this.validators.isValidAnnotationValue);const ee=(o=m.metadata.tags)!=null?o:[];for(let be=0;be<ee.length;++be)G(`tags.${be}`,ee[be],this.validators.isValidTag);const de=(u=m.metadata.links)!=null?u:[];for(let be=0;be<de.length;++be)G(`links.${be}.url`,(g=de[be])==null?void 0:g.url,b.isValidUrl),q(`links.${be}.title`,(P=de[be])==null?void 0:P.title,b.isNonEmptyString),q(`links.${be}.icon`,(L=de[be])==null?void 0:L.icon,Ce.isValidObjectName);return m}}const Ht=null;class ot{constructor(m=Ht){this.knownFields=m}async enforce(m){for(const D of Object.keys(m))if(!this.knownFields.includes(D))throw new Error(`Unknown field ${D}`);return m}}class Rt{async enforce(m){if(!this.validate){const o=new Ajv({allowUnionTypes:!0});this.validate=o.addSchema([zt,we],void 0,void 0,!0).compile(k)}if(this.validate(m)===!0)return m;const[n]=this.validate.errors||[];throw n?new Error(`Malformed envelope, ${n.instancePath||"<root>"} ${n.message}`):new Error("Malformed envelope, Unknown error")}}function Dt(s){let m=s.indexOf(":");const D=s.indexOf("/");D!==-1&&D<m&&(m=-1);const n=m===-1?void 0:s.slice(0,m),o=D===-1?void 0:s.slice(m+1,D),u=s.slice(Math.max(m+1,D+1));if(n===""||o===""||u==="")throw new TypeError(`Entity reference "${s}" was not on the form [<kind>:][<namespace>/]<name>`);return{kind:n,namespace:o,name:u}}function tn(s){return{kind:s.kind,namespace:s.metadata.namespace||y,name:s.metadata.name}}function Rn(s,m){var D,n,o,u;if(!s)throw new Error("Entity reference must not be empty");const g=m==null?void 0:m.defaultKind,P=(m==null?void 0:m.defaultNamespace)||y;let L,G,q;if(typeof s=="string"){const ee=Dt(s);L=(D=ee.kind)!=null?D:g,G=(n=ee.namespace)!=null?n:P,q=ee.name}else L=(o=s.kind)!=null?o:g,G=(u=s.namespace)!=null?u:P,q=s.name;if(L)if(G){if(!q){const ee=JSON.stringify(s);throw new Error(`Entity reference ${ee} had missing or empty name`)}}else{const ee=JSON.stringify(s);throw new Error(`Entity reference ${ee} had missing or empty namespace`)}else{const ee=JSON.stringify(s);throw new Error(`Entity reference ${ee} had missing or empty kind (e.g. did not start with "component:" or similar)`)}return{kind:L,namespace:G,name:q}}function In(s){var m,D;let n,o,u;return"metadata"in s?(n=s.kind,o=(m=s.metadata.namespace)!=null?m:y,u=s.metadata.name):(n=s.kind,o=(D=s.namespace)!=null?D:y,u=s.name),`${n.toLocaleLowerCase("en-US")}:${o.toLocaleLowerCase("en-US")}/${u.toLocaleLowerCase("en-US")}`}class On{constructor(m){this.policies=m}async enforce(m){let D=m;for(const n of this.policies){const o=await n.enforce(D);if(!o)throw new Error(`Policy ${n.constructor.name} did not return a result`);D=o}return D}}class Mn{constructor(m){this.policies=m}async enforce(m){for(const D of this.policies){const n=await D.enforce(m);if(n)return n}throw new Error("The entity did not match any known policy")}}const Bn={allOf(s){return new On(s)},oneOf(s){return new Mn(s)}};var _n="http://json-schema.org/draft-07/schema",yr="ApiV1alpha1",Yn="An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.",Ur=[{apiVersion:"backstage.io/v1alpha1",kind:"API",metadata:{name:"artist-api",description:"Retrieve artist details",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"openapi",lifecycle:"production",owner:"artist-relations-team",system:"artist-engagement-portal",definition:`openapi: "3.0.0"
info:...`}}],nr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["API"]},spec:{type:"object",required:["type","lifecycle","owner","definition"],properties:{type:{type:"string",description:"The type of the API definition.",examples:["openapi","asyncapi","graphql","grpc"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the API.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the API.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the API belongs to.",minLength:1},definition:{type:"string",description:"The definition of the API, based on the format defined by the type.",minLength:1}}}}}],jn={$schema:_n,$id:yr,description:Yn,examples:Ur,allOf:nr};function rr(s){const m=pe(s);return{async check(D){return m(D)===D}}}const vr=rr(jn);var Jn="http://json-schema.org/draft-07/schema",ir="ComponentV1alpha1",Cr='A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a "unit of software", usually with a distinct deployable or linkable artifact.',Ir=[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],sn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Component"]},spec:{type:"object",required:["type","lifecycle","owner"],properties:{type:{type:"string",description:"The type of component.",examples:["service","website","library"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the component.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the component belongs to.",minLength:1},subcomponentOf:{type:"string",description:"An entity reference to another component of which the component is a part.",minLength:1},providesApis:{type:"array",description:"An array of entity references to the APIs that are provided by the component.",items:{type:"string",minLength:1}},consumesApis:{type:"array",description:"An array of entity references to the APIs that are consumed by the component.",items:{type:"string",minLength:1}},dependsOn:{type:"array",description:"An array of references to other entities that the component depends on to function.",items:{type:"string",minLength:1}}}}}}],wr={$schema:Jn,$id:ir,description:Cr,examples:Ir,allOf:sn};const _a=rr(wr);var va="http://json-schema.org/draft-07/schema",Er="DomainV1alpha1",Gr="A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.",Vr=[{apiVersion:"backstage.io/v1alpha1",kind:"Domain",metadata:{name:"artists",description:"Everything about artists"},spec:{owner:"artist-relations-team"}}],kr=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Domain"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1}}}}}],Mr={$schema:va,$id:Er,description:Gr,examples:Vr,allOf:kr};const sa=rr(Mr);var ar="http://json-schema.org/draft-07/schema",ia="GroupV1alpha1",to="A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.",Pr=[{apiVersion:"backstage.io/v1alpha1",kind:"Group",metadata:{name:"infrastructure",description:"The infra business unit"},spec:{type:"business-unit",profile:{displayName:"Infrastructure",email:"infrastructure@example.com",picture:"https://example.com/groups/bu-infrastructure.jpeg"},parent:"ops",children:["backstage","other"]}}],Br=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Group"]},spec:{type:"object",required:["type","children"],properties:{type:{type:"string",description:"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.",examples:["team","business-unit","product-area","root"],minLength:1},profile:{type:"object",description:"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Infrastructure"],minLength:1},email:{type:"string",description:"An email where this entity can be reached.",examples:["infrastructure@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this entity.",examples:["https://example.com/groups/bu-infrastructure.jpeg"],minLength:1}}},parent:{type:"string",description:"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.",examples:["ops"],minLength:1},children:{type:"array",description:"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["backstage","other"],minLength:1}},members:{type:"array",description:"The users that are members of this group. The entries of this array are entity references.",items:{type:"string",examples:["jdoe"],minLength:1}}}}}}],Ua={$schema:ar,$id:ia,description:to,examples:Pr,allOf:Br};const Ja=rr(Ua);var qr="http://json-schema.org/draft-07/schema",Fr="LocationV1alpha1",gr="A location is a marker that references other places to look for catalog data.",Ea=[{apiVersion:"backstage.io/v1alpha1",kind:"Location",metadata:{name:"org-data"},spec:{type:"url",targets:["http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml"]}}],Ia=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Location"]},spec:{type:"object",required:[],properties:{type:{type:"string",description:"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.",examples:["url"],minLength:1},target:{type:"string",description:"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.",examples:["./details/catalog-info.yaml"],minLength:1},targets:{type:"array",description:"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.",items:{type:"string",examples:["./details/catalog-info.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml"],minLength:1}},presence:{type:"string",description:"Whether the presence of the location target is required and it should be considered an error if it can not be found",default:"required",examples:["required"],enum:["required","optional"]}}}}}],Ya={$schema:qr,$id:Fr,description:gr,examples:Ea,allOf:Ia};const Or=rr(Ya),la="ownedBy",Ga="ownerOf",pa="consumesApi",zr="apiConsumedBy",Zr="providesApi",mn="apiProvidedBy",Wr="dependsOn",Qn="dependencyOf",ea="parentOf",cr="childOf",Xn="memberOf",hr="hasMember",qn="partOf",ur="hasPart";var fa="http://json-schema.org/draft-07/schema",Hr="ResourceV1alpha1",ta="A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.",Ee=[{apiVersion:"backstage.io/v1alpha1",kind:"Resource",metadata:{name:"artists-db",description:"Stores artist details"},spec:{type:"database",owner:"artist-relations-team",system:"artist-engagement-portal"}}],ve=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Resource"]},spec:{type:"object",required:["type","owner"],properties:{type:{type:"string",description:"The type of resource.",examples:["database","s3-bucket","cluster"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the resource.",examples:["artist-relations-team","user:john.johnson"],minLength:1},dependsOn:{type:"array",description:"An array of references to other entities that the resource depends on to function.",items:{type:"string",minLength:1}},system:{type:"string",description:"An entity reference to the system that the resource belongs to.",minLength:1}}}}}],Ie={$schema:fa,$id:Hr,description:ta,examples:Ee,allOf:ve};const Je=rr(Ie);var bt="http://json-schema.org/draft-07/schema",Ot="SystemV1alpha1",Yt="A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.",Qt=[{apiVersion:"backstage.io/v1alpha1",kind:"System",metadata:{name:"artist-engagement-portal",description:"Handy tools to keep artists in the loop"},spec:{owner:"artist-relations-team",domain:"artists"}}],cn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["System"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},domain:{type:"string",description:"An entity reference to the domain that the system belongs to.",examples:["artists"],minLength:1}}}}}],yn={$schema:bt,$id:Ot,description:Yt,examples:Qt,allOf:cn};const qe=rr(yn);var Ae="http://json-schema.org/draft-07/schema",ht="UserV1alpha1",xt="A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.",qt=[{apiVersion:"backstage.io/v1alpha1",kind:"User",metadata:{name:"jdoe"},spec:{profile:{displayName:"Jenny Doe",email:"jenny-doe@example.com",picture:"https://example.com/staff/jenny-with-party-hat.jpeg"},memberOf:["team-b","employees"]}}],nn=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["User"]},spec:{type:"object",required:["memberOf"],properties:{profile:{type:"object",description:"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Jenny Doe"],minLength:1},email:{type:"string",description:"An email where this user can be reached.",examples:["jenny-doe@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this user.",examples:["https://example.com/staff/jenny-with-party-hat.jpeg"],minLength:1}}},memberOf:{type:"array",description:"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["team-b","employees"],minLength:1}}}}}}],gn={$schema:Ae,$id:ht,description:xt,examples:qt,allOf:nn};const or=rr(gn),Un="backstage.io/managed-by-location",Fn="backstage.io/managed-by-origin-location",Rr="backstage.io/source-location";function ke(s){if(typeof s!="string")throw new TypeError(`Unable to parse location ref '${s}', unexpected argument ${typeof s}`);const m=s.indexOf(":");if(m<0)throw new TypeError(`Unable to parse location ref '${s}', expected '<type>:<target>', e.g. 'url:https://host/path'`);const D=s.substring(0,m).trim(),n=s.substring(m+1).trim();if(!D||!n)throw new TypeError(`Unable to parse location ref '${s}', expected '<type>:<target>', e.g. 'url:https://host/path'`);if(D==="http"||D==="https")throw new TypeError(`Invalid location ref '${s}', please prefix it with 'url:', e.g. 'url:${s}'`);return{type:D,target:n}}function K(s){const{type:m,target:D}=s;if(m){if(!D)throw new TypeError("Unable to stringify location ref, empty target")}else throw new TypeError("Unable to stringify location ref, empty type");return`${m}:${D}`}function Q(s){var m,D,n,o,u;const g=(u=(D=(m=s.metadata)==null?void 0:m.annotations)==null?void 0:D[Rr])!=null?u:(o=(n=s.metadata)==null?void 0:n.annotations)==null?void 0:o[Un];if(!g)throw new Error(`Entity '${In(s)}' is missing location`);return ke(g)}var se=a(10179),ge=a(96279);const Pe=Symbol.for("CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111");class Oe{constructor(m){this.discoveryApi=m.discoveryApi,this.fetchApi=m.fetchApi||{fetch:crossFetch}}async getEntityAncestors(m,D){const{kind:n,namespace:o,name:u}=parseEntityRef(m.entityRef);return await this.requestRequired("GET",`/entities/by-name/${encodeURIComponent(n)}/${encodeURIComponent(o)}/${encodeURIComponent(u)}/ancestry`,D)}async getLocationById(m,D){return await this.requestOptional("GET",`/locations/${encodeURIComponent(m)}`,D)}async getEntities(m,D){const{filter:n=[],fields:o=[],offset:u,limit:g,after:P}=m!=null?m:{},L=[];for(const de of[n].flat()){const be=[];for(const[ye,Fe]of Object.entries(de))for(const Ve of[Fe].flat())Ve===Pe?be.push(encodeURIComponent(ye)):typeof Ve=="string"&&be.push(`${encodeURIComponent(ye)}=${encodeURIComponent(Ve)}`);be.length&&L.push(`filter=${be.join(",")}`)}o.length&&L.push(`fields=${o.map(encodeURIComponent).join(",")}`),u!==void 0&&L.push(`offset=${u}`),g!==void 0&&L.push(`limit=${g}`),P!==void 0&&L.push(`after=${encodeURIComponent(P)}`);const G=L.length?`?${L.join("&")}`:"",q=await this.requestRequired("GET",`/entities${G}`,D),ee=(de,be)=>{var ye,Fe;if(((ye=de.metadata)==null?void 0:ye.name)===void 0||de.kind===void 0||((Fe=be.metadata)==null?void 0:Fe.name)===void 0||be.kind===void 0)return 0;const Ve=stringifyEntityRef(de),We=stringifyEntityRef(be);return Ve<We?-1:Ve>We?1:0};return{items:q.sort(ee)}}async getEntityByRef(m,D){const{kind:n,namespace:o,name:u}=parseEntityRef(m);return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(n)}/${encodeURIComponent(o)}/${encodeURIComponent(u)}`,D)}async getEntityByName(m,D){const{kind:n,namespace:o="default",name:u}=m;return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(n)}/${encodeURIComponent(o)}/${encodeURIComponent(u)}`,D)}async refreshEntity(m,D){const n=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/refresh`,{headers:{"Content-Type":"application/json",...(D==null?void 0:D.token)&&{Authorization:`Bearer ${D==null?void 0:D.token}`}},method:"POST",body:JSON.stringify({entityRef:m})});if(n.status!==200)throw new Error(await n.text())}async getEntityFacets(m,D){const{filter:n=[],facets:o}=m,u=[];for(const P of[n].flat()){const L=[];for(const[G,q]of Object.entries(P))for(const ee of[q].flat())ee===Pe?L.push(encodeURIComponent(G)):typeof ee=="string"&&L.push(`${encodeURIComponent(G)}=${encodeURIComponent(ee)}`);L.length&&u.push(`filter=${L.join(",")}`)}for(const P of o)u.push(`facet=${encodeURIComponent(P)}`);const g=u.length?`?${u.join("&")}`:"";return await this.requestOptional("GET",`/entity-facets${g}`,D)}async addLocation({type:m="url",target:D,dryRun:n},o){const u=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/locations${n?"?dryRun=true":""}`,{headers:{"Content-Type":"application/json",...(o==null?void 0:o.token)&&{Authorization:`Bearer ${o==null?void 0:o.token}`}},method:"POST",body:JSON.stringify({type:m,target:D})});if(u.status!==201)throw new Error(await u.text());const{location:g,entities:P,exists:L}=await u.json();if(!g)throw new Error(`Location wasn't added: ${D}`);return{location:g,entities:P,exists:L}}async getLocationByRef(m,D){return(await this.requestRequired("GET","/locations",D)).map(o=>o.data).find(o=>m===stringifyLocationRef(o))}async removeLocationById(m,D){await this.requestIgnored("DELETE",`/locations/${encodeURIComponent(m)}`,D)}async removeEntityByUid(m,D){await this.requestIgnored("DELETE",`/entities/by-uid/${encodeURIComponent(m)}`,D)}async requestIgnored(m,D,n){const o=`${await this.discoveryApi.getBaseUrl("catalog")}${D}`,u=n!=null&&n.token?{Authorization:`Bearer ${n.token}`}:{},g=await this.fetchApi.fetch(o,{method:m,headers:u});if(!g.ok)throw await ResponseError.fromResponse(g)}async requestRequired(m,D,n){const o=`${await this.discoveryApi.getBaseUrl("catalog")}${D}`,u=n!=null&&n.token?{Authorization:`Bearer ${n.token}`}:{},g=await this.fetchApi.fetch(o,{method:m,headers:u});if(!g.ok)throw await ResponseError.fromResponse(g);return await g.json()}async requestOptional(m,D,n){const o=`${await this.discoveryApi.getBaseUrl("catalog")}${D}`,u=n!=null&&n.token?{Authorization:`Bearer ${n.token}`}:{},g=await this.fetchApi.fetch(o,{method:m,headers:u});if(!g.ok){if(g.status===404)return;throw await ResponseError.fromResponse(g)}return await g.json()}}const Ge="backstage.io/catalog-processing";var st=a(82394),pt=a(41156),X=a(60364),ae=a(77277),$e=a(4190),Ne=a(60905),Ze=a(80030),Ue=a(15459),Qe=a(36444),rt=a(76241),yt=a(19126),at=a.n(yt),mt=a(18149),Ct=a(829),Ft=a(19928),At=a(12420),rn=a(41128),un=a(76600),hn=a(72779),en=a.n(hn),Tn=a(62833),Nr=a(19353),na=a(95074),Ml=a(56553),iu=a(26639),Ls=a(39595),lu=a(13387),Uo=a(46506),Oa=a(54073),xs=a(10368),bi=a(55876),Go=a(66481),wi=a(19574),Ri=a.p+"static/missingAnnotation.67f79e98..svg",Si=a.p+"static/noInformation.4b426325..svg",Ds=a.p+"static/createComponent.975d1e1e..svg",Ms=a.p+"static/noBuild.1715fa71..svg",Po=a(11776),ss=a(38402),is=a(49378),Bl=a(27616),Fl=a(8284),cu=a(70660),jl=a(91750),_l=a(38016),ls=a(85256),Ul=a(1292),uu=a(47093),du=a(48049),Gl=a(51209),Vl=a(49429),mu=a(15277),pu=a.n(mu),fu=a(67644),Bs=a(14503),$i=a(24579),zl=a(32552),Zl=a(27597),Ti=a(7896),cs=a(96234),Wl=a(59740),Ci={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Fs=function(m){var D=m.map(function(){return(0,t.useRef)()}),n=(0,t.useRef)(null);return(0,t.useEffect)(function(){var o=Date.now(),u=!1;Object.keys(D).forEach(function(g){var P=D[g].current;if(!!P){u=!0;var L=P.style;L.transitionDuration=".3s, .3s, .3s, .06s",n.current&&o-n.current<100&&(L.transitionDuration="0s, 0s")}}),u&&(n.current=Date.now())}),[D]},no=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],js=function(m){var D=m.className,n=m.percent,o=m.prefixCls,u=m.strokeColor,g=m.strokeLinecap,P=m.strokeWidth,L=m.style,G=m.trailColor,q=m.trailWidth,ee=m.transition,de=(0,Wl.Z)(m,no);delete de.gapPosition;var be=Array.isArray(n)?n:[n],ye=Array.isArray(u)?u:[u],Fe=Fs(be),Ve=(0,cs.Z)(Fe,1),We=Ve[0],vt=P/2,Pt=100-P/2,Nt="M ".concat(g==="round"?vt:0,",").concat(vt,`
         L `).concat(g==="round"?Pt:100,",").concat(vt),Xt="0 0 100 ".concat(P),Jt=0;return t.createElement("svg",(0,Ti.Z)({className:en()("".concat(o,"-line"),D),viewBox:Xt,preserveAspectRatio:"none",style:L},de),t.createElement("path",{className:"".concat(o,"-line-trail"),d:Nt,strokeLinecap:g,stroke:G,strokeWidth:q||P,fillOpacity:"0"}),be.map(function(ln,an){var vn=1;switch(g){case"round":vn=1-P/100;break;case"square":vn=1-P/2/100;break;default:vn=1;break}var Sn={strokeDasharray:"".concat(ln*vn,"px, 100px"),strokeDashoffset:"-".concat(Jt,"px"),transition:ee||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},$n=ye[an]||ye[ye.length-1];return Jt+=ln,t.createElement("path",{key:an,className:"".concat(o,"-line-path"),d:Nt,strokeLinecap:g,stroke:$n,strokeWidth:P,fillOpacity:"0",ref:We[an],style:Sn})}))};js.defaultProps=Ci,js.displayName="Line";var Ao=js,us=a(86522),_s=a(39588),ki=0,hu=(0,_s.Z)();function Hl(){var s;return hu?(s=ki,ki+=1):s="TEST_OR_SSR",s}var Io=function(s){var m=t.useState(),D=(0,cs.Z)(m,2),n=D[0],o=D[1];return t.useEffect(function(){o("rc_progress_".concat(Hl()))},[]),s||n},Kl=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Us(s){return+s.replace("%","")}function Gs(s){var m=s!=null?s:[];return Array.isArray(m)?m:[m]}var Qa=100,Pi=function(m,D,n,o){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,g=arguments.length>5?arguments[5]:void 0,P=arguments.length>6?arguments[6]:void 0,L=arguments.length>7?arguments[7]:void 0,G=u>0?90+u/2:-90,q=Math.PI*2*m,ee=q*((360-u)/360),de=D/100*360*((360-u)/360),be=u===0?0:{bottom:0,top:180,left:90,right:-90}[g],ye=(100-n)/100*ee;return P==="round"&&n!==100&&(ye+=L/2,ye>=ee&&(ye=ee-.01)),{stroke:typeof o=="string"?o:void 0,strokeDasharray:"".concat(ee,"px ").concat(q),strokeDashoffset:ye,transform:"rotate(".concat(G+de+be,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Jl=function(m){var D=m.id,n=m.prefixCls,o=m.strokeWidth,u=m.trailWidth,g=m.gapDegree,P=m.gapPosition,L=m.trailColor,G=m.strokeLinecap,q=m.style,ee=m.className,de=m.strokeColor,be=m.percent,ye=(0,Wl.Z)(m,Kl),Fe=Io(D),Ve="".concat(Fe,"-gradient"),We=Qa/2-o/2,vt=Pi(We,0,100,L,g,P,G,o),Pt=Gs(be),Nt=Gs(de),Xt=Nt.find(function(Sn){return Sn&&(0,us.Z)(Sn)==="object"}),Jt=Fs(Pt),ln=(0,cs.Z)(Jt,1),an=ln[0],vn=function(){var $n=0;return Pt.map(function(En,An){var tr=Nt[An]||Nt[Nt.length-1],Nn=tr&&(0,us.Z)(tr)==="object"?"url(#".concat(Ve,")"):void 0,ga=Pi(We,$n,En,tr,g,P,G,o);return $n+=En,t.createElement("circle",{key:An,className:"".concat(n,"-circle-path"),r:We,cx:Qa/2,cy:Qa/2,stroke:Nn,strokeLinecap:G,strokeWidth:o,opacity:En===0?0:1,style:ga,ref:an[An]})}).reverse()};return t.createElement("svg",(0,Ti.Z)({className:en()("".concat(n,"-circle"),ee),viewBox:"0 0 ".concat(Qa," ").concat(Qa),style:q,id:D},ye),Xt&&t.createElement("defs",null,t.createElement("linearGradient",{id:Ve,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(Xt).sort(function(Sn,$n){return Us(Sn)-Us($n)}).map(function(Sn,$n){return t.createElement("stop",{key:$n,offset:Sn,stopColor:Xt[Sn]})}))),t.createElement("circle",{className:"".concat(n,"-circle-trail"),r:We,cx:Qa/2,cy:Qa/2,stroke:L,strokeLinecap:G,strokeWidth:u||o,style:vt}),vn())};Jl.defaultProps=Ci,Jl.displayName="Circle";var Ai=Jl,Yl={Line:Ao,Circle:Ai},gu=a(21324),Vs=a(7089),zs=a(42494),Ql=a(74603),Xl=a(56939),Zs=a(12231),Ii=a(73698),Oi=a(72379),ds=a(74600),Ni=a(15584),ql=a(86136),Li=a(79784),ec=a(80079),Vo=a(18671),tc=a(57998),yu=a(83543),Oo=a(59797),ad=a(26739),nc=a(86619),vu=a(98989),Eu=a(6487),od=a(99152),bu=a(21070),xi=a(90324),Di=a(98281),Ws=a(33375),rc=a(44233),Mi=a(27604),ac=a(37971),oc=a(59709),sc=a(17373),go=a(3702),Bi=a(93111),No=a(67222),wu=a(44311),ic=a.p+"static/mic-drop.fe3ef4d0..svg",Ln=a(30195),Fi=a(63955),ms=a(74828),lo=a(45455),Ru=a.n(lo);function lc(s){const[m,D]=useState([]),n=useApi(alertApiRef),{anchorOrigin:o={vertical:"top",horizontal:"center"}}=s;if(useEffect(()=>{const P=n.alert$().subscribe(L=>D(G=>G.concat(L)));return()=>{P.unsubscribe()}},[n]),m.length===0)return null;const[u]=m,g=()=>{D(P=>P.filter(L=>L!==u))};return React.createElement(Snackbar,{open:!0,anchorOrigin:o},React.createElement(Alert,{action:React.createElement(IconButton,{color:"inherit",size:"small",onClick:g,"data-testid":"error-button-close"},React.createElement(CloseIcon,null)),severity:u.severity},React.createElement("span",null,u.message.toString(),m.length>1&&React.createElement("em",null,` (${m.length-1} older ${pluralize("message",m.length-1)})`))))}function Hs(s){let m=0;for(let n=0;n<s.length;n++)m=s.charCodeAt(n)+((m<<5)-m);let D="#";for(let n=0;n<3;n++)D+=`00${(m>>n*8&255).toString(16)}`.substr(-2);return D}function Va(s){var m;return(m=s.match(/\b\w/g))==null?void 0:m.join("").substring(0,2)}const Su=(0,l.Z)(s=>(0,At.Z)({avatar:{width:"4rem",height:"4rem",color:"#fff",fontWeight:s.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function sd(s){const{displayName:m,picture:D,customStyles:n}=s,o=Su();let u={...n};return D||(u={backgroundColor:Hs(m||""),...n}),React.createElement(MaterialAvatar,{alt:m,src:D,className:o.avatar,style:u},m&&Va(m))}const $u=(0,l.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),Tu=s=>/^([a-z+.-]+):/.test(s),cc=s=>{var m;return s instanceof Array?s.map(cc).join(" ").trim():typeof s=="object"&&s?cc((m=s==null?void 0:s.props)==null?void 0:m.children):["string","number"].includes(typeof s)?String(s):""},Na=t.forwardRef(({onClick:s,noTrack:m,...D},n)=>{const o=$u(),u=(0,e.z$)(),g=String(D.to),P=cc(D.children)||g,L=Tu(g),G=L&&!!/^https?:/.exec(g),q=ee=>{s==null||s(ee),m||u.captureEvent("click",P,{attributes:{to:g}})};return L?t.createElement(h.Z,{ref:n,href:g,onClick:q,...G?{target:"_blank",rel:"noopener"}:{},...D,className:en()(o.externalLink,D.className)},D.children,t.createElement("span",{className:o.visuallyHidden},", Opens in a new window")):t.createElement(h.Z,{ref:n,component:Tn.rU,onClick:q,...D})}),uc=t.forwardRef((s,m)=>t.createElement(Na,{ref:m,...s,color:"initial"})),La=t.forwardRef((s,m)=>t.createElement(ae.Z,{ref:m,component:uc,...s}));function yo(s){const{text:m,tooltipDelay:D=1e3,tooltipText:n="Text copied to clipboard"}=s,o=(0,e.h_)(e.VE),[u,g]=(0,t.useState)(!1),[{error:P},L]=(0,na.Z)();(0,t.useEffect)(()=>{P&&o.post(P)},[P,o]);const G=q=>{q.stopPropagation(),g(!0),L(m)};return t.createElement(t.Fragment,null,t.createElement(Ze.ZP,{id:"copy-test-tooltip",title:n,placement:"top",leaveDelay:D,onClose:()=>g(!1),open:u},t.createElement(E.Z,{onClick:G},t.createElement(Nr.Z,null))))}function dc(s){const{text:m,language:D,showLineNumbers:n=!1,highlightedNumbers:o,customStyle:u,showCopyCodeButton:g=!1}=s,P=(0,X.Z)(),L=P.palette.type==="dark"?iu.Z:Ls.Z,G=P.palette.type==="dark"?"#256bf3":"#e6ffed";return t.createElement("div",{style:{position:"relative"}},t.createElement(Ml.Z,{customStyle:u,language:D,style:L,showLineNumbers:n,wrapLines:!0,lineNumberStyle:{color:P.palette.textVerySubtle},lineProps:q=>o!=null&&o.includes(q)?{style:{backgroundColor:G}}:{}},m),g&&t.createElement("div",{style:{position:"absolute",top:0,right:0}},t.createElement(yo,{text:m})))}function Cu(s){const{title:m,to:D}=s,n=useMediaQuery(o=>o.breakpoints.down("xs"));return D?n?React.createElement(IconButton,{component:Link$2,color:"primary",title:m,size:"small",to:D},React.createElement(AddCircleOutline,null)):React.createElement(Button$1,{component:Link$2,variant:"contained",color:"primary",to:D},m):null}var Ks=(s=>(s.TOP_BOTTOM="TB",s.BOTTOM_TOP="BT",s.LEFT_RIGHT="LR",s.RIGHT_LEFT="RL",s))(Ks||{}),ku=(s=>(s.UP_LEFT="UL",s.UP_RIGHT="UR",s.DOWN_LEFT="DL",s.DOWN_RIGHT="DR",s))(ku||{}),ji=(s=>(s.NETWORK_SIMPLEX="network-simplex",s.TIGHT_TREE="tight-tree",s.LONGEST_PATH="longest-path",s))(ji||{}),_i=(s=>(s.LEFT="l",s.RIGHT="r",s.CENTER="c",s))(_i||{}),Nd=Object.freeze({__proto__:null,Direction:Ks,Alignment:ku,Ranker:ji,LabelPosition:_i});const vo=(0,l.Z)(s=>({node:{fill:s.palette.primary.light,stroke:s.palette.primary.light},text:{fill:s.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function Ui({node:{id:s}}){const m=vo(),[D,n]=React.useState(0),[o,u]=React.useState(0),g=React.useRef(null);React.useLayoutEffect(()=>{if(g.current){let{height:q,width:ee}=g.current.getBBox();q=Math.round(q),ee=Math.round(ee),(q!==o||ee!==D)&&(n(ee),u(q))}},[D,o]);const P=10,L=D+P*2,G=o+P*2;return React.createElement("g",null,React.createElement("rect",{className:m.node,width:L,height:G,rx:10}),React.createElement("text",{ref:g,className:m.text,y:G/2,x:L/2,textAnchor:"middle",alignmentBaseline:"middle"},s))}const Gi="arrow-marker",Eo="node",Lo="edge",mc="label",Pu=(0,xs.Z)(s=>({node:{transition:`${s.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),Au=s=>React.createElement(Ui,{...s});function co({render:s=Au,setNode:m,node:D}){const{width:n,height:o,x:u=0,y:g=0}=D,P=D,L=Pu(),G=React.useRef(null);return React.useLayoutEffect(()=>{if(G.current){let{height:q,width:ee}=G.current.getBBox();q=Math.round(q),ee=Math.round(ee),(q!==o||ee!==n)&&m(D.id,{...D,height:q,width:ee})}},[D,n,o,m]),React.createElement("g",{ref:G,"data-testid":Eo,className:L.node,transform:`translate(${u-n/2},${g-o/2})`},s({node:P}))}const Ta=(0,xs.Z)(s=>({text:{fill:s.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function Js({edge:{label:s}}){const m=Ta();return React.createElement("text",{className:m.text,textAnchor:"middle"},s)}const ro=(0,xs.Z)(s=>({path:{strokeWidth:2,stroke:s.palette.textSubtle,fill:"none",transition:`${s.transitions.duration.shortest}ms`},label:{transition:`${s.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),pc=s=>React.createElement(Js,{...s}),xo=bi.Z().x(s=>s.x).y(s=>s.y).curve(Go.Z);function Vi({render:s=pc,setEdge:m,id:D,edge:n}){const{x:o=0,y:u=0,width:g,height:P,points:L}=n,G=n,q=ro(),ee=React.useRef(null);React.useLayoutEffect(()=>{if(ee.current){let{height:be,width:ye}=ee.current.getBBox();be=Math.round(be),ye=Math.round(ye),(be!==P||ye!==g)&&m(D,{...n,height:be,width:ye})}},[n,P,g,m,D]);let de="";if(L){const be=L.filter(ye=>isFinite(ye.x)&&isFinite(ye.y));de=xo(be)||""}return React.createElement(React.Fragment,null,de&&React.createElement("path",{"data-testid":Lo,className:q.path,markerEnd:`url(#${Gi})`,d:de}),G.label?React.createElement("g",{ref:ee,"data-testid":mc,className:q.label,transform:`translate(${o},${u})`},s({edge:G})):null)}const fc="workspace";function Do(s){var m,D;const{edges:n,nodes:o,renderNode:u,direction:g=Ks.TOP_BOTTOM,align:P,nodeMargin:L=50,edgeMargin:G=10,rankMargin:q=50,paddingX:ee=0,paddingY:de=0,acyclicer:be,ranker:ye=ji.NETWORK_SIMPLEX,labelPosition:Fe=_i.RIGHT,labelOffset:Ve=10,edgeRanks:We=1,edgeWeight:vt=1,renderLabel:Pt,defs:Nt,zoom:Xt="enabled",...Jt}=s,ln=useTheme$1(),[an,vn]=React.useState(100),[Sn,$n]=React.useState(100),En=React.useRef(new dagre.graphlib.Graph),[An,tr]=React.useState(((m=En.current.graph())==null?void 0:m.width)||0),[Nn,ga]=React.useState(((D=En.current.graph())==null?void 0:D.height)||0),[as,xr]=React.useState([]),[eo,os]=React.useState([]),$r=Math.max(An,an),mr=Math.max(Nn,Sn),da=React.useMemo(()=>debounce(pr=>{if(!pr)return;const ma=d3Selection.select(pr),oa=d3Selection.select(pr.getElementById(fc));function fr(){ma.call(d3Zoom.zoom().scaleExtent([1,10]).on("zoom",ya=>{ya.transform.x=Math.min(0,Math.max(ya.transform.x,$r-$r*ya.transform.k)),ya.transform.y=Math.min(0,Math.max(ya.transform.y,mr-mr*ya.transform.k)),oa.attr("transform",ya.transform)}))}Xt==="enabled"?fr():Xt==="enable-on-click"&&ma.on("click",()=>fr());const{width:Tr,height:Dr}=pr.getBoundingClientRect();an!==Tr&&vn(Tr),Sn!==Dr&&$n(Dr)},100),[Sn,an,$r,mr,Xt]),Aa=React.useCallback(()=>{const pr=En.current.nodes(),ma=En.current.edges();pr.forEach(oa=>{o.some(Tr=>Tr.id===oa)||En.current.removeNode(oa)}),ma.forEach(oa=>{n.some(Tr=>Tr.from===oa.v&&Tr.to===oa.w)||En.current.removeEdge(oa.v,oa.w)}),o.forEach(oa=>{const fr=En.current.nodes().find(Tr=>oa.id===Tr);if(fr&&En.current.node(fr)){const{width:Tr,height:Dr,x:ya,y:ko}=En.current.node(fr);En.current.setNode(fr,{...oa,width:Tr,height:Dr,x:ya,y:ko})}else En.current.setNode(oa.id,{...oa,width:0,height:0})}),n.forEach(oa=>{En.current.setEdge(oa.from,oa.to,{...oa,label:oa.label,width:0,height:0,labelpos:Fe,labeloffset:Ve,weight:vt,minlen:We})})},[n,o,Fe,Ve,vt,We]),sr=React.useMemo(()=>debounce(()=>{dagre.layout(En.current);const{height:pr,width:ma}=En.current.graph(),oa=Math.max(0,pr||0),fr=Math.max(0,ma||0);tr(fr),ga(oa),xr(En.current.nodes()),os(En.current.edges())},250,{leading:!0}),[]);React.useEffect(()=>(En.current.setGraph({rankdir:g,align:P,nodesep:L,edgesep:G,ranksep:q,marginx:ee,marginy:de,acyclicer:be,ranker:ye}),Aa(),sr(),sr.cancel),[be,P,g,G,ee,de,L,q,ye,Aa,sr]);function $a(pr,ma){return En.current.setNode(pr,ma),sr(),En.current}function vi(pr,ma){return En.current.setEdge(pr,ma),sr(),En.current}return React.createElement("svg",{ref:da,...Jt,width:"100%",height:mr,viewBox:`0 0 ${$r} ${mr}`},React.createElement("defs",null,React.createElement("marker",{id:Gi,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},React.createElement("path",{fill:ln.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),Nt),React.createElement("g",{id:fc},React.createElement("svg",{width:An,height:Nn,y:mr/2-Nn/2,x:$r/2-An/2,viewBox:`0 0 ${An} ${Nn}`},eo.map(pr=>{const ma=En.current.edge(pr);return ma?React.createElement(Vi,{key:`${pr.v}-${pr.w}`,id:pr,setEdge:vi,render:Pt,edge:ma}):null}),as.map(pr=>{const ma=En.current.node(pr);return ma?React.createElement(co,{key:pr,setNode:$a,render:u,node:ma}):null}))))}const Ca=(0,l.Z)(s=>{var m;return{root:{padding:s.spacing(0),marginBottom:s.spacing(0),marginTop:s.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:s.spacing(6),marginTop:-s.spacing(3),zIndex:"unset"},icon:{fontSize:20},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap"},message:{display:"flex",alignItems:"center",color:s.palette.banner.text,"& a":{color:s.palette.banner.link}},info:{backgroundColor:s.palette.banner.info},error:{backgroundColor:s.palette.banner.error},warning:{backgroundColor:(m=s.palette.banner.warning)!=null?m:s.palette.banner.error}}},{name:"BackstageDismissableBanner"}),zi=s=>{var m;const{variant:D,message:n,id:o,fixed:u=!1}=s,g=Ca(),L=useApi(storageApiRef).forBucket("notifications"),G=(m=L.snapshot("dismissedBanners").value)!=null?m:[],[q,ee]=useState(new Set(G)),de=useObservable(L.observe$("dismissedBanners"));useEffect(()=>{var ye;if(de!=null&&de.value){const Fe=(ye=de==null?void 0:de.value)!=null?ye:[];ee(new Set(Fe))}},[de==null?void 0:de.value]);const be=()=>{L.set("dismissedBanners",[...q,o])};return React.createElement(Snackbar,{anchorOrigin:u?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!q.has(o),classes:{root:classNames(g.root,!u&&g.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(g.content,g[D]),message:g.message},message:n,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",color:"inherit",onClick:be},React.createElement(CloseIcon,{className:g.icon}))]}))},ps=(0,l.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),Ys=({missing:s})=>{const m=ps();switch(s){case"field":return t.createElement("img",{src:Ri,className:m.generalImg,alt:"annotation is missing"});case"info":return t.createElement("img",{src:Si,alt:"no Information",className:m.generalImg});case"content":return t.createElement("img",{src:Ds,alt:"create Component",className:m.generalImg});case"data":return t.createElement("img",{src:Ms,alt:"no Build",className:m.generalImg});default:return null}},Mo=(0,l.Z)(s=>({root:{backgroundColor:s.palette.background.default,padding:s.spacing(2,0,0,0)},action:{marginTop:s.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function Zi(s){const{title:m,description:D,missing:n,action:o}=s,u=Mo();return t.createElement(Ne.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:u.root,spacing:2},t.createElement(Ne.Z,{item:!0,xs:12,md:6},t.createElement(Ne.Z,{container:!0,direction:"column"},t.createElement(Ne.Z,{item:!0,xs:!0},t.createElement(i.Z,{variant:"h5"},m)),t.createElement(Ne.Z,{item:!0,xs:!0},t.createElement(i.Z,{variant:"body1"},D)),t.createElement(Ne.Z,{item:!0,xs:!0,className:u.action},o))),t.createElement(Ne.Z,{item:!0,xs:12,md:6,className:u.imageContainer},t.createElement(Ys,{missing:n})))}const hc=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,fs=(0,l.Z)(s=>({code:{borderRadius:6,margin:`${s.spacing(2)}px 0px`,background:s.palette.type==="dark"?"#444":"#fff"}}),{name:"BackstageMissingAnnotationEmptyState"});function gc(s){const{annotation:m,readMoreUrl:D}=s,n=D||"https://backstage.io/docs/features/software-catalog/well-known-annotations",o=fs(),u=t.createElement(t.Fragment,null,"The ",t.createElement("code",null,m)," annotation is missing. You need to add the annotation to your component if you want to enable this tool.");return t.createElement(Zi,{missing:"field",title:"Missing Annotation",description:u,action:t.createElement(t.Fragment,null,t.createElement(i.Z,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),t.createElement("div",{className:o.code},t.createElement(dc,{text:hc.replace("ANNOTATION",m),language:"yaml",showLineNumbers:!0,highlightedNumbers:[6,7],customStyle:{background:"inherit",fontSize:"115%"}})),t.createElement(ae.Z,{color:"primary",component:Na,to:n},"Read more"))})}const zo=(s,m)=>(m.palette.type==="light"?rn._j:rn.$n)(m.palette[s].light,.6),Zo=(s,m)=>(m.palette.type==="light"?rn.$n:rn._j)(m.palette[s].light,.9),Wi=(0,l.Z)(s=>({root:{marginRight:s.spacing(1),fill:({severity:m})=>zo(m,s)}})),yc=({severity:s})=>{const m=Wi({severity:s});return t.createElement(jl.Z,{classes:m})},hs=({severity:s})=>{const m=Wi({severity:s});return t.createElement(_l.Z,{classes:m})},vc=(0,l.Z)(s=>({panel:{backgroundColor:({severity:m})=>Zo(m,s),color:({severity:m})=>zo(m,s),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:m})=>zo(m,s),fontWeight:"bold"},message:{width:"100%",display:"block",color:({severity:m})=>zo(m,s),backgroundColor:({severity:m})=>Zo(m,s)},details:{width:"100%",display:"block",color:s.palette.textContrast,backgroundColor:s.palette.background.default,border:`1px solid ${s.palette.border}`,padding:s.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Ec=s=>s.charAt(0).toLocaleUpperCase("en-US")+s.slice(1);function Hi(s){const{severity:m="warning",title:D,message:n,children:o,defaultExpanded:u}=s,g=vc({severity:m}),P=Ec(m)+(D?`: ${D}`:"");return t.createElement(Bl.Z,{defaultExpanded:u!=null?u:!1,className:g.panel,role:"alert"},t.createElement(Fl.Z,{expandIcon:t.createElement(hs,{severity:m}),className:g.summary},t.createElement(yc,{severity:m}),t.createElement(i.Z,{className:g.summaryText,variant:"subtitle1"},P)),(n||o)&&t.createElement(cu.Z,null,t.createElement(Ne.Z,{container:!0},n&&t.createElement(Ne.Z,{item:!0,xs:12},t.createElement(i.Z,{className:g.message,variant:"body1"},n)),o&&t.createElement(Ne.Z,{item:!0,xs:12,className:g.details},o))))}const Qs=(0,l.Z)(s=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:s.spacing(2)},divider:{margin:s.spacing(2)}}),{name:"BackstageErrorPanel"}),bc=({error:s,message:m,stack:D,children:n})=>{const o=Qs();return t.createElement(Po.Z,{dense:!0},t.createElement(ss.Z,{alignItems:"flex-start"},t.createElement(is.Z,{classes:{secondary:o.text},primary:"Error",secondary:s}),t.createElement(yo,{text:s})),t.createElement(ss.Z,{alignItems:"flex-start"},t.createElement(is.Z,{classes:{secondary:o.text},primary:"Message",secondary:m}),t.createElement(yo,{text:m})),D&&t.createElement(ss.Z,{alignItems:"flex-start"},t.createElement(is.Z,{classes:{secondary:o.text},primary:"Stack Trace",secondary:D}),t.createElement(yo,{text:D})),n)};function Ki(s){const{title:m,error:D,defaultExpanded:n,children:o}=s;return t.createElement(Hi,{severity:"error",title:m!=null?m:D.message,defaultExpanded:n},t.createElement(bc,{error:D.name,message:D.message,stack:D.stack,children:o}))}const wc=(0,l.Z)(s=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:s.spacing(2)},divider:{margin:s.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function gs(s){var m;const{title:D,error:n,defaultExpanded:o}=s,u=wc();if(n.name!=="ResponseError")return React.createElement(Ki,{title:D!=null?D:n.message,defaultExpanded:o,error:n});const{body:g,cause:P}=n,{request:L,response:G}=g,q=`${G.statusCode}: ${P.name}`,ee=L&&`${L.method} ${L.url}`,de=P.message.replace(/\\n/g,`
`),be=(m=P.stack)==null?void 0:m.replace(/\\n/g,`
`),ye=JSON.stringify(g,void 0,2);return React.createElement(Ki,{title:D!=null?D:n.message,defaultExpanded:o,error:{name:q,message:de,stack:be}},ee&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:u.text},primary:"Request",secondary:L?`${ee}`:void 0}),React.createElement(yo,{text:ee})),React.createElement(React.Fragment,null,React.createElement(Divider,{component:"li",className:u.divider}),React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:u.text},primary:"Full Error as JSON"})),React.createElement(dc,{language:"json",text:ye,showCopyCodeButton:!0})))}function za(s){const m=document.createElement("div");return m.setAttribute("id",s),m}function Ji(s){document.body.insertBefore(s,document.body.lastElementChild.nextElementSibling)}function Iu(s){const m=useRef(null);useEffect(function(){const o=document.querySelector(`#${s}`),u=o||za(s);return o||Ji(u),u.appendChild(m.current),function(){m.current.remove(),u.childNodes.length===-1&&u.remove()}},[s]);function D(){return m.current||(m.current=document.createElement("div")),m.current}return D()}const Xs="core.calloutSeen";function Ou(){const[s,m]=useState(()=>{const n=localStorage.getItem(Xs);return n?JSON.parse(n):{}}),D=useCallback((n,o)=>{const u=localStorage.getItem(Xs),P={...u?JSON.parse(u):{},[n]:o};m(P),localStorage.setItem(Xs,JSON.stringify(P))},[]);return{states:s,setState:D}}function Nu(s){const{states:m,setState:D}=Ou(),n=useCallback(()=>{D(s,!0)},[D,s]);return{seen:m[s]===!0,markSeen:n}}function Rc(s){const{seen:m,markSeen:D}=Nu(s);return{show:m===!1,hide:D}}const Lu=(0,l.Z)({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:"2px solid white",zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:"white",zIndex:2003}},{name:"BackstageFeatureCalloutCircular"});function id(s){const{featureId:m,title:D,description:n,children:o}=s,{show:u,hide:g}=Rc(m),P=Iu("core.callout"),L=useRef(null),[G,q]=useState(),ee=Lu(),de=useCallback(()=>{if(L.current){const be=L.current.getBoundingClientRect(),ye=Math.max(be.width,be.height),Fe=800,Ve=be.x-(ye-be.width)/2-Fe,We=be.y-(ye-be.height)/2-Fe,vt=ye+2*Fe,Pt=450,Nt=be.x+be.width/2-Pt,Xt=be.y-(ye-be.height)/2+ye+20;q({dotLeft:Ve,dotTop:We,dotSize:vt,borderWidth:Fe,textTop:Xt,textLeft:Nt,textWidth:Pt})}},[]);return useEffect(()=>(window.addEventListener("resize",de),window.addEventListener("scroll",de),()=>{window.removeEventListener("resize",de),window.removeEventListener("scroll",de)}),[de]),useLayoutEffect(de,[L.current,de]),u?React.createElement(React.Fragment,null,React.createElement("div",{className:ee.featureWrapper,ref:L},o),createPortal(React.createElement("div",{className:ee.backdrop},React.createElement(ClickAwayListener,{onClickAway:g},React.createElement(React.Fragment,null,React.createElement("div",{className:ee.dot,"data-testid":"dot",style:{left:G==null?void 0:G.dotLeft,top:G==null?void 0:G.dotTop,width:G==null?void 0:G.dotSize,height:G==null?void 0:G.dotSize,borderWidth:G==null?void 0:G.borderWidth},onClick:g,onKeyDown:g,role:"button",tabIndex:0},React.createElement("div",{className:ee.pulseCircle})),React.createElement("div",{className:ee.text,"data-testid":"text",style:{left:G==null?void 0:G.textLeft,top:G==null?void 0:G.textTop,width:G==null?void 0:G.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},D),React.createElement(Typography,null,n))))),P)):React.createElement(React.Fragment,null,o)}const Bo=(0,l.Z)(s=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:"gray",cursor:"default"},primary:{color:s.palette.primary.main},secondary:{color:s.palette.secondary.main},label:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function ld({color:s="primary",disabled:m=!1,href:D="#",icon:n=React.createElement(LinkIcon,null),label:o,onClick:u,title:g}){const P=Bo();return m?React.createElement(Link$1,{title:g,className:classNames(P.link,P.disabled),underline:"none"},n,React.createElement("span",{className:P.label},o)):React.createElement(Link$1,{title:g,className:classNames(P.link,P[s]),to:D,component:Na,onClick:u},n,React.createElement("span",{className:P.label},o))}const xu=(0,l.Z)(s=>({links:{margin:s.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:s.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function Du(s){const{links:m}=s,D=xu();return React.createElement("nav",{className:D.links},m.map((n,o)=>React.createElement(ld,{key:o+1,...n})))}const Yi=s=>{const m=s==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${m}) 0%,
    hsla(0, 0%, ${m}, 0.987) 8.1%,
    hsla(0, 0%, ${m}, 0.951) 15.5%,
    hsla(0, 0%, ${m}, 0.896) 22.5%,
    hsla(0, 0%, ${m}, 0.825) 29%,
    hsla(0, 0%, ${m}, 0.741) 35.3%,
    hsla(0, 0%, ${m}, 0.648) 41.2%,
    hsla(0, 0%, ${m}, 0.55) 47.1%,
    hsla(0, 0%, ${m}, 0.45) 52.9%,
    hsla(0, 0%, ${m}, 0.352) 58.8%,
    hsla(0, 0%, ${m}, 0.259) 64.7%,
    hsla(0, 0%, ${m}, 0.175) 71%,
    hsla(0, 0%, ${m}, 0.104) 77.5%,
    hsla(0, 0%, ${m}, 0.049) 84.5%,
    hsla(0, 0%, ${m}, 0.013) 91.9%,
    hsla(0, 0%, ${m}, 0) 100%
  `},Sc=100,Qi=10,$c=(0,l.Z)(s=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:Sc,height:`calc(100% + ${Qi}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-Qi,background:`linear-gradient(90deg, ${Yi(s.palette.type)})`},fadeRight:{right:-Qi,background:`linear-gradient(270deg, ${Yi(s.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-s.spacing(2)},buttonRight:{right:-s.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function ei(s){const[[m,D],n]=React.useState([0,0]);return React.useLayoutEffect(()=>{const o=s.current;if(!o){n([0,0]);return}const u=()=>{const g=o.scrollLeft,P=o.scrollWidth-o.offsetWidth-o.scrollLeft;n([g,P])};return u(),o.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{o.removeEventListener("scroll",u),window.removeEventListener("resize",u)}},[s]),[m,D]}function Xi(s,m,D){const[n,o]=React.useState(0);return React.useLayoutEffect(()=>{if(n===0)return;const u=performance.now(),g=requestAnimationFrame(P=>{if(!s.current)return;const L=P-u,G=Math.abs(n)*L/m,ee=Math.max(D,G)*Math.sign(n);s.current.scrollBy({left:ee});const de=n-ee;Math.sign(n)!==Math.sign(de)?o(0):o(de)});return()=>cancelAnimationFrame(g)},[s,n,m,D]),o}function Mu(s){const{scrollStep:m=100,scrollSpeed:D=50,minScrollDistance:n=5,children:o,...u}=s,g=$c(s),P=React.useRef(),[L,G]=ei(P),q=Xi(P,D,n),ee=de=>{!P.current||q(de?m:-m)};return React.createElement("div",{...u,className:g.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:g.container,ref:P},o),React.createElement("div",{className:classNames(g.fade,g.fadeLeft,{[g.fadeHidden]:L===0})}),React.createElement("div",{className:classNames(g.fade,g.fadeRight,{[g.fadeHidden]:G===0})}),L>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>ee(!1),className:classNames(g.button,g.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),G>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>ee(!0),className:classNames(g.button,g.buttonRight,{})},React.createElement(ChevronRight,null)))}const uo=(0,l.Z)({alpha:{color:"#ffffff",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}},{name:"BackstageLifecycle"});function cd(s){const m=uo(s),{shorthand:D,alpha:n}=s;return D?React.createElement("span",{className:m[n?"alpha":"beta"],style:{fontSize:"120%"}},n?React.createElement(React.Fragment,null,"\u03B1"):React.createElement(React.Fragment,null,"\u03B2")):React.createElement("span",{className:m[n?"alpha":"beta"]},n?"Alpha":"Beta")}const Tc=(0,t.lazy)(()=>Promise.all([a.e(7423),a.e(437)]).then(a.bind(a,80437)).then(s=>({default:s.RealLogViewer})));function qi(s){const{Progress:m}=useApp().getComponents();return React.createElement(Suspense,{fallback:React.createElement(m,null)},React.createElement(Tc,{...s}))}const Cc=(0,l.Z)(s=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${s.palette.border}`},"& th, & td":{border:`1px solid ${s.palette.border}`,padding:s.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:s.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:s.palette.background.paper},"& tr":{backgroundColor:s.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:s.palette.background.default},"& a":{color:s.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),Fo={code:({inline:s,className:m,children:D,...n})=>{const o=String(D).replace(/\n+$/,""),u=/language-(\w+)/.exec(m||"");return!s&&u?t.createElement(dc,{language:u[1],text:o}):t.createElement("code",{className:m,...n},D)}};function ka(s){const{content:m,dialect:D="gfm",linkTarget:n}=s,o=Cc();return React.createElement(ReactMarkdown,{remarkPlugins:D==="gfm"?[gfm]:[],className:o.markdown,children:m,components:Fo,linkTarget:n})}const ti=(0,l.Z)(s=>({root:{paddingLeft:s.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),ys=({request:s,busy:m,setBusy:D})=>{const n=ti(),[o,u]=useState(),g=async()=>{D(!0);try{await s.trigger()}catch(L){u(isError(L)?L.message:"An unspecified error occurred")}finally{D(!1)}},P=s.provider.icon;return React.createElement(ListItem,{disabled:m,classes:{root:n.root}},React.createElement(ListItemAvatar,null,React.createElement(P,{fontSize:"large"})),React.createElement(ListItemText,{primary:s.provider.title,secondary:o&&React.createElement(Typography,{color:"error"},o)}),React.createElement(Button$1,{color:"primary",variant:"contained",onClick:g},"Log in"))},kc=(0,l.Z)(s=>({dialog:{paddingTop:s.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:s.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:s.spacing(2,0)}}),{name:"OAuthRequestDialog"});function vs(s){const m=kc(),[D,n]=useState(!1),o=useApi(oauthRequestApiRef),u=useObservable(useMemo(()=>o.authRequest$(),[o]),[]),g=()=>{u.forEach(P=>P.reject())};return React.createElement(Dialog,{open:Boolean(u.length),fullWidth:!0,maxWidth:"xs",classes:{paper:m.dialog},"aria-labelledby":"oauth-req-dialog-title"},React.createElement("main",null,React.createElement(DialogTitle,{classes:{root:m.title},id:"oauth-req-dialog-title"},React.createElement(Typography,{className:m.titleHeading,variant:"h1"},"Login Required")),React.createElement(DialogContent,{dividers:!0,classes:{root:m.contentList}},React.createElement(List,null,u.map(P=>React.createElement(ys,{key:P.provider.title,request:P,busy:D,setBusy:n}))))),React.createElement(DialogActions,{classes:{root:m.actionButtons}},React.createElement(Button$1,{onClick:g},"Reject All")))}const Wo=(0,l.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function ud(s){var m;const[D,n]=(0,t.useState)(!1),o=(0,fu.t)(),u=Wo(),g=P=>{o()&&n(P)};return t.createElement(Ze.ZP,{title:(m=s.title)!=null?m:s.text||"",placement:s.placement,disableHoverListener:!D},t.createElement(pu(),{text:s.text,line:s.line,onToggled:g,containerClassName:u.container}))}function Es(s){const[m,D]=useState(!1);return useEffect(()=>{const n=setTimeout(()=>D(!0),250);return()=>clearTimeout(n)},[]),m?React.createElement(LinearProgress,{...s,"data-testid":"progress"}):React.createElement("div",{style:{display:"none"}})}const Pc=(0,l.Z)(s=>({root:{maxWidth:"fit-content",padding:s.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:s.palette.textSubtle},arrow:{color:s.palette.textSubtle}}),{name:"BackstageBottomLink"});function el(s){const{link:m,title:D,onClick:n}=s,o=Pc();return t.createElement("div",null,t.createElement(ls.Z,null),t.createElement(Na,{to:m,onClick:n,underline:"none"},t.createElement(w.Z,{display:"flex",alignItems:"center",className:o.root},t.createElement(w.Z,{className:o.boxTitle,fontWeight:"fontWeightBold",m:1},t.createElement(i.Z,null,t.createElement("strong",null,D))),t.createElement(Zl.Z,{className:o.arrow}))))}const Ho=s=>{const{slackChannel:m}=s;if(m){if(typeof m=="string")return t.createElement(t.Fragment,null,"Please contact ",m," for help.");if(!m.href)return t.createElement(t.Fragment,null,"Please contact ",m.name," for help.")}else return null;return t.createElement(La,{to:m.href,variant:"contained"},m.name)},bs=class extends t.Component{constructor(m){super(m),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(m,D){console.error(`ErrorBoundary, error: ${m}, info: ${D}`),this.setState({error:m,errorInfo:D})}render(){const{slackChannel:m,children:D}=this.props,{error:n}=this.state;return n?t.createElement(Ki,{title:"Something Went Wrong",error:n},t.createElement(Ho,{slackChannel:m})):D}},tl=(0,l.Z)(s=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:s.spacing(2,2,2,2.5)},headerTitle:{fontWeight:700},headerSubheader:{paddingTop:s.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),Ac=(0,Ue.Z)(s=>({root:{display:"inline-block",padding:s.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(Bs.Z),Ic={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function jo(s){const{title:m,subheader:D,divider:n=!0,deepLink:o,slackChannel:u,errorBoundaryProps:g,variant:P,children:L,headerStyle:G,headerProps:q,icon:ee,action:de,actionsClassName:be,actions:ye,cardClassName:Fe,actionsTopRight:Ve,className:We,noPadding:vt,titleTypographyProps:Pt}=s,Nt=tl();let Xt={},Jt={};P&&P.split(/[\s]+/g).forEach(Sn=>{Xt={...Xt,...Ic.card[Sn]},Jt={...Jt,...Ic.cardContent[Sn]}});const ln=()=>t.createElement("div",{className:Nt.headerSubheader},D&&t.createElement("div",{className:Nt.subheader},D),ee),an=g||(u?{slackChannel:u}:{});return t.createElement(F.Z,{style:Xt,className:We},t.createElement(bs,{...an},m&&t.createElement(zl.Z,{classes:{root:Nt.header,title:Nt.headerTitle,subheader:Nt.headerSubheader,avatar:Nt.headerAvatar,action:Nt.headerAction,content:Nt.headerContent},title:m,subheader:ln(),action:de,style:{...G},titleTypographyProps:Pt,...q}),Ve&&t.createElement(Ac,null,Ve),n&&t.createElement(ls.Z,null),t.createElement($i.Z,{className:en()(Fe,{[Nt.noPadding]:vt}),style:Jt},L),ye&&t.createElement(Bs.Z,{className:be},ye),o&&t.createElement(el,{...o})))}const Oc=(0,l.Z)(s=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:45,fontWeight:"bold",color:s.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),ws={fractional:!0,inverse:!1,unit:"%",max:100},ni=({palette:s,value:m,inverse:D,max:n})=>{if(isNaN(m))return"#ddd";const o=n||ws.max,u=D?o-m:m;return u<o/3?s.status.error:u<o*(2/3)?s.status.warning:s.status.ok};function Nc(s){const[m,D]=useState(null),{getColor:n=ni}=s,o=Oc(s),{palette:u}=useTheme(),{value:g,fractional:P,inverse:L,unit:G,max:q,description:ee}={...ws,...s},de=P?Math.round(g*q):g,be=q!==100?Math.round(g):de,[ye,Fe]=useState(!1);return useEffect(()=>{const Ve=m,We=()=>Fe(!0),vt=()=>Fe(!1);return Ve&&ee?(Ve.addEventListener("mouseenter",We),Ve.addEventListener("mouseleave",vt),()=>{Ve.removeEventListener("mouseenter",We),Ve.removeEventListener("mouseleave",vt)}):()=>{Fe(!1)}},[ee,m]),React.createElement("div",{ref:D,className:o.root},React.createElement(Circle,{strokeLinecap:"butt",percent:de,strokeWidth:12,trailWidth:12,strokeColor:n({palette:u,value:be,inverse:L,max:q}),className:o.circle}),ee&&ye?React.createElement("div",{className:o.description},ee):React.createElement("div",{className:o.overlay},isNaN(g)?"N/A":`${be}${G}`))}const nl=(0,l.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function Rs(s){const m=nl(s),{title:D,subheader:n,progress:o,inverse:u,deepLink:g,description:P,icon:L,variant:G,getColor:q}=s,ee={inverse:u,description:P,getColor:q,value:o};return React.createElement("div",{className:m.root},React.createElement(jo,{title:D,subheader:n,deepLink:g,variant:G,icon:L},React.createElement(Nc,{...ee})))}function Bu(s){const{value:m,getColor:D=ni}=s,{palette:n}=useTheme();if(isNaN(m))return null;let o=Math.round(m*100*100)/100;o>100&&(o=100);const u=D({palette:n,value:o,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${o}%`},React.createElement("span",null,React.createElement(Line,{percent:o,strokeWidth:4,trailWidth:4,strokeColor:u})))}const Lc=(0,l.Z)(()=>(0,At.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageClosedDropdown"}),xc=()=>{const s=Lc();return t.createElement(Oi.Z,{className:s.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},rl=(0,l.Z)(()=>(0,At.Z)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"}),Dc=()=>{const s=rl();return t.createElement(Oi.Z,{className:s.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},Mc=(0,Ue.Z)(s=>(0,At.Z)({root:{"label + &":{marginTop:s.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:s.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:s.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:s.palette.background.paper,borderRadius:4}}}),{name:"BackstageSelectInputBase"})(Ql.Z),Bc=(0,l.Z)(s=>(0,At.Z)({formControl:{margin:`${s.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:s.typography.fontFamily,color:s.palette.text.primary,"&.Mui-focused":{color:s.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:s.typography.fontFamily,color:s.palette.text.primary,"&.Mui-focused":{color:s.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function al(s){const{multiple:m,items:D,label:n,placeholder:o,selected:u,onChange:g,triggerReset:P,native:L=!1,disabled:G=!1}=s,q=Bc(),[ee,de]=(0,t.useState)(u||(m?[]:"")),[be,ye]=(0,t.useState)(!1);(0,t.useEffect)(()=>{de(m?[]:"")},[P,m]),(0,t.useEffect)(()=>{u!==void 0&&de(u)},[u]);const Fe=Pt=>{de(Pt.target.value),g(Pt.target.value)},Ve=Pt=>{if(G){Pt.preventDefault();return}ye(Nt=>m&&!(Pt.target instanceof HTMLElement)?!0:!Nt)},We=()=>{ye(!1)},vt=Pt=>()=>{const Nt=ee.filter(Xt=>Xt!==Pt);de(Nt),g(Nt)};return t.createElement("div",{className:q.root},t.createElement(Ul.Z,{onClickAway:We},t.createElement(zs.Z,{className:q.formControl},t.createElement(Xl.Z,{className:q.formLabel},n),t.createElement(Ii.Z,{value:ee,native:L,disabled:G,"data-testid":"select",displayEmpty:!0,multiple:m,onChange:Fe,onClick:Ve,open:be,input:t.createElement(Mc,null),label:n,tabIndex:0,renderValue:Pt=>{var Nt;return m&&ee.length!==0?t.createElement("div",{className:q.chips},Pt.map(Xt=>{var Jt,ln;return t.createElement(Vs.Z,{key:(Jt=D.find(an=>an.value===Xt))==null?void 0:Jt.value,label:(ln=D.find(an=>an.value===Xt))==null?void 0:ln.label,clickable:!0,onDelete:vt(Xt),className:q.chip})})):t.createElement(i.Z,null,ee.length===0?o||"":(Nt=D.find(Xt=>Xt.value===Pt))==null?void 0:Nt.label)},IconComponent:()=>be?t.createElement(Dc,null):t.createElement(xc,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},o&&!m&&t.createElement(Zs.Z,{value:[]},o),L?D&&D.map(Pt=>t.createElement("option",{value:Pt.value,key:Pt.value},Pt.label)):D&&D.map(Pt=>t.createElement(Zs.Z,{key:Pt.value,value:Pt.value},m&&t.createElement(gu.Z,{color:"primary",checked:ee.includes(Pt.value)||!1,className:q.checkbox}),Pt.label))))))}const ol=()=>{},_o=t.createContext({stepperLength:0,stepIndex:0,setStepIndex:ol,stepHistory:[],setStepHistory:ol,onStepChange:ol});function dd(s){const{children:m,elevated:D,onStepChange:n,activeStep:o=0}=s,[u,g]=useState(o),[P,L]=useState([0]);useEffect(()=>{g(o)},[o]);const G=[];let q;return Children.forEach(m,ee=>{isValidElement(ee)&&(ee.props.end?q=ee:G.push(ee))}),React.createElement(React.Fragment,null,React.createElement(_o.Provider,{value:{stepIndex:u,setStepIndex:g,stepHistory:P,setStepHistory:L,onStepChange:n,stepperLength:Children.count(m)}},React.createElement(MuiStepper,{activeStep:u,orientation:"vertical",elevation:D?2:0},G)),u>=Children.count(m)-1&&q)}const sl=(0,l.Z)(s=>({root:{marginTop:s.spacing(3),"& button":{marginRight:s.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),Fc=({text:s,handleClick:m})=>React.createElement(Button$1,{onClick:m},s||"Reset"),jc=({text:s,handleClick:m,disabled:D,last:n,stepIndex:o})=>React.createElement(Button$1,{variant:"contained",color:"primary",disabled:D,"data-testid":`nextButton-${o}`,onClick:m},s||(n?"Finish":"Next")),il=({text:s,handleClick:m,disabled:D,stepIndex:n})=>React.createElement(Button$1,{onClick:m,"data-testid":`backButton-${n}`,disabled:D},s||"Back"),ll=({actions:s={},children:m})=>{const D=sl(),{stepperLength:n,stepIndex:o,setStepIndex:u,stepHistory:g,setStepHistory:P,onStepChange:L}=useContext(_o),G=(be,ye)=>{ye&&ye(),L&&L(o,be),u(be)},q=()=>{const be=s.nextStep?s.nextStep(o,n-1):o+1;G(be,s.onNext),P([...g,be])},ee=()=>{g.pop(),G(g[g.length-1],s.onBack),P([...g])},de=()=>{G(0,s.onRestart),P([0])};return React.createElement("div",{className:D.root},[void 0,!0].includes(s.showBack)&&o!==0&&React.createElement(il,{text:s.backText,handleClick:ee,disabled:o===0,stepIndex:o}),[void 0,!0].includes(s.showNext)&&React.createElement(jc,{text:s.nextText,handleClick:q,disabled:!!n&&o>=n||!!s.canNext&&!s.canNext(),stepIndex:o}),s.showRestart&&o!==0&&React.createElement(Fc,{text:s.restartText,handleClick:de,stepIndex:o}),m)},Fu=(0,l.Z)(s=>({end:{padding:s.spacing(3)}}),{name:"SimpleStepperStep"});function Ld(s){const{title:m,children:D,end:n,actions:o,...u}=s,g=Fu();return n?React.createElement("div",{className:g.end},React.createElement(Typography,{variant:"h6"},m),D,React.createElement(ll,{actions:{...o||{},showNext:!1}})):React.createElement(MuiStep,{...u},React.createElement(StepLabel,null,React.createElement(Typography,{variant:"h6"},m)),React.createElement(StepContent,null,D,React.createElement(ll,{actions:o})))}const Ss=(0,l.Z)(s=>({status:{fontWeight:500,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:8,borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:s.palette.status.ok}},warning:{"&::before":{backgroundColor:s.palette.status.warning}},error:{"&::before":{backgroundColor:s.palette.status.error}},pending:{"&::before":{backgroundColor:s.palette.status.pending}},running:{"&::before":{backgroundColor:s.palette.status.running}},aborted:{"&::before":{backgroundColor:s.palette.status.aborted}}}),{name:"BackstageStatus"});function cl(s){const m=Ss(s);return t.createElement("span",{className:en()(m.status,m.ok),"aria-label":"Status ok","aria-hidden":"true",...s})}function _c(s){const m=Ss(s);return t.createElement("span",{className:en()(m.status,m.warning),"aria-label":"Status warning","aria-hidden":"true",...s})}function ul(s){const m=Ss(s);return t.createElement("span",{className:en()(m.status,m.error),"aria-label":"Status error","aria-hidden":"true",...s})}function ju(s){const m=Ss(s);return t.createElement("span",{className:en()(m.status,m.pending),"aria-label":"Status pending","aria-hidden":"true",...s})}function _u(s){const m=Ss(s);return t.createElement("span",{className:en()(m.status,m.running),"aria-label":"Status running","aria-hidden":"true",...s})}function Uu(s){const m=Ss(s);return React.createElement("span",{className:classNames(m.status,m.aborted),"aria-label":"Status aborted","aria-hidden":"true",...s})}const dl=s=>(0,At.Z)({root:{fontWeight:"bolder",whiteSpace:"nowrap",paddingRight:s.spacing(4),border:"0",verticalAlign:"top"}}),ml={root:{border:"0",verticalAlign:"top"}},ri=s=>(0,At.Z)({root:{listStyle:"none",margin:s.spacing(0,0,-1,0),padding:"0"}}),Uc=s=>(0,At.Z)({root:{padding:s.spacing(0,0,1,0)},random:{}}),Gu=(0,Ue.Z)(dl,{name:"BackstageMetadataTableTitleCell"})(Ni.Z),pl=(0,Ue.Z)(ml,{name:"BackstageMetadataTableCell"})(Ni.Z),ai=({dense:s,children:m})=>React.createElement(Table$1,{size:s?"small":"medium"},React.createElement(TableBody,null,m)),Gc=({title:s,children:m,...D})=>React.createElement(TableRow,null,s&&React.createElement(Gu,null,s),React.createElement(pl,{colSpan:s?1:2,...D},m)),$s=(0,Ue.Z)(ri,{name:"BackstageMetadataTableList"})(({classes:s,children:m})=>t.createElement("ul",{className:s.root},m)),fl=(0,Ue.Z)(Uc,{name:"BackstageMetadataTableListItem"})(({classes:s,children:m})=>t.createElement("li",{className:s.root},m)),Vc=(0,At.Z)({root:{margin:"0 0",listStyleType:"none"}}),Ts=s=>(0,At.Z)({root:{...Vc.root,paddingLeft:s.spacing(1)}}),oi=(0,Ue.Z)(Vc,{name:"BackstageStructuredMetadataTableList"})(({classes:s,children:m})=>t.createElement($s,{classes:s},m)),hl=(0,Ue.Z)(Ts,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:s,children:m})=>t.createElement($s,{classes:s},m));function Vu(s,m){const D=s.map((n,o)=>React.createElement(fl,{key:o},gl(n)));return m?React.createElement(hl,null,D):React.createElement(oi,null,D)}function si(s,m,D){const n=Object.keys(s).map(o=>{const u=gl(s[o],!0),g=D&&D.titleFormat?D.titleFormat(o):startCase(o);return React.createElement(fl,{key:o},`${g}: `,u)});return m?React.createElement(hl,null,n):React.createElement(oi,null,n)}function gl(s,m,D){return React.isValidElement(s)?React.createElement(Fragment,null,s):typeof s=="object"&&!Array.isArray(s)?si(s,m,D):Array.isArray(s)?Vu(s,D):typeof s=="boolean"?React.createElement(Fragment,null,s?"\u2705":"\u274C"):React.createElement(Fragment,null,s)}const zc=({value:s,options:m})=>React.createElement(Fragment,null,gl(s,m)),Zc=({title:s,value:m,options:D})=>React.createElement(Gc,{title:D&&D.titleFormat?D.titleFormat(s):startCase(s)},React.createElement(zc,{value:m,options:D}));function yl(s,m){return Object.keys(s).map(D=>React.createElement(Zc,{key:D,title:D,value:s[D],options:m}))}function zu(s){const{metadata:m,dense:D=!0,options:n}=s,o=yl(m,n||{});return React.createElement(ai,{dense:D},o)}function Zu(s){return qs.stringify(s,{strictNullHandling:!0})}function Cs(s){return qs.parse(s,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function Ko(s,m){return Cs(s)[m]}function vl(s,m,D){const n={...Cs(s),[m]:D};return Zu(n)}function Jo(s,m=250){const[D,n]=useSearchParams(),o=D.toString(),[u,g]=useState(Ko(o,s));return useEffect(()=>{const P=Ko(o,s);g(L=>isEqual(P,L)?L:P)},[o,g,s]),useDebouncedEffect(()=>{const P=vl(o,s,u);o!==P&&n(P,{replace:!0})},[n,u,o,s],m),[u,g]}const Yo={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function Qo(){const m=(0,e.I_)().get(e.Ds),D=m==null?void 0:m.getOptionalConfig("app.support");return D?{url:D.getString("url"),items:D.getConfigArray("items").flatMap(n=>{var o;return{title:n.getString("title"),icon:n.getOptionalString("icon"),links:((o=n.getOptionalConfigArray("links"))!=null?o:[]).flatMap(u=>({url:u.getString("url"),title:u.getString("title")}))}})}:Yo}function Xa(s,m){const n=(0,e.qD)().getSystemIcon(s);return n?t.createElement(n,{...m}):t.createElement(ec.Z,{...m})}function xd(s){return Xa("brokenImage",s)}function ii(s){return Xa("catalog",s)}function md(s){return Xa("chat",s)}function El(s){return Xa("dashboard",s)}function Xo(s){return Xa("docs",s)}function bl(s){return Xa("email",s)}function li(s){return Xa("github",s)}function Wu(s){return Xa("group",s)}function wl(s){return Xa("help",s)}function pd(s){return Xa("user",s)}function Dd(s){return Xa("warning",s)}const Rl=(0,l.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),ci=({icon:s})=>{var m;const D=(0,e.qD)(),n=s&&(m=D.getSystemIcon(s))!=null?m:wl;return t.createElement(n,null)},Sl=({link:s})=>{var m;return t.createElement(Na,{to:s.url},(m=s.title)!=null?m:s.url)},$l=({item:s})=>{var m;return t.createElement(ss.Z,null,t.createElement(ql.Z,null,t.createElement(ci,{icon:s.icon})),t.createElement(is.Z,{primary:s.title,secondary:(m=s.links)==null?void 0:m.reduce((D,n,o)=>[...D,o>0&&t.createElement("br",{key:o}),t.createElement(Sl,{link:n,key:n.url})],[])}))};function ui(s){const{title:m,children:D}=s,{items:n}=Qo(),[o,u]=(0,t.useState)(!1),[g,P]=(0,t.useState)(null),L=Rl(),G=(0,pt.Z)(de=>de.breakpoints.down("sm")),q=de=>{P(de.currentTarget),u(!0)},ee=()=>{u(!1)};return t.createElement(t.Fragment,null,t.createElement(w.Z,{display:"flex",ml:1},G?t.createElement(E.Z,{color:"primary",size:"small",onClick:q,"data-testid":"support-button"},t.createElement(wl,null)):t.createElement(ae.Z,{"data-testid":"support-button","aria-label":"support",color:"primary",onClick:q,startIcon:t.createElement(wl,null)},"Support")),t.createElement(Li.ZP,{"data-testid":"support-button-popover",open:o,anchorEl:g,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:ee},t.createElement(Po.Z,{className:L.popoverList},m&&t.createElement(ss.Z,{alignItems:"flex-start"},t.createElement(i.Z,{variant:"subtitle1"},m)),t.Children.map(D,(de,be)=>t.createElement(ss.Z,{alignItems:"flex-start",key:`child-${be}`},de)),n&&n.map((de,be)=>t.createElement($l,{item:de,key:`item-${be}`}))),t.createElement(Vl.Z,null,t.createElement(ae.Z,{color:"primary",onClick:ee},"Close"))))}const di=72,Wc=24,Tl=18,mo={drawerWidthClosed:di,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:di,iconSize:di-Wc*2,iconPadding:Wc,selectedIndicatorWidth:3,userBadgePadding:Tl,userBadgeDiameter:di-Tl*2,mobileSidebarHeight:56},ks=s=>({...mo,...s,iconContainerWidth:mo.drawerWidthClosed,iconSize:mo.drawerWidthClosed-mo.iconPadding*2,userBadgeDiameter:mo.drawerWidthClosed-mo.userBadgePadding*2}),qo={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:mo.defaultOpenDelayMs+200},Hc=s=>({...qo,...s}),Kc="@backstage/core/sidebar-intro-dismissed",es=(0,t.createContext)({isOpen:!1,setOpen:()=>{}}),Pa=(0,t.createContext)({sidebarConfig:mo,submenuConfig:qo}),mi=(0,t.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}}),pi={getSidebarPinState(){let s;try{s=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!s},setSidebarPinState(s){return window.localStorage.setItem("sidebarPinState",JSON.stringify(s))}},Jc=(0,l.Z)(s=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[s.breakpoints.up("sm")]:{paddingLeft:m=>m.isPinned?m.sidebarConfig.drawerWidthOpen:m.sidebarConfig.drawerWidthClosed},[s.breakpoints.down("xs")]:{paddingBottom:m=>m.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),ts=(0,t.createContext)({isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1}),Yc=(0,t.createContext)({content:{contentRef:void 0}});function Ps(s){const[m,D]=useState(()=>pi.getSidebarPinState()),{sidebarConfig:n}=useContext(Pa),o=useRef(null),u=useMemo(()=>({content:{contentRef:o}}),[o]);useEffect(()=>{pi.setSidebarPinState(m)},[m]);const g=useMediaQuery(G=>G.breakpoints.down("xs"),{noSsr:!0}),P=()=>D(!m),L=Jc({isPinned:m,sidebarConfig:n});return React.createElement(ts.Provider,{value:{isPinned:m,toggleSidebarPinState:P,isMobile:g}},React.createElement(Yc.Provider,{value:u},React.createElement("div",{className:L.root},s.children)))}function Cl(){const{content:s}=(0,t.useContext)(Yc);return{focusContent:(0,t.useCallback)(()=>{var D,n;(n=(D=s==null?void 0:s.contentRef)==null?void 0:D.current)==null||n.focus()},[s]),contentRef:s==null?void 0:s.contentRef}}const $=(0,l.Z)(s=>({root:{flexGrow:0,margin:s.spacing(0,2),color:s.palette.navigation.color},selected:m=>({color:`${s.palette.navigation.selectedColor}!important`,borderTop:`solid ${m.sidebarConfig.selectedIndicatorWidth}px ${s.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),_=s=>{const{to:m,label:D,icon:n,value:o}=s,{sidebarConfig:u}=(0,t.useContext)(Pa),g=$({sidebarConfig:u}),P=(0,T.TH)(),{selectedMenuItemIndex:L,setSelectedMenuItemIndex:G}=(0,t.useContext)(tt),q=(de,be)=>{G(be===L?-1:be)},ee=o===L&&L>=0||o!==L&&!(L>=0)&&m===P.pathname;return t.createElement(tc.Z,{label:D,icon:n,component:Na,to:m||P.pathname,onChange:q,value:o,selected:ee,classes:g})},le=s=>{const{children:m,to:D,label:n,icon:o,value:u}=s,{isMobile:g}=(0,t.useContext)(ts);return g?t.createElement(_,{to:D,label:n,icon:o,value:u}):t.createElement(t.Fragment,null,m)},me=(0,l.Z)(s=>({root:{position:"fixed",backgroundColor:s.palette.navigation.background,color:s.palette.navigation.color,bottom:0,left:0,right:0,zIndex:s.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:m=>({background:s.palette.navigation.background,width:"100%",bottom:`${m.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${m.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:s.palette.bursts.fontColor,alignItems:"center",justifyContent:"space-between",padding:s.spacing(2,3)},overlayHeaderClose:{color:s.palette.bursts.fontColor},marginMobileSidebar:m=>({marginBottom:`${m.sidebarConfig.mobileSidebarHeight}px`})})),Re=s=>orderBy(s,({props:{priority:m}})=>Number.isInteger(m)?m:-1,"desc"),xe=t.createElement(le).type,ze=({children:s,label:m="Menu",open:D,onClose:n})=>{const{sidebarConfig:o}=useContext(Pa),u=me({sidebarConfig:o});return React.createElement(Drawer,{anchor:"bottom",open:D,onClose:n,ModalProps:{BackdropProps:{classes:{root:u.marginMobileSidebar}}},classes:{root:u.marginMobileSidebar,paperAnchorBottom:u.overlay}},React.createElement(Box,{className:u.overlayHeader},React.createElement(Typography,{variant:"h3"},m),React.createElement(IconButton,{onClick:n,classes:{root:u.overlayHeaderClose}},React.createElement(CloseIcon,null))),React.createElement(Box,{component:"nav"},s))},tt=(0,t.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),ft=s=>{const{sidebarConfig:m}=useContext(Pa),{children:D}=s,n=me({sidebarConfig:m}),o=useLocation$1(),[u,g]=useState(-1);useEffect(()=>{g(-1)},[o.pathname]);let P=useElementFilter(D,G=>G.getElements().filter(q=>q.type===xe));if(D)P.length?P=Re(P):P.push(React.createElement(le,{key:"default_menu",icon:React.createElement(MenuIcon,null)},D));else return null;const L=u>=0&&!P[u].props.to;return React.createElement(es.Provider,{value:{isOpen:!0,setOpen:()=>{}}},React.createElement(tt.Provider,{value:{selectedMenuItemIndex:u,setSelectedMenuItemIndex:g}},React.createElement(ze,{label:P[u]&&P[u].props.label,open:L,onClose:()=>g(-1)},P[u]&&P[u].props.children),React.createElement(BottomNavigation,{className:n.root,"data-testid":"mobile-sidebar-root",component:"nav"},P)))},ut=(0,l.Z)(s=>({drawer:m=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:s.zIndex.appBar,background:s.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:m.sidebarConfig.drawerWidthClosed,transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:m=>({width:m.sidebarConfig.drawerWidthOpen,transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),Tt=s=>{const{sidebarConfig:m}=useContext(Pa),{openDelayMs:D=m.defaultOpenDelayMs,closeDelayMs:n=m.defaultCloseDelayMs,disableExpandOnHover:o,children:u}=s,g=ut({sidebarConfig:m}),P=useMediaQuery(We=>We.breakpoints.down("md"),{noSsr:!0}),[L,G]=useState(0),q=useRef(),{isPinned:ee,toggleSidebarPinState:de}=useContext(ts),be=()=>{ee||o||(q.current&&(clearTimeout(q.current),q.current=void 0),L!==2&&!P&&(q.current=window.setTimeout(()=>{q.current=void 0,G(2)},D),G(1)))},ye=()=>{ee||o||(q.current&&(clearTimeout(q.current),q.current=void 0),L===1?G(0):L===2&&(q.current=window.setTimeout(()=>{q.current=void 0,G(0)},n)))},Fe=L===2&&!P||ee,Ve=We=>{We?(G(2),de()):(G(0),de())};return React.createElement("nav",{style:{},"aria-label":"sidebar nav"},React.createElement(Bt,null),React.createElement(es.Provider,{value:{isOpen:Fe,setOpen:Ve}},React.createElement("div",{className:g.root,"data-testid":"sidebar-root",onMouseEnter:o?()=>{}:be,onFocus:o?()=>{}:be,onMouseLeave:o?()=>{}:ye,onBlur:o?()=>{}:ye},React.createElement("div",{className:classNames(g.drawer,{[g.drawerOpen]:Fe})},u))))},St=s=>{var m,D;const n=ks((m=s.sidebarOptions)!=null?m:{}),o=Hc((D=s.submenuOptions)!=null?D:{}),{children:u,disableExpandOnHover:g,openDelayMs:P,closeDelayMs:L}=s,{isMobile:G}=useContext(ts);return G?React.createElement(ft,null,u):React.createElement(Pa.Provider,{value:{sidebarConfig:n,submenuConfig:o}},React.createElement(Tt,{openDelayMs:P,closeDelayMs:L,disableExpandOnHover:g},u))};function Bt(){const{sidebarConfig:s}=useContext(Pa),{focusContent:m,contentRef:D}=Cl(),n=ut({sidebarConfig:s});return D!=null&&D.current?React.createElement(Button$1,{onClick:m,variant:"contained",className:classNames(n.visuallyHidden)},"Skip to content"):null}function Vt(s,m){const D=new URLSearchParams(m.search).toString(),n=at().parse(D),o=new URLSearchParams(s.search).toString(),u=at().parse(o);return(0,V.isEqual)(m.pathname,s.pathname)&&(0,V.isMatch)(u,n)}const Zt=(0,l.Z)(s=>({item:{height:48,width:"100%","&:hover":{background:"#6f6f6f",color:s.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:s.palette.navigation.color,padding:20,cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:"#FFF"},label:{margin:14,marginLeft:7,fontSize:14,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:"#6f6f6f",color:s.palette.navigation.selectedColor}},textContent:{color:s.palette.navigation.color,paddingLeft:s.spacing(4),paddingRight:s.spacing(1),fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}),{name:"BackstageSidebarSubmenuItem"}),kn=s=>{const{title:m,to:D,icon:n,dropdownItems:o}=s,u=Zt(),{setIsHoveredOn:g}=useContext(mi),P=()=>{g(!1)},L=useResolvedPath(D!=null?D:""),G=useLocation();let q=Vt(G,L);const[ee,de]=useState(!1),be=()=>{de(!ee)};return o!==void 0?(o.some(ye=>{const Fe=resolvePath(ye.to);return q=Vt(G,Fe),q}),React.createElement("div",{className:u.itemContainer},React.createElement(Tooltip,{title:m,enterDelay:500,enterNextDelay:500},React.createElement("button",{onClick:be,onTouchStart:ye=>ye.stopPropagation(),className:classNames(u.item,q?u.selected:void 0)},n&&React.createElement(n,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:u.label},m),ee?React.createElement(ArrowDropUpIcon,{className:u.dropdownArrow}):React.createElement(ArrowDropDownIcon,{className:u.dropdownArrow}))),o&&ee&&React.createElement("div",{className:u.dropdown},o.map((ye,Fe)=>React.createElement(Tooltip,{key:Fe,title:ye.title,enterDelay:500,enterNextDelay:500},React.createElement(Na,{to:ye.to,underline:"none",className:u.dropdownItem,onClick:P,onTouchStart:Ve=>Ve.stopPropagation()},React.createElement(Typography,{className:u.textContent},ye.title))))))):React.createElement("div",{className:u.itemContainer},React.createElement(Tooltip,{title:m,enterDelay:500,enterNextDelay:500},React.createElement(Na,{to:D,underline:"none",className:classNames(u.item,q?u.selected:void 0),onClick:P,onTouchStart:ye=>ye.stopPropagation()},n&&React.createElement(n,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:u.label},m))))},Gn=(0,l.Z)(s=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:s.spacing(7)+1},drawer:m=>{var D,n;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[s.breakpoints.up("sm")]:{marginLeft:m.left,transition:s.transitions.create("margin-left",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(n=(D=s.palette.navigation.submenu)==null?void 0:D.background)!=null?n:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:m.submenuConfig.drawerWidthClosed,transitionDelay:`${m.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:m=>({width:m.submenuConfig.drawerWidthOpen,[s.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:s.spacing(3),left:0,top:0}}),title:{fontSize:24,fontWeight:500,color:"#FFF",padding:20,[s.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),Zn=s=>{const{isOpen:m}=(0,t.useContext)(es),{sidebarConfig:D,submenuConfig:n}=(0,t.useContext)(Pa),o=m?D.drawerWidthOpen:D.drawerWidthClosed,u=Gn({left:o,submenuConfig:n}),{isHoveredOn:g}=(0,t.useContext)(mi),[P,L]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{L(g)},[g]),t.createElement("div",{className:en()(u.drawer,{[u.drawerOpen]:P})},t.createElement(i.Z,{variant:"h5",className:u.title},s.title),s.children)},Hn=(0,l.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),fn=()=>{const s=Hn();return React.createElement("div",{className:s.iconContainer},React.createElement("div",{className:s.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))},xn=(0,l.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Dn=()=>{const s=xn();return React.createElement("div",{className:s.iconContainer},React.createElement("div",{className:s.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement("div",null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))},jr=s=>(0,l.Z)(m=>{var D,n,o,u;return{root:{color:m.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit"},closed:{width:s.drawerWidthClosed,justifyContent:"center"},open:{[m.breakpoints.up("sm")]:{width:s.drawerWidthOpen}},highlightable:{"&:hover":{background:(n=(D=m.palette.navigation.navItem)==null?void 0:D.hoverBackground)!=null?n:"#404040"}},highlighted:{background:(u=(o=m.palette.navigation.navItem)==null?void 0:o.hoverBackground)!=null?u:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:s.iconContainerWidth,marginRight:-m.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:"bold",fontSize:m.typography.fontSize},searchFieldHTMLInput:{padding:m.spacing(2,0,2)},searchContainer:{width:s.drawerWidthOpen-s.iconContainerWidth},secondaryAction:{width:m.spacing(6),textAlign:"center",marginRight:m.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:m.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${s.selectedIndicatorWidth}px ${m.palette.navigation.indicator}`,color:m.palette.navigation.selectedColor},"&$closed":{width:s.drawerWidthClosed},"& $closedItemIcon":{paddingRight:s.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-s.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function ha(s){return(0,t.useMemo)(()=>jr(s),[s])()}const Kr=(s,m)=>(0,e.vJ)(s.props.children,D=>{let n=!1;return D.getElements().forEach(({props:{to:o,dropdownItems:u}})=>{if(!n){if(u!=null&&u.length){u.forEach(({to:g})=>n=n||Vt(m,(0,T.i3)(g)));return}o&&(n=Vt(m,(0,T.i3)(o)))}}),n},[m.pathname]);function xa(s){return s.to===void 0}const Jr=t.createElement(Zn).type,ba=t.forwardRef(function({to:m,end:D,style:n,className:o,activeStyle:u,caseSensitive:g,activeClassName:P="active","aria-current":L="page",...G},q){let{pathname:ee}=(0,T.TH)(),{pathname:de}=(0,T.WU)(m);g||(ee=ee.toLocaleLowerCase("en-US"),de=de.toLocaleLowerCase("en-US"));let be=ee===de;!be&&!D&&(be=ee.startsWith(`${de}/`));const ye=be?L:void 0;return t.createElement(Tn.rU,{...G,to:m,ref:q,"aria-current":ye,style:{...n,...be?u:void 0},className:en()([o,be?P:void 0])})}),Wn=(0,t.forwardRef)((s,m)=>{const{icon:D,text:n,hasNotifications:o=!1,disableHighlight:u=!1,onClick:g,children:P,className:L,...G}=s,{sidebarConfig:q}=(0,t.useContext)(Pa),ee=ha(q),{isOpen:de}=(0,t.useContext)(es),be=!de&&P?{display:"flex",marginLeft:"24px"}:{},ye=t.createElement("div",{style:be},t.createElement(D,{fontSize:"small"}),!de&&P?t.createElement(vu.Z,null):t.createElement(t.Fragment,null)),Fe=t.createElement(ad.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!o,className:en()({[ee.closedItemIcon]:!de})},ye),Ve=t.createElement(t.Fragment,null,t.createElement("div",{"data-testid":"login-button",className:ee.iconContainer},Fe),n&&t.createElement(i.Z,{variant:"subtitle2",className:ee.label},n),t.createElement("div",{className:ee.secondaryAction},P)),We=de?Ve:Fe,vt={onClick:g,className:en()(L,ee.root,de?ee.open:ee.closed,xa(s)&&ee.buttonItem,{[ee.highlightable]:!u})};return xa(s)?t.createElement("button",{"aria-label":n,...vt,ref:m},We):t.createElement(ba,{...vt,activeClassName:ee.selected,to:s.to?s.to:"",ref:m,"aria-label":n||s.to,...G},We)}),Za=({children:s,...m})=>{const{sidebarConfig:D}=(0,t.useContext)(Pa),n=ha(D),[o,u]=(0,t.useState)(!1),g=(0,T.TH)(),P=Kr(s,g),L=(0,pt.Z)(de=>de.breakpoints.down("sm")),G=()=>{u(!0)},q=()=>{u(!1)},ee=()=>L?o?t.createElement(Oo.Z,{fontSize:"small",className:n.submenuArrow}):t.createElement(yu.Z,{fontSize:"small",className:n.submenuArrow}):!o&&t.createElement(vu.Z,{fontSize:"small",className:n.submenuArrow});return t.createElement(mi.Provider,{value:{isHoveredOn:o,setIsHoveredOn:u}},t.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:q,onTouchStart:o?q:G,onMouseEnter:G,className:en()(o&&n.highlighted)},t.createElement(Wn,{className:P?n.selected:"",...m},ee()),o&&s))},po=(0,t.forwardRef)((s,m)=>{const[D]=(0,e.vJ)(s.children,n=>n.getElements().filter(o=>o.type===Jr));return D?t.createElement(Za,{...s},D):t.createElement(Wn,{...s,ref:m})});function bo(s){const{sidebarConfig:m}=useContext(Pa),[D,n]=useState(""),o=ha(m),u=s.icon?s.icon:SearchIcon,g=()=>{s.onSearch(D),n("")},P=ee=>{ee.key==="Enter"&&(ee.preventDefault(),g())},L=ee=>{n(ee.target.value)},G=ee=>{ee.preventDefault(),ee.stopPropagation()},q=ee=>{g(),ee.preventDefault()};return React.createElement("div",{className:o.searchRoot},React.createElement(po,{icon:u,to:s.to,onClick:q,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:D,onClick:G,onChange:L,onKeyDown:P,className:o.searchContainer,InputProps:{disableUnderline:!0,className:o.searchField},inputProps:{className:o.searchFieldHTMLInput}})))}const As=(0,un.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),kl=(0,un.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),Yr=(0,un.Z)("hr")({height:1,width:"100%",background:"#383838",border:"none",margin:"12px 0px"},{name:"BackstageSidebarDivider"}),Da=s=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:s.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:s.palette.text.hint,borderRadius:"5px"}}),wo=(0,un.Z)("div")(({theme:s})=>{const m=Da(s);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":m,"&:hover":m}}),Ma=()=>{const{sidebarConfig:s}=useContext(Pa),m=ha(s),{isOpen:D,setOpen:n}=useContext(es);if(useMediaQuery(g=>g.breakpoints.down("md"),{noSsr:!0}))return null;const u=()=>{n(!D)};return React.createElement("button",{onClick:u,className:m.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement("div",{className:m.arrows},D?React.createElement(fn,null):React.createElement(Dn,null)))},Sr=(0,l.Z)(s=>({introCard:m=>({color:"#b5b5b5",fontSize:12,width:m.sidebarConfig.drawerWidthOpen,marginTop:18,marginBottom:12,paddingLeft:m.sidebarConfig.iconPadding,paddingRight:m.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:12},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:4,"&:hover":{color:s.palette.linkHover,transition:s.transitions.create("color",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:12}}),{name:"BackstageSidebarIntro"});function wa(s){const{sidebarConfig:m}=useContext(Pa),D=Sr({sidebarConfig:m}),{text:n,onClose:o}=s,u=()=>o();return React.createElement("div",{className:D.introCard},React.createElement(Typography,{variant:"subtitle2"},n),React.createElement("div",{className:D.introDismiss},React.createElement(Link$1,{component:"button",onClick:u,underline:"none",className:D.introDismissLink},React.createElement(CloseIcon,{className:D.introDismissIcon}),React.createElement(Typography,{component:"span",className:D.introDismissText},"Dismiss"))))}const fo=s=>{const{text:m,onDismiss:D}=s,[n,o]=useState(!1),u=()=>{o(!0)};return React.createElement(Collapse,{in:!n,onExited:D},React.createElement(wa,{text:m,onClose:u}))},Wa=null,Is="And your recently viewed plugins will pop up here!";function Qc(s){const{isOpen:m}=useContext(es),D={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},[n,o]=useLocalStorageValue(Kc),{starredItemsDismissed:u,recentlyViewedItemsDismissed:g}=n!=null?n:{},P=()=>{o(G=>({...D,...G,starredItemsDismissed:!0}))},L=()=>{o(G=>({...D,...G,recentlyViewedItemsDismissed:!0}))};return m?React.createElement(React.Fragment,null,!u&&React.createElement(React.Fragment,null,React.createElement(fo,{text:Wa,onDismiss:P}),React.createElement(Yr,null)),!g&&React.createElement(fo,{text:Is,onDismiss:L})):null}const Ar=(0,l.Z)(s=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:s.spacing(3),paddingBottom:s.spacing(3),paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function ra(s){const{className:m,stretch:D,noPadding:n,children:o,...u}=s,{contentRef:g}=Cl(),P=Ar();return t.createElement("article",{ref:g,tabIndex:-1,...u,className:en()(P.root,m,{[P.stretch]:D,[P.noPadding]:n})},o)}const br=(0,l.Z)(s=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:s.palette.background.paper,paddingLeft:s.spacing(3)},defaultTab:{padding:s.spacing(3,3),...s.typography.caption,textTransform:"uppercase",fontWeight:"bold",color:s.palette.text.secondary},selected:{color:s.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:s.palette.background.default,color:s.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function Ba(s){const{tabs:m,onChange:D,selectedIndex:n}=s,[o,u]=(0,t.useState)(n!=null?n:0),g=br(),P=(L,G)=>{n===void 0&&u(G),D&&D(G)};return(0,t.useEffect)(()=>{n!==void 0&&u(n)},[n]),t.createElement("div",{className:g.tabsWrapper},t.createElement(od.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",onChange:P,value:o},m.map((L,G)=>t.createElement(Eu.Z,{...L.tabProps,"data-testid":`header-tab-${G}`,label:L.label,key:L.id,value:G,className:g.defaultTab,classes:{selected:g.selected,root:g.tabRoot}}))))}function v(s){var m,D,n;const o=(0,T.UO)(),g=s.map(({path:q,children:ee})=>({caseSensitive:!1,path:`${q}/*`,element:ee})).sort((q,ee)=>ee.path.replace(/\/\*$/,"").localeCompare(q.path.replace(/\/\*$/,""))),P=(m=(0,T.V$)(g))!=null?m:s[0].children,[L]=(D=(0,T.fp)(g,`/${o["*"]}`))!=null?D:[],G=L?s.findIndex(q=>`${q.path}/*`===L.route.path):0;return{index:G===-1?0:G,element:P,route:(n=s[G])!=null?n:s[0]}}function O(s){const{routes:m}=s,D=(0,T.s0)(),{index:n,route:o,element:u}=v(m),g=(0,t.useMemo)(()=>m.map(L=>({id:L.path,label:L.title,tabProps:L.tabProps})),[m]),P=L=>D(m[L].path.replace(/\/\*$/,"").replace(/^\//,""));return t.createElement(t.Fragment,null,t.createElement(Ba,{tabs:g,selectedIndex:n,onChange:P}),t.createElement(ra,null,t.createElement(Vo.q,{title:o.title}),u))}const Y=()=>null;(0,e.R5)(Y,"core.gatherMountPoints",!0);function ne(s){const m=t.createElement(Y,{path:"",title:""},t.createElement("div",null)).type;return t.Children.toArray(s).flatMap(D=>{if(!(0,t.isValidElement)(D))return[];if(D.type===t.Fragment)return ne(D.props.children);if(D.type!==m)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:n,title:o,children:u,tabProps:g}=D.props;return[{path:n,title:o,children:u,tabProps:g}]})}function fe(s){const m=ne(s.children);return t.createElement(O,{routes:m})}fe.Route=Y;const Te=(0,l.Z)(s=>({value:{marginBottom:"6px"},subvalue:{color:s.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function _e(s){const{value:m,subvalue:D}=s,n=Te();return React.createElement(React.Fragment,null,React.createElement("div",{className:n.value},m),React.createElement("div",{className:n.subvalue},D))}const Ye=(0,l.Z)(s=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:s.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:"60px",justifyContent:"space-between",borderBottom:`1px solid ${s.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:s.spacing(2)}}}),{name:"BackstageTableFilters"}),it=s=>{var m;const D=Ye(),{onChangeFilters:n}=s,[o,u]=(0,t.useState)({...s.selectedFilters}),[g,P]=(0,t.useState)(!1),L=()=>{u({}),P(G=>!G)};return(0,t.useEffect)(()=>{n(o)},[o,n]),t.createElement("div",{className:D.root},t.createElement("div",{className:D.header},t.createElement("div",{className:D.value},"Filters"),t.createElement(ae.Z,{color:"primary",onClick:L},"Clear all")),t.createElement("div",{className:D.filters},((m=s.filters)==null?void 0:m.length)&&s.filters.map(G=>t.createElement(al,{triggerReset:g,key:G.element.label,...G.element,selected:o[G.element.label],onChange:q=>u({...o,[G.element.label]:q})}))))},ct={Add:(0,t.forwardRef)((s,m)=>t.createElement(bu.Z,{...s,ref:m})),Check:(0,t.forwardRef)((s,m)=>t.createElement(Di.Z,{...s,ref:m})),Clear:(0,t.forwardRef)((s,m)=>t.createElement(Ws.Z,{...s,ref:m})),Delete:(0,t.forwardRef)((s,m)=>t.createElement(rc.Z,{...s,ref:m})),DetailPanel:(0,t.forwardRef)((s,m)=>t.createElement(Gl.Z,{...s,ref:m})),Edit:(0,t.forwardRef)((s,m)=>t.createElement(Mi.Z,{...s,ref:m})),Export:(0,t.forwardRef)((s,m)=>t.createElement(go.Z,{...s,ref:m})),Filter:(0,t.forwardRef)((s,m)=>t.createElement(Qe.Z,{...s,ref:m})),FirstPage:(0,t.forwardRef)((s,m)=>t.createElement(ac.Z,{...s,ref:m})),LastPage:(0,t.forwardRef)((s,m)=>t.createElement(oc.Z,{...s,ref:m})),NextPage:(0,t.forwardRef)((s,m)=>t.createElement(Gl.Z,{...s,ref:m})),PreviousPage:(0,t.forwardRef)((s,m)=>t.createElement(du.Z,{...s,ref:m})),ResetSearch:(0,t.forwardRef)((s,m)=>t.createElement(Ws.Z,{...s,ref:m})),Search:(0,t.forwardRef)((s,m)=>t.createElement(Qe.Z,{...s,ref:m})),SortArrow:(0,t.forwardRef)((s,m)=>t.createElement(xi.Z,{...s,ref:m})),ThirdStateCheck:(0,t.forwardRef)((s,m)=>t.createElement(sc.Z,{...s,ref:m})),ViewColumn:(0,t.forwardRef)((s,m)=>t.createElement(Bi.Z,{...s,ref:m}))};function kt(s,m){const D=m.split(".");let n=s[D[0]];for(let o=1;o<D.length;++o){if(n===void 0)return n;const u=D[o];n=n[u]}return n}const $t=(0,Ue.Z)(s=>({header:{padding:s.spacing(1,2,1,2.5),borderTop:`1px solid ${s.palette.grey.A100}`,borderBottom:`1px solid ${s.palette.grey.A100}`,color:s.palette.textSubtle,fontWeight:s.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(No.W$),jt=(0,Ue.Z)(s=>({root:{padding:s.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:"bold"}},searchField:{paddingRight:s.spacing(2)}}),{name:"BackstageTableToolbar"})(No.UW),Wt=(0,l.Z)(()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:"bold",fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),Kt=(0,l.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function Pn(s,m){return s.map(D=>{const n={};let o=D.cellStyle||{};if(D.highlight)if(n.color=m.palette.textContrast,typeof o=="object")o.fontWeight=m.typography.fontWeightBold;else{const u=o;o=(g,P,L)=>({...u(g,P,L),fontWeight:m.typography.fontWeightBold})}return{...D,headerStyle:n,cellStyle:o}})}function er(s,m){return(0,V.transform)(s,(D,n,o)=>{(0,V.isEqual)(n,m[o])||(D[o]=n)})}const Kn={search:"",filtersOpen:!1,filters:{}};function dr(s){const{toolbarRef:m,setSearch:D,hasFilters:n,selectedFiltersLength:o,toggleFilters:u}=s,g=Wt(),P=(0,t.useCallback)(L=>{s.onSearchChanged(L),D(L)},[s,D]);return n?t.createElement("div",{className:g.root},t.createElement("div",{className:g.root},t.createElement(E.Z,{onClick:u,"aria-label":"filter list"},t.createElement(Qe.Z,null)),t.createElement(i.Z,{className:g.title},"Filters (",o,")")),t.createElement(jt,{...s,ref:m,onSearchChanged:P})):t.createElement(jt,{...s,ref:m,onSearchChanged:P})}function Cn(s){const{data:m,columns:D,options:n,title:o,subtitle:u,filters:g,initialState:P,emptyContent:L,onStateChange:G,...q}=s,ee=Kt(),de=(0,X.Z)(),be={...Kn,...P},[ye,Fe]=(0,t.useState)(be.filtersOpen),Ve=(0,t.useCallback)(()=>Fe(xr=>!xr),[Fe]),[We,vt]=(0,t.useState)(0),[Pt,Nt]=(0,t.useState)(m),[Xt,Jt]=(0,t.useState)(be.filters),ln=Pn(D,de),[an,vn]=(0,t.useState)(be.search);(0,t.useEffect)(()=>{if(G){const xr=er({search:an,filtersOpen:ye,filters:Xt},Kn);G(xr)}},[an,ye,Xt,G]);const Sn={headerStyle:{textTransform:"uppercase"}},$n=(0,t.useCallback)(xr=>{var eo;return(eo=D.find(os=>os.title===xr))==null?void 0:eo.field},[D]);(0,t.useEffect)(()=>{if(typeof m=="function")return;if(!Xt){Nt(m);return}const xr=Object.values(Xt);if(m&&xr.flat().length){const eo=m.filter(os=>!!Object.entries(Xt).filter(([,$r])=>!!$r.length).every(([$r,mr])=>{const da=kt(os,$n($r));return Array.isArray(da)&&Array.isArray(mr)?da.some(Aa=>mr.includes(Aa)):Array.isArray(da)?da.includes(mr):Array.isArray(mr)?mr.includes(da):da===mr}));Nt(eo)}else Nt(m);vt(xr.flat().length)},[m,Xt,$n]);const En=(xr,eo)=>{const os=mr=>{const da=new Set,Aa=sr=>{sr!=null&&da.add(sr)};return eo&&eo.forEach(sr=>{const $a=kt(sr,$n(mr));Array.isArray($a)?$a.forEach(Aa):Aa($a)}),da},$r=mr=>({placeholder:"All results",label:mr.column,multiple:mr.type==="multiple-select",items:[...os(mr.column)].sort().map(da=>({label:da,value:da}))});return xr.map(mr=>({type:mr.type,element:$r(mr)}))},An=!!(g!=null&&g.length),tr=(0,t.useCallback)(xr=>t.createElement(dr,{setSearch:vn,hasFilters:An,selectedFiltersLength:We,toggleFilters:Ve,...xr}),[Ve,An,We,vn]),Nn=typeof m!="function"&&m.length===0,ga=D.length,as=(0,t.useCallback)(xr=>L&&Nn?t.createElement("tbody",null,t.createElement("tr",null,t.createElement("td",{colSpan:ga},L))):t.createElement(No.os,{...xr}),[Nn,L,ga]);return t.createElement("div",{className:ee.root},ye&&m&&typeof m!="function"&&(g==null?void 0:g.length)&&t.createElement(it,{filters:En(g,m),selectedFilters:Xt,onChangeFilters:Jt}),t.createElement(No.ZP,{components:{Header:$t,Toolbar:tr,Body:as},options:{...Sn,...n},columns:ln,icons:ct,title:t.createElement(t.Fragment,null,t.createElement(i.Z,{variant:"h5",component:"h3"},o),u&&t.createElement(i.Z,{color:"textSecondary",variant:"body1"},u)),data:typeof m=="function"?m:Pt,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter"}},...q}))}function Vn(s,m){if(m<=0)return[s];const D=[];for(let n=0;n<s.length;n+=m)D.push(s.slice(n,n+m));return D}const zn=s=>{const{children:m,value:D,index:n,...o}=s;return React.createElement("div",{role:"tabpanel",hidden:D!==n,"aria-labelledby":`scrollable-auto-tab-${n}`,...o},D===n&&React.createElement(Box,{p:3},m))},Qr=(0,l.Z)(()=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:"1.5rem",textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:s=>s.isNext?"auto":"0",marginRight:s=>s.isNext?"0":"10px","&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}}),{name:"BackstageTabIcon"}),Fa=s=>{const m=Qr(s),{ariaLabel:D,onClick:n}=s;return React.createElement(IconButton,{onClick:n,className:m.root,size:"small",disableRipple:!0,disableFocusRipple:!0,"aria-label":D},s.children)},ca=(s,m)=>m?s?"20px":"0":"40px",aa=(0,l.Z)(s=>({root:{textTransform:"none",height:"64px",fontWeight:s.typography.fontWeightBold,fontSize:s.typography.pxToRem(13),color:s.palette.textSubtle,marginLeft:m=>ca(m.isFirstNav,m.isFirstIndex),width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:s.palette.textSubtle}}}),{name:"BackstageTab"}),ua=s=>{const m=aa(s),{isFirstNav:D,isFirstIndex:n,...o}=s;return React.createElement(Tab,{classes:m,disableRipple:!0,...o})},ja=(0,l.Z)(s=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:s.palette.tabbar.indicator,height:"4px"},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}}),{name:"BackstageTabBar"}),lr=s=>{const m=ja(s);return React.createElement(Tabs$1,{classes:m,...s,TabIndicatorProps:{children:React.createElement("span",null)}})},ao=(0,l.Z)(s=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:s.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:s.palette.background.paper,paddingLeft:"10px",paddingRight:"10px"}}),{name:"BackstageTabs"});function Os(s){const{tabs:m}=s,D=ao(),[n,o]=useState([0,0]),[u,g]=useState(0),[P,L]=useState(0),[G,q]=useState([[]]),ee=useRef(),{width:de}=useWindowSize(),be=(vt,Pt)=>{o([u,Pt])},ye=()=>{g(u-1)},Fe=()=>{g(u+1)},Ve=()=>u+1<G.length;useEffect(()=>{const Pt=u===0?1:2,Nt=ee.current.offsetWidth-20-Pt*30,Xt=n[0]*P+n[1],Jt=Math.floor(Nt/170);L(Jt),q(Vn(m,Jt)),o([Math.floor(Xt/Jt),Xt%Jt])},[de,m]);const We=u===n[0]?n[1]:!1;return React.createElement("div",{className:D.root},React.createElement(AppBar,{ref:ee,className:D.appbar,position:"static"},React.createElement("div",null,React.createElement(lr,{value:We,onChange:be,selectionFollowsFocus:!0},u!==0&&React.createElement(Fa,{onClick:ye,ariaLabel:"navigate-before"},React.createElement(NavigateBeforeIcon,null)),G[u].map((vt,Pt)=>React.createElement(ua,{value:Pt,isFirstIndex:Pt===0,isFirstNav:u===0,key:Pt,icon:vt.icon||void 0,label:vt.label||void 0})),Ve()&&React.createElement(Fa,{isNext:!0,onClick:Fe,ariaLabel:"navigate-next"},React.createElement(NavigateNextIcon,null))))),We!==!1?G[u].map((vt,Pt)=>React.createElement(zn,{key:Pt,value:Pt,index:We},vt.content)):React.createElement(zn,{key:"panel_outside_chunked_array",value:n[1],index:n[1]},G[n[0]][n[1]].content))}function Ro(s,m){const D=s[s.length-1];if(!!D)return D>=.9?m.palette.status.ok:D>=.5?m.palette.status.warning:m.palette.status.error}function fi(s){var m;const D=useTheme();return s.data?React.createElement(Sparklines,{width:120,height:30,min:0,max:1,...s},s.title&&React.createElement("title",null,s.title),React.createElement(SparklinesLine,{color:(m=s.color)!=null?m:Ro(s.data,D)})):null}const Hu=s=>(0,l.Z)(m=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:m.spacing(2),textAlign:s.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:m.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),Ra=({title:s="Unknown page",className:m})=>t.createElement(i.Z,{variant:"h4",component:"h2",className:m,"data-testid":"header-title"},s);function ho(s){const{description:m,title:D,titleComponent:n=void 0,children:o,textAlign:u="left"}=s,g=Hu({textAlign:u})(),P=n||t.createElement(Ra,{title:D,className:g.title});return t.createElement(t.Fragment,null,t.createElement(Vo.q,{title:D}),t.createElement("div",{className:g.container},t.createElement("div",{className:g.leftItemsBox},P,m&&t.createElement(i.Z,{className:g.description,variant:"body2"},m)),t.createElement("div",{className:g.rightItemsBox},o)))}const ns=(0,l.Z)(s=>({micDrop:{maxWidth:"60%",position:"absolute",bottom:s.spacing(2),right:s.spacing(2),[s.breakpoints.down("xs")]:{maxWidth:"96%",position:"relative",bottom:"unset",right:"unset",margin:`${s.spacing(10)}px auto ${s.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),oo=()=>{const s=ns();return React.createElement("img",{src:MicDropSvgUrl,className:s.micDrop,alt:"Girl dropping mic from her hands"})},Lr=(0,l.Z)(s=>({container:{padding:s.spacing(8),[s.breakpoints.down("xs")]:{padding:s.spacing(2)}},title:{paddingBottom:s.spacing(5),[s.breakpoints.down("xs")]:{paddingBottom:s.spacing(4),fontSize:32}},subtitle:{color:s.palette.textSubtle}}),{name:"BackstageErrorPage"});function Ha(s){const{status:m,statusMessage:D,additionalInfo:n,supportUrl:o}=s,u=Lr(),g=useNavigate(),P=Qo();return React.createElement(Grid,{container:!0,spacing:0,className:u.container},React.createElement(oo,null),React.createElement(Grid,{item:!0,xs:12,sm:8,md:4},React.createElement(Typography,{"data-testid":"error",variant:"body1",className:u.subtitle},"ERROR ",m,": ",D),React.createElement(Typography,{variant:"body1",className:u.subtitle},n),React.createElement(Typography,{variant:"h2",className:u.title},"Looks like someone dropped the mic!"),React.createElement(Typography,{variant:"h6"},React.createElement(Na,{to:"#","data-testid":"go-back-link",onClick:()=>g(-1)},"Go back"),"... or please"," ",React.createElement(Na,{to:o||P.url},"contact support")," if you think this is a bug.")))}const Ns=(0,Ue.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(i.Z),Ka=(0,Ue.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(w.Z);function hi(s){const{children:m,...D}=s,[n,o]=React.useState(null),u=React.Children.toArray(m),[g,P,...L]=u,G=L.length?L.pop():u[u.length-1],q=u.length>3,ee=ye=>{o(ye.currentTarget)},de=()=>{o(null)},be=Boolean(n);return React.createElement(Fragment,null,React.createElement(MaterialBreadcrumbs,{"aria-label":"breadcrumb",...D},u.length>1&&React.createElement(Ka,{clone:!0},g),u.length>2&&React.createElement(Ka,{clone:!0},P),q&&React.createElement(Ns,{onClick:ee},"..."),React.createElement(Box,{style:{fontStyle:"italic"}},G)),React.createElement(Popover,{open:be,anchorEl:n,onClose:de,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},React.createElement(List,null,L.map((ye,Fe)=>React.createElement(ListItem,{key:Fe,button:!0},React.createElement(Ka,{clone:!0},ye))))))}const fd=(0,l.Z)(s=>({header:{gridArea:"pageHeader",padding:s.spacing(3),width:"100%",boxShadow:s.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:s.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[s.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto"},title:{color:s.palette.bursts.fontColor,wordBreak:"break-word",fontSize:s.typography.h3.fontSize,marginBottom:0},subtitle:{color:s.palette.bursts.fontColor,opacity:.8,display:"inline-block",marginTop:s.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:s.spacing(1),color:s.palette.bursts.fontColor},breadcrumb:{color:s.palette.bursts.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-s.spacing(.3),marginBottom:s.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-s.spacing(.3),marginBottom:s.spacing(.3)}}),{name:"BackstageHeader"}),Xr=({type:s,typeLink:m,classes:D,pageTitle:n})=>s?m?React.createElement(hi,{className:D.breadcrumb},React.createElement(Na,{to:m},s),React.createElement(Typography,null,n)):React.createElement(Typography,{className:D.type},s):null,Sa=({pageTitle:s,classes:m,tooltip:D})=>{const n=React.createElement(Typography,{className:m.title,variant:"h1"},s);return D?React.createElement(Tooltip,{title:D,placement:"top-start"},n):n},_r=({classes:s,subtitle:m})=>m?typeof m!="string"?React.createElement(React.Fragment,null,m):React.createElement(Typography,{className:s.subtitle,variant:"subtitle2",component:"span"},m):null;function qa(s){const{children:m,pageTitleOverride:D,style:n,subtitle:o,title:u,tooltip:g,type:P,typeLink:L}=s,G=fd(),ee=useApi(configApiRef).getOptionalString("app.title")||"Backstage",de=D||u,be=u||D,ye=`${de} | %s | ${ee}`,Fe=`${de} | ${ee}`;return React.createElement(React.Fragment,null,React.createElement(Helmet,{titleTemplate:ye,defaultTitle:Fe}),React.createElement("header",{style:n,className:G.header},React.createElement(Box,{className:G.leftItemsBox},React.createElement(Xr,{classes:G,type:P,typeLink:L,pageTitle:be}),React.createElement(Sa,{classes:G,pageTitle:be,tooltip:g}),React.createElement(_r,{classes:G,subtitle:o})),React.createElement(Grid,{container:!0,className:G.rightItemsBox,spacing:4},m)))}const so=(0,l.Z)(s=>({root:{textAlign:"left"},label:{color:s.palette.common.white,fontWeight:"bold",letterSpacing:0,fontSize:s.typography.fontSize,marginBottom:s.spacing(1)/2,lineHeight:1},value:{color:"rgba(255, 255, 255, 0.8)",fontSize:s.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),Pl=({value:s,className:m})=>React.createElement(Typography,{className:m},s);function So(s){const{label:m,value:D,url:n}=s,o=so(),u=React.createElement(Pl,{className:o.value,value:D||"<Unknown>"});return React.createElement(Grid,{item:!0},React.createElement("span",{className:o.root},React.createElement(Typography,{className:o.label},m),n?React.createElement(Na,{to:n},u):u))}const hd={hour:"2-digit",minute:"2-digit"};function Md(s){const m=new Date,D=window.navigator.language,n=[];if(!s.has("homepage.clocks"))return n;const o=s.getConfigArray("homepage.clocks");for(const u of o)if(u.has("label")&&u.has("timezone")){let g=u.getString("label");const P={timeZone:u.getString("timezone"),...hd};try{new Date().toLocaleString(D,P)}catch{console.warn(`The timezone ${P.timeZone} is invalid. Defaulting to GMT`),P.timeZone="GMT",g="GMT"}const L=m.toLocaleTimeString(D,P);n.push({time:L,label:g})}return n}function wp(s){const m=useApi(configApiRef),D=[],[n,o]=React.useState(D);return React.useEffect(()=>{o(Md(m));const u=setInterval(()=>{o(Md(m))},1e3);return()=>{clearInterval(u)}},[m]),n.length!==0?React.createElement(React.Fragment,null,n.map(u=>React.createElement(So,{label:u.label,value:u.time,key:u.label}))):null}const Rp=s=>(0,At.Z)({root:{color:s.palette.common.white,padding:s.spacing(2,2,3),backgroundImage:s.palette.bursts.gradient.linear,backgroundPosition:0,backgroundSize:"inherit"}}),fm=(0,l.Z)(Rp,{name:"BackstageItemCardHeader"});function Sp(s){const{title:m,subtitle:D,children:n}=s,o=fm(s);return React.createElement("div",{className:o.root},D&&React.createElement(Typography,{variant:"subtitle2",component:"h3"},D),m&&React.createElement(Typography,{variant:"h6",component:"h4"},m),n)}function ff(s){const{description:m,tags:D,title:n,type:o,subtitle:u,label:g,onClick:P,href:L}=s;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(Sp,{title:n,subtitle:u||o})),React.createElement(CardContent,null,D!=null&&D.length?React.createElement(Box,null,D.map((G,q)=>React.createElement(Chip,{size:"small",label:G,key:q}))):null,m),React.createElement(CardActions,null,!L&&React.createElement(La,{to:"#",onClick:P,color:"primary"},g),L&&React.createElement(La,{to:L,color:"primary"},g)))}const $p=s=>(0,At.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:s.spacing(2)}}),Tp=(0,l.Z)($p,{name:"BackstageItemCardGrid"});function hf(s){const{children:m,...D}=s,n=Tp(D);return React.createElement("div",{className:n.root,...D},m)}const Cp=(0,l.Z)(()=>({root:({isMobile:s})=>({display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",height:s?"100%":"100vh",overflowY:"auto"})}),{name:"BackstagePage"});function Bd(s){const{themeId:m,children:D}=s,{isMobile:n}=useContext(ts),o=Cp({isMobile:n});return React.createElement(ThemeProvider,{theme:u=>({...u,page:u.getPageTheme({themeId:m})})},React.createElement("main",{className:o.root},D))}function gf(s){const{themeId:m,children:D,...n}=s;return React.createElement(Bd,{themeId:m},React.createElement(qa,{...n}),D)}const kp=Ln.z.object({providerInfo:Ln.z.object({}).catchall(Ln.z.unknown()).optional(),profile:Ln.z.object({email:Ln.z.string().optional(),displayName:Ln.z.string().optional(),picture:Ln.z.string().optional()}),backstageIdentity:Ln.z.object({token:Ln.z.string(),identity:Ln.z.object({type:Ln.z.literal("user"),userEntityRef:Ln.z.string(),ownershipEntityRefs:Ln.z.array(Ln.z.string())})})}),hm={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function Pp(s){const m=new Date(Date.now()+hm.defaultTokenExpiryMillis);if(!s)return m;const[D,n,o]=s.split("."),u=JSON.parse(atob(n));return typeof u.exp!="number"?m:new Date(u.exp*1e3-hm.tokenExpiryMarginMillis)}class Fd{constructor(m){this.options=m,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:m}=this.getSessionSync(),D=m.identity.userEntityRef,n=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(D);if(!n)throw new TypeError(`Invalid user entity reference "${D}"`);return n[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const m=this.state.type==="active"?this.state.session:void 0,D=this.fetchSession().then(n=>(this.state={type:"active",session:n,expiresAt:Pp(n.backstageIdentity.token)},n),n=>{throw this.state={type:"failed",error:n},n});return this.state={type:"fetching",promise:D,previous:m},D}async fetchSession(){const m=await this.options.discoveryApi.getBaseUrl("auth"),D=await fetch(`${m}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"});if(!D.ok)throw await ResponseError.fromResponse(D);return kp.parse(await D.json())}}const yf=s=>{const m=useApi(discoveryApiRef),[{status:D,error:n},{execute:o}]=useAsync(async()=>{const u=new Fd({provider:s.provider,discoveryApi:m});await u.start(),s.onSignInSuccess(u)});return useMountEffect(o),D==="loading"?React.createElement(Es,null):n?React.createElement(Ki,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:n}):null};class gd{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const m="user:default/guest";return{type:"user",userEntityRef:m,ownershipEntityRefs:[m]}}async getCredentials(){return{}}async signOut(){}}function gm(s){const[m,D,n]=s.split(".");return JSON.parse(atob(D))}class yd{constructor(m){this.result=m}getUserId(){return this.result.userId}static fromResult(m){return new yd(m)}async getIdToken(){var m,D;return(D=(m=this.result).getIdToken)==null?void 0:D.call(m)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const m=await this.getIdToken();if(!m){const o=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:o,ownershipEntityRefs:[o]}}const{sub:D,ent:n}=gm(m);return{type:"user",userEntityRef:D,ownershipEntityRefs:n!=null?n:[]}}async getCredentials(){var m,D;return{token:await((D=(m=this.result).getIdToken)==null?void 0:D.call(m))}}async signOut(){var m,D;return(D=(m=this.result).signOut)==null?void 0:D.call(m)}}class Al{constructor(m,D,n){this.identity=m,this.authApi=D,this.profile=n}static createGuest(){return new gd}static fromLegacy(m){return yd.fromResult(m)}static create(m){return new Al(m.identity,m.authApi,m.profile)}getUserId(){const m=this.identity.userEntityRef,D=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(m);if(!D)throw new TypeError(`Invalid user entity reference "${m}"`);return D[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(m){throw this.profilePromise=void 0,m}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}const vd=(0,l.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),Ku=({children:s})=>{const m=vd();return t.createElement(Ne.Z,{component:"li",item:!0,classes:m},s)},ym={Component:({config:s,onSignInSuccess:m})=>{const{apiRef:D,title:n,message:o}=s,u=(0,e.h_)(D),g=(0,e.h_)(e.VE),P=async()=>{try{const L=await u.getBackstageIdentity({instantPopup:!0});if(!L)throw new Error(`The ${n} provider is not configured to support sign-in`);const G=await u.getProfile();m(Al.create({identity:L.identity,profile:G,authApi:u}))}catch(L){g.post(new se.SP("Login failed",L))}};return t.createElement(Ku,null,t.createElement(jo,{variant:"fullHeight",title:n,actions:t.createElement(ae.Z,{color:"primary",variant:"outlined",onClick:P},"Sign In")},t.createElement(i.Z,{variant:"body1"},o)))},loader:async(s,m)=>{const D=s.get(m),n=await D.getBackstageIdentity({optional:!0});if(!n)return;const o=await D.getProfile();return Al.create({identity:n.identity,profile:o,authApi:D})}},vm={Component:({onSignInSuccess:s})=>t.createElement(Ku,null,t.createElement(jo,{title:"Guest",variant:"fullHeight",actions:t.createElement(ae.Z,{color:"primary",variant:"outlined",onClick:()=>s(new gd)},"Enter")},t.createElement(i.Z,{variant:"body1"},"Enter as a Guest User.",t.createElement("br",null),"You will not have a verified identity,",t.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new gd},Em=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,Np=(0,l.Z)(s=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:s.spacing(2)}}),{name:"BackstageCustomProvider"}),jd=s=>{const{ref:m,...D}=s;return{inputRef:m,...D}},bm={Component:({onSignInSuccess:s})=>{const m=Np(),{register:D,handleSubmit:n,formState:o}=(0,Fi.cI)({mode:"onChange"}),{errors:u}=o,g=({userId:P})=>{s(Al.fromLegacy({userId:P,profile:{email:`${P}@example.com`}}))};return t.createElement(Ku,null,t.createElement(jo,{title:"Custom User",variant:"fullHeight"},t.createElement(i.Z,{variant:"body1"},"Enter your own User ID and credentials.",t.createElement("br",null),"This selection will not be stored."),t.createElement("form",{className:m.form,onSubmit:n(g)},t.createElement(zs.Z,null,t.createElement(nc.Z,{...jd(D("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(u.userId)}),u.userId&&t.createElement(ms.Z,{error:!0},u.userId.message)),t.createElement(zs.Z,null,t.createElement(nc.Z,{...jd(D("idToken",{required:!1,validate:P=>!P||Em.test(P)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(u.idToken)}),u.idToken&&t.createElement(ms.Z,{error:!0},u.idToken.message)),t.createElement(ae.Z,{type:"submit",color:"primary",variant:"outlined",className:m.button,disabled:!(o!=null&&o.isDirty)||!Ru()(u)},"Continue"))))},loader:async()=>{}};class Ed{constructor(m){this.config=m}static from(m){return new Ed(m)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const Ju="@backstage/core:SignInPage:provider",wm={guest:vm,custom:bm,common:ym};function _d(s,m){if(s in m)throw new Error(`"${s}" ID is duplicated. IDs of identity providers have to be unique.`)}function Dp(s){return s.reduce((D,n)=>{if(typeof n=="string")return _d(n,D),D[n]={components:wm[n],id:n},D;const{id:o}=n;return _d(o,D),D[o]={components:wm.common,id:o,config:n},D},{})}const Rm=(s,m)=>{const D=useApi(errorApiRef),n=useApiHolder(),[o,u]=useState(!0),g=useCallback(L=>{m(Ed.from({identityApi:L,signOut:async()=>{var G;localStorage.removeItem(Ju),await((G=L.signOut)==null?void 0:G.call(L))}}))},[m]);useLayoutEffect(()=>{var L;if(!o)return;const G=localStorage.getItem(Ju);if(G===null){u(!1);return}const q=s[G];if(!q){u(!1);return}let ee=!1;return q.components.loader(n,(L=q.config)==null?void 0:L.apiRef).then(de=>{ee||(de?g(de):u(!1))}).catch(de=>{ee||(localStorage.removeItem(Ju),D.post(de),u(!1))}),()=>{ee=!0}},[o,D,m,n,s,g]);const P=useMemo(()=>Object.keys(s).map(L=>{const G=s[L],{Component:q}=G.components,ee=de=>{localStorage.setItem(Ju,G.id),g(de)};return React.createElement(q,{key:G.id,config:G.config,onSignInSuccess:ee})}),[s,g]);return[o,P]},Sm=({onSignInSuccess:s,providers:m=[],title:D,align:n="left"})=>{const o=useApi(configApiRef),u=vd(),g=Dp(m),[P,L]=Rm(g,s);return P?React.createElement(Es,null):React.createElement(Bd,{themeId:"home"},React.createElement(qa,{title:o.getString("app.title")}),React.createElement(ra,null,D&&React.createElement(ho,{title:D,textAlign:n}),React.createElement(Grid,{container:!0,justifyContent:n==="center"?n:"flex-start",spacing:2,component:"ul",classes:u},L)))},Mp=({provider:s,auto:m,onSignInSuccess:D})=>{const n=vd(),o=useApi(s.apiRef),u=useApi(configApiRef),[g,P]=useState(),[L,G]=useState(!1),q=async({checkExisting:ee,showPopup:de})=>{try{let be;if(ee&&(be=await o.getBackstageIdentity({optional:!0})),!be&&(de||m)&&(G(!0),be=await o.getBackstageIdentity({instantPopup:!0}),!be))throw new Error(`The ${s.title} provider is not configured to support sign-in`);if(!be){G(!0);return}const ye=await o.getProfile();D(Al.create({identity:be.identity,authApi:o,profile:ye}))}catch(be){P(be),G(!0)}};return useMountEffect(()=>q({checkExisting:!0})),L?React.createElement(Bd,{themeId:"home"},React.createElement(qa,{title:u.getString("app.title")}),React.createElement(ra,null,React.createElement(Grid,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:n},React.createElement(Ku,null,React.createElement(jo,{variant:"fullHeight",title:s.title,actions:React.createElement(Button$1,{color:"primary",variant:"outlined",onClick:()=>{q({showPopup:!0})}},"Sign In")},React.createElement(Typography,{variant:"body1"},s.message),g&&g.name!=="PopupRejectedError"&&React.createElement(Typography,{variant:"body1",color:"error"},g.message)))))):React.createElement(Es,null)};function Ef(s){return"provider"in s?React.createElement(Mp,{...s}):React.createElement(Sm,{...s})}const Bp=(0,l.Z)(s=>({root:{padding:s.spacing(0,2,0,2.5),minHeight:s.spacing(3)},indicator:{backgroundColor:s.palette.info.main,height:s.spacing(.3)}}),{name:"BackstageTabbedCard"}),Ud=(0,Ue.Z)(s=>({root:{padding:s.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:s.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(zl.Z);function bf(s){const{slackChannel:m,errorBoundaryProps:D,children:n,title:o,deepLink:u,value:g,onChange:P}=s,L=Bp(),[G,q]=useState(0),ee=P||((ye,Fe)=>q(Fe));let de;g?React.Children.map(n,ye=>{React.isValidElement(ye)&&(ye==null?void 0:ye.props.value)===g&&(de=ye==null?void 0:ye.props.children)}):React.Children.map(n,(ye,Fe)=>{React.isValidElement(ye)&&Fe===G&&(de=ye==null?void 0:ye.props.children)});const be=D||(m?{slackChannel:m}:{});return React.createElement(Card,null,React.createElement(bs,{...be},o&&React.createElement(Ud,{title:o}),React.createElement(Tabs$1,{selectionFollowsFocus:!0,classes:L,value:g||G,onChange:ee},n),React.createElement(Divider,null),React.createElement(CardContent,null,de),u&&React.createElement(el,{...u})))}const Fp=(0,l.Z)(s=>({root:{minWidth:s.spacing(6),minHeight:s.spacing(3),margin:s.spacing(0,2,0,0),padding:s.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:s.palette.text.primary}},selected:{fontWeight:"bold"}}),{name:"BackstageCardTab"});function wf(s){const{children:m,...D}=s,n=Fp();return React.createElement(Tab,{disableRipple:!0,classes:n,...D})}var gi=(s=>(s.DENY="DENY",s.ALLOW="ALLOW",s.CONDITIONAL="CONDITIONAL",s))(gi||{});function Gd(s,m){return s.name===m.name}function Rf(s,m){return"resourceType"in s?!m||s.resourceType===m:!1}function Sf(s){return s.attributes.action==="create"}function Il(s){return s.attributes.action==="read"}function $f(s){return s.attributes.action==="update"}function Tf(s){return s.attributes.action==="delete"}function Cf(s){return{authorize:async(m,D)=>await s.authorize(m,D),authorizeConditional(m,D){const n=m;return s.authorize(n,D)}}}function kf({name:s,attributes:m,resourceType:D}){return D?{type:"resource",name:s,attributes:m,resourceType:D}:{type:"basic",name:s,attributes:m}}const bd=Ln.z.lazy(()=>Ln.z.object({rule:Ln.z.string(),resourceType:Ln.z.string(),params:Ln.z.array(Ln.z.unknown())}).or(Ln.z.object({anyOf:Ln.z.array(bd).nonempty()})).or(Ln.z.object({allOf:Ln.z.array(bd).nonempty()})).or(Ln.z.object({not:bd}))),jp=Ln.z.object({result:Ln.z.literal(gi.ALLOW).or(Ln.z.literal(gi.DENY))}),_p=Ln.z.union([Ln.z.object({result:Ln.z.literal(gi.ALLOW).or(Ln.z.literal(gi.DENY))}),Ln.z.object({result:Ln.z.literal(gi.CONDITIONAL),pluginId:Ln.z.string(),resourceType:Ln.z.string(),conditions:bd})]),Up=(s,m)=>z.object({items:z.array(z.intersection(z.object({id:z.string()}),s)).refine(D=>D.length===m.size&&D.every(({id:n})=>m.has(n)),{message:"Items in response do not match request"})});class wd{constructor(m){var D;this.discovery=m.discovery,this.enabled=(D=m.config.getOptionalBoolean("permission.enabled"))!=null?D:!1}async authorize(m,D){return this.makeRequest(m,jp,D)}async authorizeConditional(m,D){return this.makeRequest(m,_p,D)}async makeRequest(m,D,n){if(!this.enabled)return m.map(q=>({result:gi.ALLOW}));const o={items:m.map(q=>({id:uuid.v4(),...q}))},u=await this.discovery.getBaseUrl("permission"),g=await fetch(`${u}/authorize`,{method:"POST",body:JSON.stringify(o),headers:{...this.getAuthorizationHeader(n==null?void 0:n.token),"content-type":"application/json"}});if(!g.ok)throw await ResponseError.fromResponse(g);const P=await g.json(),G=Up(D,new Set(o.items.map(({id:q})=>q))).parse(P).items.reduce((q,ee)=>(q[ee.id]=ee,q),{});return o.items.map(q=>G[q.id])}getAuthorizationHeader(m){return m?{Authorization:`Bearer ${m}`}:{}}}var Gp=a(49857);const $m=(0,e.T0)({id:"plugin.permission.api"});class Vd{constructor(m,D){this.permissionClient=m,this.identityApi=D}static create(m){const{config:D,discovery:n,identity:o}=m,u=new PermissionClient({discovery:n,config:D});return new Vd(u,o)}async authorize(m){return(await this.permissionClient.authorize([m],await this.identityApi.getCredentials()))[0]}}function Vp(s){const m=useApi($m),{data:D,error:n}=useSWR(s,async o=>{if(isResourcePermission(o.permission)&&!o.resourceRef)return AuthorizeResult.DENY;const{result:u}=await m.authorize(o);return u});return n?{error:n,loading:!1,allowed:!1}:D===void 0?{loading:!0,allowed:!1}:{loading:!1,allowed:D===AuthorizeResult.ALLOW}}const Pf=s=>{const{permission:m,resourceRef:D,errorComponent:n,...o}=s,u=Vp(isResourcePermission(m)?{permission:m,resourceRef:D}:{permission:m}),g=useApp(),{NotFoundErrorPage:P}=g.getComponents();let L=n===void 0?React.createElement(P,null):n;return u.loading?L=null:u.allowed&&(L=s.element),React.createElement(Route,{...o,element:L})};var Rd=a(19996),Yu=a(25505),zp=a(82108),Zp=a(11640),zd=a(3440),Zd=a(60155);const Ol=(0,e.T0)({id:"plugin.catalog.service"}),Wd=(0,e.T0)({id:"catalog-react.starred-entities"});class Af{constructor(){this.starredEntities=new Set,this.subscribers=new Set,this.observable=new ObservableImpl(m=>(m.next(new Set(this.starredEntities)),this.subscribers.add(m),()=>{this.subscribers.delete(m)}))}async toggleStarred(m){this.starredEntities.delete(m)||this.starredEntities.add(m);for(const D of this.subscribers)D.next(new Set(this.starredEntities))}starredEntitie$(){return this.observable}}const Wp=s=>{const m=(0,pt.Z)(u=>u.breakpoints.down("md")),D=(0,X.Z)(),[n,o]=(0,t.useState)(!1);return m?t.createElement(t.Fragment,null,t.createElement(ae.Z,{style:{marginTop:D.spacing(1),marginLeft:D.spacing(1)},onClick:()=>o(!0),startIcon:t.createElement(Qe.Z,null)},"Filters"),t.createElement($e.ZP,{open:n,onClose:()=>o(!1),anchor:"left",disableAutoFocus:!0,keepMounted:!0,variant:"temporary"},t.createElement(w.Z,{m:2},t.createElement(i.Z,{variant:"h6",component:"h2",style:{marginBottom:D.spacing(1)}},"Filters"),s.children))):t.createElement(Ne.Z,{item:!0,lg:2},s.children)},yi=s=>t.createElement(Ne.Z,{item:!0,xs:12,lg:10},s.children),Sd=s=>t.createElement(Ne.Z,{container:!0,style:{position:"relative"}},s.children);Sd.Filters=Wp,Sd.Content=yi;const Hp=(0,rt.CT)("entity-context"),Tm=({children:s,entity:m,loading:D,error:n,refresh:o})=>{const u={entity:m,loading:D,error:n,refresh:o};return React.createElement(Hp.Provider,{value:createVersionedValueMap({1:u})},s)},Kp=s=>React.createElement(Tm,{entity:s.entity,loading:!Boolean(s.entity),error:void 0,refresh:void 0,children:s.children});function $d(){const s=(0,rt.Vt)("entity-context");if(!s)throw new Error("Entity context is not available");const m=s.atVersion(1);if(!m)throw new Error("EntityContext v1 not available");if(!m.entity)throw new Error("useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.");return{entity:m.entity}}function Cm(){const s=useVersionedContext("entity-context");if(!s)throw new Error("Entity context is not available");const m=s.atVersion(1);if(!m)throw new Error("EntityContext v1 not available");const{entity:D,loading:n,error:o,refresh:u}=m;return{entity:D,loading:n,error:o,refresh:u}}function Hd(s){return s.reduce((m,D)=>({...m,...D.getCatalogFilters?D.getCatalogFilters():{}}),{})}function km(s){return m=>s.every(D=>!D.filterEntity||D.filterEntity(m))}function Nl(s,m,D){var n;let o=((n=s==null?void 0:s.relations)==null?void 0:n.filter(u=>u.type===m).map(u=>Rn(u.targetRef)))||[];return D!=null&&D.kind&&(o=o.filter(u=>u.kind.toLocaleLowerCase("en-US")===D.kind.toLocaleLowerCase("en-US"))),o}function Jp(s,m){var D;const n=(D=s.metadata.annotations)==null?void 0:D[ANNOTATION_SOURCE_LOCATION];if(!!n)try{const o=parseLocationRef(n),u=m.byUrl(o.target);return{locationTargetUrl:o.target,integrationType:u==null?void 0:u.type}}catch{return}}function Pm(s,m){const D=new Set([...Nl(s,RELATION_MEMBER_OF,{kind:"group"}),...s?[getCompoundEntityRef(s)]:[]].map(stringifyEntityRef)),n=Nl(m,RELATION_OWNED_BY).map(stringifyEntityRef);for(const o of n)if(D.has(o))return!0;return!1}const Qu=(0,t.createContext)(void 0),Xc=({children:s})=>{const m=useMountedState(),D=useApi(Ol),[n,o]=useState({}),u=useLocation(),g=useMemo(()=>{var ye;return(ye=qs.parse(u.search,{ignoreQueryPrefix:!0}).filters)!=null?ye:{}},[u]),[P,L]=useState(()=>({appliedFilters:{},entities:[],backendEntities:[]})),[{loading:G,error:q},ee]=useAsyncFn(async()=>{var ye;const Fe=compact(Object.values(n)),Ve=km(Fe),We=Hd(Fe),vt=Hd(compact(Object.values(P.appliedFilters))),Pt=Object.keys(n).reduce((Nt,Xt)=>{const Jt=n[Xt];return Jt!=null&&Jt.toQueryValue&&(Nt[Xt]=Jt.toQueryValue()),Nt},{});if(isEqual(vt,We))L({appliedFilters:n,backendEntities:P.backendEntities,entities:P.backendEntities.filter(Ve)});else{const Nt=await D.getEntities({filter:We});L({appliedFilters:n,backendEntities:Nt.items,entities:Nt.items.filter(Ve)})}if(m()){const Nt=qs.parse(u.search,{ignoreQueryPrefix:!0}),Xt=qs.stringify({...Nt,filters:Pt},{addQueryPrefix:!0,arrayFormat:"repeat"}),Jt=`${window.location.pathname}${Xt}`;(ye=window.history)==null||ye.replaceState(null,document.title,Jt)}},[D,g,n,P],{loading:!0});useDebounce(ee,10,[n]);const de=useCallback(ye=>{o(Fe=>{const Ve=typeof ye=="function"?ye(Fe):ye;return{...Fe,...Ve}})},[]),be=useMemo(()=>({filters:P.appliedFilters,entities:P.entities,backendEntities:P.backendEntities,updateFilters:de,queryParameters:g,loading:G,error:q}),[P,de,g,G,q]);return React.createElement(Qu.Provider,{value:be},s)};function Ll(){const s=useContext(Qu);if(!s)throw new Error("useEntityList must be used within EntityListProvider");return s}const Am=(0,rt.uW)("catalog:entity-route-ref",()=>(0,e.NT)({id:"catalog:entity",params:["namespace","kind","name"]}));function Kd(s){var m,D;return{kind:s.kind.toLocaleLowerCase("en-US"),namespace:(D=(m=s.metadata.namespace)==null?void 0:m.toLocaleLowerCase("en-US"))!=null?D:DEFAULT_NAMESPACE,name:s.metadata.name}}function qc(s,m){const D=m==null?void 0:m.defaultKind;let n,o,u;return"metadata"in s?(n=s.kind,o=s.metadata.namespace,u=s.metadata.name):(n=s.kind,o=s.namespace,u=s.name),o===y&&(o=void 0),n=n.toLocaleLowerCase("en-US"),n=D&&D.toLocaleLowerCase("en-US")===n?void 0:n,`${n?`${n}:`:""}${o?`${o}/`:""}${u}`}const $o=(0,t.forwardRef)((s,m)=>{var D;const{entityRef:n,defaultKind:o,title:u,children:g,...P}=s,L=(0,e.tg)(Am);let G,q,ee;if(typeof n=="string"){const Fe=Rn(n);G=Fe.kind,q=Fe.namespace,ee=Fe.name}else"metadata"in n?(G=n.kind,q=n.metadata.namespace,ee=n.metadata.name):(G=n.kind,q=n.namespace,ee=n.name);G=G.toLocaleLowerCase("en-US"),q=(D=q==null?void 0:q.toLocaleLowerCase("en-US"))!=null?D:y;const de={kind:G,namespace:q,name:ee},be=qc({kind:G,namespace:q,name:ee},{defaultKind:o}),ye=t.createElement(Na,{...P,ref:m,to:L(de)},g,!g&&(u!=null?u:be));return u?t.createElement(Ze.ZP,{title:be},ye):ye});function Jd(s){const{entityRefs:m,defaultKind:D,...n}=s;return t.createElement(t.Fragment,null,m.map((o,u)=>t.createElement(t.Fragment,{key:u},u>0&&", ",t.createElement($o,{...n,entityRef:o,defaultKind:D}))))}class Yp{constructor(m){this.value=m}getCatalogFilters(){return{kind:this.value}}toQueryValue(){return this.value}}class xl{constructor(m){this.value=m}getTypes(){return Array.isArray(this.value)?this.value:[this.value]}getCatalogFilters(){return{"spec.type":this.getTypes()}}toQueryValue(){return this.getTypes()}}class eu{constructor(m){this.values=m}filterEntity(m){return this.values.every(D=>{var n;return((n=m.metadata.tags)!=null?n:[]).includes(D)})}toQueryValue(){return this.values}}class Im{constructor(m){this.value=m}filterEntity(m){var D;const n=this.value.toLocaleUpperCase("en-US");return m.metadata.name.toLocaleUpperCase("en-US").includes(n)||`${m.metadata.title}`.toLocaleUpperCase("en-US").includes(n)||((D=m.metadata.tags)==null?void 0:D.join("").toLocaleUpperCase("en-US").indexOf(n))!==-1}}class Om{constructor(m){this.values=m}filterEntity(m){return this.values.some(D=>Nl(m,RELATION_OWNED_BY).some(n=>qc(n,{defaultKind:"group"})===D))}toQueryValue(){return this.values}}class Nm{constructor(m){this.values=m}filterEntity(m){return this.values.some(D=>{var n;return((n=m.spec)==null?void 0:n.lifecycle)===D})}toQueryValue(){return this.values}}class Td{constructor(m,D,n){this.value=m,this.isOwnedEntity=D,this.isStarredEntity=n}filterEntity(m){switch(this.value){case"owned":return this.isOwnedEntity(m);case"starred":return this.isStarredEntity(m);default:return!0}}toQueryValue(){return this.value}}function Lm(){var s;const m=useApi(Ol),{filters:{kind:D,type:n},queryParameters:{type:o},updateFilters:u}=Ll(),g=useMemo(()=>[o].flat().filter(Boolean),[o]),[P,L]=useState(g.length?g:(s=n==null?void 0:n.getTypes())!=null?s:[]);useEffect(()=>{g.length&&L(g)},[g]);const[G,q]=useState([]),ee=useMemo(()=>D==null?void 0:D.value,[D]),{error:de,loading:be,value:ye}=useAsync(async()=>ee?await m.getEntityFacets({filter:{kind:ee},facets:["spec.type"]}).then(We=>We.facets["spec.type"]||[]):[],[ee,m]),Fe=useRef(ye);return useEffect(()=>{const Ve=Fe.current;if(Fe.current=ye,be||!ee||Ve===ye||!ye)return;const We=[...new Set(sortBy(ye,Pt=>-Pt.count).map(Pt=>Pt.value.toLocaleLowerCase("en-US")))];q(We);const vt=P.filter(Pt=>We.includes(Pt));isEqual$1(P,vt)||L(vt)},[be,ee,P,L,ye]),useEffect(()=>{u({type:P.length?new xl(P):void 0})},[P,u]),{loading:be,error:de,availableTypes:G,selectedTypes:P,setSelectedTypes:L}}const xm=20;function Qp(s,m){var D,n;const o=(D=m==null?void 0:m.type)==null?void 0:D.toLocaleLowerCase("en-US"),u=(n=m==null?void 0:m.kind)==null?void 0:n.toLocaleLowerCase("en-US"),g=useApi(Ol),{loading:P,value:L,error:G}=useAsync(async()=>{var q;const ee=(q=s.relations)==null?void 0:q.map(Fe=>({type:Fe.type,target:parseEntityRef(Fe.targetRef)})).filter(Fe=>(!o||Fe.type.toLocaleLowerCase("en-US")===o)&&(!u||Fe.target.kind===u));if(!ee)return[];const de=Object.values(groupBy(ee,({target:Fe})=>`${Fe.kind}:${Fe.namespace}`.toLocaleLowerCase("en-US"))),be=[];for(const Fe of de)be.push({kind:Fe[0].target.kind,namespace:Fe[0].target.namespace,nameBatches:chunk(Fe.map(Ve=>Ve.target.name),xm)});return(await Promise.all(be.flatMap(Fe=>Fe.nameBatches.map(Ve=>g.getEntities({filter:{kind:Fe.kind,"metadata.namespace":Fe.namespace,"metadata.name":Ve}}))))).flatMap(Fe=>Fe.items)},[s,o,u]);return{entities:L,loading:P,error:G}}function Xu(s){return typeof s=="string"?s:stringifyEntityRef(s)}function Dm(){const s=useApi(Wd),m=useObservable(s.starredEntitie$(),new Set),D=useCallback(o=>m.has(Xu(o)),[m]),n=useCallback(o=>s.toggleStarred(Xu(o)).then(),[s]);return{starredEntities:m,toggleStarredEntity:n,isStarredEntity:D}}function Yd(s){return typeof s=="string"?s:stringifyEntityRef(s)}function Xp(s){const m=useApi(Wd),[D,n]=useState(!1);return useEffect(()=>{const u=m.starredEntitie$().subscribe({next(g){n(g.has(Yd(s)))}});return()=>{u.unsubscribe()}},[s,m]),{toggleStarredEntity:useCallback(()=>m.toggleStarred(Yd(s)).then(),[s,m]),isStarredEntity:D}}function Qd(){const s=useApi(identityApiRef),{loading:m,value:D}=useAsync(async()=>{const{ownershipEntityRefs:o}=await s.getBackstageIdentity();return o},[]),n=useMemo(()=>{const o=new Set(D!=null?D:[]);return u=>{const g=Nl(u,RELATION_OWNED_BY).map(stringifyEntityRef);for(const P of g)if(o.has(P))return!0;return!1}},[D]);return useMemo(()=>({loading:m,isOwnedEntity:n}),[m,n])}function qp(s){const{entity:m,loading:D,error:n}=Cm(),{allowed:o,loading:u,error:g}=usePermission({permission:s,resourceRef:m?stringifyEntityRef(m):void 0});return D||u?{loading:!0,allowed:!1}:n?{loading:!1,allowed:!1,error:n}:{loading:!1,allowed:o,error:g}}const Mm=s=>{var m;const{initialFilter:D,hidden:n}=s,{updateFilters:o,queryParameters:{kind:u}}=Ll(),[g]=useState((m=[u].flat()[0])!=null?m:D);return useEffect(()=>{o({kind:g?new Yp(g):void 0})},[g,o]),n?null:React.createElement(Alert,{severity:"warning"},"Kind filter not yet available")},Bm=(0,l.Z)({input:{}},{name:"CatalogReactEntityLifecyclePicker"}),Fm=t.createElement(Yu.Z,{fontSize:"small"}),ef=t.createElement(Rd.Z,{fontSize:"small"}),If=()=>{var s,m;const D=Bm(),{updateFilters:n,backendEntities:o,filters:u,queryParameters:{lifecycles:g}}=Ll(),P=useMemo(()=>[g].flat().filter(Boolean),[g]),[L,G]=useState(P.length?P:(m=(s=u.lifecycles)==null?void 0:s.values)!=null?m:[]);useEffect(()=>{P.length&&G(P)},[P]),useEffect(()=>{n({lifecycles:L.length?new Nm(L):void 0})},[L,n]);const q=useMemo(()=>[...new Set(o.map(ee=>{var de;return(de=ee.spec)==null?void 0:de.lifecycle}).filter(Boolean))].sort(),[o]);return q.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Lifecycle"),React.createElement(Autocomplete,{"aria-label":"Lifecycle",multiple:!0,options:q,value:L,onChange:(ee,de)=>G(de),renderOption:(ee,{selected:de})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:Fm,checkedIcon:ef,checked:de}),label:ee}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"lifecycle-picker-expand"}),renderInput:ee=>React.createElement(TextField,{...ee,className:D.input,variant:"outlined"})})):null},jm=(0,l.Z)({input:{}},{name:"CatalogReactEntityOwnerPicker"}),_m=t.createElement(Yu.Z,{fontSize:"small"}),Um=t.createElement(Rd.Z,{fontSize:"small"}),Of=()=>{var s,m;const D=jm(),{updateFilters:n,backendEntities:o,filters:u,queryParameters:{owners:g}}=Ll(),P=useMemo(()=>[g].flat().filter(Boolean),[g]),[L,G]=useState(P.length?P:(m=(s=u.owners)==null?void 0:s.values)!=null?m:[]);useEffect(()=>{P.length&&G(P)},[P]),useEffect(()=>{n({owners:L.length?new Om(L):void 0})},[L,n]);const q=useMemo(()=>[...new Set(o.flatMap(ee=>Nl(ee,RELATION_OWNED_BY).map(de=>qc(de,{defaultKind:"group"}))).filter(Boolean))].sort(),[o]);return q.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Owner"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Owner",options:q,value:L,onChange:(ee,de)=>G(de),renderOption:(ee,{selected:de})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:_m,checkedIcon:Um,checked:de}),label:ee}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"owner-picker-expand"}),renderInput:ee=>React.createElement(TextField,{...ee,className:D.input,variant:"outlined"})})):null},Gm=(0,l.Z)(s=>({searchToolbar:{paddingLeft:0,paddingRight:0},input:{}}),{name:"CatalogReactEntitySearchBar"}),tf=()=>{var s,m;const D=Gm(),{filters:n,updateFilters:o}=Ll(),[u,g]=useState((m=(s=n.text)==null?void 0:s.value)!=null?m:"");return useDebounce(()=>{o({text:u.length?new Im(u):void 0})},250,[u,o]),React.createElement(Toolbar,{className:D.searchToolbar},React.createElement(FormControl,null,React.createElement(Input,{"aria-label":"search",id:"input-with-icon-adornment",className:D.input,placeholder:"Search",autoComplete:"off",onChange:P=>g(P.target.value),value:u,startAdornment:React.createElement(InputAdornment,{position:"start"},React.createElement(Search,null)),endAdornment:React.createElement(InputAdornment,{position:"end"},React.createElement(IconButton,{"aria-label":"clear search",onClick:()=>g(""),edge:"end",disabled:u.length===0},React.createElement(Clear,null)))})))},To=Object.freeze({createEntityRefColumn(s){const{defaultKind:m}=s;function D(n){var o;return((o=n.metadata)==null?void 0:o.title)||qc(n,{defaultKind:m})}return{title:"Name",highlight:!0,customFilterAndSearch(n,o){return D(o).includes(n)},customSort(n,o){return D(n).localeCompare(D(o))},render:n=>{var o;return t.createElement($o,{entityRef:n,defaultKind:m,title:(o=n.metadata)==null?void 0:o.title})}}},createEntityRelationColumn({title:s,relation:m,defaultKind:D,filter:n}){function o(g){return Nl(g,m,n)}function u(g){return o(g).map(P=>qc(P,{defaultKind:D})).join(", ")}return{title:s,customFilterAndSearch(g,P){return u(P).includes(g)},customSort(g,P){return u(g).localeCompare(u(P))},render:g=>t.createElement(Jd,{entityRefs:o(g),defaultKind:D})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:la,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:qn,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:qn,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:s=>t.createElement(ud,{text:s.metadata.description,placement:"bottom-start",line:2}),width:"auto"}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),nf=[To.createEntityRefColumn({defaultKind:"system"}),To.createDomainColumn(),To.createOwnerColumn(),To.createMetadataDescriptionColumn()],Vm=[To.createEntityRefColumn({defaultKind:"component"}),To.createSystemColumn(),To.createOwnerColumn(),To.createSpecTypeColumn(),To.createSpecLifecycleColumn(),To.createMetadataDescriptionColumn()],rf=(0,l.Z)(s=>({empty:{padding:s.spacing(2),display:"flex",justifyContent:"center"}})),io=s=>{const{entities:m,title:D,emptyContent:n,variant:o="gridItem",columns:u}=s,g=rf(),P={minWidth:"0",width:"100%"};return o==="gridItem"&&(P.height="calc(100% - 10px)"),t.createElement(Cn,{columns:u,title:D,style:P,emptyContent:n&&t.createElement("div",{className:g.empty},n),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense"},data:m})};io.columns=To,io.systemEntityColumns=nf,io.componentEntityColumns=Vm;const zm=(0,l.Z)({input:{}},{name:"CatalogReactEntityTagPicker"}),Zm=t.createElement(Yu.Z,{fontSize:"small"}),Wm=t.createElement(Rd.Z,{fontSize:"small"}),Xd=()=>{var s,m;const D=zm(),{updateFilters:n,filters:o,queryParameters:{tags:u}}=Ll(),g=useApi(Ol),{value:P}=useAsync(async()=>{var ee;const de="metadata.tags",{facets:be}=await g.getEntityFacets({facets:[de],filter:(ee=o.kind)==null?void 0:ee.getCatalogFilters()});return be[de].map(({value:ye})=>ye)},[o.kind]),L=useMemo(()=>[u].flat().filter(Boolean),[u]),[G,q]=useState(L.length?L:(m=(s=o.tags)==null?void 0:s.values)!=null?m:[]);return useEffect(()=>{L.length&&q(L)},[L]),useEffect(()=>{n({tags:G.length?new eu(G):void 0})},[G,n]),P!=null&&P.length?React.createElement(Box,{pb:1,pt:1},React.createElement(Typography,{variant:"button"},"Tags"),React.createElement(Autocomplete,{multiple:!0,"aria-label":"Tags",options:P,value:G,onChange:(ee,de)=>q(de),renderOption:(ee,{selected:de})=>React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{icon:Zm,checkedIcon:Wm,checked:de}),label:ee}),size:"small",popupIcon:React.createElement(ExpandMoreIcon,{"data-testid":"tag-picker-expand"}),renderInput:ee=>React.createElement(TextField,{...ee,className:D.input,variant:"outlined"})})):null},af=s=>{var m;const{hidden:D,initialFilter:n}=s,o=useApi(alertApiRef),{error:u,availableTypes:g,selectedTypes:P,setSelectedTypes:L}=Lm();if(useEffect(()=>{u&&o.post({message:"Failed to load entity types",severity:"error"}),n&&L([n])},[u,o,n,L]),g.length===0||u)return null;const G=[{value:"all",label:"All"},...g.map(q=>({value:q,label:capitalize(q)}))];return D?null:React.createElement(Box,{pb:1,pt:1},React.createElement(Select,{label:"Type",items:G,selected:(m=G.length>1?P[0]:void 0)!=null?m:"all",onChange:q=>L(q==="all"?[]:[String(q)])}))},Hm=(0,Ue.Z)({root:{color:"#f3ba37"}})(Zp.Z),of=s=>{const{toggleStarredEntity:m,isStarredEntity:D}=Xp(s.entity);return React.createElement(IconButton,{"aria-label":"favorite",color:"inherit",...s,onClick:()=>m()},React.createElement(Tooltip,{title:D?"Remove from favorites":"Add to favorites"},D?React.createElement(Hm,null):React.createElement(StarBorder,null)))},Km=null;function sf(s,m){if(s)return s.toLocaleLowerCase("en-US");if(m)try{return parseEntityRef(m).kind.toLocaleLowerCase("en-US")}catch{return}}function Jm(s,m){const D=useApp(),n=sf(s,m);return n&&D.getSystemIcon(`kind:${n}`)||Km}function qd(s){const{kind:m,entityRef:D,...n}=s,o=Jm(m,D);return React.createElement(o,{...n})}const em=(0,l.Z)(s=>({node:{fill:s.palette.grey[300],stroke:s.palette.grey[300],"&.primary":{fill:s.palette.primary.light,stroke:s.palette.primary.light},"&.secondary":{fill:s.palette.secondary.light,stroke:s.palette.secondary.light}},text:{fill:s.palette.getContrastText(s.palette.grey[300]),"&.primary":{fill:s.palette.primary.contrastText},"&.secondary":{fill:s.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}));function Ym(s){const m=useApi(Ol),D=stringifyEntityRef(s),{loading:n,error:o,value:u}=useAsync(async()=>{const g=await m.getEntityAncestors({entityRef:D}),P=new Array,L=new Array;for(const G of g.items){const q=stringifyEntityRef(G.entity),ee=q===g.rootEntityRef;P.push({id:q,root:ee,...G.entity});for(const de of G.parentEntityRefs)L.push({from:q,to:de})}return{nodes:P,edges:L}},[D]);return{loading:n,error:o,nodes:(u==null?void 0:u.nodes)||[],edges:(u==null?void 0:u.edges)||[]}}function Qm({node:s}){const m=em(),D=useNavigate(),n=useRouteRef(Am),[o,u]=useState(0),[g,P]=useState(0),L=useRef(null);useLayoutEffect(()=>{if(L.current){let{height:Ve,width:We}=L.current.getBBox();Ve=Math.round(Ve),We=Math.round(We),(Ve!==g||We!==o)&&(u(We),P(Ve))}},[o,g]);const G=10,q=g,ee=q+G,de=ee+o+G*2,be=g+G*2,ye=s.metadata.title||(s.kind&&s.metadata.name&&s.metadata.namespace?qc({kind:s.kind,name:s.metadata.name,namespace:s.metadata.namespace||""}):s.id),Fe=()=>{D(n({kind:s.kind,namespace:s.metadata.namespace||DEFAULT_NAMESPACE,name:s.metadata.name}))};return React.createElement("g",{onClick:Fe,className:m.clickable},React.createElement("rect",{className:classNames(m.node,s.root?"secondary":"primary"),width:de,height:be,rx:10}),React.createElement(qd,{kind:s.kind,y:G,x:G,width:q,height:q,className:classNames(m.text,s.root?"secondary":"primary")}),React.createElement("text",{ref:L,className:classNames(m.text,s.root?"secondary":"primary"),y:be/2,x:ee+(o+G*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},ye))}function Cd(s){const{loading:m,error:D,nodes:n,edges:o}=Ym(s.entity);return m?React.createElement(Progress,null):D?React.createElement(ResponseErrorPanel,{error:D}):React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Ancestry"),React.createElement(DialogContentText,{gutterBottom:!0},"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where"," ",React.createElement(Link,{to:"https://backstage.io/docs/features/software-catalog/life-of-an-entity"},"processors emitted")," ","child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations."),React.createElement(Box,{mt:4},React.createElement(DependencyGraph,{nodes:n,edges:o,renderNode:Qm,direction:DependencyGraphTypes.Direction.BOTTOM_TOP,zoom:"enable-on-click"})))}const kd=(0,l.Z)(s=>({root:{display:"flex",flexDirection:"column"},marginTop:{marginTop:s.spacing(2)},helpIcon:{marginLeft:s.spacing(1),color:s.palette.text.disabled},monospace:{fontFamily:"monospace"}}));function rs(s){const m=kd();return React.createElement(ListItemText$1,{...s,primaryTypographyProps:{className:m.monospace},secondaryTypographyProps:{className:m.monospace}})}function qu(s){const m=kd();return React.createElement(ListSubheader$1,{className:m.monospace},s.children)}function ed(s){return React.createElement(Box,{mt:2},React.createElement(Card,{variant:"outlined"},React.createElement(CardContent,null,React.createElement(Typography,{variant:"h6",gutterBottom:!0},s.title,s.helpLink&&React.createElement(tu,{to:s.helpLink})),s.children)))}function Pd(s){if(s.match(/^url:https?:\/\//))return s.slice(4);if(s.match(/^https?:\/\//))return s}function Co(s){const[m,D]=s.entry,n=Pd(D);return React.createElement(ListItem,null,s.indent&&React.createElement(ListItemIcon,null),React.createElement(rs,{primary:m,secondary:n?React.createElement(Link,{to:n},D):D}))}function tu(s){const m=kd();return React.createElement(Link,{to:s.to,className:m.helpIcon},React.createElement(HelpOutlineIcon,{fontSize:"inherit"}))}const td=(0,l.Z)({root:{display:"flex",flexDirection:"column"}});function Xm(s){var m,D;const n=useApi(Ol),o=stringifyEntityRef(s),u=(m=s.metadata.annotations)==null?void 0:m[ANNOTATION_LOCATION],g=(D=s.metadata.annotations)==null?void 0:D[ANNOTATION_ORIGIN_LOCATION],{loading:P,error:L,value:G}=useAsync(async()=>!u&&!g?[]:(await n.getEntities({filter:[...u?[{[`metadata.annotations.${ANNOTATION_LOCATION}`]:u}]:[],...g?[{[`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]:g}]:[]]})).items,[u,g]);return{loading:P,error:L,location:u,originLocation:g,colocatedEntities:G==null?void 0:G.filter(q=>stringifyEntityRef(q)!==o)}}function nu(s){return React.createElement(List,{dense:!0},s.header&&React.createElement(Co,{key:"header",entry:s.header}),s.entities.map(m=>React.createElement(ListItem,{key:stringifyEntityRef(m)},React.createElement(ListItemIcon,null,React.createElement(qd,{kind:m.kind})),React.createElement(rs,{primary:React.createElement($o,{entityRef:m})}))))}function tm(s){const{entity:m}=s,{loading:D,error:n,location:o,originLocation:u,colocatedEntities:g}=Xm(m);if(D)return React.createElement(Progress,null);if(n)return React.createElement(ResponseErrorPanel,{error:n});if(!o&&!u)return React.createElement(Alert,{severity:"warning"},"Entity had no location information.");if(!(g!=null&&g.length))return React.createElement(Alert,{severity:"info"},"There were no other entities on this location.");if(o===u)return React.createElement(nu,{entities:g});const P=g.filter(G=>{var q;return((q=G.metadata.annotations)==null?void 0:q[ANNOTATION_LOCATION])===o}),L=g.filter(G=>{var q;return((q=G.metadata.annotations)==null?void 0:q[ANNOTATION_ORIGIN_LOCATION])===u});return React.createElement(React.Fragment,null,P.length>0&&React.createElement(nu,{entities:P,header:["At the same location",o]}),L.length>0&&React.createElement(nu,{entities:L,header:["At the same origin",u]}))}function qm(s){const m=td();return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Colocated"),React.createElement(DialogContentText,null,"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL)."),React.createElement("div",{className:m.root},React.createElement(tm,{entity:s.entity})))}function nm(s){return Object.fromEntries([...Object.entries(s)].sort((m,D)=>m[0]<D[0]?-1:1))}function Ad(s){return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Entity as JSON"),React.createElement(DialogContentText,null,"This is the raw entity data as received from the catalog, on JSON form."),React.createElement(DialogContentText,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:JSON.stringify(nm(s.entity),void 0,2),language:"json",showCopyCodeButton:!0}))))}const ep=(0,l.Z)({root:{display:"flex",flexDirection:"column"}});function tp(s){var m,D;const n=ep(),{apiVersion:o,kind:u,metadata:g,spec:P,relations:L=[],status:G={}}=s.entity,q=groupBy$1(sortBy(L,ee=>ee.targetRef),"type");return React.createElement(React.Fragment,null,React.createElement(DialogContentText,{variant:"h2"},"Overview"),React.createElement("div",{className:n.root},React.createElement(ed,{title:"Identity"},React.createElement(List,{dense:!0},React.createElement(ListItem,null,React.createElement(rs,{primary:"apiVersion",secondary:o})),React.createElement(ListItem,null,React.createElement(rs,{primary:"kind",secondary:u})),(P==null?void 0:P.type)&&React.createElement(ListItem,null,React.createElement(rs,{primary:"spec.type",secondary:P.type})),g.uid&&React.createElement(ListItem,null,React.createElement(rs,{primary:"uid",secondary:g.uid})),g.etag&&React.createElement(ListItem,null,React.createElement(rs,{primary:"etag",secondary:g.etag})))),React.createElement(ed,{title:"Metadata"},!!Object.keys(g.annotations||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(qu,null,"Annotations",React.createElement(tu,{to:"https://backstage.io/docs/features/software-catalog/well-known-annotations"}))},Object.entries(g.annotations).map(ee=>React.createElement(Co,{key:ee[0],indent:!0,entry:ee}))),!!Object.keys(g.labels||{}).length&&React.createElement(List,{dense:!0,subheader:React.createElement(qu,null,"Labels")},Object.entries(g.labels).map(ee=>React.createElement(Co,{key:ee[0],indent:!0,entry:ee}))),!!((m=g.tags)!=null&&m.length)&&React.createElement(List,{dense:!0,subheader:React.createElement(qu,null,"Tags")},g.tags.map((ee,de)=>React.createElement(ListItem,{key:`${ee}-${de}`},React.createElement(ListItemIcon,null),React.createElement(rs,{primary:ee}))))),!!L.length&&React.createElement(ed,{title:"Relations",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-relations"},Object.entries(q).map(([ee,de],be)=>React.createElement("div",{key:be},React.createElement(List,{dense:!0,subheader:React.createElement(qu,null,ee)},de.map(ye=>React.createElement(ListItem,{key:ye.targetRef},React.createElement(ListItemIcon,null,React.createElement(qd,{entityRef:ye.targetRef})),React.createElement(rs,{primary:React.createElement($o,{entityRef:ye.targetRef})}))))))),!!((D=G.items)!=null&&D.length)&&React.createElement(ed,{title:"Status",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-statuses"},G.items.map((ee,de)=>React.createElement("div",{key:de},React.createElement(Typography,null,ee.level,": ",ee.type),React.createElement(Box,{ml:2},ee.message))))))}function rm(s){return React.createElement(React.Fragment,null,React.createElement(DialogContentText$1,{variant:"h2"},"Entity as YAML"),React.createElement(DialogContentText$1,null,"This is the raw entity data as received from the catalog, on YAML form."),React.createElement(DialogContentText$1,null,React.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},React.createElement(CodeSnippet,{text:YAML.stringify(nm(s.entity)),language:"yaml",showCopyCodeButton:!0}))))}const am=(0,l.Z)(s=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",backgroundColor:s.palette.background.paper},tabs:{borderRight:`1px solid ${s.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"}}));function ru(s){const{children:m,value:D,index:n,...o}=s,u=am();return React.createElement("div",{role:"tabpanel",hidden:D!==n,id:`vertical-tabpanel-${n}`,"aria-labelledby":`vertical-tab-${n}`,className:u.tabContents,...o},D===n&&React.createElement(Box,{pl:3,pr:3},m))}function au(s){return{id:`vertical-tab-${s}`,"aria-controls":`vertical-tabpanel-${s}`}}function lf(s){const m=am(),[D,n]=React.useState(0);return useEffect(()=>{n(0)},[s.open]),s.entity?React.createElement(Dialog,{fullWidth:!0,maxWidth:"xl",open:s.open,onClose:s.onClose,"aria-labelledby":"entity-inspector-dialog-title",PaperProps:{className:m.fullHeightDialog}},React.createElement(DialogTitle,{id:"entity-inspector-dialog-title"},"Entity Inspector"),React.createElement(DialogContent,{dividers:!0},React.createElement("div",{className:m.root},React.createElement(Tabs,{orientation:"vertical",variant:"scrollable",value:D,onChange:(o,u)=>n(u),"aria-label":"Inspector options",className:m.tabs},React.createElement(Tab,{label:"Overview",...au(0)}),React.createElement(Tab,{label:"Ancestry",...au(1)}),React.createElement(Tab,{label:"Colocated",...au(2)}),React.createElement(Tab,{label:"Raw JSON",...au(3)}),React.createElement(Tab,{label:"Raw YAML",...au(4)})),React.createElement(ru,{value:D,index:0},React.createElement(tp,{entity:s.entity})),React.createElement(ru,{value:D,index:1},React.createElement(Cd,{entity:s.entity})),React.createElement(ru,{value:D,index:2},React.createElement(qm,{entity:s.entity})),React.createElement(ru,{value:D,index:3},React.createElement(Ad,{entity:s.entity})),React.createElement(ru,{value:D,index:4},React.createElement(rm,{entity:s.entity})))),React.createElement(DialogActions,null,React.createElement(Button,{onClick:s.onClose,color:"primary"},"Close"))):null}function om(s){var m;const D=useApi(Ol),n=(m=s.metadata.annotations)==null?void 0:m[ANNOTATION_ORIGIN_LOCATION],o=s.metadata.uid,u=n==="bootstrap:bootstrap",g=useAsync(async()=>{const ye=D.getLocationByRef(n);let Fe;if(!n)Fe=Promise.resolve([]);else{const Ve=`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;Fe=D.getEntities({filter:{[Ve]:n},fields:["kind","metadata.uid","metadata.name","metadata.namespace"]}).then(We=>We.items)}return Promise.all([ye,Fe]).then(([Ve,We])=>({location:Ve,colocatedEntities:We}))},[D,s]),P=useCallback(async function(){const{location:Fe}=g.value;await D.removeLocationById(Fe.id)},[D,g]),L=useCallback(async function(){await D.removeEntityByUid(o)},[D,o]);if(u)return{type:"bootstrap",location:n,deleteEntity:L};const{loading:G,error:q,value:ee}=g;if(G)return{type:"loading"};if(q)return{type:"error",error:q};const{location:de,colocatedEntities:be}=ee;return de?{type:"unregister",location:n,colocatedEntities:be.map(getCompoundEntityRef),unregisterLocation:P,deleteEntity:L}:{type:"only-delete",deleteEntity:L}}const ou=(0,l.Z)({advancedButton:{fontSize:"0.7em"}}),su=({entity:s,onConfirm:m})=>{var D;const n=useApi(alertApiRef),o=useApi(configApiRef),u=ou(),g=om(s),[P,L]=useState(!1),[G,q]=useState(!1),ee=(D=o.getOptionalString("app.title"))!=null?D:"Backstage",de=useCallback(async function(){if("unregisterLocation"in g){q(!0);try{await g.unregisterLocation(),m()}catch(Fe){assertError(Fe),n.post({message:Fe.message})}finally{q(!1)}}},[n,m,g]),be=useCallback(async function(){if("deleteEntity"in g){q(!0);try{await g.deleteEntity(),m()}catch(Fe){assertError(Fe),n.post({message:Fe.message})}finally{q(!1)}}},[n,m,g]);return g.type==="loading"?React.createElement(Progress,null):g.type==="error"?React.createElement(ResponseErrorPanel,{error:g.error}):g.type==="bootstrap"?React.createElement(React.Fragment,null,React.createElement(Alert$1,{severity:"info"},'You cannot unregister this entity, since it originates from a protected Backstage configuration (location "',g.location,'"). If you believe this is in error, please contact the ',ee," ","integrator."),React.createElement(Box,{marginTop:2},!P&&React.createElement(Button,{variant:"text",size:"small",color:"primary",className:u.advancedButton,onClick:()=>L(!0)},"Advanced Options"),P&&React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:G,onClick:be},"Delete Entity")))):g.type==="only-delete"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:G,onClick:be},"Delete Entity")):g.type==="unregister"?React.createElement(React.Fragment,null,React.createElement(DialogContentText,null,"This action will unregister the following entities:"),React.createElement(DialogContentText,{component:"ul"},g.colocatedEntities.map(ye=>React.createElement("li",{key:`${ye.kind}:${ye.namespace}/${ye.name}`},React.createElement($o,{entityRef:ye})))),React.createElement(DialogContentText,null,"Located at the following location:"),React.createElement(DialogContentText,{component:"ul"},React.createElement("li",null,g.location)),React.createElement(DialogContentText,null,"To undo, just re-register the entity in ",ee,"."),React.createElement(Box,{marginTop:2},React.createElement(Button,{variant:"contained",color:"secondary",disabled:G,onClick:de},"Unregister Location"),!P&&React.createElement(Box,{component:"span",marginLeft:2},React.createElement(Button,{variant:"text",size:"small",color:"primary",className:u.advancedButton,onClick:()=>L(!0)},"Advanced Options"))),P&&React.createElement(React.Fragment,null,React.createElement(Box,{paddingTop:4,paddingBottom:4},React.createElement(Divider,null)),React.createElement(DialogContentText,null,"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),React.createElement(Button,{variant:"contained",color:"secondary",disabled:G,onClick:be},"Delete Entity"))):React.createElement(Alert$1,{severity:"error"},"Internal error: Unknown state")},Nf=s=>{const{open:m,onConfirm:D,onClose:n,entity:o}=s;return React.createElement(Dialog,{open:m,onClose:n},React.createElement(DialogTitle,{id:"responsive-dialog-title"},"Are you sure you want to unregister this entity?"),React.createElement(DialogContent,null,React.createElement(su,{entity:o,onConfirm:D})),React.createElement(DialogActions,null,React.createElement(Button,{onClick:n,color:"primary"},"Cancel")))},np=(0,l.Z)(s=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:s.spacing(1,0,1,0)},title:{margin:s.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:s.palette.text.primary},menuItem:{minHeight:s.spacing(6)},groupWrapper:{margin:s.spacing(1,1,2,1)}}),{name:"CatalogReactUserListPicker"});function rp(s){return[{name:"Personal",items:[{id:"owned",label:"Owned",icon:SettingsIcon},{id:"starred",label:"Starred",icon:Star}]},{name:s!=null?s:"Company",items:[{id:"all",label:"All"}]}]}const cf=s=>{var m;const{initialFilter:D,availableFilters:n}=s,o=np(),g=(m=useApi(configApiRef).getOptionalString("organization.name"))!=null?m:"Company",{filters:P,updateFilters:L,backendEntities:G,queryParameters:{kind:q,user:ee},loading:de}=Ll(),be=["starred","all"],ye=rp(g).map(Sn=>({...Sn,items:Sn.items.filter(({id:$n})=>["group","user"].some(En=>En===q)?be.includes($n):!n||n.includes($n))})).filter(({items:Sn})=>!!Sn.length),{isStarredEntity:Fe}=Dm(),{isOwnedEntity:Ve,loading:We}=Qd(),vt=de||We,Pt=useMemo(()=>new Td("owned",Ve,Fe),[Ve,Fe]),Nt=useMemo(()=>new Td("starred",Ve,Fe),[Ve,Fe]),Xt=useMemo(()=>[ee].flat()[0],[ee]),[Jt,ln]=useState(Xt!=null?Xt:D),an=useMemo(()=>G.filter(km(compact(Object.values({...P,user:void 0})))),[P,G]),vn=useMemo(()=>({all:an.length,starred:an.filter(Sn=>Nt.filterEntity(Sn)).length,owned:an.filter(Sn=>Pt.filterEntity(Sn)).length}),[an,Nt,Pt]);return useEffect(()=>{Xt&&ln(Xt)},[Xt]),useEffect(()=>{!vt&&!!Jt&&Jt!=="all"&&vn[Jt]===0&&ln("all")},[vt,vn,Jt,ln]),useEffect(()=>{L({user:Jt?new Td(Jt,Ve,Fe):void 0})},[Jt,Ve,Fe,L]),React.createElement(Card,{className:o.root},ye.map(Sn=>React.createElement(Fragment,{key:Sn.name},React.createElement(Typography,{variant:"subtitle2",className:o.title},Sn.name),React.createElement(Card,{className:o.groupWrapper},React.createElement(List,{disablePadding:!0,dense:!0,role:"menu"},Sn.items.map($n=>{var En,An;return React.createElement(MenuItem,{key:$n.id,button:!0,divider:!0,onClick:()=>ln($n.id),selected:$n.id===((En=P.user)==null?void 0:En.value),className:o.menuItem,disabled:vn[$n.id]===0,"data-testid":`user-picker-${$n.id}`,tabIndex:0},$n.icon&&React.createElement(ListItemIcon,{className:o.listIcon},React.createElement($n.icon,{fontSize:"small"})),React.createElement(ListItemText$1,null,React.createElement(Typography,{variant:"body1"},$n.label)),React.createElement(ListItemSecondaryAction,null,(An=vn[$n.id])!=null?An:"-"))}))))))},Lf=({children:s,value:m})=>{var D;const[n,o]=useState((D=m==null?void 0:m.filters)!=null?D:{}),u=useCallback(L=>{o(G=>{const q=typeof L=="function"?L(G):L;return{...G,...q}})},[]),g=useMemo(()=>({entities:[],backendEntities:[],queryParameters:{}}),[]),P=useMemo(()=>{var L,G,q,ee,de;return{entities:(L=m==null?void 0:m.entities)!=null?L:g.entities,backendEntities:(G=m==null?void 0:m.backendEntities)!=null?G:g.backendEntities,updateFilters:(q=m==null?void 0:m.updateFilters)!=null?q:u,filters:n,loading:(ee=m==null?void 0:m.loading)!=null?ee:!1,queryParameters:(de=m==null?void 0:m.queryParameters)!=null?de:g.queryParameters,error:m==null?void 0:m.error}},[m,g,n,u]);return React.createElement(Qu.Provider,{value:P},s)};var sm=a(43266),ap=a(7647),uf=a.n(ap),df=a(99688);const Dl=(0,e.T0)({id:"plugin.travisci.service"});class op{constructor(m){this.baseUrl="/travisci/api",this.discoveryApi=m.discoveryApi,this.identityApi=m.identityApi}async retry(m){const{token:D}=await this.identityApi.getCredentials();return fetch(`${await this.getApiUrl()}/build/${m}/restart`,{method:"post",headers:D?new Headers({"Travis-API-Version":"3",Authorization:`Bearer ${D}`}):void 0})}async getBuilds({limit:m=10,offset:D=0,repoSlug:n}){const{token:o}=await this.identityApi.getCredentials(),u=await fetch(`${await this.getApiUrl()}/repo/${encodeURIComponent(n)}/builds?offset=${D}&limit=${m}`,{headers:o?new Headers({"Travis-API-Version":"3",Authorization:`Bearer ${o}`}):void 0});if(!u.ok)throw new Error(`error while fetching travis builds: ${u.status}: ${u.statusText}`);return(await u.json()).builds}async getUser(){const{token:m}=await this.identityApi.getCredentials();return await(await fetch(`${await this.getApiUrl()}/user`,{headers:m?new Headers({"Travis-API-Version":"3",Authorization:`Bearer ${m}`}):void 0})).json()}async getBuild(m){const{token:D}=await this.identityApi.getCredentials();return(await fetch(`${await this.getApiUrl()}/build/${m}`,{headers:D?new Headers({"Travis-API-Version":"3",Authorization:`Bearer ${D}`}):void 0})).json()}async getApiUrl(){return await this.discoveryApi.getBaseUrl("proxy")+this.baseUrl}}const im=(0,e.NT)({id:"travisCI"}),nd=(0,e.rx)({id:"travisci",apis:[(0,e.ni)({api:Dl,deps:{discoveryApi:e.NW,identityApi:e.$4},factory:({discoveryApi:s,identityApi:m})=>new op({discoveryApi:s,identityApi:m})})],routes:{entityContent:im}}),lm=nd.provide((0,e.P4)({name:"EntityTravisCIContent",component:()=>Promise.resolve().then(function(){return yp}).then(s=>s.Router),mountPoint:im})),mf=nd.provide((0,e.CO)({name:"EntityTravisCIOverviewCard",component:{lazy:()=>Promise.resolve().then(function(){return Ep}).then(s=>s.LastBuildCard)}})),Id="travis-ci.com/repo-slug",cm=()=>{var s,m;const{entity:D}=$d(),n=(m=(s=D==null?void 0:D.metadata.annotations)==null?void 0:s[Id])!=null?m:"";if(!n)throw new Error("'travis-ci.com/repo-slug' annotation is missing");if(n.split("/").map(u=>u.trim()).length<2)throw new Error("'travis-ci.com/repo-slug' annotation is missing");return n},sp=s=>s?{retried:"Retried",canceled:"Canceled",infrastructure_fail:"Infra fail",timedout:"Timedout",not_run:"Not run",running:"Running",failed:"Failed",queued:"Queued",scheduled:"Scheduled",not_running:"Not running",no_tests:"No tests",fixed:"Fixed",success:"Success"}[s]||s:"",ip=(s,m,D,n)=>s.map(o=>({id:o.number,buildName:o.commit.message,onRestartClick:()=>typeof o.id!="undefined"&&m(o.id),source:{branchName:String(o.branch.name),commit:{hash:String(o.commit.sha),url:o.commit.compare_url}},finishedAt:o.finished_at,duration:o.duration,status:sp(o.state),buildUrl:`${n}${D}${o["@href"]}`}));function Od(){const s=cm(),m=(0,e.h_)(Dl),D=(0,e.h_)(e.VE),n=(0,e.h_)(e.Ds);let o;try{o=n.getString("travisci.baseUrl")}catch{o="https://travis-ci.com/"}const[u,g]=(0,t.useState)(0),[P,L]=(0,t.useState)(0),[G,q]=(0,t.useState)(5),ee=(0,t.useCallback)(async({limit:Ve,offset:We})=>{try{return await m.getBuilds({limit:Ve,offset:We,repoSlug:s})}catch(vt){return D.post(vt),Promise.reject(vt)}},[s,m,D]),de=async Ve=>{try{await m.retry(Ve)}catch(We){D.post(We)}};(0,t.useEffect)(()=>{ee({limit:1,offset:0}).then(Ve=>g(Ve==null?void 0:Ve[0].build_num))},[s,ee]);const{loading:be,value:ye,retry:Fe}=(0,U.Z)(()=>ee({offset:P*G,limit:G}).then(Ve=>ip(Ve!=null?Ve:[],de,s,o)),[P,G,ee]);return[{page:P,pageSize:G,loading:be,value:ye,projectName:s,total:u},{getBuilds:ee,setPage:L,setPageSize:q,restartBuild:de,retry:Fe}]}function lp(s){return t.createElement("svg",{viewBox:"0 0 50 50",width:"1em",height:"1em",...s},t.createElement("path",{d:"M24.406 2.031a14.69 14.69 0 00-1.5.094c-1.246.14-2.937.469-4.781 1.25-3.625 1.54-7.863 4.863-10.5 11.594-1.023.402-2.043.894-2.875 1.531-.117.094-.215.21-.281.344-.332.691-.395 1.449-.438 2.281-.043.832-.031 1.684.063 2.375.09.652.293 1.512.531 2.313.117.398.227.789.375 1.125.14.312.227.601.656.906L2.22 31.937l-.094.157a1 1 0 101.656 1.125s.88-1.032 2.281-2.438c.102.703.235 1.489.438 2.094.172.516.453 1.2.75 1.813.148.308.285.585.469.843.09.13.195.274.343.407.149.132.376.312.813.312.41 0 .816-.063 1.281-.125.016-.004.016.004.031 0 .11.398.133.59.407 1.281.21.532.488 1.098.812 1.657-.75-.032-1.344-.063-1.344-.063a.999.999 0 00-.874 1.594c1.402 1.863 2.898 3.187 4.25 4.062C14.788 45.531 15.96 46 17 46c.266 0 .54-.031.813-.063C17.98 46.04 21.238 48 25 48c4.879 0 8.453-3.094 8.938-3.531.972-.207 1.91-.469 2.562-.719.762-.293 1.344-.836 1.938-1.469a20.775 20.775 0 001.687-2.062c1.008-1.407 1.75-2.719 1.75-2.719a1.004 1.004 0 00-.066-1.09.998.998 0 00-1.028-.379l.25-.812L42.938 35a1 1 0 00.78-.594s.579-1.222.813-2.25c.121-.523.227-1.32.313-2.093.086-.774.156-1.34.156-1.75 0-.59-.262-.77-.406-.907-.145-.136-.293-.218-.438-.312a8.563 8.563 0 00-.75-.407c.278-.082.563-.16.813-.25a3.61 3.61 0 00.812-.375c.016-.011.016-.019.032-.03.406-.274.527-.552.687-.845a7.93 7.93 0 00.469-1c.281-.734.504-1.55.625-2.218.16-.895.195-1.88.125-2.782-.07-.902-.184-1.66-.5-2.312a1.001 1.001 0 00-.313-.375c-.922-.707-2.066-1.223-3.187-1.625-2.332-6.398-6.676-9.691-10.5-11.281-1.961-.817-3.805-1.188-5.157-1.375a18.19 18.19 0 00-1.625-.156c-.406-.02-.726-.032-.687-.032.11 0-.047.004-.156 0-.11-.004-.25 0-.438 0zm.032 2c.156 0 .253-.004.343 0 .09.004.074 0 .219 0 .11 0 .242.016.594.032.351.015.86.039 1.468.125 1.22.167 2.864.515 4.625 1.25 3.153 1.308 6.637 3.808 8.844 8.718-1.043-.273-1.875-.469-1.875-.469a.972.972 0 00-.281-.03 1.002 1.002 0 00-1.031.968c-.016.55.418 1.016.968 1.031 0 0 1.137.203 2.563.625.223.067.457.14.688.219.011.004.019.027.03.031.02.012.044.024.063.032.188.148.418.226.657.218.898.352 1.769.774 2.406 1.219.082.262.199.707.25 1.344.058.758.023 1.636-.094 2.281-.086.484-.297 1.223-.531 1.844a6.977 6.977 0 01-.344.781.982.982 0 01-.125.188c-.043.019-.145.054-.344.125-.144.05-.328.105-.5.156l.438-1.657a1 1 0 00-.719-1.218S35.937 20 25 20c-1.727 0-3.29.07-4.781.156h-.032a1.069 1.069 0 00-.25-.031c-.042.008-.085.02-.125.031h-.062c-.16-.015-.32.004-.469.063-6.695.468-10.586 1.562-10.906 1.656-.008.004-.09 0-.094 0-.097.027-.195.07-.281.125a.466.466 0 00-.063.031v.032a.466.466 0 00-.062.03l-.031.032a.466.466 0 00-.063.031v.032a.466.466 0 00-.062.03v.032a.472.472 0 00-.063.063.466.466 0 00-.031.062c-.023.04-.043.082-.063.125l-.812 1.406a6.774 6.774 0 01-.219-.656 15.21 15.21 0 01-.437-2.031 11.943 11.943 0 01-.063-2c.032-.606.121-1.059.188-1.282.98-.675 2.492-1.308 3.843-1.718 1.442-.438 2.594-.657 2.594-.657a.996.996 0 00.742-1.109.995.995 0 00-1.023-.86.88.88 0 00-.094.032s-.945.18-2.125.5c2.434-5.188 5.824-7.664 8.75-8.906a15.176 15.176 0 014.219-1.094c.547-.063 1-.09 1.313-.094zM21 8v3h2v-1h1v6h-1v2h4v-2h-1v-6h1v1h2V8zm1.75 14.063c-.918.41-1.77.82-2.406 1.156l.187-1.063c.711-.039 1.45-.074 2.219-.093zm7.344.093c1.133.059 2.191.133 3.156.219-.973.363-2.012.684-2.969.906-.558.13-.535.102-1 .188.172-.25.348-.5.5-.75.117-.196.219-.371.313-.563zm-11.688.407L18 24.813c-.082.39.074.792.398 1.027.329.23.762.242 1.102.035 0 0 4.035-2.227 7.875-3.219-.035.051-.059.106-.094.157-.562.773-1.093 1.437-1.093 1.437a1.01 1.01 0 00-.106 1.105c.191.356.578.56.98.52 0 0 1.63-.184 3.657-.656 2.008-.469 4.43-1.2 6.187-2.438 2.305.332 3.782.672 4.344.813l-.563 2.125a.979.979 0 00-.124.562l-1.188 4.469-2.656 2.188-7-.876-1.782-4.437A.998.998 0 0027 27h-4a.998.998 0 00-.938.625l-1.812 4.531-6.125 1.344-2.938-1.531-.874-4.938c2.378-1.824 5.18-3.558 8.093-4.468zM12.72 23c-1.946 1.145-3.707 2.473-5.219 3.75-.047.04-.047.023-.094.063l1.75-3.063c.395-.113 1.473-.387 3.563-.75zm19.437 3.625c-.945.031-1.55 1.266-1.5 2.75.051 1.48.836 1.473 1.782 1.438 1.269-.024 1.957-.434 2.593-.125-.008-.036-.183-.637-1.062-.532.101-.222.125-.496.093-.906-.117-1.48-.96-2.656-1.906-2.625zm-13.781.344c-.945.008-1.84 1.234-1.781 2.718.015.387.066.676.156.875-.824.208-1.05.72-1.063.75.52-.28 1.114-.253 2.032-.25.097.004.176.004.281 0 .09 0 .184.004.281 0 .946-.007 1.735.079 1.719-1.406-.016-1.484-.68-2.695-1.625-2.687zm13.688.593a.482.482 0 01.5.47c.003.265-.235.491-.5.5-.266.003-.465-.235-.47-.5-.007-.266.204-.466.47-.47zm-13.532.344c.266-.008.461.2.469.469a.487.487 0 01-.469.5c-.27.008-.46-.203-.468-.469a.484.484 0 01.468-.5zm23.563.344c.12.055.125.063.25.125.238.117.457.242.625.344-.02.261-.063.578-.125 1.125-.086.742-.184 1.586-.25 1.875-.098.43-.332.941-.5 1.343l-1.969.25c-.39.043-.723.313-.844.688l-.812 2.656c-.301.078-.617.16-.875.219-.399.09-.797.156-.719.156-.617 0-3.258-.027-3.625-.031-.156-.074-.828-.367-1.688-.781-.476-.23-.949-.492-1.343-.688-.395-.195-.762-.383-.75-.375a.992.992 0 00-.594-.156c-.066.004-.125.023-.188.031a.997.997 0 00-.261-.957.997.997 0 00-.957-.261 1 1 0 00-.75.687s-.102.387-.407.781c-.304.395-.68.719-1.312.719-1.332 0-1.75-1.313-1.75-1.313a1 1 0 10-1.938.438.994.994 0 00-.75.25l-2.75 2.531c-.097.04-.746.328-1.656.625-.797.262-1.718.489-2.281.563-.547-.594-1.059-1.555-1.406-2.438-.406-1.031-.594-1.875-.594-1.875a.967.967 0 00-.094-.25l1.75.907a1 1 0 00.688.093l7-1.562a.998.998 0 00.718-.594L23.688 29h2.625l1.75 4.375a1 1 0 00.813.625l8 1c.27.031.54-.047.75-.219l3.25-2.687c.168-.137.29-.32.344-.532zm-33.563.219l.813 4.343a.993.993 0 00.5.688l.875.5s-.399.063-.844.125c-.262.035-.387.04-.594.063-.066-.114-.168-.204-.25-.376-.242-.5-.484-1.14-.625-1.562-.101-.305-.246-1.16-.344-1.844-.097-.683-.156-1.25-.156-1.25v-.093c.219-.196.395-.395.625-.594zm20.282 8.593c.16.083.273.168.5.282.41.203.925.422 1.406.656.96.465 1.843.906 1.843.906A.991.991 0 0033 39s3.176.031 3.875.031c.418 0 .715-.086 1.156-.187.211-.047.457-.13.688-.188-.133.196-.102.2-.25.407-.469.656-.969 1.316-1.469 1.843-.5.528-1.008.887-1.219.969C34.773 42.262 30.605 43 30 43c-.176 0-1.566-.266-1.656-.313-.664-.363-2.719-1.937-2.719-1.937a1.002 1.002 0 00-1.219-.031s-.695.52-1.5 1.062c-.804.543-1.851 1.153-1.937 1.188C19.98 43.359 18.03 44 17 44c-.332 0-1.332-.262-2.469-1-.695-.45-1.469-1.113-2.25-1.906.426.015.653.027.969.031a.986.986 0 00.5 0c.98-.043 2.059-.367 3.031-.688 1.043-.34 1.875-.687 1.875-.687.114-.043.219-.105.313-.188l2.5-2.312c.258.09.37.145.843.281.668.196 1.45.375 2.22.438.152.02.3.031.468.031.172 0 .344-.008.5-.031.043-.004.086-.028.125-.032.02-.003.043.004.063 0 .66-.09 1.253-.28 1.78-.468.618-.219 1.067-.356 1.345-.407zM25 42.75c.523.414 1.477 1.195 2.375 1.688.68.37 1.387.519 1.969.562-1.239.555-2.739 1-4.344 1-1.492 0-2.977-.41-4.125-.844.316-.113.605-.218.844-.312.707-.278 1.484-.848 2.312-1.407.516-.347.684-.488.969-.687z"}))}const cp=t.memo(lp),um=(s="")=>{switch(s.toLowerCase()){case"queued":case"created":return t.createElement(ju,null);case"started":return t.createElement(_u,null);case"failed":return t.createElement(ul,null);case"passed":return t.createElement(cl,null);case"canceled":default:return t.createElement(_c,null)}},up=[{title:"ID",field:"id",type:"numeric",width:"80px"},{title:"Build",field:"buildName",highlight:!0,render:s=>t.createElement(h.Z,{href:s.buildUrl,target:"_blank",rel:"noopener noreferrer"},s.buildName),sorting:!1},{title:"Source",render:s=>{var m,D;return t.createElement(t.Fragment,null,t.createElement("p",null,(m=s.source)==null?void 0:m.branchName),t.createElement("p",null,(D=s.source)==null?void 0:D.commit.hash))},sorting:!1},{title:"Status",render:s=>t.createElement(w.Z,{display:"flex",alignItems:"center"},um(s.status),t.createElement(w.Z,{mr:1}),t.createElement(i.Z,{variant:"button"},s.status)),width:"150px",sorting:!1},{title:"Date",render:s=>t.createElement(t.Fragment,null,t.createElement("p",null,s.finishedAt?`${uf()(new Date,new Date(s.finishedAt))} ago`:"In progress"),t.createElement("p",null,s.duration," sec")),width:"150px",sorting:!1},{title:"Actions",render:s=>t.createElement(E.Z,{onClick:s.onRestartClick},t.createElement(sm.Z,null)),width:"100px",sorting:!1}],dp=({projectName:s,loading:m,pageSize:D,page:n,retry:o,builds:u,onChangePage:g,onChangePageSize:P,total:L})=>t.createElement(t.Fragment,null,t.createElement(Cn,{isLoading:m,options:{paging:!0,pageSize:D},totalCount:L,page:n,actions:[{icon:()=>t.createElement(sm.Z,null),tooltip:"Refresh Data",isFreeAction:!0,onClick:o}],data:u,onPageChange:g,onRowsPerPageChange:P,title:t.createElement(w.Z,{display:"flex",alignItems:"center"},t.createElement(cp,null),t.createElement(w.Z,{mr:1}),t.createElement(i.Z,{variant:"h6"},s)),columns:up})),mp=({onRestart:s})=>{const[{total:m,loading:D,value:n,projectName:o,page:u,pageSize:g},{setPage:P,retry:L,setPageSize:G}]=Od(),q=(0,t.useMemo)(()=>n?n.map(ee=>({...ee,onRestartClick:()=>{ee.onRestartClick(),s()}})):[],[n,s]);return t.createElement(dp,{total:m,loading:D,retry:L,builds:q,projectName:o,page:u,onChangePage:P,pageSize:g,onChangePageSize:G})},pp=()=>{const[s,m]=(0,t.useState)(!1),D=(0,t.useCallback)(()=>{m(!0)},[m]);return t.createElement(t.Fragment,null,t.createElement(c.Z,{autoHideDuration:1e3,open:s,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:()=>m(!1)},t.createElement(df.Z,{severity:"success"},"Build Restarted.")),t.createElement(ho,{title:"All builds"},t.createElement(ui,null,"This plugin allows you to view and interact with your builds within the Travis CI environment.")),t.createElement(mp,{onRestart:D}))},fp=t.createContext([]),hp=`${Dl.id}.settings`,dm=({entity:s,children:m})=>{const[D,n]=(0,B.Z)(hp,{entity:s});if(D===void 0)throw new Error("Firebase functions plugin settings is undefined");return(0,t.useEffect)(()=>{D.entity!==s&&n({entity:s})},[s]),t.createElement(fp.Provider,{value:[D,n]},t.createElement(t.Fragment,null,m))},gp=({entity:s})=>t.createElement(dm,{entity:s},t.createElement(pp,null)),rd=s=>{var m;return Boolean((m=s==null?void 0:s.metadata.annotations)==null?void 0:m[Id])};var yp=Object.freeze({__proto__:null,isTravisciAvailable:rd,Router:()=>{const{entity:s}=$d();return rd(s)?t.createElement(T.Z5,null,t.createElement(T.AW,{path:"/",element:t.createElement(gp,{entity:s})})):t.createElement(gc,{annotation:Id})}});const vp=(0,l.Z)({buildName:{display:"inline-block",maxWidth:"190px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),mm=()=>{const s=vp(),[{value:m,loading:D}]=Od();return D||!m?t.createElement(A.Z,null):t.createElement(S.Z,{component:F.Z},t.createElement(Cn,{title:"Recent Travis-CI Builds",subtitle:"All Branches",isLoading:D,options:{search:!1,paging:!1},columns:[{title:"Build name",field:"buildName",render:n=>t.createElement(h.Z,{href:n.buildUrl,target:"_blank",className:s.buildName},n.buildName)},{title:"Status",field:"status",render:n=>t.createElement(i.Z,{variant:"button"},um(n.status),n.status)},{title:"Branch",field:"source.branchName"}],data:m}))};var Ep=Object.freeze({__proto__:null,LastBuildCard:mm});const bp=({entity:s})=>React__default.createElement(dm,{entity:s},React__default.createElement(mm,null))},67507:function(Se,r,a){a.d(r,{$4:function(){return et},CO:function(){return _t},Ds:function(){return H},I_:function(){return E},NT:function(){return gt},NW:function(){return te},P4:function(){return zt},R5:function(){return d},T0:function(){return S},VE:function(){return oe},h_:function(){return c},ni:function(){return F},qD:function(){return j},rx:function(){return wn},tg:function(){return Mt},vJ:function(){return bn},z$:function(){return he}});var e=a(76241),t=a(2784),T=a(10289);const h=(0,e.CT)("analytics-context"),w=()=>{const pe=(0,t.useContext)(h);if(pe===void 0)return{routeRef:"unknown",pluginId:"root",extension:"App"};const ue=pe.atVersion(1);if(ue===void 0)throw new Error("No context found for version 1.");return ue},i=pe=>{const{attributes:ue,children:Ce}=pe,Ke={...w(),...ue},wt=(0,e.EI)({1:Ke});return t.createElement(h.Provider,{value:wt},Ce)};function E(){const pe=(0,e.Vt)("api-context");if(!pe)throw new Error("API context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("ApiContext v1 not available");return ue}function c(pe){const Ce=E().get(pe);if(!Ce)throw new Error(`No implementation available for ${pe}`);return Ce}function l(pe){return function(Ce){const Be=wt=>{const Ht=E(),ot={};for(const Rt in pe)if(pe.hasOwnProperty(Rt)){const Dt=pe[Rt],tn=Ht.get(Dt);if(!tn)throw new Error(`No implementation available for ${Dt}`);ot[Rt]=tn}return React.createElement(Ce,{...wt,...ot})},Ke=Ce.displayName||Ce.name||"Component";return Be.displayName=`withApis(${Ke})`,Be}}class A{constructor(ue){if(this.config=ue,!ue.id.split(".").flatMap(Be=>Be.split("-")).every(Be=>Be.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${ue.id}'`)}get id(){return this.config.id}get T(){throw new Error(`tried to read ApiRef.T of ${this}`)}toString(){return`apiRef{${this.config.id}}`}}function S(pe){return new A(pe)}function F(pe,ue){return"id"in pe?{api:pe,deps:{},factory:()=>ue}:pe}var U=(pe=>(pe.SignedIn="SignedIn",pe.SignedOut="SignedOut",pe))(U||{});const B=S({id:"core.auth.google"}),V=S({id:"core.auth.github"}),f=S({id:"core.auth.okta"}),p=S({id:"core.auth.gitlab"}),I=S({id:"core.auth.microsoft"}),y=S({id:"core.auth.onelogin"}),C=S({id:"core.auth.bitbucket"}),N=S({id:"core.auth.atlassian"}),R=S({id:"core.alert"}),b=S({id:"core.analytics"}),x=S({id:"core.apptheme"}),H=S({id:"core.config"}),te=S({id:"core.discovery"}),oe=S({id:"core.error"});var ce=(pe=>(pe[pe.None=0]="None",pe[pe.Active=1]="Active",pe))(ce||{});const He=S({id:"core.featureflags"}),De=S({id:"core.fetch"}),et=S({id:"core.identity"}),lt=S({id:"core.oauthrequest"}),Et=S({id:"core.storage"});class Lt{constructor(ue,Ce={routeRef:"unknown",pluginId:"root",extension:"App"}){this.analyticsApi=ue,this.context=Ce}setContext(ue){this.context=ue}captureEvent(ue,Ce,{value:Be,attributes:Ke}={}){try{this.analyticsApi.captureEvent({action:ue,subject:Ce,value:Be,attributes:Ke,context:this.context})}catch(wt){console.warn("Error during analytics event capture. %o",wt)}}}function dt(){try{return c(b)}catch{return{captureEvent:()=>{}}}}function he(){const pe=(0,t.useRef)(null),ue=w(),Ce=dt();function Be(){return pe.current===null&&(pe.current=new Lt(Ce)),pe.current}const Ke=Be();return Ke.setContext(ue),Ke}const j=()=>{const pe=(0,e.Vt)("app-context");if(!pe)throw new Error("App context is not available");const ue=pe.atVersion(1);if(!ue)throw new Error("AppContext v1 not available");return ue},re=(0,e.uW)("component-data-store",()=>new WeakMap),W="__backstage_data";function d(pe,ue,Ce){var Be;const Ke=pe;let wt=(Be=Ke[W])!=null?Be:re.get(pe);if(wt||(wt={map:new Map},Object.defineProperty(Ke,W,{enumerable:!1,configurable:!0,writable:!1,value:wt}),re.set(pe,wt)),wt.map.has(ue)){const Ht=pe.displayName||pe.name;throw new Error(`Attempted to attach duplicate data "${ue}" to component "${Ht}"`)}wt.map.set(ue,Ce)}function k(pe,ue){var Ce;if(!pe)return;const Be=pe.type;if(!Be)return;const Ke=(Ce=Be[W])!=null?Ce:re.get(Be);if(!!Ke)return Ke.map.get(ue)}const J=(0,e.uW)("route-ref-type",()=>Symbol("route-ref-type"));var Le;class Me{constructor(ue,Ce){this.id=ue,this.params=Ce,this[Le]="absolute"}get title(){return this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}Le=J;function gt(pe){var ue;return new Me(pe.id,(ue=pe.params)!=null?ue:[])}var nt;const M=/^\w+$/;class Z{constructor(ue,Ce,Be,Ke){this.id=ue,this.path=Ce,this.parent=Be,this.params=Ke,this[nt]="sub"}toString(){return`routeRef{type=sub,id=${this.id}}`}}nt=J;function ie(pe){const{id:ue,path:Ce,parent:Be}=pe,Ke=Ce.split("/").filter(ot=>ot.startsWith(":")).map(ot=>ot.substring(1)),wt=[...Be.params,...Ke];if(Be.params.some(ot=>Ke.includes(ot)))throw new Error("SubRouteRef may not have params that overlap with its parent");if(!Ce.startsWith("/"))throw new Error(`SubRouteRef path must start with '/', got '${Ce}'`);if(Ce.endsWith("/"))throw new Error(`SubRouteRef path must not end with '/', got '${Ce}'`);for(const ot of Ke)if(!M.test(ot))throw new Error(`SubRouteRef path has invalid param, got '${ot}'`);return new Z(ue,Ce,Be,wt)}var we;class je{constructor(ue,Ce,Be){this.id=ue,this.params=Ce,this.optional=Be,this[we]="external"}toString(){return`routeRef{type=external,id=${this.id}}`}}we=J;function Xe(pe){var ue;return new je(pe.id,(ue=pe.params)!=null?ue:[],Boolean(pe.optional))}function Mt(pe){const ue=(0,T.TH)(),Ce=(0,e.Vt)("routing-context");if(!Ce)throw new Error("Routing context is not available");const Be=Ce.atVersion(1),Ke=(0,t.useMemo)(()=>Be&&Be.resolve(pe,ue),[Be,pe,ue]);if(!Ce)throw new Error("useRouteRef used outside of routing context");if(!Be)throw new Error("RoutingContext v1 not available");const wt="optional"in pe&&pe.optional;if(!Ke&&!wt)throw new Error(`No path for ${pe}`);return Ke}function Ut(pe){return useParams()}class Gt extends t.Component{constructor(){super(...arguments),this.state={error:void 0},this.handleErrorReset=()=>{this.setState({error:void 0})}}static getDerivedStateFromError(ue){return{error:ue}}render(){const{error:ue}=this.state,{app:Ce,plugin:Be}=this.props,{ErrorBoundaryFallback:Ke}=Ce.getComponents();return ue?t.createElement(Ke,{error:ue,resetError:this.handleErrorReset,plugin:Be}):this.props.children}}function zt(pe){const{component:ue,mountPoint:Ce,name:Be}=pe;return on({component:{lazy:()=>ue().then(Ke=>{const wt=ot=>{try{Mt(Ce)}catch(Rt){if(typeof Rt=="object"&&Rt!==null){const{message:Dt}=Rt;if(typeof Dt=="string"&&Dt.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${Ce} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`)}throw Rt}return t.createElement(Ke,{...ot})},Ht=Be||Ke.displayName||Ke.name||"LazyComponent";return wt.displayName=`RoutableExtension(${Ht})`,wt},Ke=>Ht=>{const ot=j(),{BootErrorPage:Rt}=ot.getComponents();return t.createElement(Rt,{step:"load-chunk",error:Ke})})},data:{"core.mountPoint":Ce},name:Be})}function _t(pe){const{component:ue,name:Ce}=pe;return on({component:ue,name:Ce})}function on(pe){const{data:ue={},name:Ce}=pe;Ce||console.warn("Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.");let Be;if("lazy"in pe.component){const wt=pe.component.lazy;Be=(0,t.lazy)(()=>wt().then(Ht=>({default:Ht})))}else Be=pe.component.sync;const Ke=Ce||Be.displayName||Be.name||"Component";return{expose(wt){const Ht=ot=>{const Rt=j(),{Progress:Dt}=Rt.getComponents(),tn=ue==null?void 0:ue["core.mountPoint"];return t.createElement(t.Suspense,{fallback:t.createElement(Dt,null)},t.createElement(Gt,{app:Rt,plugin:wt},t.createElement(i,{attributes:{pluginId:wt.getId(),...Ce&&{extension:Ce},...tn&&{routeRef:tn.id}}},t.createElement(Be,{...ot}))))};d(Ht,"core.plugin",wt);for(const[ot,Rt]of Object.entries(ue))d(Ht,ot,Rt);return Ht.displayName=`Extension(${Ke})`,Ht}}}function It(pe,ue,Ce,Be){return t.Children.toArray(pe).flatMap(Ke=>{if(!(0,t.isValidElement)(Ke))return[];if(Ke.type===t.Fragment)return It(Ke.props.children,ue,Ce,Be);if(k(Ke,"core.featureFlagged")){const wt=Ke.props;return("with"in wt?ue.isActive(wt.with):!ue.isActive(wt.without))?It(Ke.props.children,ue,Ce,Be):[]}if(Ce===void 0||Ce(Ke))return[Ke];if(Be)throw new Error(Be);return It(Ke.props.children,ue,Ce,Be)})}class dn{constructor(ue,Ce){this.node=ue,this.featureFlagsApi=Ce}selectByComponentData(ue){const Ce=It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0,ue.withStrictError);return new dn(Ce,this.featureFlagsApi)}findComponentData(ue){return It(this.node,this.featureFlagsApi,Be=>k(Be,ue.key)!==void 0).map(Be=>k(Be,ue.key)).filter(Be=>Be!==void 0)}getElements(){return It(this.node,this.featureFlagsApi)}}function bn(pe,ue,Ce=[]){const Be=c(He),Ke=new dn(pe,Be);return(0,t.useMemo)(()=>ue(Ke),[pe,...Ce])}class pn{constructor(ue){this.config=ue}getId(){return this.config.id}getApis(){var ue;return(ue=this.config.apis)!=null?ue:[]}getFeatureFlags(){var ue,Ce;return(Ce=(ue=this.config.featureFlags)==null?void 0:ue.slice())!=null?Ce:[]}get routes(){var ue;return(ue=this.config.routes)!=null?ue:{}}get externalRoutes(){var ue;return(ue=this.config.externalRoutes)!=null?ue:{}}provide(ue){return ue.expose(this)}toString(){return`plugin{${this.config.id}}`}}function wn(pe){return new pn(pe)}},67644:function(Se,r,a){a.d(r,{t:function(){return t}});var e=a(2784);function t(){var T=(0,e.useRef)(!1),h=(0,e.useCallback)(function(){return T.current},[]);return(0,e.useEffect)(function(){return T.current=!0,function(){T.current=!1}},[]),h}},9695:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const e=a(49019),t=a(44792),T=a(22226),h=a(53051),w=["/properties"],i="http://json-schema.org/draft-07/schema";class E extends e.default{_addVocabularies(){super._addVocabularies(),t.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(T.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(h,w):h;this.addMetaSchema(S,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}Se.exports=r=E,Object.defineProperty(r,"__esModule",{value:!0}),r.default=E;var c=a(4125);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=a(66684);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}})},19902:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class a{}r._CodeOrName=a,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class e extends a{constructor(p){if(super(),!r.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=e;class t extends a{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((I,y)=>`${I}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((I,y)=>(y instanceof e&&(I[y.str]=(I[y.str]||0)+1),I),{})}}r._Code=t,r.nil=new t("");function T(f,...p){const I=[f[0]];let y=0;for(;y<p.length;)i(I,p[y]),I.push(f[++y]);return new t(I)}r._=T;const h=new t("+");function w(f,...p){const I=[F(f[0])];let y=0;for(;y<p.length;)I.push(h),i(I,p[y]),I.push(h,F(f[++y]));return E(I),new t(I)}r.str=w;function i(f,p){p instanceof t?f.push(...p._items):p instanceof e?f.push(p):f.push(A(p))}r.addCodeArg=i;function E(f){let p=1;for(;p<f.length-1;){if(f[p]===h){const I=c(f[p-1],f[p+1]);if(I!==void 0){f.splice(p-1,3,I);continue}f[p++]="+"}p++}}function c(f,p){if(p==='""')return f;if(f==='""')return p;if(typeof f=="string")return p instanceof e||f[f.length-1]!=='"'?void 0:typeof p!="string"?`${f.slice(0,-1)}${p}"`:p[0]==='"'?f.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(f instanceof e))return`"${f}${p.slice(1)}`}function l(f,p){return p.emptyStr()?f:f.emptyStr()?p:w`${f}${p}`}r.strConcat=l;function A(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:F(Array.isArray(f)?f.join(","):f)}function S(f){return new t(F(f))}r.stringify=S;function F(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.safeStringify=F;function U(f){return typeof f=="string"&&r.IDENTIFIER.test(f)?new t(`.${f}`):T`[${f}]`}r.getProperty=U;function B(f){if(typeof f=="string"&&r.IDENTIFIER.test(f))return new t(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}r.getEsmExportName=B;function V(f){return new t(f.toString())}r.regexpCode=V},66684:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const e=a(19902),t=a(33310);var T=a(19902);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return T._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return T.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return T.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return T.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return T.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return T.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return T.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return T.Name}});var h=a(33310);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return h.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return h.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return h.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return h.varKinds}}),r.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class w{optimizeNodes(){return this}optimizeNames(d,k){return this}}class i extends w{constructor(d,k,J){super(),this.varKind=d,this.name=k,this.rhs=J}render({es5:d,_n:k}){const J=d?t.varKinds.var:this.varKind,Le=this.rhs===void 0?"":` = ${this.rhs}`;return`${J} ${this.name}${Le};`+k}optimizeNames(d,k){if(!!d[this.name.str])return this.rhs&&(this.rhs=De(this.rhs,d,k)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class E extends w{constructor(d,k,J){super(),this.lhs=d,this.rhs=k,this.sideEffects=J}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,k){if(!(this.lhs instanceof e.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=De(this.rhs,d,k),this}get names(){const d=this.lhs instanceof e.Name?{}:{...this.lhs.names};return He(d,this.rhs)}}class c extends E{constructor(d,k,J,Le){super(d,J,Le),this.op=k}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class A extends w{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class S extends w{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class F extends w{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,k){return this.code=De(this.code,d,k),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class U extends w{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((k,J)=>k+J.render(d),"")}optimizeNodes(){const{nodes:d}=this;let k=d.length;for(;k--;){const J=d[k].optimizeNodes();Array.isArray(J)?d.splice(k,1,...J):J?d[k]=J:d.splice(k,1)}return d.length>0?this:void 0}optimizeNames(d,k){const{nodes:J}=this;let Le=J.length;for(;Le--;){const Me=J[Le];Me.optimizeNames(d,k)||(et(d,Me.names),J.splice(Le,1))}return J.length>0?this:void 0}get names(){return this.nodes.reduce((d,k)=>ce(d,k.names),{})}}class B extends U{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class V extends U{}class f extends B{}f.kind="else";class p extends B{constructor(d,k){super(k),this.condition=d}render(d){let k=`if(${this.condition})`+super.render(d);return this.else&&(k+="else "+this.else.render(d)),k}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let k=this.else;if(k){const J=k.optimizeNodes();k=this.else=Array.isArray(J)?new f(J):J}if(k)return d===!1?k instanceof p?k:k.nodes:this.nodes.length?this:new p(lt(d),k instanceof p?[k]:k.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,k){var J;if(this.else=(J=this.else)===null||J===void 0?void 0:J.optimizeNames(d,k),!!(super.optimizeNames(d,k)||this.else))return this.condition=De(this.condition,d,k),this}get names(){const d=super.names;return He(d,this.condition),this.else&&ce(d,this.else.names),d}}p.kind="if";class I extends B{}I.kind="for";class y extends I{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iteration=De(this.iteration,d,k),this}get names(){return ce(super.names,this.iteration.names)}}class C extends I{constructor(d,k,J,Le){super(),this.varKind=d,this.name=k,this.from=J,this.to=Le}render(d){const k=d.es5?t.varKinds.var:this.varKind,{name:J,from:Le,to:Me}=this;return`for(${k} ${J}=${Le}; ${J}<${Me}; ${J}++)`+super.render(d)}get names(){const d=He(super.names,this.from);return He(d,this.to)}}class N extends I{constructor(d,k,J,Le){super(),this.loop=d,this.varKind=k,this.name=J,this.iterable=Le}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,k){if(!!super.optimizeNames(d,k))return this.iterable=De(this.iterable,d,k),this}get names(){return ce(super.names,this.iterable.names)}}class R extends B{constructor(d,k,J){super(),this.name=d,this.args=k,this.async=J}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}R.kind="func";class b extends U{render(d){return"return "+super.render(d)}}b.kind="return";class x extends B{render(d){let k="try"+super.render(d);return this.catch&&(k+=this.catch.render(d)),this.finally&&(k+=this.finally.render(d)),k}optimizeNodes(){var d,k;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(d,k){var J,Le;return super.optimizeNames(d,k),(J=this.catch)===null||J===void 0||J.optimizeNames(d,k),(Le=this.finally)===null||Le===void 0||Le.optimizeNames(d,k),this}get names(){const d=super.names;return this.catch&&ce(d,this.catch.names),this.finally&&ce(d,this.finally.names),d}}class H extends B{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}H.kind="catch";class te extends B{render(d){return"finally"+super.render(d)}}te.kind="finally";class oe{constructor(d,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=d,this._scope=new t.Scope({parent:d}),this._nodes=[new V]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,k){const J=this._extScope.value(d,k);return(this._values[J.prefix]||(this._values[J.prefix]=new Set)).add(J),J}getScopeValue(d,k){return this._extScope.getValue(d,k)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,k,J,Le){const Me=this._scope.toName(k);return J!==void 0&&Le&&(this._constants[Me.str]=J),this._leafNode(new i(d,Me,J)),Me}const(d,k,J){return this._def(t.varKinds.const,d,k,J)}let(d,k,J){return this._def(t.varKinds.let,d,k,J)}var(d,k,J){return this._def(t.varKinds.var,d,k,J)}assign(d,k,J){return this._leafNode(new E(d,k,J))}add(d,k){return this._leafNode(new c(d,r.operators.ADD,k))}code(d){return typeof d=="function"?d():d!==e.nil&&this._leafNode(new F(d)),this}object(...d){const k=["{"];for(const[J,Le]of d)k.length>1&&k.push(","),k.push(J),(J!==Le||this.opts.es5)&&(k.push(":"),(0,e.addCodeArg)(k,Le));return k.push("}"),new e._Code(k)}if(d,k,J){if(this._blockNode(new p(d)),k&&J)this.code(k).else().code(J).endIf();else if(k)this.code(k).endIf();else if(J)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new p(d))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(p,f)}_for(d,k){return this._blockNode(d),k&&this.code(k).endFor(),this}for(d,k){return this._for(new y(d),k)}forRange(d,k,J,Le,Me=this.opts.es5?t.varKinds.var:t.varKinds.let){const gt=this._scope.toName(d);return this._for(new C(Me,gt,k,J),()=>Le(gt))}forOf(d,k,J,Le=t.varKinds.const){const Me=this._scope.toName(d);if(this.opts.es5){const gt=k instanceof e.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,e._)`${gt}.length`,nt=>{this.var(Me,(0,e._)`${gt}[${nt}]`),J(Me)})}return this._for(new N("of",Le,Me,k),()=>J(Me))}forIn(d,k,J,Le=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,e._)`Object.keys(${k})`,J);const Me=this._scope.toName(d);return this._for(new N("in",Le,Me,k),()=>J(Me))}endFor(){return this._endBlockNode(I)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new A(d))}return(d){const k=new b;if(this._blockNode(k),this.code(d),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,k,J){if(!k&&!J)throw new Error('CodeGen: "try" without "catch" and "finally"');const Le=new x;if(this._blockNode(Le),this.code(d),k){const Me=this.name("e");this._currNode=Le.catch=new H(Me),k(Me)}return J&&(this._currNode=Le.finally=new te,this.code(J)),this._endBlockNode(H,te)}throw(d){return this._leafNode(new S(d))}block(d,k){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(k),this}endBlock(d){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const J=this._nodes.length-k;if(J<0||d!==void 0&&J!==d)throw new Error(`CodeGen: wrong number of nodes: ${J} vs ${d} expected`);return this._nodes.length=k,this}func(d,k=e.nil,J,Le){return this._blockNode(new R(d,k,J)),Le&&this.code(Le).endFunc(),this}endFunc(){return this._endBlockNode(R)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,k){const J=this._currNode;if(J instanceof d||k&&J instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${d.kind}/${k.kind}`:d.kind}"`)}_elseNode(d){const k=this._currNode;if(!(k instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const k=this._nodes;k[k.length-1]=d}}r.CodeGen=oe;function ce(W,d){for(const k in d)W[k]=(W[k]||0)+(d[k]||0);return W}function He(W,d){return d instanceof e._CodeOrName?ce(W,d.names):W}function De(W,d,k){if(W instanceof e.Name)return J(W);if(!Le(W))return W;return new e._Code(W._items.reduce((Me,gt)=>(gt instanceof e.Name&&(gt=J(gt)),gt instanceof e._Code?Me.push(...gt._items):Me.push(gt),Me),[]));function J(Me){const gt=k[Me.str];return gt===void 0||d[Me.str]!==1?Me:(delete d[Me.str],gt)}function Le(Me){return Me instanceof e._Code&&Me._items.some(gt=>gt instanceof e.Name&&d[gt.str]===1&&k[gt.str]!==void 0)}}function et(W,d){for(const k in d)W[k]=(W[k]||0)-(d[k]||0)}function lt(W){return typeof W=="boolean"||typeof W=="number"||W===null?!W:(0,e._)`!${re(W)}`}r.not=lt;const Et=j(r.operators.AND);function Lt(...W){return W.reduce(Et)}r.and=Lt;const dt=j(r.operators.OR);function he(...W){return W.reduce(dt)}r.or=he;function j(W){return(d,k)=>d===e.nil?k:k===e.nil?d:(0,e._)`${re(d)} ${W} ${re(k)}`}function re(W){return W instanceof e.Name?W:(0,e._)`(${W})`}},33310:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const e=a(19902);class t extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var T;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(T=r.UsedValueState||(r.UsedValueState={})),r.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class h{constructor({prefixes:l,parent:A}={}){this._names={},this._prefixes=l,this._parent=A}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const A=this._names[l]||this._nameGroup(l);return`${l}${A.index++}`}_nameGroup(l){var A,S;if(((S=(A=this._parent)===null||A===void 0?void 0:A._prefixes)===null||S===void 0?void 0:S.has(l))||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}r.Scope=h;class w extends e.Name{constructor(l,A){super(A),this.prefix=l}setValue(l,{property:A,itemIndex:S}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(A)}[${S}]`}}r.ValueScopeName=w;const i=(0,e._)`\n`;class E extends h{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:e.nil}}get(){return this._scope}name(l){return new w(l,this._newName(l))}value(l,A){var S;if(A.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const F=this.toName(l),{prefix:U}=F,B=(S=A.key)!==null&&S!==void 0?S:A.ref;let V=this._values[U];if(V){const I=V.get(B);if(I)return I}else V=this._values[U]=new Map;V.set(B,F);const f=this._scope[U]||(this._scope[U]=[]),p=f.length;return f[p]=A.ref,F.setValue(A,{property:U,itemIndex:p}),F}getValue(l,A){const S=this._values[l];if(!!S)return S.get(A)}scopeRefs(l,A=this._values){return this._reduceValues(A,S=>{if(S.scopePath===void 0)throw new Error(`CodeGen: name "${S}" has no value`);return(0,e._)`${l}${S.scopePath}`})}scopeCode(l=this._values,A,S){return this._reduceValues(l,F=>{if(F.value===void 0)throw new Error(`CodeGen: name "${F}" has no value`);return F.value.code},A,S)}_reduceValues(l,A,S={},F){let U=e.nil;for(const B in l){const V=l[B];if(!V)continue;const f=S[B]=S[B]||new Map;V.forEach(p=>{if(f.has(p))return;f.set(p,T.Started);let I=A(p);if(I){const y=this.opts.es5?r.varKinds.var:r.varKinds.const;U=(0,e._)`${U}${y} ${p} = ${I};${this.opts._n}`}else if(I=F==null?void 0:F(p))U=(0,e._)`${U}${I}${this.opts._n}`;else throw new t(p);f.set(p,T.Completed)})}return U}}r.ValueScope=E},66217:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const e=a(66684),t=a(72319),T=a(69495);r.keywordError={message:({keyword:f})=>(0,e.str)`must pass "${f}" keyword validation`},r.keyword$DataError={message:({keyword:f,schemaType:p})=>p?(0,e.str)`"${f}" keyword must be ${p} ($data)`:(0,e.str)`"${f}" keyword is invalid ($data)`};function h(f,p=r.keywordError,I,y){const{it:C}=f,{gen:N,compositeRule:R,allErrors:b}=C,x=S(f,p,I);(y!=null?y:R||b)?c(N,x):l(C,(0,e._)`[${x}]`)}r.reportError=h;function w(f,p=r.keywordError,I){const{it:y}=f,{gen:C,compositeRule:N,allErrors:R}=y,b=S(f,p,I);c(C,b),N||R||l(y,T.default.vErrors)}r.reportExtraError=w;function i(f,p){f.assign(T.default.errors,p),f.if((0,e._)`${T.default.vErrors} !== null`,()=>f.if(p,()=>f.assign((0,e._)`${T.default.vErrors}.length`,p),()=>f.assign(T.default.vErrors,null)))}r.resetErrorsCount=i;function E({gen:f,keyword:p,schemaValue:I,data:y,errsCount:C,it:N}){if(C===void 0)throw new Error("ajv implementation error");const R=f.name("err");f.forRange("i",C,T.default.errors,b=>{f.const(R,(0,e._)`${T.default.vErrors}[${b}]`),f.if((0,e._)`${R}.instancePath === undefined`,()=>f.assign((0,e._)`${R}.instancePath`,(0,e.strConcat)(T.default.instancePath,N.errorPath))),f.assign((0,e._)`${R}.schemaPath`,(0,e.str)`${N.errSchemaPath}/${p}`),N.opts.verbose&&(f.assign((0,e._)`${R}.schema`,I),f.assign((0,e._)`${R}.data`,y))})}r.extendErrors=E;function c(f,p){const I=f.const("err",p);f.if((0,e._)`${T.default.vErrors} === null`,()=>f.assign(T.default.vErrors,(0,e._)`[${I}]`),(0,e._)`${T.default.vErrors}.push(${I})`),f.code((0,e._)`${T.default.errors}++`)}function l(f,p){const{gen:I,validateName:y,schemaEnv:C}=f;C.$async?I.throw((0,e._)`new ${f.ValidationError}(${p})`):(I.assign((0,e._)`${y}.errors`,p),I.return(!1))}const A={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function S(f,p,I){const{createErrors:y}=f.it;return y===!1?(0,e._)`{}`:F(f,p,I)}function F(f,p,I={}){const{gen:y,it:C}=f,N=[U(C,I),B(f,I)];return V(f,p,N),y.object(...N)}function U({errorPath:f},{instancePath:p}){const I=p?(0,e.str)`${f}${(0,t.getErrorPath)(p,t.Type.Str)}`:f;return[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,I)]}function B({keyword:f,it:{errSchemaPath:p}},{schemaPath:I,parentSchema:y}){let C=y?p:(0,e.str)`${p}/${f}`;return I&&(C=(0,e.str)`${C}${(0,t.getErrorPath)(I,t.Type.Str)}`),[A.schemaPath,C]}function V(f,{params:p,message:I},y){const{keyword:C,data:N,schemaValue:R,it:b}=f,{opts:x,propertyName:H,topSchemaRef:te,schemaPath:oe}=b;y.push([A.keyword,C],[A.params,typeof p=="function"?p(f):p||(0,e._)`{}`]),x.messages&&y.push([A.message,typeof I=="function"?I(f):I]),x.verbose&&y.push([A.schema,R],[A.parentSchema,(0,e._)`${te}${oe}`],[T.default.data,N]),H&&y.push([A.propertyName,H])}},9929:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const e=a(66684),t=a(45015),T=a(69495),h=a(8674),w=a(72319),i=a(4125);class E{constructor(I){var y;this.refs={},this.dynamicAnchors={};let C;typeof I.schema=="object"&&(C=I.schema),this.schema=I.schema,this.schemaId=I.schemaId,this.root=I.root||this,this.baseId=(y=I.baseId)!==null&&y!==void 0?y:(0,h.normalizeId)(C==null?void 0:C[I.schemaId||"$id"]),this.schemaPath=I.schemaPath,this.localRefs=I.localRefs,this.meta=I.meta,this.$async=C==null?void 0:C.$async,this.refs={}}}r.SchemaEnv=E;function c(p){const I=S.call(this,p);if(I)return I;const y=(0,h.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:C,lines:N}=this.opts.code,{ownProperties:R}=this.opts,b=new e.CodeGen(this.scope,{es5:C,lines:N,ownProperties:R});let x;p.$async&&(x=b.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const H=b.scopeName("validate");p.validateName=H;const te={gen:b,allErrors:this.opts.allErrors,data:T.default.data,parentData:T.default.parentData,parentDataProperty:T.default.parentDataProperty,dataNames:[T.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,e.stringify)(p.schema)}:{ref:p.schema}),validateName:H,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:e.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let oe;try{this._compilations.add(p),(0,i.validateFunctionCode)(te),b.optimize(this.opts.code.optimize);const ce=b.toString();oe=`${b.scopeRefs(T.default.scope)}return ${ce}`,this.opts.code.process&&(oe=this.opts.code.process(oe,p));const De=new Function(`${T.default.self}`,`${T.default.scope}`,oe)(this,this.scope.get());if(this.scope.value(H,{ref:De}),De.errors=null,De.schema=p.schema,De.schemaEnv=p,p.$async&&(De.$async=!0),this.opts.code.source===!0&&(De.source={validateName:H,validateCode:ce,scopeValues:b._values}),this.opts.unevaluated){const{props:et,items:lt}=te;De.evaluated={props:et instanceof e.Name?void 0:et,items:lt instanceof e.Name?void 0:lt,dynamicProps:et instanceof e.Name,dynamicItems:lt instanceof e.Name},De.source&&(De.source.evaluated=(0,e.stringify)(De.evaluated))}return p.validate=De,p}catch(ce){throw delete p.validate,delete p.validateName,oe&&this.logger.error("Error compiling schema, function code:",oe),ce}finally{this._compilations.delete(p)}}r.compileSchema=c;function l(p,I,y){var C;y=(0,h.resolveUrl)(this.opts.uriResolver,I,y);const N=p.refs[y];if(N)return N;let R=U.call(this,p,y);if(R===void 0){const b=(C=p.localRefs)===null||C===void 0?void 0:C[y],{schemaId:x}=this.opts;b&&(R=new E({schema:b,schemaId:x,root:p,baseId:I}))}if(R!==void 0)return p.refs[y]=A.call(this,R)}r.resolveRef=l;function A(p){return(0,h.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:c.call(this,p)}function S(p){for(const I of this._compilations)if(F(I,p))return I}r.getCompilingSchema=S;function F(p,I){return p.schema===I.schema&&p.root===I.root&&p.baseId===I.baseId}function U(p,I){let y;for(;typeof(y=this.refs[I])=="string";)I=y;return y||this.schemas[I]||B.call(this,p,I)}function B(p,I){const y=this.opts.uriResolver.parse(I),C=(0,h._getFullPath)(this.opts.uriResolver,y);let N=(0,h.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&C===N)return f.call(this,y,p);const R=(0,h.normalizeId)(C),b=this.refs[R]||this.schemas[R];if(typeof b=="string"){const x=B.call(this,p,b);return typeof(x==null?void 0:x.schema)!="object"?void 0:f.call(this,y,x)}if(typeof(b==null?void 0:b.schema)=="object"){if(b.validate||c.call(this,b),R===(0,h.normalizeId)(I)){const{schema:x}=b,{schemaId:H}=this.opts,te=x[H];return te&&(N=(0,h.resolveUrl)(this.opts.uriResolver,N,te)),new E({schema:x,schemaId:H,root:p,baseId:N})}return f.call(this,y,b)}}r.resolveSchema=B;const V=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function f(p,{baseId:I,schema:y,root:C}){var N;if(((N=p.fragment)===null||N===void 0?void 0:N[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const H=y[(0,w.unescapeFragment)(x)];if(H===void 0)return;y=H;const te=typeof y=="object"&&y[this.opts.schemaId];!V.has(x)&&te&&(I=(0,h.resolveUrl)(this.opts.uriResolver,I,te))}let R;if(typeof y!="boolean"&&y.$ref&&!(0,w.schemaHasRulesButRef)(y,this.RULES)){const x=(0,h.resolveUrl)(this.opts.uriResolver,I,y.$ref);R=B.call(this,C,x)}const{schemaId:b}=this.opts;if(R=R||new E({schema:y,schemaId:b,root:C,baseId:I}),R.schema!==R.root.schema)return R}},69495:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};r.default=t},64435:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(8674);class t extends Error{constructor(h,w,i,E){super(E||`can't resolve reference ${i} from id ${w}`),this.missingRef=(0,e.resolveUrl)(h,w,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(h,this.missingRef))}}r.default=t},8674:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const e=a(72319),t=a(69378),T=a(19522),h=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function w(f,p=!0){return typeof f=="boolean"?!0:p===!0?!E(f):p?c(f)<=p:!1}r.inlineRef=w;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function E(f){for(const p in f){if(i.has(p))return!0;const I=f[p];if(Array.isArray(I)&&I.some(E)||typeof I=="object"&&E(I))return!0}return!1}function c(f){let p=0;for(const I in f){if(I==="$ref")return 1/0;if(p++,!h.has(I)&&(typeof f[I]=="object"&&(0,e.eachItem)(f[I],y=>p+=c(y)),p===1/0))return 1/0}return p}function l(f,p="",I){I!==!1&&(p=F(p));const y=f.parse(p);return A(f,y)}r.getFullPath=l;function A(f,p){return f.serialize(p).split("#")[0]+"#"}r._getFullPath=A;const S=/#\/?$/;function F(f){return f?f.replace(S,""):""}r.normalizeId=F;function U(f,p,I){return I=F(I),f.resolve(p,I)}r.resolveUrl=U;const B=/^[a-z_][-a-z0-9._]*$/i;function V(f,p){if(typeof f=="boolean")return{};const{schemaId:I,uriResolver:y}=this.opts,C=F(f[I]||p),N={"":C},R=l(y,C,!1),b={},x=new Set;return T(f,{allKeys:!0},(oe,ce,He,De)=>{if(De===void 0)return;const et=R+ce;let lt=N[De];typeof oe[I]=="string"&&(lt=Et.call(this,oe[I])),Lt.call(this,oe.$anchor),Lt.call(this,oe.$dynamicAnchor),N[ce]=lt;function Et(dt){const he=this.opts.uriResolver.resolve;if(dt=F(lt?he(lt,dt):dt),x.has(dt))throw te(dt);x.add(dt);let j=this.refs[dt];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?H(oe,j.schema,dt):dt!==F(et)&&(dt[0]==="#"?(H(oe,b[dt],dt),b[dt]=oe):this.refs[dt]=et),dt}function Lt(dt){if(typeof dt=="string"){if(!B.test(dt))throw new Error(`invalid anchor "${dt}"`);Et.call(this,`#${dt}`)}}}),b;function H(oe,ce,He){if(ce!==void 0&&!t(oe,ce))throw te(He)}function te(oe){return new Error(`reference "${oe}" resolves to more than one schema`)}}r.getSchemaRefs=V},89203:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const a=["string","number","integer","boolean","null","object","array"],e=new Set(a);function t(h){return typeof h=="string"&&e.has(h)}r.isJSONType=t;function T(){const h={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...h,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},h.number,h.string,h.array,h.object],post:{rules:[]},all:{},keywords:{}}}r.getRules=T},72319:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const e=a(66684),t=a(19902);function T(R){const b={};for(const x of R)b[x]=!0;return b}r.toHash=T;function h(R,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(w(R,b),!i(b,R.self.RULES.all))}r.alwaysValidSchema=h;function w(R,b=R.schema){const{opts:x,self:H}=R;if(!x.strictSchema||typeof b=="boolean")return;const te=H.RULES.keywords;for(const oe in b)te[oe]||N(R,`unknown keyword: "${oe}"`)}r.checkUnknownRules=w;function i(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(b[x])return!0;return!1}r.schemaHasRules=i;function E(R,b){if(typeof R=="boolean")return!R;for(const x in R)if(x!=="$ref"&&b.all[x])return!0;return!1}r.schemaHasRulesButRef=E;function c({topSchemaRef:R,schemaPath:b},x,H,te){if(!te){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,e._)`${x}`}return(0,e._)`${R}${b}${(0,e.getProperty)(H)}`}r.schemaRefOrVal=c;function l(R){return F(decodeURIComponent(R))}r.unescapeFragment=l;function A(R){return encodeURIComponent(S(R))}r.escapeFragment=A;function S(R){return typeof R=="number"?`${R}`:R.replace(/~/g,"~0").replace(/\//g,"~1")}r.escapeJsonPointer=S;function F(R){return R.replace(/~1/g,"/").replace(/~0/g,"~")}r.unescapeJsonPointer=F;function U(R,b){if(Array.isArray(R))for(const x of R)b(x);else b(R)}r.eachItem=U;function B({mergeNames:R,mergeToName:b,mergeValues:x,resultToName:H}){return(te,oe,ce,He)=>{const De=ce===void 0?oe:ce instanceof e.Name?(oe instanceof e.Name?R(te,oe,ce):b(te,oe,ce),ce):oe instanceof e.Name?(b(te,ce,oe),oe):x(oe,ce);return He===e.Name&&!(De instanceof e.Name)?H(te,De):De}}r.mergeEvaluated={props:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>{R.if((0,e._)`${b} === true`,()=>R.assign(x,!0),()=>R.assign(x,(0,e._)`${x} || {}`).code((0,e._)`Object.assign(${x}, ${b})`))}),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>{b===!0?R.assign(x,!0):(R.assign(x,(0,e._)`${x} || {}`),f(R,x,b))}),mergeValues:(R,b)=>R===!0?!0:{...R,...b},resultToName:V}),items:B({mergeNames:(R,b,x)=>R.if((0,e._)`${x} !== true && ${b} !== undefined`,()=>R.assign(x,(0,e._)`${b} === true ? true : ${x} > ${b} ? ${x} : ${b}`)),mergeToName:(R,b,x)=>R.if((0,e._)`${x} !== true`,()=>R.assign(x,b===!0?!0:(0,e._)`${x} > ${b} ? ${x} : ${b}`)),mergeValues:(R,b)=>R===!0?!0:Math.max(R,b),resultToName:(R,b)=>R.var("items",b)})};function V(R,b){if(b===!0)return R.var("props",!0);const x=R.var("props",(0,e._)`{}`);return b!==void 0&&f(R,x,b),x}r.evaluatedPropsToName=V;function f(R,b,x){Object.keys(x).forEach(H=>R.assign((0,e._)`${b}${(0,e.getProperty)(H)}`,!0))}r.setEvaluated=f;const p={};function I(R,b){return R.scopeValue("func",{ref:b,code:p[b.code]||(p[b.code]=new t._Code(b.code))})}r.useFunc=I;var y;(function(R){R[R.Num=0]="Num",R[R.Str=1]="Str"})(y=r.Type||(r.Type={}));function C(R,b,x){if(R instanceof e.Name){const H=b===y.Num;return x?H?(0,e._)`"[" + ${R} + "]"`:(0,e._)`"['" + ${R} + "']"`:H?(0,e._)`"/" + ${R}`:(0,e._)`"/" + ${R}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,e.getProperty)(R).toString():"/"+S(R)}r.getErrorPath=C;function N(R,b,x=R.opts.strictSchema){if(!!x){if(b=`strict mode: ${b}`,x===!0)throw new Error(b);R.self.logger.warn(b)}}r.checkStrictMode=N},98457:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0;function a({schema:T,self:h},w){const i=h.RULES.types[w];return i&&i!==!0&&e(T,i)}r.schemaHasRulesForType=a;function e(T,h){return h.rules.some(w=>t(T,w))}r.shouldUseGroup=e;function t(T,h){var w;return T[h.keyword]!==void 0||((w=h.definition.implements)===null||w===void 0?void 0:w.some(i=>T[i]!==void 0))}r.shouldUseRule=t},66767:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const e=a(66217),t=a(66684),T=a(69495),h={message:"boolean schema is false"};function w(c){const{gen:l,schema:A,validateName:S}=c;A===!1?E(c,!1):typeof A=="object"&&A.$async===!0?l.return(T.default.data):(l.assign((0,t._)`${S}.errors`,null),l.return(!0))}r.topBoolOrEmptySchema=w;function i(c,l){const{gen:A,schema:S}=c;S===!1?(A.var(l,!1),E(c)):A.var(l,!0)}r.boolOrEmptySchema=i;function E(c,l){const{gen:A,data:S}=c,F={gen:A,keyword:"false schema",data:S,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(F,h,void 0,l)}},538:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const e=a(89203),t=a(98457),T=a(66217),h=a(66684),w=a(72319);var i;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(i=r.DataType||(r.DataType={}));function E(y){const C=c(y.type);if(C.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&C.push("null")}return C}r.getSchemaTypes=E;function c(y){const C=Array.isArray(y)?y:y?[y]:[];if(C.every(e.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}r.getJSONTypes=c;function l(y,C){const{gen:N,data:R,opts:b}=y,x=S(C,b.coerceTypes),H=C.length>0&&!(x.length===0&&C.length===1&&(0,t.schemaHasRulesForType)(y,C[0]));if(H){const te=V(C,R,b.strictNumbers,i.Wrong);N.if(te,()=>{x.length?F(y,C,x):p(y)})}return H}r.coerceAndCheckDataType=l;const A=new Set(["string","number","integer","boolean","null"]);function S(y,C){return C?y.filter(N=>A.has(N)||C==="array"&&N==="array"):[]}function F(y,C,N){const{gen:R,data:b,opts:x}=y,H=R.let("dataType",(0,h._)`typeof ${b}`),te=R.let("coerced",(0,h._)`undefined`);x.coerceTypes==="array"&&R.if((0,h._)`${H} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>R.assign(b,(0,h._)`${b}[0]`).assign(H,(0,h._)`typeof ${b}`).if(V(C,b,x.strictNumbers),()=>R.assign(te,b))),R.if((0,h._)`${te} !== undefined`);for(const ce of N)(A.has(ce)||ce==="array"&&x.coerceTypes==="array")&&oe(ce);R.else(),p(y),R.endIf(),R.if((0,h._)`${te} !== undefined`,()=>{R.assign(b,te),U(y,te)});function oe(ce){switch(ce){case"string":R.elseIf((0,h._)`${H} == "number" || ${H} == "boolean"`).assign(te,(0,h._)`"" + ${b}`).elseIf((0,h._)`${b} === null`).assign(te,(0,h._)`""`);return;case"number":R.elseIf((0,h._)`${H} == "boolean" || ${b} === null
              || (${H} == "string" && ${b} && ${b} == +${b})`).assign(te,(0,h._)`+${b}`);return;case"integer":R.elseIf((0,h._)`${H} === "boolean" || ${b} === null
              || (${H} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(te,(0,h._)`+${b}`);return;case"boolean":R.elseIf((0,h._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(te,!1).elseIf((0,h._)`${b} === "true" || ${b} === 1`).assign(te,!0);return;case"null":R.elseIf((0,h._)`${b} === "" || ${b} === 0 || ${b} === false`),R.assign(te,null);return;case"array":R.elseIf((0,h._)`${H} === "string" || ${H} === "number"
              || ${H} === "boolean" || ${b} === null`).assign(te,(0,h._)`[${b}]`)}}}function U({gen:y,parentData:C,parentDataProperty:N},R){y.if((0,h._)`${C} !== undefined`,()=>y.assign((0,h._)`${C}[${N}]`,R))}function B(y,C,N,R=i.Correct){const b=R===i.Correct?h.operators.EQ:h.operators.NEQ;let x;switch(y){case"null":return(0,h._)`${C} ${b} null`;case"array":x=(0,h._)`Array.isArray(${C})`;break;case"object":x=(0,h._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":x=H((0,h._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":x=H();break;default:return(0,h._)`typeof ${C} ${b} ${y}`}return R===i.Correct?x:(0,h.not)(x);function H(te=h.nil){return(0,h.and)((0,h._)`typeof ${C} == "number"`,te,N?(0,h._)`isFinite(${C})`:h.nil)}}r.checkDataType=B;function V(y,C,N,R){if(y.length===1)return B(y[0],C,N,R);let b;const x=(0,w.toHash)(y);if(x.array&&x.object){const H=(0,h._)`typeof ${C} != "object"`;b=x.null?H:(0,h._)`!${C} || ${H}`,delete x.null,delete x.array,delete x.object}else b=h.nil;x.number&&delete x.integer;for(const H in x)b=(0,h.and)(b,B(H,C,N,R));return b}r.checkDataTypes=V;const f={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:C})=>typeof y=="string"?(0,h._)`{type: ${y}}`:(0,h._)`{type: ${C}}`};function p(y){const C=I(y);(0,T.reportError)(C,f)}r.reportTypeError=p;function I(y){const{gen:C,data:N,schema:R}=y,b=(0,w.schemaRefOrVal)(y,R,"type");return{gen:C,keyword:"type",data:N,schema:R.type,schemaCode:b,schemaValue:b,parentSchema:R,params:{},it:y}}},73644:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const e=a(66684),t=a(72319);function T(w,i){const{properties:E,items:c}=w.schema;if(i==="object"&&E)for(const l in E)h(w,l,E[l].default);else i==="array"&&Array.isArray(c)&&c.forEach((l,A)=>h(w,A,l.default))}r.assignDefaults=T;function h(w,i,E){const{gen:c,compositeRule:l,data:A,opts:S}=w;if(E===void 0)return;const F=(0,e._)`${A}${(0,e.getProperty)(i)}`;if(l){(0,t.checkStrictMode)(w,`default is ignored for: ${F}`);return}let U=(0,e._)`${F} === undefined`;S.useDefaults==="empty"&&(U=(0,e._)`${U} || ${F} === null || ${F} === ""`),c.if(U,(0,e._)`${F} = ${(0,e.stringify)(E)}`)}},4125:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const e=a(66767),t=a(538),T=a(98457),h=a(538),w=a(73644),i=a(76525),E=a(86602),c=a(66684),l=a(69495),A=a(8674),S=a(72319),F=a(66217);function U(M){if(R(M)&&(x(M),N(M))){p(M);return}B(M,()=>(0,e.topBoolOrEmptySchema)(M))}r.validateFunctionCode=U;function B({gen:M,validateName:Z,schema:ie,schemaEnv:we,opts:je},Xe){je.code.es5?M.func(Z,(0,c._)`${l.default.data}, ${l.default.valCxt}`,we.$async,()=>{M.code((0,c._)`"use strict"; ${y(ie,je)}`),f(M,je),M.code(Xe)}):M.func(Z,(0,c._)`${l.default.data}, ${V(je)}`,we.$async,()=>M.code(y(ie,je)).code(Xe))}function V(M){return(0,c._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${M.dynamicRef?(0,c._)`, ${l.default.dynamicAnchors}={}`:c.nil}}={}`}function f(M,Z){M.if(l.default.valCxt,()=>{M.var(l.default.instancePath,(0,c._)`${l.default.valCxt}.${l.default.instancePath}`),M.var(l.default.parentData,(0,c._)`${l.default.valCxt}.${l.default.parentData}`),M.var(l.default.parentDataProperty,(0,c._)`${l.default.valCxt}.${l.default.parentDataProperty}`),M.var(l.default.rootData,(0,c._)`${l.default.valCxt}.${l.default.rootData}`),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{M.var(l.default.instancePath,(0,c._)`""`),M.var(l.default.parentData,(0,c._)`undefined`),M.var(l.default.parentDataProperty,(0,c._)`undefined`),M.var(l.default.rootData,l.default.data),Z.dynamicRef&&M.var(l.default.dynamicAnchors,(0,c._)`{}`)})}function p(M){const{schema:Z,opts:ie,gen:we}=M;B(M,()=>{ie.$comment&&Z.$comment&&De(M),oe(M),we.let(l.default.vErrors,null),we.let(l.default.errors,0),ie.unevaluated&&I(M),H(M),et(M)})}function I(M){const{gen:Z,validateName:ie}=M;M.evaluated=Z.const("evaluated",(0,c._)`${ie}.evaluated`),Z.if((0,c._)`${M.evaluated}.dynamicProps`,()=>Z.assign((0,c._)`${M.evaluated}.props`,(0,c._)`undefined`)),Z.if((0,c._)`${M.evaluated}.dynamicItems`,()=>Z.assign((0,c._)`${M.evaluated}.items`,(0,c._)`undefined`))}function y(M,Z){const ie=typeof M=="object"&&M[Z.schemaId];return ie&&(Z.code.source||Z.code.process)?(0,c._)`/*# sourceURL=${ie} */`:c.nil}function C(M,Z){if(R(M)&&(x(M),N(M))){b(M,Z);return}(0,e.boolOrEmptySchema)(M,Z)}function N({schema:M,self:Z}){if(typeof M=="boolean")return!M;for(const ie in M)if(Z.RULES.all[ie])return!0;return!1}function R(M){return typeof M.schema!="boolean"}function b(M,Z){const{schema:ie,gen:we,opts:je}=M;je.$comment&&ie.$comment&&De(M),ce(M),He(M);const Xe=we.const("_errs",l.default.errors);H(M,Xe),we.var(Z,(0,c._)`${Xe} === ${l.default.errors}`)}function x(M){(0,S.checkUnknownRules)(M),te(M)}function H(M,Z){if(M.opts.jtd)return Et(M,[],!1,Z);const ie=(0,t.getSchemaTypes)(M.schema),we=(0,t.coerceAndCheckDataType)(M,ie);Et(M,ie,!we,Z)}function te(M){const{schema:Z,errSchemaPath:ie,opts:we,self:je}=M;Z.$ref&&we.ignoreKeywordsWithRef&&(0,S.schemaHasRulesButRef)(Z,je.RULES)&&je.logger.warn(`$ref: keywords ignored in schema at path "${ie}"`)}function oe(M){const{schema:Z,opts:ie}=M;Z.default!==void 0&&ie.useDefaults&&ie.strictSchema&&(0,S.checkStrictMode)(M,"default is ignored in the schema root")}function ce(M){const Z=M.schema[M.opts.schemaId];Z&&(M.baseId=(0,A.resolveUrl)(M.opts.uriResolver,M.baseId,Z))}function He(M){if(M.schema.$async&&!M.schemaEnv.$async)throw new Error("async schema in sync schema")}function De({gen:M,schemaEnv:Z,schema:ie,errSchemaPath:we,opts:je}){const Xe=ie.$comment;if(je.$comment===!0)M.code((0,c._)`${l.default.self}.logger.log(${Xe})`);else if(typeof je.$comment=="function"){const Mt=(0,c.str)`${we}/$comment`,Ut=M.scopeValue("root",{ref:Z.root});M.code((0,c._)`${l.default.self}.opts.$comment(${Xe}, ${Mt}, ${Ut}.schema)`)}}function et(M){const{gen:Z,schemaEnv:ie,validateName:we,ValidationError:je,opts:Xe}=M;ie.$async?Z.if((0,c._)`${l.default.errors} === 0`,()=>Z.return(l.default.data),()=>Z.throw((0,c._)`new ${je}(${l.default.vErrors})`)):(Z.assign((0,c._)`${we}.errors`,l.default.vErrors),Xe.unevaluated&&lt(M),Z.return((0,c._)`${l.default.errors} === 0`))}function lt({gen:M,evaluated:Z,props:ie,items:we}){ie instanceof c.Name&&M.assign((0,c._)`${Z}.props`,ie),we instanceof c.Name&&M.assign((0,c._)`${Z}.items`,we)}function Et(M,Z,ie,we){const{gen:je,schema:Xe,data:Mt,allErrors:Ut,opts:Gt,self:zt}=M,{RULES:_t}=zt;if(Xe.$ref&&(Gt.ignoreKeywordsWithRef||!(0,S.schemaHasRulesButRef)(Xe,_t))){je.block(()=>Le(M,"$ref",_t.all.$ref.definition));return}Gt.jtd||dt(M,Z),je.block(()=>{for(const It of _t.rules)on(It);on(_t.post)});function on(It){!(0,T.shouldUseGroup)(Xe,It)||(It.type?(je.if((0,h.checkDataType)(It.type,Mt,Gt.strictNumbers)),Lt(M,It),Z.length===1&&Z[0]===It.type&&ie&&(je.else(),(0,h.reportTypeError)(M)),je.endIf()):Lt(M,It),Ut||je.if((0,c._)`${l.default.errors} === ${we||0}`))}}function Lt(M,Z){const{gen:ie,schema:we,opts:{useDefaults:je}}=M;je&&(0,w.assignDefaults)(M,Z.type),ie.block(()=>{for(const Xe of Z.rules)(0,T.shouldUseRule)(we,Xe)&&Le(M,Xe.keyword,Xe.definition,Z.type)})}function dt(M,Z){M.schemaEnv.meta||!M.opts.strictTypes||(he(M,Z),M.opts.allowUnionTypes||j(M,Z),re(M,M.dataTypes))}function he(M,Z){if(!!Z.length){if(!M.dataTypes.length){M.dataTypes=Z;return}Z.forEach(ie=>{d(M.dataTypes,ie)||k(M,`type "${ie}" not allowed by context "${M.dataTypes.join(",")}"`)}),M.dataTypes=M.dataTypes.filter(ie=>d(Z,ie))}}function j(M,Z){Z.length>1&&!(Z.length===2&&Z.includes("null"))&&k(M,"use allowUnionTypes to allow union type keyword")}function re(M,Z){const ie=M.self.RULES.all;for(const we in ie){const je=ie[we];if(typeof je=="object"&&(0,T.shouldUseRule)(M.schema,je)){const{type:Xe}=je.definition;Xe.length&&!Xe.some(Mt=>W(Z,Mt))&&k(M,`missing type "${Xe.join(",")}" for keyword "${we}"`)}}}function W(M,Z){return M.includes(Z)||Z==="number"&&M.includes("integer")}function d(M,Z){return M.includes(Z)||Z==="integer"&&M.includes("number")}function k(M,Z){Z+=` at "${M.schemaEnv.baseId+M.errSchemaPath}" (strictTypes)`,(0,S.checkStrictMode)(M,Z,M.opts.strictTypes)}class J{constructor(Z,ie,we){if((0,i.validateKeywordUsage)(Z,ie,we),this.gen=Z.gen,this.allErrors=Z.allErrors,this.keyword=we,this.data=Z.data,this.schema=Z.schema[we],this.$data=ie.$data&&Z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,S.schemaRefOrVal)(Z,this.schema,we,this.$data),this.schemaType=ie.schemaType,this.parentSchema=Z.schema,this.params={},this.it=Z,this.def=ie,this.$data)this.schemaCode=Z.gen.const("vSchema",nt(this.$data,Z));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,ie.schemaType,ie.allowUndefined))throw new Error(`${we} value must be ${JSON.stringify(ie.schemaType)}`);("code"in ie?ie.trackErrors:ie.errors!==!1)&&(this.errsCount=Z.gen.const("_errs",l.default.errors))}result(Z,ie,we){this.failResult((0,c.not)(Z),ie,we)}failResult(Z,ie,we){this.gen.if(Z),we?we():this.error(),ie?(this.gen.else(),ie(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Z,ie){this.failResult((0,c.not)(Z),void 0,ie)}fail(Z){if(Z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Z){if(!this.$data)return this.fail(Z);const{schemaCode:ie}=this;this.fail((0,c._)`${ie} !== undefined && (${(0,c.or)(this.invalid$data(),Z)})`)}error(Z,ie,we){if(ie){this.setParams(ie),this._error(Z,we),this.setParams({});return}this._error(Z,we)}_error(Z,ie){(Z?F.reportExtraError:F.reportError)(this,this.def.error,ie)}$dataError(){(0,F.reportError)(this,this.def.$dataError||F.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,F.resetErrorsCount)(this.gen,this.errsCount)}ok(Z){this.allErrors||this.gen.if(Z)}setParams(Z,ie){ie?Object.assign(this.params,Z):this.params=Z}block$data(Z,ie,we=c.nil){this.gen.block(()=>{this.check$data(Z,we),ie()})}check$data(Z=c.nil,ie=c.nil){if(!this.$data)return;const{gen:we,schemaCode:je,schemaType:Xe,def:Mt}=this;we.if((0,c.or)((0,c._)`${je} === undefined`,ie)),Z!==c.nil&&we.assign(Z,!0),(Xe.length||Mt.validateSchema)&&(we.elseIf(this.invalid$data()),this.$dataError(),Z!==c.nil&&we.assign(Z,!1)),we.else()}invalid$data(){const{gen:Z,schemaCode:ie,schemaType:we,def:je,it:Xe}=this;return(0,c.or)(Mt(),Ut());function Mt(){if(we.length){if(!(ie instanceof c.Name))throw new Error("ajv implementation error");const Gt=Array.isArray(we)?we:[we];return(0,c._)`${(0,h.checkDataTypes)(Gt,ie,Xe.opts.strictNumbers,h.DataType.Wrong)}`}return c.nil}function Ut(){if(je.validateSchema){const Gt=Z.scopeValue("validate$data",{ref:je.validateSchema});return(0,c._)`!${Gt}(${ie})`}return c.nil}}subschema(Z,ie){const we=(0,E.getSubschema)(this.it,Z);(0,E.extendSubschemaData)(we,this.it,Z),(0,E.extendSubschemaMode)(we,Z);const je={...this.it,...we,items:void 0,props:void 0};return C(je,ie),je}mergeEvaluated(Z,ie){const{it:we,gen:je}=this;!we.opts.unevaluated||(we.props!==!0&&Z.props!==void 0&&(we.props=S.mergeEvaluated.props(je,Z.props,we.props,ie)),we.items!==!0&&Z.items!==void 0&&(we.items=S.mergeEvaluated.items(je,Z.items,we.items,ie)))}mergeValidEvaluated(Z,ie){const{it:we,gen:je}=this;if(we.opts.unevaluated&&(we.props!==!0||we.items!==!0))return je.if(ie,()=>this.mergeEvaluated(Z,c.Name)),!0}}r.KeywordCxt=J;function Le(M,Z,ie,we){const je=new J(M,ie,Z);"code"in ie?ie.code(je,we):je.$data&&ie.validate?(0,i.funcKeywordCode)(je,ie):"macro"in ie?(0,i.macroKeywordCode)(je,ie):(ie.compile||ie.validate)&&(0,i.funcKeywordCode)(je,ie)}const Me=/^\/(?:[^~]|~0|~1)*$/,gt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function nt(M,{dataLevel:Z,dataNames:ie,dataPathArr:we}){let je,Xe;if(M==="")return l.default.rootData;if(M[0]==="/"){if(!Me.test(M))throw new Error(`Invalid JSON-pointer: ${M}`);je=M,Xe=l.default.rootData}else{const zt=gt.exec(M);if(!zt)throw new Error(`Invalid JSON-pointer: ${M}`);const _t=+zt[1];if(je=zt[2],je==="#"){if(_t>=Z)throw new Error(Gt("property/index",_t));return we[Z-_t]}if(_t>Z)throw new Error(Gt("data",_t));if(Xe=ie[Z-_t],!je)return Xe}let Mt=Xe;const Ut=je.split("/");for(const zt of Ut)zt&&(Xe=(0,c._)`${Xe}${(0,c.getProperty)((0,S.unescapeJsonPointer)(zt))}`,Mt=(0,c._)`${Mt} && ${Xe}`);return Mt;function Gt(zt,_t){return`Cannot access ${zt} ${_t} levels up, current level is ${Z}`}}r.getData=nt},76525:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const e=a(66684),t=a(69495),T=a(17221),h=a(66217);function w(U,B){const{gen:V,keyword:f,schema:p,parentSchema:I,it:y}=U,C=B.macro.call(y.self,p,I,y),N=A(V,f,C);y.opts.validateSchema!==!1&&y.self.validateSchema(C,!0);const R=V.name("valid");U.subschema({schema:C,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${f}`,topSchemaRef:N,compositeRule:!0},R),U.pass(R,()=>U.error(!0))}r.macroKeywordCode=w;function i(U,B){var V;const{gen:f,keyword:p,schema:I,parentSchema:y,$data:C,it:N}=U;l(N,B);const R=!C&&B.compile?B.compile.call(N.self,I,y,N):B.validate,b=A(f,p,R),x=f.let("valid");U.block$data(x,H),U.ok((V=B.valid)!==null&&V!==void 0?V:x);function H(){if(B.errors===!1)ce(),B.modifying&&E(U),He(()=>U.error());else{const De=B.async?te():oe();B.modifying&&E(U),He(()=>c(U,De))}}function te(){const De=f.let("ruleErrs",null);return f.try(()=>ce((0,e._)`await `),et=>f.assign(x,!1).if((0,e._)`${et} instanceof ${N.ValidationError}`,()=>f.assign(De,(0,e._)`${et}.errors`),()=>f.throw(et))),De}function oe(){const De=(0,e._)`${b}.errors`;return f.assign(De,null),ce(e.nil),De}function ce(De=B.async?(0,e._)`await `:e.nil){const et=N.opts.passContext?t.default.this:t.default.self,lt=!("compile"in B&&!C||B.schema===!1);f.assign(x,(0,e._)`${De}${(0,T.callValidateCode)(U,b,et,lt)}`,B.modifying)}function He(De){var et;f.if((0,e.not)((et=B.valid)!==null&&et!==void 0?et:x),De)}}r.funcKeywordCode=i;function E(U){const{gen:B,data:V,it:f}=U;B.if(f.parentData,()=>B.assign(V,(0,e._)`${f.parentData}[${f.parentDataProperty}]`))}function c(U,B){const{gen:V}=U;V.if((0,e._)`Array.isArray(${B})`,()=>{V.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${B} : ${t.default.vErrors}.concat(${B})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,h.extendErrors)(U)},()=>U.error())}function l({schemaEnv:U},B){if(B.async&&!U.$async)throw new Error("async keyword in sync schema")}function A(U,B,V){if(V===void 0)throw new Error(`keyword "${B}" failed to compile`);return U.scopeValue("keyword",typeof V=="function"?{ref:V}:{ref:V,code:(0,e.stringify)(V)})}function S(U,B,V=!1){return!B.length||B.some(f=>f==="array"?Array.isArray(U):f==="object"?U&&typeof U=="object"&&!Array.isArray(U):typeof U==f||V&&typeof U=="undefined")}r.validSchemaType=S;function F({schema:U,opts:B,self:V,errSchemaPath:f},p,I){if(Array.isArray(p.keyword)?!p.keyword.includes(I):p.keyword!==I)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(C=>!Object.prototype.hasOwnProperty.call(U,C)))throw new Error(`parent schema must have dependencies of ${I}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(U[I])){const N=`keyword "${I}" value is invalid at path "${f}": `+V.errorsText(p.validateSchema.errors);if(B.validateSchema==="log")V.logger.error(N);else throw new Error(N)}}r.validateKeywordUsage=F},86602:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const e=a(66684),t=a(72319);function T(i,{keyword:E,schemaProp:c,schema:l,schemaPath:A,errSchemaPath:S,topSchemaRef:F}){if(E!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(E!==void 0){const U=i.schema[E];return c===void 0?{schema:U,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}`,errSchemaPath:`${i.errSchemaPath}/${E}`}:{schema:U[c],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(E)}${(0,e.getProperty)(c)}`,errSchemaPath:`${i.errSchemaPath}/${E}/${(0,t.escapeFragment)(c)}`}}if(l!==void 0){if(A===void 0||S===void 0||F===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:A,topSchemaRef:F,errSchemaPath:S}}throw new Error('either "keyword" or "schema" must be passed')}r.getSubschema=T;function h(i,E,{dataProp:c,dataPropType:l,data:A,dataTypes:S,propertyName:F}){if(A!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:U}=E;if(c!==void 0){const{errorPath:V,dataPathArr:f,opts:p}=E,I=U.let("data",(0,e._)`${E.data}${(0,e.getProperty)(c)}`,!0);B(I),i.errorPath=(0,e.str)`${V}${(0,t.getErrorPath)(c,l,p.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${c}`,i.dataPathArr=[...f,i.parentDataProperty]}if(A!==void 0){const V=A instanceof e.Name?A:U.let("data",A,!0);B(V),F!==void 0&&(i.propertyName=F)}S&&(i.dataTypes=S);function B(V){i.data=V,i.dataLevel=E.dataLevel+1,i.dataTypes=[],E.definedProperties=new Set,i.parentData=E.data,i.dataNames=[...E.dataNames,V]}}r.extendSubschemaData=h;function w(i,{jtdDiscriminator:E,jtdMetadata:c,compositeRule:l,createErrors:A,allErrors:S}){l!==void 0&&(i.compositeRule=l),A!==void 0&&(i.createErrors=A),S!==void 0&&(i.allErrors=S),i.jtdDiscriminator=E,i.jtdMetadata=c}r.extendSubschemaMode=w},49019:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var e=a(4125);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var t=a(66684);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const T=a(45015),h=a(64435),w=a(89203),i=a(9929),E=a(66684),c=a(8674),l=a(538),A=a(72319),S=a(84257),F=a(69599),U=(he,j)=>new RegExp(he,j);U.code="new RegExp";const B=["removeAdditional","useDefaults","coerceTypes"],V=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},I=200;function y(he){var j,re,W,d,k,J,Le,Me,gt,nt,M,Z,ie,we,je,Xe,Mt,Ut,Gt,zt,_t,on,It,dn,bn;const pn=he.strict,wn=(j=he.code)===null||j===void 0?void 0:j.optimize,pe=wn===!0||wn===void 0?1:wn||0,ue=(W=(re=he.code)===null||re===void 0?void 0:re.regExp)!==null&&W!==void 0?W:U,Ce=(d=he.uriResolver)!==null&&d!==void 0?d:F.default;return{strictSchema:(J=(k=he.strictSchema)!==null&&k!==void 0?k:pn)!==null&&J!==void 0?J:!0,strictNumbers:(Me=(Le=he.strictNumbers)!==null&&Le!==void 0?Le:pn)!==null&&Me!==void 0?Me:!0,strictTypes:(nt=(gt=he.strictTypes)!==null&&gt!==void 0?gt:pn)!==null&&nt!==void 0?nt:"log",strictTuples:(Z=(M=he.strictTuples)!==null&&M!==void 0?M:pn)!==null&&Z!==void 0?Z:"log",strictRequired:(we=(ie=he.strictRequired)!==null&&ie!==void 0?ie:pn)!==null&&we!==void 0?we:!1,code:he.code?{...he.code,optimize:pe,regExp:ue}:{optimize:pe,regExp:ue},loopRequired:(je=he.loopRequired)!==null&&je!==void 0?je:I,loopEnum:(Xe=he.loopEnum)!==null&&Xe!==void 0?Xe:I,meta:(Mt=he.meta)!==null&&Mt!==void 0?Mt:!0,messages:(Ut=he.messages)!==null&&Ut!==void 0?Ut:!0,inlineRefs:(Gt=he.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(zt=he.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(_t=he.addUsedSchema)!==null&&_t!==void 0?_t:!0,validateSchema:(on=he.validateSchema)!==null&&on!==void 0?on:!0,validateFormats:(It=he.validateFormats)!==null&&It!==void 0?It:!0,unicodeRegExp:(dn=he.unicodeRegExp)!==null&&dn!==void 0?dn:!0,int32range:(bn=he.int32range)!==null&&bn!==void 0?bn:!0,uriResolver:Ce}}class C{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...y(j)};const{es5:re,lines:W}=this.opts.code;this.scope=new E.ValueScope({scope:{},prefixes:V,es5:re,lines:W}),this.logger=ce(j.logger);const d=j.validateFormats;j.validateFormats=!1,this.RULES=(0,w.getRules)(),N.call(this,f,j,"NOT SUPPORTED"),N.call(this,p,j,"DEPRECATED","warn"),this._metaOpts=te.call(this),j.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&H.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),b.call(this),j.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:re,schemaId:W}=this.opts;let d=S;W==="id"&&(d={...S},d.id=d.$id,delete d.$id),re&&j&&this.addMetaSchema(d,d[W],!1)}defaultMeta(){const{meta:j,schemaId:re}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[re]||j:void 0}validate(j,re){let W;if(typeof j=="string"){if(W=this.getSchema(j),!W)throw new Error(`no schema with key or ref "${j}"`)}else W=this.compile(j);const d=W(re);return"$async"in W||(this.errors=W.errors),d}compile(j,re){const W=this._addSchema(j,re);return W.validate||this._compileSchemaEnv(W)}compileAsync(j,re){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return d.call(this,j,re);async function d(nt,M){await k.call(this,nt.$schema);const Z=this._addSchema(nt,M);return Z.validate||J.call(this,Z)}async function k(nt){nt&&!this.getSchema(nt)&&await d.call(this,{$ref:nt},!0)}async function J(nt){try{return this._compileSchemaEnv(nt)}catch(M){if(!(M instanceof h.default))throw M;return Le.call(this,M),await Me.call(this,M.missingSchema),J.call(this,nt)}}function Le({missingSchema:nt,missingRef:M}){if(this.refs[nt])throw new Error(`AnySchema ${nt} is loaded but ${M} cannot be resolved`)}async function Me(nt){const M=await gt.call(this,nt);this.refs[nt]||await k.call(this,M.$schema),this.refs[nt]||this.addSchema(M,nt,re)}async function gt(nt){const M=this._loading[nt];if(M)return M;try{return await(this._loading[nt]=W(nt))}finally{delete this._loading[nt]}}}addSchema(j,re,W,d=this.opts.validateSchema){if(Array.isArray(j)){for(const J of j)this.addSchema(J,void 0,W,d);return this}let k;if(typeof j=="object"){const{schemaId:J}=this.opts;if(k=j[J],k!==void 0&&typeof k!="string")throw new Error(`schema ${J} must be string`)}return re=(0,c.normalizeId)(re||k),this._checkUnique(re),this.schemas[re]=this._addSchema(j,W,re,d,!0),this}addMetaSchema(j,re,W=this.opts.validateSchema){return this.addSchema(j,re,!0,W),this}validateSchema(j,re){if(typeof j=="boolean")return!0;let W;if(W=j.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(W,j);if(!d&&re){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return d}getSchema(j){let re;for(;typeof(re=R.call(this,j))=="string";)j=re;if(re===void 0){const{schemaId:W}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:W});if(re=i.resolveSchema.call(this,d,j),!re)return;this.refs[j]=re}return re.validate||this._compileSchemaEnv(re)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const re=R.call(this,j);return typeof re=="object"&&this._cache.delete(re.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const re=j;this._cache.delete(re);let W=j[this.opts.schemaId];return W&&(W=(0,c.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const re of j)this.addKeyword(re);return this}addKeyword(j,re){let W;if(typeof j=="string")W=j,typeof re=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),re.keyword=W);else if(typeof j=="object"&&re===void 0){if(re=j,W=re.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(De.call(this,W,re),!re)return(0,A.eachItem)(W,k=>et.call(this,k)),this;Et.call(this,re);const d={...re,type:(0,l.getJSONTypes)(re.type),schemaType:(0,l.getJSONTypes)(re.schemaType)};return(0,A.eachItem)(W,d.type.length===0?k=>et.call(this,k,d):k=>d.type.forEach(J=>et.call(this,k,d,J))),this}getKeyword(j){const re=this.RULES.all[j];return typeof re=="object"?re.definition:!!re}removeKeyword(j){const{RULES:re}=this;delete re.keywords[j],delete re.all[j];for(const W of re.rules){const d=W.rules.findIndex(k=>k.keyword===j);d>=0&&W.rules.splice(d,1)}return this}addFormat(j,re){return typeof re=="string"&&(re=new RegExp(re)),this.formats[j]=re,this}errorsText(j=this.errors,{separator:re=", ",dataVar:W="data"}={}){return!j||j.length===0?"No errors":j.map(d=>`${W}${d.instancePath} ${d.message}`).reduce((d,k)=>d+re+k)}$dataMetaSchema(j,re){const W=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const d of re){const k=d.split("/").slice(1);let J=j;for(const Le of k)J=J[Le];for(const Le in W){const Me=W[Le];if(typeof Me!="object")continue;const{$data:gt}=Me.definition,nt=J[Le];gt&&nt&&(J[Le]=dt(nt))}}return j}_removeAllSchemas(j,re){for(const W in j){const d=j[W];(!re||re.test(W))&&(typeof d=="string"?delete j[W]:d&&!d.meta&&(this._cache.delete(d.schema),delete j[W]))}}_addSchema(j,re,W,d=this.opts.validateSchema,k=this.opts.addUsedSchema){let J;const{schemaId:Le}=this.opts;if(typeof j=="object")J=j[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let Me=this._cache.get(j);if(Me!==void 0)return Me;W=(0,c.normalizeId)(J||W);const gt=c.getSchemaRefs.call(this,j,W);return Me=new i.SchemaEnv({schema:j,schemaId:Le,meta:re,baseId:W,localRefs:gt}),this._cache.set(Me.schema,Me),k&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=Me),d&&this.validateSchema(j,!0),Me}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):i.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const re=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,j)}finally{this.opts=re}}}r.default=C,C.ValidationError=T.default,C.MissingRefError=h.default;function N(he,j,re,W="error"){for(const d in he){const k=d;k in j&&this.logger[W](`${re}: option ${d}. ${he[k]}`)}}function R(he){return he=(0,c.normalizeId)(he),this.schemas[he]||this.refs[he]}function b(){const he=this.opts.schemas;if(!!he)if(Array.isArray(he))this.addSchema(he);else for(const j in he)this.addSchema(he[j],j)}function x(){for(const he in this.opts.formats){const j=this.opts.formats[he];j&&this.addFormat(he,j)}}function H(he){if(Array.isArray(he)){this.addVocabulary(he);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in he){const re=he[j];re.keyword||(re.keyword=j),this.addKeyword(re)}}function te(){const he={...this.opts};for(const j of B)delete he[j];return he}const oe={log(){},warn(){},error(){}};function ce(he){if(he===!1)return oe;if(he===void 0)return console;if(he.log&&he.warn&&he.error)return he;throw new Error("logger must implement log, warn and error methods")}const He=/^[a-z_$][a-z0-9_$:-]*$/i;function De(he,j){const{RULES:re}=this;if((0,A.eachItem)(he,W=>{if(re.keywords[W])throw new Error(`Keyword ${W} is already defined`);if(!He.test(W))throw new Error(`Keyword ${W} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function et(he,j,re){var W;const d=j==null?void 0:j.post;if(re&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let J=d?k.post:k.rules.find(({type:Me})=>Me===re);if(J||(J={type:re,rules:[]},k.rules.push(J)),k.keywords[he]=!0,!j)return;const Le={keyword:he,definition:{...j,type:(0,l.getJSONTypes)(j.type),schemaType:(0,l.getJSONTypes)(j.schemaType)}};j.before?lt.call(this,J,Le,j.before):J.rules.push(Le),k.all[he]=Le,(W=j.implements)===null||W===void 0||W.forEach(Me=>this.addKeyword(Me))}function lt(he,j,re){const W=he.rules.findIndex(d=>d.keyword===re);W>=0?he.rules.splice(W,0,j):(he.rules.push(j),this.logger.warn(`rule ${re} is not defined`))}function Et(he){let{metaSchema:j}=he;j!==void 0&&(he.$data&&this.opts.$data&&(j=dt(j)),he.validateSchema=this.compile(j,!0))}const Lt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function dt(he){return{anyOf:[he,Lt]}}},7073:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(69378);e.code='require("ajv/dist/runtime/equal").default',r.default=e},58485:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});function a(e){const t=e.length;let T=0,h=0,w;for(;h<t;)T++,w=e.charCodeAt(h++),w>=55296&&w<=56319&&h<t&&(w=e.charCodeAt(h),(w&64512)===56320&&h++);return T}r.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},69599:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(12854);e.code='require("ajv/dist/runtime/uri").default',r.default=e},45015:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});class a extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}r.default=a},44473:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const e=a(66684),t=a(72319),h={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:E,it:c}=i,{items:l}=E;if(!Array.isArray(l)){(0,t.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}w(i,l)}};function w(i,E){const{gen:c,schema:l,data:A,keyword:S,it:F}=i;F.items=!0;const U=c.const("len",(0,e._)`${A}.length`);if(l===!1)i.setParams({len:E.length}),i.pass((0,e._)`${U} <= ${E.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(F,l)){const V=c.var("valid",(0,e._)`${U} <= ${E.length}`);c.if((0,e.not)(V),()=>B(V)),i.ok(V)}function B(V){c.forRange("i",E.length,U,f=>{i.subschema({keyword:S,dataProp:f,dataPropType:t.Type.Num},V),F.allErrors||c.if((0,e.not)(V),()=>c.break())})}}r.validateAdditionalItems=w,r.default=h},63363:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(17221),t=a(66684),T=a(69495),h=a(72319),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:E})=>(0,t._)`{additionalProperty: ${E.additionalProperty}}`},code(E){const{gen:c,schema:l,parentSchema:A,data:S,errsCount:F,it:U}=E;if(!F)throw new Error("ajv implementation error");const{allErrors:B,opts:V}=U;if(U.props=!0,V.removeAdditional!=="all"&&(0,h.alwaysValidSchema)(U,l))return;const f=(0,e.allSchemaProperties)(A.properties),p=(0,e.allSchemaProperties)(A.patternProperties);I(),E.ok((0,t._)`${F} === ${T.default.errors}`);function I(){c.forIn("key",S,b=>{!f.length&&!p.length?N(b):c.if(y(b),()=>N(b))})}function y(b){let x;if(f.length>8){const H=(0,h.schemaRefOrVal)(U,A.properties,"properties");x=(0,e.isOwnProperty)(c,H,b)}else f.length?x=(0,t.or)(...f.map(H=>(0,t._)`${b} === ${H}`)):x=t.nil;return p.length&&(x=(0,t.or)(x,...p.map(H=>(0,t._)`${(0,e.usePattern)(E,H)}.test(${b})`))),(0,t.not)(x)}function C(b){c.code((0,t._)`delete ${S}[${b}]`)}function N(b){if(V.removeAdditional==="all"||V.removeAdditional&&l===!1){C(b);return}if(l===!1){E.setParams({additionalProperty:b}),E.error(),B||c.break();return}if(typeof l=="object"&&!(0,h.alwaysValidSchema)(U,l)){const x=c.name("valid");V.removeAdditional==="failing"?(R(b,x,!1),c.if((0,t.not)(x),()=>{E.reset(),C(b)})):(R(b,x),B||c.if((0,t.not)(x),()=>c.break()))}}function R(b,x,H){const te={keyword:"additionalProperties",dataProp:b,dataPropType:h.Type.Str};H===!1&&Object.assign(te,{compositeRule:!0,createErrors:!1,allErrors:!1}),E.subschema(te,x)}}};r.default=i},32836:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(72319),t={keyword:"allOf",schemaType:"array",code(T){const{gen:h,schema:w,it:i}=T;if(!Array.isArray(w))throw new Error("ajv implementation error");const E=h.name("valid");w.forEach((c,l)=>{if((0,e.alwaysValidSchema)(i,c))return;const A=T.subschema({keyword:"allOf",schemaProp:l},E);T.ok(E),T.mergeEvaluated(A)})}};r.default=t},30238:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(17221),t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e.validateUnion,error:{message:"must match a schema in anyOf"}};r.default=t},57553:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),h={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:w,max:i}})=>i===void 0?(0,e.str)`must contain at least ${w} valid item(s)`:(0,e.str)`must contain at least ${w} and no more than ${i} valid item(s)`,params:({params:{min:w,max:i}})=>i===void 0?(0,e._)`{minContains: ${w}}`:(0,e._)`{minContains: ${w}, maxContains: ${i}}`},code(w){const{gen:i,schema:E,parentSchema:c,data:l,it:A}=w;let S,F;const{minContains:U,maxContains:B}=c;A.opts.next?(S=U===void 0?1:U,F=B):S=1;const V=i.const("len",(0,e._)`${l}.length`);if(w.setParams({min:S,max:F}),F===void 0&&S===0){(0,t.checkStrictMode)(A,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(F!==void 0&&S>F){(0,t.checkStrictMode)(A,'"minContains" > "maxContains" is always invalid'),w.fail();return}if((0,t.alwaysValidSchema)(A,E)){let C=(0,e._)`${V} >= ${S}`;F!==void 0&&(C=(0,e._)`${C} && ${V} <= ${F}`),w.pass(C);return}A.items=!0;const f=i.name("valid");F===void 0&&S===1?I(f,()=>i.if(f,()=>i.break())):S===0?(i.let(f,!0),F!==void 0&&i.if((0,e._)`${l}.length > 0`,p)):(i.let(f,!1),p()),w.result(f,()=>w.reset());function p(){const C=i.name("_valid"),N=i.let("count",0);I(C,()=>i.if(C,()=>y(N)))}function I(C,N){i.forRange("i",0,V,R=>{w.subschema({keyword:"contains",dataProp:R,dataPropType:t.Type.Num,compositeRule:!0},C),N()})}function y(C){i.code((0,e._)`${C}++`),F===void 0?i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0).break()):(i.if((0,e._)`${C} > ${F}`,()=>i.assign(f,!1).break()),S===1?i.assign(f,!0):i.if((0,e._)`${C} >= ${S}`,()=>i.assign(f,!0)))}}};r.default=h},99787:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const e=a(66684),t=a(72319),T=a(17221);r.error={message:({params:{property:c,depsCount:l,deps:A}})=>{const S=l===1?"property":"properties";return(0,e.str)`must have ${S} ${A} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:A,missingProperty:S}})=>(0,e._)`{property: ${c},
    missingProperty: ${S},
    depsCount: ${l},
    deps: ${A}}`};const h={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(c){const[l,A]=w(c);i(c,l),E(c,A)}};function w({schema:c}){const l={},A={};for(const S in c){if(S==="__proto__")continue;const F=Array.isArray(c[S])?l:A;F[S]=c[S]}return[l,A]}function i(c,l=c.schema){const{gen:A,data:S,it:F}=c;if(Object.keys(l).length===0)return;const U=A.let("missing");for(const B in l){const V=l[B];if(V.length===0)continue;const f=(0,T.propertyInData)(A,S,B,F.opts.ownProperties);c.setParams({property:B,depsCount:V.length,deps:V.join(", ")}),F.allErrors?A.if(f,()=>{for(const p of V)(0,T.checkReportMissingProp)(c,p)}):(A.if((0,e._)`${f} && (${(0,T.checkMissingProp)(c,V,U)})`),(0,T.reportMissingProp)(c,U),A.else())}}r.validatePropertyDeps=i;function E(c,l=c.schema){const{gen:A,data:S,keyword:F,it:U}=c,B=A.name("valid");for(const V in l)(0,t.alwaysValidSchema)(U,l[V])||(A.if((0,T.propertyInData)(A,S,V,U.opts.ownProperties),()=>{const f=c.subschema({keyword:F,schemaProp:V},B);c.mergeValidEvaluated(f,B)},()=>A.var(B,!0)),c.ok(B))}r.validateSchemaDeps=E,r.default=h},14242:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),h={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:E,parentSchema:c,it:l}=i;c.then===void 0&&c.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const A=w(l,"then"),S=w(l,"else");if(!A&&!S)return;const F=E.let("valid",!0),U=E.name("_valid");if(B(),i.reset(),A&&S){const f=E.let("ifClause");i.setParams({ifClause:f}),E.if(U,V("then",f),V("else",f))}else A?E.if(U,V("then")):E.if((0,e.not)(U),V("else"));i.pass(F,()=>i.error(!0));function B(){const f=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},U);i.mergeEvaluated(f)}function V(f,p){return()=>{const I=i.subschema({keyword:f},U);E.assign(F,U),i.mergeValidEvaluated(I,F),p?E.assign(p,(0,e._)`${f}`):i.setParams({ifClause:f})}}}};function w(i,E){const c=i.schema[E];return c!==void 0&&!(0,t.alwaysValidSchema)(i,c)}r.default=h},43962:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(44473),t=a(58847),T=a(75782),h=a(16298),w=a(57553),i=a(99787),E=a(17271),c=a(63363),l=a(40226),A=a(8446),S=a(34964),F=a(30238),U=a(21249),B=a(32836),V=a(14242),f=a(7043);function p(I=!1){const y=[S.default,F.default,U.default,B.default,V.default,f.default,E.default,c.default,i.default,l.default,A.default];return I?y.push(t.default,h.default):y.push(e.default,T.default),y.push(w.default),y}r.default=p},75782:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const e=a(66684),t=a(72319),T=a(17221),h={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:E,it:c}=i;if(Array.isArray(E))return w(i,"additionalItems",E);c.items=!0,!(0,t.alwaysValidSchema)(c,E)&&i.ok((0,T.validateArray)(i))}};function w(i,E,c=i.schema){const{gen:l,parentSchema:A,data:S,keyword:F,it:U}=i;f(A),U.opts.unevaluated&&c.length&&U.items!==!0&&(U.items=t.mergeEvaluated.items(l,c.length,U.items));const B=l.name("valid"),V=l.const("len",(0,e._)`${S}.length`);c.forEach((p,I)=>{(0,t.alwaysValidSchema)(U,p)||(l.if((0,e._)`${V} > ${I}`,()=>i.subschema({keyword:F,schemaProp:I,dataProp:I},B)),i.ok(B))});function f(p){const{opts:I,errSchemaPath:y}=U,C=c.length,N=C===p.minItems&&(C===p.maxItems||p[E]===!1);if(I.strictTuples&&!N){const R=`"${F}" is ${C}-tuple, but minItems or maxItems/${E} are not specified or different at path "${y}"`;(0,t.checkStrictMode)(U,R,I.strictTuples)}}}r.validateTuple=w,r.default=h},16298:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),T=a(17221),h=a(44473),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:E}})=>(0,e.str)`must NOT have more than ${E} items`,params:({params:{len:E}})=>(0,e._)`{limit: ${E}}`},code(E){const{schema:c,parentSchema:l,it:A}=E,{prefixItems:S}=l;A.items=!0,!(0,t.alwaysValidSchema)(A,c)&&(S?(0,h.validateAdditionalItems)(E,S):E.ok((0,T.validateArray)(E)))}};r.default=i},34964:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(72319),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(T){const{gen:h,schema:w,it:i}=T;if((0,e.alwaysValidSchema)(i,w)){T.fail();return}const E=h.name("valid");T.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},E),T.failResult(E,()=>T.reset(),()=>T.error())},error:{message:"must NOT be valid"}};r.default=t},21249:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),h={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:w})=>(0,e._)`{passingSchemas: ${w.passing}}`},code(w){const{gen:i,schema:E,parentSchema:c,it:l}=w;if(!Array.isArray(E))throw new Error("ajv implementation error");if(l.opts.discriminator&&c.discriminator)return;const A=E,S=i.let("valid",!1),F=i.let("passing",null),U=i.name("_valid");w.setParams({passing:F}),i.block(B),w.result(S,()=>w.reset(),()=>w.error(!0));function B(){A.forEach((V,f)=>{let p;(0,t.alwaysValidSchema)(l,V)?i.var(U,!0):p=w.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},U),f>0&&i.if((0,e._)`${U} && ${S}`).assign(S,!1).assign(F,(0,e._)`[${F}, ${f}]`).else(),i.if(U,()=>{i.assign(S,!0),i.assign(F,f),p&&w.mergeEvaluated(p,e.Name)})})}}};r.default=h},8446:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(17221),t=a(66684),T=a(72319),h=a(72319),w={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,data:l,parentSchema:A,it:S}=i,{opts:F}=S,U=(0,e.allSchemaProperties)(c),B=U.filter(N=>(0,T.alwaysValidSchema)(S,c[N]));if(U.length===0||B.length===U.length&&(!S.opts.unevaluated||S.props===!0))return;const V=F.strictSchema&&!F.allowMatchingProperties&&A.properties,f=E.name("valid");S.props!==!0&&!(S.props instanceof t.Name)&&(S.props=(0,h.evaluatedPropsToName)(E,S.props));const{props:p}=S;I();function I(){for(const N of U)V&&y(N),S.allErrors?C(N):(E.var(f,!0),C(N),E.if(f))}function y(N){for(const R in V)new RegExp(N).test(R)&&(0,T.checkStrictMode)(S,`property ${R} matches pattern ${N} (use allowMatchingProperties)`)}function C(N){E.forIn("key",l,R=>{E.if((0,t._)`${(0,e.usePattern)(i,N)}.test(${R})`,()=>{const b=B.includes(N);b||i.subschema({keyword:"patternProperties",schemaProp:N,dataProp:R,dataPropType:h.Type.Str},f),S.opts.unevaluated&&p!==!0?E.assign((0,t._)`${p}[${R}]`,!0):!b&&!S.allErrors&&E.if((0,t.not)(f),()=>E.break())})})}}};r.default=w},58847:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(75782),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:T=>(0,e.validateTuple)(T,"items")};r.default=t},40226:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(4125),t=a(17221),T=a(72319),h=a(63363),w={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:E,schema:c,parentSchema:l,data:A,it:S}=i;S.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&h.default.code(new e.KeywordCxt(S,h.default,"additionalProperties"));const F=(0,t.allSchemaProperties)(c);for(const p of F)S.definedProperties.add(p);S.opts.unevaluated&&F.length&&S.props!==!0&&(S.props=T.mergeEvaluated.props(E,(0,T.toHash)(F),S.props));const U=F.filter(p=>!(0,T.alwaysValidSchema)(S,c[p]));if(U.length===0)return;const B=E.name("valid");for(const p of U)V(p)?f(p):(E.if((0,t.propertyInData)(E,A,p,S.opts.ownProperties)),f(p),S.allErrors||E.else().var(B,!0),E.endIf()),i.it.definedProperties.add(p),i.ok(B);function V(p){return S.opts.useDefaults&&!S.compositeRule&&c[p].default!==void 0}function f(p){i.subschema({keyword:"properties",schemaProp:p,dataProp:p},B)}}};r.default=w},17271:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),h={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:w})=>(0,e._)`{propertyName: ${w.propertyName}}`},code(w){const{gen:i,schema:E,data:c,it:l}=w;if((0,t.alwaysValidSchema)(l,E))return;const A=i.name("valid");i.forIn("key",c,S=>{w.setParams({propertyName:S}),w.subschema({keyword:"propertyNames",data:S,dataTypes:["string"],propertyName:S,compositeRule:!0},A),i.if((0,e.not)(A),()=>{w.error(!0),l.allErrors||i.break()})}),w.ok(A)}};r.default=h},7043:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(72319),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:T,parentSchema:h,it:w}){h.if===void 0&&(0,e.checkStrictMode)(w,`"${T}" without "if" is ignored`)}};r.default=t},17221:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const e=a(66684),t=a(72319),T=a(69495),h=a(72319);function w(y,C){const{gen:N,data:R,it:b}=y;N.if(S(N,R,C,b.opts.ownProperties),()=>{y.setParams({missingProperty:(0,e._)`${C}`},!0),y.error()})}r.checkReportMissingProp=w;function i({gen:y,data:C,it:{opts:N}},R,b){return(0,e.or)(...R.map(x=>(0,e.and)(S(y,C,x,N.ownProperties),(0,e._)`${b} = ${x}`)))}r.checkMissingProp=i;function E(y,C){y.setParams({missingProperty:C},!0),y.error()}r.reportMissingProp=E;function c(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}r.hasPropFunc=c;function l(y,C,N){return(0,e._)`${c(y)}.call(${C}, ${N})`}r.isOwnProperty=l;function A(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} !== undefined`;return R?(0,e._)`${b} && ${l(y,C,N)}`:b}r.propertyInData=A;function S(y,C,N,R){const b=(0,e._)`${C}${(0,e.getProperty)(N)} === undefined`;return R?(0,e.or)(b,(0,e.not)(l(y,C,N))):b}r.noPropertyInData=S;function F(y){return y?Object.keys(y).filter(C=>C!=="__proto__"):[]}r.allSchemaProperties=F;function U(y,C){return F(C).filter(N=>!(0,t.alwaysValidSchema)(y,C[N]))}r.schemaProperties=U;function B({schemaCode:y,data:C,it:{gen:N,topSchemaRef:R,schemaPath:b,errorPath:x},it:H},te,oe,ce){const He=ce?(0,e._)`${y}, ${C}, ${R}${b}`:C,De=[[T.default.instancePath,(0,e.strConcat)(T.default.instancePath,x)],[T.default.parentData,H.parentData],[T.default.parentDataProperty,H.parentDataProperty],[T.default.rootData,T.default.rootData]];H.opts.dynamicRef&&De.push([T.default.dynamicAnchors,T.default.dynamicAnchors]);const et=(0,e._)`${He}, ${N.object(...De)}`;return oe!==e.nil?(0,e._)`${te}.call(${oe}, ${et})`:(0,e._)`${te}(${et})`}r.callValidateCode=B;const V=(0,e._)`new RegExp`;function f({gen:y,it:{opts:C}},N){const R=C.unicodeRegExp?"u":"",{regExp:b}=C.code,x=b(N,R);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,e._)`${b.code==="new RegExp"?V:(0,h.useFunc)(y,b)}(${N}, ${R})`})}r.usePattern=f;function p(y){const{gen:C,data:N,keyword:R,it:b}=y,x=C.name("valid");if(b.allErrors){const te=C.let("valid",!0);return H(()=>C.assign(te,!1)),te}return C.var(x,!0),H(()=>C.break()),x;function H(te){const oe=C.const("len",(0,e._)`${N}.length`);C.forRange("i",0,oe,ce=>{y.subschema({keyword:R,dataProp:ce,dataPropType:t.Type.Num},x),C.if((0,e.not)(x),te)})}}r.validateArray=p;function I(y){const{gen:C,schema:N,keyword:R,it:b}=y;if(!Array.isArray(N))throw new Error("ajv implementation error");if(N.some(oe=>(0,t.alwaysValidSchema)(b,oe))&&!b.opts.unevaluated)return;const H=C.let("valid",!1),te=C.name("_valid");C.block(()=>N.forEach((oe,ce)=>{const He=y.subschema({keyword:R,schemaProp:ce,compositeRule:!0},te);C.assign(H,(0,e._)`${H} || ${te}`),y.mergeValidEvaluated(He,te)||C.if((0,e.not)(H))})),y.result(H,()=>y.reset(),()=>y.error(!0))}r.validateUnion=I},38024:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0});const a={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};r.default=a},88242:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(38024),t=a(98884),T=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];r.default=T},98884:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const e=a(64435),t=a(17221),T=a(66684),h=a(69495),w=a(9929),i=a(72319),E={keyword:"$ref",schemaType:"string",code(A){const{gen:S,schema:F,it:U}=A,{baseId:B,schemaEnv:V,validateName:f,opts:p,self:I}=U,{root:y}=V;if((F==="#"||F==="#/")&&B===y.baseId)return N();const C=w.resolveRef.call(I,y,B,F);if(C===void 0)throw new e.default(U.opts.uriResolver,B,F);if(C instanceof w.SchemaEnv)return R(C);return b(C);function N(){if(V===y)return l(A,f,V,V.$async);const x=S.scopeValue("root",{ref:y});return l(A,(0,T._)`${x}.validate`,y,y.$async)}function R(x){const H=c(A,x);l(A,H,x,x.$async)}function b(x){const H=S.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,T.stringify)(x)}:{ref:x}),te=S.name("valid"),oe=A.subschema({schema:x,dataTypes:[],schemaPath:T.nil,topSchemaRef:H,errSchemaPath:F},te);A.mergeEvaluated(oe),A.ok(te)}}};function c(A,S){const{gen:F}=A;return S.validate?F.scopeValue("validate",{ref:S.validate}):(0,T._)`${F.scopeValue("wrapper",{ref:S})}.validate`}r.getValidate=c;function l(A,S,F,U){const{gen:B,it:V}=A,{allErrors:f,schemaEnv:p,opts:I}=V,y=I.passContext?h.default.this:T.nil;U?C():N();function C(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=B.let("valid");B.try(()=>{B.code((0,T._)`await ${(0,t.callValidateCode)(A,S,y)}`),b(S),f||B.assign(x,!0)},H=>{B.if((0,T._)`!(${H} instanceof ${V.ValidationError})`,()=>B.throw(H)),R(H),f||B.assign(x,!1)}),A.ok(x)}function N(){A.result((0,t.callValidateCode)(A,S,y),()=>b(S),()=>R(S))}function R(x){const H=(0,T._)`${x}.errors`;B.assign(h.default.vErrors,(0,T._)`${h.default.vErrors} === null ? ${H} : ${h.default.vErrors}.concat(${H})`),B.assign(h.default.errors,(0,T._)`${h.default.vErrors}.length`)}function b(x){var H;if(!V.opts.unevaluated)return;const te=(H=F==null?void 0:F.validate)===null||H===void 0?void 0:H.evaluated;if(V.props!==!0)if(te&&!te.dynamicProps)te.props!==void 0&&(V.props=i.mergeEvaluated.props(B,te.props,V.props));else{const oe=B.var("props",(0,T._)`${x}.evaluated.props`);V.props=i.mergeEvaluated.props(B,oe,V.props,T.Name)}if(V.items!==!0)if(te&&!te.dynamicItems)te.items!==void 0&&(V.items=i.mergeEvaluated.items(B,te.items,V.items));else{const oe=B.var("items",(0,T._)`${x}.evaluated.items`);V.items=i.mergeEvaluated.items(B,oe,V.items,T.Name)}}}r.callRef=l,r.default=E},22226:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(3515),T=a(9929),h=a(72319),i={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:E,tagName:c}})=>E===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:E,tag:c,tagName:l}})=>(0,e._)`{error: ${E}, tag: ${l}, tagValue: ${c}}`},code(E){const{gen:c,data:l,schema:A,parentSchema:S,it:F}=E,{oneOf:U}=S;if(!F.opts.discriminator)throw new Error("discriminator: requires discriminator option");const B=A.propertyName;if(typeof B!="string")throw new Error("discriminator: requires propertyName");if(A.mapping)throw new Error("discriminator: mapping is not supported");if(!U)throw new Error("discriminator: requires oneOf keyword");const V=c.let("valid",!1),f=c.const("tag",(0,e._)`${l}${(0,e.getProperty)(B)}`);c.if((0,e._)`typeof ${f} == "string"`,()=>p(),()=>E.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:B})),E.ok(V);function p(){const C=y();c.if(!1);for(const N in C)c.elseIf((0,e._)`${f} === ${N}`),c.assign(V,I(C[N]));c.else(),E.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:B}),c.endIf()}function I(C){const N=c.name("valid"),R=E.subschema({keyword:"oneOf",schemaProp:C},N);return E.mergeEvaluated(R,e.Name),N}function y(){var C;const N={},R=x(S);let b=!0;for(let oe=0;oe<U.length;oe++){let ce=U[oe];(ce==null?void 0:ce.$ref)&&!(0,h.schemaHasRulesButRef)(ce,F.self.RULES)&&(ce=T.resolveRef.call(F.self,F.schemaEnv.root,F.baseId,ce==null?void 0:ce.$ref),ce instanceof T.SchemaEnv&&(ce=ce.schema));const He=(C=ce==null?void 0:ce.properties)===null||C===void 0?void 0:C[B];if(typeof He!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${B}"`);b=b&&(R||x(ce)),H(He,oe)}if(!b)throw new Error(`discriminator: "${B}" must be required`);return N;function x({required:oe}){return Array.isArray(oe)&&oe.includes(B)}function H(oe,ce){if(oe.const)te(oe.const,ce);else if(oe.enum)for(const He of oe.enum)te(He,ce);else throw new Error(`discriminator: "properties/${B}" must have "const" or "enum"`)}function te(oe,ce){if(typeof oe!="string"||oe in N)throw new Error(`discriminator: "${B}" values must be unique strings`);N[oe]=ce}}}};r.default=i},3515:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0;var a;(function(e){e.Tag="tag",e.Mapping="mapping"})(a=r.DiscrError||(r.DiscrError={}))},44792:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(88242),t=a(66773),T=a(43962),h=a(86417),w=a(92619),i=[e.default,t.default,(0,T.default)(),h.default,w.metadataVocabulary,w.contentVocabulary];r.default=i},21267:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),T={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must match format "${h}"`,params:({schemaCode:h})=>(0,e._)`{format: ${h}}`},code(h,w){const{gen:i,data:E,$data:c,schema:l,schemaCode:A,it:S}=h,{opts:F,errSchemaPath:U,schemaEnv:B,self:V}=S;if(!F.validateFormats)return;c?f():p();function f(){const I=i.scopeValue("formats",{ref:V.formats,code:F.code.formats}),y=i.const("fDef",(0,e._)`${I}[${A}]`),C=i.let("fType"),N=i.let("format");i.if((0,e._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>i.assign(C,(0,e._)`${y}.type || "string"`).assign(N,(0,e._)`${y}.validate`),()=>i.assign(C,(0,e._)`"string"`).assign(N,y)),h.fail$data((0,e.or)(R(),b()));function R(){return F.strictSchema===!1?e.nil:(0,e._)`${A} && !${N}`}function b(){const x=B.$async?(0,e._)`(${y}.async ? await ${N}(${E}) : ${N}(${E}))`:(0,e._)`${N}(${E})`,H=(0,e._)`(typeof ${N} == "function" ? ${x} : ${N}.test(${E}))`;return(0,e._)`${N} && ${N} !== true && ${C} === ${w} && !${H}`}}function p(){const I=V.formats[l];if(!I){R();return}if(I===!0)return;const[y,C,N]=b(I);y===w&&h.pass(x());function R(){if(F.strictSchema===!1){V.logger.warn(H());return}throw new Error(H());function H(){return`unknown format "${l}" ignored in schema at path "${U}"`}}function b(H){const te=H instanceof RegExp?(0,e.regexpCode)(H):F.code.formats?(0,e._)`${F.code.formats}${(0,e.getProperty)(l)}`:void 0,oe=i.scopeValue("formats",{key:l,ref:H,code:te});return typeof H=="object"&&!(H instanceof RegExp)?[H.type||"string",H.validate,(0,e._)`${oe}.validate`]:["string",H,oe]}function x(){if(typeof I=="object"&&!(I instanceof RegExp)&&I.async){if(!B.$async)throw new Error("async format in sync schema");return(0,e._)`await ${N}(${E})`}return typeof C=="function"?(0,e._)`${N}(${E})`:(0,e._)`${N}.test(${E})`}}}};r.default=T},86417:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const t=[a(21267).default];r.default=t},92619:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},20677:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),T=a(7073),w={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:E,data:c,$data:l,schemaCode:A,schema:S}=i;l||S&&typeof S=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(E,T.default)}(${c}, ${A})`):i.fail((0,e._)`${S} !== ${c}`)}};r.default=w},35384:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),T=a(7073),w={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:E,data:c,$data:l,schema:A,schemaCode:S,it:F}=i;if(!l&&A.length===0)throw new Error("enum must have non-empty array");const U=A.length>=F.opts.loopEnum;let B;const V=()=>B!=null?B:B=(0,t.useFunc)(E,T.default);let f;if(U||l)f=E.let("valid"),i.block$data(f,p);else{if(!Array.isArray(A))throw new Error("ajv implementation error");const y=E.const("vSchema",S);f=(0,e.or)(...A.map((C,N)=>I(y,N)))}i.pass(f);function p(){E.assign(f,!1),E.forOf("v",S,y=>E.if((0,e._)`${V()}(${c}, ${y})`,()=>E.assign(f,!0).break()))}function I(y,C){const N=A[C];return typeof N=="object"&&N!==null?(0,e._)`${V()}(${c}, ${y}[${C}])`:(0,e._)`${c} === ${N}`}}};r.default=w},66773:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(95079),t=a(26572),T=a(42787),h=a(23588),w=a(20149),i=a(55565),E=a(84269),c=a(23123),l=a(20677),A=a(35384),S=[e.default,t.default,T.default,h.default,w.default,i.default,E.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,A.default];r.default=S},84269:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),T={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} items`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxItems"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`${i}.length ${c} ${E}`)}};r.default=T},42787:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=a(72319),T=a(58485),w={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:E}){const c=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${E} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:E,data:c,schemaCode:l,it:A}=i,S=E==="maxLength"?e.operators.GT:e.operators.LT,F=A.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,t.useFunc)(i.gen,T.default)}(${c})`;i.fail$data((0,e._)`${F} ${S} ${l}`)}};r.default=w},95079:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),t=e.operators,T={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},h={message:({keyword:i,schemaCode:E})=>(0,e.str)`must be ${T[i].okStr} ${E}`,params:({keyword:i,schemaCode:E})=>(0,e._)`{comparison: ${T[i].okStr}, limit: ${E}}`},w={keyword:Object.keys(T),type:"number",schemaType:"number",$data:!0,error:h,code(i){const{keyword:E,data:c,schemaCode:l}=i;i.fail$data((0,e._)`${c} ${T[E].fail} ${l} || isNaN(${c})`)}};r.default=w},20149:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),T={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:w}){const i=h==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${w} properties`},params:({schemaCode:h})=>(0,e._)`{limit: ${h}}`},code(h){const{keyword:w,data:i,schemaCode:E}=h,c=w==="maxProperties"?e.operators.GT:e.operators.LT;h.fail$data((0,e._)`Object.keys(${i}).length ${c} ${E}`)}};r.default=T},26572:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(66684),T={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>(0,e.str)`must be multiple of ${h}`,params:({schemaCode:h})=>(0,e._)`{multipleOf: ${h}}`},code(h){const{gen:w,data:i,schemaCode:E,it:c}=h,l=c.opts.multipleOfPrecision,A=w.let("res"),S=l?(0,e._)`Math.abs(Math.round(${A}) - ${A}) > 1e-${l}`:(0,e._)`${A} !== parseInt(${A})`;h.fail$data((0,e._)`(${E} === 0 || (${A} = ${i}/${E}, ${S}))`)}};r.default=T},23588:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(17221),t=a(66684),h={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:w})=>(0,t.str)`must match pattern "${w}"`,params:({schemaCode:w})=>(0,t._)`{pattern: ${w}}`},code(w){const{data:i,$data:E,schema:c,schemaCode:l,it:A}=w,S=A.opts.unicodeRegExp?"u":"",F=E?(0,t._)`(new RegExp(${l}, ${S}))`:(0,e.usePattern)(w,c);w.fail$data((0,t._)`!${F}.test(${i})`)}};r.default=h},55565:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(17221),t=a(66684),T=a(72319),w={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:E,schema:c,schemaCode:l,data:A,$data:S,it:F}=i,{opts:U}=F;if(!S&&c.length===0)return;const B=c.length>=U.loopRequired;if(F.allErrors?V():f(),U.strictRequired){const y=i.parentSchema.properties,{definedProperties:C}=i.it;for(const N of c)if((y==null?void 0:y[N])===void 0&&!C.has(N)){const R=F.schemaEnv.baseId+F.errSchemaPath,b=`required property "${N}" is not defined at "${R}" (strictRequired)`;(0,T.checkStrictMode)(F,b,F.opts.strictRequired)}}function V(){if(B||S)i.block$data(t.nil,p);else for(const y of c)(0,e.checkReportMissingProp)(i,y)}function f(){const y=E.let("missing");if(B||S){const C=E.let("valid",!0);i.block$data(C,()=>I(y,C)),i.ok(C)}else E.if((0,e.checkMissingProp)(i,c,y)),(0,e.reportMissingProp)(i,y),E.else()}function p(){E.forOf("prop",l,y=>{i.setParams({missingProperty:y}),E.if((0,e.noPropertyInData)(E,A,y,U.ownProperties),()=>i.error())})}function I(y,C){i.setParams({missingProperty:y}),E.forOf(y,l,()=>{E.assign(C,(0,e.propertyInData)(E,A,y,U.ownProperties)),E.if((0,t.not)(C),()=>{i.error(),E.break()})},t.nil)}}};r.default=w},23123:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0});const e=a(538),t=a(66684),T=a(72319),h=a(7073),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:E,j:c}})=>(0,t.str)`must NOT have duplicate items (items ## ${c} and ${E} are identical)`,params:({params:{i:E,j:c}})=>(0,t._)`{i: ${E}, j: ${c}}`},code(E){const{gen:c,data:l,$data:A,schema:S,parentSchema:F,schemaCode:U,it:B}=E;if(!A&&!S)return;const V=c.let("valid"),f=F.items?(0,e.getSchemaTypes)(F.items):[];E.block$data(V,p,(0,t._)`${U} === false`),E.ok(V);function p(){const N=c.let("i",(0,t._)`${l}.length`),R=c.let("j");E.setParams({i:N,j:R}),c.assign(V,!0),c.if((0,t._)`${N} > 1`,()=>(I()?y:C)(N,R))}function I(){return f.length>0&&!f.some(N=>N==="object"||N==="array")}function y(N,R){const b=c.name("item"),x=(0,e.checkDataTypes)(f,b,B.opts.strictNumbers,e.DataType.Wrong),H=c.const("indices",(0,t._)`{}`);c.for((0,t._)`;${N}--;`,()=>{c.let(b,(0,t._)`${l}[${N}]`),c.if(x,(0,t._)`continue`),f.length>1&&c.if((0,t._)`typeof ${b} == "string"`,(0,t._)`${b} += "_"`),c.if((0,t._)`typeof ${H}[${b}] == "number"`,()=>{c.assign(R,(0,t._)`${H}[${b}]`),E.error(),c.assign(V,!1).break()}).code((0,t._)`${H}[${b}] = ${N}`)})}function C(N,R){const b=(0,T.useFunc)(c,h.default),x=c.name("outer");c.label(x).for((0,t._)`;${N}--;`,()=>c.for((0,t._)`${R} = ${N}; ${R}--;`,()=>c.if((0,t._)`${b}(${l}[${N}], ${l}[${R}])`,()=>{E.error(),c.assign(V,!1).break(x)})))}}};r.default=i},89211:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var T in t)t.hasOwnProperty(T)&&(e[T]=t[T]);return e}Se.exports=r.default},29340:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=T;var e=t(a(89211));function t(h){return h&&h.__esModule?h:{default:h}}function T(h){return(0,e.default)({},h)}Se.exports=r.default},44014:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}Se.exports=r.default},53185:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}Se.exports=r.default},98500:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=T(a(5912)),t=T(a(53185));function T(w){return w&&w.__esModule?w:{default:w}}function h(w,i){(0,t.default)(2,arguments);var E=(0,e.default)(w),c=(0,e.default)(i),l=E.getTime()-c.getTime();return l<0?-1:l>0?1:l}Se.exports=r.default},98736:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=T(a(5912)),t=T(a(53185));function T(w){return w&&w.__esModule?w:{default:w}}function h(w,i){(0,t.default)(2,arguments);var E=(0,e.default)(w),c=(0,e.default)(i),l=E.getFullYear()-c.getFullYear(),A=E.getMonth()-c.getMonth();return l*12+A}Se.exports=r.default},78512:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=T(a(5912)),t=T(a(53185));function T(w){return w&&w.__esModule?w:{default:w}}function h(w,i){(0,t.default)(2,arguments);var E=(0,e.default)(w),c=(0,e.default)(i);return E.getTime()-c.getTime()}Se.exports=r.default},61286:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=E;var e=i(a(5912)),t=i(a(98736)),T=i(a(98500)),h=i(a(53185)),w=i(a(98752));function i(c){return c&&c.__esModule?c:{default:c}}function E(c,l){(0,h.default)(2,arguments);var A=(0,e.default)(c),S=(0,e.default)(l),F=(0,T.default)(A,S),U=Math.abs((0,t.default)(A,S)),B;if(U<1)B=0;else{A.getMonth()===1&&A.getDate()>27&&A.setDate(30),A.setMonth(A.getMonth()-F*U);var V=(0,T.default)(A,S)===-F;(0,w.default)((0,e.default)(c))&&U===1&&(0,T.default)(c,S)===1&&(V=!1),B=F*(U-V)}return B===0?0:B}Se.exports=r.default},56279:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=T(a(78512)),t=T(a(53185));function T(w){return w&&w.__esModule?w:{default:w}}function h(w,i){(0,t.default)(2,arguments);var E=(0,e.default)(w,i)/1e3;return E>0?Math.floor(E):Math.ceil(E)}Se.exports=r.default},82774:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=T(a(5912)),t=T(a(53185));function T(w){return w&&w.__esModule?w:{default:w}}function h(w){(0,t.default)(1,arguments);var i=(0,e.default)(w);return i.setHours(23,59,59,999),i}Se.exports=r.default},6775:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=T(a(5912)),t=T(a(53185));function T(w){return w&&w.__esModule?w:{default:w}}function h(w){(0,t.default)(1,arguments);var i=(0,e.default)(w),E=i.getMonth();return i.setFullYear(i.getFullYear(),E+1,0),i.setHours(23,59,59,999),i}Se.exports=r.default},7647:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=B;var e=l(a(98500)),t=l(a(61286)),T=l(a(56279)),h=l(a(80514)),w=l(a(5912)),i=l(a(29340)),E=l(a(44014)),c=l(a(53185));function l(V){return V&&V.__esModule?V:{default:V}}var A=1440,S=2520,F=43200,U=86400;function B(V,f,p){(0,c.default)(2,arguments);var I=p||{},y=I.locale||h.default;if(!y.formatDistance)throw new RangeError("locale must contain formatDistance property");var C=(0,e.default)(V,f);if(isNaN(C))throw new RangeError("Invalid time value");var N=(0,i.default)(I);N.addSuffix=Boolean(I.addSuffix),N.comparison=C;var R,b;C>0?(R=(0,w.default)(f),b=(0,w.default)(V)):(R=(0,w.default)(V),b=(0,w.default)(f));var x=(0,T.default)(b,R),H=((0,E.default)(b)-(0,E.default)(R))/1e3,te=Math.round((x-H)/60),oe;if(te<2)return I.includeSeconds?x<5?y.formatDistance("lessThanXSeconds",5,N):x<10?y.formatDistance("lessThanXSeconds",10,N):x<20?y.formatDistance("lessThanXSeconds",20,N):x<40?y.formatDistance("halfAMinute",null,N):x<60?y.formatDistance("lessThanXMinutes",1,N):y.formatDistance("xMinutes",1,N):te===0?y.formatDistance("lessThanXMinutes",1,N):y.formatDistance("xMinutes",te,N);if(te<45)return y.formatDistance("xMinutes",te,N);if(te<90)return y.formatDistance("aboutXHours",1,N);if(te<A){var ce=Math.round(te/60);return y.formatDistance("aboutXHours",ce,N)}else{if(te<S)return y.formatDistance("xDays",1,N);if(te<F){var He=Math.round(te/A);return y.formatDistance("xDays",He,N)}else if(te<U)return oe=Math.round(te/F),y.formatDistance("aboutXMonths",oe,N)}if(oe=(0,t.default)(b,R),oe<12){var De=Math.round(te/F);return y.formatDistance("xMonths",De,N)}else{var et=oe%12,lt=Math.floor(oe/12);return et<3?y.formatDistance("aboutXYears",lt,N):et<9?y.formatDistance("overXYears",lt,N):y.formatDistance("almostXYears",lt+1,N)}}Se.exports=r.default},98752:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=w(a(5912)),t=w(a(82774)),T=w(a(6775)),h=w(a(53185));function w(E){return E&&E.__esModule?E:{default:E}}function i(E){(0,h.default)(1,arguments);var c=(0,e.default)(E);return(0,t.default)(c).getTime()===(0,T.default)(c).getTime()}Se.exports=r.default},24417:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(e){return function(t){var T=t||{},h=T.width?String(T.width):e.defaultWidth,w=e.formats[h]||e.formats[e.defaultWidth];return w}}Se.exports=r.default},96196:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(e){return function(t,T){var h=T||{},w=h.context?String(h.context):"standalone",i;if(w==="formatting"&&e.formattingValues){var E=e.defaultFormattingWidth||e.defaultWidth,c=h.width?String(h.width):E;i=e.formattingValues[c]||e.formattingValues[E]}else{var l=e.defaultWidth,A=h.width?String(h.width):e.defaultWidth;i=e.values[A]||e.values[l]}var S=e.argumentCallback?e.argumentCallback(t):t;return i[S]}}Se.exports=r.default},24361:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(T){return function(h,w){var i=String(h),E=w||{},c=E.width,l=c&&T.matchPatterns[c]||T.matchPatterns[T.defaultMatchWidth],A=i.match(l);if(!A)return null;var S=A[0],F=c&&T.parsePatterns[c]||T.parsePatterns[T.defaultParseWidth],U;return Object.prototype.toString.call(F)==="[object Array]"?U=t(F,function(B){return B.test(S)}):U=e(F,function(B){return B.test(S)}),U=T.valueCallback?T.valueCallback(U):U,U=E.valueCallback?E.valueCallback(U):U,{value:U,rest:i.slice(S.length)}}}function e(T,h){for(var w in T)if(T.hasOwnProperty(w)&&h(T[w]))return w}function t(T,h){for(var w=0;w<T.length;w++)if(h(T[w]))return w}Se.exports=r.default},87359:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(e){return function(t,T){var h=String(t),w=T||{},i=h.match(e.matchPattern);if(!i)return null;var E=i[0],c=h.match(e.parsePattern);if(!c)return null;var l=e.valueCallback?e.valueCallback(c[0]):c[0];return l=w.valueCallback?w.valueCallback(l):l,{value:l,rest:h.slice(E.length)}}}Se.exports=r.default},50488:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;var a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function e(t,T,h){h=h||{};var w;return typeof a[t]=="string"?w=a[t]:T===1?w=a[t].one:w=a[t].other.replace("{{count}}",T),h.addSuffix?h.comparison>0?"in "+w:w+" ago":w}Se.exports=r.default},1058:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(a(24417));function t(c){return c&&c.__esModule?c:{default:c}}var T={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i={date:(0,e.default)({formats:T,defaultWidth:"full"}),time:(0,e.default)({formats:h,defaultWidth:"full"}),dateTime:(0,e.default)({formats:w,defaultWidth:"full"})},E=i;r.default=E,Se.exports=r.default},38747:function(Se,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;var a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function e(t,T,h,w){return a[t]}Se.exports=r.default},43615:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(a(96196));function t(F){return F&&F.__esModule?F:{default:F}}var T={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function l(F,U){var B=Number(F),V=B%100;if(V>20||V<10)switch(V%10){case 1:return B+"st";case 2:return B+"nd";case 3:return B+"rd"}return B+"th"}var A={ordinalNumber:l,era:(0,e.default)({values:T,defaultWidth:"wide"}),quarter:(0,e.default)({values:h,defaultWidth:"wide",argumentCallback:function(F){return Number(F)-1}}),month:(0,e.default)({values:w,defaultWidth:"wide"}),day:(0,e.default)({values:i,defaultWidth:"wide"}),dayPeriod:(0,e.default)({values:E,defaultWidth:"wide",formattingValues:c,defaultFormattingWidth:"wide"})},S=A;r.default=S,Se.exports=r.default},847:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=T(a(87359)),t=T(a(24361));function T(I){return I&&I.__esModule?I:{default:I}}var h=/^(\d+)(th|st|nd|rd)?/i,w=/\d+/i,i={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E={any:[/^b/i,/^(a|c)/i]},c={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l={any:[/1/i,/2/i,/3/i,/4/i]},A={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},S={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},f={ordinalNumber:(0,e.default)({matchPattern:h,parsePattern:w,valueCallback:function(I){return parseInt(I,10)}}),era:(0,t.default)({matchPatterns:i,defaultMatchWidth:"wide",parsePatterns:E,defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:c,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any",valueCallback:function(I){return I+1}}),month:(0,t.default)({matchPatterns:A,defaultMatchWidth:"wide",parsePatterns:S,defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:F,defaultMatchWidth:"wide",parsePatterns:U,defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:B,defaultMatchWidth:"any",parsePatterns:V,defaultParseWidth:"any"})},p=f;r.default=p,Se.exports=r.default},80514:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=i(a(50488)),t=i(a(1058)),T=i(a(38747)),h=i(a(43615)),w=i(a(847));function i(l){return l&&l.__esModule?l:{default:l}}var E={code:"en-US",formatDistance:e.default,formatLong:t.default,formatRelative:T.default,localize:h.default,match:w.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},c=E;r.default=c,Se.exports=r.default},5912:function(Se,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=T;var e=t(a(53185));function t(h){return h&&h.__esModule?h:{default:h}}function T(h){(0,e.default)(1,arguments);var w=Object.prototype.toString.call(h);return h instanceof Date||typeof h=="object"&&w==="[object Date]"?new Date(h.getTime()):typeof h=="number"||w==="[object Number]"?new Date(h):((typeof h=="string"||w==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}Se.exports=r.default},45190:function(Se){Se.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},83640:function(Se){Se.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},35682:function(Se){Se.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},35624:function(Se){Se.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},24297:function(Se){Se.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},23536:function(Se){Se.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},84257:function(Se){Se.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},53051:function(Se){Se.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);})();

//# sourceMappingURL=module-roadiehq.d61e3640.js.map