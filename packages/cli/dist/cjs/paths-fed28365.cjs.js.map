{"version":3,"file":"paths-fed28365.cjs.js","sources":["../../src/lib/bundler/optimization.ts","../../src/lib/bundler/transforms.ts","../../src/lib/bundler/LinkedPackageResolvePlugin.ts","../../src/lib/bundler/config.ts","../../src/lib/bundler/paths.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WebpackOptionsNormalized } from 'webpack';\nimport { BundlingOptions } from './types';\n\nconst { ESBuildMinifyPlugin } = require('esbuild-loader');\n\nexport const optimization = (\n  options: BundlingOptions,\n): WebpackOptionsNormalized['optimization'] => {\n  const { isDev } = options;\n\n  return {\n    minimize: !isDev,\n    minimizer: [\n      new ESBuildMinifyPlugin({\n        target: 'es2019',\n        format: 'iife',\n      }),\n    ],\n    runtimeChunk: 'single',\n    splitChunks: {\n      automaticNameDelimiter: '-',\n      cacheGroups: {\n        default: false,\n        // Put all vendor code needed for initial page load in individual files if they're big\n        // enough, if they're smaller they end up in the main\n        packages: {\n          chunks: 'initial',\n          test(module: any) {\n            return Boolean(\n              module?.resource?.match(/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/),\n            );\n          },\n          name(module: any) {\n            // get the name. E.g. node_modules/packageName/not/this/part.js\n            // or node_modules/packageName\n            const packageName = module.resource.match(\n              /[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/,\n            )[1];\n\n            // npm package names are URL-safe, but some servers don't like @ symbols\n            return packageName.replace('@', '');\n          },\n          filename: isDev\n            ? 'module-[name].js'\n            : 'static/module-[name].[chunkhash:8].js',\n          priority: 10,\n          minSize: 100000,\n          minChunks: 1,\n          maxAsyncRequests: Infinity,\n          maxInitialRequests: Infinity,\n        } as any, // filename is not included in type, but we need it\n        // Group together the smallest modules\n        vendor: {\n          chunks: 'initial',\n          test: /[\\\\/]node_modules[\\\\/]/,\n          name: 'vendor',\n          priority: 5,\n          enforce: true,\n        },\n      },\n    },\n  };\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport webpack, { ModuleOptions, WebpackPluginInstance } from 'webpack';\nimport MiniCssExtractPlugin from 'mini-css-extract-plugin';\nimport { svgrTemplate } from '../svgrTemplate';\n\ntype Transforms = {\n  loaders: ModuleOptions['rules'];\n  plugins: WebpackPluginInstance[];\n};\n\ntype TransformOptions = {\n  isDev: boolean;\n  isBackend?: boolean;\n};\n\nexport const transforms = (options: TransformOptions): Transforms => {\n  const { isDev, isBackend } = options;\n\n  const extraTransforms = isDev && !isBackend ? ['react-hot-loader'] : [];\n\n  // This ensures that styles inserted from the style-loader and any\n  // async style chunks are always given lower priority than JSS styles.\n  // Note that this function is stringified and executed in the browser\n  // after transpilation, so stick to simple syntax\n  function insertBeforeJssStyles(element: any) {\n    const head = document.head;\n    // This makes sure that any style elements we insert get put before the\n    // dynamic styles from JSS, such as the ones from `makeStyles()`.\n    // TODO(Rugvip): This will likely break in material-ui v5, keep an eye on it.\n    const firstJssNode = head.querySelector('style[data-jss]');\n    if (!firstJssNode) {\n      head.appendChild(element);\n    } else {\n      head.insertBefore(element, firstJssNode);\n    }\n  }\n\n  const loaders = [\n    {\n      test: /\\.(tsx?)$/,\n      exclude: /node_modules/,\n      loader: require.resolve('@sucrase/webpack-loader'),\n      options: {\n        transforms: ['typescript', 'jsx', ...extraTransforms],\n        disableESTransforms: true,\n        production: !isDev,\n      },\n    },\n    {\n      test: /\\.(jsx?|mjs|cjs)$/,\n      exclude: /node_modules/,\n      loader: require.resolve('@sucrase/webpack-loader'),\n      options: {\n        transforms: ['jsx', ...extraTransforms],\n        disableESTransforms: true,\n        production: !isDev,\n      },\n    },\n    {\n      test: /\\.(js|mjs|cjs)/,\n      resolve: {\n        fullySpecified: false,\n      },\n    },\n    {\n      test: [/\\.icon\\.svg$/],\n      use: [\n        {\n          loader: require.resolve('@sucrase/webpack-loader'),\n          options: {\n            transforms: ['jsx', ...extraTransforms],\n            disableESTransforms: true,\n            production: !isDev,\n          },\n        },\n        {\n          loader: require.resolve('@svgr/webpack'),\n          options: { babel: false, template: svgrTemplate },\n        },\n      ],\n    },\n    {\n      test: [\n        /\\.bmp$/,\n        /\\.gif$/,\n        /\\.jpe?g$/,\n        /\\.png$/,\n        /\\.frag/,\n        { and: [/\\.svg/, { not: [/\\.icon\\.svg/] }] },\n        /\\.xml/,\n      ],\n      type: 'asset/resource',\n      generator: {\n        filename: 'static/[name].[hash:8].[ext]',\n      },\n    },\n    {\n      test: /\\.(eot|woff|woff2|ttf)$/i,\n      type: 'asset/resource',\n      generator: {\n        filename: 'static/[name].[hash][ext][query]',\n      },\n    },\n    {\n      test: /\\.ya?ml$/,\n      use: require.resolve('yml-loader'),\n    },\n    {\n      include: /\\.(md)$/,\n      type: 'asset/resource',\n      generator: {\n        filename: 'static/[name].[hash][ext][query]',\n      },\n    },\n    {\n      test: /\\.css$/i,\n      use: [\n        isDev\n          ? {\n              loader: require.resolve('style-loader'),\n              options: {\n                insert: insertBeforeJssStyles,\n              },\n            }\n          : MiniCssExtractPlugin.loader,\n        {\n          loader: require.resolve('css-loader'),\n          options: {\n            sourceMap: true,\n          },\n        },\n      ],\n    },\n  ];\n\n  const plugins = new Array<WebpackPluginInstance>();\n\n  if (isDev) {\n    plugins.push(new webpack.HotModuleReplacementPlugin());\n  } else {\n    plugins.push(\n      new MiniCssExtractPlugin({\n        filename: 'static/[name].[contenthash:8].css',\n        chunkFilename: 'static/[name].[id].[contenthash:8].css',\n        insert: insertBeforeJssStyles, // Only applies to async chunks\n      }),\n    );\n  }\n\n  return { loaders, plugins };\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { resolve as resolvePath } from 'path';\nimport { WebpackPluginInstance } from 'webpack';\nimport { isChildPath } from '@backstage/cli-common';\nimport { Package } from '@manypkg/get-packages';\n\n// Enables proper resolution of packages when linking in external packages.\n// Without this the packages would depend on dependencies in the node_modules\n// of the external packages themselves, leading to module duplication\nexport class LinkedPackageResolvePlugin implements WebpackPluginInstance {\n  constructor(\n    private readonly targetModules: string,\n    private readonly packages: Package[],\n  ) {}\n\n  apply(resolver: any) {\n    resolver.hooks.resolve.tapAsync(\n      'LinkedPackageResolvePlugin',\n      (\n        data: {\n          request: string;\n          path?: false | string;\n          context?: { issuer?: string };\n        },\n        context: unknown,\n        callback: () => void,\n      ) => {\n        const pkg = this.packages.find(\n          pkge => data.path && isChildPath(pkge.dir, data.path),\n        );\n        if (!pkg) {\n          callback();\n          return;\n        }\n\n        // pkg here is an external package. We rewrite the context of any imports to resolve\n        // from the location of the package within the node_modules of the target root rather\n        // than the real location of the external package.\n        const modulesLocation = resolvePath(\n          this.targetModules,\n          pkg.packageJson.name,\n        );\n        const newContext = data.context?.issuer\n          ? {\n              ...data.context,\n              issuer: data.context.issuer.replace(pkg.dir, modulesLocation),\n            }\n          : data.context;\n\n        // Re-run resolution but this time from the point of view of our target monorepo rather\n        // than the location of the external package. By resolving modules using this method we avoid\n        // pulling in e.g. `react` from the external repo, which would otherwise lead to conflicts.\n        resolver.doResolve(\n          resolver.hooks.resolve,\n          {\n            ...data,\n            context: newContext,\n            path: data.path && data.path.replace(pkg.dir, modulesLocation),\n          },\n          `resolve ${data.request} in ${modulesLocation}`,\n          context,\n          callback,\n        );\n      },\n    );\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport fs from 'fs-extra';\nimport { resolve as resolvePath } from 'path';\nimport ForkTsCheckerWebpackPlugin from 'fork-ts-checker-webpack-plugin';\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport ModuleScopePlugin from 'react-dev-utils/ModuleScopePlugin';\nimport { RunScriptWebpackPlugin } from 'run-script-webpack-plugin';\nimport webpack, { ProvidePlugin } from 'webpack';\nimport nodeExternals from 'webpack-node-externals';\nimport { isChildPath } from '@backstage/cli-common';\nimport { getPackages } from '@manypkg/get-packages';\nimport { optimization } from './optimization';\nimport { Config } from '@backstage/config';\nimport { BundlingPaths } from './paths';\nimport { transforms } from './transforms';\nimport { LinkedPackageResolvePlugin } from './LinkedPackageResolvePlugin';\nimport { BundlingOptions, BackendBundlingOptions } from './types';\nimport { version } from '../../lib/version';\nimport { paths as cliPaths } from '../../lib/paths';\nimport { runPlain } from '../run';\nimport ESLintPlugin from 'eslint-webpack-plugin';\nimport pickBy from 'lodash/pickBy';\n\nexport function resolveBaseUrl(config: Config): URL {\n  const baseUrl = config.getString('app.baseUrl');\n  try {\n    return new URL(baseUrl);\n  } catch (error) {\n    throw new Error(`Invalid app.baseUrl, ${error}`);\n  }\n}\n\nasync function readBuildInfo() {\n  const timestamp = Date.now();\n\n  let commit = 'unknown';\n  try {\n    commit = await runPlain('git', 'rev-parse', 'HEAD');\n  } catch (error) {\n    console.warn(`WARNING: Failed to read git commit, ${error}`);\n  }\n\n  let gitVersion = 'unknown';\n  try {\n    gitVersion = await runPlain('git', 'describe', '--always');\n  } catch (error) {\n    console.warn(`WARNING: Failed to describe git version, ${error}`);\n  }\n\n  const { version: packageVersion } = await fs.readJson(\n    cliPaths.resolveTarget('package.json'),\n  );\n\n  return {\n    cliVersion: version,\n    gitVersion,\n    packageVersion,\n    timestamp,\n    commit,\n  };\n}\n\nexport async function createConfig(\n  paths: BundlingPaths,\n  options: BundlingOptions,\n): Promise<webpack.Configuration> {\n  const { checksEnabled, isDev, frontendConfig } = options;\n\n  const { plugins, loaders } = transforms(options);\n  // Any package that is part of the monorepo but outside the monorepo root dir need\n  // separate resolution logic.\n  const { packages } = await getPackages(cliPaths.targetDir);\n  const externalPkgs = packages.filter(p => !isChildPath(paths.root, p.dir));\n\n  const baseUrl = frontendConfig.getString('app.baseUrl');\n  const validBaseUrl = new URL(baseUrl);\n  const publicPath = validBaseUrl.pathname.replace(/\\/$/, '');\n  if (checksEnabled) {\n    plugins.push(\n      new ForkTsCheckerWebpackPlugin({\n        typescript: { configFile: paths.targetTsConfig, memoryLimit: 4096 },\n      }),\n      new ESLintPlugin({\n        context: paths.targetPath,\n        files: ['**', '!**/__tests__/**', '!**/?(*.)(spec|test).*'],\n      }),\n    );\n  }\n\n  // TODO(blam): process is no longer auto polyfilled by webpack in v5.\n  // we use the provide plugin to provide this polyfill, but lets look\n  // to remove this eventually!\n  plugins.push(\n    new ProvidePlugin({\n      process: 'process/browser',\n      Buffer: ['buffer', 'Buffer'],\n    }),\n  );\n\n  plugins.push(\n    new webpack.EnvironmentPlugin({\n      APP_CONFIG: options.frontendAppConfigs,\n    }),\n  );\n\n  plugins.push(\n    new HtmlWebpackPlugin({\n      template: paths.targetHtml,\n      templateParameters: {\n        publicPath,\n        config: frontendConfig,\n      },\n    }),\n  );\n\n  const buildInfo = await readBuildInfo();\n  plugins.push(\n    new webpack.DefinePlugin({\n      'process.env.BUILD_INFO': JSON.stringify(buildInfo),\n    }),\n  );\n\n  // Detect and use the appropriate react-dom hot-loader patch based on what\n  // version of React is used within the target repo.\n  const resolveAliases: Record<string, string> = {};\n  try {\n    // eslint-disable-next-line import/no-extraneous-dependencies\n    const { version: reactDomVersion } = require('react-dom/package.json');\n    if (reactDomVersion.startsWith('16.')) {\n      resolveAliases['react-dom'] = '@hot-loader/react-dom-v16';\n    } else {\n      resolveAliases['react-dom'] = '@hot-loader/react-dom-v17';\n    }\n  } catch (error) {\n    console.warn(`WARNING: Failed to read react-dom version, ${error}`);\n  }\n\n  return {\n    mode: isDev ? 'development' : 'production',\n    profile: false,\n    optimization: optimization(options),\n    bail: false,\n    performance: {\n      hints: false, // we check the gzip size instead\n    },\n    devtool: isDev ? 'eval-cheap-module-source-map' : 'source-map',\n    context: paths.targetPath,\n    entry: [require.resolve('react-hot-loader/patch'), paths.targetEntry],\n    resolve: {\n      extensions: ['.ts', '.tsx', '.mjs', '.js', '.jsx'],\n      mainFields: ['browser', 'module', 'main'],\n      fallback: {\n        ...pickBy(require('node-libs-browser')),\n        module: false,\n        dgram: false,\n        dns: false,\n        fs: false,\n        http2: false,\n        net: false,\n        tls: false,\n        child_process: false,\n\n        /* new ignores */\n        path: false,\n        https: false,\n        http: false,\n        util: require.resolve('util/'),\n      },\n      plugins: [\n        new LinkedPackageResolvePlugin(paths.rootNodeModules, externalPkgs),\n        new ModuleScopePlugin(\n          [paths.targetSrc, paths.targetDev],\n          [paths.targetPackageJson],\n        ),\n      ],\n      alias: resolveAliases,\n    },\n    module: {\n      rules: loaders,\n    },\n    output: {\n      path: paths.targetDist,\n      publicPath: `${publicPath}/`,\n      filename: isDev ? '[name].js' : 'static/[name].[fullhash:8].js',\n      chunkFilename: isDev\n        ? '[name].chunk.js'\n        : 'static/[name].[chunkhash:8].chunk.js',\n      ...(isDev\n        ? {\n            devtoolModuleFilenameTemplate: (info: any) =>\n              `file:///${resolvePath(info.absoluteResourcePath).replace(\n                /\\\\/g,\n                '/',\n              )}`,\n          }\n        : {}),\n    },\n    plugins,\n  };\n}\n\nexport async function createBackendConfig(\n  paths: BundlingPaths,\n  options: BackendBundlingOptions,\n): Promise<webpack.Configuration> {\n  const { checksEnabled, isDev } = options;\n\n  // Find all local monorepo packages and their node_modules, and mark them as external.\n  const { packages } = await getPackages(cliPaths.targetDir);\n  const localPackageNames = packages.map(p => p.packageJson.name);\n  const moduleDirs = packages.map(p => resolvePath(p.dir, 'node_modules'));\n  // See frontend config\n  const externalPkgs = packages.filter(p => !isChildPath(paths.root, p.dir));\n\n  const { loaders } = transforms({ ...options, isBackend: true });\n\n  const runScriptNodeArgs = new Array<string>();\n  if (options.inspectEnabled) {\n    runScriptNodeArgs.push('--inspect');\n  } else if (options.inspectBrkEnabled) {\n    runScriptNodeArgs.push('--inspect-brk');\n  }\n\n  return {\n    mode: isDev ? 'development' : 'production',\n    profile: false,\n    ...(isDev\n      ? {\n          watch: true,\n          watchOptions: {\n            ignored: /node_modules\\/(?!\\@backstage)/,\n          },\n        }\n      : {}),\n    externals: [\n      nodeExternalsWithResolve({\n        modulesDir: paths.rootNodeModules,\n        additionalModuleDirs: moduleDirs,\n        allowlist: ['webpack/hot/poll?100', ...localPackageNames],\n      }),\n    ],\n    target: 'node' as const,\n    node: {\n      /* eslint-disable-next-line no-restricted-syntax */\n      __dirname: true,\n      __filename: true,\n      global: true,\n    },\n    bail: false,\n    performance: {\n      hints: false, // we check the gzip size instead\n    },\n    devtool: isDev ? 'eval-cheap-module-source-map' : 'source-map',\n    context: paths.targetPath,\n    entry: [\n      'webpack/hot/poll?100',\n      paths.targetRunFile ? paths.targetRunFile : paths.targetEntry,\n    ],\n    resolve: {\n      extensions: ['.ts', '.tsx', '.mjs', '.js', '.jsx'],\n      mainFields: ['main'],\n      modules: [paths.rootNodeModules, ...moduleDirs],\n      plugins: [\n        new LinkedPackageResolvePlugin(paths.rootNodeModules, externalPkgs),\n        new ModuleScopePlugin(\n          [paths.targetSrc, paths.targetDev],\n          [paths.targetPackageJson],\n        ),\n      ],\n      alias: {\n        'react-dom': '@hot-loader/react-dom',\n      },\n    },\n    module: {\n      rules: loaders,\n    },\n    output: {\n      path: paths.targetDist,\n      filename: isDev ? '[name].js' : '[name].[hash:8].js',\n      chunkFilename: isDev\n        ? '[name].chunk.js'\n        : '[name].[chunkhash:8].chunk.js',\n      ...(isDev\n        ? {\n            devtoolModuleFilenameTemplate: (info: any) =>\n              `file:///${resolvePath(info.absoluteResourcePath).replace(\n                /\\\\/g,\n                '/',\n              )}`,\n          }\n        : {}),\n    },\n    plugins: [\n      new RunScriptWebpackPlugin({\n        name: 'main.js',\n        nodeArgs: runScriptNodeArgs.length > 0 ? runScriptNodeArgs : undefined,\n        args: process.argv.slice(3), // drop `node backstage-cli backend:dev`\n      }),\n      new webpack.HotModuleReplacementPlugin(),\n      ...(checksEnabled\n        ? [\n            new ForkTsCheckerWebpackPlugin({\n              typescript: { configFile: paths.targetTsConfig },\n            }),\n            new ESLintPlugin({\n              files: ['**', '!**/__tests__/**', '!**/?(*.)(spec|test).*'],\n            }),\n          ]\n        : []),\n    ],\n  };\n}\n\n// This makes the module resolution happen from the context of each non-external module, rather\n// than the main entrypoint. This fixes a bug where dependencies would be resolved from the backend\n// package rather than each individual backend package and plugin.\n//\n// TODO(Rugvip): Feature suggestion/contribute this to webpack-externals\nfunction nodeExternalsWithResolve(\n  options: Parameters<typeof nodeExternals>[0],\n) {\n  let currentContext: string;\n  const externals = nodeExternals({\n    ...options,\n    importType(request) {\n      const resolved = require.resolve(request, {\n        paths: [currentContext],\n      });\n      return `commonjs ${resolved}`;\n    },\n  });\n\n  return (\n    { context, request }: { context?: string; request?: string },\n    callback: any,\n  ) => {\n    currentContext = context!;\n    return externals(context, request, callback);\n  };\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport fs from 'fs-extra';\nimport { resolve as resolvePath } from 'path';\nimport { paths } from '../paths';\n\nexport type BundlingPathsOptions = {\n  // bundle entrypoint, e.g. 'src/index'\n  entry: string;\n  // Target directory, defaulting to paths.targetDir\n  targetDir?: string;\n};\n\nexport function resolveBundlingPaths(options: BundlingPathsOptions) {\n  const { entry, targetDir = paths.targetDir } = options;\n\n  const resolveTargetModule = (pathString: string) => {\n    for (const ext of ['mjs', 'js', 'ts', 'tsx', 'jsx']) {\n      const filePath = resolvePath(targetDir, `${pathString}.${ext}`);\n      if (fs.pathExistsSync(filePath)) {\n        return filePath;\n      }\n    }\n    return resolvePath(targetDir, `${pathString}.js`);\n  };\n\n  let targetPublic = undefined;\n  let targetHtml = resolvePath(targetDir, 'public/index.html');\n\n  // Prefer public folder\n  if (fs.pathExistsSync(targetHtml)) {\n    targetPublic = resolvePath(targetDir, 'public');\n  } else {\n    targetHtml = resolvePath(targetDir, `${entry}.html`);\n    if (!fs.pathExistsSync(targetHtml)) {\n      targetHtml = paths.resolveOwn('templates/serve_index.html');\n    }\n  }\n\n  // Backend plugin dev run file\n  const targetRunFile = resolvePath(targetDir, 'src/run.ts');\n  const runFileExists = fs.pathExistsSync(targetRunFile);\n\n  return {\n    targetHtml,\n    targetPublic,\n    targetPath: resolvePath(targetDir, '.'),\n    targetRunFile: runFileExists ? targetRunFile : undefined,\n    targetDist: resolvePath(targetDir, 'dist'),\n    targetAssets: resolvePath(targetDir, 'assets'),\n    targetSrc: resolvePath(targetDir, 'src'),\n    targetDev: resolvePath(targetDir, 'dev'),\n    targetEntry: resolveTargetModule(entry),\n    targetTsConfig: paths.resolveTargetRoot('tsconfig.json'),\n    targetPackageJson: resolvePath(targetDir, 'package.json'),\n    rootNodeModules: paths.resolveTargetRoot('node_modules'),\n    root: paths.targetRoot,\n  };\n}\n\nexport type BundlingPaths = ReturnType<typeof resolveBundlingPaths>;\n"],"names":["svgrTemplate","MiniCssExtractPlugin","webpack","isChildPath","resolvePath","runPlain","fs","cliPaths","version","getPackages","ForkTsCheckerWebpackPlugin","ESLintPlugin","ProvidePlugin","HtmlWebpackPlugin","pickBy","ModuleScopePlugin","RunScriptWebpackPlugin","nodeExternals","paths"],"mappings":"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"}